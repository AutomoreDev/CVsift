function Bz(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Av={exports:{}},bh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sA;function Fz(){if(sA)return bh;sA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,s){var c=null;if(s!==void 0&&(c=""+s),a.key!==void 0&&(c=""+a.key),"key"in a){s={};for(var u in a)u!=="key"&&(s[u]=a[u])}else s=a;return a=s.ref,{$$typeof:t,type:r,key:c,ref:a!==void 0?a:null,props:s}}return bh.Fragment=e,bh.jsx=n,bh.jsxs=n,bh}var oA;function qz(){return oA||(oA=1,Av.exports=Fz()),Av.exports}var o=qz(),Tv={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lA;function $z(){if(lA)return ot;lA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),x=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=x&&L[x]||L["@@iterator"],typeof L=="function"?L:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function E(L,F,se){this.props=L,this.context=F,this.refs=_,this.updater=se||j}E.prototype.isReactComponent={},E.prototype.setState=function(L,F){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,F,"setState")},E.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function S(){}S.prototype=E.prototype;function C(L,F,se){this.props=L,this.context=F,this.refs=_,this.updater=se||j}var V=C.prototype=new S;V.constructor=C,w(V,E.prototype),V.isPureReactComponent=!0;var k=Array.isArray;function $(){}var O={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function U(L,F,se){var le=se.ref;return{$$typeof:t,type:L,key:F,ref:le!==void 0?le:null,props:se}}function G(L,F){return U(L.type,F,L.props)}function H(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function D(L){var F={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(se){return F[se]})}var B=/\/+/g;function I(L,F){return typeof L=="object"&&L!==null&&L.key!=null?D(""+L.key):F.toString(36)}function J(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then($,$):(L.status="pending",L.then(function(F){L.status==="pending"&&(L.status="fulfilled",L.value=F)},function(F){L.status==="pending"&&(L.status="rejected",L.reason=F)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,F,se,le,ue){var Re=typeof L;(Re==="undefined"||Re==="boolean")&&(L=null);var Ee=!1;if(L===null)Ee=!0;else switch(Re){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(L.$$typeof){case t:case e:Ee=!0;break;case m:return Ee=L._init,q(Ee(L._payload),F,se,le,ue)}}if(Ee)return ue=ue(L),Ee=le===""?"."+I(L,0):le,k(ue)?(se="",Ee!=null&&(se=Ee.replace(B,"$&/")+"/"),q(ue,F,se,"",function(ze){return ze})):ue!=null&&(H(ue)&&(ue=G(ue,se+(ue.key==null||L&&L.key===ue.key?"":(""+ue.key).replace(B,"$&/")+"/")+Ee)),F.push(ue)),1;Ee=0;var re=le===""?".":le+":";if(k(L))for(var oe=0;oe<L.length;oe++)le=L[oe],Re=re+I(le,oe),Ee+=q(le,F,se,Re,ue);else if(oe=v(L),typeof oe=="function")for(L=oe.call(L),oe=0;!(le=L.next()).done;)le=le.value,Re=re+I(le,oe++),Ee+=q(le,F,se,Re,ue);else if(Re==="object"){if(typeof L.then=="function")return q(J(L),F,se,le,ue);throw F=String(L),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Y(L,F,se){if(L==null)return L;var le=[],ue=0;return q(L,le,"","",function(Re){return F.call(se,Re,ue++)}),le}function te(L){if(L._status===-1){var F=L._result;F=F(),F.then(function(se){(L._status===0||L._status===-1)&&(L._status=1,L._result=se)},function(se){(L._status===0||L._status===-1)&&(L._status=2,L._result=se)}),L._status===-1&&(L._status=0,L._result=F)}if(L._status===1)return L._result.default;throw L._result}var Z=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},ge={map:Y,forEach:function(L,F,se){Y(L,function(){F.apply(this,arguments)},se)},count:function(L){var F=0;return Y(L,function(){F++}),F},toArray:function(L){return Y(L,function(F){return F})||[]},only:function(L){if(!H(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return ot.Activity=g,ot.Children=ge,ot.Component=E,ot.Fragment=n,ot.Profiler=a,ot.PureComponent=C,ot.StrictMode=r,ot.Suspense=h,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,ot.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},ot.cache=function(L){return function(){return L.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(L,F,se){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var le=w({},L.props),ue=L.key;if(F!=null)for(Re in F.key!==void 0&&(ue=""+F.key),F)!M.call(F,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&F.ref===void 0||(le[Re]=F[Re]);var Re=arguments.length-2;if(Re===1)le.children=se;else if(1<Re){for(var Ee=Array(Re),re=0;re<Re;re++)Ee[re]=arguments[re+2];le.children=Ee}return U(L.type,ue,le)},ot.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},ot.createElement=function(L,F,se){var le,ue={},Re=null;if(F!=null)for(le in F.key!==void 0&&(Re=""+F.key),F)M.call(F,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ue[le]=F[le]);var Ee=arguments.length-2;if(Ee===1)ue.children=se;else if(1<Ee){for(var re=Array(Ee),oe=0;oe<Ee;oe++)re[oe]=arguments[oe+2];ue.children=re}if(L&&L.defaultProps)for(le in Ee=L.defaultProps,Ee)ue[le]===void 0&&(ue[le]=Ee[le]);return U(L,Re,ue)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(L){return{$$typeof:u,render:L}},ot.isValidElement=H,ot.lazy=function(L){return{$$typeof:m,_payload:{_status:-1,_result:L},_init:te}},ot.memo=function(L,F){return{$$typeof:f,type:L,compare:F===void 0?null:F}},ot.startTransition=function(L){var F=O.T,se={};O.T=se;try{var le=L(),ue=O.S;ue!==null&&ue(se,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then($,Z)}catch(Re){Z(Re)}finally{F!==null&&se.types!==null&&(F.types=se.types),O.T=F}},ot.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},ot.use=function(L){return O.H.use(L)},ot.useActionState=function(L,F,se){return O.H.useActionState(L,F,se)},ot.useCallback=function(L,F){return O.H.useCallback(L,F)},ot.useContext=function(L){return O.H.useContext(L)},ot.useDebugValue=function(){},ot.useDeferredValue=function(L,F){return O.H.useDeferredValue(L,F)},ot.useEffect=function(L,F){return O.H.useEffect(L,F)},ot.useEffectEvent=function(L){return O.H.useEffectEvent(L)},ot.useId=function(){return O.H.useId()},ot.useImperativeHandle=function(L,F,se){return O.H.useImperativeHandle(L,F,se)},ot.useInsertionEffect=function(L,F){return O.H.useInsertionEffect(L,F)},ot.useLayoutEffect=function(L,F){return O.H.useLayoutEffect(L,F)},ot.useMemo=function(L,F){return O.H.useMemo(L,F)},ot.useOptimistic=function(L,F){return O.H.useOptimistic(L,F)},ot.useReducer=function(L,F,se){return O.H.useReducer(L,F,se)},ot.useRef=function(L){return O.H.useRef(L)},ot.useState=function(L){return O.H.useState(L)},ot.useSyncExternalStore=function(L,F,se){return O.H.useSyncExternalStore(L,F,se)},ot.useTransition=function(){return O.H.useTransition()},ot.version="19.2.0",ot}var cA;function Zu(){return cA||(cA=1,Tv.exports=$z()),Tv.exports}var T=Zu();const N0=Qi(T),Hz=Bz({__proto__:null,default:N0},[T]);var Cv={exports:{}},wh={},kv={exports:{}},Iv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uA;function Gz(){return uA||(uA=1,(function(t){function e(q,Y){var te=q.length;q.push(Y);e:for(;0<te;){var Z=te-1>>>1,ge=q[Z];if(0<a(ge,Y))q[Z]=Y,q[te]=ge,te=Z;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Y=q[0],te=q.pop();if(te!==Y){q[0]=te;e:for(var Z=0,ge=q.length,L=ge>>>1;Z<L;){var F=2*(Z+1)-1,se=q[F],le=F+1,ue=q[le];if(0>a(se,te))le<ge&&0>a(ue,se)?(q[Z]=ue,q[le]=te,Z=le):(q[Z]=se,q[F]=te,Z=F);else if(le<ge&&0>a(ue,te))q[Z]=ue,q[le]=te,Z=le;else break e}}return Y}function a(q,Y){var te=q.sortIndex-Y.sortIndex;return te!==0?te:q.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],f=[],m=1,g=null,x=3,v=!1,j=!1,w=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function V(q){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=q)r(f),Y.sortIndex=Y.expirationTime,e(h,Y);else break;Y=n(f)}}function k(q){if(w=!1,V(q),!j)if(n(h)!==null)j=!0,$||($=!0,D());else{var Y=n(f);Y!==null&&J(k,Y.startTime-q)}}var $=!1,O=-1,M=5,U=-1;function G(){return _?!0:!(t.unstable_now()-U<M)}function H(){if(_=!1,$){var q=t.unstable_now();U=q;var Y=!0;try{e:{j=!1,w&&(w=!1,S(O),O=-1),v=!0;var te=x;try{t:{for(V(q),g=n(h);g!==null&&!(g.expirationTime>q&&G());){var Z=g.callback;if(typeof Z=="function"){g.callback=null,x=g.priorityLevel;var ge=Z(g.expirationTime<=q);if(q=t.unstable_now(),typeof ge=="function"){g.callback=ge,V(q),Y=!0;break t}g===n(h)&&r(h),V(q)}else r(h);g=n(h)}if(g!==null)Y=!0;else{var L=n(f);L!==null&&J(k,L.startTime-q),Y=!1}}break e}finally{g=null,x=te,v=!1}Y=void 0}}finally{Y?D():$=!1}}}var D;if(typeof C=="function")D=function(){C(H)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,I=B.port2;B.port1.onmessage=H,D=function(){I.postMessage(null)}}else D=function(){E(H,0)};function J(q,Y){O=E(function(){q(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(q){switch(x){case 1:case 2:case 3:var Y=3;break;default:Y=x}var te=x;x=Y;try{return q()}finally{x=te}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(q,Y){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=x;x=q;try{return Y()}finally{x=te}},t.unstable_scheduleCallback=function(q,Y,te){var Z=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?Z+te:Z):te=Z,q){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=te+ge,q={id:m++,callback:Y,priorityLevel:q,startTime:te,expirationTime:ge,sortIndex:-1},te>Z?(q.sortIndex=te,e(f,q),n(h)===null&&q===n(f)&&(w?(S(O),O=-1):w=!0,J(k,te-Z))):(q.sortIndex=ge,e(h,q),j||v||(j=!0,$||($=!0,D()))),q},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(q){var Y=x;return function(){var te=x;x=Y;try{return q.apply(this,arguments)}finally{x=te}}}})(Iv)),Iv}var dA;function Kz(){return dA||(dA=1,kv.exports=Gz()),kv.exports}var Rv={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA;function Yz(){if(hA)return sr;hA=1;var t=Zu();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)f+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(h,f,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:h,containerInfo:f,implementation:m}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sr.createPortal=function(h,f){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(h,f,null,m)},sr.flushSync=function(h){var f=c.T,m=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=f,r.p=m,r.d.f()}},sr.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(h,f))},sr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},sr.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin),x=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;m==="style"?r.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:x,fetchPriority:v}):m==="script"&&r.d.X(h,{crossOrigin:g,integrity:x,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},sr.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var m=u(f.as,f.crossOrigin);r.d.M(h,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(h)},sr.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var m=f.as,g=u(m,f.crossOrigin);r.d.L(h,m,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},sr.preloadModule=function(h,f){if(typeof h=="string")if(f){var m=u(f.as,f.crossOrigin);r.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(h)},sr.requestFormReset=function(h){r.d.r(h)},sr.unstable_batchedUpdates=function(h,f){return h(f)},sr.useFormState=function(h,f,m){return c.H.useFormState(h,f,m)},sr.useFormStatus=function(){return c.H.useHostTransitionStatus()},sr.version="19.2.0",sr}var fA;function QI(){if(fA)return Rv.exports;fA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rv.exports=Yz(),Rv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA;function Wz(){if(mA)return wh;mA=1;var t=Kz(),e=Zu(),n=QI();function r(i){var l="https://react.dev/errors/"+i;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function s(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,(l.flags&4098)!==0&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function c(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function u(i){if(i.tag===31){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function h(i){if(s(i)!==i)throw Error(r(188))}function f(i){var l=i.alternate;if(!l){if(l=s(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,p=l;;){var b=d.return;if(b===null)break;var N=b.alternate;if(N===null){if(p=b.return,p!==null){d=p;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===d)return h(b),i;if(N===p)return h(b),l;N=N.sibling}throw Error(r(188))}if(d.return!==p.return)d=b,p=N;else{for(var R=!1,K=b.child;K;){if(K===d){R=!0,d=b,p=N;break}if(K===p){R=!0,p=b,d=N;break}K=K.sibling}if(!R){for(K=N.child;K;){if(K===d){R=!0,d=N,p=b;break}if(K===p){R=!0,p=N,d=b;break}K=K.sibling}if(!R)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function m(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i;for(i=i.child;i!==null;){if(l=m(i),l!==null)return l;i=i.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var B=Symbol.for("react.client.reference");function I(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===B?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case $:return"SuspenseList";case U:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case j:return"Portal";case C:return i.displayName||"Context";case S:return(i._context.displayName||"Context")+".Consumer";case V:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return l=i.displayName||null,l!==null?l:I(i.type)||"Memo";case M:l=i._payload,i=i._init;try{return I(i(l))}catch{}}return null}var J=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},Z=[],ge=-1;function L(i){return{current:i}}function F(i){0>ge||(i.current=Z[ge],Z[ge]=null,ge--)}function se(i,l){ge++,Z[ge]=i.current,i.current=l}var le=L(null),ue=L(null),Re=L(null),Ee=L(null);function re(i,l){switch(se(Re,l),se(ue,i),se(le,null),l.nodeType){case 9:case 11:i=(i=l.documentElement)&&(i=i.namespaceURI)?CS(i):0;break;default:if(i=l.tagName,l=l.namespaceURI)l=CS(l),i=kS(l,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(le),se(le,i)}function oe(){F(le),F(ue),F(Re)}function ze(i){i.memoizedState!==null&&se(Ee,i);var l=le.current,d=kS(l,i.type);l!==d&&(se(ue,i),se(le,d))}function Be(i){ue.current===i&&(F(le),F(ue)),Ee.current===i&&(F(Ee),gh._currentValue=te)}var Ce,ht;function P(i){if(Ce===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);Ce=l&&l[1]||"",ht=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ce+i+ht}var ve=!1;function fe(i,l){if(!i||ve)return"";ve=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(be){var ye=be}Reflect.construct(i,[],Te)}else{try{Te.call()}catch(be){ye=be}i.call(Te.prototype)}}else{try{throw Error()}catch(be){ye=be}(Te=i())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(be){if(be&&ye&&typeof be.stack=="string")return[be.stack,ye.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),R=N[0],K=N[1];if(R&&K){var ee=R.split(`
`),pe=K.split(`
`);for(b=p=0;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;for(;b<pe.length&&!pe[b].includes("DetermineComponentFrameRoot");)b++;if(p===ee.length||b===pe.length)for(p=ee.length-1,b=pe.length-1;1<=p&&0<=b&&ee[p]!==pe[b];)b--;for(;1<=p&&0<=b;p--,b--)if(ee[p]!==pe[b]){if(p!==1||b!==1)do if(p--,b--,0>b||ee[p]!==pe[b]){var je=`
`+ee[p].replace(" at new "," at ");return i.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",i.displayName)),je}while(1<=p&&0<=b);break}}}finally{ve=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?P(d):""}function W(i,l){switch(i.tag){case 26:case 27:case 5:return P(i.type);case 16:return P("Lazy");case 13:return i.child!==l&&l!==null?P("Suspense Fallback"):P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return fe(i.type,!1);case 11:return fe(i.type.render,!1);case 1:return fe(i.type,!0);case 31:return P("Activity");default:return""}}function X(i){try{var l="",d=null;do l+=W(i,d),d=i,i=i.return;while(i);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ae=Object.prototype.hasOwnProperty,_e=t.unstable_scheduleCallback,Ie=t.unstable_cancelCallback,me=t.unstable_shouldYield,Oe=t.unstable_requestPaint,Me=t.unstable_now,De=t.unstable_getCurrentPriorityLevel,qe=t.unstable_ImmediatePriority,ft=t.unstable_UserBlockingPriority,it=t.unstable_NormalPriority,ne=t.unstable_LowPriority,we=t.unstable_IdlePriority,Pe=t.log,Ye=t.unstable_setDisableYieldValue,Ue=null,et=null;function tn(i){if(typeof Pe=="function"&&Ye(i),et&&typeof et.setStrictMode=="function")try{et.setStrictMode(Ue,i)}catch{}}var jt=Math.clz32?Math.clz32:Oc,fl=Math.log,to=Math.LN2;function Oc(i){return i>>>=0,i===0?32:31-(fl(i)/to|0)|0}var fa=256,mi=262144,Ht=4194304;function gr(i){var l=i&42;if(l!==0)return l;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function pi(i,l,d){var p=i.pendingLanes;if(p===0)return 0;var b=0,N=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var K=p&134217727;return K!==0?(p=K&~N,p!==0?b=gr(p):(R&=K,R!==0?b=gr(R):d||(d=K&~i,d!==0&&(b=gr(d))))):(K=p&~N,K!==0?b=gr(K):R!==0?b=gr(R):d||(d=p&~i,d!==0&&(b=gr(d)))),b===0?0:l!==0&&l!==b&&(l&N)===0&&(N=b&-b,d=l&-l,N>=d||N===32&&(d&4194048)!==0)?l:b}function qa(i,l){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&l)===0}function Iy(i,l){switch(i){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(){var i=Ht;return Ht<<=1,(Ht&62914560)===0&&(Ht=4194304),i}function gi(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function ml(i,l){i.pendingLanes|=l,l!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ry(i,l,d,p,b,N){var R=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var K=i.entanglements,ee=i.expirationTimes,pe=i.hiddenUpdates;for(d=R&~d;0<d;){var je=31-jt(d),Te=1<<je;K[je]=0,ee[je]=-1;var ye=pe[je];if(ye!==null)for(pe[je]=null,je=0;je<ye.length;je++){var be=ye[je];be!==null&&(be.lane&=-536870913)}d&=~Te}p!==0&&pl(i,p,0),N!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=N&~(R&~l))}function pl(i,l,d){i.pendingLanes|=l,i.suspendedLanes&=~l;var p=31-jt(l);i.entangledLanes|=l,i.entanglements[p]=i.entanglements[p]|1073741824|d&261930}function wd(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var p=31-jt(d),b=1<<p;b&l|i[p]&l&&(i[p]|=l),d&=~b}}function _d(i,l){var d=l&-l;return d=(d&42)!==0?1:gl(d),(d&(i.suspendedLanes|l))!==0?0:d}function gl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ji(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nm(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:JS(i.type))}function $a(i,l){var d=Y.p;try{return Y.p=i,l()}finally{Y.p=d}}var Ha=Math.random().toString(36).slice(2),xn="__reactFiber$"+Ha,Ln="__reactProps$"+Ha,yi="__reactContainer$"+Ha,Dc="__reactEvents$"+Ha,Oy="__reactListeners$"+Ha,rm="__reactHandles$"+Ha,am="__reactResources$"+Ha,xi="__reactMarker$"+Ha;function Pc(i){delete i[xn],delete i[Ln],delete i[Dc],delete i[Oy],delete i[rm]}function vi(i){var l=i[xn];if(l)return l;for(var d=i.parentNode;d;){if(l=d[yi]||d[xn]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=LS(i);i!==null;){if(d=i[xn])return d;i=LS(i)}return l}i=d,d=i.parentNode}return null}function ma(i){if(i=i[xn]||i[yi]){var l=i.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return i}return null}function $r(i){var l=i.tag;if(l===5||l===26||l===27||l===6)return i.stateNode;throw Error(r(33))}function bi(i){var l=i[am];return l||(l=i[am]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function vn(i){i[xi]=!0}var Nd=new Set,jd={};function wi(i,l){_i(i,l),_i(i+"Capture",l)}function _i(i,l){for(jd[i]=l,i=0;i<l.length;i++)Nd.add(l[i])}var Ed=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sd={},Ad={};function im(i){return ae.call(Ad,i)?!0:ae.call(Sd,i)?!1:Ed.test(i)?Ad[i]=!0:(Sd[i]=!0,!1)}function Mc(i,l,d){if(im(l))if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(l);return}}i.setAttribute(l,""+d)}}function Hr(i,l,d){if(d===null)i.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttribute(l,""+d)}}function bn(i,l,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(l,d,""+p)}}function zn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function no(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Td(i,l,d){var p=Object.getOwnPropertyDescriptor(i.constructor.prototype,l);if(!i.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var b=p.get,N=p.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return b.call(this)},set:function(R){d=""+R,N.call(this,R)}}),Object.defineProperty(i,l,{enumerable:p.enumerable}),{getValue:function(){return d},setValue:function(R){d=""+R},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function Ot(i){if(!i._valueTracker){var l=no(i)?"checked":"value";i._valueTracker=Td(i,l,""+i[l])}}function yl(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),p="";return i&&(p=no(i)?i.checked?"true":"false":i.value),i=p,i!==d?(l.setValue(i),!0):!1}function Ni(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var xl=/[\n"\\]/g;function Tr(i){return i.replace(xl,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Lc(i,l,d,p,b,N,R,K){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),l!=null?R==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+zn(l)):i.value!==""+zn(l)&&(i.value=""+zn(l)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),l!=null?Cd(i,R,zn(l)):d!=null?Cd(i,R,zn(d)):p!=null&&i.removeAttribute("value"),b==null&&N!=null&&(i.defaultChecked=!!N),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?i.name=""+zn(K):i.removeAttribute("name")}function sm(i,l,d,p,b,N,R,K){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),l!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||l!=null)){Ot(i);return}d=d!=null?""+zn(d):"",l=l!=null?""+zn(l):d,K||l===i.value||(i.value=l),i.defaultValue=l}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=K?i.checked:!!p,i.defaultChecked=!!p,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R),Ot(i)}function Cd(i,l,d){l==="number"&&Ni(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function ro(i,l,d,p){if(i=i.options,l){l={};for(var b=0;b<d.length;b++)l["$"+d[b]]=!0;for(d=0;d<i.length;d++)b=l.hasOwnProperty("$"+i[d].value),i[d].selected!==b&&(i[d].selected=b),b&&p&&(i[d].defaultSelected=!0)}else{for(d=""+zn(d),l=null,b=0;b<i.length;b++){if(i[b].value===d){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}l!==null||i[b].disabled||(l=i[b])}l!==null&&(l.selected=!0)}}function om(i,l,d){if(l!=null&&(l=""+zn(l),l!==i.value&&(i.value=l),d==null)){i.defaultValue!==l&&(i.defaultValue=l);return}i.defaultValue=d!=null?""+zn(d):""}function ao(i,l,d,p){if(l==null){if(p!=null){if(d!=null)throw Error(r(92));if(J(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),l=d}d=zn(l),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p),Ot(i)}function Cr(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var lm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kd(i,l,d){var p=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(l,""):l==="float"?i.cssFloat="":i[l]="":p?i.setProperty(l,d):typeof d!="number"||d===0||lm.has(l)?l==="float"?i.cssFloat=d:i[l]=(""+d).trim():i[l]=d+"px"}function Id(i,l,d){if(l!=null&&typeof l!="object")throw Error(r(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in l)p=l[b],l.hasOwnProperty(b)&&d[b]!==p&&kd(i,b,p)}else for(var N in l)l.hasOwnProperty(N)&&kd(i,N,l[N])}function zc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),io=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uc(i){return io.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ga(){}var Rd=null;function pa(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var so=null,ji=null;function vl(i){var l=ma(i);if(l&&(i=l.stateNode)){var d=i[Ln]||null;e:switch(i=l.stateNode,l.type){case"input":if(Lc(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Tr(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var p=d[l];if(p!==i&&p.form===i.form){var b=p[Ln]||null;if(!b)throw Error(r(90));Lc(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(l=0;l<d.length;l++)p=d[l],p.form===i.form&&yl(p)}break e;case"textarea":om(i,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&ro(i,!!d.multiple,l,!1)}}}var Vc=!1;function oo(i,l,d){if(Vc)return i(l,d);Vc=!0;try{var p=i(l);return p}finally{if(Vc=!1,(so!==null||ji!==null)&&(np(),so&&(l=so,i=ji,ji=so=null,vl(l),i)))for(l=0;l<i.length;l++)vl(i[l])}}function Ka(i,l){var d=i.stateNode;if(d===null)return null;var p=d[Ln]||null;if(p===null)return null;d=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bl=!1;if(ga)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){bl=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch{bl=!1}var Ei=null,Od=null,wl=null;function Dd(){if(wl)return wl;var i,l=Od,d=l.length,p,b="value"in Ei?Ei.value:Ei.textContent,N=b.length;for(i=0;i<d&&l[i]===b[i];i++);var R=d-i;for(p=1;p<=R&&l[d-p]===b[N-p];p++);return wl=b.slice(i,1<p?1-p:void 0)}function _l(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function es(){return!0}function Ya(){return!1}function Kn(i){function l(d,p,b,N,R){this._reactName=d,this._targetInst=b,this.type=p,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var K in i)i.hasOwnProperty(K)&&(d=i[K],this[K]=d?d(N):N[K]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?es:Ya,this.isPropagationStopped=Ya,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),l}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Kn(ts),lo=g({},ts,{view:0,detail:0}),Pd=Kn(lo),co,Bc,Ai,Fc=g({},lo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ai&&(Ai&&i.type==="mousemove"?(co=i.screenX-Ai.screenX,Bc=i.screenY-Ai.screenY):Bc=co=0,Ai=i),co)},movementY:function(i){return"movementY"in i?i.movementY:Bc}}),Md=Kn(Fc),Nl=g({},Fc,{dataTransfer:0}),um=Kn(Nl),dm=g({},lo,{relatedTarget:0}),jl=Kn(dm),Ld=g({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),hm=Kn(Ld),qc=g({},ts,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),fm=Kn(qc),mm=g({},ts,{data:0}),Ti=Kn(mm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ym={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xm(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=ym[i])?!!l[i]:!1}function uo(){return xm}var yr=g({},lo,{key:function(i){if(i.key){var l=pm[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=_l(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gm[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(i){return i.type==="keypress"?_l(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_l(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vm=Kn(yr),bm=g({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Kn(bm),y=g({},lo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),A=Kn(y),z=g({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q=Kn(z),de=g({},Fc,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xe=Kn(de),Le=g({},ts,{newState:0,oldState:0}),ct=Kn(Le),hn=[9,13,27,32],Tt=ga&&"CompositionEvent"in window,nn=null;ga&&"documentMode"in document&&(nn=document.documentMode);var ya=ga&&"TextEvent"in window&&!nn,Ci=ga&&(!Tt||nn&&8<nn&&11>=nn),Wa=" ",Xa=!1;function El(i,l){switch(i){case"keyup":return hn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $c(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Hc=!1;function dL(i,l){switch(i){case"compositionend":return $c(l);case"keypress":return l.which!==32?null:(Xa=!0,Wa);case"textInput":return i=l.data,i===Wa&&Xa?null:i;default:return null}}function hL(i,l){if(Hc)return i==="compositionend"||!Tt&&El(i,l)?(i=Dd(),wl=Od=Ei=null,Hc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ci&&l.locale!=="ko"?null:l.data;default:return null}}var fL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VN(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!fL[i.type]:l==="textarea"}function BN(i,l,d,p){so?ji?ji.push(p):ji=[p]:so=p,l=cp(l,"onChange"),0<l.length&&(d=new Si("onChange","change",null,d,p),i.push({event:d,listeners:l}))}var zd=null,Ud=null;function mL(i){NS(i,0)}function wm(i){var l=$r(i);if(yl(l))return i}function FN(i,l){if(i==="change")return l}var qN=!1;if(ga){var Dy;if(ga){var Py="oninput"in document;if(!Py){var $N=document.createElement("div");$N.setAttribute("oninput","return;"),Py=typeof $N.oninput=="function"}Dy=Py}else Dy=!1;qN=Dy&&(!document.documentMode||9<document.documentMode)}function HN(){zd&&(zd.detachEvent("onpropertychange",GN),Ud=zd=null)}function GN(i){if(i.propertyName==="value"&&wm(Ud)){var l=[];BN(l,Ud,i,pa(i)),oo(mL,l)}}function pL(i,l,d){i==="focusin"?(HN(),zd=l,Ud=d,zd.attachEvent("onpropertychange",GN)):i==="focusout"&&HN()}function gL(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return wm(Ud)}function yL(i,l){if(i==="click")return wm(l)}function xL(i,l){if(i==="input"||i==="change")return wm(l)}function vL(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Gr=typeof Object.is=="function"?Object.is:vL;function Vd(i,l){if(Gr(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var b=d[p];if(!ae.call(l,b)||!Gr(i[b],l[b]))return!1}return!0}function KN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function YN(i,l){var d=KN(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=l&&p>=l)return{node:d,offset:l-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=KN(d)}}function WN(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?WN(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function XN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var l=Ni(i.document);l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=Ni(i.document)}return l}function My(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}var bL=ga&&"documentMode"in document&&11>=document.documentMode,Gc=null,Ly=null,Bd=null,zy=!1;function QN(i,l,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;zy||Gc==null||Gc!==Ni(p)||(p=Gc,"selectionStart"in p&&My(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Bd&&Vd(Bd,p)||(Bd=p,p=cp(Ly,"onSelect"),0<p.length&&(l=new Si("onSelect","select",null,l,d),i.push({event:l,listeners:p}),l.target=Gc)))}function Sl(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Kc={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionrun:Sl("Transition","TransitionRun"),transitionstart:Sl("Transition","TransitionStart"),transitioncancel:Sl("Transition","TransitionCancel"),transitionend:Sl("Transition","TransitionEnd")},Uy={},ZN={};ga&&(ZN=document.createElement("div").style,"AnimationEvent"in window||(delete Kc.animationend.animation,delete Kc.animationiteration.animation,delete Kc.animationstart.animation),"TransitionEvent"in window||delete Kc.transitionend.transition);function Al(i){if(Uy[i])return Uy[i];if(!Kc[i])return i;var l=Kc[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in ZN)return Uy[i]=l[d];return i}var JN=Al("animationend"),ej=Al("animationiteration"),tj=Al("animationstart"),wL=Al("transitionrun"),_L=Al("transitionstart"),NL=Al("transitioncancel"),nj=Al("transitionend"),rj=new Map,Vy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vy.push("scrollEnd");function Qa(i,l){rj.set(i,l),wi(l,[i])}var _m=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xa=[],Yc=0,By=0;function Nm(){for(var i=Yc,l=By=Yc=0;l<i;){var d=xa[l];xa[l++]=null;var p=xa[l];xa[l++]=null;var b=xa[l];xa[l++]=null;var N=xa[l];if(xa[l++]=null,p!==null&&b!==null){var R=p.pending;R===null?b.next=b:(b.next=R.next,R.next=b),p.pending=b}N!==0&&aj(d,b,N)}}function jm(i,l,d,p){xa[Yc++]=i,xa[Yc++]=l,xa[Yc++]=d,xa[Yc++]=p,By|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Fy(i,l,d,p){return jm(i,l,d,p),Em(i)}function Tl(i,l){return jm(i,null,null,l),Em(i)}function aj(i,l,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var b=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(b=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,b&&l!==null&&(b=31-jt(d),i=N.hiddenUpdates,p=i[b],p===null?i[b]=[l]:p.push(l),l.lane=d|536870912),N):null}function Em(i){if(50<ch)throw ch=0,Qx=null,Error(r(185));for(var l=i.return;l!==null;)i=l,l=i.return;return i.tag===3?i.stateNode:null}var Wc={};function jL(i,l,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(i,l,d,p){return new jL(i,l,d,p)}function qy(i){return i=i.prototype,!(!i||!i.isReactComponent)}function rs(i,l){var d=i.alternate;return d===null?(d=Kr(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function ij(i,l){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=l,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,l=d.dependencies,i.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),i}function Sm(i,l,d,p,b,N){var R=0;if(p=i,typeof i=="function")qy(i)&&(R=1);else if(typeof i=="string")R=Cz(i,d,le.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case U:return i=Kr(31,d,l,b),i.elementType=U,i.lanes=N,i;case w:return Cl(d.children,b,N,l);case _:R=8,b|=24;break;case E:return i=Kr(12,d,l,b|2),i.elementType=E,i.lanes=N,i;case k:return i=Kr(13,d,l,b),i.elementType=k,i.lanes=N,i;case $:return i=Kr(19,d,l,b),i.elementType=$,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case C:R=10;break e;case S:R=9;break e;case V:R=11;break e;case O:R=14;break e;case M:R=16,p=null;break e}R=29,d=Error(r(130,i===null?"null":typeof i,"")),p=null}return l=Kr(R,d,l,b),l.elementType=i,l.type=p,l.lanes=N,l}function Cl(i,l,d,p){return i=Kr(7,i,p,l),i.lanes=d,i}function $y(i,l,d){return i=Kr(6,i,null,l),i.lanes=d,i}function sj(i){var l=Kr(18,null,null,0);return l.stateNode=i,l}function Hy(i,l,d){return l=Kr(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}var oj=new WeakMap;function va(i,l){if(typeof i=="object"&&i!==null){var d=oj.get(i);return d!==void 0?d:(l={value:i,source:l,stack:X(l)},oj.set(i,l),l)}return{value:i,source:l,stack:X(l)}}var Xc=[],Qc=0,Am=null,Fd=0,ba=[],wa=0,ho=null,ki=1,Ii="";function as(i,l){Xc[Qc++]=Fd,Xc[Qc++]=Am,Am=i,Fd=l}function lj(i,l,d){ba[wa++]=ki,ba[wa++]=Ii,ba[wa++]=ho,ho=i;var p=ki;i=Ii;var b=32-jt(p)-1;p&=~(1<<b),d+=1;var N=32-jt(l)+b;if(30<N){var R=b-b%5;N=(p&(1<<R)-1).toString(32),p>>=R,b-=R,ki=1<<32-jt(l)+b|d<<b|p,Ii=N+i}else ki=1<<N|d<<b|p,Ii=i}function Gy(i){i.return!==null&&(as(i,1),lj(i,1,0))}function Ky(i){for(;i===Am;)Am=Xc[--Qc],Xc[Qc]=null,Fd=Xc[--Qc],Xc[Qc]=null;for(;i===ho;)ho=ba[--wa],ba[wa]=null,Ii=ba[--wa],ba[wa]=null,ki=ba[--wa],ba[wa]=null}function cj(i,l){ba[wa++]=ki,ba[wa++]=Ii,ba[wa++]=ho,ki=l.id,Ii=l.overflow,ho=i}var Yn=null,Kt=null,wt=!1,fo=null,_a=!1,Yy=Error(r(519));function mo(i){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qd(va(l,i)),Yy}function uj(i){var l=i.stateNode,d=i.type,p=i.memoizedProps;switch(l[xn]=i,l[Ln]=p,d){case"dialog":pt("cancel",l),pt("close",l);break;case"iframe":case"object":case"embed":pt("load",l);break;case"video":case"audio":for(d=0;d<dh.length;d++)pt(dh[d],l);break;case"source":pt("error",l);break;case"img":case"image":case"link":pt("error",l),pt("load",l);break;case"details":pt("toggle",l);break;case"input":pt("invalid",l),sm(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":pt("invalid",l);break;case"textarea":pt("invalid",l),ao(l,p.value,p.defaultValue,p.children)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||p.suppressHydrationWarning===!0||AS(l.textContent,d)?(p.popover!=null&&(pt("beforetoggle",l),pt("toggle",l)),p.onScroll!=null&&pt("scroll",l),p.onScrollEnd!=null&&pt("scrollend",l),p.onClick!=null&&(l.onclick=Ga),l=!0):l=!1,l||mo(i,!0)}function dj(i){for(Yn=i.return;Yn;)switch(Yn.tag){case 5:case 31:case 13:_a=!1;return;case 27:case 3:_a=!0;return;default:Yn=Yn.return}}function Zc(i){if(i!==Yn)return!1;if(!wt)return dj(i),wt=!0,!1;var l=i.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||hv(i.type,i.memoizedProps)),d=!d),d&&Kt&&mo(i),dj(i),l===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Kt=MS(i)}else if(l===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Kt=MS(i)}else l===27?(l=Kt,To(i.type)?(i=yv,yv=null,Kt=i):Kt=l):Kt=Yn?ja(i.stateNode.nextSibling):null;return!0}function kl(){Kt=Yn=null,wt=!1}function Wy(){var i=fo;return i!==null&&(Or===null?Or=i:Or.push.apply(Or,i),fo=null),i}function qd(i){fo===null?fo=[i]:fo.push(i)}var Xy=L(null),Il=null,is=null;function po(i,l,d){se(Xy,l._currentValue),l._currentValue=d}function ss(i){i._currentValue=Xy.current,F(Xy)}function Qy(i,l,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===d)break;i=i.return}}function Zy(i,l,d,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var N=b.dependencies;if(N!==null){var R=b.child;N=N.firstContext;e:for(;N!==null;){var K=N;N=b;for(var ee=0;ee<l.length;ee++)if(K.context===l[ee]){N.lanes|=d,K=N.alternate,K!==null&&(K.lanes|=d),Qy(N.return,d,i),p||(R=null);break e}N=K.next}}else if(b.tag===18){if(R=b.return,R===null)throw Error(r(341));R.lanes|=d,N=R.alternate,N!==null&&(N.lanes|=d),Qy(R,d,i),R=null}else R=b.child;if(R!==null)R.return=b;else for(R=b;R!==null;){if(R===i){R=null;break}if(b=R.sibling,b!==null){b.return=R.return,R=b;break}R=R.return}b=R}}function Jc(i,l,d,p){i=null;for(var b=l,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var R=b.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var K=b.type;Gr(b.pendingProps.value,R.value)||(i!==null?i.push(K):i=[K])}}else if(b===Ee.current){if(R=b.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(gh):i=[gh])}b=b.return}i!==null&&Zy(l,i,d,p),l.flags|=262144}function Tm(i){for(i=i.firstContext;i!==null;){if(!Gr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Rl(i){Il=i,is=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wn(i){return hj(Il,i)}function Cm(i,l){return Il===null&&Rl(i),hj(i,l)}function hj(i,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},is===null){if(i===null)throw Error(r(308));is=l,i.dependencies={lanes:0,firstContext:l},i.flags|=524288}else is=is.next=l;return d}var EL=typeof AbortController<"u"?AbortController:function(){var i=[],l=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){l.aborted=!0,i.forEach(function(d){return d()})}},SL=t.unstable_scheduleCallback,AL=t.unstable_NormalPriority,wn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jy(){return{controller:new EL,data:new Map,refCount:0}}function $d(i){i.refCount--,i.refCount===0&&SL(AL,function(){i.controller.abort()})}var Hd=null,ex=0,eu=0,tu=null;function TL(i,l){if(Hd===null){var d=Hd=[];ex=0,eu=rv(),tu={status:"pending",value:void 0,then:function(p){d.push(p)}}}return ex++,l.then(fj,fj),l}function fj(){if(--ex===0&&Hd!==null){tu!==null&&(tu.status="fulfilled");var i=Hd;Hd=null,eu=0,tu=null;for(var l=0;l<i.length;l++)(0,i[l])()}}function CL(i,l){var d=[],p={status:"pending",value:null,reason:null,then:function(b){d.push(b)}};return i.then(function(){p.status="fulfilled",p.value=l;for(var b=0;b<d.length;b++)(0,d[b])(l)},function(b){for(p.status="rejected",p.reason=b,b=0;b<d.length;b++)(0,d[b])(void 0)}),p}var mj=q.S;q.S=function(i,l){QE=Me(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&TL(i,l),mj!==null&&mj(i,l)};var Ol=L(null);function tx(){var i=Ol.current;return i!==null?i:Ft.pooledCache}function km(i,l){l===null?se(Ol,Ol.current):se(Ol,l.pool)}function pj(){var i=tx();return i===null?null:{parent:wn._currentValue,pool:i}}var nu=Error(r(460)),nx=Error(r(474)),Im=Error(r(542)),Rm={then:function(){}};function gj(i){return i=i.status,i==="fulfilled"||i==="rejected"}function yj(i,l,d){switch(d=i[d],d===void 0?i.push(l):d!==l&&(l.then(Ga,Ga),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,vj(i),i;default:if(typeof l.status=="string")l.then(Ga,Ga);else{if(i=Ft,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=l,i.status="pending",i.then(function(p){if(l.status==="pending"){var b=l;b.status="fulfilled",b.value=p}},function(p){if(l.status==="pending"){var b=l;b.status="rejected",b.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw i=l.reason,vj(i),i}throw Pl=l,nu}}function Dl(i){try{var l=i._init;return l(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Pl=d,nu):d}}var Pl=null;function xj(){if(Pl===null)throw Error(r(459));var i=Pl;return Pl=null,i}function vj(i){if(i===nu||i===Im)throw Error(r(483))}var ru=null,Gd=0;function Om(i){var l=Gd;return Gd+=1,ru===null&&(ru=[]),yj(ru,i,l)}function Kd(i,l){l=l.props.ref,i.ref=l!==void 0?l:null}function Dm(i,l){throw l.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i)))}function bj(i){function l(ce,ie){if(i){var he=ce.deletions;he===null?(ce.deletions=[ie],ce.flags|=16):he.push(ie)}}function d(ce,ie){if(!i)return null;for(;ie!==null;)l(ce,ie),ie=ie.sibling;return null}function p(ce){for(var ie=new Map;ce!==null;)ce.key!==null?ie.set(ce.key,ce):ie.set(ce.index,ce),ce=ce.sibling;return ie}function b(ce,ie){return ce=rs(ce,ie),ce.index=0,ce.sibling=null,ce}function N(ce,ie,he){return ce.index=he,i?(he=ce.alternate,he!==null?(he=he.index,he<ie?(ce.flags|=67108866,ie):he):(ce.flags|=67108866,ie)):(ce.flags|=1048576,ie)}function R(ce){return i&&ce.alternate===null&&(ce.flags|=67108866),ce}function K(ce,ie,he,Se){return ie===null||ie.tag!==6?(ie=$y(he,ce.mode,Se),ie.return=ce,ie):(ie=b(ie,he),ie.return=ce,ie)}function ee(ce,ie,he,Se){var Qe=he.type;return Qe===w?je(ce,ie,he.props.children,Se,he.key):ie!==null&&(ie.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&Dl(Qe)===ie.type)?(ie=b(ie,he.props),Kd(ie,he),ie.return=ce,ie):(ie=Sm(he.type,he.key,he.props,null,ce.mode,Se),Kd(ie,he),ie.return=ce,ie)}function pe(ce,ie,he,Se){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=Hy(he,ce.mode,Se),ie.return=ce,ie):(ie=b(ie,he.children||[]),ie.return=ce,ie)}function je(ce,ie,he,Se,Qe){return ie===null||ie.tag!==7?(ie=Cl(he,ce.mode,Se,Qe),ie.return=ce,ie):(ie=b(ie,he),ie.return=ce,ie)}function Te(ce,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=$y(""+ie,ce.mode,he),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return he=Sm(ie.type,ie.key,ie.props,null,ce.mode,he),Kd(he,ie),he.return=ce,he;case j:return ie=Hy(ie,ce.mode,he),ie.return=ce,ie;case M:return ie=Dl(ie),Te(ce,ie,he)}if(J(ie)||D(ie))return ie=Cl(ie,ce.mode,he,null),ie.return=ce,ie;if(typeof ie.then=="function")return Te(ce,Om(ie),he);if(ie.$$typeof===C)return Te(ce,Cm(ce,ie),he);Dm(ce,ie)}return null}function ye(ce,ie,he,Se){var Qe=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Qe!==null?null:K(ce,ie,""+he,Se);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case v:return he.key===Qe?ee(ce,ie,he,Se):null;case j:return he.key===Qe?pe(ce,ie,he,Se):null;case M:return he=Dl(he),ye(ce,ie,he,Se)}if(J(he)||D(he))return Qe!==null?null:je(ce,ie,he,Se,null);if(typeof he.then=="function")return ye(ce,ie,Om(he),Se);if(he.$$typeof===C)return ye(ce,ie,Cm(ce,he),Se);Dm(ce,he)}return null}function be(ce,ie,he,Se,Qe){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return ce=ce.get(he)||null,K(ie,ce,""+Se,Qe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case v:return ce=ce.get(Se.key===null?he:Se.key)||null,ee(ie,ce,Se,Qe);case j:return ce=ce.get(Se.key===null?he:Se.key)||null,pe(ie,ce,Se,Qe);case M:return Se=Dl(Se),be(ce,ie,he,Se,Qe)}if(J(Se)||D(Se))return ce=ce.get(he)||null,je(ie,ce,Se,Qe,null);if(typeof Se.then=="function")return be(ce,ie,he,Om(Se),Qe);if(Se.$$typeof===C)return be(ce,ie,he,Cm(ie,Se),Qe);Dm(ie,Se)}return null}function Ke(ce,ie,he,Se){for(var Qe=null,Et=null,We=ie,dt=ie=0,yt=null;We!==null&&dt<he.length;dt++){We.index>dt?(yt=We,We=null):yt=We.sibling;var St=ye(ce,We,he[dt],Se);if(St===null){We===null&&(We=yt);break}i&&We&&St.alternate===null&&l(ce,We),ie=N(St,ie,dt),Et===null?Qe=St:Et.sibling=St,Et=St,We=yt}if(dt===he.length)return d(ce,We),wt&&as(ce,dt),Qe;if(We===null){for(;dt<he.length;dt++)We=Te(ce,he[dt],Se),We!==null&&(ie=N(We,ie,dt),Et===null?Qe=We:Et.sibling=We,Et=We);return wt&&as(ce,dt),Qe}for(We=p(We);dt<he.length;dt++)yt=be(We,ce,dt,he[dt],Se),yt!==null&&(i&&yt.alternate!==null&&We.delete(yt.key===null?dt:yt.key),ie=N(yt,ie,dt),Et===null?Qe=yt:Et.sibling=yt,Et=yt);return i&&We.forEach(function(Oo){return l(ce,Oo)}),wt&&as(ce,dt),Qe}function tt(ce,ie,he,Se){if(he==null)throw Error(r(151));for(var Qe=null,Et=null,We=ie,dt=ie=0,yt=null,St=he.next();We!==null&&!St.done;dt++,St=he.next()){We.index>dt?(yt=We,We=null):yt=We.sibling;var Oo=ye(ce,We,St.value,Se);if(Oo===null){We===null&&(We=yt);break}i&&We&&Oo.alternate===null&&l(ce,We),ie=N(Oo,ie,dt),Et===null?Qe=Oo:Et.sibling=Oo,Et=Oo,We=yt}if(St.done)return d(ce,We),wt&&as(ce,dt),Qe;if(We===null){for(;!St.done;dt++,St=he.next())St=Te(ce,St.value,Se),St!==null&&(ie=N(St,ie,dt),Et===null?Qe=St:Et.sibling=St,Et=St);return wt&&as(ce,dt),Qe}for(We=p(We);!St.done;dt++,St=he.next())St=be(We,ce,dt,St.value,Se),St!==null&&(i&&St.alternate!==null&&We.delete(St.key===null?dt:St.key),ie=N(St,ie,dt),Et===null?Qe=St:Et.sibling=St,Et=St);return i&&We.forEach(function(Vz){return l(ce,Vz)}),wt&&as(ce,dt),Qe}function Bt(ce,ie,he,Se){if(typeof he=="object"&&he!==null&&he.type===w&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case v:e:{for(var Qe=he.key;ie!==null;){if(ie.key===Qe){if(Qe=he.type,Qe===w){if(ie.tag===7){d(ce,ie.sibling),Se=b(ie,he.props.children),Se.return=ce,ce=Se;break e}}else if(ie.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&Dl(Qe)===ie.type){d(ce,ie.sibling),Se=b(ie,he.props),Kd(Se,he),Se.return=ce,ce=Se;break e}d(ce,ie);break}else l(ce,ie);ie=ie.sibling}he.type===w?(Se=Cl(he.props.children,ce.mode,Se,he.key),Se.return=ce,ce=Se):(Se=Sm(he.type,he.key,he.props,null,ce.mode,Se),Kd(Se,he),Se.return=ce,ce=Se)}return R(ce);case j:e:{for(Qe=he.key;ie!==null;){if(ie.key===Qe)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){d(ce,ie.sibling),Se=b(ie,he.children||[]),Se.return=ce,ce=Se;break e}else{d(ce,ie);break}else l(ce,ie);ie=ie.sibling}Se=Hy(he,ce.mode,Se),Se.return=ce,ce=Se}return R(ce);case M:return he=Dl(he),Bt(ce,ie,he,Se)}if(J(he))return Ke(ce,ie,he,Se);if(D(he)){if(Qe=D(he),typeof Qe!="function")throw Error(r(150));return he=Qe.call(he),tt(ce,ie,he,Se)}if(typeof he.then=="function")return Bt(ce,ie,Om(he),Se);if(he.$$typeof===C)return Bt(ce,ie,Cm(ce,he),Se);Dm(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ie!==null&&ie.tag===6?(d(ce,ie.sibling),Se=b(ie,he),Se.return=ce,ce=Se):(d(ce,ie),Se=$y(he,ce.mode,Se),Se.return=ce,ce=Se),R(ce)):d(ce,ie)}return function(ce,ie,he,Se){try{Gd=0;var Qe=Bt(ce,ie,he,Se);return ru=null,Qe}catch(We){if(We===nu||We===Im)throw We;var Et=Kr(29,We,null,ce.mode);return Et.lanes=Se,Et.return=ce,Et}finally{}}}var Ml=bj(!0),wj=bj(!1),go=!1;function rx(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ax(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function yo(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xo(i,l,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ct&2)!==0){var b=p.pending;return b===null?l.next=l:(l.next=b.next,b.next=l),p.pending=l,l=Em(i),aj(i,null,d),l}return jm(i,p,l,d),Em(i)}function Yd(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,wd(i,d)}}function ix(i,l){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var b=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var R={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?b=N=R:N=N.next=R,d=d.next}while(d!==null);N===null?b=N=l:N=N.next=l}else b=N=l;d={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}var sx=!1;function Wd(){if(sx){var i=tu;if(i!==null)throw i}}function Xd(i,l,d,p){sx=!1;var b=i.updateQueue;go=!1;var N=b.firstBaseUpdate,R=b.lastBaseUpdate,K=b.shared.pending;if(K!==null){b.shared.pending=null;var ee=K,pe=ee.next;ee.next=null,R===null?N=pe:R.next=pe,R=ee;var je=i.alternate;je!==null&&(je=je.updateQueue,K=je.lastBaseUpdate,K!==R&&(K===null?je.firstBaseUpdate=pe:K.next=pe,je.lastBaseUpdate=ee))}if(N!==null){var Te=b.baseState;R=0,je=pe=ee=null,K=N;do{var ye=K.lane&-536870913,be=ye!==K.lane;if(be?(gt&ye)===ye:(p&ye)===ye){ye!==0&&ye===eu&&(sx=!0),je!==null&&(je=je.next={lane:0,tag:K.tag,payload:K.payload,callback:null,next:null});e:{var Ke=i,tt=K;ye=l;var Bt=d;switch(tt.tag){case 1:if(Ke=tt.payload,typeof Ke=="function"){Te=Ke.call(Bt,Te,ye);break e}Te=Ke;break e;case 3:Ke.flags=Ke.flags&-65537|128;case 0:if(Ke=tt.payload,ye=typeof Ke=="function"?Ke.call(Bt,Te,ye):Ke,ye==null)break e;Te=g({},Te,ye);break e;case 2:go=!0}}ye=K.callback,ye!==null&&(i.flags|=64,be&&(i.flags|=8192),be=b.callbacks,be===null?b.callbacks=[ye]:be.push(ye))}else be={lane:ye,tag:K.tag,payload:K.payload,callback:K.callback,next:null},je===null?(pe=je=be,ee=Te):je=je.next=be,R|=ye;if(K=K.next,K===null){if(K=b.shared.pending,K===null)break;be=K,K=be.next,be.next=null,b.lastBaseUpdate=be,b.shared.pending=null}}while(!0);je===null&&(ee=Te),b.baseState=ee,b.firstBaseUpdate=pe,b.lastBaseUpdate=je,N===null&&(b.shared.lanes=0),No|=R,i.lanes=R,i.memoizedState=Te}}function _j(i,l){if(typeof i!="function")throw Error(r(191,i));i.call(l)}function Nj(i,l){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)_j(d[i],l)}var au=L(null),Pm=L(0);function jj(i,l){i=ps,se(Pm,i),se(au,l),ps=i|l.baseLanes}function ox(){se(Pm,ps),se(au,au.current)}function lx(){ps=Pm.current,F(au),F(Pm)}var Yr=L(null),Na=null;function vo(i){var l=i.alternate;se(fn,fn.current&1),se(Yr,i),Na===null&&(l===null||au.current!==null||l.memoizedState!==null)&&(Na=i)}function cx(i){se(fn,fn.current),se(Yr,i),Na===null&&(Na=i)}function Ej(i){i.tag===22?(se(fn,fn.current),se(Yr,i),Na===null&&(Na=i)):bo()}function bo(){se(fn,fn.current),se(Yr,Yr.current)}function Wr(i){F(Yr),Na===i&&(Na=null),F(fn)}var fn=L(0);function Mm(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||pv(d)||gv(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var os=0,ut=null,Ut=null,_n=null,Lm=!1,iu=!1,Ll=!1,zm=0,Qd=0,su=null,kL=0;function cn(){throw Error(r(321))}function ux(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!Gr(i[d],l[d]))return!1;return!0}function dx(i,l,d,p,b,N){return os=N,ut=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,q.H=i===null||i.memoizedState===null?lE:Sx,Ll=!1,N=d(p,b),Ll=!1,iu&&(N=Aj(l,d,p,b)),Sj(i),N}function Sj(i){q.H=eh;var l=Ut!==null&&Ut.next!==null;if(os=0,_n=Ut=ut=null,Lm=!1,Qd=0,su=null,l)throw Error(r(300));i===null||Nn||(i=i.dependencies,i!==null&&Tm(i)&&(Nn=!0))}function Aj(i,l,d,p){ut=i;var b=0;do{if(iu&&(su=null),Qd=0,iu=!1,25<=b)throw Error(r(301));if(b+=1,_n=Ut=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}q.H=cE,N=l(d,p)}while(iu);return N}function IL(){var i=q.H,l=i.useState()[0];return l=typeof l.then=="function"?Zd(l):l,i=i.useState()[0],(Ut!==null?Ut.memoizedState:null)!==i&&(ut.flags|=1024),l}function hx(){var i=zm!==0;return zm=0,i}function fx(i,l,d){l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~d}function mx(i){if(Lm){for(i=i.memoizedState;i!==null;){var l=i.queue;l!==null&&(l.pending=null),i=i.next}Lm=!1}os=0,_n=Ut=ut=null,iu=!1,Qd=zm=0,su=null}function xr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?ut.memoizedState=_n=i:_n=_n.next=i,_n}function mn(){if(Ut===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var l=_n===null?ut.memoizedState:_n.next;if(l!==null)_n=l,Ut=i;else{if(i===null)throw ut.alternate===null?Error(r(467)):Error(r(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},_n===null?ut.memoizedState=_n=i:_n=_n.next=i}return _n}function Um(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zd(i){var l=Qd;return Qd+=1,su===null&&(su=[]),i=yj(su,i,l),l=ut,(_n===null?l.memoizedState:_n.next)===null&&(l=l.alternate,q.H=l===null||l.memoizedState===null?lE:Sx),i}function Vm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zd(i);if(i.$$typeof===C)return Wn(i)}throw Error(r(438,String(i)))}function px(i){var l=null,d=ut.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var p=ut.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(b){return b.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=Um(),ut.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(i),p=0;p<i;p++)d[p]=G;return l.index++,d}function ls(i,l){return typeof l=="function"?l(i):l}function Bm(i){var l=mn();return gx(l,Ut,i)}function gx(i,l,d){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var b=i.baseQueue,N=p.pending;if(N!==null){if(b!==null){var R=b.next;b.next=N.next,N.next=R}l.baseQueue=b=N,p.pending=null}if(N=i.baseState,b===null)i.memoizedState=N;else{l=b.next;var K=R=null,ee=null,pe=l,je=!1;do{var Te=pe.lane&-536870913;if(Te!==pe.lane?(gt&Te)===Te:(os&Te)===Te){var ye=pe.revertLane;if(ye===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Te===eu&&(je=!0);else if((os&ye)===ye){pe=pe.next,ye===eu&&(je=!0);continue}else Te={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ee===null?(K=ee=Te,R=N):ee=ee.next=Te,ut.lanes|=ye,No|=ye;Te=pe.action,Ll&&d(N,Te),N=pe.hasEagerState?pe.eagerState:d(N,Te)}else ye={lane:Te,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ee===null?(K=ee=ye,R=N):ee=ee.next=ye,ut.lanes|=Te,No|=Te;pe=pe.next}while(pe!==null&&pe!==l);if(ee===null?R=N:ee.next=K,!Gr(N,i.memoizedState)&&(Nn=!0,je&&(d=tu,d!==null)))throw d;i.memoizedState=N,i.baseState=R,i.baseQueue=ee,p.lastRenderedState=N}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function yx(i){var l=mn(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var p=d.dispatch,b=d.pending,N=l.memoizedState;if(b!==null){d.pending=null;var R=b=b.next;do N=i(N,R.action),R=R.next;while(R!==b);Gr(N,l.memoizedState)||(Nn=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),d.lastRenderedState=N}return[N,p]}function Tj(i,l,d){var p=ut,b=mn(),N=wt;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=l();var R=!Gr((Ut||b).memoizedState,d);if(R&&(b.memoizedState=d,Nn=!0),b=b.queue,bx(Ij.bind(null,p,b,i),[i]),b.getSnapshot!==l||R||_n!==null&&_n.memoizedState.tag&1){if(p.flags|=2048,ou(9,{destroy:void 0},kj.bind(null,p,b,d,l),null),Ft===null)throw Error(r(349));N||(os&127)!==0||Cj(p,l,d)}return d}function Cj(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=ut.updateQueue,l===null?(l=Um(),ut.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function kj(i,l,d,p){l.value=d,l.getSnapshot=p,Rj(l)&&Oj(i)}function Ij(i,l,d){return d(function(){Rj(l)&&Oj(i)})}function Rj(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!Gr(i,d)}catch{return!0}}function Oj(i){var l=Tl(i,2);l!==null&&Dr(l,i,2)}function xx(i){var l=xr();if(typeof i=="function"){var d=i;if(i=d(),Ll){tn(!0);try{d()}finally{tn(!1)}}}return l.memoizedState=l.baseState=i,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:i},l}function Dj(i,l,d,p){return i.baseState=d,gx(i,Ut,typeof p=="function"?p:ls)}function RL(i,l,d,p,b){if($m(i))throw Error(r(485));if(i=l.action,i!==null){var N={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){N.listeners.push(R)}};q.T!==null?d(!0):N.isTransition=!1,p(N),d=l.pending,d===null?(N.next=l.pending=N,Pj(l,N)):(N.next=d.next,l.pending=d.next=N)}}function Pj(i,l){var d=l.action,p=l.payload,b=i.state;if(l.isTransition){var N=q.T,R={};q.T=R;try{var K=d(b,p),ee=q.S;ee!==null&&ee(R,K),Mj(i,l,K)}catch(pe){vx(i,l,pe)}finally{N!==null&&R.types!==null&&(N.types=R.types),q.T=N}}else try{N=d(b,p),Mj(i,l,N)}catch(pe){vx(i,l,pe)}}function Mj(i,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Lj(i,l,p)},function(p){return vx(i,l,p)}):Lj(i,l,d)}function Lj(i,l,d){l.status="fulfilled",l.value=d,zj(l),i.state=d,l=i.pending,l!==null&&(d=l.next,d===l?i.pending=null:(d=d.next,l.next=d,Pj(i,d)))}function vx(i,l,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=d,zj(l),l=l.next;while(l!==p)}i.action=null}function zj(i){i=i.listeners;for(var l=0;l<i.length;l++)(0,i[l])()}function Uj(i,l){return l}function Vj(i,l){if(wt){var d=Ft.formState;if(d!==null){e:{var p=ut;if(wt){if(Kt){t:{for(var b=Kt,N=_a;b.nodeType!==8;){if(!N){b=null;break t}if(b=ja(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){Kt=ja(b.nextSibling),p=b.data==="F!";break e}}mo(p)}p=!1}p&&(l=d[0])}}return d=xr(),d.memoizedState=d.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uj,lastRenderedState:l},d.queue=p,d=iE.bind(null,ut,p),p.dispatch=d,p=xx(!1),N=Ex.bind(null,ut,!1,p.queue),p=xr(),b={state:l,dispatch:null,action:i,pending:null},p.queue=b,d=RL.bind(null,ut,b,N,d),b.dispatch=d,p.memoizedState=i,[l,d,!1]}function Bj(i){var l=mn();return Fj(l,Ut,i)}function Fj(i,l,d){if(l=gx(i,l,Uj)[0],i=Bm(ls)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=Zd(l)}catch(R){throw R===nu?Im:R}else p=l;l=mn();var b=l.queue,N=b.dispatch;return d!==l.memoizedState&&(ut.flags|=2048,ou(9,{destroy:void 0},OL.bind(null,b,d),null)),[p,N,i]}function OL(i,l){i.action=l}function qj(i){var l=mn(),d=Ut;if(d!==null)return Fj(l,d,i);mn(),l=l.memoizedState,d=mn();var p=d.queue.dispatch;return d.memoizedState=i,[l,p,!1]}function ou(i,l,d,p){return i={tag:i,create:d,deps:p,inst:l,next:null},l=ut.updateQueue,l===null&&(l=Um(),ut.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,l.lastEffect=i),i}function $j(){return mn().memoizedState}function Fm(i,l,d,p){var b=xr();ut.flags|=i,b.memoizedState=ou(1|l,{destroy:void 0},d,p===void 0?null:p)}function qm(i,l,d,p){var b=mn();p=p===void 0?null:p;var N=b.memoizedState.inst;Ut!==null&&p!==null&&ux(p,Ut.memoizedState.deps)?b.memoizedState=ou(l,N,d,p):(ut.flags|=i,b.memoizedState=ou(1|l,N,d,p))}function Hj(i,l){Fm(8390656,8,i,l)}function bx(i,l){qm(2048,8,i,l)}function DL(i){ut.flags|=4;var l=ut.updateQueue;if(l===null)l=Um(),ut.updateQueue=l,l.events=[i];else{var d=l.events;d===null?l.events=[i]:d.push(i)}}function Gj(i){var l=mn().memoizedState;return DL({ref:l,nextImpl:i}),function(){if((Ct&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function Kj(i,l){return qm(4,2,i,l)}function Yj(i,l){return qm(4,4,i,l)}function Wj(i,l){if(typeof l=="function"){i=i();var d=l(i);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Xj(i,l,d){d=d!=null?d.concat([i]):null,qm(4,4,Wj.bind(null,l,i),d)}function wx(){}function Qj(i,l){var d=mn();l=l===void 0?null:l;var p=d.memoizedState;return l!==null&&ux(l,p[1])?p[0]:(d.memoizedState=[i,l],i)}function Zj(i,l){var d=mn();l=l===void 0?null:l;var p=d.memoizedState;if(l!==null&&ux(l,p[1]))return p[0];if(p=i(),Ll){tn(!0);try{i()}finally{tn(!1)}}return d.memoizedState=[p,l],p}function _x(i,l,d){return d===void 0||(os&1073741824)!==0&&(gt&261930)===0?i.memoizedState=l:(i.memoizedState=d,i=JE(),ut.lanes|=i,No|=i,d)}function Jj(i,l,d,p){return Gr(d,l)?d:au.current!==null?(i=_x(i,d,p),Gr(i,l)||(Nn=!0),i):(os&42)===0||(os&1073741824)!==0&&(gt&261930)===0?(Nn=!0,i.memoizedState=d):(i=JE(),ut.lanes|=i,No|=i,l)}function eE(i,l,d,p,b){var N=Y.p;Y.p=N!==0&&8>N?N:8;var R=q.T,K={};q.T=K,Ex(i,!1,l,d);try{var ee=b(),pe=q.S;if(pe!==null&&pe(K,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var je=CL(ee,p);Jd(i,l,je,Zr(i))}else Jd(i,l,p,Zr(i))}catch(Te){Jd(i,l,{then:function(){},status:"rejected",reason:Te},Zr())}finally{Y.p=N,R!==null&&K.types!==null&&(R.types=K.types),q.T=R}}function PL(){}function Nx(i,l,d,p){if(i.tag!==5)throw Error(r(476));var b=tE(i).queue;eE(i,b,l,te,d===null?PL:function(){return nE(i),d(p)})}function tE(i){var l=i.memoizedState;if(l!==null)return l;l={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:te},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:d},next:null},i.memoizedState=l,i=i.alternate,i!==null&&(i.memoizedState=l),l}function nE(i){var l=tE(i);l.next===null&&(l=i.alternate.memoizedState),Jd(i,l.next.queue,{},Zr())}function jx(){return Wn(gh)}function rE(){return mn().memoizedState}function aE(){return mn().memoizedState}function ML(i){for(var l=i.return;l!==null;){switch(l.tag){case 24:case 3:var d=Zr();i=yo(d);var p=xo(l,i,d);p!==null&&(Dr(p,l,d),Yd(p,l,d)),l={cache:Jy()},i.payload=l;return}l=l.return}}function LL(i,l,d){var p=Zr();d={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},$m(i)?sE(l,d):(d=Fy(i,l,d,p),d!==null&&(Dr(d,i,p),oE(d,l,p)))}function iE(i,l,d){var p=Zr();Jd(i,l,d,p)}function Jd(i,l,d,p){var b={lane:p,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if($m(i))sE(l,b);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var R=l.lastRenderedState,K=N(R,d);if(b.hasEagerState=!0,b.eagerState=K,Gr(K,R))return jm(i,l,b,0),Ft===null&&Nm(),!1}catch{}finally{}if(d=Fy(i,l,b,p),d!==null)return Dr(d,i,p),oE(d,l,p),!0}return!1}function Ex(i,l,d,p){if(p={lane:2,revertLane:rv(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},$m(i)){if(l)throw Error(r(479))}else l=Fy(i,d,p,2),l!==null&&Dr(l,i,2)}function $m(i){var l=i.alternate;return i===ut||l!==null&&l===ut}function sE(i,l){iu=Lm=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function oE(i,l,d){if((d&4194048)!==0){var p=l.lanes;p&=i.pendingLanes,d|=p,l.lanes=d,wd(i,d)}}var eh={readContext:Wn,use:Vm,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn};eh.useEffectEvent=cn;var lE={readContext:Wn,use:Vm,useCallback:function(i,l){return xr().memoizedState=[i,l===void 0?null:l],i},useContext:Wn,useEffect:Hj,useImperativeHandle:function(i,l,d){d=d!=null?d.concat([i]):null,Fm(4194308,4,Wj.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Fm(4194308,4,i,l)},useInsertionEffect:function(i,l){Fm(4,2,i,l)},useMemo:function(i,l){var d=xr();l=l===void 0?null:l;var p=i();if(Ll){tn(!0);try{i()}finally{tn(!1)}}return d.memoizedState=[p,l],p},useReducer:function(i,l,d){var p=xr();if(d!==void 0){var b=d(l);if(Ll){tn(!0);try{d(l)}finally{tn(!1)}}}else b=l;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=LL.bind(null,ut,i),[p.memoizedState,i]},useRef:function(i){var l=xr();return i={current:i},l.memoizedState=i},useState:function(i){i=xx(i);var l=i.queue,d=iE.bind(null,ut,l);return l.dispatch=d,[i.memoizedState,d]},useDebugValue:wx,useDeferredValue:function(i,l){var d=xr();return _x(d,i,l)},useTransition:function(){var i=xx(!1);return i=eE.bind(null,ut,i.queue,!0,!1),xr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,l,d){var p=ut,b=xr();if(wt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Ft===null)throw Error(r(349));(gt&127)!==0||Cj(p,l,d)}b.memoizedState=d;var N={value:d,getSnapshot:l};return b.queue=N,Hj(Ij.bind(null,p,N,i),[i]),p.flags|=2048,ou(9,{destroy:void 0},kj.bind(null,p,N,d,l),null),d},useId:function(){var i=xr(),l=Ft.identifierPrefix;if(wt){var d=Ii,p=ki;d=(p&~(1<<32-jt(p)-1)).toString(32)+d,l="_"+l+"R_"+d,d=zm++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=kL++,l="_"+l+"r_"+d.toString(32)+"_";return i.memoizedState=l},useHostTransitionStatus:jx,useFormState:Vj,useActionState:Vj,useOptimistic:function(i){var l=xr();l.memoizedState=l.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Ex.bind(null,ut,!0,d),d.dispatch=l,[i,l]},useMemoCache:px,useCacheRefresh:function(){return xr().memoizedState=ML.bind(null,ut)},useEffectEvent:function(i){var l=xr(),d={impl:i};return l.memoizedState=d,function(){if((Ct&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Sx={readContext:Wn,use:Vm,useCallback:Qj,useContext:Wn,useEffect:bx,useImperativeHandle:Xj,useInsertionEffect:Kj,useLayoutEffect:Yj,useMemo:Zj,useReducer:Bm,useRef:$j,useState:function(){return Bm(ls)},useDebugValue:wx,useDeferredValue:function(i,l){var d=mn();return Jj(d,Ut.memoizedState,i,l)},useTransition:function(){var i=Bm(ls)[0],l=mn().memoizedState;return[typeof i=="boolean"?i:Zd(i),l]},useSyncExternalStore:Tj,useId:rE,useHostTransitionStatus:jx,useFormState:Bj,useActionState:Bj,useOptimistic:function(i,l){var d=mn();return Dj(d,Ut,i,l)},useMemoCache:px,useCacheRefresh:aE};Sx.useEffectEvent=Gj;var cE={readContext:Wn,use:Vm,useCallback:Qj,useContext:Wn,useEffect:bx,useImperativeHandle:Xj,useInsertionEffect:Kj,useLayoutEffect:Yj,useMemo:Zj,useReducer:yx,useRef:$j,useState:function(){return yx(ls)},useDebugValue:wx,useDeferredValue:function(i,l){var d=mn();return Ut===null?_x(d,i,l):Jj(d,Ut.memoizedState,i,l)},useTransition:function(){var i=yx(ls)[0],l=mn().memoizedState;return[typeof i=="boolean"?i:Zd(i),l]},useSyncExternalStore:Tj,useId:rE,useHostTransitionStatus:jx,useFormState:qj,useActionState:qj,useOptimistic:function(i,l){var d=mn();return Ut!==null?Dj(d,Ut,i,l):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:px,useCacheRefresh:aE};cE.useEffectEvent=Gj;function Ax(i,l,d,p){l=i.memoizedState,d=d(p,l),d=d==null?l:g({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var Tx={enqueueSetState:function(i,l,d){i=i._reactInternals;var p=Zr(),b=yo(p);b.payload=l,d!=null&&(b.callback=d),l=xo(i,b,p),l!==null&&(Dr(l,i,p),Yd(l,i,p))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var p=Zr(),b=yo(p);b.tag=1,b.payload=l,d!=null&&(b.callback=d),l=xo(i,b,p),l!==null&&(Dr(l,i,p),Yd(l,i,p))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Zr(),p=yo(d);p.tag=2,l!=null&&(p.callback=l),l=xo(i,p,d),l!==null&&(Dr(l,i,d),Yd(l,i,d))}};function uE(i,l,d,p,b,N,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,R):l.prototype&&l.prototype.isPureReactComponent?!Vd(d,p)||!Vd(b,N):!0}function dE(i,l,d,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==i&&Tx.enqueueReplaceState(l,l.state,null)}function zl(i,l){var d=l;if("ref"in l){d={};for(var p in l)p!=="ref"&&(d[p]=l[p])}if(i=i.defaultProps){d===l&&(d=g({},d));for(var b in i)d[b]===void 0&&(d[b]=i[b])}return d}function hE(i){_m(i)}function fE(i){console.error(i)}function mE(i){_m(i)}function Hm(i,l){try{var d=i.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function pE(i,l,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Cx(i,l,d){return d=yo(d),d.tag=3,d.payload={element:null},d.callback=function(){Hm(i,l)},d}function gE(i){return i=yo(i),i.tag=3,i}function yE(i,l,d,p){var b=d.type.getDerivedStateFromError;if(typeof b=="function"){var N=p.value;i.payload=function(){return b(N)},i.callback=function(){pE(l,d,p)}}var R=d.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){pE(l,d,p),typeof b!="function"&&(jo===null?jo=new Set([this]):jo.add(this));var K=p.stack;this.componentDidCatch(p.value,{componentStack:K!==null?K:""})})}function zL(i,l,d,p,b){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=d.alternate,l!==null&&Jc(l,d,b,!0),d=Yr.current,d!==null){switch(d.tag){case 31:case 13:return Na===null?rp():d.alternate===null&&un===0&&(un=3),d.flags&=-257,d.flags|=65536,d.lanes=b,p===Rm?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([p]):l.add(p),ev(i,p,b)),!1;case 22:return d.flags|=65536,p===Rm?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([p]):d.add(p)),ev(i,p,b)),!1}throw Error(r(435,d.tag))}return ev(i,p,b),rp(),!1}if(wt)return l=Yr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=b,p!==Yy&&(i=Error(r(422),{cause:p}),qd(va(i,d)))):(p!==Yy&&(l=Error(r(423),{cause:p}),qd(va(l,d))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=va(p,d),b=Cx(i.stateNode,p,b),ix(i,b),un!==4&&(un=2)),!1;var N=Error(r(520),{cause:p});if(N=va(N,d),lh===null?lh=[N]:lh.push(N),un!==4&&(un=2),l===null)return!0;p=va(p,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,i=b&-b,d.lanes|=i,i=Cx(d.stateNode,p,i),ix(d,i),!1;case 1:if(l=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(jo===null||!jo.has(N))))return d.flags|=65536,b&=-b,d.lanes|=b,b=gE(b),yE(b,i,d,p),ix(d,b),!1}d=d.return}while(d!==null);return!1}var kx=Error(r(461)),Nn=!1;function Xn(i,l,d,p){l.child=i===null?wj(l,null,d,p):Ml(l,i.child,d,p)}function xE(i,l,d,p,b){d=d.render;var N=l.ref;if("ref"in p){var R={};for(var K in p)K!=="ref"&&(R[K]=p[K])}else R=p;return Rl(l),p=dx(i,l,d,R,N,b),K=hx(),i!==null&&!Nn?(fx(i,l,b),cs(i,l,b)):(wt&&K&&Gy(l),l.flags|=1,Xn(i,l,p,b),l.child)}function vE(i,l,d,p,b){if(i===null){var N=d.type;return typeof N=="function"&&!qy(N)&&N.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=N,bE(i,l,N,p,b)):(i=Sm(d.type,null,p,l,l.mode,b),i.ref=l.ref,i.return=l,l.child=i)}if(N=i.child,!zx(i,b)){var R=N.memoizedProps;if(d=d.compare,d=d!==null?d:Vd,d(R,p)&&i.ref===l.ref)return cs(i,l,b)}return l.flags|=1,i=rs(N,p),i.ref=l.ref,i.return=l,l.child=i}function bE(i,l,d,p,b){if(i!==null){var N=i.memoizedProps;if(Vd(N,p)&&i.ref===l.ref)if(Nn=!1,l.pendingProps=p=N,zx(i,b))(i.flags&131072)!==0&&(Nn=!0);else return l.lanes=i.lanes,cs(i,l,b)}return Ix(i,l,d,p,b)}function wE(i,l,d,p){var b=p.children,N=i!==null?i.memoizedState:null;if(i===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(N=N!==null?N.baseLanes|d:d,i!==null){for(p=l.child=i.child,b=0;p!==null;)b=b|p.lanes|p.childLanes,p=p.sibling;p=b&~N}else p=0,l.child=null;return _E(i,l,N,d,p)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},i!==null&&km(l,N!==null?N.cachePool:null),N!==null?jj(l,N):ox(),Ej(l);else return p=l.lanes=536870912,_E(i,l,N!==null?N.baseLanes|d:d,d,p)}else N!==null?(km(l,N.cachePool),jj(l,N),bo(),l.memoizedState=null):(i!==null&&km(l,null),ox(),bo());return Xn(i,l,b,d),l.child}function th(i,l){return i!==null&&i.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function _E(i,l,d,p,b){var N=tx();return N=N===null?null:{parent:wn._currentValue,pool:N},l.memoizedState={baseLanes:d,cachePool:N},i!==null&&km(l,null),ox(),Ej(l),i!==null&&Jc(i,l,p,!0),l.childLanes=b,null}function Gm(i,l){return l=Ym({mode:l.mode,children:l.children},i.mode),l.ref=i.ref,i.child=l,l.return=i,l}function NE(i,l,d){return Ml(l,i.child,null,d),i=Gm(l,l.pendingProps),i.flags|=2,Wr(l),l.memoizedState=null,i}function UL(i,l,d){var p=l.pendingProps,b=(l.flags&128)!==0;if(l.flags&=-129,i===null){if(wt){if(p.mode==="hidden")return i=Gm(l,p),l.lanes=536870912,th(null,i);if(cx(l),(i=Kt)?(i=PS(i,_a),i=i!==null&&i.data==="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:ho!==null?{id:ki,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},d=sj(i),d.return=l,l.child=d,Yn=l,Kt=null)):i=null,i===null)throw mo(l);return l.lanes=536870912,null}return Gm(l,p)}var N=i.memoizedState;if(N!==null){var R=N.dehydrated;if(cx(l),b)if(l.flags&256)l.flags&=-257,l=NE(i,l,d);else if(l.memoizedState!==null)l.child=i.child,l.flags|=128,l=null;else throw Error(r(558));else if(Nn||Jc(i,l,d,!1),b=(d&i.childLanes)!==0,Nn||b){if(p=Ft,p!==null&&(R=_d(p,d),R!==0&&R!==N.retryLane))throw N.retryLane=R,Tl(i,R),Dr(p,i,R),kx;rp(),l=NE(i,l,d)}else i=N.treeContext,Kt=ja(R.nextSibling),Yn=l,wt=!0,fo=null,_a=!1,i!==null&&cj(l,i),l=Gm(l,p),l.flags|=4096;return l}return i=rs(i.child,{mode:p.mode,children:p.children}),i.ref=l.ref,l.child=i,i.return=l,i}function Km(i,l){var d=l.ref;if(d===null)i!==null&&i.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(l.flags|=4194816)}}function Ix(i,l,d,p,b){return Rl(l),d=dx(i,l,d,p,void 0,b),p=hx(),i!==null&&!Nn?(fx(i,l,b),cs(i,l,b)):(wt&&p&&Gy(l),l.flags|=1,Xn(i,l,d,b),l.child)}function jE(i,l,d,p,b,N){return Rl(l),l.updateQueue=null,d=Aj(l,p,d,b),Sj(i),p=hx(),i!==null&&!Nn?(fx(i,l,N),cs(i,l,N)):(wt&&p&&Gy(l),l.flags|=1,Xn(i,l,d,N),l.child)}function EE(i,l,d,p,b){if(Rl(l),l.stateNode===null){var N=Wc,R=d.contextType;typeof R=="object"&&R!==null&&(N=Wn(R)),N=new d(p,N),l.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Tx,l.stateNode=N,N._reactInternals=l,N=l.stateNode,N.props=p,N.state=l.memoizedState,N.refs={},rx(l),R=d.contextType,N.context=typeof R=="object"&&R!==null?Wn(R):Wc,N.state=l.memoizedState,R=d.getDerivedStateFromProps,typeof R=="function"&&(Ax(l,d,R,p),N.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(R=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),R!==N.state&&Tx.enqueueReplaceState(N,N.state,null),Xd(l,p,N,b),Wd(),N.state=l.memoizedState),typeof N.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(i===null){N=l.stateNode;var K=l.memoizedProps,ee=zl(d,K);N.props=ee;var pe=N.context,je=d.contextType;R=Wc,typeof je=="object"&&je!==null&&(R=Wn(je));var Te=d.getDerivedStateFromProps;je=typeof Te=="function"||typeof N.getSnapshotBeforeUpdate=="function",K=l.pendingProps!==K,je||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(K||pe!==R)&&dE(l,N,p,R),go=!1;var ye=l.memoizedState;N.state=ye,Xd(l,p,N,b),Wd(),pe=l.memoizedState,K||ye!==pe||go?(typeof Te=="function"&&(Ax(l,d,Te,p),pe=l.memoizedState),(ee=go||uE(l,d,ee,p,ye,pe,R))?(je||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(l.flags|=4194308)):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=pe),N.props=p,N.state=pe,N.context=R,p=ee):(typeof N.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{N=l.stateNode,ax(i,l),R=l.memoizedProps,je=zl(d,R),N.props=je,Te=l.pendingProps,ye=N.context,pe=d.contextType,ee=Wc,typeof pe=="object"&&pe!==null&&(ee=Wn(pe)),K=d.getDerivedStateFromProps,(pe=typeof K=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(R!==Te||ye!==ee)&&dE(l,N,p,ee),go=!1,ye=l.memoizedState,N.state=ye,Xd(l,p,N,b),Wd();var be=l.memoizedState;R!==Te||ye!==be||go||i!==null&&i.dependencies!==null&&Tm(i.dependencies)?(typeof K=="function"&&(Ax(l,d,K,p),be=l.memoizedState),(je=go||uE(l,d,je,p,ye,be,ee)||i!==null&&i.dependencies!==null&&Tm(i.dependencies))?(pe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,be,ee),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,be,ee)),typeof N.componentDidUpdate=="function"&&(l.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof N.componentDidUpdate!="function"||R===i.memoizedProps&&ye===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ye===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=be),N.props=p,N.state=be,N.context=ee,p=je):(typeof N.componentDidUpdate!="function"||R===i.memoizedProps&&ye===i.memoizedState||(l.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&ye===i.memoizedState||(l.flags|=1024),p=!1)}return N=p,Km(i,l),p=(l.flags&128)!==0,N||p?(N=l.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),l.flags|=1,i!==null&&p?(l.child=Ml(l,i.child,null,b),l.child=Ml(l,null,d,b)):Xn(i,l,d,b),l.memoizedState=N.state,i=l.child):i=cs(i,l,b),i}function SE(i,l,d,p){return kl(),l.flags|=256,Xn(i,l,d,p),l.child}var Rx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ox(i){return{baseLanes:i,cachePool:pj()}}function Dx(i,l,d){return i=i!==null?i.childLanes&~d:0,l&&(i|=Qr),i}function AE(i,l,d){var p=l.pendingProps,b=!1,N=(l.flags&128)!==0,R;if((R=N)||(R=i!==null&&i.memoizedState===null?!1:(fn.current&2)!==0),R&&(b=!0,l.flags&=-129),R=(l.flags&32)!==0,l.flags&=-33,i===null){if(wt){if(b?vo(l):bo(),(i=Kt)?(i=PS(i,_a),i=i!==null&&i.data!=="&"?i:null,i!==null&&(l.memoizedState={dehydrated:i,treeContext:ho!==null?{id:ki,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},d=sj(i),d.return=l,l.child=d,Yn=l,Kt=null)):i=null,i===null)throw mo(l);return gv(i)?l.lanes=32:l.lanes=536870912,null}var K=p.children;return p=p.fallback,b?(bo(),b=l.mode,K=Ym({mode:"hidden",children:K},b),p=Cl(p,b,d,null),K.return=l,p.return=l,K.sibling=p,l.child=K,p=l.child,p.memoizedState=Ox(d),p.childLanes=Dx(i,R,d),l.memoizedState=Rx,th(null,p)):(vo(l),Px(l,K))}var ee=i.memoizedState;if(ee!==null&&(K=ee.dehydrated,K!==null)){if(N)l.flags&256?(vo(l),l.flags&=-257,l=Mx(i,l,d)):l.memoizedState!==null?(bo(),l.child=i.child,l.flags|=128,l=null):(bo(),K=p.fallback,b=l.mode,p=Ym({mode:"visible",children:p.children},b),K=Cl(K,b,d,null),K.flags|=2,p.return=l,K.return=l,p.sibling=K,l.child=p,Ml(l,i.child,null,d),p=l.child,p.memoizedState=Ox(d),p.childLanes=Dx(i,R,d),l.memoizedState=Rx,l=th(null,p));else if(vo(l),gv(K)){if(R=K.nextSibling&&K.nextSibling.dataset,R)var pe=R.dgst;R=pe,p=Error(r(419)),p.stack="",p.digest=R,qd({value:p,source:null,stack:null}),l=Mx(i,l,d)}else if(Nn||Jc(i,l,d,!1),R=(d&i.childLanes)!==0,Nn||R){if(R=Ft,R!==null&&(p=_d(R,d),p!==0&&p!==ee.retryLane))throw ee.retryLane=p,Tl(i,p),Dr(R,i,p),kx;pv(K)||rp(),l=Mx(i,l,d)}else pv(K)?(l.flags|=192,l.child=i.child,l=null):(i=ee.treeContext,Kt=ja(K.nextSibling),Yn=l,wt=!0,fo=null,_a=!1,i!==null&&cj(l,i),l=Px(l,p.children),l.flags|=4096);return l}return b?(bo(),K=p.fallback,b=l.mode,ee=i.child,pe=ee.sibling,p=rs(ee,{mode:"hidden",children:p.children}),p.subtreeFlags=ee.subtreeFlags&65011712,pe!==null?K=rs(pe,K):(K=Cl(K,b,d,null),K.flags|=2),K.return=l,p.return=l,p.sibling=K,l.child=p,th(null,p),p=l.child,K=i.child.memoizedState,K===null?K=Ox(d):(b=K.cachePool,b!==null?(ee=wn._currentValue,b=b.parent!==ee?{parent:ee,pool:ee}:b):b=pj(),K={baseLanes:K.baseLanes|d,cachePool:b}),p.memoizedState=K,p.childLanes=Dx(i,R,d),l.memoizedState=Rx,th(i.child,p)):(vo(l),d=i.child,i=d.sibling,d=rs(d,{mode:"visible",children:p.children}),d.return=l,d.sibling=null,i!==null&&(R=l.deletions,R===null?(l.deletions=[i],l.flags|=16):R.push(i)),l.child=d,l.memoizedState=null,d)}function Px(i,l){return l=Ym({mode:"visible",children:l},i.mode),l.return=i,i.child=l}function Ym(i,l){return i=Kr(22,i,null,l),i.lanes=0,i}function Mx(i,l,d){return Ml(l,i.child,null,d),i=Px(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function TE(i,l,d){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),Qy(i.return,l,d)}function Lx(i,l,d,p,b,N){var R=i.memoizedState;R===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:b,treeForkCount:N}:(R.isBackwards=l,R.rendering=null,R.renderingStartTime=0,R.last=p,R.tail=d,R.tailMode=b,R.treeForkCount=N)}function CE(i,l,d){var p=l.pendingProps,b=p.revealOrder,N=p.tail;p=p.children;var R=fn.current,K=(R&2)!==0;if(K?(R=R&1|2,l.flags|=128):R&=1,se(fn,R),Xn(i,l,p,d),p=wt?Fd:0,!K&&i!==null&&(i.flags&128)!==0)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&TE(i,d,l);else if(i.tag===19)TE(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(b){case"forwards":for(d=l.child,b=null;d!==null;)i=d.alternate,i!==null&&Mm(i)===null&&(b=d),d=d.sibling;d=b,d===null?(b=l.child,l.child=null):(b=d.sibling,d.sibling=null),Lx(l,!1,b,d,N,p);break;case"backwards":case"unstable_legacy-backwards":for(d=null,b=l.child,l.child=null;b!==null;){if(i=b.alternate,i!==null&&Mm(i)===null){l.child=b;break}i=b.sibling,b.sibling=d,d=b,b=i}Lx(l,!0,d,null,N,p);break;case"together":Lx(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function cs(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),No|=l.lanes,(d&l.childLanes)===0)if(i!==null){if(Jc(i,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=rs(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=rs(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function zx(i,l){return(i.lanes&l)!==0?!0:(i=i.dependencies,!!(i!==null&&Tm(i)))}function VL(i,l,d){switch(l.tag){case 3:re(l,l.stateNode.containerInfo),po(l,wn,i.memoizedState.cache),kl();break;case 27:case 5:ze(l);break;case 4:re(l,l.stateNode.containerInfo);break;case 10:po(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,cx(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(vo(l),l.flags|=128,null):(d&l.child.childLanes)!==0?AE(i,l,d):(vo(l),i=cs(i,l,d),i!==null?i.sibling:null);vo(l);break;case 19:var b=(i.flags&128)!==0;if(p=(d&l.childLanes)!==0,p||(Jc(i,l,d,!1),p=(d&l.childLanes)!==0),b){if(p)return CE(i,l,d);l.flags|=128}if(b=l.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),se(fn,fn.current),p)break;return null;case 22:return l.lanes=0,wE(i,l,d,l.pendingProps);case 24:po(l,wn,i.memoizedState.cache)}return cs(i,l,d)}function kE(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps)Nn=!0;else{if(!zx(i,d)&&(l.flags&128)===0)return Nn=!1,VL(i,l,d);Nn=(i.flags&131072)!==0}else Nn=!1,wt&&(l.flags&1048576)!==0&&lj(l,Fd,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(i=Dl(l.elementType),l.type=i,typeof i=="function")qy(i)?(p=zl(i,p),l.tag=1,l=EE(null,l,i,p,d)):(l.tag=0,l=Ix(null,l,i,p,d));else{if(i!=null){var b=i.$$typeof;if(b===V){l.tag=11,l=xE(null,l,i,p,d);break e}else if(b===O){l.tag=14,l=vE(null,l,i,p,d);break e}}throw l=I(i)||i,Error(r(306,l,""))}}return l;case 0:return Ix(i,l,l.type,l.pendingProps,d);case 1:return p=l.type,b=zl(p,l.pendingProps),EE(i,l,p,b,d);case 3:e:{if(re(l,l.stateNode.containerInfo),i===null)throw Error(r(387));p=l.pendingProps;var N=l.memoizedState;b=N.element,ax(i,l),Xd(l,p,null,d);var R=l.memoizedState;if(p=R.cache,po(l,wn,p),p!==N.cache&&Zy(l,[wn],d,!0),Wd(),p=R.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:R.cache},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){l=SE(i,l,p,d);break e}else if(p!==b){b=va(Error(r(424)),l),qd(b),l=SE(i,l,p,d);break e}else{switch(i=l.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Kt=ja(i.firstChild),Yn=l,wt=!0,fo=null,_a=!0,d=wj(l,null,p,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(kl(),p===b){l=cs(i,l,d);break e}Xn(i,l,p,d)}l=l.child}return l;case 26:return Km(i,l),i===null?(d=BS(l.type,null,l.pendingProps,null))?l.memoizedState=d:wt||(d=l.type,i=l.pendingProps,p=up(Re.current).createElement(d),p[xn]=l,p[Ln]=i,Qn(p,d,i),vn(p),l.stateNode=p):l.memoizedState=BS(l.type,i.memoizedProps,l.pendingProps,i.memoizedState),null;case 27:return ze(l),i===null&&wt&&(p=l.stateNode=zS(l.type,l.pendingProps,Re.current),Yn=l,_a=!0,b=Kt,To(l.type)?(yv=b,Kt=ja(p.firstChild)):Kt=b),Xn(i,l,l.pendingProps.children,d),Km(i,l),i===null&&(l.flags|=4194304),l.child;case 5:return i===null&&wt&&((b=p=Kt)&&(p=gz(p,l.type,l.pendingProps,_a),p!==null?(l.stateNode=p,Yn=l,Kt=ja(p.firstChild),_a=!1,b=!0):b=!1),b||mo(l)),ze(l),b=l.type,N=l.pendingProps,R=i!==null?i.memoizedProps:null,p=N.children,hv(b,N)?p=null:R!==null&&hv(b,R)&&(l.flags|=32),l.memoizedState!==null&&(b=dx(i,l,IL,null,null,d),gh._currentValue=b),Km(i,l),Xn(i,l,p,d),l.child;case 6:return i===null&&wt&&((i=d=Kt)&&(d=yz(d,l.pendingProps,_a),d!==null?(l.stateNode=d,Yn=l,Kt=null,i=!0):i=!1),i||mo(l)),null;case 13:return AE(i,l,d);case 4:return re(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=Ml(l,null,p,d):Xn(i,l,p,d),l.child;case 11:return xE(i,l,l.type,l.pendingProps,d);case 7:return Xn(i,l,l.pendingProps,d),l.child;case 8:return Xn(i,l,l.pendingProps.children,d),l.child;case 12:return Xn(i,l,l.pendingProps.children,d),l.child;case 10:return p=l.pendingProps,po(l,l.type,p.value),Xn(i,l,p.children,d),l.child;case 9:return b=l.type._context,p=l.pendingProps.children,Rl(l),b=Wn(b),p=p(b),l.flags|=1,Xn(i,l,p,d),l.child;case 14:return vE(i,l,l.type,l.pendingProps,d);case 15:return bE(i,l,l.type,l.pendingProps,d);case 19:return CE(i,l,d);case 31:return UL(i,l,d);case 22:return wE(i,l,d,l.pendingProps);case 24:return Rl(l),p=Wn(wn),i===null?(b=tx(),b===null&&(b=Ft,N=Jy(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=d),b=N),l.memoizedState={parent:p,cache:b},rx(l),po(l,wn,b)):((i.lanes&d)!==0&&(ax(i,l),Xd(l,null,null,d),Wd()),b=i.memoizedState,N=l.memoizedState,b.parent!==p?(b={parent:p,cache:p},l.memoizedState=b,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=b),po(l,wn,p)):(p=N.cache,po(l,wn,p),p!==b.cache&&Zy(l,[wn],d,!0))),Xn(i,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function us(i){i.flags|=4}function Ux(i,l,d,p,b){if((l=(i.mode&32)!==0)&&(l=!1),l){if(i.flags|=16777216,(b&335544128)===b)if(i.stateNode.complete)i.flags|=8192;else if(rS())i.flags|=8192;else throw Pl=Rm,nx}else i.flags&=-16777217}function IE(i,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!GS(l))if(rS())i.flags|=8192;else throw Pl=Rm,nx}function Wm(i,l){l!==null&&(i.flags|=4),i.flags&16384&&(l=i.tag!==22?tm():536870912,i.lanes|=l,du|=l)}function nh(i,l){if(!wt)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Yt(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(l)for(var b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)d|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=d,l}function BL(i,l,d){var p=l.pendingProps;switch(Ky(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(l),null;case 1:return Yt(l),null;case 3:return d=l.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),ss(wn),oe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(Zc(l)?us(l):i===null||i.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Wy())),Yt(l),null;case 26:var b=l.type,N=l.memoizedState;return i===null?(us(l),N!==null?(Yt(l),IE(l,N)):(Yt(l),Ux(l,b,null,p,d))):N?N!==i.memoizedState?(us(l),Yt(l),IE(l,N)):(Yt(l),l.flags&=-16777217):(i=i.memoizedProps,i!==p&&us(l),Yt(l),Ux(l,b,i,p,d)),null;case 27:if(Be(l),d=Re.current,b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&us(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Yt(l),null}i=le.current,Zc(l)?uj(l):(i=zS(b,p,d),l.stateNode=i,us(l))}return Yt(l),null;case 5:if(Be(l),b=l.type,i!==null&&l.stateNode!=null)i.memoizedProps!==p&&us(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Yt(l),null}if(N=le.current,Zc(l))uj(l);else{var R=up(Re.current);switch(N){case 1:N=R.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:N=R.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":N=R.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":N=R.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":N=R.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof p.is=="string"?R.createElement("select",{is:p.is}):R.createElement("select"),p.multiple?N.multiple=!0:p.size&&(N.size=p.size);break;default:N=typeof p.is=="string"?R.createElement(b,{is:p.is}):R.createElement(b)}}N[xn]=l,N[Ln]=p;e:for(R=l.child;R!==null;){if(R.tag===5||R.tag===6)N.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===l)break e;for(;R.sibling===null;){if(R.return===null||R.return===l)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}l.stateNode=N;e:switch(Qn(N,b,p),b){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&us(l)}}return Yt(l),Ux(l,l.type,i===null?null:i.memoizedProps,l.pendingProps,d),null;case 6:if(i&&l.stateNode!=null)i.memoizedProps!==p&&us(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(i=Re.current,Zc(l)){if(i=l.stateNode,d=l.memoizedProps,p=null,b=Yn,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[xn]=l,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||AS(i.nodeValue,d)),i||mo(l,!0)}else i=up(i).createTextNode(p),i[xn]=l,l.stateNode=i}return Yt(l),null;case 31:if(d=l.memoizedState,i===null||i.memoizedState!==null){if(p=Zc(l),d!==null){if(i===null){if(!p)throw Error(r(318));if(i=l.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[xn]=l}else kl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yt(l),i=!1}else d=Wy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return l.flags&256?(Wr(l),l):(Wr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Yt(l),null;case 13:if(p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Zc(l),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=l.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[xn]=l}else kl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Yt(l),b=!1}else b=Wy(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return l.flags&256?(Wr(l),l):(Wr(l),null)}return Wr(l),(l.flags&128)!==0?(l.lanes=d,l):(d=p!==null,i=i!==null&&i.memoizedState!==null,d&&(p=l.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool),N=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==b&&(p.flags|=2048)),d!==i&&d&&(l.child.flags|=8192),Wm(l,l.updateQueue),Yt(l),null);case 4:return oe(),i===null&&ov(l.stateNode.containerInfo),Yt(l),null;case 10:return ss(l.type),Yt(l),null;case 19:if(F(fn),p=l.memoizedState,p===null)return Yt(l),null;if(b=(l.flags&128)!==0,N=p.rendering,N===null)if(b)nh(p,!1);else{if(un!==0||i!==null&&(i.flags&128)!==0)for(i=l.child;i!==null;){if(N=Mm(i),N!==null){for(l.flags|=128,nh(p,!1),i=N.updateQueue,l.updateQueue=i,Wm(l,i),l.subtreeFlags=0,i=d,d=l.child;d!==null;)ij(d,i),d=d.sibling;return se(fn,fn.current&1|2),wt&&as(l,p.treeForkCount),l.child}i=i.sibling}p.tail!==null&&Me()>ep&&(l.flags|=128,b=!0,nh(p,!1),l.lanes=4194304)}else{if(!b)if(i=Mm(N),i!==null){if(l.flags|=128,b=!0,i=i.updateQueue,l.updateQueue=i,Wm(l,i),nh(p,!0),p.tail===null&&p.tailMode==="hidden"&&!N.alternate&&!wt)return Yt(l),null}else 2*Me()-p.renderingStartTime>ep&&d!==536870912&&(l.flags|=128,b=!0,nh(p,!1),l.lanes=4194304);p.isBackwards?(N.sibling=l.child,l.child=N):(i=p.last,i!==null?i.sibling=N:l.child=N,p.last=N)}return p.tail!==null?(i=p.tail,p.rendering=i,p.tail=i.sibling,p.renderingStartTime=Me(),i.sibling=null,d=fn.current,se(fn,b?d&1|2:d&1),wt&&as(l,p.treeForkCount),i):(Yt(l),null);case 22:case 23:return Wr(l),lx(),p=l.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(d&536870912)!==0&&(l.flags&128)===0&&(Yt(l),l.subtreeFlags&6&&(l.flags|=8192)):Yt(l),d=l.updateQueue,d!==null&&Wm(l,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==d&&(l.flags|=2048),i!==null&&F(Ol),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),ss(wn),Yt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function FL(i,l){switch(Ky(l),l.tag){case 1:return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return ss(wn),oe(),i=l.flags,(i&65536)!==0&&(i&128)===0?(l.flags=i&-65537|128,l):null;case 26:case 27:case 5:return Be(l),null;case 31:if(l.memoizedState!==null){if(Wr(l),l.alternate===null)throw Error(r(340));kl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 13:if(Wr(l),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));kl()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return F(fn),null;case 4:return oe(),null;case 10:return ss(l.type),null;case 22:case 23:return Wr(l),lx(),i!==null&&F(Ol),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 24:return ss(wn),null;case 25:return null;default:return null}}function RE(i,l){switch(Ky(l),l.tag){case 3:ss(wn),oe();break;case 26:case 27:case 5:Be(l);break;case 4:oe();break;case 31:l.memoizedState!==null&&Wr(l);break;case 13:Wr(l);break;case 19:F(fn);break;case 10:ss(l.type);break;case 22:case 23:Wr(l),lx(),i!==null&&F(Ol);break;case 24:ss(wn)}}function rh(i,l){try{var d=l.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var b=p.next;d=b;do{if((d.tag&i)===i){p=void 0;var N=d.create,R=d.inst;p=N(),R.destroy=p}d=d.next}while(d!==b)}}catch(K){Pt(l,l.return,K)}}function wo(i,l,d){try{var p=l.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var N=b.next;p=N;do{if((p.tag&i)===i){var R=p.inst,K=R.destroy;if(K!==void 0){R.destroy=void 0,b=l;var ee=d,pe=K;try{pe()}catch(je){Pt(b,ee,je)}}}p=p.next}while(p!==N)}}catch(je){Pt(l,l.return,je)}}function OE(i){var l=i.updateQueue;if(l!==null){var d=i.stateNode;try{Nj(l,d)}catch(p){Pt(i,i.return,p)}}}function DE(i,l,d){d.props=zl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Pt(i,l,p)}}function ah(i,l){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(b){Pt(i,l,b)}}function Ri(i,l){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(b){Pt(i,l,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(b){Pt(i,l,b)}else d.current=null}function PE(i){var l=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(b){Pt(i,i.return,b)}}function Vx(i,l,d){try{var p=i.stateNode;uz(p,i.type,d,l),p[Ln]=l}catch(b){Pt(i,i.return,b)}}function ME(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&To(i.type)||i.tag===4}function Bx(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ME(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&To(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Fx(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(i),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=Ga));else if(p!==4&&(p===27&&To(i.type)&&(d=i.stateNode,l=null),i=i.child,i!==null))for(Fx(i,l,d),i=i.sibling;i!==null;)Fx(i,l,d),i=i.sibling}function Xm(i,l,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(p!==4&&(p===27&&To(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Xm(i,l,d),i=i.sibling;i!==null;)Xm(i,l,d),i=i.sibling}function LE(i){var l=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,b=l.attributes;b.length;)l.removeAttributeNode(b[0]);Qn(l,p,d),l[xn]=i,l[Ln]=d}catch(N){Pt(i,i.return,N)}}var ds=!1,jn=!1,qx=!1,zE=typeof WeakSet=="function"?WeakSet:Set,Un=null;function qL(i,l){if(i=i.containerInfo,uv=yp,i=XN(i),My(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var b=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var R=0,K=-1,ee=-1,pe=0,je=0,Te=i,ye=null;t:for(;;){for(var be;Te!==d||b!==0&&Te.nodeType!==3||(K=R+b),Te!==N||p!==0&&Te.nodeType!==3||(ee=R+p),Te.nodeType===3&&(R+=Te.nodeValue.length),(be=Te.firstChild)!==null;)ye=Te,Te=be;for(;;){if(Te===i)break t;if(ye===d&&++pe===b&&(K=R),ye===N&&++je===p&&(ee=R),(be=Te.nextSibling)!==null)break;Te=ye,ye=Te.parentNode}Te=be}d=K===-1||ee===-1?null:{start:K,end:ee}}else d=null}d=d||{start:0,end:0}}else d=null;for(dv={focusedElem:i,selectionRange:d},yp=!1,Un=l;Un!==null;)if(l=Un,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,Un=i;else for(;Un!==null;){switch(l=Un,N=l.alternate,i=l.flags,l.tag){case 0:if((i&4)!==0&&(i=l.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)b=i[d],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=l,b=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var Ke=zl(d.type,b);i=p.getSnapshotBeforeUpdate(Ke,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(tt){Pt(d,d.return,tt)}}break;case 3:if((i&1024)!==0){if(i=l.stateNode.containerInfo,d=i.nodeType,d===9)mv(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":mv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=l.sibling,i!==null){i.return=l.return,Un=i;break}Un=l.return}}function UE(i,l,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:fs(i,d),p&4&&rh(5,d);break;case 1:if(fs(i,d),p&4)if(i=d.stateNode,l===null)try{i.componentDidMount()}catch(R){Pt(d,d.return,R)}else{var b=zl(d.type,l.memoizedProps);l=l.memoizedState;try{i.componentDidUpdate(b,l,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Pt(d,d.return,R)}}p&64&&OE(d),p&512&&ah(d,d.return);break;case 3:if(fs(i,d),p&64&&(i=d.updateQueue,i!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{Nj(i,l)}catch(R){Pt(d,d.return,R)}}break;case 27:l===null&&p&4&&LE(d);case 26:case 5:fs(i,d),l===null&&p&4&&PE(d),p&512&&ah(d,d.return);break;case 12:fs(i,d);break;case 31:fs(i,d),p&4&&FE(i,d);break;case 13:fs(i,d),p&4&&qE(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=ZL.bind(null,d),xz(i,d))));break;case 22:if(p=d.memoizedState!==null||ds,!p){l=l!==null&&l.memoizedState!==null||jn,b=ds;var N=jn;ds=p,(jn=l)&&!N?ms(i,d,(d.subtreeFlags&8772)!==0):fs(i,d),ds=b,jn=N}break;case 30:break;default:fs(i,d)}}function VE(i){var l=i.alternate;l!==null&&(i.alternate=null,VE(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&Pc(l)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var rn=null,kr=!1;function hs(i,l,d){for(d=d.child;d!==null;)BE(i,l,d),d=d.sibling}function BE(i,l,d){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(Ue,d)}catch{}switch(d.tag){case 26:jn||Ri(d,l),hs(i,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:jn||Ri(d,l);var p=rn,b=kr;To(d.type)&&(rn=d.stateNode,kr=!1),hs(i,l,d),fh(d.stateNode),rn=p,kr=b;break;case 5:jn||Ri(d,l);case 6:if(p=rn,b=kr,rn=null,hs(i,l,d),rn=p,kr=b,rn!==null)if(kr)try{(rn.nodeType===9?rn.body:rn.nodeName==="HTML"?rn.ownerDocument.body:rn).removeChild(d.stateNode)}catch(N){Pt(d,l,N)}else try{rn.removeChild(d.stateNode)}catch(N){Pt(d,l,N)}break;case 18:rn!==null&&(kr?(i=rn,OS(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),vu(i)):OS(rn,d.stateNode));break;case 4:p=rn,b=kr,rn=d.stateNode.containerInfo,kr=!0,hs(i,l,d),rn=p,kr=b;break;case 0:case 11:case 14:case 15:wo(2,d,l),jn||wo(4,d,l),hs(i,l,d);break;case 1:jn||(Ri(d,l),p=d.stateNode,typeof p.componentWillUnmount=="function"&&DE(d,l,p)),hs(i,l,d);break;case 21:hs(i,l,d);break;case 22:jn=(p=jn)||d.memoizedState!==null,hs(i,l,d),jn=p;break;default:hs(i,l,d)}}function FE(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{vu(i)}catch(d){Pt(l,l.return,d)}}}function qE(i,l){if(l.memoizedState===null&&(i=l.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{vu(i)}catch(d){Pt(l,l.return,d)}}function $L(i){switch(i.tag){case 31:case 13:case 19:var l=i.stateNode;return l===null&&(l=i.stateNode=new zE),l;case 22:return i=i.stateNode,l=i._retryCache,l===null&&(l=i._retryCache=new zE),l;default:throw Error(r(435,i.tag))}}function Qm(i,l){var d=$L(i);l.forEach(function(p){if(!d.has(p)){d.add(p);var b=JL.bind(null,i,p);p.then(b,b)}})}function Ir(i,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var b=d[p],N=i,R=l,K=R;e:for(;K!==null;){switch(K.tag){case 27:if(To(K.type)){rn=K.stateNode,kr=!1;break e}break;case 5:rn=K.stateNode,kr=!1;break e;case 3:case 4:rn=K.stateNode.containerInfo,kr=!0;break e}K=K.return}if(rn===null)throw Error(r(160));BE(N,R,b),rn=null,kr=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)$E(l,i),l=l.sibling}var Za=null;function $E(i,l){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ir(l,i),Rr(i),p&4&&(wo(3,i,i.return),rh(3,i),wo(5,i,i.return));break;case 1:Ir(l,i),Rr(i),p&512&&(jn||d===null||Ri(d,d.return)),p&64&&ds&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var b=Za;if(Ir(l,i),Rr(i),p&512&&(jn||d===null||Ri(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":N=b.getElementsByTagName("title")[0],(!N||N[xi]||N[xn]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(p),b.head.insertBefore(N,b.querySelector("head > title"))),Qn(N,p,d),N[xn]=i,vn(N),p=N;break e;case"link":var R=$S("link","href",b).get(p+(d.href||""));if(R){for(var K=0;K<R.length;K++)if(N=R[K],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){R.splice(K,1);break t}}N=b.createElement(p),Qn(N,p,d),b.head.appendChild(N);break;case"meta":if(R=$S("meta","content",b).get(p+(d.content||""))){for(K=0;K<R.length;K++)if(N=R[K],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){R.splice(K,1);break t}}N=b.createElement(p),Qn(N,p,d),b.head.appendChild(N);break;default:throw Error(r(468,p))}N[xn]=i,vn(N),p=N}i.stateNode=p}else HS(b,i.type,i.stateNode);else i.stateNode=qS(b,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?HS(b,i.type,i.stateNode):qS(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Vx(i,i.memoizedProps,d.memoizedProps)}break;case 27:Ir(l,i),Rr(i),p&512&&(jn||d===null||Ri(d,d.return)),d!==null&&p&4&&Vx(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Ir(l,i),Rr(i),p&512&&(jn||d===null||Ri(d,d.return)),i.flags&32){b=i.stateNode;try{Cr(b,"")}catch(Ke){Pt(i,i.return,Ke)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,Vx(i,b,d!==null?d.memoizedProps:b)),p&1024&&(qx=!0);break;case 6:if(Ir(l,i),Rr(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Ke){Pt(i,i.return,Ke)}}break;case 3:if(fp=null,b=Za,Za=dp(l.containerInfo),Ir(l,i),Za=b,Rr(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{vu(l.containerInfo)}catch(Ke){Pt(i,i.return,Ke)}qx&&(qx=!1,HE(i));break;case 4:p=Za,Za=dp(i.stateNode.containerInfo),Ir(l,i),Rr(i),Za=p;break;case 12:Ir(l,i),Rr(i);break;case 31:Ir(l,i),Rr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Qm(i,p)));break;case 13:Ir(l,i),Rr(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Jm=Me()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Qm(i,p)));break;case 22:b=i.memoizedState!==null;var ee=d!==null&&d.memoizedState!==null,pe=ds,je=jn;if(ds=pe||b,jn=je||ee,Ir(l,i),jn=je,ds=pe,Rr(i),p&8192)e:for(l=i.stateNode,l._visibility=b?l._visibility&-2:l._visibility|1,b&&(d===null||ee||ds||jn||Ul(i)),d=null,l=i;;){if(l.tag===5||l.tag===26){if(d===null){ee=d=l;try{if(N=ee.stateNode,b)R=N.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{K=ee.stateNode;var Te=ee.memoizedProps.style,ye=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;K.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(Ke){Pt(ee,ee.return,Ke)}}}else if(l.tag===6){if(d===null){ee=l;try{ee.stateNode.nodeValue=b?"":ee.memoizedProps}catch(Ke){Pt(ee,ee.return,Ke)}}}else if(l.tag===18){if(d===null){ee=l;try{var be=ee.stateNode;b?DS(be,!0):DS(ee.stateNode,!1)}catch(Ke){Pt(ee,ee.return,Ke)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===i)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break e;for(;l.sibling===null;){if(l.return===null||l.return===i)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Qm(i,d))));break;case 19:Ir(l,i),Rr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Qm(i,p)));break;case 30:break;case 21:break;default:Ir(l,i),Rr(i)}}function Rr(i){var l=i.flags;if(l&2){try{for(var d,p=i.return;p!==null;){if(ME(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var b=d.stateNode,N=Bx(i);Xm(i,N,b);break;case 5:var R=d.stateNode;d.flags&32&&(Cr(R,""),d.flags&=-33);var K=Bx(i);Xm(i,K,R);break;case 3:case 4:var ee=d.stateNode.containerInfo,pe=Bx(i);Fx(i,pe,ee);break;default:throw Error(r(161))}}catch(je){Pt(i,i.return,je)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function HE(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var l=i;HE(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),i=i.sibling}}function fs(i,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)UE(i,l.alternate,l),l=l.sibling}function Ul(i){for(i=i.child;i!==null;){var l=i;switch(l.tag){case 0:case 11:case 14:case 15:wo(4,l,l.return),Ul(l);break;case 1:Ri(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&DE(l,l.return,d),Ul(l);break;case 27:fh(l.stateNode);case 26:case 5:Ri(l,l.return),Ul(l);break;case 22:l.memoizedState===null&&Ul(l);break;case 30:Ul(l);break;default:Ul(l)}i=i.sibling}}function ms(i,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,b=i,N=l,R=N.flags;switch(N.tag){case 0:case 11:case 15:ms(b,N,d),rh(4,N);break;case 1:if(ms(b,N,d),p=N,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(pe){Pt(p,p.return,pe)}if(p=N,b=p.updateQueue,b!==null){var K=p.stateNode;try{var ee=b.shared.hiddenCallbacks;if(ee!==null)for(b.shared.hiddenCallbacks=null,b=0;b<ee.length;b++)_j(ee[b],K)}catch(pe){Pt(p,p.return,pe)}}d&&R&64&&OE(N),ah(N,N.return);break;case 27:LE(N);case 26:case 5:ms(b,N,d),d&&p===null&&R&4&&PE(N),ah(N,N.return);break;case 12:ms(b,N,d);break;case 31:ms(b,N,d),d&&R&4&&FE(b,N);break;case 13:ms(b,N,d),d&&R&4&&qE(b,N);break;case 22:N.memoizedState===null&&ms(b,N,d),ah(N,N.return);break;case 30:break;default:ms(b,N,d)}l=l.sibling}}function $x(i,l){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&$d(d))}function Hx(i,l){i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&$d(i))}function Ja(i,l,d,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)GE(i,l,d,p),l=l.sibling}function GE(i,l,d,p){var b=l.flags;switch(l.tag){case 0:case 11:case 15:Ja(i,l,d,p),b&2048&&rh(9,l);break;case 1:Ja(i,l,d,p);break;case 3:Ja(i,l,d,p),b&2048&&(i=null,l.alternate!==null&&(i=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==i&&(l.refCount++,i!=null&&$d(i)));break;case 12:if(b&2048){Ja(i,l,d,p),i=l.stateNode;try{var N=l.memoizedProps,R=N.id,K=N.onPostCommit;typeof K=="function"&&K(R,l.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(ee){Pt(l,l.return,ee)}}else Ja(i,l,d,p);break;case 31:Ja(i,l,d,p);break;case 13:Ja(i,l,d,p);break;case 23:break;case 22:N=l.stateNode,R=l.alternate,l.memoizedState!==null?N._visibility&2?Ja(i,l,d,p):ih(i,l):N._visibility&2?Ja(i,l,d,p):(N._visibility|=2,lu(i,l,d,p,(l.subtreeFlags&10256)!==0||!1)),b&2048&&$x(R,l);break;case 24:Ja(i,l,d,p),b&2048&&Hx(l.alternate,l);break;default:Ja(i,l,d,p)}}function lu(i,l,d,p,b){for(b=b&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var N=i,R=l,K=d,ee=p,pe=R.flags;switch(R.tag){case 0:case 11:case 15:lu(N,R,K,ee,b),rh(8,R);break;case 23:break;case 22:var je=R.stateNode;R.memoizedState!==null?je._visibility&2?lu(N,R,K,ee,b):ih(N,R):(je._visibility|=2,lu(N,R,K,ee,b)),b&&pe&2048&&$x(R.alternate,R);break;case 24:lu(N,R,K,ee,b),b&&pe&2048&&Hx(R.alternate,R);break;default:lu(N,R,K,ee,b)}l=l.sibling}}function ih(i,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=i,p=l,b=p.flags;switch(p.tag){case 22:ih(d,p),b&2048&&$x(p.alternate,p);break;case 24:ih(d,p),b&2048&&Hx(p.alternate,p);break;default:ih(d,p)}l=l.sibling}}var sh=8192;function cu(i,l,d){if(i.subtreeFlags&sh)for(i=i.child;i!==null;)KE(i,l,d),i=i.sibling}function KE(i,l,d){switch(i.tag){case 26:cu(i,l,d),i.flags&sh&&i.memoizedState!==null&&kz(d,Za,i.memoizedState,i.memoizedProps);break;case 5:cu(i,l,d);break;case 3:case 4:var p=Za;Za=dp(i.stateNode.containerInfo),cu(i,l,d),Za=p;break;case 22:i.memoizedState===null&&(p=i.alternate,p!==null&&p.memoizedState!==null?(p=sh,sh=16777216,cu(i,l,d),sh=p):cu(i,l,d));break;default:cu(i,l,d)}}function YE(i){var l=i.alternate;if(l!==null&&(i=l.child,i!==null)){l.child=null;do l=i.sibling,i.sibling=null,i=l;while(i!==null)}}function oh(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Un=p,XE(p,i)}YE(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)WE(i),i=i.sibling}function WE(i){switch(i.tag){case 0:case 11:case 15:oh(i),i.flags&2048&&wo(9,i,i.return);break;case 3:oh(i);break;case 12:oh(i);break;case 22:var l=i.stateNode;i.memoizedState!==null&&l._visibility&2&&(i.return===null||i.return.tag!==13)?(l._visibility&=-3,Zm(i)):oh(i);break;default:oh(i)}}function Zm(i){var l=i.deletions;if((i.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];Un=p,XE(p,i)}YE(i)}for(i=i.child;i!==null;){switch(l=i,l.tag){case 0:case 11:case 15:wo(8,l,l.return),Zm(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,Zm(l));break;default:Zm(l)}i=i.sibling}}function XE(i,l){for(;Un!==null;){var d=Un;switch(d.tag){case 0:case 11:case 15:wo(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:$d(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Un=p;else e:for(d=i;Un!==null;){p=Un;var b=p.sibling,N=p.return;if(VE(p),p===d){Un=null;break e}if(b!==null){b.return=N,Un=b;break e}Un=N}}}var HL={getCacheForType:function(i){var l=Wn(wn),d=l.data.get(i);return d===void 0&&(d=i(),l.data.set(i,d)),d},cacheSignal:function(){return Wn(wn).controller.signal}},GL=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Ft=null,mt=null,gt=0,Dt=0,Xr=null,_o=!1,uu=!1,Gx=!1,ps=0,un=0,No=0,Vl=0,Kx=0,Qr=0,du=0,lh=null,Or=null,Yx=!1,Jm=0,QE=0,ep=1/0,tp=null,jo=null,In=0,Eo=null,hu=null,gs=0,Wx=0,Xx=null,ZE=null,ch=0,Qx=null;function Zr(){return(Ct&2)!==0&&gt!==0?gt&-gt:q.T!==null?rv():nm()}function JE(){if(Qr===0)if((gt&536870912)===0||wt){var i=mi;mi<<=1,(mi&3932160)===0&&(mi=262144),Qr=i}else Qr=536870912;return i=Yr.current,i!==null&&(i.flags|=32),Qr}function Dr(i,l,d){(i===Ft&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)&&(fu(i,0),So(i,gt,Qr,!1)),ml(i,d),((Ct&2)===0||i!==Ft)&&(i===Ft&&((Ct&2)===0&&(Vl|=d),un===4&&So(i,gt,Qr,!1)),Oi(i))}function eS(i,l,d){if((Ct&6)!==0)throw Error(r(327));var p=!d&&(l&127)===0&&(l&i.expiredLanes)===0||qa(i,l),b=p?WL(i,l):Jx(i,l,!0),N=p;do{if(b===0){uu&&!p&&So(i,l,0,!1);break}else{if(d=i.current.alternate,N&&!KL(d)){b=Jx(i,l,!1),N=!1;continue}if(b===2){if(N=l,i.errorRecoveryDisabledLanes&N)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){l=R;e:{var K=i;b=lh;var ee=K.current.memoizedState.isDehydrated;if(ee&&(fu(K,R).flags|=256),R=Jx(K,R,!1),R!==2){if(Gx&&!ee){K.errorRecoveryDisabledLanes|=N,Vl|=N,b=4;break e}N=Or,Or=b,N!==null&&(Or===null?Or=N:Or.push.apply(Or,N))}b=R}if(N=!1,b!==2)continue}}if(b===1){fu(i,0),So(i,l,0,!0);break}e:{switch(p=i,N=b,N){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:So(p,l,Qr,!_o);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(b=Jm+300-Me(),10<b)){if(So(p,l,Qr,!_o),pi(p,0,!0)!==0)break e;gs=l,p.timeoutHandle=IS(tS.bind(null,p,d,Or,tp,Yx,l,Qr,Vl,du,_o,N,"Throttled",-0,0),b);break e}tS(p,d,Or,tp,Yx,l,Qr,Vl,du,_o,N,null,-0,0)}}break}while(!0);Oi(i)}function tS(i,l,d,p,b,N,R,K,ee,pe,je,Te,ye,be){if(i.timeoutHandle=-1,Te=l.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ga},KE(l,N,Te);var Ke=(N&62914560)===N?Jm-Me():(N&4194048)===N?QE-Me():0;if(Ke=Iz(Te,Ke),Ke!==null){gs=N,i.cancelPendingCommit=Ke(cS.bind(null,i,l,N,d,p,b,R,K,ee,je,Te,null,ye,be)),So(i,N,R,!pe);return}}cS(i,l,N,d,p,b,R,K,ee)}function KL(i){for(var l=i;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var b=d[p],N=b.getSnapshot;b=b.value;try{if(!Gr(N(),b))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function So(i,l,d,p){l&=~Kx,l&=~Vl,i.suspendedLanes|=l,i.pingedLanes&=~l,p&&(i.warmLanes|=l),p=i.expirationTimes;for(var b=l;0<b;){var N=31-jt(b),R=1<<N;p[N]=-1,b&=~R}d!==0&&pl(i,d,l)}function np(){return(Ct&6)===0?(uh(0),!1):!0}function Zx(){if(mt!==null){if(Dt===0)var i=mt.return;else i=mt,is=Il=null,mx(i),ru=null,Gd=0,i=mt;for(;i!==null;)RE(i.alternate,i),i=i.return;mt=null}}function fu(i,l){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,fz(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),gs=0,Zx(),Ft=i,mt=d=rs(i.current,null),gt=l,Dt=0,Xr=null,_o=!1,uu=qa(i,l),Gx=!1,du=Qr=Kx=Vl=No=un=0,Or=lh=null,Yx=!1,(l&8)!==0&&(l|=l&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=l;0<p;){var b=31-jt(p),N=1<<b;l|=i[b],p&=~N}return ps=l,Nm(),d}function nS(i,l){ut=null,q.H=eh,l===nu||l===Im?(l=xj(),Dt=3):l===nx?(l=xj(),Dt=4):Dt=l===kx?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Xr=l,mt===null&&(un=1,Hm(i,va(l,i.current)))}function rS(){var i=Yr.current;return i===null?!0:(gt&4194048)===gt?Na===null:(gt&62914560)===gt||(gt&536870912)!==0?i===Na:!1}function aS(){var i=q.H;return q.H=eh,i===null?eh:i}function iS(){var i=q.A;return q.A=HL,i}function rp(){un=4,_o||(gt&4194048)!==gt&&Yr.current!==null||(uu=!0),(No&134217727)===0&&(Vl&134217727)===0||Ft===null||So(Ft,gt,Qr,!1)}function Jx(i,l,d){var p=Ct;Ct|=2;var b=aS(),N=iS();(Ft!==i||gt!==l)&&(tp=null,fu(i,l)),l=!1;var R=un;e:do try{if(Dt!==0&&mt!==null){var K=mt,ee=Xr;switch(Dt){case 8:Zx(),R=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(l=!0);var pe=Dt;if(Dt=0,Xr=null,mu(i,K,ee,pe),d&&uu){R=0;break e}break;default:pe=Dt,Dt=0,Xr=null,mu(i,K,ee,pe)}}YL(),R=un;break}catch(je){nS(i,je)}while(!0);return l&&i.shellSuspendCounter++,is=Il=null,Ct=p,q.H=b,q.A=N,mt===null&&(Ft=null,gt=0,Nm()),R}function YL(){for(;mt!==null;)sS(mt)}function WL(i,l){var d=Ct;Ct|=2;var p=aS(),b=iS();Ft!==i||gt!==l?(tp=null,ep=Me()+500,fu(i,l)):uu=qa(i,l);e:do try{if(Dt!==0&&mt!==null){l=mt;var N=Xr;t:switch(Dt){case 1:Dt=0,Xr=null,mu(i,l,N,1);break;case 2:case 9:if(gj(N)){Dt=0,Xr=null,oS(l);break}l=function(){Dt!==2&&Dt!==9||Ft!==i||(Dt=7),Oi(i)},N.then(l,l);break e;case 3:Dt=7;break e;case 4:Dt=5;break e;case 7:gj(N)?(Dt=0,Xr=null,oS(l)):(Dt=0,Xr=null,mu(i,l,N,7));break;case 5:var R=null;switch(mt.tag){case 26:R=mt.memoizedState;case 5:case 27:var K=mt;if(R?GS(R):K.stateNode.complete){Dt=0,Xr=null;var ee=K.sibling;if(ee!==null)mt=ee;else{var pe=K.return;pe!==null?(mt=pe,ap(pe)):mt=null}break t}}Dt=0,Xr=null,mu(i,l,N,5);break;case 6:Dt=0,Xr=null,mu(i,l,N,6);break;case 8:Zx(),un=6;break e;default:throw Error(r(462))}}XL();break}catch(je){nS(i,je)}while(!0);return is=Il=null,q.H=p,q.A=b,Ct=d,mt!==null?0:(Ft=null,gt=0,Nm(),un)}function XL(){for(;mt!==null&&!me();)sS(mt)}function sS(i){var l=kE(i.alternate,i,ps);i.memoizedProps=i.pendingProps,l===null?ap(i):mt=l}function oS(i){var l=i,d=l.alternate;switch(l.tag){case 15:case 0:l=jE(d,l,l.pendingProps,l.type,void 0,gt);break;case 11:l=jE(d,l,l.pendingProps,l.type.render,l.ref,gt);break;case 5:mx(l);default:RE(d,l),l=mt=ij(l,ps),l=kE(d,l,ps)}i.memoizedProps=i.pendingProps,l===null?ap(i):mt=l}function mu(i,l,d,p){is=Il=null,mx(l),ru=null,Gd=0;var b=l.return;try{if(zL(i,b,l,d,gt)){un=1,Hm(i,va(d,i.current)),mt=null;return}}catch(N){if(b!==null)throw mt=b,N;un=1,Hm(i,va(d,i.current)),mt=null;return}l.flags&32768?(wt||p===1?i=!0:uu||(gt&536870912)!==0?i=!1:(_o=i=!0,(p===2||p===9||p===3||p===6)&&(p=Yr.current,p!==null&&p.tag===13&&(p.flags|=16384))),lS(l,i)):ap(l)}function ap(i){var l=i;do{if((l.flags&32768)!==0){lS(l,_o);return}i=l.return;var d=BL(l.alternate,l,ps);if(d!==null){mt=d;return}if(l=l.sibling,l!==null){mt=l;return}mt=l=i}while(l!==null);un===0&&(un=5)}function lS(i,l){do{var d=FL(i.alternate,i);if(d!==null){d.flags&=32767,mt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(i=i.sibling,i!==null)){mt=i;return}mt=i=d}while(i!==null);un=6,mt=null}function cS(i,l,d,p,b,N,R,K,ee){i.cancelPendingCommit=null;do ip();while(In!==0);if((Ct&6)!==0)throw Error(r(327));if(l!==null){if(l===i.current)throw Error(r(177));if(N=l.lanes|l.childLanes,N|=By,Ry(i,d,N,R,K,ee),i===Ft&&(mt=Ft=null,gt=0),hu=l,Eo=i,gs=d,Wx=N,Xx=b,ZE=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ez(it,function(){return mS(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=q.T,q.T=null,b=Y.p,Y.p=2,R=Ct,Ct|=4;try{qL(i,l,d)}finally{Ct=R,Y.p=b,q.T=p}}In=1,uS(),dS(),hS()}}function uS(){if(In===1){In=0;var i=Eo,l=hu,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=q.T,q.T=null;var p=Y.p;Y.p=2;var b=Ct;Ct|=4;try{$E(l,i);var N=dv,R=XN(i.containerInfo),K=N.focusedElem,ee=N.selectionRange;if(R!==K&&K&&K.ownerDocument&&WN(K.ownerDocument.documentElement,K)){if(ee!==null&&My(K)){var pe=ee.start,je=ee.end;if(je===void 0&&(je=pe),"selectionStart"in K)K.selectionStart=pe,K.selectionEnd=Math.min(je,K.value.length);else{var Te=K.ownerDocument||document,ye=Te&&Te.defaultView||window;if(ye.getSelection){var be=ye.getSelection(),Ke=K.textContent.length,tt=Math.min(ee.start,Ke),Bt=ee.end===void 0?tt:Math.min(ee.end,Ke);!be.extend&&tt>Bt&&(R=Bt,Bt=tt,tt=R);var ce=YN(K,tt),ie=YN(K,Bt);if(ce&&ie&&(be.rangeCount!==1||be.anchorNode!==ce.node||be.anchorOffset!==ce.offset||be.focusNode!==ie.node||be.focusOffset!==ie.offset)){var he=Te.createRange();he.setStart(ce.node,ce.offset),be.removeAllRanges(),tt>Bt?(be.addRange(he),be.extend(ie.node,ie.offset)):(he.setEnd(ie.node,ie.offset),be.addRange(he))}}}}for(Te=[],be=K;be=be.parentNode;)be.nodeType===1&&Te.push({element:be,left:be.scrollLeft,top:be.scrollTop});for(typeof K.focus=="function"&&K.focus(),K=0;K<Te.length;K++){var Se=Te[K];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}yp=!!uv,dv=uv=null}finally{Ct=b,Y.p=p,q.T=d}}i.current=l,In=2}}function dS(){if(In===2){In=0;var i=Eo,l=hu,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=q.T,q.T=null;var p=Y.p;Y.p=2;var b=Ct;Ct|=4;try{UE(i,l.alternate,l)}finally{Ct=b,Y.p=p,q.T=d}}In=3}}function hS(){if(In===4||In===3){In=0,Oe();var i=Eo,l=hu,d=gs,p=ZE;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,hu=Eo=null,fS(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(jo=null),Ji(d),l=l.stateNode,et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(Ue,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=q.T,b=Y.p,Y.p=2,q.T=null;try{for(var N=i.onRecoverableError,R=0;R<p.length;R++){var K=p[R];N(K.value,{componentStack:K.stack})}}finally{q.T=l,Y.p=b}}(gs&3)!==0&&ip(),Oi(i),b=i.pendingLanes,(d&261930)!==0&&(b&42)!==0?i===Qx?ch++:(ch=0,Qx=i):ch=0,uh(0)}}function fS(i,l){(i.pooledCacheLanes&=l)===0&&(l=i.pooledCache,l!=null&&(i.pooledCache=null,$d(l)))}function ip(){return uS(),dS(),hS(),mS()}function mS(){if(In!==5)return!1;var i=Eo,l=Wx;Wx=0;var d=Ji(gs),p=q.T,b=Y.p;try{Y.p=32>d?32:d,q.T=null,d=Xx,Xx=null;var N=Eo,R=gs;if(In=0,hu=Eo=null,gs=0,(Ct&6)!==0)throw Error(r(331));var K=Ct;if(Ct|=4,WE(N.current),GE(N,N.current,R,d),Ct=K,uh(0,!1),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(Ue,N)}catch{}return!0}finally{Y.p=b,q.T=p,fS(i,l)}}function pS(i,l,d){l=va(d,l),l=Cx(i.stateNode,l,2),i=xo(i,l,2),i!==null&&(ml(i,2),Oi(i))}function Pt(i,l,d){if(i.tag===3)pS(i,i,d);else for(;l!==null;){if(l.tag===3){pS(l,i,d);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(jo===null||!jo.has(p))){i=va(d,i),d=gE(2),p=xo(l,d,2),p!==null&&(yE(d,p,l,i),ml(p,2),Oi(p));break}}l=l.return}}function ev(i,l,d){var p=i.pingCache;if(p===null){p=i.pingCache=new GL;var b=new Set;p.set(l,b)}else b=p.get(l),b===void 0&&(b=new Set,p.set(l,b));b.has(d)||(Gx=!0,b.add(d),i=QL.bind(null,i,l,d),l.then(i,i))}function QL(i,l,d){var p=i.pingCache;p!==null&&p.delete(l),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Ft===i&&(gt&d)===d&&(un===4||un===3&&(gt&62914560)===gt&&300>Me()-Jm?(Ct&2)===0&&fu(i,0):Kx|=d,du===gt&&(du=0)),Oi(i)}function gS(i,l){l===0&&(l=tm()),i=Tl(i,l),i!==null&&(ml(i,l),Oi(i))}function ZL(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),gS(i,d)}function JL(i,l){var d=0;switch(i.tag){case 31:case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(d=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),gS(i,d)}function ez(i,l){return _e(i,l)}var sp=null,pu=null,tv=!1,op=!1,nv=!1,Ao=0;function Oi(i){i!==pu&&i.next===null&&(pu===null?sp=pu=i:pu=pu.next=i),op=!0,tv||(tv=!0,nz())}function uh(i,l){if(!nv&&op){nv=!0;do for(var d=!1,p=sp;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var N=0;else{var R=p.suspendedLanes,K=p.pingedLanes;N=(1<<31-jt(42|i)+1)-1,N&=b&~(R&~K),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,bS(p,N))}else N=gt,N=pi(p,p===Ft?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||qa(p,N)||(d=!0,bS(p,N));p=p.next}while(d);nv=!1}}function tz(){yS()}function yS(){op=tv=!1;var i=0;Ao!==0&&hz()&&(i=Ao);for(var l=Me(),d=null,p=sp;p!==null;){var b=p.next,N=xS(p,l);N===0?(p.next=null,d===null?sp=b:d.next=b,b===null&&(pu=d)):(d=p,(i!==0||(N&3)!==0)&&(op=!0)),p=b}In!==0&&In!==5||uh(i),Ao!==0&&(Ao=0)}function xS(i,l){for(var d=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var R=31-jt(N),K=1<<R,ee=b[R];ee===-1?((K&d)===0||(K&p)!==0)&&(b[R]=Iy(K,l)):ee<=l&&(i.expiredLanes|=K),N&=~K}if(l=Ft,d=gt,d=pi(i,i===l?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===l&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Ie(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||qa(i,d)){if(l=d&-d,l===i.callbackPriority)return l;switch(p!==null&&Ie(p),Ji(d)){case 2:case 8:d=ft;break;case 32:d=it;break;case 268435456:d=we;break;default:d=it}return p=vS.bind(null,i),d=_e(d,p),i.callbackPriority=l,i.callbackNode=d,l}return p!==null&&p!==null&&Ie(p),i.callbackPriority=2,i.callbackNode=null,2}function vS(i,l){if(In!==0&&In!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(ip()&&i.callbackNode!==d)return null;var p=gt;return p=pi(i,i===Ft?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(eS(i,p,l),xS(i,Me()),i.callbackNode!=null&&i.callbackNode===d?vS.bind(null,i):null)}function bS(i,l){if(ip())return null;eS(i,l,!0)}function nz(){mz(function(){(Ct&6)!==0?_e(qe,tz):yS()})}function rv(){if(Ao===0){var i=eu;i===0&&(i=fa,fa<<=1,(fa&261888)===0&&(fa=256)),Ao=i}return Ao}function wS(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Uc(""+i)}function _S(i,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,i.id&&d.setAttribute("form",i.id),l.parentNode.insertBefore(d,l),i=new FormData(i),d.parentNode.removeChild(d),i}function rz(i,l,d,p,b){if(l==="submit"&&d&&d.stateNode===b){var N=wS((b[Ln]||null).action),R=p.submitter;R&&(l=(l=R[Ln]||null)?wS(l.formAction):R.getAttribute("formAction"),l!==null&&(N=l,R=null));var K=new Si("action","action",null,p,b);i.push({event:K,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(Ao!==0){var ee=R?_S(b,R):new FormData(b);Nx(d,{pending:!0,data:ee,method:b.method,action:N},null,ee)}}else typeof N=="function"&&(K.preventDefault(),ee=R?_S(b,R):new FormData(b),Nx(d,{pending:!0,data:ee,method:b.method,action:N},N,ee))},currentTarget:b}]})}}for(var av=0;av<Vy.length;av++){var iv=Vy[av],az=iv.toLowerCase(),iz=iv[0].toUpperCase()+iv.slice(1);Qa(az,"on"+iz)}Qa(JN,"onAnimationEnd"),Qa(ej,"onAnimationIteration"),Qa(tj,"onAnimationStart"),Qa("dblclick","onDoubleClick"),Qa("focusin","onFocus"),Qa("focusout","onBlur"),Qa(wL,"onTransitionRun"),Qa(_L,"onTransitionStart"),Qa(NL,"onTransitionCancel"),Qa(nj,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wi("onBeforeInput",["compositionend","keypress","textInput","paste"]),wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function NS(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],b=p.event;p=p.listeners;e:{var N=void 0;if(l)for(var R=p.length-1;0<=R;R--){var K=p[R],ee=K.instance,pe=K.currentTarget;if(K=K.listener,ee!==N&&b.isPropagationStopped())break e;N=K,b.currentTarget=pe;try{N(b)}catch(je){_m(je)}b.currentTarget=null,N=ee}else for(R=0;R<p.length;R++){if(K=p[R],ee=K.instance,pe=K.currentTarget,K=K.listener,ee!==N&&b.isPropagationStopped())break e;N=K,b.currentTarget=pe;try{N(b)}catch(je){_m(je)}b.currentTarget=null,N=ee}}}}function pt(i,l){var d=l[Dc];d===void 0&&(d=l[Dc]=new Set);var p=i+"__bubble";d.has(p)||(jS(l,i,2,!1),d.add(p))}function sv(i,l,d){var p=0;l&&(p|=4),jS(d,i,p,l)}var lp="_reactListening"+Math.random().toString(36).slice(2);function ov(i){if(!i[lp]){i[lp]=!0,Nd.forEach(function(d){d!=="selectionchange"&&(sz.has(d)||sv(d,!1,i),sv(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[lp]||(l[lp]=!0,sv("selectionchange",!1,l))}}function jS(i,l,d,p){switch(JS(l)){case 2:var b=Dz;break;case 8:b=Pz;break;default:b=_v}d=b.bind(null,l,d,i),b=void 0,!bl||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(l,d,{capture:!0,passive:b}):i.addEventListener(l,d,!0):b!==void 0?i.addEventListener(l,d,{passive:b}):i.addEventListener(l,d,!1)}function lv(i,l,d,p,b){var N=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var R=p.tag;if(R===3||R===4){var K=p.stateNode.containerInfo;if(K===b)break;if(R===4)for(R=p.return;R!==null;){var ee=R.tag;if((ee===3||ee===4)&&R.stateNode.containerInfo===b)return;R=R.return}for(;K!==null;){if(R=vi(K),R===null)return;if(ee=R.tag,ee===5||ee===6||ee===26||ee===27){p=N=R;continue e}K=K.parentNode}}p=p.return}oo(function(){var pe=N,je=pa(d),Te=[];e:{var ye=rj.get(i);if(ye!==void 0){var be=Si,Ke=i;switch(i){case"keypress":if(_l(d)===0)break e;case"keydown":case"keyup":be=vm;break;case"focusin":Ke="focus",be=jl;break;case"focusout":Ke="blur",be=jl;break;case"beforeblur":case"afterblur":be=jl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=um;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=A;break;case JN:case ej:case tj:be=hm;break;case nj:be=Q;break;case"scroll":case"scrollend":be=Pd;break;case"wheel":be=xe;break;case"copy":case"cut":case"paste":be=fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=ns;break;case"toggle":case"beforetoggle":be=ct}var tt=(l&4)!==0,Bt=!tt&&(i==="scroll"||i==="scrollend"),ce=tt?ye!==null?ye+"Capture":null:ye;tt=[];for(var ie=pe,he;ie!==null;){var Se=ie;if(he=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||he===null||ce===null||(Se=Ka(ie,ce),Se!=null&&tt.push(hh(ie,Se,he))),Bt)break;ie=ie.return}0<tt.length&&(ye=new be(ye,Ke,null,d,je),Te.push({event:ye,listeners:tt}))}}if((l&7)===0){e:{if(ye=i==="mouseover"||i==="pointerover",be=i==="mouseout"||i==="pointerout",ye&&d!==Rd&&(Ke=d.relatedTarget||d.fromElement)&&(vi(Ke)||Ke[yi]))break e;if((be||ye)&&(ye=je.window===je?je:(ye=je.ownerDocument)?ye.defaultView||ye.parentWindow:window,be?(Ke=d.relatedTarget||d.toElement,be=pe,Ke=Ke?vi(Ke):null,Ke!==null&&(Bt=s(Ke),tt=Ke.tag,Ke!==Bt||tt!==5&&tt!==27&&tt!==6)&&(Ke=null)):(be=null,Ke=pe),be!==Ke)){if(tt=Md,Se="onMouseLeave",ce="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(tt=ns,Se="onPointerLeave",ce="onPointerEnter",ie="pointer"),Bt=be==null?ye:$r(be),he=Ke==null?ye:$r(Ke),ye=new tt(Se,ie+"leave",be,d,je),ye.target=Bt,ye.relatedTarget=he,Se=null,vi(je)===pe&&(tt=new tt(ce,ie+"enter",Ke,d,je),tt.target=he,tt.relatedTarget=Bt,Se=tt),Bt=Se,be&&Ke)t:{for(tt=oz,ce=be,ie=Ke,he=0,Se=ce;Se;Se=tt(Se))he++;Se=0;for(var Qe=ie;Qe;Qe=tt(Qe))Se++;for(;0<he-Se;)ce=tt(ce),he--;for(;0<Se-he;)ie=tt(ie),Se--;for(;he--;){if(ce===ie||ie!==null&&ce===ie.alternate){tt=ce;break t}ce=tt(ce),ie=tt(ie)}tt=null}else tt=null;be!==null&&ES(Te,ye,be,tt,!1),Ke!==null&&Bt!==null&&ES(Te,Bt,Ke,tt,!0)}}e:{if(ye=pe?$r(pe):window,be=ye.nodeName&&ye.nodeName.toLowerCase(),be==="select"||be==="input"&&ye.type==="file")var Et=FN;else if(VN(ye))if(qN)Et=xL;else{Et=gL;var We=pL}else be=ye.nodeName,!be||be.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?pe&&zc(pe.elementType)&&(Et=FN):Et=yL;if(Et&&(Et=Et(i,pe))){BN(Te,Et,d,je);break e}We&&We(i,ye,pe),i==="focusout"&&pe&&ye.type==="number"&&pe.memoizedProps.value!=null&&Cd(ye,"number",ye.value)}switch(We=pe?$r(pe):window,i){case"focusin":(VN(We)||We.contentEditable==="true")&&(Gc=We,Ly=pe,Bd=null);break;case"focusout":Bd=Ly=Gc=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,QN(Te,d,je);break;case"selectionchange":if(bL)break;case"keydown":case"keyup":QN(Te,d,je)}var dt;if(Tt)e:{switch(i){case"compositionstart":var yt="onCompositionStart";break e;case"compositionend":yt="onCompositionEnd";break e;case"compositionupdate":yt="onCompositionUpdate";break e}yt=void 0}else Hc?El(i,d)&&(yt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(yt="onCompositionStart");yt&&(Ci&&d.locale!=="ko"&&(Hc||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Hc&&(dt=Dd()):(Ei=je,Od="value"in Ei?Ei.value:Ei.textContent,Hc=!0)),We=cp(pe,yt),0<We.length&&(yt=new Ti(yt,i,null,d,je),Te.push({event:yt,listeners:We}),dt?yt.data=dt:(dt=$c(d),dt!==null&&(yt.data=dt)))),(dt=ya?dL(i,d):hL(i,d))&&(yt=cp(pe,"onBeforeInput"),0<yt.length&&(We=new Ti("onBeforeInput","beforeinput",null,d,je),Te.push({event:We,listeners:yt}),We.data=dt)),rz(Te,i,pe,d,je)}NS(Te,l)})}function hh(i,l,d){return{instance:i,listener:l,currentTarget:d}}function cp(i,l){for(var d=l+"Capture",p=[];i!==null;){var b=i,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=Ka(i,d),b!=null&&p.unshift(hh(i,b,N)),b=Ka(i,l),b!=null&&p.push(hh(i,b,N))),i.tag===3)return p;i=i.return}return[]}function oz(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ES(i,l,d,p,b){for(var N=l._reactName,R=[];d!==null&&d!==p;){var K=d,ee=K.alternate,pe=K.stateNode;if(K=K.tag,ee!==null&&ee===p)break;K!==5&&K!==26&&K!==27||pe===null||(ee=pe,b?(pe=Ka(d,N),pe!=null&&R.unshift(hh(d,pe,ee))):b||(pe=Ka(d,N),pe!=null&&R.push(hh(d,pe,ee)))),d=d.return}R.length!==0&&i.push({event:l,listeners:R})}var lz=/\r\n?/g,cz=/\u0000|\uFFFD/g;function SS(i){return(typeof i=="string"?i:""+i).replace(lz,`
`).replace(cz,"")}function AS(i,l){return l=SS(l),SS(i)===l}function Vt(i,l,d,p,b,N){switch(d){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||Cr(i,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&Cr(i,""+p);break;case"className":Hr(i,"class",p);break;case"tabIndex":Hr(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Hr(i,d,p);break;case"style":Id(i,p,N);break;case"data":if(l!=="object"){Hr(i,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Uc(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(l!=="input"&&Vt(i,l,"name",b.name,b,null),Vt(i,l,"formEncType",b.formEncType,b,null),Vt(i,l,"formMethod",b.formMethod,b,null),Vt(i,l,"formTarget",b.formTarget,b,null)):(Vt(i,l,"encType",b.encType,b,null),Vt(i,l,"method",b.method,b,null),Vt(i,l,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Uc(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Ga);break;case"onScroll":p!=null&&pt("scroll",i);break;case"onScrollEnd":p!=null&&pt("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=Uc(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":pt("beforetoggle",i),pt("toggle",i),Mc(i,"popover",p);break;case"xlinkActuate":bn(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":bn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":bn(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":bn(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":bn(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":bn(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":bn(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":bn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":bn(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Mc(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=cm.get(d)||d,Mc(i,d,p))}}function cv(i,l,d,p,b,N){switch(d){case"style":Id(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Cr(i,p):(typeof p=="number"||typeof p=="bigint")&&Cr(i,""+p);break;case"onScroll":p!=null&&pt("scroll",i);break;case"onScrollEnd":p!=null&&pt("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jd.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(b=d.endsWith("Capture"),l=d.slice(2,b?d.length-7:void 0),N=i[Ln]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(l,N,b),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(l,p,b);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Mc(i,d,p)}}}function Qn(i,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pt("error",i),pt("load",i);var p=!1,b=!1,N;for(N in d)if(d.hasOwnProperty(N)){var R=d[N];if(R!=null)switch(N){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Vt(i,l,N,R,d,null)}}b&&Vt(i,l,"srcSet",d.srcSet,d,null),p&&Vt(i,l,"src",d.src,d,null);return;case"input":pt("invalid",i);var K=N=R=b=null,ee=null,pe=null;for(p in d)if(d.hasOwnProperty(p)){var je=d[p];if(je!=null)switch(p){case"name":b=je;break;case"type":R=je;break;case"checked":ee=je;break;case"defaultChecked":pe=je;break;case"value":N=je;break;case"defaultValue":K=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,l));break;default:Vt(i,l,p,je,d,null)}}sm(i,N,K,ee,pe,R,b,!1);return;case"select":pt("invalid",i),p=R=N=null;for(b in d)if(d.hasOwnProperty(b)&&(K=d[b],K!=null))switch(b){case"value":N=K;break;case"defaultValue":R=K;break;case"multiple":p=K;default:Vt(i,l,b,K,d,null)}l=N,d=R,i.multiple=!!p,l!=null?ro(i,!!p,l,!1):d!=null&&ro(i,!!p,d,!0);return;case"textarea":pt("invalid",i),N=b=p=null;for(R in d)if(d.hasOwnProperty(R)&&(K=d[R],K!=null))switch(R){case"value":p=K;break;case"defaultValue":b=K;break;case"children":N=K;break;case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(91));break;default:Vt(i,l,R,K,d,null)}ao(i,p,b,N);return;case"option":for(ee in d)if(d.hasOwnProperty(ee)&&(p=d[ee],p!=null))switch(ee){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Vt(i,l,ee,p,d,null)}return;case"dialog":pt("beforetoggle",i),pt("toggle",i),pt("cancel",i),pt("close",i);break;case"iframe":case"object":pt("load",i);break;case"video":case"audio":for(p=0;p<dh.length;p++)pt(dh[p],i);break;case"image":pt("error",i),pt("load",i);break;case"details":pt("toggle",i);break;case"embed":case"source":case"link":pt("error",i),pt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in d)if(d.hasOwnProperty(pe)&&(p=d[pe],p!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Vt(i,l,pe,p,d,null)}return;default:if(zc(l)){for(je in d)d.hasOwnProperty(je)&&(p=d[je],p!==void 0&&cv(i,l,je,p,d,void 0));return}}for(K in d)d.hasOwnProperty(K)&&(p=d[K],p!=null&&Vt(i,l,K,p,d,null))}function uz(i,l,d,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,R=null,K=null,ee=null,pe=null,je=null;for(be in d){var Te=d[be];if(d.hasOwnProperty(be)&&Te!=null)switch(be){case"checked":break;case"value":break;case"defaultValue":ee=Te;default:p.hasOwnProperty(be)||Vt(i,l,be,null,p,Te)}}for(var ye in p){var be=p[ye];if(Te=d[ye],p.hasOwnProperty(ye)&&(be!=null||Te!=null))switch(ye){case"type":N=be;break;case"name":b=be;break;case"checked":pe=be;break;case"defaultChecked":je=be;break;case"value":R=be;break;case"defaultValue":K=be;break;case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,l));break;default:be!==Te&&Vt(i,l,ye,be,p,Te)}}Lc(i,R,K,ee,pe,je,N,b);return;case"select":be=R=K=ye=null;for(N in d)if(ee=d[N],d.hasOwnProperty(N)&&ee!=null)switch(N){case"value":break;case"multiple":be=ee;default:p.hasOwnProperty(N)||Vt(i,l,N,null,p,ee)}for(b in p)if(N=p[b],ee=d[b],p.hasOwnProperty(b)&&(N!=null||ee!=null))switch(b){case"value":ye=N;break;case"defaultValue":K=N;break;case"multiple":R=N;default:N!==ee&&Vt(i,l,b,N,p,ee)}l=K,d=R,p=be,ye!=null?ro(i,!!d,ye,!1):!!p!=!!d&&(l!=null?ro(i,!!d,l,!0):ro(i,!!d,d?[]:"",!1));return;case"textarea":be=ye=null;for(K in d)if(b=d[K],d.hasOwnProperty(K)&&b!=null&&!p.hasOwnProperty(K))switch(K){case"value":break;case"children":break;default:Vt(i,l,K,null,p,b)}for(R in p)if(b=p[R],N=d[R],p.hasOwnProperty(R)&&(b!=null||N!=null))switch(R){case"value":ye=b;break;case"defaultValue":be=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==N&&Vt(i,l,R,b,p,N)}om(i,ye,be);return;case"option":for(var Ke in d)if(ye=d[Ke],d.hasOwnProperty(Ke)&&ye!=null&&!p.hasOwnProperty(Ke))switch(Ke){case"selected":i.selected=!1;break;default:Vt(i,l,Ke,null,p,ye)}for(ee in p)if(ye=p[ee],be=d[ee],p.hasOwnProperty(ee)&&ye!==be&&(ye!=null||be!=null))switch(ee){case"selected":i.selected=ye&&typeof ye!="function"&&typeof ye!="symbol";break;default:Vt(i,l,ee,ye,p,be)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in d)ye=d[tt],d.hasOwnProperty(tt)&&ye!=null&&!p.hasOwnProperty(tt)&&Vt(i,l,tt,null,p,ye);for(pe in p)if(ye=p[pe],be=d[pe],p.hasOwnProperty(pe)&&ye!==be&&(ye!=null||be!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,l));break;default:Vt(i,l,pe,ye,p,be)}return;default:if(zc(l)){for(var Bt in d)ye=d[Bt],d.hasOwnProperty(Bt)&&ye!==void 0&&!p.hasOwnProperty(Bt)&&cv(i,l,Bt,void 0,p,ye);for(je in p)ye=p[je],be=d[je],!p.hasOwnProperty(je)||ye===be||ye===void 0&&be===void 0||cv(i,l,je,ye,p,be);return}}for(var ce in d)ye=d[ce],d.hasOwnProperty(ce)&&ye!=null&&!p.hasOwnProperty(ce)&&Vt(i,l,ce,null,p,ye);for(Te in p)ye=p[Te],be=d[Te],!p.hasOwnProperty(Te)||ye===be||ye==null&&be==null||Vt(i,l,Te,ye,p,be)}function TS(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dz(){if(typeof performance.getEntriesByType=="function"){for(var i=0,l=0,d=performance.getEntriesByType("resource"),p=0;p<d.length;p++){var b=d[p],N=b.transferSize,R=b.initiatorType,K=b.duration;if(N&&K&&TS(R)){for(R=0,K=b.responseEnd,p+=1;p<d.length;p++){var ee=d[p],pe=ee.startTime;if(pe>K)break;var je=ee.transferSize,Te=ee.initiatorType;je&&TS(Te)&&(ee=ee.responseEnd,R+=je*(ee<K?1:(K-pe)/(ee-pe)))}if(--p,l+=8*(N+R)/(b.duration/1e3),i++,10<i)break}}if(0<i)return l/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var uv=null,dv=null;function up(i){return i.nodeType===9?i:i.ownerDocument}function CS(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kS(i,l){if(i===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&l==="foreignObject"?0:i}function hv(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var fv=null;function hz(){var i=window.event;return i&&i.type==="popstate"?i===fv?!1:(fv=i,!0):(fv=null,!1)}var IS=typeof setTimeout=="function"?setTimeout:void 0,fz=typeof clearTimeout=="function"?clearTimeout:void 0,RS=typeof Promise=="function"?Promise:void 0,mz=typeof queueMicrotask=="function"?queueMicrotask:typeof RS<"u"?function(i){return RS.resolve(null).then(i).catch(pz)}:IS;function pz(i){setTimeout(function(){throw i})}function To(i){return i==="head"}function OS(i,l){var d=l,p=0;do{var b=d.nextSibling;if(i.removeChild(d),b&&b.nodeType===8)if(d=b.data,d==="/$"||d==="/&"){if(p===0){i.removeChild(b),vu(l);return}p--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")p++;else if(d==="html")fh(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,fh(d);for(var N=d.firstChild;N;){var R=N.nextSibling,K=N.nodeName;N[xi]||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=R}}else d==="body"&&fh(i.ownerDocument.body);d=b}while(d);vu(l)}function DS(i,l){var d=i;i=0;do{var p=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),p&&p.nodeType===8)if(d=p.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=p}while(d)}function mv(i){var l=i.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":mv(d),Pc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function gz(i,l,d,p){for(;i.nodeType===1;){var b=d;if(i.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[xi])switch(l){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(l==="input"&&i.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=ja(i.nextSibling),i===null)break}return null}function yz(i,l,d){if(l==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=ja(i.nextSibling),i===null))return null;return i}function PS(i,l){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=ja(i.nextSibling),i===null))return null;return i}function pv(i){return i.data==="$?"||i.data==="$~"}function gv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function xz(i,l){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=l;else if(i.data!=="$?"||d.readyState!=="loading")l();else{var p=function(){l(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function ja(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return i}var yv=null;function MS(i){i=i.nextSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(l===0)return ja(i.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}i=i.nextSibling}return null}function LS(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return i;l--}else d!=="/$"&&d!=="/&"||l++}i=i.previousSibling}return null}function zS(i,l,d){switch(l=up(d),i){case"html":if(i=l.documentElement,!i)throw Error(r(452));return i;case"head":if(i=l.head,!i)throw Error(r(453));return i;case"body":if(i=l.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function fh(i){for(var l=i.attributes;l.length;)i.removeAttributeNode(l[0]);Pc(i)}var Ea=new Map,US=new Set;function dp(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var ys=Y.d;Y.d={f:vz,r:bz,D:wz,C:_z,L:Nz,m:jz,X:Sz,S:Ez,M:Az};function vz(){var i=ys.f(),l=np();return i||l}function bz(i){var l=ma(i);l!==null&&l.tag===5&&l.type==="form"?nE(l):ys.r(i)}var gu=typeof document>"u"?null:document;function VS(i,l,d){var p=gu;if(p&&typeof l=="string"&&l){var b=Tr(l);b='link[rel="'+i+'"][href="'+b+'"]',typeof d=="string"&&(b+='[crossorigin="'+d+'"]'),US.has(b)||(US.add(b),i={rel:i,crossOrigin:d,href:l},p.querySelector(b)===null&&(l=p.createElement("link"),Qn(l,"link",i),vn(l),p.head.appendChild(l)))}}function wz(i){ys.D(i),VS("dns-prefetch",i,null)}function _z(i,l){ys.C(i,l),VS("preconnect",i,l)}function Nz(i,l,d){ys.L(i,l,d);var p=gu;if(p&&i&&l){var b='link[rel="preload"][as="'+Tr(l)+'"]';l==="image"&&d&&d.imageSrcSet?(b+='[imagesrcset="'+Tr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(b+='[imagesizes="'+Tr(d.imageSizes)+'"]')):b+='[href="'+Tr(i)+'"]';var N=b;switch(l){case"style":N=yu(i);break;case"script":N=xu(i)}Ea.has(N)||(i=g({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:i,as:l},d),Ea.set(N,i),p.querySelector(b)!==null||l==="style"&&p.querySelector(mh(N))||l==="script"&&p.querySelector(ph(N))||(l=p.createElement("link"),Qn(l,"link",i),vn(l),p.head.appendChild(l)))}}function jz(i,l){ys.m(i,l);var d=gu;if(d&&i){var p=l&&typeof l.as=="string"?l.as:"script",b='link[rel="modulepreload"][as="'+Tr(p)+'"][href="'+Tr(i)+'"]',N=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=xu(i)}if(!Ea.has(N)&&(i=g({rel:"modulepreload",href:i},l),Ea.set(N,i),d.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ph(N)))return}p=d.createElement("link"),Qn(p,"link",i),vn(p),d.head.appendChild(p)}}}function Ez(i,l,d){ys.S(i,l,d);var p=gu;if(p&&i){var b=bi(p).hoistableStyles,N=yu(i);l=l||"default";var R=b.get(N);if(!R){var K={loading:0,preload:null};if(R=p.querySelector(mh(N)))K.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":l},d),(d=Ea.get(N))&&xv(i,d);var ee=R=p.createElement("link");vn(ee),Qn(ee,"link",i),ee._p=new Promise(function(pe,je){ee.onload=pe,ee.onerror=je}),ee.addEventListener("load",function(){K.loading|=1}),ee.addEventListener("error",function(){K.loading|=2}),K.loading|=4,hp(R,l,p)}R={type:"stylesheet",instance:R,count:1,state:K},b.set(N,R)}}}function Sz(i,l){ys.X(i,l);var d=gu;if(d&&i){var p=bi(d).hoistableScripts,b=xu(i),N=p.get(b);N||(N=d.querySelector(ph(b)),N||(i=g({src:i,async:!0},l),(l=Ea.get(b))&&vv(i,l),N=d.createElement("script"),vn(N),Qn(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(b,N))}}function Az(i,l){ys.M(i,l);var d=gu;if(d&&i){var p=bi(d).hoistableScripts,b=xu(i),N=p.get(b);N||(N=d.querySelector(ph(b)),N||(i=g({src:i,async:!0,type:"module"},l),(l=Ea.get(b))&&vv(i,l),N=d.createElement("script"),vn(N),Qn(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(b,N))}}function BS(i,l,d,p){var b=(b=Re.current)?dp(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=yu(d.href),d=bi(b).hoistableStyles,p=d.get(l),p||(p={type:"style",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=yu(d.href);var N=bi(b).hoistableStyles,R=N.get(i);if(R||(b=b.ownerDocument||b,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,R),(N=b.querySelector(mh(i)))&&!N._p&&(R.instance=N,R.state.loading=5),Ea.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ea.set(i,d),N||Tz(b,i,d,R.state))),l&&p===null)throw Error(r(528,""));return R}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=xu(d),d=bi(b).hoistableScripts,p=d.get(l),p||(p={type:"script",instance:null,count:0,state:null},d.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function yu(i){return'href="'+Tr(i)+'"'}function mh(i){return'link[rel="stylesheet"]['+i+"]"}function FS(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function Tz(i,l,d,p){i.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=i.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Qn(l,"link",d),vn(l),i.head.appendChild(l))}function xu(i){return'[src="'+Tr(i)+'"]'}function ph(i){return"script[async]"+i}function qS(i,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var p=i.querySelector('style[data-href~="'+Tr(d.href)+'"]');if(p)return l.instance=p,vn(p),p;var b=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),vn(p),Qn(p,"style",b),hp(p,d.precedence,i),l.instance=p;case"stylesheet":b=yu(d.href);var N=i.querySelector(mh(b));if(N)return l.state.loading|=4,l.instance=N,vn(N),N;p=FS(d),(b=Ea.get(b))&&xv(p,b),N=(i.ownerDocument||i).createElement("link"),vn(N);var R=N;return R._p=new Promise(function(K,ee){R.onload=K,R.onerror=ee}),Qn(N,"link",p),l.state.loading|=4,hp(N,d.precedence,i),l.instance=N;case"script":return N=xu(d.src),(b=i.querySelector(ph(N)))?(l.instance=b,vn(b),b):(p=d,(b=Ea.get(N))&&(p=g({},d),vv(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),vn(b),Qn(b,"link",p),i.head.appendChild(b),l.instance=b);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,hp(p,d.precedence,i));return l.instance}function hp(i,l,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,N=b,R=0;R<p.length;R++){var K=p[R];if(K.dataset.precedence===l)N=K;else if(N!==b)break}N?N.parentNode.insertBefore(i,N.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(i,l.firstChild))}function xv(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.title==null&&(i.title=l.title)}function vv(i,l){i.crossOrigin==null&&(i.crossOrigin=l.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=l.referrerPolicy),i.integrity==null&&(i.integrity=l.integrity)}var fp=null;function $S(i,l,d){if(fp===null){var p=new Map,b=fp=new Map;b.set(d,p)}else b=fp,p=b.get(d),p||(p=new Map,b.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),b=0;b<d.length;b++){var N=d[b];if(!(N[xi]||N[xn]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var R=N.getAttribute(l)||"";R=i+R;var K=p.get(R);K?K.push(N):p.set(R,[N])}}return p}function HS(i,l,d){i=i.ownerDocument||i,i.head.insertBefore(d,l==="title"?i.querySelector("head > title"):null)}function Cz(i,l,d){if(d===1||l.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return i=l.disabled,typeof l.precedence=="string"&&i==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function GS(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function kz(i,l,d,p){if(d.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var b=yu(p.href),N=l.querySelector(mh(b));if(N){l=N._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(i.count++,i=mp.bind(i),l.then(i,i)),d.state.loading|=4,d.instance=N,vn(N);return}N=l.ownerDocument||l,p=FS(p),(b=Ea.get(b))&&xv(p,b),N=N.createElement("link"),vn(N);var R=N;R._p=new Promise(function(K,ee){R.onload=K,R.onerror=ee}),Qn(N,"link",p),d.instance=N}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=mp.bind(i),l.addEventListener("load",d),l.addEventListener("error",d))}}var bv=0;function Iz(i,l){return i.stylesheets&&i.count===0&&gp(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var p=setTimeout(function(){if(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend){var N=i.unsuspend;i.unsuspend=null,N()}},6e4+l);0<i.imgBytes&&bv===0&&(bv=62500*dz());var b=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gp(i,i.stylesheets),i.unsuspend)){var N=i.unsuspend;i.unsuspend=null,N()}},(i.imgBytes>bv?50:800)+l);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(p),clearTimeout(b)}}:null}function mp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pp=null;function gp(i,l){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pp=new Map,l.forEach(Rz,i),pp=null,mp.call(i))}function Rz(i,l){if(!(l.state.loading&4)){var d=pp.get(i);if(d)var p=d.get(null);else{d=new Map,pp.set(i,d);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var R=b[N];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(d.set(R.dataset.precedence,R),p=R)}p&&d.set(null,p)}b=l.instance,R=b.getAttribute("data-precedence"),N=d.get(R)||p,N===p&&d.set(null,b),d.set(R,b),this.count++,p=mp.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),N?N.parentNode.insertBefore(b,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),l.state.loading|=4}}var gh={$$typeof:C,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function Oz(i,l,d,p,b,N,R,K,ee){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gi(0),this.hiddenUpdates=gi(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function KS(i,l,d,p,b,N,R,K,ee,pe,je,Te){return i=new Oz(i,l,d,R,ee,pe,je,Te,K),l=1,N===!0&&(l|=24),N=Kr(3,null,null,l),i.current=N,N.stateNode=i,l=Jy(),l.refCount++,i.pooledCache=l,l.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:l},rx(N),i}function YS(i){return i?(i=Wc,i):Wc}function WS(i,l,d,p,b,N){b=YS(b),p.context===null?p.context=b:p.pendingContext=b,p=yo(l),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=xo(i,p,l),d!==null&&(Dr(d,i,l),Yd(d,i,l))}function XS(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function wv(i,l){XS(i,l),(i=i.alternate)&&XS(i,l)}function QS(i){if(i.tag===13||i.tag===31){var l=Tl(i,67108864);l!==null&&Dr(l,i,67108864),wv(i,67108864)}}function ZS(i){if(i.tag===13||i.tag===31){var l=Zr();l=gl(l);var d=Tl(i,l);d!==null&&Dr(d,i,l),wv(i,l)}}var yp=!0;function Dz(i,l,d,p){var b=q.T;q.T=null;var N=Y.p;try{Y.p=2,_v(i,l,d,p)}finally{Y.p=N,q.T=b}}function Pz(i,l,d,p){var b=q.T;q.T=null;var N=Y.p;try{Y.p=8,_v(i,l,d,p)}finally{Y.p=N,q.T=b}}function _v(i,l,d,p){if(yp){var b=Nv(p);if(b===null)lv(i,l,p,xp,d),eA(i,p);else if(Lz(b,i,l,d,p))p.stopPropagation();else if(eA(i,p),l&4&&-1<Mz.indexOf(i)){for(;b!==null;){var N=ma(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var R=gr(N.pendingLanes);if(R!==0){var K=N;for(K.pendingLanes|=2,K.entangledLanes|=2;R;){var ee=1<<31-jt(R);K.entanglements[1]|=ee,R&=~ee}Oi(N),(Ct&6)===0&&(ep=Me()+500,uh(0))}}break;case 31:case 13:K=Tl(N,2),K!==null&&Dr(K,N,2),np(),wv(N,2)}if(N=Nv(p),N===null&&lv(i,l,p,xp,d),N===b)break;b=N}b!==null&&p.stopPropagation()}else lv(i,l,p,null,d)}}function Nv(i){return i=pa(i),jv(i)}var xp=null;function jv(i){if(xp=null,i=vi(i),i!==null){var l=s(i);if(l===null)i=null;else{var d=l.tag;if(d===13){if(i=c(l),i!==null)return i;i=null}else if(d===31){if(i=u(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null)}}return xp=i,null}function JS(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(De()){case qe:return 2;case ft:return 8;case it:case ne:return 32;case we:return 268435456;default:return 32}default:return 32}}var Ev=!1,Co=null,ko=null,Io=null,yh=new Map,xh=new Map,Ro=[],Mz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function eA(i,l){switch(i){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":ko=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":yh.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(l.pointerId)}}function vh(i,l,d,p,b,N){return i===null||i.nativeEvent!==N?(i={blockedOn:l,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[b]},l!==null&&(l=ma(l),l!==null&&QS(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,b!==null&&l.indexOf(b)===-1&&l.push(b),i)}function Lz(i,l,d,p,b){switch(l){case"focusin":return Co=vh(Co,i,l,d,p,b),!0;case"dragenter":return ko=vh(ko,i,l,d,p,b),!0;case"mouseover":return Io=vh(Io,i,l,d,p,b),!0;case"pointerover":var N=b.pointerId;return yh.set(N,vh(yh.get(N)||null,i,l,d,p,b)),!0;case"gotpointercapture":return N=b.pointerId,xh.set(N,vh(xh.get(N)||null,i,l,d,p,b)),!0}return!1}function tA(i){var l=vi(i.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=c(d),l!==null){i.blockedOn=l,$a(i.priority,function(){ZS(d)});return}}else if(l===31){if(l=u(d),l!==null){i.blockedOn=l,$a(i.priority,function(){ZS(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vp(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Nv(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);Rd=p,d.target.dispatchEvent(p),Rd=null}else return l=ma(d),l!==null&&QS(l),i.blockedOn=d,!1;l.shift()}return!0}function nA(i,l,d){vp(i)&&d.delete(l)}function zz(){Ev=!1,Co!==null&&vp(Co)&&(Co=null),ko!==null&&vp(ko)&&(ko=null),Io!==null&&vp(Io)&&(Io=null),yh.forEach(nA),xh.forEach(nA)}function bp(i,l){i.blockedOn===l&&(i.blockedOn=null,Ev||(Ev=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zz)))}var wp=null;function rA(i){wp!==i&&(wp=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){wp===i&&(wp=null);for(var l=0;l<i.length;l+=3){var d=i[l],p=i[l+1],b=i[l+2];if(typeof p!="function"){if(jv(p||d)===null)continue;break}var N=ma(d);N!==null&&(i.splice(l,3),l-=3,Nx(N,{pending:!0,data:b,method:d.method,action:p},p,b))}}))}function vu(i){function l(ee){return bp(ee,i)}Co!==null&&bp(Co,i),ko!==null&&bp(ko,i),Io!==null&&bp(Io,i),yh.forEach(l),xh.forEach(l);for(var d=0;d<Ro.length;d++){var p=Ro[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Ro.length&&(d=Ro[0],d.blockedOn===null);)tA(d),d.blockedOn===null&&Ro.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var b=d[p],N=d[p+1],R=b[Ln]||null;if(typeof N=="function")R||rA(d);else if(R){var K=null;if(N&&N.hasAttribute("formAction")){if(b=N,R=N[Ln]||null)K=R.formAction;else if(jv(b)!==null)continue}else K=R.action;typeof K=="function"?d[p+1]=K:(d.splice(p,3),p-=3),rA(d)}}}function aA(){function i(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(R){return b=R})},focusReset:"manual",scroll:"manual"})}function l(){b!==null&&(b(),b=null),p||setTimeout(d,20)}function d(){if(!p&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,b=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){p=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),b!==null&&(b(),b=null)}}}function Sv(i){this._internalRoot=i}_p.prototype.render=Sv.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));var d=l.current,p=Zr();WS(d,p,i,l,null,null)},_p.prototype.unmount=Sv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;WS(i.current,2,null,i,null,null),np(),l[yi]=null}};function _p(i){this._internalRoot=i}_p.prototype.unstable_scheduleHydration=function(i){if(i){var l=nm();i={blockedOn:null,target:i,priority:l};for(var d=0;d<Ro.length&&l!==0&&l<Ro[d].priority;d++);Ro.splice(d,0,i),d===0&&tA(i)}};var iA=e.version;if(iA!=="19.2.0")throw Error(r(527,iA,"19.2.0"));Y.findDOMNode=function(i){var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(l),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var Uz={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Np.isDisabled&&Np.supportsFiber)try{Ue=Np.inject(Uz),et=Np}catch{}}return wh.createRoot=function(i,l){if(!a(i))throw Error(r(299));var d=!1,p="",b=hE,N=fE,R=mE;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(N=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError)),l=KS(i,1,!1,null,null,d,p,null,b,N,R,aA),i[yi]=l.current,ov(i),new Sv(l)},wh.hydrateRoot=function(i,l,d){if(!a(i))throw Error(r(299));var p=!1,b="",N=hE,R=fE,K=mE,ee=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(R=d.onCaughtError),d.onRecoverableError!==void 0&&(K=d.onRecoverableError),d.formState!==void 0&&(ee=d.formState)),l=KS(i,1,!0,l,d??null,p,b,ee,N,R,K,aA),l.context=YS(null),d=l.current,p=Zr(),p=gl(p),b=yo(p),b.callback=null,xo(d,b,p),d=p,l.current.lanes=d,ml(l,d),Oi(l),i[yi]=l.current,ov(i),new _p(l)},wh.version="19.2.0",wh}var pA;function Xz(){if(pA)return Cv.exports;pA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Cv.exports=Wz(),Cv.exports}var Qz=Xz();const Zz=Qi(Qz);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gA="popstate";function Jz(t={}){function e(r,a){let{pathname:s,search:c,hash:u}=r.location;return I1("",{pathname:s,search:c,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Qh(a)}return t8(e,n,null,t)}function sn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Da(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function e8(){return Math.random().toString(36).substring(2,10)}function yA(t,e){return{usr:t.state,key:t.key,idx:e}}function I1(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ju(e):e,state:n,key:e&&e.key||r||e8()}}function Qh({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ju(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function t8(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:s=!1}=r,c=a.history,u="POP",h=null,f=m();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function m(){return(c.state||{idx:null}).idx}function g(){u="POP";let _=m(),E=_==null?null:_-f;f=_,h&&h({action:u,location:w.location,delta:E})}function x(_,E){u="PUSH";let S=I1(w.location,_,E);f=m()+1;let C=yA(S,f),V=w.createHref(S);try{c.pushState(C,"",V)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(V)}s&&h&&h({action:u,location:w.location,delta:1})}function v(_,E){u="REPLACE";let S=I1(w.location,_,E);f=m();let C=yA(S,f),V=w.createHref(S);c.replaceState(C,"",V),s&&h&&h({action:u,location:w.location,delta:0})}function j(_){return n8(_)}let w={get action(){return u},get location(){return t(a,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(gA,g),h=_,()=>{a.removeEventListener(gA,g),h=null}},createHref(_){return e(a,_)},createURL:j,encodeLocation(_){let E=j(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:x,replace:v,go(_){return c.go(_)}};return w}function n8(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),sn(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Qh(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function ZI(t,e,n="/"){return r8(t,e,n,!1)}function r8(t,e,n,r){let a=typeof e=="string"?Ju(e):e,s=Ps(a.pathname||"/",n);if(s==null)return null;let c=JI(t);a8(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=p8(s);u=f8(c[h],f,r)}return u}function JI(t,e=[],n=[],r="",a=!1){let s=(c,u,h=a,f)=>{let m={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&h)return;sn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=Cs([r,m.relativePath]),x=n.concat(m);c.children&&c.children.length>0&&(sn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),JI(c.children,e,x,g,h)),!(c.path==null&&!c.index)&&e.push({path:g,score:d8(g,c.index),routesMeta:x})};return t.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))s(c,u);else for(let h of e6(c.path))s(c,u,!0,h)}),e}function e6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return a?[s,""]:[s];let c=e6(r.join("/")),u=[];return u.push(...c.map(h=>h===""?s:[s,h].join("/"))),a&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function a8(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:h8(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var i8=/^:[\w-]+$/,s8=3,o8=2,l8=1,c8=10,u8=-2,xA=t=>t==="*";function d8(t,e){let n=t.split("/"),r=n.length;return n.some(xA)&&(r+=u8),e&&(r+=o8),n.filter(a=>!xA(a)).reduce((a,s)=>a+(i8.test(s)?s8:s===""?l8:c8),r)}function h8(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function f8(t,e,n=!1){let{routesMeta:r}=t,a={},s="/",c=[];for(let u=0;u<r.length;++u){let h=r[u],f=u===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",g=hg({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),x=h.route;if(!g&&f&&n&&!r[r.length-1].route.index&&(g=hg({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Cs([s,g.pathname]),pathnameBase:v8(Cs([s,g.pathnameBase])),route:x}),g.pathnameBase!=="/"&&(s=Cs([s,g.pathnameBase]))}return c}function hg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=m8(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],c=s.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((f,{paramName:m,isOptional:g},x)=>{if(m==="*"){let j=u[x]||"";c=s.slice(0,s.length-j.length).replace(/(.)\/+$/,"$1")}const v=u[x];return g&&!v?f[m]=void 0:f[m]=(v||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:c,pattern:t}}function m8(t,e=!1,n=!0){Da(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function p8(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Da(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ps(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function g8(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Ju(t):t;return{pathname:n?n.startsWith("/")?n:y8(n,e):e,search:b8(r),hash:w8(a)}}function y8(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Ov(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function x8(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xw(t){let e=x8(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Qw(t,e,n,r=!1){let a;typeof t=="string"?a=Ju(t):(a={...t},sn(!a.pathname||!a.pathname.includes("?"),Ov("?","pathname","search",a)),sn(!a.pathname||!a.pathname.includes("#"),Ov("#","pathname","hash",a)),sn(!a.search||!a.search.includes("#"),Ov("#","search","hash",a)));let s=t===""||a.pathname==="",c=s?"/":a.pathname,u;if(c==null)u=n;else{let g=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),g-=1;a.pathname=x.join("/")}u=g>=0?e[g]:"/"}let h=g8(a,u),f=c&&c!=="/"&&c.endsWith("/"),m=(s||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}var Cs=t=>t.join("/").replace(/\/\/+/g,"/"),v8=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),b8=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,w8=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var t6=["POST","PUT","PATCH","DELETE"];new Set(t6);var N8=["GET",...t6];new Set(N8);var ed=T.createContext(null);ed.displayName="DataRouter";var j0=T.createContext(null);j0.displayName="DataRouterState";T.createContext(!1);var n6=T.createContext({isTransitioning:!1});n6.displayName="ViewTransition";var j8=T.createContext(new Map);j8.displayName="Fetchers";var E8=T.createContext(null);E8.displayName="Await";var di=T.createContext(null);di.displayName="Navigation";var jf=T.createContext(null);jf.displayName="Location";var hi=T.createContext({outlet:null,matches:[],isDataRoute:!1});hi.displayName="Route";var Zw=T.createContext(null);Zw.displayName="RouteError";function S8(t,{relative:e}={}){sn(td(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=T.useContext(di),{hash:a,pathname:s,search:c}=Ef(t,{relative:e}),u=s;return n!=="/"&&(u=s==="/"?n:Cs([n,s])),r.createHref({pathname:u,search:c,hash:a})}function td(){return T.useContext(jf)!=null}function $s(){return sn(td(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(jf).location}var r6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function a6(t){T.useContext(di).static||T.useLayoutEffect(t)}function $n(){let{isDataRoute:t}=T.useContext(hi);return t?V8():A8()}function A8(){sn(td(),"useNavigate() may be used only in the context of a <Router> component.");let t=T.useContext(ed),{basename:e,navigator:n}=T.useContext(di),{matches:r}=T.useContext(hi),{pathname:a}=$s(),s=JSON.stringify(Xw(r)),c=T.useRef(!1);return a6(()=>{c.current=!0}),T.useCallback((h,f={})=>{if(Da(c.current,r6),!c.current)return;if(typeof h=="number"){n.go(h);return}let m=Qw(h,JSON.parse(s),a,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Cs([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,a,t])}T.createContext(null);function T8(){let{matches:t}=T.useContext(hi),e=t[t.length-1];return e?e.params:{}}function Ef(t,{relative:e}={}){let{matches:n}=T.useContext(hi),{pathname:r}=$s(),a=JSON.stringify(Xw(n));return T.useMemo(()=>Qw(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function C8(t,e){return i6(t,e)}function i6(t,e,n,r,a){sn(td(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=T.useContext(di),{matches:c}=T.useContext(hi),u=c[c.length-1],h=u?u.params:{},f=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let S=g&&g.path||"";s6(f,!g||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let x=$s(),v;if(e){let S=typeof e=="string"?Ju(e):e;sn(m==="/"||S.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${S.pathname}" was given in the \`location\` prop.`),v=S}else v=x;let j=v.pathname||"/",w=j;if(m!=="/"){let S=m.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=ZI(t,{pathname:w});Da(g||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Da(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=D8(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:Cs([m,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?m:Cs([m,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),c,n,r,a);return e&&E?T.createElement(jf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},E):E}function k8(){let t=U8(),e=_8(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:s},"ErrorBoundary")," or"," ",T.createElement("code",{style:s},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:a},n):null,c)}var I8=T.createElement(k8,null),R8=class extends T.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?T.createElement(hi.Provider,{value:this.props.routeContext},T.createElement(Zw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function O8({routeContext:t,match:e,children:n}){let r=T.useContext(ed);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),T.createElement(hi.Provider,{value:t},n)}function D8(t,e=[],n=null,r=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,c=n?.errors;if(c!=null){let f=s.findIndex(m=>m.route.id&&c?.[m.route.id]!==void 0);sn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:g,errors:x}=n,v=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||v){u=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((f,m,g)=>{let x,v=!1,j=null,w=null;n&&(x=c&&m.route.id?c[m.route.id]:void 0,j=m.route.errorElement||I8,u&&(h<0&&g===0?(s6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):h===g&&(v=!0,w=m.route.hydrateFallbackElement||null)));let _=e.concat(s.slice(0,g+1)),E=()=>{let S;return x?S=j:v?S=w:m.route.Component?S=T.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=f,T.createElement(O8,{match:m,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?T.createElement(R8,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:r}):E()},null)}function Jw(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P8(t){let e=T.useContext(ed);return sn(e,Jw(t)),e}function M8(t){let e=T.useContext(j0);return sn(e,Jw(t)),e}function L8(t){let e=T.useContext(hi);return sn(e,Jw(t)),e}function e_(t){let e=L8(t),n=e.matches[e.matches.length-1];return sn(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function z8(){return e_("useRouteId")}function U8(){let t=T.useContext(Zw),e=M8("useRouteError"),n=e_("useRouteError");return t!==void 0?t:e.errors?.[n]}function V8(){let{router:t}=P8("useNavigate"),e=e_("useNavigate"),n=T.useRef(!1);return a6(()=>{n.current=!0}),T.useCallback(async(a,s={})=>{Da(n.current,r6),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var vA={};function s6(t,e,n){!e&&!vA[t]&&(vA[t]=!0,Da(!1,n))}T.memo(B8);function B8({routes:t,future:e,state:n,unstable_onError:r}){return i6(t,void 0,n,r,e)}function t_({to:t,replace:e,state:n,relative:r}){sn(td(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=T.useContext(di);Da(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=T.useContext(hi),{pathname:c}=$s(),u=$n(),h=Qw(t,Xw(s),c,r==="path"),f=JSON.stringify(h);return T.useEffect(()=>{u(JSON.parse(f),{replace:e,state:n,relative:r})},[u,f,r,e,n]),null}function Vn(t){sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F8({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:s=!1}){sn(!td(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:a,static:s,future:{}}),[c,a,s]);typeof n=="string"&&(n=Ju(n));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:x="default"}=n,v=T.useMemo(()=>{let j=Ps(h,c);return j==null?null:{location:{pathname:j,search:f,hash:m,state:g,key:x},navigationType:r}},[c,h,f,m,g,x,r]);return Da(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:T.createElement(di.Provider,{value:u},T.createElement(jf.Provider,{children:e,value:v}))}function q8({children:t,location:e}){return C8(R1(t),e)}function R1(t,e=[]){let n=[];return T.Children.forEach(t,(r,a)=>{if(!T.isValidElement(r))return;let s=[...e,a];if(r.type===T.Fragment){n.push.apply(n,R1(r.props.children,s));return}sn(r.type===Vn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),sn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=R1(r.props.children,s)),n.push(c)}),n}var Zp="get",Jp="application/x-www-form-urlencoded";function E0(t){return t!=null&&typeof t.tagName=="string"}function $8(t){return E0(t)&&t.tagName.toLowerCase()==="button"}function H8(t){return E0(t)&&t.tagName.toLowerCase()==="form"}function G8(t){return E0(t)&&t.tagName.toLowerCase()==="input"}function K8(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Y8(t,e){return t.button===0&&(!e||e==="_self")&&!K8(t)}function O1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function W8(t,e){let n=O1(t);return e&&e.forEach((r,a)=>{n.has(a)||e.getAll(a).forEach(s=>{n.append(a,s)})}),n}var Ep=null;function X8(){if(Ep===null)try{new FormData(document.createElement("form"),0),Ep=!1}catch{Ep=!0}return Ep}var Q8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dv(t){return t!=null&&!Q8.has(t)?(Da(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jp}"`),null):t}function Z8(t,e){let n,r,a,s,c;if(H8(t)){let u=t.getAttribute("action");r=u?Ps(u,e):null,n=t.getAttribute("method")||Zp,a=Dv(t.getAttribute("enctype"))||Jp,s=new FormData(t)}else if($8(t)||G8(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(r=h?Ps(h,e):null,n=t.getAttribute("formmethod")||u.getAttribute("method")||Zp,a=Dv(t.getAttribute("formenctype"))||Dv(u.getAttribute("enctype"))||Jp,s=new FormData(u,t),!X8()){let{name:f,type:m,value:g}=t;if(m==="image"){let x=f?`${f}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else f&&s.append(f,g)}}else{if(E0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zp,r=null,a=Jp,c=t}return s&&a==="text/plain"&&(c=s,s=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:s,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function n_(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J8(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&Ps(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function e9(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function t9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function n9(t,e,n){let r=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let c=await e9(s,n);return c.links?c.links():[]}return[]}));return s9(r.flat(1).filter(t9).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bA(t,e,n,r,a,s){let c=(h,f)=>n[f]?h.route.id!==n[f].route.id:!0,u=(h,f)=>n[f].pathname!==h.pathname||n[f].route.path?.endsWith("*")&&n[f].params["*"]!==h.params["*"];return s==="assets"?e.filter((h,f)=>c(h,f)||u(h,f)):s==="data"?e.filter((h,f)=>{let m=r.routes[h.route.id];if(!m||!m.hasLoader)return!1;if(c(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let g=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function r9(t,e,{includeHydrateFallback:n}={}){return a9(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function a9(t){return[...new Set(t)]}function i9(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function s9(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let s=JSON.stringify(i9(a));return n.has(s)||(n.add(s),r.push({key:s,link:a})),r},[])}function o6(){let t=T.useContext(ed);return n_(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function o9(){let t=T.useContext(j0);return n_(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var r_=T.createContext(void 0);r_.displayName="FrameworkContext";function l6(){let t=T.useContext(r_);return n_(t,"You must render this element inside a <HydratedRouter> element"),t}function l9(t,e){let n=T.useContext(r_),[r,a]=T.useState(!1),[s,c]=T.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:m,onTouchStart:g}=e,x=T.useRef(null);T.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let w=E=>{E.forEach(S=>{c(S.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[t]),T.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let v=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?t!=="intent"?[s,x,{}]:[s,x,{onFocus:_h(u,v),onBlur:_h(h,j),onMouseEnter:_h(f,v),onMouseLeave:_h(m,j),onTouchStart:_h(g,v)}]:[!1,x,{}]}function _h(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function c9({page:t,...e}){let{router:n}=o6(),r=T.useMemo(()=>ZI(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?T.createElement(d9,{page:t,matches:r,...e}):null}function u9(t){let{manifest:e,routeModules:n}=l6(),[r,a]=T.useState([]);return T.useEffect(()=>{let s=!1;return n9(t,e,n).then(c=>{s||a(c)}),()=>{s=!0}},[t,e,n]),r}function d9({page:t,matches:e,...n}){let r=$s(),{manifest:a,routeModules:s}=l6(),{basename:c}=o6(),{loaderData:u,matches:h}=o9(),f=T.useMemo(()=>bA(t,e,h,a,r,"data"),[t,e,h,a,r]),m=T.useMemo(()=>bA(t,e,h,a,r,"assets"),[t,e,h,a,r]),g=T.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let j=new Set,w=!1;if(e.forEach(E=>{let S=a.routes[E.route.id];!S||!S.hasLoader||(!f.some(C=>C.route.id===E.route.id)&&E.route.id in u&&s[E.route.id]?.shouldRevalidate||S.hasClientLoader?w=!0:j.add(E.route.id))}),j.size===0)return[];let _=J8(t,c,"data");return w&&j.size>0&&_.searchParams.set("_routes",e.filter(E=>j.has(E.route.id)).map(E=>E.route.id).join(",")),[_.pathname+_.search]},[c,u,r,a,f,e,t,s]),x=T.useMemo(()=>r9(m,a),[m,a]),v=u9(m);return T.createElement(T.Fragment,null,g.map(j=>T.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),x.map(j=>T.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),v.map(({key:j,link:w})=>T.createElement("link",{key:j,nonce:n.nonce,...w})))}function h9(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var c6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c6&&(window.__reactRouterVersion="7.9.4")}catch{}function f9({basename:t,children:e,window:n}){let r=T.useRef();r.current==null&&(r.current=Jz({window:n,v5Compat:!0}));let a=r.current,[s,c]=T.useState({action:a.action,location:a.location}),u=T.useCallback(h=>{T.startTransition(()=>c(h))},[c]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.createElement(F8,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var u6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a_=T.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:s,replace:c,state:u,target:h,to:f,preventScrollReset:m,viewTransition:g,...x},v){let{basename:j}=T.useContext(di),w=typeof f=="string"&&u6.test(f),_,E=!1;if(typeof f=="string"&&w&&(_=f,c6))try{let U=new URL(window.location.href),G=f.startsWith("//")?new URL(U.protocol+f):new URL(f),H=Ps(G.pathname,j);G.origin===U.origin&&H!=null?f=H+G.search+G.hash:E=!0}catch{Da(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=S8(f,{relative:a}),[C,V,k]=l9(r,x),$=y9(f,{replace:c,state:u,target:h,preventScrollReset:m,relative:a,viewTransition:g});function O(U){e&&e(U),U.defaultPrevented||$(U)}let M=T.createElement("a",{...x,...k,href:_||S,onClick:E||s?e:O,ref:h9(v,V),target:h,"data-discover":!w&&n==="render"?"true":void 0});return C&&!w?T.createElement(T.Fragment,null,M,T.createElement(c9,{page:S})):M});a_.displayName="Link";var m9=T.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:s,to:c,viewTransition:u,children:h,...f},m){let g=Ef(c,{relative:f.relative}),x=$s(),v=T.useContext(j0),{navigator:j,basename:w}=T.useContext(di),_=v!=null&&N9(g)&&u===!0,E=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,S=x.pathname,C=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(S=S.toLowerCase(),C=C?C.toLowerCase():null,E=E.toLowerCase()),C&&w&&(C=Ps(C,w)||C);const V=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let k=S===E||!a&&S.startsWith(E)&&S.charAt(V)==="/",$=C!=null&&(C===E||!a&&C.startsWith(E)&&C.charAt(E.length)==="/"),O={isActive:k,isPending:$,isTransitioning:_},M=k?e:void 0,U;typeof r=="function"?U=r(O):U=[r,k?"active":null,$?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof s=="function"?s(O):s;return T.createElement(a_,{...f,"aria-current":M,className:U,ref:m,style:G,to:c,viewTransition:u},typeof h=="function"?h(O):h)});m9.displayName="NavLink";var p9=T.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:s,method:c=Zp,action:u,onSubmit:h,relative:f,preventScrollReset:m,viewTransition:g,...x},v)=>{let j=w9(),w=_9(u,{relative:f}),_=c.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&u6.test(u),S=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let V=C.nativeEvent.submitter,k=V?.getAttribute("formmethod")||c;j(V||C.currentTarget,{fetcherKey:e,method:k,navigate:n,replace:a,state:s,relative:f,preventScrollReset:m,viewTransition:g})};return T.createElement("form",{ref:v,method:_,action:w,onSubmit:r?h:S,...x,"data-discover":!E&&t==="render"?"true":void 0})});p9.displayName="Form";function g9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d6(t){let e=T.useContext(ed);return sn(e,g9(t)),e}function y9(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:s,viewTransition:c}={}){let u=$n(),h=$s(),f=Ef(t,{relative:s});return T.useCallback(m=>{if(Y8(m,e)){m.preventDefault();let g=n!==void 0?n:Qh(h)===Qh(f);u(t,{replace:g,state:r,preventScrollReset:a,relative:s,viewTransition:c})}},[h,u,f,n,r,e,t,a,s,c])}function x9(t){Da(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=T.useRef(O1(t)),n=T.useRef(!1),r=$s(),a=T.useMemo(()=>W8(r.search,n.current?null:e.current),[r.search]),s=$n(),c=T.useCallback((u,h)=>{const f=O1(typeof u=="function"?u(new URLSearchParams(a)):u);n.current=!0,s("?"+f,h)},[s,a]);return[a,c]}var v9=0,b9=()=>`__${String(++v9)}__`;function w9(){let{router:t}=d6("useSubmit"),{basename:e}=T.useContext(di),n=z8();return T.useCallback(async(r,a={})=>{let{action:s,method:c,encType:u,formData:h,body:f}=Z8(r,e);if(a.navigate===!1){let m=a.fetcherKey||b9();await t.fetch(m,n,a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function _9(t,{relative:e}={}){let{basename:n}=T.useContext(di),r=T.useContext(hi);sn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),s={...Ef(t||".",{relative:e})},c=$s();if(t==null){s.search=c.search;let u=new URLSearchParams(s.search),h=u.getAll("index");if(h.some(m=>m==="")){u.delete("index"),h.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();s.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Cs([n,s.pathname])),Qh(s)}function N9(t,{relative:e}={}){let n=T.useContext(n6);sn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=d6("useViewTransitionState"),a=Ef(t,{relative:e});if(!n.isTransitioning)return!1;let s=Ps(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ps(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hg(a.pathname,c)!=null||hg(a.pathname,s)!=null}var j9=QI();const E9=()=>{};var wA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},S9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const s=t[n++];e[r++]=String.fromCharCode((a&31)<<6|s&63)}else if(a>239&&a<365){const s=t[n++],c=t[n++],u=t[n++],h=((a&7)<<18|(s&63)<<12|(c&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=t[n++],c=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(s&63)<<6|c&63)}}return e.join("")},f6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const s=t[a],c=a+1<t.length,u=c?t[a+1]:0,h=a+2<t.length,f=h?t[a+2]:0,m=s>>2,g=(s&3)<<4|u>>4;let x=(u&15)<<2|f>>6,v=f&63;h||(v=64,c||(x=64)),r.push(n[m],n[g],n[x],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const s=n[t.charAt(a++)],u=a<t.length?n[t.charAt(a)]:0;++a;const f=a<t.length?n[t.charAt(a)]:64;++a;const g=a<t.length?n[t.charAt(a)]:64;if(++a,s==null||u==null||f==null||g==null)throw new A9;const x=s<<2|u>>4;if(r.push(x),f!==64){const v=u<<4&240|f>>2;if(r.push(v),g!==64){const j=f<<6&192|g;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class A9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T9=function(t){const e=h6(t);return f6.encodeByteArray(e,!0)},fg=function(t){return T9(t).replace(/\./g,"")},m6=function(t){try{return f6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C9(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=()=>C9().__FIREBASE_DEFAULTS__,I9=()=>{if(typeof process>"u"||typeof wA>"u")return;const t=wA.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},R9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&m6(t[1]);return e&&JSON.parse(e)},S0=()=>{try{return E9()||k9()||I9()||R9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},p6=t=>S0()?.emulatorHosts?.[t],i_=t=>{const e=p6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},g6=()=>S0()?.config,y6=t=>S0()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[fg(JSON.stringify(n)),fg(JSON.stringify(c)),""].join(".")}const Vh={};function D9(){const t={prod:[],emulator:[]};for(const e of Object.keys(Vh))Vh[e]?t.emulator.push(e):t.prod.push(e);return t}function P9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _A=!1;function T0(t,e){if(typeof window>"u"||typeof document>"u"||!Zi(window.location.host)||Vh[t]===e||Vh[t]||_A)return;Vh[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",s=D9().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function u(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function h(x,v){x.setAttribute("width","24"),x.setAttribute("id",v),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function f(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{_A=!0,c()},x}function m(x,v){x.setAttribute("id",v),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function g(){const x=P9(r),v=n("text"),j=document.getElementById(v)||document.createElement("span"),w=n("learnmore"),_=document.getElementById(w)||document.createElement("a"),E=n("preprendIcon"),S=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const C=x.element;u(C),m(_,w);const V=f();h(S,E),C.append(S,j,_,V),document.body.appendChild(C)}s?(j.innerText="Preview backend disconnected.",S.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(S.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function L9(){const t=S0()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function U9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V9(){const t=pr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function B9(){return!L9()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b6(){try{return typeof indexedDB=="object"}catch{return!1}}function w6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(n){e(n)}})}function F9(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9="FirebaseError";class da extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=q9,Object.setPrototypeOf(this,da.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jc.prototype.create)}}class jc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,s=this.errors[e],c=s?$9(s,r):"Error",u=`${this.serviceName}: ${c} (${a}).`;return new da(a,u,r)}}function $9(t,e){return t.replace(H9,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const H9=/\{\$([^}]+)}/g;function G9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const s=t[a],c=e[a];if(NA(s)&&NA(c)){if(!Xo(s,c))return!1}else if(s!==c)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function NA(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ih(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,s]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(s)}}),e}function Rh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function K9(t,e){const n=new Y9(t,e);return n.subscribe.bind(n)}class Y9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W9(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Pv),a.error===void 0&&(a.error=Pv),a.complete===void 0&&(a.complete=Pv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pv(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=1e3,Q9=2,Z9=14400*1e3,J9=.5;function jA(t,e=X9,n=Q9){const r=e*Math.pow(n,t),a=Math.round(J9*r*(Math.random()-.5)*2);return Math.min(Z9,r+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eU=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new O9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(nU(e))try{this.getOrInitializeService({instanceIdentifier:ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:a});r.resolve(s)}catch{}}}}clearInstance(e=ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ql){return this.instances.has(e)}getOptions(e=ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,c]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);r===u&&c.resolve(a)}return a}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const s=this.instances.get(r);return s&&e(s,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ql){return this.component?this.component.multipleInstances?e:ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function tU(t){return t===ql?void 0:t}function nU(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new eU(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(xt||(xt={}));const aU={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},iU=xt.INFO,sU={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},oU=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=sU[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C0{constructor(e){this.name=e,this._logLevel=iU,this._logHandler=oU,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const lU=(t,e)=>e.some(n=>t instanceof n);let EA,SA;function cU(){return EA||(EA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uU(){return SA||(SA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _6=new WeakMap,D1=new WeakMap,N6=new WeakMap,Mv=new WeakMap,s_=new WeakMap;function dU(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",s),t.removeEventListener("error",c)},s=()=>{n(Ho(t.result)),a()},c=()=>{r(t.error),a()};t.addEventListener("success",s),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&_6.set(n,t)}).catch(()=>{}),s_.set(e,t),e}function hU(t){if(D1.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",c),t.removeEventListener("abort",c)},s=()=>{n(),a()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",s),t.addEventListener("error",c),t.addEventListener("abort",c)});D1.set(t,e)}let P1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return D1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||N6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ho(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fU(t){P1=t(P1)}function mU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lv(this),e,...n);return N6.set(r,e.sort?e.sort():[e]),Ho(r)}:uU().includes(t)?function(...e){return t.apply(Lv(this),e),Ho(_6.get(this))}:function(...e){return Ho(t.apply(Lv(this),e))}}function pU(t){return typeof t=="function"?mU(t):(t instanceof IDBTransaction&&hU(t),lU(t,cU())?new Proxy(t,P1):t)}function Ho(t){if(t instanceof IDBRequest)return dU(t);if(Mv.has(t))return Mv.get(t);const e=pU(t);return e!==t&&(Mv.set(t,e),s_.set(e,t)),e}const Lv=t=>s_.get(t);function j6(t,e,{blocked:n,upgrade:r,blocking:a,terminated:s}={}){const c=indexedDB.open(t,e),u=Ho(c);return r&&c.addEventListener("upgradeneeded",h=>{r(Ho(c.result),h.oldVersion,h.newVersion,Ho(c.transaction),h)}),n&&c.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),u.then(h=>{s&&h.addEventListener("close",()=>s()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const gU=["get","getKey","getAll","getAllKeys","count"],yU=["put","add","delete","clear"],zv=new Map;function AA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(zv.get(e))return zv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=yU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||gU.includes(n)))return;const s=async function(c,...u){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(u.shift())),(await Promise.all([f[n](...u),a&&h.done]))[0]};return zv.set(e,s),s}fU(t=>({...t,get:(e,n,r)=>AA(e,n)||t.get(e,n,r),has:(e,n)=>!!AA(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vU(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vU(t){return t.getComponent()?.type==="VERSION"}const M1="@firebase/app",TA="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new C0("@firebase/app"),bU="@firebase/app-compat",wU="@firebase/analytics-compat",_U="@firebase/analytics",NU="@firebase/app-check-compat",jU="@firebase/app-check",EU="@firebase/auth",SU="@firebase/auth-compat",AU="@firebase/database",TU="@firebase/data-connect",CU="@firebase/database-compat",kU="@firebase/functions",IU="@firebase/functions-compat",RU="@firebase/installations",OU="@firebase/installations-compat",DU="@firebase/messaging",PU="@firebase/messaging-compat",MU="@firebase/performance",LU="@firebase/performance-compat",zU="@firebase/remote-config",UU="@firebase/remote-config-compat",VU="@firebase/storage",BU="@firebase/storage-compat",FU="@firebase/firestore",qU="@firebase/ai",$U="@firebase/firestore-compat",HU="firebase",GU="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="[DEFAULT]",KU={[M1]:"fire-core",[bU]:"fire-core-compat",[_U]:"fire-analytics",[wU]:"fire-analytics-compat",[jU]:"fire-app-check",[NU]:"fire-app-check-compat",[EU]:"fire-auth",[SU]:"fire-auth-compat",[AU]:"fire-rtdb",[TU]:"fire-data-connect",[CU]:"fire-rtdb-compat",[kU]:"fire-fn",[IU]:"fire-fn-compat",[RU]:"fire-iid",[OU]:"fire-iid-compat",[DU]:"fire-fcm",[PU]:"fire-fcm-compat",[MU]:"fire-perf",[LU]:"fire-perf-compat",[zU]:"fire-rc",[UU]:"fire-rc-compat",[VU]:"fire-gcs",[BU]:"fire-gcs-compat",[FU]:"fire-fst",[$U]:"fire-fst-compat",[qU]:"fire-vertex","fire-js":"fire-js",[HU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=new Map,YU=new Map,z1=new Map;function CA(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pa(t){const e=t.name;if(z1.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;z1.set(e,t);for(const n of mg.values())CA(n,t);for(const n of YU.values())CA(n,t);return!0}function Hs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function hr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Go=new jc("app","Firebase",WU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=GU;function E6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:L1,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw Go.create("bad-app-name",{appName:String(a)});if(n||(n=g6()),!n)throw Go.create("no-options");const s=mg.get(a);if(s){if(Xo(n,s.options)&&Xo(r,s.config))return s;throw Go.create("duplicate-app",{appName:a})}const c=new rU(a);for(const h of z1.values())c.addComponent(h);const u=new XU(n,r,c);return mg.set(a,u),u}function Af(t=L1){const e=mg.get(t);if(!e&&t===L1&&g6())return E6();if(!e)throw Go.create("no-app",{appName:t});return e}function mr(t,e,n){let r=KU[t]??t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(c.join(" "));return}Pa(new ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QU="firebase-heartbeat-database",ZU=1,Zh="firebase-heartbeat-store";let Uv=null;function S6(){return Uv||(Uv=j6(QU,ZU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Zh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Go.create("idb-open",{originalErrorMessage:t.message})})),Uv}async function JU(t){try{const n=(await S6()).transaction(Zh),r=await n.objectStore(Zh).get(A6(t));return await n.done,r}catch(e){if(e instanceof da)Ms.warn(e.message);else{const n=Go.create("idb-get",{originalErrorMessage:e?.message});Ms.warn(n.message)}}}async function kA(t,e){try{const r=(await S6()).transaction(Zh,"readwrite");await r.objectStore(Zh).put(e,A6(t)),await r.done}catch(n){if(n instanceof da)Ms.warn(n.message);else{const r=Go.create("idb-set",{originalErrorMessage:n?.message});Ms.warn(r.message)}}}function A6(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=1024,tV=30;class nV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=IA();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>tV){const a=iV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ms.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=IA(),{heartbeatsToSend:n,unsentEntries:r}=rV(this._heartbeatsCache.heartbeats),a=fg(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Ms.warn(e),""}}}function IA(){return new Date().toISOString().substring(0,10)}function rV(t,e=eV){const n=[];let r=t.slice();for(const a of t){const s=n.find(c=>c.agent===a.agent);if(s){if(s.dates.push(a.date),RA(n)>e){s.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),RA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b6()?w6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return kA(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function RA(t){return fg(JSON.stringify({version:2,heartbeats:t})).length}function iV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(t){Pa(new ca("platform-logger",e=>new xU(e),"PRIVATE")),Pa(new ca("heartbeat",e=>new nV(e),"PRIVATE")),mr(M1,TA,t),mr(M1,TA,"esm2020"),mr("fire-js","")}sV("");function T6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oV=T6,C6=new jc("auth","Firebase",T6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new C0("@firebase/auth");function lV(t,...e){pg.logLevel<=xt.WARN&&pg.warn(`Auth (${Ec}): ${t}`,...e)}function eg(t,...e){pg.logLevel<=xt.ERROR&&pg.error(`Auth (${Ec}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(t,...e){throw l_(t,...e)}function oi(t,...e){return l_(t,...e)}function o_(t,e,n){const r={...oV(),[e]:n};return new jc("auth","Firebase",r).create(e,{appName:t.name})}function zi(t){return o_(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ma(t,"argument-error"),o_(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function l_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return C6.create(t,...e)}function nt(t,e,...n){if(!t)throw l_(e,...n)}function Es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw eg(e),new Error(e)}function Ls(t,e){t||Es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof self<"u"&&self.location?.href||""}function uV(){return OA()==="http:"||OA()==="https:"}function OA(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(uV()||v6()||"connection"in navigator)?navigator.onLine:!0}function hV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=M9()||U9()}get(){return dV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pV=new Tf(3e4,6e4);function Gs(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fi(t,e,n,r,a={}){return I6(t,a,async()=>{let s={},c={};r&&(e==="GET"?c=r:s={body:JSON.stringify(r)});const u=Sf({key:t.config.apiKey,...c}).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:h,...s};return z9()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&Zi(t.emulatorConfig.host)&&(f.credentials="include"),k6.fetch()(await R6(t,t.config.apiHost,n,u),f)})}async function I6(t,e,n){t._canInitEmulator=!1;const r={...fV,...e};try{const a=new yV(t),s=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const c=await s.json();if("needConfirmation"in c)throw Sp(t,"account-exists-with-different-credential",c);if(s.ok&&!("errorMessage"in c))return c;{const u=s.ok?c.errorMessage:c.error.message,[h,f]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sp(t,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw Sp(t,"email-already-in-use",c);if(h==="USER_DISABLED")throw Sp(t,"user-disabled",c);const m=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw o_(t,m,f);Ma(t,m)}}catch(a){if(a instanceof da)throw a;Ma(t,"network-request-failed",{message:String(a)})}}async function Cf(t,e,n,r,a={}){const s=await fi(t,e,n,r,a);return"mfaPendingCredential"in s&&Ma(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function R6(t,e,n,r){const a=`${e}${n}?${r}`,s=t,c=s.config.emulator?c_(t.config,a):`${t.config.apiScheme}://${a}`;return mV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(c).toString():c}function gV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(oi(this.auth,"network-request-failed")),pV.get())})}}function Sp(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=oi(t,e,r);return a.customData._tokenResponse=n,a}function DA(t){return t!==void 0&&t.enterprise!==void 0}class xV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return gV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vV(t,e){return fi(t,"GET","/v2/recaptchaConfig",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e){return fi(t,"POST","/v1/accounts:delete",e)}async function gg(t,e){return fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wV(t,e=!1){const n=kt(t),r=await n.getIdToken(e),a=u_(r);nt(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const s=typeof a.firebase=="object"?a.firebase:void 0,c=s?.sign_in_provider;return{claims:a,token:r,authTime:Bh(Vv(a.auth_time)),issuedAtTime:Bh(Vv(a.iat)),expirationTime:Bh(Vv(a.exp)),signInProvider:c||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Vv(t){return Number(t)*1e3}function u_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return eg("JWT malformed, contained fewer than 3 sections"),null;try{const a=m6(n);return a?JSON.parse(a):(eg("Failed to decode base64 JWT payload"),null)}catch(a){return eg("Caught error parsing JWT payload as JSON",a?.toString()),null}}function PA(t){const e=u_(t);return nt(e,"internal-error"),nt(typeof e.exp<"u","internal-error"),nt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof da&&_V(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function _V({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bh(this.lastLoginAt),this.creationTime=Bh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yg(t){const e=t.auth,n=await t.getIdToken(),r=await uc(t,gg(e,{idToken:n}));nt(r?.users.length,e,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const s=a.providerUserInfo?.length?O6(a.providerUserInfo):[],c=EV(t.providerData,s),u=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!c?.length,f=u?h:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new V1(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function jV(t){const e=kt(t);await yg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function EV(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function O6(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SV(t,e){const n=await I6(t,{},async()=>{const r=Sf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:s}=t.config,c=await R6(t,a,"/v1/token",`key=${s}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:u,body:r};return t.emulatorConfig&&Zi(t.emulatorConfig.host)&&(h.credentials="include"),k6.fetch()(c,h)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AV(t,e){return fi(t,"POST","/v2/accounts:revokeToken",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){nt(e.idToken,"internal-error"),nt(typeof e.idToken<"u","internal-error"),nt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){nt(e.length!==0,"internal-error");const n=PA(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(nt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:s}=await SV(e,n);this.updateTokensAndExpiration(r,a,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:s}=n,c=new Tu;return r&&(nt(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(nt(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),s&&(nt(typeof s=="number","internal-error",{appName:e}),c.expirationTime=s),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tu,this.toJSON())}_performRefresh(){return Es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(t,e){nt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor({uid:e,auth:n,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new NV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new V1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await uc(this,this.stsTokenManager.getToken(this.auth,e));return nt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wV(this,e)}reload(){return jV(this)}_assign(e){this!==e&&(nt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){nt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hr(this.auth.app))return Promise.reject(zi(this.auth));const e=await this.getIdToken();return await uc(this,bV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,a=n.email??void 0,s=n.phoneNumber??void 0,c=n.photoURL??void 0,u=n.tenantId??void 0,h=n._redirectEventId??void 0,f=n.createdAt??void 0,m=n.lastLoginAt??void 0,{uid:g,emailVerified:x,isAnonymous:v,providerData:j,stsTokenManager:w}=n;nt(g&&w,e,"internal-error");const _=Tu.fromJSON(this.name,w);nt(typeof g=="string",e,"internal-error"),Do(r,e.name),Do(a,e.name),nt(typeof x=="boolean",e,"internal-error"),nt(typeof v=="boolean",e,"internal-error"),Do(s,e.name),Do(c,e.name),Do(u,e.name),Do(h,e.name),Do(f,e.name),Do(m,e.name);const E=new ai({uid:g,auth:e,email:a,emailVerified:x,displayName:r,isAnonymous:v,photoURL:c,phoneNumber:s,tenantId:u,stsTokenManager:_,createdAt:f,lastLoginAt:m});return j&&Array.isArray(j)&&(E.providerData=j.map(S=>({...S}))),h&&(E._redirectEventId=h),E}static async _fromIdTokenResponse(e,n,r=!1){const a=new Tu;a.updateFromServerResponse(n);const s=new ai({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await yg(s),s}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];nt(a.localId!==void 0,"internal-error");const s=a.providerUserInfo!==void 0?O6(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!s?.length,u=new Tu;u.updateFromIdToken(r);const h=new ai({uid:a.localId,auth:e,stsTokenManager:u,isAnonymous:c}),f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new V1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!s?.length};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=new Map;function Ss(t){Ls(t instanceof Function,"Expected a class definition");let e=MA.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,MA.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}D6.type="NONE";const LA=D6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tg(t,e,n){return`firebase:${t}:${e}:${n}`}class Cu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:s}=this.auth;this.fullUserKey=tg(this.userKey,a.apiKey,s),this.fullPersistenceKey=tg("persistence",a.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gg(this.auth,{idToken:e}).catch(()=>{});return n?ai._fromGetAccountInfoResponse(this.auth,n,e):null}return ai._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cu(Ss(LA),e,r);const a=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=a[0]||Ss(LA);const c=tg(r,e.config.apiKey,e.name);let u=null;for(const f of n)try{const m=await f._get(c);if(m){let g;if(typeof m=="string"){const x=await gg(e,{idToken:m}).catch(()=>{});if(!x)break;g=await ai._fromGetAccountInfoResponse(e,x,m)}else g=ai._fromJSON(e,m);f!==s&&(u=g),s=f;break}}catch{}const h=a.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Cu(s,e,r):(s=h[0],u&&await s._set(c,u.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(c)}catch{}})),new Cu(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(z6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(V6(e))return"Blackberry";if(B6(e))return"Webos";if(M6(e))return"Safari";if((e.includes("chrome/")||L6(e))&&!e.includes("edge/"))return"Chrome";if(U6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function P6(t=pr()){return/firefox\//i.test(t)}function M6(t=pr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L6(t=pr()){return/crios\//i.test(t)}function z6(t=pr()){return/iemobile/i.test(t)}function U6(t=pr()){return/android/i.test(t)}function V6(t=pr()){return/blackberry/i.test(t)}function B6(t=pr()){return/webos/i.test(t)}function d_(t=pr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TV(t=pr()){return d_(t)&&!!window.navigator?.standalone}function CV(){return V9()&&document.documentMode===10}function F6(t=pr()){return d_(t)||U6(t)||B6(t)||V6(t)||/windows phone/i.test(t)||z6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t,e=[]){let n;switch(t){case"Browser":n=zA(pr());break;case"Worker":n=`${zA(pr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ec}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((c,u)=>{try{const h=e(s);c(h)}catch(h){u(h)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IV(t,e={}){return fi(t,"GET","/v2/passwordPolicy",Gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=6;class OV{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??RV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UA(this),this.idTokenSubscription=new UA(this),this.beforeStateQueue=new kV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gg(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,c=r?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(r=u.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return nt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hr(this.app))return Promise.reject(zi(this));const n=e?kt(e):null;return n&&nt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&nt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hr(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hr(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IV(this),n=new OV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new jc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AV(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;nt(n,this,"argument-error"),this.redirectPersistenceManager=await Cu.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let c=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(nt(u,this,"internal-error"),u.then(()=>{c||s(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(n);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return nt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&lV(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ks(t){return kt(t)}class UA{constructor(e){this.auth=e,this.observer=null,this.addObserver=K9(n=>this.observer=n)}get next(){return nt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PV(t){k0=t}function $6(t){return k0.loadJS(t)}function MV(){return k0.recaptchaEnterpriseScript}function LV(){return k0.gapiScript}function zV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class UV{constructor(){this.enterprise=new VV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const BV="recaptcha-enterprise",H6="NO_RECAPTCHA";class FV{constructor(e){this.type=BV,this.auth=Ks(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(c,u)=>{vV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new xV(h);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,c(f.siteKey)}}).catch(h=>{u(h)})})}function a(s,c,u){const h=window.grecaptcha;DA(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(f=>{c(f)}).catch(()=>{c(H6)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UV().execute("siteKey",{action:"verify"}):new Promise((s,c)=>{r(this.auth).then(u=>{if(!n&&DA(window.grecaptcha))a(u,s,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let h=MV();h.length!==0&&(h+=u),$6(h).then(()=>{a(u,s,c)}).catch(f=>{c(f)})}}).catch(u=>{c(u)})})}}async function VA(t,e,n,r=!1,a=!1){const s=new FV(t);let c;if(a)c=H6;else try{c=await s.verify(n)}catch{c=await s.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:c}):Object.assign(u,{captchaResponse:c}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function xg(t,e,n,r,a){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await VA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await VA(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(t,e){const n=Hs(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),s=n.getOptions();if(Xo(s,e??{}))return a;Ma(a,"already-initialized")}return n.initialize({options:e})}function $V(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ss);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function HV(t,e,n){const r=Ks(t);nt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,s=G6(e),{host:c,port:u}=GV(e),h=u===null?"":`:${u}`,f={url:`${s}//${c}${h}/`},m=Object.freeze({host:c,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){nt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),nt(Xo(f,r.config.emulator)&&Xo(m,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=m,r.settings.appVerificationDisabledForTesting=!0,Zi(c)?(A0(`${s}//${c}${h}`),T0("Auth",!0)):KV()}function G6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GV(t){const e=G6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const s=a[1];return{host:s,port:BA(r.substr(s.length+1))}}else{const[s,c]=r.split(":");return{host:s,port:BA(c)}}}function BA(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function KV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Es("not implemented")}_getIdTokenResponse(e){return Es("not implemented")}_linkToIdToken(e,n){return Es("not implemented")}_getReauthenticationResolver(e){return Es("not implemented")}}async function YV(t,e){return fi(t,"POST","/v1/accounts:update",e)}async function WV(t,e){return fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XV(t,e){return Cf(t,"POST","/v1/accounts:signInWithPassword",Gs(t,e))}async function QV(t,e){return fi(t,"POST","/v1/accounts:sendOobCode",Gs(t,e))}async function ZV(t,e){return QV(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JV(t,e){return Cf(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}async function e7(t,e){return Cf(t,"POST","/v1/accounts:signInWithEmailLink",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends h_{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Jh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Jh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,n,"signInWithPassword",XV);case"emailLink":return JV(e,{email:this._email,oobCode:this._password});default:Ma(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xg(e,r,"signUpPassword",WV);case"emailLink":return e7(e,{idToken:n,email:this._email,oobCode:this._password});default:Ma(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(t,e){return Cf(t,"POST","/v1/accounts:signInWithIdp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7="http://localhost";class dc extends h_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new dc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ma("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...s}=n;if(!r||!a)return null;const c=new dc(r,a);return c.idToken=s.idToken||void 0,c.accessToken=s.accessToken||void 0,c.secret=s.secret,c.nonce=s.nonce,c.pendingToken=s.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ku(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ku(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ku(e,n)}buildRequest(){const e={requestUri:t7,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n7(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r7(t){const e=Ih(Rh(t)).link,n=e?Ih(Rh(e)).deep_link_id:null,r=Ih(Rh(t)).deep_link_id;return(r?Ih(Rh(r)).link:null)||r||n||e||t}class f_{constructor(e){const n=Ih(Rh(e)),r=n.apiKey??null,a=n.oobCode??null,s=n7(n.mode??null);nt(r&&a&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=a,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=r7(e);try{return new f_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(){this.providerId=nd.PROVIDER_ID}static credential(e,n){return Jh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=f_.parseLink(n);return nt(r,"argument-error"),Jh._fromEmailAndCode(e,r.code,r.tenantId)}}nd.PROVIDER_ID="password";nd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf extends m_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends kf{constructor(){super("facebook.com")}static credential(e){return dc._fromParams({providerId:zo.PROVIDER_ID,signInMethod:zo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zo.credentialFromTaggedObject(e)}static credentialFromError(e){return zo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zo.credential(e.oauthAccessToken)}catch{return null}}}zo.FACEBOOK_SIGN_IN_METHOD="facebook.com";zo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends kf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return dc._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return bs.credential(n,r)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends kf{constructor(){super("github.com")}static credential(e){return dc._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Uo.credentialFromTaggedObject(e)}static credentialFromError(e){return Uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Uo.credential(e.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo extends kf{constructor(){super("twitter.com")}static credential(e,n){return dc._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vo.credentialFromTaggedObject(e)}static credentialFromError(e){return Vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Vo.credential(n,r)}catch{return null}}}Vo.TWITTER_SIGN_IN_METHOD="twitter.com";Vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a7(t,e){return Cf(t,"POST","/v1/accounts:signUp",Gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const s=await ai._fromIdTokenResponse(e,r,a),c=FA(r);return new hc({user:s,providerId:c,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=FA(r);return new hc({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function FA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg extends da{constructor(e,n,r,a){super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new vg(e,n,r,a)}}function K6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vg._fromErrorAndOperation(t,s,e,r):s})}async function i7(t,e,n=!1){const r=await uc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return hc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s7(t,e,n=!1){const{auth:r}=t;if(hr(r.app))return Promise.reject(zi(r));const a="reauthenticate";try{const s=await uc(t,K6(r,a,e,t),n);nt(s.idToken,r,"internal-error");const c=u_(s.idToken);nt(c,r,"internal-error");const{sub:u}=c;return nt(t.uid===u,r,"user-mismatch"),hc._forOperation(t,a,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ma(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e,n=!1){if(hr(t.app))return Promise.reject(zi(t));const r="signIn",a=await K6(t,r,e),s=await hc._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(s.user),s}async function o7(t,e){return Y6(Ks(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W6(t){const e=Ks(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function l7(t,e,n){const r=Ks(t);await xg(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ZV)}async function c7(t,e,n){if(hr(t.app))return Promise.reject(zi(t));const r=Ks(t),c=await xg(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a7).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&W6(t),h}),u=await hc._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(u.user),u}function u7(t,e,n){return hr(t.app)?Promise.reject(zi(t)):o7(kt(t),nd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&W6(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d7(t,e){return fi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=kt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},c=await uc(r,d7(r.auth,s));r.displayName=c.displayName||null,r.photoURL=c.photoUrl||null;const u=r.providerData.find(({providerId:h})=>h==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(c)}function h7(t,e){const n=kt(t);return hr(n.auth.app)?Promise.reject(zi(n.auth)):Q6(n,e,null)}function f7(t,e){return Q6(kt(t),null,e)}async function Q6(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(s.email=e),n&&(s.password=n);const c=await uc(t,YV(r,s));await t._updateTokensIfNecessary(c,!0)}function m7(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function p7(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function g7(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function y7(t){return kt(t).signOut()}const bg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bg,"1"),this.storage.removeItem(bg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=1e3,v7=10;class J6 extends Z6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,u,h)=>{this.notifyListeners(c,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!n&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);CV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,v7):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},x7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}J6.type="LOCAL";const b7=J6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends Z6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eR.type="SESSION";const tR=eR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new I0(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:s}=n.data,c=this.handlersMap[a];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const u=Array.from(c).map(async f=>f(n.origin,s)),h=await w7(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}I0.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let s,c;return new Promise((u,h)=>{const f=p_("",20);a.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(g){const x=g;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(m),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),u(x.data.response);break;default:clearTimeout(m),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function N7(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function j7(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function E7(){return navigator?.serviceWorker?.controller||null}function S7(){return nR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebaseLocalStorageDb",A7=1,wg="firebaseLocalStorage",aR="fbase_key";class If{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function R0(t,e){return t.transaction([wg],e?"readwrite":"readonly").objectStore(wg)}function T7(){const t=indexedDB.deleteDatabase(rR);return new If(t).toPromise()}function B1(){const t=indexedDB.open(rR,A7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wg,{keyPath:aR})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wg)?e(r):(r.close(),await T7(),e(await B1()))})})}async function qA(t,e,n){const r=R0(t,!0).put({[aR]:e,value:n});return new If(r).toPromise()}async function C7(t,e){const n=R0(t,!1).get(e),r=await new If(n).toPromise();return r===void 0?null:r.value}function $A(t,e){const n=R0(t,!0).delete(e);return new If(n).toPromise()}const k7=800,I7=3;class iR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await B1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>I7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=I0._getInstance(S7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j7(),!this.activeServiceWorker)return;this.sender=new _7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||E7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await B1();return await qA(e,bg,"1"),await $A(e,bg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qA(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>C7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$A(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const s=R0(a,!1).getAll();return new If(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:s}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(s)&&(this.notifyListeners(a,s),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),k7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iR.type="LOCAL";const R7=iR;new Tf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t,e){return e?Ss(e):(nt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends h_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function O7(t){return Y6(t.auth,new g_(t),t.bypassAuthState)}function D7(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),s7(n,new g_(t),t.bypassAuthState)}async function P7(t){const{auth:e,user:n}=t;return nt(n,e,"internal-error"),i7(n,new g_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,n,r,a,s=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:s,error:c,type:u}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O7;case"linkViaPopup":case"linkViaRedirect":return P7;case"reauthViaPopup":case"reauthViaRedirect":return D7;default:Ma(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M7=new Tf(2e3,1e4);async function L7(t,e,n){if(hr(t.app))return Promise.reject(oi(t,"operation-not-supported-in-this-environment"));const r=Ks(t);cV(t,e,m_);const a=sR(r,n);return new Kl(r,"signInViaPopup",e,a).executeNotNull()}class Kl extends oR{constructor(e,n,r,a,s){super(e,n,a,s),this.provider=r,this.authWindow=null,this.pollId=null,Kl.currentPopupAction&&Kl.currentPopupAction.cancel(),Kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return nt(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=p_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M7.get())};e()}}Kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="pendingRedirect",ng=new Map;class U7 extends oR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ng.get(this.auth._key());if(!e){try{const r=await V7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ng.set(this.auth._key(),e)}return this.bypassAuthState||ng.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V7(t,e){const n=q7(e),r=F7(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function B7(t,e){ng.set(t._key(),e)}function F7(t){return Ss(t._redirectPersistence)}function q7(t){return tg(z7,t.config.apiKey,t.name)}async function $7(t,e,n=!1){if(hr(t.app))return Promise.reject(zi(t));const r=Ks(t),a=sR(r,e),c=await new U7(r,a,n).execute();return c&&!n&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=600*1e3;class G7{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!lR(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(oi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H7&&this.cachedEventUids.clear(),this.cachedEventUids.has(HA(e))}saveEventToCache(e){this.cachedEventUids.add(HA(e)),this.lastProcessedEventTime=Date.now()}}function HA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function K7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y7(t,e={}){return fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X7=/^https?/;async function Q7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Y7(t);for(const n of e)try{if(Z7(n))return}catch{}Ma(t,"unauthorized-domain")}function Z7(t){const e=U1(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const c=new URL(t);return c.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===r}if(!X7.test(n))return!1;if(W7.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=new Tf(3e4,6e4);function GA(){const t=Ui().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function eB(t){return new Promise((e,n)=>{function r(){GA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GA(),n(oi(t,"network-request-failed"))},timeout:J7.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const a=zV("iframefcb");return Ui()[a]=()=>{gapi.load?r():n(oi(t,"network-request-failed"))},$6(`${LV()}?onload=${a}`).catch(s=>n(s))}}).catch(e=>{throw rg=null,e})}let rg=null;function tB(t){return rg=rg||eB(t),rg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nB=new Tf(5e3,15e3),rB="__/auth/iframe",aB="emulator/auth/iframe",iB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oB(t){const e=t.config;nt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?c_(e,aB):`https://${t.config.authDomain}/${rB}`,r={apiKey:e.apiKey,appName:t.name,v:Ec},a=sB.get(t.config.apiHost);a&&(r.eid=a);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Sf(r).slice(1)}`}async function lB(t){const e=await tB(t),n=Ui().gapi;return nt(n,t,"internal-error"),e.open({where:document.body,url:oB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iB,dontclear:!0},r=>new Promise(async(a,s)=>{await r.restyle({setHideOnLeave:!1});const c=oi(t,"network-request-failed"),u=Ui().setTimeout(()=>{s(c)},nB.get());function h(){Ui().clearTimeout(u),a(r)}r.ping(h).then(h,()=>{s(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uB=500,dB=600,hB="_blank",fB="http://localhost";class KA{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mB(t,e,n,r=uB,a=dB){const s=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h={...cB,width:r.toString(),height:a.toString(),top:s,left:c},f=pr().toLowerCase();n&&(u=L6(f)?hB:n),P6(f)&&(e=e||fB,h.scrollbars="yes");const m=Object.entries(h).reduce((x,[v,j])=>`${x}${v}=${j},`,"");if(TV(f)&&u!=="_self")return pB(e||"",u),new KA(null);const g=window.open(e||"",u,m);nt(g,t,"popup-blocked");try{g.focus()}catch{}return new KA(g)}function pB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="__/auth/handler",yB="emulator/auth/handler",xB=encodeURIComponent("fac");async function YA(t,e,n,r,a,s){nt(t.config.authDomain,t,"auth-domain-config-required"),nt(t.config.apiKey,t,"invalid-api-key");const c={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ec,eventId:a};if(e instanceof m_){e.setDefaultLanguage(t.languageCode),c.providerId=e.providerId||"",G9(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,g]of Object.entries({}))c[m]=g}if(e instanceof kf){const m=e.getScopes().filter(g=>g!=="");m.length>0&&(c.scopes=m.join(","))}t.tenantId&&(c.tid=t.tenantId);const u=c;for(const m of Object.keys(u))u[m]===void 0&&delete u[m];const h=await t._getAppCheckToken(),f=h?`#${xB}=${encodeURIComponent(h)}`:"";return`${vB(t)}?${Sf(u).slice(1)}${f}`}function vB({config:t}){return t.emulator?c_(t,yB):`https://${t.authDomain}/${gB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="webStorageSupport";class bB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tR,this._completeRedirectFn=$7,this._overrideRedirectResult=B7}async _openPopup(e,n,r,a){Ls(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await YA(e,n,r,U1(),a);return mB(e,s,p_())}async _openRedirect(e,n,r,a){await this._originValidation(e);const s=await YA(e,n,r,U1(),a);return N7(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:s}=this.eventManagers[n];return a?Promise.resolve(a):(Ls(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await lB(e),r=new G7(e);return n.register("authEvent",a=>(nt(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bv,{type:Bv},a=>{const s=a?.[0]?.[Bv];s!==void 0&&n(!!s),Ma(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Q7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return F6()||M6()||d_()}}const wB=bB;var WA="@firebase/auth",XA="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){nt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jB(t){Pa(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:c,authDomain:u}=r.options;nt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q6(t)},f=new DV(r,a,s,h);return $V(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pa(new ca("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(r=>new _B(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(WA,XA,NB(t)),mr(WA,XA,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=300,SB=y6("authIdTokenMaxAge")||EB;let QA=null;const AB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>SB)return;const a=n?.token;QA!==a&&(QA=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function TB(t=Af()){const e=Hs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qV(t,{popupRedirectResolver:wB,persistence:[R7,b7,tR]}),r=y6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const c=AB(s.toString());p7(n,c,()=>c(n.currentUser)),m7(n,u=>c(u))}}const a=p6("auth");return a&&HV(n,`http://${a}`),n}function CB(){return document.getElementsByTagName("head")?.[0]??document}PV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const s=oi("internal-error");s.customData=a,n(s)},r.type="text/javascript",r.charset="UTF-8",CB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jB("Browser");var ZA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ko,cR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,M){function U(){}U.prototype=M.prototype,O.F=M.prototype,O.prototype=new U,O.prototype.constructor=O,O.D=function(G,H,D){for(var B=Array(arguments.length-2),I=2;I<arguments.length;I++)B[I-2]=arguments[I];return M.prototype[H].apply(G,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(O,M,U){U||(U=0);const G=Array(16);if(typeof M=="string")for(var H=0;H<16;++H)G[H]=M.charCodeAt(U++)|M.charCodeAt(U++)<<8|M.charCodeAt(U++)<<16|M.charCodeAt(U++)<<24;else for(H=0;H<16;++H)G[H]=M[U++]|M[U++]<<8|M[U++]<<16|M[U++]<<24;M=O.g[0],U=O.g[1],H=O.g[2];let D=O.g[3],B;B=M+(D^U&(H^D))+G[0]+3614090360&4294967295,M=U+(B<<7&4294967295|B>>>25),B=D+(H^M&(U^H))+G[1]+3905402710&4294967295,D=M+(B<<12&4294967295|B>>>20),B=H+(U^D&(M^U))+G[2]+606105819&4294967295,H=D+(B<<17&4294967295|B>>>15),B=U+(M^H&(D^M))+G[3]+3250441966&4294967295,U=H+(B<<22&4294967295|B>>>10),B=M+(D^U&(H^D))+G[4]+4118548399&4294967295,M=U+(B<<7&4294967295|B>>>25),B=D+(H^M&(U^H))+G[5]+1200080426&4294967295,D=M+(B<<12&4294967295|B>>>20),B=H+(U^D&(M^U))+G[6]+2821735955&4294967295,H=D+(B<<17&4294967295|B>>>15),B=U+(M^H&(D^M))+G[7]+4249261313&4294967295,U=H+(B<<22&4294967295|B>>>10),B=M+(D^U&(H^D))+G[8]+1770035416&4294967295,M=U+(B<<7&4294967295|B>>>25),B=D+(H^M&(U^H))+G[9]+2336552879&4294967295,D=M+(B<<12&4294967295|B>>>20),B=H+(U^D&(M^U))+G[10]+4294925233&4294967295,H=D+(B<<17&4294967295|B>>>15),B=U+(M^H&(D^M))+G[11]+2304563134&4294967295,U=H+(B<<22&4294967295|B>>>10),B=M+(D^U&(H^D))+G[12]+1804603682&4294967295,M=U+(B<<7&4294967295|B>>>25),B=D+(H^M&(U^H))+G[13]+4254626195&4294967295,D=M+(B<<12&4294967295|B>>>20),B=H+(U^D&(M^U))+G[14]+2792965006&4294967295,H=D+(B<<17&4294967295|B>>>15),B=U+(M^H&(D^M))+G[15]+1236535329&4294967295,U=H+(B<<22&4294967295|B>>>10),B=M+(H^D&(U^H))+G[1]+4129170786&4294967295,M=U+(B<<5&4294967295|B>>>27),B=D+(U^H&(M^U))+G[6]+3225465664&4294967295,D=M+(B<<9&4294967295|B>>>23),B=H+(M^U&(D^M))+G[11]+643717713&4294967295,H=D+(B<<14&4294967295|B>>>18),B=U+(D^M&(H^D))+G[0]+3921069994&4294967295,U=H+(B<<20&4294967295|B>>>12),B=M+(H^D&(U^H))+G[5]+3593408605&4294967295,M=U+(B<<5&4294967295|B>>>27),B=D+(U^H&(M^U))+G[10]+38016083&4294967295,D=M+(B<<9&4294967295|B>>>23),B=H+(M^U&(D^M))+G[15]+3634488961&4294967295,H=D+(B<<14&4294967295|B>>>18),B=U+(D^M&(H^D))+G[4]+3889429448&4294967295,U=H+(B<<20&4294967295|B>>>12),B=M+(H^D&(U^H))+G[9]+568446438&4294967295,M=U+(B<<5&4294967295|B>>>27),B=D+(U^H&(M^U))+G[14]+3275163606&4294967295,D=M+(B<<9&4294967295|B>>>23),B=H+(M^U&(D^M))+G[3]+4107603335&4294967295,H=D+(B<<14&4294967295|B>>>18),B=U+(D^M&(H^D))+G[8]+1163531501&4294967295,U=H+(B<<20&4294967295|B>>>12),B=M+(H^D&(U^H))+G[13]+2850285829&4294967295,M=U+(B<<5&4294967295|B>>>27),B=D+(U^H&(M^U))+G[2]+4243563512&4294967295,D=M+(B<<9&4294967295|B>>>23),B=H+(M^U&(D^M))+G[7]+1735328473&4294967295,H=D+(B<<14&4294967295|B>>>18),B=U+(D^M&(H^D))+G[12]+2368359562&4294967295,U=H+(B<<20&4294967295|B>>>12),B=M+(U^H^D)+G[5]+4294588738&4294967295,M=U+(B<<4&4294967295|B>>>28),B=D+(M^U^H)+G[8]+2272392833&4294967295,D=M+(B<<11&4294967295|B>>>21),B=H+(D^M^U)+G[11]+1839030562&4294967295,H=D+(B<<16&4294967295|B>>>16),B=U+(H^D^M)+G[14]+4259657740&4294967295,U=H+(B<<23&4294967295|B>>>9),B=M+(U^H^D)+G[1]+2763975236&4294967295,M=U+(B<<4&4294967295|B>>>28),B=D+(M^U^H)+G[4]+1272893353&4294967295,D=M+(B<<11&4294967295|B>>>21),B=H+(D^M^U)+G[7]+4139469664&4294967295,H=D+(B<<16&4294967295|B>>>16),B=U+(H^D^M)+G[10]+3200236656&4294967295,U=H+(B<<23&4294967295|B>>>9),B=M+(U^H^D)+G[13]+681279174&4294967295,M=U+(B<<4&4294967295|B>>>28),B=D+(M^U^H)+G[0]+3936430074&4294967295,D=M+(B<<11&4294967295|B>>>21),B=H+(D^M^U)+G[3]+3572445317&4294967295,H=D+(B<<16&4294967295|B>>>16),B=U+(H^D^M)+G[6]+76029189&4294967295,U=H+(B<<23&4294967295|B>>>9),B=M+(U^H^D)+G[9]+3654602809&4294967295,M=U+(B<<4&4294967295|B>>>28),B=D+(M^U^H)+G[12]+3873151461&4294967295,D=M+(B<<11&4294967295|B>>>21),B=H+(D^M^U)+G[15]+530742520&4294967295,H=D+(B<<16&4294967295|B>>>16),B=U+(H^D^M)+G[2]+3299628645&4294967295,U=H+(B<<23&4294967295|B>>>9),B=M+(H^(U|~D))+G[0]+4096336452&4294967295,M=U+(B<<6&4294967295|B>>>26),B=D+(U^(M|~H))+G[7]+1126891415&4294967295,D=M+(B<<10&4294967295|B>>>22),B=H+(M^(D|~U))+G[14]+2878612391&4294967295,H=D+(B<<15&4294967295|B>>>17),B=U+(D^(H|~M))+G[5]+4237533241&4294967295,U=H+(B<<21&4294967295|B>>>11),B=M+(H^(U|~D))+G[12]+1700485571&4294967295,M=U+(B<<6&4294967295|B>>>26),B=D+(U^(M|~H))+G[3]+2399980690&4294967295,D=M+(B<<10&4294967295|B>>>22),B=H+(M^(D|~U))+G[10]+4293915773&4294967295,H=D+(B<<15&4294967295|B>>>17),B=U+(D^(H|~M))+G[1]+2240044497&4294967295,U=H+(B<<21&4294967295|B>>>11),B=M+(H^(U|~D))+G[8]+1873313359&4294967295,M=U+(B<<6&4294967295|B>>>26),B=D+(U^(M|~H))+G[15]+4264355552&4294967295,D=M+(B<<10&4294967295|B>>>22),B=H+(M^(D|~U))+G[6]+2734768916&4294967295,H=D+(B<<15&4294967295|B>>>17),B=U+(D^(H|~M))+G[13]+1309151649&4294967295,U=H+(B<<21&4294967295|B>>>11),B=M+(H^(U|~D))+G[4]+4149444226&4294967295,M=U+(B<<6&4294967295|B>>>26),B=D+(U^(M|~H))+G[11]+3174756917&4294967295,D=M+(B<<10&4294967295|B>>>22),B=H+(M^(D|~U))+G[2]+718787259&4294967295,H=D+(B<<15&4294967295|B>>>17),B=U+(D^(H|~M))+G[9]+3951481745&4294967295,O.g[0]=O.g[0]+M&4294967295,O.g[1]=O.g[1]+(H+(B<<21&4294967295|B>>>11))&4294967295,O.g[2]=O.g[2]+H&4294967295,O.g[3]=O.g[3]+D&4294967295}r.prototype.v=function(O,M){M===void 0&&(M=O.length);const U=M-this.blockSize,G=this.C;let H=this.h,D=0;for(;D<M;){if(H==0)for(;D<=U;)a(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<M;)if(G[H++]=O.charCodeAt(D++),H==this.blockSize){a(this,G),H=0;break}}else for(;D<M;)if(G[H++]=O[D++],H==this.blockSize){a(this,G),H=0;break}}this.h=H,this.o+=M},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var M=1;M<O.length-8;++M)O[M]=0;M=this.o*8;for(var U=O.length-8;U<O.length;++U)O[U]=M&255,M/=256;for(this.v(O),O=Array(16),M=0,U=0;U<4;++U)for(let G=0;G<32;G+=8)O[M++]=this.g[U]>>>G&255;return O};function s(O,M){var U=u;return Object.prototype.hasOwnProperty.call(U,O)?U[O]:U[O]=M(O)}function c(O,M){this.h=M;const U=[];let G=!0;for(let H=O.length-1;H>=0;H--){const D=O[H]|0;G&&D==M||(U[H]=D,G=!1)}this.g=U}var u={};function h(O){return-128<=O&&O<128?s(O,function(M){return new c([M|0],M<0?-1:0)}):new c([O|0],O<0?-1:0)}function f(O){if(isNaN(O)||!isFinite(O))return g;if(O<0)return _(f(-O));const M=[];let U=1;for(let G=0;O>=U;G++)M[G]=O/U|0,U*=4294967296;return new c(M,0)}function m(O,M){if(O.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(O.charAt(0)=="-")return _(m(O.substring(1),M));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const U=f(Math.pow(M,8));let G=g;for(let D=0;D<O.length;D+=8){var H=Math.min(8,O.length-D);const B=parseInt(O.substring(D,D+H),M);H<8?(H=f(Math.pow(M,H)),G=G.j(H).add(f(B))):(G=G.j(U),G=G.add(f(B)))}return G}var g=h(0),x=h(1),v=h(16777216);t=c.prototype,t.m=function(){if(w(this))return-_(this).m();let O=0,M=1;for(let U=0;U<this.g.length;U++){const G=this.i(U);O+=(G>=0?G:4294967296+G)*M,M*=4294967296}return O},t.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(j(this))return"0";if(w(this))return"-"+_(this).toString(O);const M=f(Math.pow(O,6));var U=this;let G="";for(;;){const H=V(U,M).g;U=E(U,H.j(M));let D=((U.g.length>0?U.g[0]:U.h)>>>0).toString(O);if(U=H,j(U))return D+G;for(;D.length<6;)D="0"+D;G=D+G}},t.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function j(O){if(O.h!=0)return!1;for(let M=0;M<O.g.length;M++)if(O.g[M]!=0)return!1;return!0}function w(O){return O.h==-1}t.l=function(O){return O=E(this,O),w(O)?-1:j(O)?0:1};function _(O){const M=O.g.length,U=[];for(let G=0;G<M;G++)U[G]=~O.g[G];return new c(U,~O.h).add(x)}t.abs=function(){return w(this)?_(this):this},t.add=function(O){const M=Math.max(this.g.length,O.g.length),U=[];let G=0;for(let H=0;H<=M;H++){let D=G+(this.i(H)&65535)+(O.i(H)&65535),B=(D>>>16)+(this.i(H)>>>16)+(O.i(H)>>>16);G=B>>>16,D&=65535,B&=65535,U[H]=B<<16|D}return new c(U,U[U.length-1]&-2147483648?-1:0)};function E(O,M){return O.add(_(M))}t.j=function(O){if(j(this)||j(O))return g;if(w(this))return w(O)?_(this).j(_(O)):_(_(this).j(O));if(w(O))return _(this.j(_(O)));if(this.l(v)<0&&O.l(v)<0)return f(this.m()*O.m());const M=this.g.length+O.g.length,U=[];for(var G=0;G<2*M;G++)U[G]=0;for(G=0;G<this.g.length;G++)for(let H=0;H<O.g.length;H++){const D=this.i(G)>>>16,B=this.i(G)&65535,I=O.i(H)>>>16,J=O.i(H)&65535;U[2*G+2*H]+=B*J,S(U,2*G+2*H),U[2*G+2*H+1]+=D*J,S(U,2*G+2*H+1),U[2*G+2*H+1]+=B*I,S(U,2*G+2*H+1),U[2*G+2*H+2]+=D*I,S(U,2*G+2*H+2)}for(O=0;O<M;O++)U[O]=U[2*O+1]<<16|U[2*O];for(O=M;O<2*M;O++)U[O]=0;return new c(U,0)};function S(O,M){for(;(O[M]&65535)!=O[M];)O[M+1]+=O[M]>>>16,O[M]&=65535,M++}function C(O,M){this.g=O,this.h=M}function V(O,M){if(j(M))throw Error("division by zero");if(j(O))return new C(g,g);if(w(O))return M=V(_(O),M),new C(_(M.g),_(M.h));if(w(M))return M=V(O,_(M)),new C(_(M.g),M.h);if(O.g.length>30){if(w(O)||w(M))throw Error("slowDivide_ only works with positive integers.");for(var U=x,G=M;G.l(O)<=0;)U=k(U),G=k(G);var H=$(U,1),D=$(G,1);for(G=$(G,2),U=$(U,2);!j(G);){var B=D.add(G);B.l(O)<=0&&(H=H.add(U),D=B),G=$(G,1),U=$(U,1)}return M=E(O,H.j(M)),new C(H,M)}for(H=g;O.l(M)>=0;){for(U=Math.max(1,Math.floor(O.m()/M.m())),G=Math.ceil(Math.log(U)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),D=f(U),B=D.j(M);w(B)||B.l(O)>0;)U-=G,D=f(U),B=D.j(M);j(D)&&(D=x),H=H.add(D),O=E(O,B)}return new C(H,O)}t.B=function(O){return V(this,O).h},t.and=function(O){const M=Math.max(this.g.length,O.g.length),U=[];for(let G=0;G<M;G++)U[G]=this.i(G)&O.i(G);return new c(U,this.h&O.h)},t.or=function(O){const M=Math.max(this.g.length,O.g.length),U=[];for(let G=0;G<M;G++)U[G]=this.i(G)|O.i(G);return new c(U,this.h|O.h)},t.xor=function(O){const M=Math.max(this.g.length,O.g.length),U=[];for(let G=0;G<M;G++)U[G]=this.i(G)^O.i(G);return new c(U,this.h^O.h)};function k(O){const M=O.g.length+1,U=[];for(let G=0;G<M;G++)U[G]=O.i(G)<<1|O.i(G-1)>>>31;return new c(U,O.h)}function $(O,M){const U=M>>5;M%=32;const G=O.g.length-U,H=[];for(let D=0;D<G;D++)H[D]=M>0?O.i(D+U)>>>M|O.i(D+U+1)<<32-M:O.i(D+U);return new c(H,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,cR=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=f,c.fromString=m,Ko=c}).apply(typeof ZA<"u"?ZA:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uR,Oh,dR,ag,F1,hR,fR,mR;(function(){var t,e=Object.defineProperty;function n(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var A=0;A<y.length;++A){var z=y[A];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var r=n(this);function a(y,A){if(A)e:{var z=r;y=y.split(".");for(var Q=0;Q<y.length-1;Q++){var de=y[Q];if(!(de in z))break e;z=z[de]}y=y[y.length-1],Q=z[y],A=A(Q),A!=Q&&A!=null&&e(z,y,{configurable:!0,writable:!0,value:A})}}a("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(y){return y||function(A){var z=[],Q;for(Q in A)Object.prototype.hasOwnProperty.call(A,Q)&&z.push([Q,A[Q]]);return z}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},c=this||self;function u(y){var A=typeof y;return A=="object"&&y!=null||A=="function"}function h(y,A,z){return y.call.apply(y.bind,arguments)}function f(y,A,z){return f=h,f.apply(null,arguments)}function m(y,A){var z=Array.prototype.slice.call(arguments,1);return function(){var Q=z.slice();return Q.push.apply(Q,arguments),y.apply(this,Q)}}function g(y,A){function z(){}z.prototype=A.prototype,y.Z=A.prototype,y.prototype=new z,y.prototype.constructor=y,y.Ob=function(Q,de,xe){for(var Le=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)Le[ct-2]=arguments[ct];return A.prototype[de].apply(Q,Le)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function v(y){const A=y.length;if(A>0){const z=Array(A);for(let Q=0;Q<A;Q++)z[Q]=y[Q];return z}return[]}function j(y,A){for(let Q=1;Q<arguments.length;Q++){const de=arguments[Q];var z=typeof de;if(z=z!="object"?z:de?Array.isArray(de)?"array":z:"null",z=="array"||z=="object"&&typeof de.length=="number"){z=y.length||0;const xe=de.length||0;y.length=z+xe;for(let Le=0;Le<xe;Le++)y[z+Le]=de[Le]}else y.push(de)}}class w{constructor(A,z){this.i=A,this.j=z,this.h=0,this.g=null}get(){let A;return this.h>0?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function _(y){c.setTimeout(()=>{throw y},0)}function E(){var y=O;let A=null;return y.g&&(A=y.g,y.g=y.g.next,y.g||(y.h=null),A.next=null),A}class S{constructor(){this.h=this.g=null}add(A,z){const Q=C.get();Q.set(A,z),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var C=new w(()=>new V,y=>y.reset());class V{constructor(){this.next=this.g=this.h=null}set(A,z){this.h=A,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let k,$=!1,O=new S,M=()=>{const y=Promise.resolve(void 0);k=()=>{y.then(U)}};function U(){for(var y;y=E();){try{y.h.call(y.g)}catch(z){_(z)}var A=C;A.j(y),A.h<100&&(A.h++,y.next=A.g,A.g=y)}$=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(y,A){this.type=y,this.g=this.target=A,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var y=!1,A=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const z=()=>{};c.addEventListener("test",z,A),c.removeEventListener("test",z,A)}catch{}return y})();function B(y){return/^[\s\xa0]*$/.test(y)}function I(y,A){H.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,A)}g(I,H),I.prototype.init=function(y,A){const z=this.type=y.type,Q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=A,A=y.relatedTarget,A||(z=="mouseover"?A=y.fromElement:z=="mouseout"&&(A=y.toElement)),this.relatedTarget=A,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&I.Z.h.call(this)},I.prototype.h=function(){I.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),q=0;function Y(y,A,z,Q,de){this.listener=y,this.proxy=null,this.src=A,this.type=z,this.capture=!!Q,this.ha=de,this.key=++q,this.da=this.fa=!1}function te(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function Z(y,A,z){for(const Q in y)A.call(z,y[Q],Q,y)}function ge(y,A){for(const z in y)A.call(void 0,y[z],z,y)}function L(y){const A={};for(const z in y)A[z]=y[z];return A}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(y,A){let z,Q;for(let de=1;de<arguments.length;de++){Q=arguments[de];for(z in Q)y[z]=Q[z];for(let xe=0;xe<F.length;xe++)z=F[xe],Object.prototype.hasOwnProperty.call(Q,z)&&(y[z]=Q[z])}}function le(y){this.src=y,this.g={},this.h=0}le.prototype.add=function(y,A,z,Q,de){const xe=y.toString();y=this.g[xe],y||(y=this.g[xe]=[],this.h++);const Le=Re(y,A,Q,de);return Le>-1?(A=y[Le],z||(A.fa=!1)):(A=new Y(A,this.src,xe,!!Q,de),A.fa=z,y.push(A)),A};function ue(y,A){const z=A.type;if(z in y.g){var Q=y.g[z],de=Array.prototype.indexOf.call(Q,A,void 0),xe;(xe=de>=0)&&Array.prototype.splice.call(Q,de,1),xe&&(te(A),y.g[z].length==0&&(delete y.g[z],y.h--))}}function Re(y,A,z,Q){for(let de=0;de<y.length;++de){const xe=y[de];if(!xe.da&&xe.listener==A&&xe.capture==!!z&&xe.ha==Q)return de}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),re={};function oe(y,A,z,Q,de){if(Array.isArray(A)){for(let xe=0;xe<A.length;xe++)oe(y,A[xe],z,Q,de);return null}return z=X(z),y&&y[J]?y.J(A,z,u(Q)?!!Q.capture:!1,de):ze(y,A,z,!1,Q,de)}function ze(y,A,z,Q,de,xe){if(!A)throw Error("Invalid event type");const Le=u(de)?!!de.capture:!!de;let ct=fe(y);if(ct||(y[Ee]=ct=new le(y)),z=ct.add(A,z,Q,Le,xe),z.proxy)return z;if(Q=Be(),z.proxy=Q,Q.src=y,Q.listener=z,y.addEventListener)D||(de=Le),de===void 0&&(de=!1),y.addEventListener(A.toString(),Q,de);else if(y.attachEvent)y.attachEvent(P(A.toString()),Q);else if(y.addListener&&y.removeListener)y.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Be(){function y(z){return A.call(y.src,y.listener,z)}const A=ve;return y}function Ce(y,A,z,Q,de){if(Array.isArray(A))for(var xe=0;xe<A.length;xe++)Ce(y,A[xe],z,Q,de);else Q=u(Q)?!!Q.capture:!!Q,z=X(z),y&&y[J]?(y=y.i,xe=String(A).toString(),xe in y.g&&(A=y.g[xe],z=Re(A,z,Q,de),z>-1&&(te(A[z]),Array.prototype.splice.call(A,z,1),A.length==0&&(delete y.g[xe],y.h--)))):y&&(y=fe(y))&&(A=y.g[A.toString()],y=-1,A&&(y=Re(A,z,Q,de)),(z=y>-1?A[y]:null)&&ht(z))}function ht(y){if(typeof y!="number"&&y&&!y.da){var A=y.src;if(A&&A[J])ue(A.i,y);else{var z=y.type,Q=y.proxy;A.removeEventListener?A.removeEventListener(z,Q,y.capture):A.detachEvent?A.detachEvent(P(z),Q):A.addListener&&A.removeListener&&A.removeListener(Q),(z=fe(A))?(ue(z,y),z.h==0&&(z.src=null,A[Ee]=null)):te(y)}}}function P(y){return y in re?re[y]:re[y]="on"+y}function ve(y,A){if(y.da)y=!0;else{A=new I(A,this);const z=y.listener,Q=y.ha||y.src;y.fa&&ht(y),y=z.call(Q,A)}return y}function fe(y){return y=y[Ee],y instanceof le?y:null}var W="__closure_events_fn_"+(Math.random()*1e9>>>0);function X(y){return typeof y=="function"?y:(y[W]||(y[W]=function(A){return y.handleEvent(A)}),y[W])}function ae(){G.call(this),this.i=new le(this),this.M=this,this.G=null}g(ae,G),ae.prototype[J]=!0,ae.prototype.removeEventListener=function(y,A,z,Q){Ce(this,y,A,z,Q)};function _e(y,A){var z,Q=y.G;if(Q)for(z=[];Q;Q=Q.G)z.push(Q);if(y=y.M,Q=A.type||A,typeof A=="string")A=new H(A,y);else if(A instanceof H)A.target=A.target||y;else{var de=A;A=new H(Q,y),se(A,de)}de=!0;let xe,Le;if(z)for(Le=z.length-1;Le>=0;Le--)xe=A.g=z[Le],de=Ie(xe,Q,!0,A)&&de;if(xe=A.g=y,de=Ie(xe,Q,!0,A)&&de,de=Ie(xe,Q,!1,A)&&de,z)for(Le=0;Le<z.length;Le++)xe=A.g=z[Le],de=Ie(xe,Q,!1,A)&&de}ae.prototype.N=function(){if(ae.Z.N.call(this),this.i){var y=this.i;for(const A in y.g){const z=y.g[A];for(let Q=0;Q<z.length;Q++)te(z[Q]);delete y.g[A],y.h--}}this.G=null},ae.prototype.J=function(y,A,z,Q){return this.i.add(String(y),A,!1,z,Q)},ae.prototype.K=function(y,A,z,Q){return this.i.add(String(y),A,!0,z,Q)};function Ie(y,A,z,Q){if(A=y.i.g[String(A)],!A)return!0;A=A.concat();let de=!0;for(let xe=0;xe<A.length;++xe){const Le=A[xe];if(Le&&!Le.da&&Le.capture==z){const ct=Le.listener,hn=Le.ha||Le.src;Le.fa&&ue(y.i,Le),de=ct.call(hn,Q)!==!1&&de}}return de&&!Q.defaultPrevented}function me(y,A){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=f(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(A)>2147483647?-1:c.setTimeout(y,A||0)}function Oe(y){y.g=me(()=>{y.g=null,y.i&&(y.i=!1,Oe(y))},y.l);const A=y.h;y.h=null,y.m.apply(null,A)}class Me extends G{constructor(A,z){super(),this.m=A,this.l=z,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Oe(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(y){G.call(this),this.h=y,this.g={}}g(De,G);var qe=[];function ft(y){Z(y.g,function(A,z){this.g.hasOwnProperty(z)&&ht(A)},y),y.g={}}De.prototype.N=function(){De.Z.N.call(this),ft(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var it=c.JSON.stringify,ne=c.JSON.parse,we=class{stringify(y){return c.JSON.stringify(y,void 0)}parse(y){return c.JSON.parse(y,void 0)}};function Pe(){}function Ye(){}var Ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function et(){H.call(this,"d")}g(et,H);function tn(){H.call(this,"c")}g(tn,H);var jt={},fl=null;function to(){return fl=fl||new ae}jt.Ia="serverreachability";function Oc(y){H.call(this,jt.Ia,y)}g(Oc,H);function fa(y){const A=to();_e(A,new Oc(A))}jt.STAT_EVENT="statevent";function mi(y,A){H.call(this,jt.STAT_EVENT,y),this.stat=A}g(mi,H);function Ht(y){const A=to();_e(A,new mi(A,y))}jt.Ja="timingevent";function gr(y,A){H.call(this,jt.Ja,y),this.size=A}g(gr,H);function pi(y,A){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){y()},A)}function qa(){this.g=!0}qa.prototype.ua=function(){this.g=!1};function Iy(y,A,z,Q,de,xe){y.info(function(){if(y.g)if(xe){var Le="",ct=xe.split("&");for(let Tt=0;Tt<ct.length;Tt++){var hn=ct[Tt].split("=");if(hn.length>1){const nn=hn[0];hn=hn[1];const ya=nn.split("_");Le=ya.length>=2&&ya[1]=="type"?Le+(nn+"="+hn+"&"):Le+(nn+"=redacted&")}}}else Le=null;else Le=xe;return"XMLHTTP REQ ("+Q+") [attempt "+de+"]: "+A+`
`+z+`
`+Le})}function tm(y,A,z,Q,de,xe,Le){y.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+de+"]: "+A+`
`+z+`
`+xe+" "+Le})}function gi(y,A,z,Q){y.info(function(){return"XMLHTTP TEXT ("+A+"): "+Ry(y,z)+(Q?" "+Q:"")})}function ml(y,A){y.info(function(){return"TIMEOUT: "+A})}qa.prototype.info=function(){};function Ry(y,A){if(!y.g)return A;if(!A)return null;try{const xe=JSON.parse(A);if(xe){for(y=0;y<xe.length;y++)if(Array.isArray(xe[y])){var z=xe[y];if(!(z.length<2)){var Q=z[1];if(Array.isArray(Q)&&!(Q.length<1)){var de=Q[0];if(de!="noop"&&de!="stop"&&de!="close")for(let Le=1;Le<Q.length;Le++)Q[Le]=""}}}}return it(xe)}catch{return A}}var pl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wd={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_d;function gl(){}g(gl,Pe),gl.prototype.g=function(){return new XMLHttpRequest},_d=new gl;function Ji(y){return encodeURIComponent(String(y))}function nm(y){var A=1;y=y.split(":");const z=[];for(;A>0&&y.length;)z.push(y.shift()),A--;return y.length&&z.push(y.join(":")),z}function $a(y,A,z,Q){this.j=y,this.i=A,this.l=z,this.S=Q||1,this.V=new De(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ha}function Ha(){this.i=null,this.g="",this.h=!1}var xn={},Ln={};function yi(y,A,z){y.M=1,y.A=yl(bn(A)),y.u=z,y.R=!0,Dc(y,null)}function Dc(y,A){y.F=Date.now(),xi(y),y.B=bn(y.A);var z=y.B,Q=y.S;Array.isArray(Q)||(Q=[String(Q)]),zc(z.i,"t",Q),y.C=0,z=y.j.L,y.h=new Ha,y.g=ym(y.j,z?A:null,!y.u),y.P>0&&(y.O=new Me(f(y.Y,y,y.g),y.P)),A=y.V,z=y.g,Q=y.ba;var de="readystatechange";Array.isArray(de)||(de&&(qe[0]=de.toString()),de=qe);for(let xe=0;xe<de.length;xe++){const Le=oe(z,de[xe],Q||A.handleEvent,!1,A.h||A);if(!Le)break;A.g[Le.key]=Le}A=y.J?L(y.J):{},y.u?(y.v||(y.v="POST"),A["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,A)):(y.v="GET",y.g.ea(y.B,y.v,null,A)),fa(),Iy(y.i,y.v,y.B,y.l,y.S,y.u)}$a.prototype.ba=function(y){y=y.target;const A=this.O;A&&Ya(y)==3?A.j():this.Y(y)},$a.prototype.Y=function(y){try{if(y==this.g)e:{const ct=Ya(this.g),hn=this.g.ya(),Tt=this.g.ca();if(!(ct<3)&&(ct!=3||this.g&&(this.h.h||this.g.la()||Kn(this.g)))){this.K||ct!=4||hn==7||(hn==8||Tt<=0?fa(3):fa(2)),vi(this);var A=this.g.ca();this.X=A;var z=Oy(this);if(this.o=A==200,tm(this.i,this.v,this.B,this.l,this.S,ct,A),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,de=this.g;if((Q=de.g?de.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Q)){var xe=Q;break t}}xe=null}if(y=xe)gi(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,bi(this,y);else{this.o=!1,this.m=3,Ht(12),$r(this),ma(this);break e}}if(this.R){y=!0;let nn;for(;!this.K&&this.C<z.length;)if(nn=am(this,z),nn==Ln){ct==4&&(this.m=4,Ht(14),y=!1),gi(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==xn){this.m=4,Ht(15),gi(this.i,this.l,z,"[Invalid Chunk]"),y=!1;break}else gi(this.i,this.l,nn,null),bi(this,nn);if(rm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||z.length!=0||this.h.h||(this.m=1,Ht(16),y=!1),this.o=this.o&&y,!y)gi(this.i,this.l,z,"[Invalid Chunked Response]"),$r(this),ma(this);else if(z.length>0&&!this.W){this.W=!0;var Le=this.j;Le.g==this&&Le.aa&&!Le.P&&(Le.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Ld(Le),Le.P=!0,Ht(11))}}else gi(this.i,this.l,z,null),bi(this,z);ct==4&&$r(this),this.o&&!this.K&&(ct==4?fm(this.j,this):(this.o=!1,xi(this)))}else ts(this.g),A==400&&z.indexOf("Unknown SID")>0?(this.m=3,Ht(12)):(this.m=0,Ht(13)),$r(this),ma(this)}}}catch{}finally{}};function Oy(y){if(!rm(y))return y.g.la();const A=Kn(y.g);if(A==="")return"";let z="";const Q=A.length,de=Ya(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return $r(y),ma(y),"";y.h.i=new c.TextDecoder}for(let xe=0;xe<Q;xe++)y.h.h=!0,z+=y.h.i.decode(A[xe],{stream:!(de&&xe==Q-1)});return A.length=0,y.h.g+=z,y.C=0,y.h.g}function rm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function am(y,A){var z=y.C,Q=A.indexOf(`
`,z);return Q==-1?Ln:(z=Number(A.substring(z,Q)),isNaN(z)?xn:(Q+=1,Q+z>A.length?Ln:(A=A.slice(Q,Q+z),y.C=Q+z,A)))}$a.prototype.cancel=function(){this.K=!0,$r(this)};function xi(y){y.T=Date.now()+y.H,Pc(y,y.H)}function Pc(y,A){if(y.D!=null)throw Error("WatchDog timer not null");y.D=pi(f(y.aa,y),A)}function vi(y){y.D&&(c.clearTimeout(y.D),y.D=null)}$a.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(ml(this.i,this.B),this.M!=2&&(fa(),Ht(17)),$r(this),this.m=2,ma(this)):Pc(this,this.T-y)};function ma(y){y.j.I==0||y.K||fm(y.j,y)}function $r(y){vi(y);var A=y.O;A&&typeof A.dispose=="function"&&A.dispose(),y.O=null,ft(y.V),y.g&&(A=y.g,y.g=null,A.abort(),A.dispose())}function bi(y,A){try{var z=y.j;if(z.I!=0&&(z.g==y||_i(z.h,y))){if(!y.L&&_i(z.h,y)&&z.I==3){try{var Q=z.Ba.g.parse(A)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var de=Q;if(de[0]==0){e:if(!z.v){if(z.g)if(z.g.F+3e3<y.F)qc(z),co(z);else break e;jl(z),Ht(18)}}else z.xa=de[1],0<z.xa-z.K&&de[2]<37500&&z.F&&z.A==0&&!z.C&&(z.C=pi(f(z.Va,z),6e3));wi(z.h)<=1&&z.ta&&(z.ta=void 0)}else Ti(z,11)}else if((y.L||z.g==y)&&qc(z),!B(A))for(de=z.Ba.g.parse(A),A=0;A<de.length;A++){let Tt=de[A];const nn=Tt[0];if(!(nn<=z.K))if(z.K=nn,Tt=Tt[1],z.I==2)if(Tt[0]=="c"){z.M=Tt[1],z.ba=Tt[2];const ya=Tt[3];ya!=null&&(z.ka=ya,z.j.info("VER="+z.ka));const Ci=Tt[4];Ci!=null&&(z.za=Ci,z.j.info("SVER="+z.za));const Wa=Tt[5];Wa!=null&&typeof Wa=="number"&&Wa>0&&(Q=1.5*Wa,z.O=Q,z.j.info("backChannelRequestTimeoutMs_="+Q)),Q=z;const Xa=y.g;if(Xa){const El=Xa.g?Xa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(El){var xe=Q.h;xe.g||El.indexOf("spdy")==-1&&El.indexOf("quic")==-1&&El.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(Ed(xe,xe.h),xe.h=null))}if(Q.G){const $c=Xa.g?Xa.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(Q.wa=$c,Ot(Q.J,Q.G,$c))}}z.I=3,z.l&&z.l.ra(),z.aa&&(z.T=Date.now()-y.F,z.j.info("Handshake RTT: "+z.T+"ms")),Q=z;var Le=y;if(Q.na=gm(Q,Q.L?Q.ba:null,Q.W),Le.L){Sd(Q.h,Le);var ct=Le,hn=Q.O;hn&&(ct.H=hn),ct.D&&(vi(ct),xi(ct)),Q.g=Le}else dm(Q);z.i.length>0&&Ai(z)}else Tt[0]!="stop"&&Tt[0]!="close"||Ti(z,7);else z.I==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?Ti(z,7):Pd(z):Tt[0]!="noop"&&z.l&&z.l.qa(Tt),z.A=0)}}fa(4)}catch{}}var vn=class{constructor(y,A){this.g=y,this.map=A}};function Nd(y){this.l=y||10,c.PerformanceNavigationTiming?(y=c.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jd(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function wi(y){return y.h?1:y.g?y.g.size:0}function _i(y,A){return y.h?y.h==A:y.g?y.g.has(A):!1}function Ed(y,A){y.g?y.g.add(A):y.h=A}function Sd(y,A){y.h&&y.h==A?y.h=null:y.g&&y.g.has(A)&&y.g.delete(A)}Nd.prototype.cancel=function(){if(this.i=Ad(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Ad(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let A=y.i;for(const z of y.g.values())A=A.concat(z.G);return A}return v(y.i)}var im=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(y,A){if(y){y=y.split("&");for(let z=0;z<y.length;z++){const Q=y[z].indexOf("=");let de,xe=null;Q>=0?(de=y[z].substring(0,Q),xe=y[z].substring(Q+1)):de=y[z],A(de,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function Hr(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let A;y instanceof Hr?(this.l=y.l,zn(this,y.j),this.o=y.o,this.g=y.g,no(this,y.u),this.h=y.h,Td(this,cm(y.i)),this.m=y.m):y&&(A=String(y).match(im))?(this.l=!1,zn(this,A[1]||"",!0),this.o=Ni(A[2]||""),this.g=Ni(A[3]||"",!0),no(this,A[4]),this.h=Ni(A[5]||"",!0),Td(this,A[6]||"",!0),this.m=Ni(A[7]||"")):(this.l=!1,this.i=new ao(null,this.l))}Hr.prototype.toString=function(){const y=[];var A=this.j;A&&y.push(xl(A,Lc,!0),":");var z=this.g;return(z||A=="file")&&(y.push("//"),(A=this.o)&&y.push(xl(A,Lc,!0),"@"),y.push(Ji(z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.u,z!=null&&y.push(":",String(z))),(z=this.h)&&(this.g&&z.charAt(0)!="/"&&y.push("/"),y.push(xl(z,z.charAt(0)=="/"?Cd:sm,!0))),(z=this.i.toString())&&y.push("?",z),(z=this.m)&&y.push("#",xl(z,om)),y.join("")},Hr.prototype.resolve=function(y){const A=bn(this);let z=!!y.j;z?zn(A,y.j):z=!!y.o,z?A.o=y.o:z=!!y.g,z?A.g=y.g:z=y.u!=null;var Q=y.h;if(z)no(A,y.u);else if(z=!!y.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var de=A.h.lastIndexOf("/");de!=-1&&(Q=A.h.slice(0,de+1)+Q)}if(de=Q,de==".."||de==".")Q="";else if(de.indexOf("./")!=-1||de.indexOf("/.")!=-1){Q=de.lastIndexOf("/",0)==0,de=de.split("/");const xe=[];for(let Le=0;Le<de.length;){const ct=de[Le++];ct=="."?Q&&Le==de.length&&xe.push(""):ct==".."?((xe.length>1||xe.length==1&&xe[0]!="")&&xe.pop(),Q&&Le==de.length&&xe.push("")):(xe.push(ct),Q=!0)}Q=xe.join("/")}else Q=de}return z?A.h=Q:z=y.i.toString()!=="",z?Td(A,cm(y.i)):z=!!y.m,z&&(A.m=y.m),A};function bn(y){return new Hr(y)}function zn(y,A,z){y.j=z?Ni(A,!0):A,y.j&&(y.j=y.j.replace(/:$/,""))}function no(y,A){if(A){if(A=Number(A),isNaN(A)||A<0)throw Error("Bad port number "+A);y.u=A}else y.u=null}function Td(y,A,z){A instanceof ao?(y.i=A,Uc(y.i,y.l)):(z||(A=xl(A,ro)),y.i=new ao(A,y.l))}function Ot(y,A,z){y.i.set(A,z)}function yl(y){return Ot(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Ni(y,A){return y?A?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function xl(y,A,z){return typeof y=="string"?(y=encodeURI(y).replace(A,Tr),z&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function Tr(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var Lc=/[#\/\?@]/g,sm=/[#\?:]/g,Cd=/[#\?]/g,ro=/[#\?@]/g,om=/#/g;function ao(y,A){this.h=this.g=null,this.i=y||null,this.j=!!A}function Cr(y){y.g||(y.g=new Map,y.h=0,y.i&&Mc(y.i,function(A,z){y.add(decodeURIComponent(A.replace(/\+/g," ")),z)}))}t=ao.prototype,t.add=function(y,A){Cr(this),this.i=null,y=io(this,y);let z=this.g.get(y);return z||this.g.set(y,z=[]),z.push(A),this.h+=1,this};function lm(y,A){Cr(y),A=io(y,A),y.g.has(A)&&(y.i=null,y.h-=y.g.get(A).length,y.g.delete(A))}function kd(y,A){return Cr(y),A=io(y,A),y.g.has(A)}t.forEach=function(y,A){Cr(this),this.g.forEach(function(z,Q){z.forEach(function(de){y.call(A,de,Q,this)},this)},this)};function Id(y,A){Cr(y);let z=[];if(typeof A=="string")kd(y,A)&&(z=z.concat(y.g.get(io(y,A))));else for(y=Array.from(y.g.values()),A=0;A<y.length;A++)z=z.concat(y[A]);return z}t.set=function(y,A){return Cr(this),this.i=null,y=io(this,y),kd(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[A]),this.h+=1,this},t.get=function(y,A){return y?(y=Id(this,y),y.length>0?String(y[0]):A):A};function zc(y,A,z){lm(y,A),z.length>0&&(y.i=null,y.g.set(io(y,A),v(z)),y.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],A=Array.from(this.g.keys());for(let Q=0;Q<A.length;Q++){var z=A[Q];const de=Ji(z);z=Id(this,z);for(let xe=0;xe<z.length;xe++){let Le=de;z[xe]!==""&&(Le+="="+Ji(z[xe])),y.push(Le)}}return this.i=y.join("&")};function cm(y){const A=new ao;return A.i=y.i,y.g&&(A.g=new Map(y.g),A.h=y.h),A}function io(y,A){return A=String(A),y.j&&(A=A.toLowerCase()),A}function Uc(y,A){A&&!y.j&&(Cr(y),y.i=null,y.g.forEach(function(z,Q){const de=Q.toLowerCase();Q!=de&&(lm(this,Q),zc(this,de,z))},y)),y.j=A}function Ga(y,A){const z=new qa;if(c.Image){const Q=new Image;Q.onload=m(pa,z,"TestLoadImage: loaded",!0,A,Q),Q.onerror=m(pa,z,"TestLoadImage: error",!1,A,Q),Q.onabort=m(pa,z,"TestLoadImage: abort",!1,A,Q),Q.ontimeout=m(pa,z,"TestLoadImage: timeout",!1,A,Q),c.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=y}else A(!1)}function Rd(y,A){const z=new qa,Q=new AbortController,de=setTimeout(()=>{Q.abort(),pa(z,"TestPingServer: timeout",!1,A)},1e4);fetch(y,{signal:Q.signal}).then(xe=>{clearTimeout(de),xe.ok?pa(z,"TestPingServer: ok",!0,A):pa(z,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(de),pa(z,"TestPingServer: error",!1,A)})}function pa(y,A,z,Q,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),Q(z)}catch{}}function so(){this.g=new we}function ji(y){this.i=y.Sb||null,this.h=y.ab||!1}g(ji,Pe),ji.prototype.g=function(){return new vl(this.i,this.h)};function vl(y,A){ae.call(this),this.H=y,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(vl,ae),t=vl.prototype,t.open=function(y,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=A,this.readyState=1,Ka(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const A={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(A.body=y),(this.H||c).fetch(new Request(this.D,A)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Ka(this)),this.g&&(this.readyState=3,Ka(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Vc(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function Vc(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var A=y.value?y.value:new Uint8Array(0);(A=this.B.decode(A,{stream:!y.done}))&&(this.response=this.responseText+=A)}y.done?oo(this):Ka(this),this.readyState==3&&Vc(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,oo(this))},t.Na=function(y){this.g&&(this.response=y,oo(this))},t.ga=function(){this.g&&oo(this)};function oo(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Ka(y)}t.setRequestHeader=function(y,A){this.A.append(y,A)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],A=this.h.entries();for(var z=A.next();!z.done;)z=z.value,y.push(z[0]+": "+z[1]),z=A.next();return y.join(`\r
`)};function Ka(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function ga(y){let A="";return Z(y,function(z,Q){A+=Q,A+=":",A+=z,A+=`\r
`}),A}function bl(y,A,z){e:{for(Q in z){var Q=!1;break e}Q=!0}Q||(z=ga(z),typeof y=="string"?z!=null&&Ji(z):Ot(y,A,z))}function zt(y){ae.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(zt,ae);var Ei=/^https?$/i,Od=["POST","PUT"];t=zt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,A,z,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);A=A?A.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_d.g(),this.g.onreadystatechange=x(f(this.Ca,this));try{this.B=!0,this.g.open(A,String(y),!0),this.B=!1}catch(xe){wl(this,xe);return}if(y=z||"",z=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var de in Q)z.set(de,Q[de]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const xe of Q.keys())z.set(xe,Q.get(xe));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(z.keys()).find(xe=>xe.toLowerCase()=="content-type"),de=c.FormData&&y instanceof c.FormData,!(Array.prototype.indexOf.call(Od,A,void 0)>=0)||Q||de||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Le]of z)this.g.setRequestHeader(xe,Le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(xe){wl(this,xe)}};function wl(y,A){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=A,y.o=5,Dd(y),es(y)}function Dd(y){y.A||(y.A=!0,_e(y,"complete"),_e(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,_e(this,"complete"),_e(this,"abort"),es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),zt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?_l(this):this.Xa())},t.Xa=function(){_l(this)};function _l(y){if(y.h&&typeof s<"u"){if(y.v&&Ya(y)==4)setTimeout(y.Ca.bind(y),0);else if(_e(y,"readystatechange"),Ya(y)==4){y.h=!1;try{const xe=y.ca();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var z;if(!(z=A)){var Q;if(Q=xe===0){let Le=String(y.D).match(im)[1]||null;!Le&&c.self&&c.self.location&&(Le=c.self.location.protocol.slice(0,-1)),Q=!Ei.test(Le?Le.toLowerCase():"")}z=Q}if(z)_e(y,"complete"),_e(y,"success");else{y.o=6;try{var de=Ya(y)>2?y.g.statusText:""}catch{de=""}y.l=de+" ["+y.ca()+"]",Dd(y)}}finally{es(y)}}}}function es(y,A){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const z=y.g;y.g=null,A||_e(y,"ready");try{z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ya(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ya(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var A=this.g.responseText;return y&&A.indexOf(y)==0&&(A=A.substring(y.length)),ne(A)}};function Kn(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(y){const A={};y=(y.g&&Ya(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<y.length;Q++){if(B(y[Q]))continue;var z=nm(y[Q]);const de=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const xe=A[de]||[];A[de]=xe,xe.push(z)}ge(A,function(Q){return Q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(y,A,z){return z&&z.internalChannelParams&&z.internalChannelParams[y]||A}function lo(y){this.za=0,this.i=[],this.j=new qa,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,y),this.Za=Si("retryDelaySeedMs",1e4,y),this.Ta=Si("forwardChannelMaxRetries",2,y),this.va=Si("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new Nd(y&&y.concurrentRequestLimit),this.Ba=new so,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lo.prototype,t.ka=8,t.I=1,t.connect=function(y,A,z,Q){Ht(0),this.W=y,this.H=A||{},z&&Q!==void 0&&(this.H.OSID=z,this.H.OAID=Q),this.F=this.X,this.J=gm(this,null,this.W),Ai(this)};function Pd(y){if(Bc(y),y.I==3){var A=y.V++,z=bn(y.J);if(Ot(z,"SID",y.M),Ot(z,"RID",A),Ot(z,"TYPE","terminate"),Nl(y,z),A=new $a(y,y.j,A),A.M=2,A.A=yl(bn(z)),z=!1,c.navigator&&c.navigator.sendBeacon)try{z=c.navigator.sendBeacon(A.A.toString(),"")}catch{}!z&&c.Image&&(new Image().src=A.A,z=!0),z||(A.g=ym(A.j,null),A.g.ea(A.A)),A.F=Date.now(),xi(A)}pm(y)}function co(y){y.g&&(Ld(y),y.g.cancel(),y.g=null)}function Bc(y){co(y),y.v&&(c.clearTimeout(y.v),y.v=null),qc(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&c.clearTimeout(y.m),y.m=null)}function Ai(y){if(!jd(y.h)&&!y.m){y.m=!0;var A=y.Ea;k||M(),$||(k(),$=!0),O.add(A,y),y.D=0}}function Fc(y,A){return wi(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=A.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=pi(f(y.Ea,y,A),mm(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const de=new $a(this,this.j,y);let xe=this.o;if(this.U&&(xe?(xe=L(xe),se(xe,this.U)):xe=this.U),this.u!==null||this.R||(de.J=xe,xe=null),this.S)e:{for(var A=0,z=0;z<this.i.length;z++){t:{var Q=this.i[z];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(A+=Q,A>4096){A=z;break e}if(A===4096||z===this.i.length-1){A=z+1;break e}}A=1e3}else A=1e3;A=um(this,de,A),z=bn(this.J),Ot(z,"RID",y),Ot(z,"CVER",22),this.G&&Ot(z,"X-HTTP-Session-Id",this.G),Nl(this,z),xe&&(this.R?A="headers="+Ji(ga(xe))+"&"+A:this.u&&bl(z,this.u,xe)),Ed(this.h,de),this.Ra&&Ot(z,"TYPE","init"),this.S?(Ot(z,"$req",A),Ot(z,"SID","null"),de.U=!0,yi(de,z,null)):yi(de,z,A),this.I=2}}else this.I==3&&(y?Md(this,y):this.i.length==0||jd(this.h)||Md(this))};function Md(y,A){var z;A?z=A.l:z=y.V++;const Q=bn(y.J);Ot(Q,"SID",y.M),Ot(Q,"RID",z),Ot(Q,"AID",y.K),Nl(y,Q),y.u&&y.o&&bl(Q,y.u,y.o),z=new $a(y,y.j,z,y.D+1),y.u===null&&(z.J=y.o),A&&(y.i=A.G.concat(y.i)),A=um(y,z,1e3),z.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),Ed(y.h,z),yi(z,Q,A)}function Nl(y,A){y.H&&Z(y.H,function(z,Q){Ot(A,Q,z)}),y.l&&Z({},function(z,Q){Ot(A,Q,z)})}function um(y,A,z){z=Math.min(y.i.length,z);const Q=y.l?f(y.l.Ka,y.l,y):null;e:{var de=y.i;let ct=-1;for(;;){const hn=["count="+z];ct==-1?z>0?(ct=de[0].g,hn.push("ofs="+ct)):ct=0:hn.push("ofs="+ct);let Tt=!0;for(let nn=0;nn<z;nn++){var xe=de[nn].g;const ya=de[nn].map;if(xe-=ct,xe<0)ct=Math.max(0,de[nn].g-100),Tt=!1;else try{xe="req"+xe+"_"||"";try{var Le=ya instanceof Map?ya:Object.entries(ya);for(const[Ci,Wa]of Le){let Xa=Wa;u(Wa)&&(Xa=it(Wa)),hn.push(xe+Ci+"="+encodeURIComponent(Xa))}}catch(Ci){throw hn.push(xe+"type="+encodeURIComponent("_badmap")),Ci}}catch{Q&&Q(ya)}}if(Tt){Le=hn.join("&");break e}}Le=void 0}return y=y.i.splice(0,z),A.G=y,Le}function dm(y){if(!y.g&&!y.v){y.Y=1;var A=y.Da;k||M(),$||(k(),$=!0),O.add(A,y),y.A=0}}function jl(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=pi(f(y.Da,y),mm(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,hm(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=pi(f(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ht(10),co(this),hm(this))};function Ld(y){y.B!=null&&(c.clearTimeout(y.B),y.B=null)}function hm(y){y.g=new $a(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var A=bn(y.na);Ot(A,"RID","rpc"),Ot(A,"SID",y.M),Ot(A,"AID",y.K),Ot(A,"CI",y.F?"0":"1"),!y.F&&y.ia&&Ot(A,"TO",y.ia),Ot(A,"TYPE","xmlhttp"),Nl(y,A),y.u&&y.o&&bl(A,y.u,y.o),y.O&&(y.g.H=y.O);var z=y.g;y=y.ba,z.M=1,z.A=yl(bn(A)),z.u=null,z.R=!0,Dc(z,y)}t.Va=function(){this.C!=null&&(this.C=null,co(this),jl(this),Ht(19))};function qc(y){y.C!=null&&(c.clearTimeout(y.C),y.C=null)}function fm(y,A){var z=null;if(y.g==A){qc(y),Ld(y),y.g=null;var Q=2}else if(_i(y.h,A))z=A.G,Sd(y.h,A),Q=1;else return;if(y.I!=0){if(A.o)if(Q==1){z=A.u?A.u.length:0,A=Date.now()-A.F;var de=y.D;Q=to(),_e(Q,new gr(Q,z)),Ai(y)}else dm(y);else if(de=A.m,de==3||de==0&&A.X>0||!(Q==1&&Fc(y,A)||Q==2&&jl(y)))switch(z&&z.length>0&&(A=y.h,A.i=A.i.concat(z)),de){case 1:Ti(y,5);break;case 4:Ti(y,10);break;case 3:Ti(y,6);break;default:Ti(y,2)}}}function mm(y,A){let z=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(z*=2),z*A}function Ti(y,A){if(y.j.info("Error code "+A),A==2){var z=f(y.bb,y),Q=y.Ua;const de=!Q;Q=new Hr(Q||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||zn(Q,"https"),yl(Q),de?Ga(Q.toString(),z):Rd(Q.toString(),z)}else Ht(2);y.I=0,y.l&&y.l.pa(A),pm(y),Bc(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function pm(y){if(y.I=0,y.ja=[],y.l){const A=Ad(y.h);(A.length!=0||y.i.length!=0)&&(j(y.ja,A),j(y.ja,y.i),y.h.i.length=0,v(y.i),y.i.length=0),y.l.oa()}}function gm(y,A,z){var Q=z instanceof Hr?bn(z):new Hr(z);if(Q.g!="")A&&(Q.g=A+"."+Q.g),no(Q,Q.u);else{var de=c.location;Q=de.protocol,A=A?A+"."+de.hostname:de.hostname,de=+de.port;const xe=new Hr(null);Q&&zn(xe,Q),A&&(xe.g=A),de&&no(xe,de),z&&(xe.h=z),Q=xe}return z=y.G,A=y.wa,z&&A&&Ot(Q,z,A),Ot(Q,"VER",y.ka),Nl(y,Q),Q}function ym(y,A,z){if(A&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return A=y.Aa&&!y.ma?new zt(new ji({ab:z})):new zt(y.ma),A.Fa(y.L),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function xm(){}t=xm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function uo(){}uo.prototype.g=function(y,A){return new yr(y,A)};function yr(y,A){ae.call(this),this.g=new lo(A),this.l=y,this.h=A&&A.messageUrlParams||null,y=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(y?y["X-WebChannel-Content-Type"]=A.messageContentType:y={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.sa&&(y?y["X-WebChannel-Client-Profile"]=A.sa:y={"X-WebChannel-Client-Profile":A.sa}),this.g.U=y,(y=A&&A.Qb)&&!B(y)&&(this.g.u=y),this.A=A&&A.supportsCrossDomainXhr||!1,this.v=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!B(A)&&(this.g.G=A,y=this.h,y!==null&&A in y&&(y=this.h,A in y&&delete y[A])),this.j=new ns(this)}g(yr,ae),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){Pd(this.g)},yr.prototype.o=function(y){var A=this.g;if(typeof y=="string"){var z={};z.__data__=y,y=z}else this.v&&(z={},z.__data__=it(y),y=z);A.i.push(new vn(A.Ya++,y)),A.I==3&&Ai(A)},yr.prototype.N=function(){this.g.l=null,delete this.j,Pd(this.g),delete this.g,yr.Z.N.call(this)};function vm(y){et.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var A=y.__sm__;if(A){e:{for(const z in A){y=z;break e}y=void 0}(this.i=y)&&(y=this.i,A=A!==null&&y in A?A[y]:void 0),this.data=A}else this.data=y}g(vm,et);function bm(){tn.call(this),this.status=1}g(bm,tn);function ns(y){this.g=y}g(ns,xm),ns.prototype.ra=function(){_e(this.g,"a")},ns.prototype.qa=function(y){_e(this.g,new vm(y))},ns.prototype.pa=function(y){_e(this.g,new bm)},ns.prototype.oa=function(){_e(this.g,"b")},uo.prototype.createWebChannel=uo.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,mR=function(){return new uo},fR=function(){return to()},hR=jt,F1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},pl.NO_ERROR=0,pl.TIMEOUT=8,pl.HTTP_ERROR=6,ag=pl,wd.COMPLETE="complete",dR=wd,Ye.EventType=Ue,Ue.OPEN="a",Ue.CLOSE="b",Ue.ERROR="c",Ue.MESSAGE="d",ae.prototype.listen=ae.prototype.J,Oh=Ye,zt.prototype.listenOnce=zt.prototype.K,zt.prototype.getLastError=zt.prototype.Ha,zt.prototype.getLastErrorCode=zt.prototype.ya,zt.prototype.getStatus=zt.prototype.ca,zt.prototype.getResponseJson=zt.prototype.La,zt.prototype.getResponseText=zt.prototype.la,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Fa,uR=zt}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const JA="@firebase/firestore",eT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cr.UNAUTHENTICATED=new cr(null),cr.GOOGLE_CREDENTIALS=new cr("google-credentials-uid"),cr.FIRST_PARTY=new cr("first-party-uid"),cr.MOCK_USER=new cr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new C0("@firebase/firestore");function _u(){return fc.logLevel}function He(t,...e){if(fc.logLevel<=xt.DEBUG){const n=e.map(y_);fc.debug(`Firestore (${rd}): ${t}`,...n)}}function zs(t,...e){if(fc.logLevel<=xt.ERROR){const n=e.map(y_);fc.error(`Firestore (${rd}): ${t}`,...n)}}function Lu(t,...e){if(fc.logLevel<=xt.WARN){const n=e.map(y_);fc.warn(`Firestore (${rd}): ${t}`,...n)}}function y_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pR(t,r,n)}function pR(t,e,n){let r=`FIRESTORE (${rd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw zs(r),new Error(r)}function Rt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||pR(e,a,r)}function lt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends da{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(cr.UNAUTHENTICATED)))}shutdown(){}}class IB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class RB{constructor(e){this.t=e,this.currentUser=cr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let s=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ks,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=s;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},u=h=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>u(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ks)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new gR(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rt(e===null||typeof e=="string",2055,{h:e}),new cr(e)}}class OB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class DB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new OB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(cr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Rt(this.o===void 0,3512);const r=s=>{s.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.m;return this.m=s.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const a=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>a(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?a(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new tT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=MB(40);for(let s=0;s<a.length;++s)r.length<20&&a[s]<n&&(r+=e.charAt(a[s]%62))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function q1(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const a=t.charAt(r),s=e.charAt(r);if(a!==s)return Fv(a)===Fv(s)?vt(a,s):Fv(a)?1:-1}return vt(t.length,e.length)}const LB=55296,zB=57343;function Fv(t){const e=t.charCodeAt(0);return e>=LB&&e<=zB}function zu(t,e,n){return t.length===e.length&&t.every(((r,a)=>n(r,e[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__name__";class Di{constructor(e,n,r){n===void 0?n=0:n>e.length&&rt(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&rt(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const s=Di.compareSegments(e.get(a),n.get(a));if(s!==0)return s}return vt(e.length,n.length)}static compareSegments(e,n){const r=Di.isNumericId(e),a=Di.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Di.extractNumericId(e).compare(Di.extractNumericId(n)):q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ko.fromString(e.substring(4,e.length-2))}}class Gt extends Di{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((a=>a.length>0)))}return new Gt(n)}static emptyPath(){return new Gt([])}}const UB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Di{construct(e,n,r){return new tr(e,n,r)}static isValidIdentifier(e){return UB.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nT}static keyField(){return new tr([nT])}static fromServerFormat(e){const n=[];let r="",a=0;const s=()=>{if(r.length===0)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;a<e.length;){const u=e[a];if(u==="\\"){if(a+1===e.length)throw new Ve(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ve(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else u==="`"?(c=!c,a++):u!=="."||c?(r+=u,a++):(s(),a++)}if(s(),c)throw new Ve(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(n)}static emptyPath(){return new tr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(Gt.fromString(e))}static fromName(e){return new Ze(Gt.fromString(e).popFirst(5))}static empty(){return new Ze(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(t,e,n){if(!n)throw new Ve(Ae.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VB(t,e,n,r){if(e===!0&&r===!0)throw new Ve(Ae.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rT(t){if(!Ze.isDocumentKey(t))throw new Ve(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function aT(t){if(Ze.isDocumentKey(t))throw new Ve(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function O0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":rt(12329,{type:typeof t})}function li(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=O0(t);throw new Ve(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rf(t,e){if(!xR(t))throw new Ve(Ae.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const a=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const c=t[r];if(a&&typeof c!==a){n=`JSON field '${r}' must be a ${a}.`;break}if(s!==void 0&&c!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ve(Ae.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=-62135596800,sT=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sT);return new Xt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<iT)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sT}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rf(e,Xt._jsonSchema))return new Xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xt._jsonSchemaVersion="firestore/timestamp/1.0",Xt._jsonSchema={type:An("string",Xt._jsonSchemaVersion),seconds:An("number"),nanoseconds:An("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static fromTimestamp(e){return new st(e)}static min(){return new st(new Xt(0,0))}static max(){return new st(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=-1;function BB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=st.fromTimestamp(r===1e9?new Xt(n+1,0):new Xt(n,r));return new Qo(a,Ze.empty(),e)}function FB(t){return new Qo(t.readTime,t.key,ef)}class Qo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qo(st.min(),Ze.empty(),ef)}static max(){return new Qo(st.max(),Ze.empty(),ef)}}function qB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ze.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(t){if(t.code!==Ae.FAILED_PRECONDITION||t.message!==$B)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ke(((r,a)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,a)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,a)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ke?n:ke.resolve(n)}catch(n){return ke.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ke.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ke.reject(n)}static resolve(e){return new ke(((n,r)=>{n(e)}))}static reject(e){return new ke(((n,r)=>{r(e)}))}static waitFor(e){return new ke(((n,r)=>{let a=0,s=0,c=!1;e.forEach((u=>{++a,u.next((()=>{++s,c&&s===a&&n()}),(h=>r(h)))})),c=!0,s===a&&n()}))}static or(e){let n=ke.resolve(!1);for(const r of e)n=n.next((a=>a?ke.resolve(a):r()));return n}static forEach(e,n){const r=[];return e.forEach(((a,s)=>{r.push(n.call(this,a,s))})),this.waitFor(r)}static mapArray(e,n){return new ke(((r,a)=>{const s=e.length,c=new Array(s);let u=0;for(let h=0;h<s;h++){const f=h;n(e[f]).next((m=>{c[f]=m,++u,u===s&&r(c)}),(m=>a(m)))}}))}static doWhile(e,n){return new ke(((r,a)=>{const s=()=>{e()===!0?n().next((()=>{s()}),a):r()};s()}))}}function GB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function id(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}D0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=-1;function P0(t){return t==null}function _g(t){return t===0&&1/t==-1/0}function KB(t){return typeof t=="number"&&Number.isInteger(t)&&!_g(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="";function YB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oT(e)),e=WB(t.get(n),e);return oT(e)}function WB(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const s=t.charAt(a);switch(s){case"\0":n+="";break;case vR:n+="";break;default:n+=s}}return n}function oT(t){return t+vR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,n){this.comparator=e,this.root=n||Jn.EMPTY}insert(e,n){return new on(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jn.BLACK,null,null))}remove(e){return new on(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tp(this.root,e,this.comparator,!0)}}class Tp{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&a&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jn{constructor(e,n,r,a,s){this.key=e,this.value=n,this.color=r??Jn.RED,this.left=a??Jn.EMPTY,this.right=s??Jn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,s){return new Jn(e??this.key,n??this.value,r??this.color,a??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const s=r(e,a.key);return a=s<0?a.copy(null,null,null,a.left.insert(e,n,r),null):s===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Jn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Jn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw rt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw rt(27949);return e+(this.isRed()?0:1)}}Jn.EMPTY=null,Jn.RED=!0,Jn.BLACK=!1;Jn.EMPTY=new class{constructor(){this.size=0}get key(){throw rt(57766)}get value(){throw rt(16141)}get color(){throw rt(16727)}get left(){throw rt(29726)}get right(){throw rt(36894)}copy(e,n,r,a,s){return this}insert(e,n,r){return new Jn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.comparator=e,this.data=new on(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new cT(this.data.getIterator())}getIteratorFrom(e){return new cT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(this.comparator(a,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Dn(this.comparator);return n.data=e,n}}class cT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new aa([])}unionWith(e){let n=new Dn(tr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new aa(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zu(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(a){try{return atob(a)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wR("Invalid base64 string: "+s):s}})(e);return new rr(n)}static fromUint8Array(e){const n=(function(a){let s="";for(let c=0;c<a.length;++c)s+=String.fromCharCode(a[c]);return s})(e);return new rr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rr.EMPTY_BYTE_STRING=new rr("");const XB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zo(t){if(Rt(!!t,39018),typeof t=="string"){let e=0;const n=XB.exec(t);if(Rt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gn(t.seconds),nanos:gn(t.nanos)}}function gn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jo(t){return typeof t=="string"?rr.fromBase64String(t):rr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="server_timestamp",NR="__type__",jR="__previous_value__",ER="__local_write_time__";function b_(t){return(t?.mapValue?.fields||{})[NR]?.stringValue===_R}function M0(t){const e=t.mapValue.fields[jR];return b_(e)?M0(e):e}function tf(t){const e=Zo(t.mapValue.fields[ER].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n,r,a,s,c,u,h,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=f,this.isUsingEmulator=m}}const Ng="(default)";class nf{constructor(e,n){this.projectId=e,this.database=n||Ng}static empty(){return new nf("","")}get isDefaultDatabase(){return this.database===Ng}isEqual(e){return e instanceof nf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="__type__",ZB="__max__",Cp={mapValue:{}},AR="__vector__",jg="value";function el(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b_(t)?4:eF(t)?9007199254740991:JB(t)?10:11:rt(28295,{value:t})}function Yi(t,e){if(t===e)return!0;const n=el(t);if(n!==el(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tf(t).isEqual(tf(e));case 3:return(function(a,s){if(typeof a.timestampValue=="string"&&typeof s.timestampValue=="string"&&a.timestampValue.length===s.timestampValue.length)return a.timestampValue===s.timestampValue;const c=Zo(a.timestampValue),u=Zo(s.timestampValue);return c.seconds===u.seconds&&c.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(a,s){return Jo(a.bytesValue).isEqual(Jo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(a,s){return gn(a.geoPointValue.latitude)===gn(s.geoPointValue.latitude)&&gn(a.geoPointValue.longitude)===gn(s.geoPointValue.longitude)})(t,e);case 2:return(function(a,s){if("integerValue"in a&&"integerValue"in s)return gn(a.integerValue)===gn(s.integerValue);if("doubleValue"in a&&"doubleValue"in s){const c=gn(a.doubleValue),u=gn(s.doubleValue);return c===u?_g(c)===_g(u):isNaN(c)&&isNaN(u)}return!1})(t,e);case 9:return zu(t.arrayValue.values||[],e.arrayValue.values||[],Yi);case 10:case 11:return(function(a,s){const c=a.mapValue.fields||{},u=s.mapValue.fields||{};if(lT(c)!==lT(u))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(u[h]===void 0||!Yi(c[h],u[h])))return!1;return!0})(t,e);default:return rt(52216,{left:t})}}function rf(t,e){return(t.values||[]).find((n=>Yi(n,e)))!==void 0}function Uu(t,e){if(t===e)return 0;const n=el(t),r=el(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return(function(s,c){const u=gn(s.integerValue||s.doubleValue),h=gn(c.integerValue||c.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1})(t,e);case 3:return uT(t.timestampValue,e.timestampValue);case 4:return uT(tf(t),tf(e));case 5:return q1(t.stringValue,e.stringValue);case 6:return(function(s,c){const u=Jo(s),h=Jo(c);return u.compareTo(h)})(t.bytesValue,e.bytesValue);case 7:return(function(s,c){const u=s.split("/"),h=c.split("/");for(let f=0;f<u.length&&f<h.length;f++){const m=vt(u[f],h[f]);if(m!==0)return m}return vt(u.length,h.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,c){const u=vt(gn(s.latitude),gn(c.latitude));return u!==0?u:vt(gn(s.longitude),gn(c.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return dT(t.arrayValue,e.arrayValue);case 10:return(function(s,c){const u=s.fields||{},h=c.fields||{},f=u[jg]?.arrayValue,m=h[jg]?.arrayValue,g=vt(f?.values?.length||0,m?.values?.length||0);return g!==0?g:dT(f,m)})(t.mapValue,e.mapValue);case 11:return(function(s,c){if(s===Cp.mapValue&&c===Cp.mapValue)return 0;if(s===Cp.mapValue)return 1;if(c===Cp.mapValue)return-1;const u=s.fields||{},h=Object.keys(u),f=c.fields||{},m=Object.keys(f);h.sort(),m.sort();for(let g=0;g<h.length&&g<m.length;++g){const x=q1(h[g],m[g]);if(x!==0)return x;const v=Uu(u[h[g]],f[m[g]]);if(v!==0)return v}return vt(h.length,m.length)})(t.mapValue,e.mapValue);default:throw rt(23264,{he:n})}}function uT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=Zo(t),r=Zo(e),a=vt(n.seconds,r.seconds);return a!==0?a:vt(n.nanos,r.nanos)}function dT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const s=Uu(n[a],r[a]);if(s)return s}return vt(n.length,r.length)}function Vu(t){return $1(t)}function $1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Zo(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Jo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Ze.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",a=!0;for(const s of n.values||[])a?a=!1:r+=",",r+=$1(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let a="{",s=!0;for(const c of r)s?s=!1:a+=",",a+=`${c}:${$1(n.fields[c])}`;return a+"}"})(t.mapValue):rt(61005,{value:t})}function ig(t){switch(el(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=M0(t);return e?16+ig(e):16;case 5:return 2*t.stringValue.length;case 6:return Jo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,s)=>a+ig(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let a=0;return il(r.fields,((s,c)=>{a+=s.length+ig(c)})),a})(t.mapValue);default:throw rt(13486,{value:t})}}function hT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function H1(t){return!!t&&"integerValue"in t}function w_(t){return!!t&&"arrayValue"in t}function fT(t){return!!t&&"nullValue"in t}function mT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function sg(t){return!!t&&"mapValue"in t}function JB(t){return(t?.mapValue?.fields||{})[SR]?.stringValue===AR}function Fh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return il(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Fh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fh(t.arrayValue.values[n]);return e}return{...t}}function eF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZB}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fh(n)}setAll(e){let n=tr.emptyPath(),r={},a=[];e.forEach(((c,u)=>{if(!n.isImmediateParentOf(u)){const h=this.getFieldsMap(n);this.applyChanges(h,r,a),r={},a=[],n=u.popLast()}c?r[u.lastSegment()]=Fh(c):a.push(u.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,a)}delete(e){const n=this.field(e.popLast());sg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];sg(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){il(n,((a,s)=>e[a]=s));for(const a of r)delete e[a]}clone(){return new zr(Fh(this.value))}}function TR(t){const e=[];return il(t.fields,((n,r)=>{const a=new tr([n]);if(sg(r)){const s=TR(r.mapValue).fields;if(s.length===0)e.push(a);else for(const c of s)e.push(a.child(c))}else e.push(a)})),new aa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,a,s,c,u){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=s,this.data=c,this.documentState=u}static newInvalidDocument(e){return new ur(e,0,st.min(),st.min(),st.min(),zr.empty(),0)}static newFoundDocument(e,n,r,a){return new ur(e,1,n,st.min(),r,a,0)}static newNoDocument(e,n){return new ur(e,2,n,st.min(),st.min(),zr.empty(),0)}static newUnknownDocument(e,n){return new ur(e,3,n,st.min(),st.min(),zr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){this.position=e,this.inclusive=n}}function pT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const s=e[a],c=t.position[a];if(s.field.isKeyField()?r=Ze.comparator(Ze.fromName(c.referenceValue),n.key):r=Uu(c,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function gT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n="asc"){this.field=e,this.dir=n}}function tF(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{}class Sn extends CR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rF(e,n,r):n==="array-contains"?new sF(e,r):n==="in"?new oF(e,r):n==="not-in"?new lF(e,r):n==="array-contains-any"?new cF(e,r):new Sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aF(e,r):new iF(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uu(n,this.value)):n!==null&&el(this.value)===el(n)&&this.matchesComparison(Uu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends CR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ci(e,n)}matches(e){return kR(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kR(t){return t.op==="and"}function IR(t){return nF(t)&&kR(t)}function nF(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function G1(t){if(t instanceof Sn)return t.field.canonicalString()+t.op.toString()+Vu(t.value);if(IR(t))return t.filters.map((e=>G1(e))).join(",");{const e=t.filters.map((n=>G1(n))).join(",");return`${t.op}(${e})`}}function RR(t,e){return t instanceof Sn?(function(r,a){return a instanceof Sn&&r.op===a.op&&r.field.isEqual(a.field)&&Yi(r.value,a.value)})(t,e):t instanceof ci?(function(r,a){return a instanceof ci&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((s,c,u)=>s&&RR(c,a.filters[u])),!0):!1})(t,e):void rt(19439)}function OR(t){return t instanceof Sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Vu(n.value)}`})(t):t instanceof ci?(function(n){return n.op.toString()+" {"+n.getFilters().map(OR).join(" ,")+"}"})(t):"Filter"}class rF extends Sn{constructor(e,n,r){super(e,n,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const n=Ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class aF extends Sn{constructor(e,n){super(e,"in",n),this.keys=DR("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iF extends Sn{constructor(e,n){super(e,"not-in",n),this.keys=DR("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function DR(t,e){return(e.arrayValue?.values||[]).map((n=>Ze.fromName(n.referenceValue)))}class sF extends Sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return w_(n)&&rf(n.arrayValue,this.value)}}class oF extends Sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&rf(this.value.arrayValue,n)}}class lF extends Sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(rf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!rf(this.value.arrayValue,n)}}class cF extends Sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!w_(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>rf(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n=null,r=[],a=[],s=null,c=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=s,this.startAt=c,this.endAt=u,this.Te=null}}function yT(t,e=null,n=[],r=[],a=null,s=null,c=null){return new uF(t,e,n,r,a,s,c)}function __(t){const e=lt(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>G1(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),P0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Vu(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Vu(r))).join(",")),e.Te=n}return e.Te}function N_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!tF(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gT(t.startAt,e.startAt)&&gT(t.endAt,e.endAt)}function K1(t){return Ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n=null,r=[],a=[],s=null,c="F",u=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=s,this.limitType=c,this.startAt=u,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dF(t,e,n,r,a,s,c,u){return new sd(t,e,n,r,a,s,c,u)}function j_(t){return new sd(t)}function xT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PR(t){return t.collectionGroup!==null}function qh(t){const e=lt(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let u=new Dn(tr.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new af(s,r))})),n.has(tr.keyField().canonicalString())||e.Ie.push(new af(tr.keyField(),r))}return e.Ie}function Vi(t){const e=lt(t);return e.Ee||(e.Ee=hF(e,qh(t))),e.Ee}function hF(t,e){if(t.limitType==="F")return yT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((a=>{const s=a.dir==="desc"?"asc":"desc";return new af(a.field,s)}));const n=t.endAt?new Eg(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Eg(t.startAt.position,t.startAt.inclusive):null;return yT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Y1(t,e){const n=t.filters.concat([e]);return new sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sg(t,e,n){return new sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function L0(t,e){return N_(Vi(t),Vi(e))&&t.limitType===e.limitType}function MR(t){return`${__(Vi(t))}|lt:${t.limitType}`}function Nu(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((a=>OR(a))).join(", ")}]`),P0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((a=>Vu(a))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((a=>Vu(a))).join(",")),`Target(${r})`})(Vi(t))}; limitType=${t.limitType})`}function z0(t,e){return e.isFoundDocument()&&(function(r,a){const s=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ze.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,a){for(const s of qh(r))if(!s.field.isKeyField()&&a.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,a){for(const s of r.filters)if(!s.matches(a))return!1;return!0})(t,e)&&(function(r,a){return!(r.startAt&&!(function(c,u,h){const f=pT(c,u,h);return c.inclusive?f<=0:f<0})(r.startAt,qh(r),a)||r.endAt&&!(function(c,u,h){const f=pT(c,u,h);return c.inclusive?f>=0:f>0})(r.endAt,qh(r),a))})(t,e)}function fF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LR(t){return(e,n)=>{let r=!1;for(const a of qh(t)){const s=mF(a,e,n);if(s!==0)return s;r=r||a.field.isKeyField()}return 0}}function mF(t,e,n){const r=t.field.isKeyField()?Ze.comparator(e.key,n.key):(function(s,c,u){const h=c.data.field(s),f=u.data.field(s);return h!==null&&f!==null?Uu(h,f):rt(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return rt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,s]of r)if(this.equalsFn(a,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<a.length;s++)if(this.equalsFn(a[s][0],e))return void(a[s]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){il(this.inner,((n,r)=>{for(const[a,s]of r)e(a,s)}))}isEmpty(){return bR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pF=new on(Ze.comparator);function Us(){return pF}const zR=new on(Ze.comparator);function Dh(...t){let e=zR;for(const n of t)e=e.insert(n.key,n);return e}function UR(t){let e=zR;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Yl(){return $h()}function VR(){return $h()}function $h(){return new Sc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const gF=new on(Ze.comparator),yF=new Dn(Ze.comparator);function bt(...t){let e=yF;for(const n of t)e=e.add(n);return e}const xF=new Dn(vt);function vF(){return xF}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_g(e)?"-0":e}}function BR(t){return{integerValue:""+t}}function FR(t,e){return KB(e)?BR(e):E_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this._=void 0}}function bF(t,e,n){return t instanceof sf?(function(a,s){const c={fields:{[NR]:{stringValue:_R},[ER]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return s&&b_(s)&&(s=M0(s)),s&&(c.fields[jR]=s),{mapValue:c}})(n,e):t instanceof of?$R(t,e):t instanceof lf?HR(t,e):(function(a,s){const c=qR(a,s),u=vT(c)+vT(a.Ae);return H1(c)&&H1(a.Ae)?BR(u):E_(a.serializer,u)})(t,e)}function wF(t,e,n){return t instanceof of?$R(t,e):t instanceof lf?HR(t,e):n}function qR(t,e){return t instanceof cf?(function(r){return H1(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class sf extends U0{}class of extends U0{constructor(e){super(),this.elements=e}}function $R(t,e){const n=GR(e);for(const r of t.elements)n.some((a=>Yi(a,r)))||n.push(r);return{arrayValue:{values:n}}}class lf extends U0{constructor(e){super(),this.elements=e}}function HR(t,e){let n=GR(e);for(const r of t.elements)n=n.filter((a=>!Yi(a,r)));return{arrayValue:{values:n}}}class cf extends U0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function vT(t){return gn(t.integerValue||t.doubleValue)}function GR(t){return w_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.field=e,this.transform=n}}function _F(t,e){return t.field.isEqual(e.field)&&(function(r,a){return r instanceof of&&a instanceof of||r instanceof lf&&a instanceof lf?zu(r.elements,a.elements,Yi):r instanceof cf&&a instanceof cf?Yi(r.Ae,a.Ae):r instanceof sf&&a instanceof sf})(t.transform,e.transform)}class NF{constructor(e,n){this.version=e,this.transformResults=n}}class Ia{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ia}static exists(e){return new Ia(void 0,e)}static updateTime(e){return new Ia(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function og(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class V0{}function YR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S_(t.key,Ia.none()):new Of(t.key,t.data,Ia.none());{const n=t.data,r=zr.empty();let a=new Dn(tr.comparator);for(let s of e.fields)if(!a.has(s)){let c=n.field(s);c===null&&s.length>1&&(s=s.popLast(),c=n.field(s)),c===null?r.delete(s):r.set(s,c),a=a.add(s)}return new sl(t.key,r,new aa(a.toArray()),Ia.none())}}function jF(t,e,n){t instanceof Of?(function(a,s,c){const u=a.value.clone(),h=wT(a.fieldTransforms,s,c.transformResults);u.setAll(h),s.convertToFoundDocument(c.version,u).setHasCommittedMutations()})(t,e,n):t instanceof sl?(function(a,s,c){if(!og(a.precondition,s))return void s.convertToUnknownDocument(c.version);const u=wT(a.fieldTransforms,s,c.transformResults),h=s.data;h.setAll(WR(a)),h.setAll(u),s.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(t,e,n):(function(a,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Hh(t,e,n,r){return t instanceof Of?(function(s,c,u,h){if(!og(s.precondition,c))return u;const f=s.value.clone(),m=_T(s.fieldTransforms,h,c);return f.setAll(m),c.convertToFoundDocument(c.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof sl?(function(s,c,u,h){if(!og(s.precondition,c))return u;const f=_T(s.fieldTransforms,h,c),m=c.data;return m.setAll(WR(s)),m.setAll(f),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),u===null?null:u.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((g=>g.field)))})(t,e,n,r):(function(s,c,u){return og(s.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):u})(t,e,n)}function EF(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),s=qR(r.transform,a||null);s!=null&&(n===null&&(n=zr.empty()),n.set(r.field,s))}return n||null}function bT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&zu(r,a,((s,c)=>_F(s,c)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Of extends V0{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sl extends V0{constructor(e,n,r,a,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function WR(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function wT(t,e,n){const r=new Map;Rt(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let a=0;a<n.length;a++){const s=t[a],c=s.transform,u=e.data.field(s.field);r.set(s.field,wF(c,u,n[a]))}return r}function _T(t,e,n){const r=new Map;for(const a of t){const s=a.transform,c=n.data.field(a.field);r.set(a.field,bF(s,c,e))}return r}class S_ extends V0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SF extends V0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const s=this.mutations[a];s.key.isEqual(e.key)&&jF(s,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Hh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VR();return this.mutations.forEach((a=>{const s=e.get(a.key),c=s.overlayedDocument;let u=this.applyToLocalView(c,s.mutatedFields);u=n.has(a.key)?null:u;const h=YR(c,u);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(st.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),bt())}isEqual(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,((n,r)=>bT(n,r)))&&zu(this.baseMutations,e.baseMutations,((n,r)=>bT(n,r)))}}class A_{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Rt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return gF})();const s=e.mutations;for(let c=0;c<s.length;c++)a=a.insert(s[c].key,r[c].version);return new A_(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,Nt;function kF(t){switch(t){case Ae.OK:return rt(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return rt(15467,{code:t})}}function XR(t){if(t===void 0)return zs("GRPC error has no .code"),Ae.UNKNOWN;switch(t){case En.OK:return Ae.OK;case En.CANCELLED:return Ae.CANCELLED;case En.UNKNOWN:return Ae.UNKNOWN;case En.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case En.INTERNAL:return Ae.INTERNAL;case En.UNAVAILABLE:return Ae.UNAVAILABLE;case En.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case En.NOT_FOUND:return Ae.NOT_FOUND;case En.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case En.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case En.ABORTED:return Ae.ABORTED;case En.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case En.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case En.DATA_LOSS:return Ae.DATA_LOSS;default:return rt(39323,{code:t})}}(Nt=En||(En={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new Ko([4294967295,4294967295],0);function NT(t){const e=IF().encode(t),n=new cR;return n.update(e),new Uint8Array(n.digest())}function jT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ko([n,r],0),new Ko([a,s],0)]}class T_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ph(`Invalid padding: ${n}`);if(r<0)throw new Ph(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ph(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ph(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ko.fromNumber(this.ge)}ye(e,n,r){let a=e.add(n.multiply(Ko.fromNumber(r)));return a.compare(RF)===1&&(a=new Ko([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=NT(e),[r,a]=jT(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);if(!this.we(c))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),c=new T_(s,a,n);return r.forEach((u=>c.insert(u))),c}insert(e){if(this.ge===0)return;const n=NT(e),[r,a]=jT(n);for(let s=0;s<this.hashCount;s++){const c=this.ye(r,a,s);this.Se(c)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ph extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,r,a,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Df.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new B0(st.min(),a,new on(vt),Us(),bt())}}class Df{constructor(e,n,r,a,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Df(r,n,bt(),bt(),bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n,r,a){this.be=e,this.removedTargetIds=n,this.key=r,this.De=a}}class QR{constructor(e,n){this.targetId=e,this.Ce=n}}class ZR{constructor(e,n,r=rr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class ET{constructor(){this.ve=0,this.Fe=ST(),this.Me=rr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=bt(),n=bt(),r=bt();return this.Fe.forEach(((a,s)=>{switch(s){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:rt(38017,{changeType:s})}})),new Df(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=ST()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OF{constructor(e){this.Ge=e,this.ze=new Map,this.je=Us(),this.Je=kp(),this.He=kp(),this.Ye=new on(vt)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:rt(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,a)=>{this.rt(a)&&n(a)}))}st(e){const n=e.targetId,r=e.Ce.count,a=this.ot(n);if(a){const s=a.target;if(K1(s))if(r===0){const c=new Ze(s.path);this.et(n,c,ur.newNoDocument(c,st.min()))}else Rt(r===1,20013,{expectedCount:r});else{const c=this._t(n);if(c!==r){const u=this.ut(e),h=u?this.ct(u,e,c):1;if(h!==0){this.it(n);const f=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:s=0}=n;let c,u;try{c=Jo(r).toUint8Array()}catch(h){if(h instanceof wR)return Lu("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new T_(c,a,s)}catch(h){return Lu(h instanceof Ph?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let a=0;return r.forEach((s=>{const c=this.Ge.ht(),u=`projects/${c.projectId}/databases/${c.database}/documents/${s.path.canonicalString()}`;e.mightContain(u)||(this.et(n,s,null),a++)})),a}Tt(e){const n=new Map;this.ze.forEach(((s,c)=>{const u=this.ot(c);if(u){if(s.current&&K1(u.target)){const h=new Ze(u.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,ur.newNoDocument(h,e))}s.Be&&(n.set(c,s.ke()),s.qe())}}));let r=bt();this.He.forEach(((s,c)=>{let u=!0;c.forEachWhile((h=>{const f=this.ot(h);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(s))})),this.je.forEach(((s,c)=>c.setReadTime(e)));const a=new B0(e,n,this.Ye,this.je,r);return this.je=Us(),this.Je=kp(),this.He=kp(),this.Ye=new on(vt),a}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,n)?a.Qe(n,1):a.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ET,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Dn(vt),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Dn(vt),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||He("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ET),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function kp(){return new on(Ze.comparator)}function ST(){return new on(Ze.comparator)}const DF={asc:"ASCENDING",desc:"DESCENDING"},PF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MF={and:"AND",or:"OR"};class LF{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function W1(t,e){return t.useProto3Json||P0(e)?e:{value:e}}function Ag(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function zF(t,e){return Ag(t,e.toTimestamp())}function Bi(t){return Rt(!!t,49232),st.fromTimestamp((function(n){const r=Zo(n);return new Xt(r.seconds,r.nanos)})(t))}function C_(t,e){return X1(t,e).canonicalString()}function X1(t,e){const n=(function(a){return new Gt(["projects",a.projectId,"databases",a.database])})(t).child("documents");return e===void 0?n:n.child(e)}function eO(t){const e=Gt.fromString(t);return Rt(iO(e),10190,{key:e.toString()}),e}function Q1(t,e){return C_(t.databaseId,e.path)}function qv(t,e){const n=eO(e);if(n.get(1)!==t.databaseId.projectId)throw new Ve(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ve(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ze(nO(n))}function tO(t,e){return C_(t.databaseId,e)}function UF(t){const e=eO(t);return e.length===4?Gt.emptyPath():nO(e)}function Z1(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nO(t){return Rt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function AT(t,e,n){return{name:Q1(t,e),fields:n.value.mapValue.fields}}function VF(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:rt(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],s=(function(f,m){return f.useProto3Json?(Rt(m===void 0||typeof m=="string",58123),rr.fromBase64String(m||"")):(Rt(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),rr.fromUint8Array(m||new Uint8Array))})(t,e.targetChange.resumeToken),c=e.targetChange.cause,u=c&&(function(f){const m=f.code===void 0?Ae.UNKNOWN:XR(f.code);return new Ve(m,f.message||"")})(c);n=new ZR(r,a,s,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=qv(t,r.document.name),s=Bi(r.document.updateTime),c=r.document.createTime?Bi(r.document.createTime):st.min(),u=new zr({mapValue:{fields:r.document.fields}}),h=ur.newFoundDocument(a,s,c,u),f=r.targetIds||[],m=r.removedTargetIds||[];n=new lg(f,m,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=qv(t,r.document),s=r.readTime?Bi(r.readTime):st.min(),c=ur.newNoDocument(a,s),u=r.removedTargetIds||[];n=new lg([],u,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=qv(t,r.document),s=r.removedTargetIds||[];n=new lg([],s,a,null)}else{if(!("filter"in e))return rt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:s}=r,c=new CF(a,s),u=r.targetId;n=new QR(u,c)}}return n}function BF(t,e){let n;if(e instanceof Of)n={update:AT(t,e.key,e.value)};else if(e instanceof S_)n={delete:Q1(t,e.key)};else if(e instanceof sl)n={update:AT(t,e.key,e.data),updateMask:XF(e.fieldMask)};else{if(!(e instanceof SF))return rt(16599,{Vt:e.type});n={verify:Q1(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,c){const u=c.transform;if(u instanceof sf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof of)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lf)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof cf)return{fieldPath:c.field.canonicalString(),increment:u.Ae};throw rt(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(a,s){return s.updateTime!==void 0?{updateTime:zF(a,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:rt(27497)})(t,e.precondition)),n}function FF(t,e){return t&&t.length>0?(Rt(e!==void 0,14353),t.map((n=>(function(a,s){let c=a.updateTime?Bi(a.updateTime):Bi(s);return c.isEqual(st.min())&&(c=Bi(s)),new NF(c,a.transformResults||[])})(n,e)))):[]}function qF(t,e){return{documents:[tO(t,e.path)]}}function $F(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tO(t,a);const s=(function(f){if(f.length!==0)return aO(ci.create(f,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const c=(function(f){if(f.length!==0)return f.map((m=>(function(x){return{field:ju(x.field),direction:KF(x.dir)}})(m)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const u=W1(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:a}}function HF(t){let e=UF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Rt(r===1,65062);const m=n.from[0];m.allDescendants?a=m.collectionId:e=e.child(m.collectionId)}let s=[];n.where&&(s=(function(g){const x=rO(g);return x instanceof ci&&IR(x)?x.getFilters():[x]})(n.where));let c=[];n.orderBy&&(c=(function(g){return g.map((x=>(function(j){return new af(Eu(j.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(x)))})(n.orderBy));let u=null;n.limit&&(u=(function(g){let x;return x=typeof g=="object"?g.value:g,P0(x)?null:x})(n.limit));let h=null;n.startAt&&(h=(function(g){const x=!!g.before,v=g.values||[];return new Eg(v,x)})(n.startAt));let f=null;return n.endAt&&(f=(function(g){const x=!g.before,v=g.values||[];return new Eg(v,x)})(n.endAt)),dF(e,a,c,s,u,"F",h,f)}function GF(t,e){const n=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return rt(28987,{purpose:a})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Eu(n.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Eu(n.unaryFilter.field);return Sn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Eu(n.unaryFilter.field);return Sn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Eu(n.unaryFilter.field);return Sn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return rt(61313);default:return rt(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Sn.create(Eu(n.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return rt(58110);default:return rt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return ci.create(n.compositeFilter.filters.map((r=>rO(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return rt(1026)}})(n.compositeFilter.op))})(t):rt(30097,{filter:t})}function KF(t){return DF[t]}function YF(t){return PF[t]}function WF(t){return MF[t]}function ju(t){return{fieldPath:t.canonicalString()}}function Eu(t){return tr.fromServerFormat(t.fieldPath)}function aO(t){return t instanceof Sn?(function(n){if(n.op==="=="){if(mT(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NAN"}};if(fT(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mT(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NOT_NAN"}};if(fT(n.value))return{unaryFilter:{field:ju(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(n.field),op:YF(n.op),value:n.value}}})(t):t instanceof ci?(function(n){const r=n.getFilters().map((a=>aO(a)));return r.length===1?r[0]:{compositeFilter:{op:WF(n.op),filters:r}}})(t):rt(54877,{filter:t})}function XF(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,n,r,a,s=st.min(),c=st.min(),u=rr.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new $o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.yt=e}}function ZF(t){const e=HF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JF{constructor(){this.Cn=new eq}addToCollectionParentIndex(e,n){return this.Cn.add(n),ke.resolve()}getCollectionParents(e,n){return ke.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ke.resolve()}deleteFieldIndex(e,n){return ke.resolve()}deleteAllFieldIndexes(e){return ke.resolve()}createTargetIndexes(e,n){return ke.resolve()}getDocumentsMatchingTarget(e,n){return ke.resolve(null)}getIndexType(e,n){return ke.resolve(0)}getFieldIndexes(e,n){return ke.resolve([])}getNextCollectionGroupToUpdate(e){return ke.resolve(null)}getMinOffset(e,n){return ke.resolve(Qo.min())}getMinOffsetFromCollectionGroup(e,n){return ke.resolve(Qo.min())}updateCollectionGroup(e,n,r){return ke.resolve()}updateIndexEntries(e,n){return ke.resolve()}}class eq{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Dn(Gt.comparator),s=!a.has(r);return this.index[n]=a.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Dn(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sO=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(sO,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Bu(0)}static cr(){return new Bu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="LruGarbageCollector",tq=1048576;function kT([t,e],[n,r]){const a=vt(t,n);return a===0?vt(e,r):a}class nq{constructor(e){this.Ir=e,this.buffer=new Dn(kT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rq{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){He(CT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){id(n)?He(CT,"Ignoring IndexedDB error during garbage collection: ",n):await ad(n)}await this.Vr(3e5)}))}}class aq{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ke.resolve(D0.ce);const r=new nq(n);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(TT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),TT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,a,s,c,u,h,f;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((g=>(g>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),a=this.params.maximumSequenceNumbersToCollect):a=g,c=Date.now(),this.nthSequenceNumber(e,a)))).next((g=>(r=g,u=Date.now(),this.removeTargets(e,r,n)))).next((g=>(s=g,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((g=>(f=Date.now(),_u()<=xt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-m}ms
	Determined least recently used ${a} in `+(u-c)+`ms
	Removed ${s} targets in `+(h-u)+`ms
	Removed ${g} documents in `+(f-h)+`ms
Total Duration: ${f-m}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:s,documentsRemoved:g}))))}}function iq(t,e){return new aq(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sq{constructor(){this.changes=new Sc((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ke.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oq{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,n)))).next((a=>(r!==null&&Hh(r.mutation,a,aa.empty(),Xt.now()),a)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,bt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=bt()){const a=Yl();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,r).next((s=>{let c=Dh();return s.forEach(((u,h)=>{c=c.insert(u,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const r=Yl();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,bt())))}populateOverlays(e,n,r){const a=[];return r.forEach((s=>{n.has(s)||a.push(s)})),this.documentOverlayCache.getOverlays(e,a).next((s=>{s.forEach(((c,u)=>{n.set(c,u)}))}))}computeViews(e,n,r,a){let s=Us();const c=$h(),u=(function(){return $h()})();return n.forEach(((h,f)=>{const m=r.get(f.key);a.has(f.key)&&(m===void 0||m.mutation instanceof sl)?s=s.insert(f.key,f):m!==void 0?(c.set(f.key,m.mutation.getFieldMask()),Hh(m.mutation,f,m.mutation.getFieldMask(),Xt.now())):c.set(f.key,aa.empty())})),this.recalculateAndSaveOverlays(e,s).next((h=>(h.forEach(((f,m)=>c.set(f,m))),n.forEach(((f,m)=>u.set(f,new oq(m,c.get(f)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=$h();let a=new on(((c,u)=>c-u)),s=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const u of c)u.keys().forEach((h=>{const f=n.get(h);if(f===null)return;let m=r.get(h)||aa.empty();m=u.applyToLocalView(f,m),r.set(h,m);const g=(a.get(u.batchId)||bt()).add(h);a=a.insert(u.batchId,g)}))})).next((()=>{const c=[],u=a.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),f=h.key,m=h.value,g=VR();m.forEach((x=>{if(!s.has(x)){const v=YR(n.get(x),r.get(x));v!==null&&g.set(x,v),s=s.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,f,g))}return ke.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,a){return(function(c){return Ze.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):PR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next((s=>{const c=a-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-s.size):ke.resolve(Yl());let u=ef,h=s;return c.next((f=>ke.forEach(f,((m,g)=>(u<g.largestBatchId&&(u=g.largestBatchId),s.get(m)?ke.resolve():this.remoteDocumentCache.getEntry(e,m).next((x=>{h=h.insert(m,x)}))))).next((()=>this.populateOverlays(e,f,s))).next((()=>this.computeViews(e,h,f,bt()))).next((m=>({batchId:u,changes:UR(m)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ze(n)).next((r=>{let a=Dh();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const s=n.collectionGroup;let c=Dh();return this.indexManager.getCollectionParents(e,s).next((u=>ke.forEach(u,(h=>{const f=(function(g,x){return new sd(x,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(n,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,a).next((m=>{m.forEach(((g,x)=>{c=c.insert(g,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,r,a){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((c=>(s=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,a)))).next((c=>{s.forEach(((h,f)=>{const m=f.getKey();c.get(m)===null&&(c=c.insert(m,ur.newInvalidDocument(m)))}));let u=Dh();return c.forEach(((h,f)=>{const m=s.get(h);m!==void 0&&Hh(m.mutation,f,aa.empty(),Xt.now()),z0(n,f)&&(u=u.insert(h,f))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ke.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(a){return{id:a.id,version:a.version,createTime:Bi(a.createTime)}})(n)),ke.resolve()}getNamedQuery(e,n){return ke.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(a){return{name:a.name,query:ZF(a.bundledQuery),readTime:Bi(a.readTime)}})(n)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(){this.overlays=new on(Ze.comparator),this.qr=new Map}getOverlay(e,n){return ke.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Yl();return ke.forEach(n,(a=>this.getOverlay(e,a).next((s=>{s!==null&&r.set(a,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((a,s)=>{this.St(e,n,s)})),ke.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(r)),ke.resolve()}getOverlaysForCollection(e,n,r){const a=Yl(),s=n.length+1,c=new Ze(n.child("")),u=this.overlays.getIteratorFrom(c);for(;u.hasNext();){const h=u.getNext().value,f=h.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&a.set(h.getKey(),h)}return ke.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let s=new on(((f,m)=>f-m));const c=this.overlays.getIterator();for(;c.hasNext();){const f=c.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let m=s.get(f.largestBatchId);m===null&&(m=Yl(),s=s.insert(f.largestBatchId,m)),m.set(f.getKey(),f)}}const u=Yl(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((f,m)=>u.set(f,m))),!(u.size()>=a)););return ke.resolve(u)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new TF(n,r));let s=this.qr.get(n);s===void 0&&(s=bt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this.sessionToken=rr.EMPTY_BYTE_STRING}getSessionToken(e){return ke.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(){this.Qr=new Dn(Bn.$r),this.Ur=new Dn(Bn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Bn(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new Ze(new Gt([])),r=new Bn(n,e),a=new Bn(n,e+1),s=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),s.push(c.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ze(new Gt([])),r=new Bn(n,e),a=new Bn(n,e+1);let s=bt();return this.Ur.forEachInRange([r,a],(c=>{s=s.add(c.key)})),s}containsKey(e){const n=new Bn(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ze.comparator(e.key,n.key)||vt(e.Yr,n.Yr)}static Kr(e,n){return vt(e.Yr,n.Yr)||Ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Dn(Bn.$r)}checkEmpty(e){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new AF(s,n,r,a);this.mutationQueue.push(c);for(const u of a)this.Zr=this.Zr.add(new Bn(u.key,s)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return ke.resolve(c)}lookupMutationBatch(e,n){return ke.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ei(r),s=a<0?0:a;return ke.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?v_:this.tr-1)}getAllMutationBatches(e){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),a=new Bn(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,a],(c=>{const u=this.Xr(c.Yr);s.push(u)})),ke.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Dn(vt);return n.forEach((a=>{const s=new Bn(a,0),c=new Bn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,c],(u=>{r=r.add(u.Yr)}))})),ke.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let s=r;Ze.isDocumentKey(s)||(s=s.child(""));const c=new Bn(new Ze(s),0);let u=new Dn(vt);return this.Zr.forEachWhile((h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===a&&(u=u.add(h.Yr)),!0)}),c),ke.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&n.push(a)})),n}removeMutationBatch(e,n){Rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ke.forEach(n.mutations,(a=>{const s=new Bn(a.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Bn(n,0),a=this.Zr.firstAfterOrEqual(r);return ke.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ke.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e){this.ri=e,this.docs=(function(){return new on(Ze.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),s=a?a.size:0,c=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ke.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(n))}getEntries(e,n){let r=Us();return n.forEach((a=>{const s=this.docs.get(a);r=r.insert(a,s?s.document.mutableCopy():ur.newInvalidDocument(a))})),ke.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let s=Us();const c=n.path,u=new Ze(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:f,value:{document:m}}=h.getNext();if(!c.isPrefixOf(f.path))break;f.path.length>c.length+1||qB(FB(m),r)<=0||(a.has(m.key)||z0(n,m))&&(s=s.insert(m.key,m.mutableCopy()))}return ke.resolve(s)}getAllFromCollectionGroup(e,n,r,a){rt(9500)}ii(e,n){return ke.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new mq(this)}getSize(e){return ke.resolve(this.size)}}class mq extends sq{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?n.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),ke.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e){this.persistence=e,this.si=new Sc((n=>__(n)),N_),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.oi=0,this._i=new k_,this.targetCount=0,this.ai=Bu.ur()}forEachTarget(e,n){return this.si.forEach(((r,a)=>n(a))),ke.resolve()}getLastRemoteSnapshotVersion(e){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ke.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ke.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Bu(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ke.resolve()}updateTargetData(e,n){return this.Pr(n),ke.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ke.resolve()}removeTargets(e,n,r){let a=0;const s=[];return this.si.forEach(((c,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(c),s.push(this.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),ke.waitFor(s).next((()=>a))}getTargetCount(e){return ke.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ke.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ke.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const a=this.persistence.referenceDelegate,s=[];return a&&n.forEach((c=>{s.push(a.markPotentiallyOrphaned(e,c))})),ke.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ke.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ke.resolve(r)}containsKey(e,n){return ke.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n){this.ui={},this.overlays={},this.ci=new D0(0),this.li=!1,this.li=!0,this.hi=new dq,this.referenceDelegate=e(this),this.Pi=new pq(this),this.indexManager=new JF,this.remoteDocumentCache=(function(a){return new fq(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new QF(n),this.Ii=new cq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uq,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new hq(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){He("MemoryPersistence","Starting transaction:",e);const a=new gq(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((s=>this.referenceDelegate.di(a).next((()=>s)))).toPromise().then((s=>(a.raiseOnCommittedEvent(),s)))}Ai(e,n){return ke.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class gq extends HB{constructor(e){super(),this.currentSequenceNumber=e}}class I_{constructor(e){this.persistence=e,this.Ri=new k_,this.Vi=null}static mi(e){return new I_(e)}get fi(){if(this.Vi)return this.Vi;throw rt(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ke.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ke.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ke.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((a=>{a.forEach((s=>this.fi.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.fi,(r=>{const a=Ze.fromPath(r);return this.gi(e,a).next((s=>{s||n.removeEntry(a,st.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ke.or([()=>ke.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Tg{constructor(e,n){this.persistence=e,this.pi=new Sc((r=>YB(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=iq(this,n)}static mi(e,n){return new Tg(e,n)}Ei(){}di(e){return ke.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((a=>r+a))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ke.forEach(this.pi,((r,a)=>this.br(e,r,a).next((s=>s?ke.resolve():n(a)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),s=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,n).next((u=>{u||(r++,s.removeEntry(c,st.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ke.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ke.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ig(e.data.value)),n}br(e,n,r){return ke.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.pi.get(n);return ke.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=a}static As(e,n){let r=bt(),a=bt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}return new R_(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return B9()?8:GB(pr())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,a){const s={result:null};return this.ys(e,n).next((c=>{s.result=c})).next((()=>{if(!s.result)return this.ws(e,n,a,r).next((c=>{s.result=c}))})).next((()=>{if(s.result)return;const c=new yq;return this.Ss(e,n,c).next((u=>{if(s.result=u,this.Vs)return this.bs(e,n,c,u.size)}))})).next((()=>s.result))}bs(e,n,r,a){return r.documentReadCount<this.fs?(_u()<=xt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Nu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ke.resolve()):(_u()<=xt.DEBUG&&He("QueryEngine","Query:",Nu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(_u()<=xt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Nu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):ke.resolve())}ys(e,n){if(xT(n))return ke.resolve(null);let r=Vi(n);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(n.limit!==null&&a===1&&(n=Sg(n,null,"F"),r=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const c=bt(...s);return this.ps.getDocuments(e,c).next((u=>this.indexManager.getMinOffset(e,r).next((h=>{const f=this.Ds(n,u);return this.Cs(n,f,c,h.readTime)?this.ys(e,Sg(n,null,"F")):this.vs(e,f,n,h)}))))})))))}ws(e,n,r,a){return xT(n)||a.isEqual(st.min())?ke.resolve(null):this.ps.getDocuments(e,r).next((s=>{const c=this.Ds(n,s);return this.Cs(n,c,r,a)?ke.resolve(null):(_u()<=xt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Nu(n)),this.vs(e,c,n,BB(a,ef)).next((u=>u)))}))}Ds(e,n){let r=new Dn(LR(e));return n.forEach(((a,s)=>{z0(e,s)&&(r=r.add(s))})),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(a)>0)}Ss(e,n,r){return _u()<=xt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Nu(n)),this.ps.getDocumentsMatchingQuery(e,n,Qo.min(),r)}vs(e,n,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((s=>(n.forEach((c=>{s=s.insert(c.key,c)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="LocalStore",vq=3e8;class bq{constructor(e,n,r,a){this.persistence=e,this.Fs=n,this.serializer=a,this.Ms=new on(vt),this.xs=new Sc((s=>__(s)),N_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lq(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function wq(t,e,n,r){return new bq(t,e,n,r)}async function lO(t,e){const n=lt(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next((s=>(a=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const c=[],u=[];let h=bt();for(const f of a){c.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}for(const f of s){u.push(f.batchId);for(const m of f.mutations)h=h.add(m.key)}return n.localDocuments.getDocuments(r,h).next((f=>({Ls:f,removedBatchIds:c,addedBatchIds:u})))}))}))}function _q(t,e){const n=lt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,h,f,m){const g=f.batch,x=g.keys();let v=ke.resolve();return x.forEach((j=>{v=v.next((()=>m.getEntry(h,j))).next((w=>{const _=f.docVersions.get(j);Rt(_!==null,48541),w.version.compareTo(_)<0&&(g.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),m.addEntry(w)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(h,g)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let h=bt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(h=h.add(u.batch.mutations[f].key));return h})(e)))).next((()=>n.localDocuments.getDocuments(r,a)))}))}function cO(t){const e=lt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Nq(t,e){const n=lt(t),r=e.snapshotVersion;let a=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});a=n.Ms;const u=[];e.targetChanges.forEach(((m,g)=>{const x=a.get(g);if(!x)return;u.push(n.Pi.removeMatchingKeys(s,m.removedDocuments,g).next((()=>n.Pi.addMatchingKeys(s,m.addedDocuments,g))));let v=x.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?v=v.withResumeToken(rr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):m.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(m.resumeToken,r)),a=a.insert(g,v),(function(w,_,E){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=vq?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(x,v,m)&&u.push(n.Pi.updateTargetData(s,v))}));let h=Us(),f=bt();if(e.documentUpdates.forEach((m=>{e.resolvedLimboDocuments.has(m)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(s,m))})),u.push(jq(s,c,e.documentUpdates).next((m=>{h=m.ks,f=m.qs}))),!r.isEqual(st.min())){const m=n.Pi.getLastRemoteSnapshotVersion(s).next((g=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r)));u.push(m)}return ke.waitFor(u).next((()=>c.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,h,f))).next((()=>h))})).then((s=>(n.Ms=a,s)))}function jq(t,e,n){let r=bt(),a=bt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let c=Us();return n.forEach(((u,h)=>{const f=s.get(u);h.isFoundDocument()!==f.isFoundDocument()&&(a=a.add(u)),h.isNoDocument()&&h.version.isEqual(st.min())?(e.removeEntry(u,h.readTime),c=c.insert(u,h)):!f.isValidDocument()||h.version.compareTo(f.version)>0||h.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(h),c=c.insert(u,h)):He(O_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function Eq(t,e){const n=lt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=v_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Sq(t,e){const n=lt(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return n.Pi.getTargetData(r,e).next((s=>s?(a=s,ke.resolve(a)):n.Pi.allocateTargetId(r).next((c=>(a=new $o(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=n.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function J1(t,e,n){const r=lt(t),a=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!id(c))throw c;He(O_,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function IT(t,e,n){const r=lt(t);let a=st.min(),s=bt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,f,m){const g=lt(h),x=g.xs.get(m);return x!==void 0?ke.resolve(g.Ms.get(x)):g.Pi.getTargetData(f,m)})(r,c,Vi(e)).next((u=>{if(u)return a=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,u.targetId).next((h=>{s=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,n?a:st.min(),n?s:bt()))).next((u=>(Aq(r,fF(e),u),{documents:u,Qs:s})))))}function Aq(t,e,n){let r=t.Os.get(e)||st.min();n.forEach(((a,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Os.set(e,r)}class RT{constructor(){this.activeTargetIds=vF()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Tq{constructor(){this.Mo=new RT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new RT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="ConnectivityMonitor";class DT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){He(OT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){He(OT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip=null;function ew(){return Ip===null?Ip=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ip++,"0x"+Ip.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="RestConnection",kq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Iq{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Ng?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,n,r,a,s){const c=ew(),u=this.zo(e,n.toUriEncodedString());He($v,`Sending RPC '${e}' ${c}:`,u,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,s);const{host:f}=new URL(u),m=Zi(f);return this.Jo(e,u,h,r,m).then((g=>(He($v,`Received RPC '${e}' ${c}: `,g),g)),(g=>{throw Lu($v,`RPC '${e}' ${c} failed with error: `,g,"url: ",u,"request:",r),g}))}Ho(e,n,r,a,s,c){return this.Go(e,n,r,a,s)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,s)=>e[s]=a)),r&&r.headers.forEach(((a,s)=>e[s]=a))}zo(e,n){const r=kq[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="WebChannelConnection";class Oq extends Iq{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,s){const c=ew();return new Promise(((u,h)=>{const f=new uR;f.setWithCredentials(!0),f.listenOnce(dR.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case ag.NO_ERROR:const g=f.getResponseJson();He(or,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(g)),u(g);break;case ag.TIMEOUT:He(or,`RPC '${e}' ${c} timed out`),h(new Ve(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:const x=f.getStatus();if(He(or,`RPC '${e}' ${c} failed with status:`,x,"response text:",f.getResponseText()),x>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const j=v?.error;if(j&&j.status&&j.message){const w=(function(E){const S=E.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(S)>=0?S:Ae.UNKNOWN})(j.status);h(new Ve(w,j.message))}else h(new Ve(Ae.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new Ve(Ae.UNAVAILABLE,"Connection failed."));break;default:rt(9055,{l_:e,streamId:c,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{He(or,`RPC '${e}' ${c} completed.`)}}));const m=JSON.stringify(a);He(or,`RPC '${e}' ${c} sending request:`,a),f.send(n,"POST",m,r,15)}))}T_(e,n,r){const a=ew(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=mR(),u=fR(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const m=s.join("");He(or,`Creating RPC '${e}' stream ${a}: ${m}`,h);const g=c.createWebChannel(m,h);this.I_(g);let x=!1,v=!1;const j=new Rq({Yo:_=>{v?He(or,`Not sending because RPC '${e}' stream ${a} is closed:`,_):(x||(He(or,`Opening RPC '${e}' stream ${a} transport.`),g.open(),x=!0),He(or,`RPC '${e}' stream ${a} sending:`,_),g.send(_))},Zo:()=>g.close()}),w=(_,E,S)=>{_.listen(E,(C=>{try{S(C)}catch(V){setTimeout((()=>{throw V}),0)}}))};return w(g,Oh.EventType.OPEN,(()=>{v||(He(or,`RPC '${e}' stream ${a} transport opened.`),j.o_())})),w(g,Oh.EventType.CLOSE,(()=>{v||(v=!0,He(or,`RPC '${e}' stream ${a} transport closed`),j.a_(),this.E_(g))})),w(g,Oh.EventType.ERROR,(_=>{v||(v=!0,Lu(or,`RPC '${e}' stream ${a} transport errored. Name:`,_.name,"Message:",_.message),j.a_(new Ve(Ae.UNAVAILABLE,"The operation could not be completed")))})),w(g,Oh.EventType.MESSAGE,(_=>{if(!v){const E=_.data[0];Rt(!!E,16349);const S=E,C=S?.error||S[0]?.error;if(C){He(or,`RPC '${e}' stream ${a} received error:`,C);const V=C.status;let k=(function(M){const U=En[M];if(U!==void 0)return XR(U)})(V),$=C.message;k===void 0&&(k=Ae.INTERNAL,$="Unknown error status: "+V+" with message "+C.message),v=!0,j.a_(new Ve(k,$)),g.close()}else He(or,`RPC '${e}' stream ${a} received:`,E),j.u_(E)}})),w(u,hR.STAT_EVENT,(_=>{_.stat===F1.PROXY?He(or,`RPC '${e}' stream ${a} detected buffering proxy`):_.stat===F1.NOPROXY&&He(or,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(t){return new LF(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,n,r=1e3,a=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=a,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,n-r);a>0&&He("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="PersistentStream";class dO{constructor(e,n,r,a,s,c,u,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uO(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Ae.RESOURCE_EXHAUSTED?(zs(n.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===n&&this.G_(r,a)}),(r=>{e((()=>{const a=new Ve(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return He(PT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(He(PT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Dq extends dO{constructor(e,n,r,a,s,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=VF(this.serializer,e),r=(function(s){if(!("targetChange"in s))return st.min();const c=s.targetChange;return c.targetIds&&c.targetIds.length?st.min():c.readTime?Bi(c.readTime):st.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Z1(this.serializer),n.addTarget=(function(s,c){let u;const h=c.target;if(u=K1(h)?{documents:qF(s,h)}:{query:$F(s,h).ft},u.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){u.resumeToken=JR(s,c.resumeToken);const f=W1(s,c.expectedCount);f!==null&&(u.expectedCount=f)}else if(c.snapshotVersion.compareTo(st.min())>0){u.readTime=Ag(s,c.snapshotVersion.toTimestamp());const f=W1(s,c.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,e);const r=GF(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Z1(this.serializer),n.removeTarget=e,this.q_(n)}}class Pq extends dO{constructor(e,n,r,a,s,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,c),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Rt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Rt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Rt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FF(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Z1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>BF(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mq{}class Lq extends Mq{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ve(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,c])=>this.connection.Go(e,X1(n,r),a,s,c))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(Ae.UNKNOWN,s.toString())}))}Ho(e,n,r,a,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,u])=>this.connection.Ho(e,X1(n,r),a,c,u,s))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ve(Ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zq{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(n),this.aa=!1):He("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="RemoteStore";class Uq{constructor(e,n,r,a,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{Ac(this)&&(He(mc,"Restarting streams for network reachability change."),await(async function(h){const f=lt(h);f.Ea.add(4),await Pf(f),f.Ra.set("Unknown"),f.Ea.delete(4),await q0(f)})(this))}))})),this.Ra=new zq(r,a)}}async function q0(t){if(Ac(t))for(const e of t.da)await e(!0)}async function Pf(t){for(const e of t.da)await e(!1)}function hO(t,e){const n=lt(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),L_(n)?M_(n):od(n).O_()&&P_(n,e))}function D_(t,e){const n=lt(t),r=od(n);n.Ia.delete(e),r.O_()&&fO(n,e),n.Ia.size===0&&(r.O_()?r.L_():Ac(n)&&n.Ra.set("Unknown"))}function P_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}od(t).Y_(e)}function fO(t,e){t.Va.Ue(e),od(t).Z_(e)}function M_(t){t.Va=new OF({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),od(t).start(),t.Ra.ua()}function L_(t){return Ac(t)&&!od(t).x_()&&t.Ia.size>0}function Ac(t){return lt(t).Ea.size===0}function mO(t){t.Va=void 0}async function Vq(t){t.Ra.set("Online")}async function Bq(t){t.Ia.forEach(((e,n)=>{P_(t,e)}))}async function Fq(t,e){mO(t),L_(t)?(t.Ra.ha(e),M_(t)):t.Ra.set("Unknown")}async function qq(t,e,n){if(t.Ra.set("Online"),e instanceof ZR&&e.state===2&&e.cause)try{await(async function(a,s){const c=s.cause;for(const u of s.targetIds)a.Ia.has(u)&&(await a.remoteSyncer.rejectListen(u,c),a.Ia.delete(u),a.Va.removeTarget(u))})(t,e)}catch(r){He(mc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cg(t,r)}else if(e instanceof lg?t.Va.Ze(e):e instanceof QR?t.Va.st(e):t.Va.tt(e),!n.isEqual(st.min()))try{const r=await cO(t.localStore);n.compareTo(r)>=0&&await(function(s,c){const u=s.Va.Tt(c);return u.targetChanges.forEach(((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const m=s.Ia.get(f);m&&s.Ia.set(f,m.withResumeToken(h.resumeToken,c))}})),u.targetMismatches.forEach(((h,f)=>{const m=s.Ia.get(h);if(!m)return;s.Ia.set(h,m.withResumeToken(rr.EMPTY_BYTE_STRING,m.snapshotVersion)),fO(s,h);const g=new $o(m.target,h,f,m.sequenceNumber);P_(s,g)})),s.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){He(mc,"Failed to raise snapshot:",r),await Cg(t,r)}}async function Cg(t,e,n){if(!id(e))throw e;t.Ea.add(1),await Pf(t),t.Ra.set("Offline"),n||(n=()=>cO(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{He(mc,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await q0(t)}))}function pO(t,e){return e().catch((n=>Cg(t,n,e)))}async function $0(t){const e=lt(t),n=tl(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:v_;for(;$q(e);)try{const a=await Eq(e.localStore,r);if(a===null){e.Ta.length===0&&n.L_();break}r=a.batchId,Hq(e,a)}catch(a){await Cg(e,a)}gO(e)&&yO(e)}function $q(t){return Ac(t)&&t.Ta.length<10}function Hq(t,e){t.Ta.push(e);const n=tl(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gO(t){return Ac(t)&&!tl(t).x_()&&t.Ta.length>0}function yO(t){tl(t).start()}async function Gq(t){tl(t).ra()}async function Kq(t){const e=tl(t);for(const n of t.Ta)e.ea(n.mutations)}async function Yq(t,e,n){const r=t.Ta.shift(),a=A_.from(r,e,n);await pO(t,(()=>t.remoteSyncer.applySuccessfulWrite(a))),await $0(t)}async function Wq(t,e){e&&tl(t).X_&&await(async function(r,a){if((function(c){return kF(c)&&c!==Ae.ABORTED})(a.code)){const s=r.Ta.shift();tl(r).B_(),await pO(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,a))),await $0(r)}})(t,e),gO(t)&&yO(t)}async function MT(t,e){const n=lt(t);n.asyncQueue.verifyOperationInProgress(),He(mc,"RemoteStore received new credentials");const r=Ac(n);n.Ea.add(3),await Pf(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await q0(n)}async function Xq(t,e){const n=lt(t);e?(n.Ea.delete(2),await q0(n)):e||(n.Ea.add(2),await Pf(n),n.Ra.set("Unknown"))}function od(t){return t.ma||(t.ma=(function(n,r,a){const s=lt(n);return s.sa(),new Dq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:Vq.bind(null,t),t_:Bq.bind(null,t),r_:Fq.bind(null,t),H_:qq.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),L_(t)?M_(t):t.Ra.set("Unknown")):(await t.ma.stop(),mO(t))}))),t.ma}function tl(t){return t.fa||(t.fa=(function(n,r,a){const s=lt(n);return s.sa(),new Pq(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,a)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gq.bind(null,t),r_:Wq.bind(null,t),ta:Kq.bind(null,t),na:Yq.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await $0(t)):(await t.fa.stop(),t.Ta.length>0&&(He(mc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,n,r,a,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=s,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,s){const c=Date.now()+r,u=new z_(e,n,c,a,s);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U_(t,e){if(zs("AsyncQueue",`${e}: ${t}`),id(t))return new Ve(Ae.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{static emptySet(e){return new Iu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ze.comparator(n.key,r.key):(n,r)=>Ze.comparator(n.key,r.key),this.keyedMap=Dh(),this.sortedSet=new on(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,s=r.getNext().key;if(!a.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Iu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.ga=new on(Ze.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):rt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Fu{constructor(e,n,r,a,s,c,u,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,a,s){const c=[];return n.forEach((u=>{c.push({type:0,doc:u})})),new Fu(e,n,Iu.emptySet(n),c,r,a,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&L0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Zq{constructor(){this.queries=zT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=lt(n),s=a.queries;a.queries=zT(),s.forEach(((c,u)=>{for(const h of u.Sa)h.onError(r)}))})(this,new Ve(Ae.ABORTED,"Firestore shutting down"))}}function zT(){return new Sc((t=>MR(t)),L0)}async function xO(t,e){const n=lt(t);let r=3;const a=e.query;let s=n.queries.get(a);s?!s.ba()&&e.Da()&&(r=2):(s=new Qq,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(a,!0);break;case 1:s.wa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(c){const u=U_(c,`Initialization of query '${Nu(e.query)}' failed`);return void e.onError(u)}n.queries.set(a,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&V_(n)}async function vO(t,e){const n=lt(t),r=e.query;let a=3;const s=n.queries.get(r);if(s){const c=s.Sa.indexOf(e);c>=0&&(s.Sa.splice(c,1),s.Sa.length===0?a=e.Da()?0:1:!s.ba()&&e.Da()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Jq(t,e){const n=lt(t);let r=!1;for(const a of e){const s=a.query,c=n.queries.get(s);if(c){for(const u of c.Sa)u.Fa(a)&&(r=!0);c.wa=a}}r&&V_(n)}function e$(t,e,n){const r=lt(t),a=r.queries.get(e);if(a)for(const s of a.Sa)s.onError(n);r.queries.delete(e)}function V_(t){t.Ca.forEach((e=>{e.next()}))}var tw,UT;(UT=tw||(tw={})).Ma="default",UT.Cache="cache";class bO{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Fu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==tw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.key=e}}class _O{constructor(e){this.key=e}}class t${constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=bt(),this.mutatedKeys=bt(),this.eu=LR(e),this.tu=new Iu(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new LT,a=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,c=a,u=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,f=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((m,g)=>{const x=a.get(m),v=z0(this.query,g)?g:null,j=!!x&&this.mutatedKeys.has(x.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;x&&v?x.data.isEqual(v.data)?j!==w&&(r.track({type:3,doc:v}),_=!0):this.su(x,v)||(r.track({type:2,doc:v}),_=!0,(h&&this.eu(v,h)>0||f&&this.eu(v,f)<0)&&(u=!0)):!x&&v?(r.track({type:0,doc:v}),_=!0):x&&!v&&(r.track({type:1,doc:x}),_=!0,(h||f)&&(u=!0)),_&&(v?(c=c.add(v),s=w?s.add(m):s.delete(m)):(c=c.delete(m),s=s.delete(m)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),s=s.delete(m.key),r.track({type:1,doc:m})}return{tu:c,iu:r,Cs:u,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((m,g)=>(function(v,j){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return rt(20277,{Rt:_})}};return w(v)-w(j)})(m.type,g.type)||this.eu(m.doc,g.doc))),this.ou(r),a=a??!1;const u=n&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,f=h!==this.Za;return this.Za=h,c.length!==0||f?{snapshot:new Fu(this.query,e.tu,s,c,e.mutatedKeys,h===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new _O(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new wO(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=bt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const B_="SyncEngine";class n${constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class r${constructor(e){this.key=e,this.hu=!1}}class a${constructor(e,n,r,a,s,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Sc((u=>MR(u)),L0),this.Iu=new Map,this.Eu=new Set,this.du=new on(Ze.comparator),this.Au=new Map,this.Ru=new k_,this.Vu={},this.mu=new Map,this.fu=Bu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i$(t,e,n=!0){const r=TO(t);let a;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.lu()):a=await NO(r,e,n,!0),a}async function s$(t,e){const n=TO(t);await NO(n,e,!0,!1)}async function NO(t,e,n,r){const a=await Sq(t.localStore,Vi(e)),s=a.targetId,c=t.sharedClientState.addLocalQueryTarget(s,n);let u;return r&&(u=await o$(t,e,s,c==="current",a.resumeToken)),t.isPrimaryClient&&n&&hO(t.remoteStore,a),u}async function o$(t,e,n,r,a){t.pu=(g,x,v)=>(async function(w,_,E,S){let C=_.view.ru(E);C.Cs&&(C=await IT(w.localStore,_.query,!1).then((({documents:O})=>_.view.ru(O,C))));const V=S&&S.targetChanges.get(_.targetId),k=S&&S.targetMismatches.get(_.targetId)!=null,$=_.view.applyChanges(C,w.isPrimaryClient,V,k);return BT(w,_.targetId,$.au),$.snapshot})(t,g,x,v);const s=await IT(t.localStore,e,!0),c=new t$(e,s.Qs),u=c.ru(s.documents),h=Df.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),f=c.applyChanges(u,t.isPrimaryClient,h);BT(t,n,f.au);const m=new n$(e,n,c);return t.Tu.set(e,m),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function l$(t,e,n){const r=lt(t),a=r.Tu.get(e),s=r.Iu.get(a.targetId);if(s.length>1)return r.Iu.set(a.targetId,s.filter((c=>!L0(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await J1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),n&&D_(r.remoteStore,a.targetId),nw(r,a.targetId)})).catch(ad)):(nw(r,a.targetId),await J1(r.localStore,a.targetId,!0))}async function c$(t,e){const n=lt(t),r=n.Tu.get(e),a=n.Iu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),D_(n.remoteStore,r.targetId))}async function u$(t,e,n){const r=y$(t);try{const a=await(function(c,u){const h=lt(c),f=Xt.now(),m=u.reduce(((v,j)=>v.add(j.key)),bt());let g,x;return h.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let j=Us(),w=bt();return h.Ns.getEntries(v,m).next((_=>{j=_,j.forEach(((E,S)=>{S.isValidDocument()||(w=w.add(E))}))})).next((()=>h.localDocuments.getOverlayedDocuments(v,j))).next((_=>{g=_;const E=[];for(const S of u){const C=EF(S,g.get(S.key).overlayedDocument);C!=null&&E.push(new sl(S.key,C,TR(C.value.mapValue),Ia.exists(!0)))}return h.mutationQueue.addMutationBatch(v,f,E,u)})).next((_=>{x=_;const E=_.applyToLocalDocumentSet(g,w);return h.documentOverlayCache.saveOverlays(v,_.batchId,E)}))})).then((()=>({batchId:x.batchId,changes:UR(g)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,u,h){let f=c.Vu[c.currentUser.toKey()];f||(f=new on(vt)),f=f.insert(u,h),c.Vu[c.currentUser.toKey()]=f})(r,a.batchId,n),await Mf(r,a.changes),await $0(r.remoteStore)}catch(a){const s=U_(a,"Failed to persist write");n.reject(s)}}async function jO(t,e){const n=lt(t);try{const r=await Nq(n.localStore,e);e.targetChanges.forEach(((a,s)=>{const c=n.Au.get(s);c&&(Rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Rt(c.hu,14607):a.removedDocuments.size>0&&(Rt(c.hu,42227),c.hu=!1))})),await Mf(n,r,e)}catch(r){await ad(r)}}function VT(t,e,n){const r=lt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.Tu.forEach(((s,c)=>{const u=c.view.va(e);u.snapshot&&a.push(u.snapshot)})),(function(c,u){const h=lt(c);h.onlineState=u;let f=!1;h.queries.forEach(((m,g)=>{for(const x of g.Sa)x.va(u)&&(f=!0)})),f&&V_(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function d$(t,e,n){const r=lt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Au.get(e),s=a&&a.key;if(s){let c=new on(Ze.comparator);c=c.insert(s,ur.newNoDocument(s,st.min()));const u=bt().add(s),h=new B0(st.min(),new Map,new on(vt),c,u);await jO(r,h),r.du=r.du.remove(s),r.Au.delete(e),F_(r)}else await J1(r.localStore,e,!1).then((()=>nw(r,e,n))).catch(ad)}async function h$(t,e){const n=lt(t),r=e.batch.batchId;try{const a=await _q(n.localStore,e);SO(n,r,null),EO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mf(n,a)}catch(a){await ad(a)}}async function f$(t,e,n){const r=lt(t);try{const a=await(function(c,u){const h=lt(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let m;return h.mutationQueue.lookupMutationBatch(f,u).next((g=>(Rt(g!==null,37113),m=g.keys(),h.mutationQueue.removeMutationBatch(f,g)))).next((()=>h.mutationQueue.performConsistencyCheck(f))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(f,m,u))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m))).next((()=>h.localDocuments.getDocuments(f,m)))}))})(r.localStore,e);SO(r,e,n),EO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mf(r,a)}catch(a){await ad(a)}}function EO(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function SO(t,e,n){const r=lt(t);let a=r.Vu[r.currentUser.toKey()];if(a){const s=a.get(e);s&&(n?s.reject(n):s.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function nw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||AO(t,r)}))}function AO(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(D_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),F_(t))}function BT(t,e,n){for(const r of n)r instanceof wO?(t.Ru.addReference(r.key,e),m$(t,r)):r instanceof _O?(He(B_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||AO(t,r.key)):rt(19791,{wu:r})}function m$(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(He(B_,"New document in limbo: "+n),t.Eu.add(r),F_(t))}function F_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Ze(Gt.fromString(e)),r=t.fu.next();t.Au.set(r,new r$(n)),t.du=t.du.insert(n,r),hO(t.remoteStore,new $o(Vi(j_(n.path)),r,"TargetPurposeLimboResolution",D0.ce))}}async function Mf(t,e,n){const r=lt(t),a=[],s=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,h)=>{c.push(r.pu(h,e,n).then((f=>{if((f||n)&&r.isPrimaryClient){const m=f?!f.fromCache:n?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,m?"current":"not-current")}if(f){a.push(f);const m=R_.As(h.targetId,f);s.push(m)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,f){const m=lt(h);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",(g=>ke.forEach(f,(x=>ke.forEach(x.Es,(v=>m.persistence.referenceDelegate.addReference(g,x.targetId,v))).next((()=>ke.forEach(x.ds,(v=>m.persistence.referenceDelegate.removeReference(g,x.targetId,v)))))))))}catch(g){if(!id(g))throw g;He(O_,"Failed to update sequence numbers: "+g)}for(const g of f){const x=g.targetId;if(!g.fromCache){const v=m.Ms.get(x),j=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(j);m.Ms=m.Ms.insert(x,w)}}})(r.localStore,s))}async function p$(t,e){const n=lt(t);if(!n.currentUser.isEqual(e)){He(B_,"User change. New user:",e.toKey());const r=await lO(n.localStore,e);n.currentUser=e,(function(s,c){s.mu.forEach((u=>{u.forEach((h=>{h.reject(new Ve(Ae.CANCELLED,c))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mf(n,r.Ls)}}function g$(t,e){const n=lt(t),r=n.Au.get(e);if(r&&r.hu)return bt().add(r.key);{let a=bt();const s=n.Iu.get(e);if(!s)return a;for(const c of s){const u=n.Tu.get(c);a=a.unionWith(u.view.nu)}return a}}function TO(t){const e=lt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=jO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=g$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d$.bind(null,e),e.Pu.H_=Jq.bind(null,e.eventManager),e.Pu.yu=e$.bind(null,e.eventManager),e}function y$(t){const e=lt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f$.bind(null,e),e}class kg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=F0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wq(this.persistence,new xq,e.initialUser,this.serializer)}Cu(e){return new oO(I_.mi,this.serializer)}Du(e){return new Tq}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kg.provider={build:()=>new kg};class x$ extends kg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Rt(this.persistence.referenceDelegate instanceof Tg,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rq(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new oO((r=>Tg.mi(r,n)),this.serializer)}}class rw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>VT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=p$.bind(null,this.syncEngine),await Xq(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Zq})()}createDatastore(e){const n=F0(e.databaseInfo.databaseId),r=(function(s){return new Oq(s)})(e.databaseInfo);return(function(s,c,u,h){return new Lq(s,c,u,h)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,a,s,c,u){return new Uq(r,a,s,c,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>VT(this.syncEngine,n,0)),(function(){return DT.v()?new DT:new Cq})())}createSyncEngine(e,n){return(function(a,s,c,u,h,f,m){const g=new a$(a,s,c,u,h,f);return m&&(g.gu=!0),g})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=lt(n);He(mc,"RemoteStore shutting down."),r.Ea.add(5),await Pf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rw.provider={build:()=>new rw};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl="FirestoreClient";class v${constructor(e,n,r,a,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=cr.UNAUTHENTICATED,this.clientId=x_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async c=>{He(nl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(He(nl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=U_(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gv(t,e){t.asyncQueue.verifyOperationInProgress(),He(nl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async a=>{r.isEqual(a)||(await lO(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function FT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await b$(t);He(nl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>MT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,a)=>MT(e.remoteStore,a))),t._onlineComponents=e}async function b$(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He(nl,"Using user provided OfflineComponentProvider");try{await Gv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ae.FAILED_PRECONDITION||a.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(n))throw n;Lu("Error using user provided cache. Falling back to memory cache: "+n),await Gv(t,new kg)}}else He(nl,"Using default OfflineComponentProvider"),await Gv(t,new x$(void 0));return t._offlineComponents}async function kO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He(nl,"Using user provided OnlineComponentProvider"),await FT(t,t._uninitializedComponentsProvider._online)):(He(nl,"Using default OnlineComponentProvider"),await FT(t,new rw))),t._onlineComponents}function w$(t){return kO(t).then((e=>e.syncEngine))}async function IO(t){const e=await kO(t),n=e.eventManager;return n.onListen=i$.bind(null,e.syncEngine),n.onUnlisten=l$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=c$.bind(null,e.syncEngine),n}function _$(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,h,f){const m=new CO({next:x=>{m.Nu(),c.enqueueAndForget((()=>vO(s,g)));const v=x.docs.has(u);!v&&x.fromCache?f.reject(new Ve(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&x.fromCache&&h&&h.source==="server"?f.reject(new Ve(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(x)},error:x=>f.reject(x)}),g=new bO(j_(u.path),m,{includeMetadataChanges:!0,qa:!0});return xO(s,g)})(await IO(t),t.asyncQueue,e,n,r))),r.promise}function N$(t,e,n={}){const r=new ks;return t.asyncQueue.enqueueAndForget((async()=>(function(s,c,u,h,f){const m=new CO({next:x=>{m.Nu(),c.enqueueAndForget((()=>vO(s,g))),x.fromCache&&h.source==="server"?f.reject(new Ve(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(x)},error:x=>f.reject(x)}),g=new bO(u,m,{includeMetadataChanges:!0,qa:!0});return xO(s,g)})(await IO(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="firestore.googleapis.com",$T=!0;class HT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OO,this.ssl=$T}else this.host=e.host,this.ssl=e.ssl??$T;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tq)throw new Ve(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RO(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class H0{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ve(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new kB;switch(r.type){case"firstParty":return new DB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ve(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=qT.get(n);r&&(He("ComponentProvider","Removing Datastore"),qT.delete(n),r.terminate())})(this),Promise.resolve()}}function j$(t,e,n,r={}){t=li(t,H0);const a=Zi(e),s=t._getSettings(),c={...s,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;a&&(A0(`https://${u}`),T0("Firestore",!0)),s.host!==OO&&s.host!==u&&Lu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...s,host:u,ssl:a,emulatorOptions:r};if(!Xo(h,c)&&(t._setSettings(h),r.mockUserToken)){let f,m;if(typeof r.mockUserToken=="string")f=r.mockUserToken,m=cr.MOCK_USER;else{f=x6(r.mockUserToken,t._app?.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Ve(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new cr(g)}t._authCredentials=new IB(new gR(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ol(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}toJSON(){return{type:yn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Rf(n,yn._jsonSchema))return new yn(e,r||null,new Ze(Gt.fromString(n.referencePath)))}}yn._jsonSchemaVersion="firestore/documentReference/1.0",yn._jsonSchema={type:An("string",yn._jsonSchemaVersion),referencePath:An("string")};class Yo extends ol{constructor(e,n,r){super(e,n,j_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new Ze(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function Ra(t,e,...n){if(t=kt(t),yR("collection","path",e),t instanceof H0){const r=Gt.fromString(e,...n);return aT(r),new Yo(t,null,r)}{if(!(t instanceof yn||t instanceof Yo))throw new Ve(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return aT(r),new Yo(t.firestore,null,r)}}function On(t,e,...n){if(t=kt(t),arguments.length===1&&(e=x_.newId()),yR("doc","path",e),t instanceof H0){const r=Gt.fromString(e,...n);return rT(r),new yn(t,null,new Ze(r))}{if(!(t instanceof yn||t instanceof Yo))throw new Ve(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return rT(r),new yn(t.firestore,t instanceof Yo?t.converter:null,new Ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="AsyncQueue";class KT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uO(this,"async_queue_retry"),this._c=()=>{const r=Hv();r&&He(GT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!id(e))throw e;He(GT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",YT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const a=z_.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(a),a}uc(){this.nc&&rt(47125,{Pc:YT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Tc extends H0{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new KT,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new KT(e),this._firestoreClient=void 0,await e}}}function E$(t,e){const n=typeof t=="object"?t:Af(),r=typeof t=="string"?t:Ng,a=Hs(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const s=i_("firestore");s&&j$(a,...s)}return a}function q_(t){if(t._terminated)throw new Ve(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||S$(t),t._firestoreClient}function S$(t){const e=t._freezeSettings(),n=(function(a,s,c,u){return new QB(a,s,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,RO(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new v$(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(a){const s=a?._online.build();return{_offline:a?._offline.build(s),_online:s}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ta(rr.fromBase64String(e))}catch(n){throw new Ve(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ta(rr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ta._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rf(e,Ta._jsonSchema))return Ta.fromBase64String(e.bytes)}}Ta._jsonSchemaVersion="firestore/bytes/1.0",Ta._jsonSchema={type:An("string",Ta._jsonSchemaVersion),bytes:An("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ve(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(e){if(Rf(e,Fi._jsonSchema))return new Fi(e.latitude,e.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:An("string",Fi._jsonSchemaVersion),latitude:An("number"),longitude:An("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==a[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rf(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new Ve(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:An("string",qi._jsonSchemaVersion),vectorValues:An("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A$=/^__.*__$/;class T${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new sl(e,this.data,this.fieldMask,n,this.fieldTransforms):new Of(e,this.data,n,this.fieldTransforms)}}class DO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new sl(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function PO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw rt(40011,{Ac:t})}}class $_{constructor(e,n,r,a,s,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new $_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ig(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(PO(this.Ac)&&A$.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class C${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||F0(e)}Cc(e,n,r,a=!1){return new $_({Ac:e,methodName:n,Dc:r,path:tr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K0(t){const e=t._freezeSettings(),n=F0(t._databaseId);return new C$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MO(t,e,n,r,a,s={}){const c=t.Cc(s.merge||s.mergeFields?2:0,e,n,a);K_("Data must be an object, but it was:",c,r);const u=LO(r,c);let h,f;if(s.merge)h=new aa(c.fieldMask),f=c.fieldTransforms;else if(s.mergeFields){const m=[];for(const g of s.mergeFields){const x=aw(e,g,n);if(!c.contains(x))throw new Ve(Ae.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);UO(m,x)||m.push(x)}h=new aa(m),f=c.fieldTransforms.filter((g=>h.covers(g.field)))}else h=null,f=c.fieldTransforms;return new T$(new zr(u),h,f)}class Y0 extends Lf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Y0}}class H_ extends Lf{_toFieldTransform(e){return new KR(e.path,new sf)}isEqual(e){return e instanceof H_}}class G_ extends Lf{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new cf(e.serializer,FR(e.serializer,this.Fc));return new KR(e.path,n)}isEqual(e){return e instanceof G_&&this.Fc===e.Fc}}function k$(t,e,n,r){const a=t.Cc(1,e,n);K_("Data must be an object, but it was:",a,r);const s=[],c=zr.empty();il(r,((h,f)=>{const m=Y_(e,h,n);f=kt(f);const g=a.yc(m);if(f instanceof Y0)s.push(m);else{const x=zf(f,g);x!=null&&(s.push(m),c.set(m,x))}}));const u=new aa(s);return new DO(c,u,a.fieldTransforms)}function I$(t,e,n,r,a,s){const c=t.Cc(1,e,n),u=[aw(e,r,n)],h=[a];if(s.length%2!=0)throw new Ve(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<s.length;x+=2)u.push(aw(e,s[x])),h.push(s[x+1]);const f=[],m=zr.empty();for(let x=u.length-1;x>=0;--x)if(!UO(f,u[x])){const v=u[x];let j=h[x];j=kt(j);const w=c.yc(v);if(j instanceof Y0)f.push(v);else{const _=zf(j,w);_!=null&&(f.push(v),m.set(v,_))}}const g=new aa(f);return new DO(m,g,c.fieldTransforms)}function R$(t,e,n,r=!1){return zf(n,t.Cc(r?4:3,e))}function zf(t,e){if(zO(t=kt(t)))return K_("Unsupported field value:",e,t),LO(t,e);if(t instanceof Lf)return(function(r,a){if(!PO(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(a);s&&a.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const s=[];let c=0;for(const u of r){let h=zf(u,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),c++}return{arrayValue:{values:s}}})(t,e)}return(function(r,a){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FR(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Xt.fromDate(r);return{timestampValue:Ag(a.serializer,s)}}if(r instanceof Xt){const s=new Xt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ag(a.serializer,s)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ta)return{bytesValue:JR(a.serializer,r._byteString)};if(r instanceof yn){const s=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(s))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:C_(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof qi)return(function(c,u){return{mapValue:{fields:{[SR]:{stringValue:AR},[jg]:{arrayValue:{values:c.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return E_(u.serializer,f)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${O0(r)}`)})(t,e)}function LO(t,e){const n={};return bR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):il(t,((r,a)=>{const s=zf(a,e.mc(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function zO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xt||t instanceof Fi||t instanceof Ta||t instanceof yn||t instanceof Lf||t instanceof qi)}function K_(t,e,n){if(!zO(n)||!xR(n)){const r=O0(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function aw(t,e,n){if((e=kt(e))instanceof G0)return e._internalPath;if(typeof e=="string")return Y_(t,e);throw Ig("Field path arguments must be of type string or ",t,!1,void 0,n)}const O$=new RegExp("[~\\*/\\[\\]]");function Y_(t,e,n){if(e.search(O$)>=0)throw Ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new G0(...e.split("."))._internalPath}catch{throw Ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ig(t,e,n,r,a){const s=r&&!r.isEmpty(),c=a!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(s||c)&&(h+=" (found",s&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new Ve(Ae.INVALID_ARGUMENT,u+t+h)}function UO(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,r,a,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(W0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D$ extends VO{data(){return super.data()}}function W0(t,e){return typeof e=="string"?Y_(t,e):e instanceof G0?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ve(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class W_{}class X_ extends W_{}function $i(t,e,...n){let r=[];e instanceof W_&&r.push(e),r=r.concat(n),(function(s){const c=s.filter((h=>h instanceof Q_)).length,u=s.filter((h=>h instanceof X0)).length;if(c>1||c>0&&u>0)throw new Ve(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const a of r)t=a._apply(t);return t}class X0 extends X_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new X0(e,n,r)}_apply(e){const n=this._parse(e);return BO(e._query,n),new ol(e.firestore,e.converter,Y1(e._query,n))}_parse(e){const n=K0(e.firestore);return(function(s,c,u,h,f,m,g){let x;if(f.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ve(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){XT(g,m);const j=[];for(const w of g)j.push(WT(h,s,w));x={arrayValue:{values:j}}}else x=WT(h,s,g)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||XT(g,m),x=R$(u,c,g,m==="in"||m==="not-in");return Sn.create(f,m,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function br(t,e,n){const r=e,a=W0("where",t);return X0._create(a,r,n)}class Q_ extends W_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Q_(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(a,s){let c=a;const u=s.getFlattenedFilters();for(const h of u)BO(c,h),c=Y1(c,h)})(e._query,n),new ol(e.firestore,e.converter,Y1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Z_ extends X_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Z_(e,n)}_apply(e){const n=(function(a,s,c){if(a.startAt!==null)throw new Ve(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ve(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new af(s,c)})(e._query,this._field,this._direction);return new ol(e.firestore,e.converter,(function(a,s){const c=a.explicitOrderBy.concat([s]);return new sd(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(e._query,n))}}function Rg(t,e="asc"){const n=e,r=W0("orderBy",t);return Z_._create(r,n)}class J_ extends X_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new J_(e,n,r)}_apply(e){return new ol(e.firestore,e.converter,Sg(e._query,this._limit,this._limitType))}}function M$(t){return J_._create("limit",t,"F")}function WT(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new Ve(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!PR(e)&&n.indexOf("/")!==-1)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!Ze.isDocumentKey(r))throw new Ve(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return hT(t,new Ze(r))}if(n instanceof yn)return hT(t,n._key);throw new Ve(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${O0(n)}.`)}function XT(t,e){if(!Array.isArray(t)||t.length===0)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function BO(t,e){const n=(function(a,s){for(const c of a)for(const u of c.getFlattenedFilters())if(s.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ve(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ve(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L${convertValue(e,n="none"){switch(el(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw rt(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return il(e,((a,s)=>{r[a]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[jg].arrayValue?.values?.map((r=>gn(r.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Fi(gn(e.latitude),gn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=M0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tf(e));default:return null}}convertTimestamp(e){const n=Zo(e);return new Xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Rt(iO(r),9688,{name:e});const a=new nf(r.get(1),r.get(3)),s=new Ze(r.popFirst(5));return a.isEqual(n)||zs(`Document ${s} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Mh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rc extends VO{constructor(e,n,r,a,s,c){super(e,n,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new cg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(W0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=rc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}rc._jsonSchemaVersion="firestore/documentSnapshot/1.0",rc._jsonSchema={type:An("string",rc._jsonSchemaVersion),bundleSource:An("string","DocumentSnapshot"),bundleName:An("string"),bundle:An("string")};class cg extends rc{data(e={}){return super.data(e)}}class Ru{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Mh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new cg(this._firestore,this._userDataWriter,r.key,r,new Mh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ve(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(a,s){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((u=>{const h=new cg(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Mh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((u=>s||u.type!==3)).map((u=>{const h=new cg(a._firestore,a._userDataWriter,u.doc.key,u.doc,new Mh(a._snapshot.mutatedKeys.has(u.doc.key),a._snapshot.fromCache),a.query.converter);let f=-1,m=-1;return u.type!==0&&(f=c.indexOf(u.doc.key),c=c.delete(u.doc.key)),u.type!==1&&(c=c.add(u.doc),m=c.indexOf(u.doc.key)),{type:z$(u.type),doc:h,oldIndex:f,newIndex:m}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ru._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=x_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],a=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),a.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return rt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(t){t=li(t,yn);const e=li(t.firestore,Tc);return _$(q_(e),t._key).then((n=>V$(e,t,n)))}Ru._jsonSchemaVersion="firestore/querySnapshot/1.0",Ru._jsonSchema={type:An("string",Ru._jsonSchemaVersion),bundleSource:An("string","QuerySnapshot"),bundleName:An("string"),bundle:An("string")};class qO extends L${constructor(e){super(),this.firestore=e}convertBytes(e){return new Ta(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function Hi(t){t=li(t,ol);const e=li(t.firestore,Tc),n=q_(e),r=new qO(e);return P$(t._query),N$(n,t._query).then((a=>new Ru(e,r,t,a)))}function Lh(t,e,n){t=li(t,yn);const r=li(t.firestore,Tc),a=FO(t.converter,e,n);return Q0(r,[MO(K0(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ia.none())])}function qu(t,e,n,...r){t=li(t,yn);const a=li(t.firestore,Tc),s=K0(a);let c;return c=typeof(e=kt(e))=="string"||e instanceof G0?I$(s,"updateDoc",t._key,e,n,r):k$(s,"updateDoc",t._key,e),Q0(a,[c.toMutation(t._key,Ia.exists(!0))])}function U$(t){return Q0(li(t.firestore,Tc),[new S_(t._key,Ia.none())])}function $O(t,e){const n=li(t.firestore,Tc),r=On(t),a=FO(t.converter,e);return Q0(n,[MO(K0(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Ia.exists(!1))]).then((()=>r))}function Q0(t,e){return(function(r,a){const s=new ks;return r.asyncQueue.enqueueAndForget((async()=>u$(await w$(r),a,s))),s.promise})(q_(t),e)}function V$(t,e,n){const r=n.docs.get(e._key),a=new qO(t);return new rc(t,a,e._key,r,new Mh(n.hasPendingWrites,n.fromCache),e.converter)}function B$(){return new H_("serverTimestamp")}function QT(t){return new G_("increment",t)}(function(e,n=!0){(function(a){rd=a})(Ec),Pa(new ca("firestore",((r,{instanceIdentifier:a,options:s})=>{const c=r.getProvider("app").getImmediate(),u=new Tc(new RB(r.getProvider("auth-internal")),new PB(c,r.getProvider("app-check-internal")),(function(f,m){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new Ve(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nf(f.options.projectId,m)})(c,a),c);return s={useFetchStreams:n,...s},u._setSettings(s),u}),"PUBLIC").setMultipleInstances(!0)),mr(JA,eT,e),mr(JA,eT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$="type.googleapis.com/google.protobuf.Int64Value",q$="type.googleapis.com/google.protobuf.UInt64Value";function HO(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Og(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Og(e));if(typeof t=="function"||typeof t=="object")return HO(t,e=>Og(e));throw new Error("Data cannot be encoded in JSON: "+t)}function $u(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case F$:case q$:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>$u(e)):typeof t=="function"||typeof t=="object"?HO(t,e=>$u(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Vr extends da{constructor(e,n,r){super(`${e2}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Vr.prototype)}}function $$(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Dg(t,e){let n=$$(t),r=n,a;try{const s=e&&e.error;if(s){const c=s.status;if(typeof c=="string"){if(!ZT[c])return new Vr("internal","internal");n=ZT[c],r=c}const u=s.message;typeof u=="string"&&(r=u),a=s.details,a!==void 0&&(a=$u(a))}}catch{}return n==="ok"?null:new Vr(n,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(e,n,r,a){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,hr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||a?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),a=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:a}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="us-central1",G$=/^data: (.*?)(?:\n|$)/;function K$(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Vr("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class Y${constructor(e,n,r,a,s=iw,c=(...u)=>fetch(...u)){this.app=e,this.fetchImpl=c,this.emulatorOrigin=null,this.contextProvider=new H$(e,n,r,a),this.cancelAllRequests=new Promise(u=>{this.deleteService=()=>Promise.resolve(u())});try{const u=new URL(s);this.customDomain=u.origin+(u.pathname==="/"?"":u.pathname),this.region=iw}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function W$(t,e,n){const r=Zi(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(A0(t.emulatorOrigin+"/backends"),T0("Functions",!0))}function X$(t,e,n){const r=a=>Z$(t,e,a,{});return r.stream=(a,s)=>eH(t,e,a,s),r}function GO(t){return t.emulatorOrigin&&Zi(t.emulatorOrigin)?"include":void 0}async function Q$(t,e,n,r,a){n["Content-Type"]="application/json";let s;try{s=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:GO(a)})}catch{return{status:0,json:null}}let c=null;try{c=await s.json()}catch{}return{status:s.status,json:c}}async function KO(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function Z$(t,e,n,r){const a=t._url(e);return J$(t,a,n,r)}async function J$(t,e,n,r){n=Og(n);const a={data:n},s=await KO(t,r),c=r.timeout||7e4,u=K$(c),h=await Promise.race([Q$(e,a,s,t.fetchImpl,t),u.promise,t.cancelAllRequests]);if(u.cancel(),!h)throw new Vr("cancelled","Firebase Functions instance was deleted.");const f=Dg(h.status,h.json);if(f)throw f;if(!h.json)throw new Vr("internal","Response is not valid JSON object.");let m=h.json.data;if(typeof m>"u"&&(m=h.json.result),typeof m>"u")throw new Vr("internal","Response is missing data field.");return{data:$u(m)}}function eH(t,e,n,r){const a=t._url(e);return tH(t,a,n,r||{})}async function tH(t,e,n,r){n=Og(n);const a={data:n},s=await KO(t,r);s["Content-Type"]="application/json",s.Accept="text/event-stream";let c;try{c=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(a),headers:s,signal:r?.signal,credentials:GO(t)})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const j=new Vr("cancelled","Request was cancelled.");return{data:Promise.reject(j),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(j)}}}}}}const v=Dg(0,null);return{data:Promise.reject(v),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(v)}}}}}}let u,h;const f=new Promise((x,v)=>{u=x,h=v});r?.signal?.addEventListener("abort",()=>{const x=new Vr("cancelled","Request was cancelled.");h(x)});const m=c.body.getReader(),g=nH(m,u,h,r?.signal);return{stream:{[Symbol.asyncIterator](){const x=g.getReader();return{async next(){const{value:v,done:j}=await x.read();return{value:v,done:j}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:f}}function nH(t,e,n,r){const a=(c,u)=>{const h=c.match(G$);if(!h)return;const f=h[1];try{const m=JSON.parse(f);if("result"in m){e($u(m.result));return}if("message"in m){u.enqueue($u(m.message));return}if("error"in m){const g=Dg(0,m);u.error(g),n(g);return}}catch(m){if(m instanceof Vr){u.error(m),n(m);return}}},s=new TextDecoder;return new ReadableStream({start(c){let u="";return h();async function h(){if(r?.aborted){const f=new Vr("cancelled","Request was cancelled");return c.error(f),n(f),Promise.resolve()}try{const{value:f,done:m}=await t.read();if(m){u.trim()&&a(u.trim(),c),c.close();return}if(r?.aborted){const x=new Vr("cancelled","Request was cancelled");c.error(x),n(x),await t.cancel();return}u+=s.decode(f,{stream:!0});const g=u.split(`
`);u=g.pop()||"";for(const x of g)x.trim()&&a(x.trim(),c);return h()}catch(f){const m=f instanceof Vr?f:Dg(0,null);c.error(m),n(m)}}},cancel(){return t.cancel()}})}const JT="@firebase/functions",eC="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rH="auth-internal",aH="app-check-internal",iH="messaging-internal";function sH(t){const e=(n,{instanceIdentifier:r})=>{const a=n.getProvider("app").getImmediate(),s=n.getProvider(rH),c=n.getProvider(iH),u=n.getProvider(aH);return new Y$(a,s,c,u,r)};Pa(new ca(e2,e,"PUBLIC").setMultipleInstances(!0)),mr(JT,eC,t),mr(JT,eC,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t=Af(),e=iw){const r=Hs(kt(t),e2).getImmediate({identifier:e}),a=i_("functions");return a&&oH(r,...a),r}function oH(t,e,n){W$(kt(t),e,n)}function _t(t,e,n){return X$(kt(t),e)}sH();var lH="firebase",cH="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(lH,cH,"app");const YO="@firebase/installations",t2="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO=1e4,XO=`w:${t2}`,QO="FIS_v2",uH="https://firebaseinstallations.googleapis.com/v1",dH=3600*1e3,hH="installations",fH="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},gc=new jc(hH,fH,mH);function ZO(t){return t instanceof da&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO({projectId:t}){return`${uH}/projects/${t}/installations`}function e4(t){return{token:t.token,requestStatus:2,expiresIn:gH(t.expiresIn),creationTime:Date.now()}}async function t4(t,e){const r=(await e.json()).error;return gc.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function n4({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function pH(t,{refreshToken:e}){const n=n4(t);return n.append("Authorization",yH(e)),n}async function r4(t){const e=await t();return e.status>=500&&e.status<600?t():e}function gH(t){return Number(t.replace("s","000"))}function yH(t){return`${QO} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xH({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=JO(t),a=n4(t),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={fid:n,authVersion:QO,appId:t.appId,sdkVersion:XO},u={method:"POST",headers:a,body:JSON.stringify(c)},h=await r4(()=>fetch(r,u));if(h.ok){const f=await h.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:e4(f.authToken)}}else throw await t4("Create Installation",h)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH=/^[cdef][\w-]{21}$/,sw="";function wH(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=_H(t);return bH.test(n)?n:sw}catch{return sw}}function _H(t){return vH(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4=new Map;function s4(t,e){const n=Z0(t);o4(n,e),NH(n,e)}function o4(t,e){const n=i4.get(t);if(n)for(const r of n)r(e)}function NH(t,e){const n=jH();n&&n.postMessage({key:t,fid:e}),EH()}let Wl=null;function jH(){return!Wl&&"BroadcastChannel"in self&&(Wl=new BroadcastChannel("[Firebase] FID Change"),Wl.onmessage=t=>{o4(t.data.key,t.data.fid)}),Wl}function EH(){i4.size===0&&Wl&&(Wl.close(),Wl=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH="firebase-installations-database",AH=1,yc="firebase-installations-store";let Kv=null;function n2(){return Kv||(Kv=j6(SH,AH,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(yc)}}})),Kv}async function Pg(t,e){const n=Z0(t),a=(await n2()).transaction(yc,"readwrite"),s=a.objectStore(yc),c=await s.get(n);return await s.put(e,n),await a.done,(!c||c.fid!==e.fid)&&s4(t,e.fid),e}async function l4(t){const e=Z0(t),r=(await n2()).transaction(yc,"readwrite");await r.objectStore(yc).delete(e),await r.done}async function J0(t,e){const n=Z0(t),a=(await n2()).transaction(yc,"readwrite"),s=a.objectStore(yc),c=await s.get(n),u=e(c);return u===void 0?await s.delete(n):await s.put(u,n),await a.done,u&&(!c||c.fid!==u.fid)&&s4(t,u.fid),u}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(t){let e;const n=await J0(t.appConfig,r=>{const a=TH(r),s=CH(t,a);return e=s.registrationPromise,s.installationEntry});return n.fid===sw?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function TH(t){const e=t||{fid:wH(),registrationStatus:0};return c4(e)}function CH(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(gc.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=kH(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:IH(t)}:{installationEntry:e}}async function kH(t,e){try{const n=await xH(t,e);return Pg(t.appConfig,n)}catch(n){throw ZO(n)&&n.customData.serverCode===409?await l4(t.appConfig):await Pg(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function IH(t){let e=await tC(t.appConfig);for(;e.registrationStatus===1;)await a4(100),e=await tC(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await r2(t);return r||n}return e}function tC(t){return J0(t,e=>{if(!e)throw gc.create("installation-not-found");return c4(e)})}function c4(t){return RH(t)?{fid:t.fid,registrationStatus:0}:t}function RH(t){return t.registrationStatus===1&&t.registrationTime+WO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OH({appConfig:t,heartbeatServiceProvider:e},n){const r=DH(t,n),a=pH(t,n),s=e.getImmediate({optional:!0});if(s){const f=await s.getHeartbeatsHeader();f&&a.append("x-firebase-client",f)}const c={installation:{sdkVersion:XO,appId:t.appId}},u={method:"POST",headers:a,body:JSON.stringify(c)},h=await r4(()=>fetch(r,u));if(h.ok){const f=await h.json();return e4(f)}else throw await t4("Generate Auth Token",h)}function DH(t,{fid:e}){return`${JO(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2(t,e=!1){let n;const r=await J0(t.appConfig,s=>{if(!u4(s))throw gc.create("not-registered");const c=s.authToken;if(!e&&LH(c))return s;if(c.requestStatus===1)return n=PH(t,e),s;{if(!navigator.onLine)throw gc.create("app-offline");const u=UH(s);return n=MH(t,u),u}});return n?await n:r.authToken}async function PH(t,e){let n=await nC(t.appConfig);for(;n.authToken.requestStatus===1;)await a4(100),n=await nC(t.appConfig);const r=n.authToken;return r.requestStatus===0?a2(t,e):r}function nC(t){return J0(t,e=>{if(!u4(e))throw gc.create("not-registered");const n=e.authToken;return VH(n)?{...e,authToken:{requestStatus:0}}:e})}async function MH(t,e){try{const n=await OH(t,e),r={...e,authToken:n};return await Pg(t.appConfig,r),n}catch(n){if(ZO(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await l4(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Pg(t.appConfig,r)}throw n}}function u4(t){return t!==void 0&&t.registrationStatus===2}function LH(t){return t.requestStatus===2&&!zH(t)}function zH(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dH}function UH(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function VH(t){return t.requestStatus===1&&t.requestTime+WO<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BH(t){const e=t,{installationEntry:n,registrationPromise:r}=await r2(e);return r?r.catch(console.error):a2(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FH(t,e=!1){const n=t;return await qH(n),(await a2(n,e)).token}async function qH(t){const{registrationPromise:e}=await r2(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(t){if(!t||!t.options)throw Yv("App Configuration");if(!t.name)throw Yv("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Yv(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yv(t){return gc.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4="installations",HH="installations-internal",GH=t=>{const e=t.getProvider("app").getImmediate(),n=$H(e),r=Hs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},KH=t=>{const e=t.getProvider("app").getImmediate(),n=Hs(e,d4).getImmediate();return{getId:()=>BH(n),getToken:a=>FH(n,a)}};function YH(){Pa(new ca(d4,GH,"PUBLIC")),Pa(new ca(HH,KH,"PRIVATE"))}YH();mr(YO,t2);mr(YO,t2,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="analytics",WH="firebase_id",XH="origin",QH=60*1e3,ZH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",i2="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new C0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},oa=new jc("analytics","Analytics",JH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eG(t){if(!t.startsWith(i2)){const e=oa.create("invalid-gtag-resource",{gtagURL:t});return Er.warn(e.message),""}return t}function h4(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function tG(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function nG(t,e){const n=tG("firebase-js-sdk-policy",{createScriptURL:eG}),r=document.createElement("script"),a=`${i2}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function rG(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function aG(t,e,n,r,a,s){const c=r[a];try{if(c)await e[c];else{const h=(await h4(n)).find(f=>f.measurementId===a);h&&await e[h.appId]}}catch(u){Er.error(u)}t("config",a,s)}async function iG(t,e,n,r,a){try{let s=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const u=await h4(n);for(const h of c){const f=u.find(g=>g.measurementId===h),m=f&&e[f.appId];if(m)s.push(m);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,a||{})}catch(s){Er.error(s)}}function sG(t,e,n,r){async function a(s,...c){try{if(s==="event"){const[u,h]=c;await iG(t,e,n,u,h)}else if(s==="config"){const[u,h]=c;await aG(t,e,n,r,u,h)}else if(s==="consent"){const[u,h]=c;t("consent",u,h)}else if(s==="get"){const[u,h,f]=c;t("get",u,h,f)}else if(s==="set"){const[u]=c;t("set",u)}else t(s,...c)}catch(u){Er.error(u)}}return a}function oG(t,e,n,r,a){let s=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(s=window[a]),window[a]=sG(s,t,e,n),{gtagCore:s,wrappedGtag:window[a]}}function lG(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(i2)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=30,uG=1e3;class dG{constructor(e={},n=uG){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const f4=new dG;function hG(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function fG(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:hG(n)},a=ZH.replace("{app-id}",e),s=await fetch(a,r);if(s.status!==200&&s.status!==304){let c="";try{const u=await s.json();u.error?.message&&(c=u.error.message)}catch{}throw oa.create("config-fetch-failed",{httpStatus:s.status,responseMessage:c})}return s.json()}async function mG(t,e=f4,n){const{appId:r,apiKey:a,measurementId:s}=t.options;if(!r)throw oa.create("no-app-id");if(!a){if(s)return{measurementId:s,appId:r};throw oa.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new yG;return setTimeout(async()=>{u.abort()},QH),m4({appId:r,apiKey:a,measurementId:s},c,u,e)}async function m4(t,{throttleEndTimeMillis:e,backoffCount:n},r,a=f4){const{appId:s,measurementId:c}=t;try{await pG(r,e)}catch(u){if(c)return Er.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:s,measurementId:c};throw u}try{const u=await fG(t);return a.deleteThrottleMetadata(s),u}catch(u){const h=u;if(!gG(h)){if(a.deleteThrottleMetadata(s),c)return Er.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:s,measurementId:c};throw u}const f=Number(h?.customData?.httpStatus)===503?jA(n,a.intervalMillis,cG):jA(n,a.intervalMillis),m={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return a.setThrottleMetadata(s,m),Er.debug(`Calling attemptFetch again in ${f} millis`),m4(t,m,r,a)}}function pG(t,e){return new Promise((n,r)=>{const a=Math.max(e-Date.now(),0),s=setTimeout(n,a);t.addEventListener(()=>{clearTimeout(s),r(oa.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gG(t){if(!(t instanceof da)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class yG{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xG(t,e,n,r,a){if(a&&a.global){t("event",n,r);return}else{const s=await e,c={...r,send_to:s};t("event",n,c)}}async function vG(t,e,n,r){if(r&&r.global){const a={};for(const s of Object.keys(n))a[`user_properties.${s}`]=n[s];return t("set",a),Promise.resolve()}else{const a=await e;t("config",a,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bG(){if(b6())try{await w6()}catch(t){return Er.warn(oa.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Er.warn(oa.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function wG(t,e,n,r,a,s,c){const u=mG(t);u.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Er.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Er.error(x)),e.push(u);const h=bG().then(x=>{if(x)return r.getId()}),[f,m]=await Promise.all([u,h]);lG(s)||nG(s,f.measurementId),a("js",new Date);const g=c?.config??{};return g[XH]="firebase",g.update=!0,m!=null&&(g[WH]=m),a("config",f.measurementId,g),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _G{constructor(e){this.app=e}_delete(){return delete Ou[this.app.options.appId],Promise.resolve()}}let Ou={},rC=[];const aC={};let Wv="dataLayer",NG="gtag",iC,s2,sC=!1;function jG(){const t=[];if(v6()&&t.push("This is a browser extension environment."),F9()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,a)=>`(${a+1}) ${r}`).join(" "),n=oa.create("invalid-analytics-context",{errorInfo:e});Er.warn(n.message)}}function EG(t,e,n){jG();const r=t.options.appId;if(!r)throw oa.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Er.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw oa.create("no-api-key");if(Ou[r]!=null)throw oa.create("already-exists",{id:r});if(!sC){rG(Wv);const{wrappedGtag:s,gtagCore:c}=oG(Ou,rC,aC,Wv,NG);s2=s,iC=c,sC=!0}return Ou[r]=wG(t,rC,aC,e,iC,Wv,n),new _G(t)}function SG(t=Af()){t=kt(t);const e=Hs(t,Mg);return e.isInitialized()?e.getImmediate():AG(t)}function AG(t,e={}){const n=Hs(t,Mg);if(n.isInitialized()){const a=n.getImmediate();if(Xo(e,n.getOptions()))return a;throw oa.create("already-initialized")}return n.initialize({options:e})}function TG(t,e,n){t=kt(t),vG(s2,Ou[t.app.options.appId],e,n).catch(r=>Er.error(r))}function CG(t,e,n,r){t=kt(t),xG(s2,Ou[t.app.options.appId],e,n,r).catch(a=>Er.error(a))}const oC="@firebase/analytics",lC="0.10.19";function kG(){Pa(new ca(Mg,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return EG(r,a,n)},"PUBLIC")),Pa(new ca("analytics-internal",t,"PRIVATE")),mr(oC,lC),mr(oC,lC,"esm2020");function t(e){try{const n=e.getProvider(Mg).getImmediate();return{logEvent:(r,a,s)=>CG(n,r,a,s),setUserProperties:(r,a)=>TG(n,r,a)}}catch(n){throw oa.create("interop-component-reg-failed",{reason:n})}}}kG();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="firebasestorage.googleapis.com",g4="storageBucket",IG=120*1e3,RG=600*1e3,OG=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln extends da{constructor(e,n,r=0){super(Xv(e),`Firebase Storage: ${n} (${Xv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ln.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Zt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Zt||(Zt={}));function Xv(t){return"storage/"+t}function o2(){const t="An unknown error occurred, please check the error payload for server response.";return new ln(Zt.UNKNOWN,t)}function DG(t){return new ln(Zt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function PG(t){return new ln(Zt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MG(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ln(Zt.UNAUTHENTICATED,t)}function LG(){return new ln(Zt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zG(t){return new ln(Zt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function y4(){return new ln(Zt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function x4(){return new ln(Zt.CANCELED,"User canceled the upload/download.")}function UG(t){return new ln(Zt.INVALID_URL,"Invalid URL '"+t+"'.")}function VG(t){return new ln(Zt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function BG(){return new ln(Zt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+g4+"' property when initializing the app?")}function v4(){return new ln(Zt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function FG(){return new ln(Zt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function qG(){return new ln(Zt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function $G(t){return new ln(Zt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function ow(t){return new ln(Zt.INVALID_ARGUMENT,t)}function b4(){return new ln(Zt.APP_DELETED,"The Firebase app was deleted.")}function HG(t){return new ln(Zt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gh(t,e){return new ln(Zt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Nh(t){throw new ln(Zt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ia.makeFromUrl(e,n)}catch{return new ia(e,"")}if(r.path==="")return r;throw VG(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function s(V){V.path.charAt(V.path.length-1)==="/"&&(V.path_=V.path_.slice(0,-1))}const c="(/(.*))?$",u=new RegExp("^gs://"+a+c,"i"),h={bucket:1,path:3};function f(V){V.path_=decodeURIComponent(V.path)}const m="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",v=new RegExp(`^https?://${g}/${m}/b/${a}/o${x}`,"i"),j={bucket:1,path:3},w=n===p4?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",E=new RegExp(`^https?://${w}/${a}/${_}`,"i"),C=[{regex:u,indices:h,postModify:s},{regex:v,indices:j,postModify:f},{regex:E,indices:{bucket:1,path:2},postModify:f}];for(let V=0;V<C.length;V++){const k=C[V],$=k.regex.exec(e);if($){const O=$[k.indices.bucket];let M=$[k.indices.path];M||(M=""),r=new ia(O,M),k.postModify(r);break}}if(r==null)throw UG(e);return r}}class GG{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KG(t,e,n){let r=1,a=null,s=null,c=!1,u=0;function h(){return u===2}let f=!1;function m(..._){f||(f=!0,e.apply(null,_))}function g(_){a=setTimeout(()=>{a=null,t(v,h())},_)}function x(){s&&clearTimeout(s)}function v(_,...E){if(f){x();return}if(_){x(),m.call(null,_,...E);return}if(h()||c){x(),m.call(null,_,...E);return}r<64&&(r*=2);let C;u===1?(u=2,C=0):C=(r+Math.random())*1e3,g(C)}let j=!1;function w(_){j||(j=!0,x(),!f&&(a!==null?(_||(u=2),clearTimeout(a),g(0)):_||(u=1)))}return g(0),s=setTimeout(()=>{c=!0,w(!0)},n),w}function YG(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WG(t){return t!==void 0}function XG(t){return typeof t=="function"}function QG(t){return typeof t=="object"&&!Array.isArray(t)}function ey(t){return typeof t=="string"||t instanceof String}function cC(t){return l2()&&t instanceof Blob}function l2(){return typeof Blob<"u"}function uC(t,e,n,r){if(r<e)throw ow(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ow(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function w4(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var ac;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ac||(ac={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||a||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n,r,a,s,c,u,h,f,m,g,x=!0,v=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=u,this.errorCallback_=h,this.timeout_=f,this.progressCallback_=m,this.connectionFactory_=g,this.retry=x,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((j,w)=>{this.resolve_=j,this.reject_=w,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Rp(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const c=u=>{const h=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,f)};this.progressCallback_!==null&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const u=s.getErrorCode()===ac.NO_ERROR,h=s.getStatus();if(!u||_4(h,this.additionalRetryCodes_)&&this.retry){const m=s.getErrorCode()===ac.ABORT;r(!1,new Rp(!1,null,m));return}const f=this.successCodes_.indexOf(h)!==-1;r(!0,new Rp(f,s))})},n=(r,a)=>{const s=this.resolve_,c=this.reject_,u=a.connection;if(a.wasSuccessCode)try{const h=this.callback_(u,u.getResponse());WG(h)?s(h):s()}catch(h){c(h)}else if(u!==null){const h=o2();h.serverResponse=u.getErrorText(),this.errorCallback_?c(this.errorCallback_(u,h)):c(h)}else if(a.canceled){const h=this.appDelete_?b4():x4();c(h)}else{const h=y4();c(h)}};this.canceled_?n(!1,new Rp(!1,null,!0)):this.backoffId_=KG(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YG(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rp{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function JG(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eK(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tK(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nK(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rK(t,e,n,r,a,s,c=!0,u=!1){const h=w4(t.urlParams),f=t.url+h,m=Object.assign({},t.headers);return tK(m,e),JG(m,n),eK(m,s),nK(m,r),new ZG(f,t.method,m,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,c,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iK(...t){const e=aK();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(l2())return new Blob(t);throw new ln(Zt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sK(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t){if(typeof atob>"u")throw $G("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qv{constructor(e,n){this.data=e,this.contentType=n||null}}function lK(t,e){switch(t){case Pi.RAW:return new Qv(N4(e));case Pi.BASE64:case Pi.BASE64URL:return new Qv(j4(t,e));case Pi.DATA_URL:return new Qv(uK(e),dK(e))}throw o2()}function N4(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,c=t.charCodeAt(++n);r=65536|(s&1023)<<10|c&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cK(t){let e;try{e=decodeURIComponent(t)}catch{throw Gh(Pi.DATA_URL,"Malformed data URL.")}return N4(e)}function j4(t,e){switch(t){case Pi.BASE64:{const a=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(a||s)throw Gh(t,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case Pi.BASE64URL:{const a=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(a||s)throw Gh(t,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=oK(e)}catch(a){throw a.message.includes("polyfill")?a:Gh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}class E4{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gh(Pi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=hK(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function uK(t){const e=new E4(t);return e.base64?j4(Pi.BASE64,e.rest):cK(e.rest)}function dK(t){return new E4(t).contentType}function hK(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){let r=0,a="";cC(e)?(this.data_=e,r=e.size,a=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,n){if(cC(this.data_)){const r=this.data_,a=sK(r,e,n);return a===null?null:new Bo(a)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Bo(r,!0)}}static getBlob(...e){if(l2()){const n=e.map(r=>r instanceof Bo?r.data_:r);return new Bo(iK.apply(null,n))}else{const n=e.map(c=>ey(c)?lK(Pi.RAW,c).data:c.data_);let r=0;n.forEach(c=>{r+=c.byteLength});const a=new Uint8Array(r);let s=0;return n.forEach(c=>{for(let u=0;u<c.length;u++)a[s++]=c[u]}),new Bo(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){let e;try{e=JSON.parse(t)}catch{return null}return QG(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function mK(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function A4(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pK(t,e){return e}class vr{constructor(e,n,r,a){this.server=e,this.local=n||e,this.writable=!!r,this.xform=a||pK}}let Op=null;function gK(t){return!ey(t)||t.length<2?t:A4(t)}function T4(){if(Op)return Op;const t=[];t.push(new vr("bucket")),t.push(new vr("generation")),t.push(new vr("metageneration")),t.push(new vr("name","fullPath",!0));function e(s,c){return gK(c)}const n=new vr("name");n.xform=e,t.push(n);function r(s,c){return c!==void 0?Number(c):c}const a=new vr("size");return a.xform=r,t.push(a),t.push(new vr("timeCreated")),t.push(new vr("updated")),t.push(new vr("md5Hash",null,!0)),t.push(new vr("cacheControl",null,!0)),t.push(new vr("contentDisposition",null,!0)),t.push(new vr("contentEncoding",null,!0)),t.push(new vr("contentLanguage",null,!0)),t.push(new vr("contentType",null,!0)),t.push(new vr("metadata","customMetadata",!0)),Op=t,Op}function yK(t,e){function n(){const r=t.bucket,a=t.fullPath,s=new ia(r,a);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function xK(t,e,n){const r={};r.type="file";const a=n.length;for(let s=0;s<a;s++){const c=n[s];r[c.local]=c.xform(r,e[c.server])}return yK(r,t),r}function C4(t,e,n){const r=S4(e);return r===null?null:xK(t,r,n)}function vK(t,e,n,r){const a=S4(e);if(a===null||!ey(a.downloadTokens))return null;const s=a.downloadTokens;if(s.length===0)return null;const c=encodeURIComponent;return s.split(",").map(f=>{const m=t.bucket,g=t.fullPath,x="/b/"+c(m)+"/o/"+c(g),v=Uf(x,n,r),j=w4({alt:"media",token:f});return v+j})[0]}function k4(t,e){const n={},r=e.length;for(let a=0;a<r;a++){const s=e[a];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class ld{constructor(e,n,r,a){this.url=e,this.method=n,this.handler=r,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t){if(!t)throw o2()}function c2(t,e){function n(r,a){const s=C4(t,a,e);return Is(s!==null),s}return n}function bK(t,e){function n(r,a){const s=C4(t,a,e);return Is(s!==null),vK(s,a,t.host,t._protocol)}return n}function Vf(t){function e(n,r){let a;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?a=LG():a=MG():n.getStatus()===402?a=PG(t.bucket):n.getStatus()===403?a=zG(t.path):a=r,a.status=n.getStatus(),a.serverResponse=r.serverResponse,a}return e}function I4(t){const e=Vf(t);function n(r,a){let s=e(r,a);return r.getStatus()===404&&(s=DG(t.path)),s.serverResponse=a.serverResponse,s}return n}function wK(t,e,n){const r=e.fullServerUrl(),a=Uf(r,t.host,t._protocol),s="GET",c=t.maxOperationRetryTime,u=new ld(a,s,c2(t,n),c);return u.errorHandler=I4(e),u}function _K(t,e,n){const r=e.fullServerUrl(),a=Uf(r,t.host,t._protocol),s="GET",c=t.maxOperationRetryTime,u=new ld(a,s,bK(t,n),c);return u.errorHandler=I4(e),u}function NK(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function R4(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=NK(null,e)),r}function jK(t,e,n,r,a){const s=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function u(){let C="";for(let V=0;V<2;V++)C=C+Math.random().toString().slice(2);return C}const h=u();c["Content-Type"]="multipart/related; boundary="+h;const f=R4(e,r,a),m=k4(f,n),g="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+m+`\r
--`+h+`\r
Content-Type: `+f.contentType+`\r
\r
`,x=`\r
--`+h+"--",v=Bo.getBlob(g,r,x);if(v===null)throw v4();const j={name:f.fullPath},w=Uf(s,t.host,t._protocol),_="POST",E=t.maxUploadRetryTime,S=new ld(w,_,c2(t,n),E);return S.urlParams=j,S.headers=c,S.body=v.uploadData(),S.errorHandler=Vf(e),S}class Lg{constructor(e,n,r,a){this.current=e,this.total=n,this.finalized=!!r,this.metadata=a||null}}function u2(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Is(!1)}return Is(!!n&&(e||["active"]).indexOf(n)!==-1),n}function EK(t,e,n,r,a){const s=e.bucketOnlyServerUrl(),c=R4(e,r,a),u={name:c.fullPath},h=Uf(s,t.host,t._protocol),f="POST",m={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},g=k4(c,n),x=t.maxUploadRetryTime;function v(w){u2(w);let _;try{_=w.getResponseHeader("X-Goog-Upload-URL")}catch{Is(!1)}return Is(ey(_)),_}const j=new ld(h,f,v,x);return j.urlParams=u,j.headers=m,j.body=g,j.errorHandler=Vf(e),j}function SK(t,e,n,r){const a={"X-Goog-Upload-Command":"query"};function s(f){const m=u2(f,["active","final"]);let g=null;try{g=f.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Is(!1)}g||Is(!1);const x=Number(g);return Is(!isNaN(x)),new Lg(x,r.size(),m==="final")}const c="POST",u=t.maxUploadRetryTime,h=new ld(n,c,s,u);return h.headers=a,h.errorHandler=Vf(e),h}const dC=256*1024;function AK(t,e,n,r,a,s,c,u){const h=new Lg(0,0);if(c?(h.current=c.current,h.total=c.total):(h.current=0,h.total=r.size()),r.size()!==h.total)throw FG();const f=h.total-h.current;let m=f;a>0&&(m=Math.min(m,a));const g=h.current,x=g+m;let v="";m===0?v="finalize":f===m?v="upload, finalize":v="upload";const j={"X-Goog-Upload-Command":v,"X-Goog-Upload-Offset":`${h.current}`},w=r.slice(g,x);if(w===null)throw v4();function _(V,k){const $=u2(V,["active","final"]),O=h.current+m,M=r.size();let U;return $==="final"?U=c2(e,s)(V,k):U=null,new Lg(O,M,$==="final",U)}const E="POST",S=e.maxUploadRetryTime,C=new ld(n,E,_,S);return C.headers=j,C.body=w.uploadData(),C.progressCallback=u||null,C.errorHandler=Vf(t),C}const Lr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Zv(t){switch(t){case"running":case"pausing":case"canceling":return Lr.RUNNING;case"paused":return Lr.PAUSED;case"success":return Lr.SUCCESS;case"canceled":return Lr.CANCELED;case"error":return Lr.ERROR;default:return Lr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e,n,r){if(XG(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class CK{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ac.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ac.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ac.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,a,s){if(this.sent_)throw Nh("cannot .send() more than once");if(Zi(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Nh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Nh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Nh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Nh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kK extends CK{initXhr(){this.xhr_.responseType="text"}}function Su(){return new kK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=T4(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=a=>{if(this._request=void 0,this._chunkMultiplier=1,a._codeEquals(Zt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(_4(a.status,[]))if(s)a=y4();else{this.sleepTime=Math.max(this.sleepTime*2,OG),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=a,this._transition("error")}},this._metadataErrorHandler=a=>{this._request=void 0,a._codeEquals(Zt.CANCELED)?this.completeTransitions_():(this._error=a,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((a,s)=>{this._resolve=a,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=EK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Su,e,n);this._request=a,a.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const a=SK(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(a,Su,n,r);this._request=s,s.getPromise().then(c=>{c=c,this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=dC*this._chunkMultiplier,n=new Lg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((a,s)=>{let c;try{c=AK(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(h){this._error=h,this._transition("error");return}const u=this._ref.storage._makeRequest(c,Su,a,s,!1);this._request=u,u.getPromise().then(h=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(h.current),h.finalized?(this._metadata=h.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){dC*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=wK(this._ref.storage,this._ref._location,this._mappings),a=this._ref.storage._makeRequest(r,Su,e,n);this._request=a,a.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=jK(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),a=this._ref.storage._makeRequest(r,Su,e,n);this._request=a,a.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=x4(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Zv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,a){const s=new TK(n||void 0,r||void 0,a||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Zv(this._state)){case Lr.SUCCESS:bu(this._resolve.bind(null,this.snapshot))();break;case Lr.CANCELED:case Lr.ERROR:const n=this._reject;bu(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Zv(this._state)){case Lr.RUNNING:case Lr.PAUSED:e.next&&bu(e.next.bind(e,this.snapshot))();break;case Lr.SUCCESS:e.complete&&bu(e.complete.bind(e))();break;case Lr.CANCELED:case Lr.ERROR:e.error&&bu(e.error.bind(e,this._error))();break;default:e.error&&bu(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this._service=e,n instanceof ia?this._location=n:this._location=ia.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xc(e,n)}get root(){const e=new ia(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return A4(this._location.path)}get storage(){return this._service}get parent(){const e=fK(this._location.path);if(e===null)return null;const n=new ia(this._location.bucket,e);return new xc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HG(e)}}function RK(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new IK(t,new Bo(e),n)}function OK(t){t._throwIfRoot("getDownloadURL");const e=_K(t.storage,t._location,T4());return t.storage.makeRequestWithTokens(e,Su).then(n=>{if(n===null)throw qG();return n})}function DK(t,e){const n=mK(t._location.path,e),r=new ia(t._location.bucket,n);return new xc(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PK(t){return/^[A-Za-z]+:\/\//.test(t)}function MK(t,e){return new xc(t,e)}function O4(t,e){if(t instanceof d2){const n=t;if(n._bucket==null)throw BG();const r=new xc(n,n._bucket);return e!=null?O4(r,e):r}else return e!==void 0?DK(t,e):t}function LK(t,e){if(e&&PK(e)){if(t instanceof d2)return MK(t,e);throw ow("To use ref(service, url), the first argument must be a Storage instance.")}else return O4(t,e)}function hC(t,e){const n=e?.[g4];return n==null?null:ia.makeFromBucketSpec(n,t)}function zK(t,e,n,r={}){t.host=`${e}:${n}`;const a=Zi(e);a&&(A0(`https://${t.host}/b`),T0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:x6(s,t.app.options.projectId))}class d2{constructor(e,n,r,a,s,c=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=s,this._isUsingEmulator=c,this._bucket=null,this._host=p4,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=IG,this._maxUploadRetryTime=RG,this._requests=new Set,a!=null?this._bucket=ia.makeFromBucketSpec(a,this._host):this._bucket=hC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ia.makeFromBucketSpec(this._url,e):this._bucket=hC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xc(this,e)}_makeRequest(e,n,r,a,s=!0){if(this._deleted)return new GG(b4());{const c=rK(e,this._appId,r,a,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const fC="@firebase/storage",mC="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="storage";function UK(t,e,n){return t=kt(t),RK(t,e,n)}function VK(t){return t=kt(t),OK(t)}function BK(t,e){return t=kt(t),LK(t,e)}function FK(t=Af(),e){t=kt(t);const r=Hs(t,D4).getImmediate({identifier:e}),a=i_("storage");return a&&qK(r,...a),r}function qK(t,e,n,r={}){zK(t,e,n,r)}function $K(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new d2(n,r,a,e,Ec)}function HK(){Pa(new ca(D4,$K,"PUBLIC").setMultipleInstances(!0)),mr(fC,mC,""),mr(fC,mC,"esm2020")}HK();const GK={apiKey:"AIzaSyCSMYG08Nf7TUtV5HfGEHIM-9yPz5nioC0",authDomain:"cvsift-3dff8.firebaseapp.com",projectId:"cvsift-3dff8",storageBucket:"cvsift-3dff8.firebasestorage.app",messagingSenderId:"796887835619",appId:"1:796887835619:web:db0557cb12ec69b637f6d6",measurementId:"G-LY1RPH3S11"},Bf=E6(GK);let KK=null;try{KK=SG(Bf)}catch(t){console.warn("Analytics not available:",t.message)}const xs=TB(Bf),It=E$(Bf),YK=FK(Bf),Kh=Qt(Bf,"us-central1"),P4=T.createContext();function Cn(){const t=T.useContext(P4);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function WK({children:t}){const[e,n]=T.useState(null),[r,a]=T.useState(!0),[s,c]=T.useState(null);async function u(w,_,E){try{c(null);const S=await c7(xs,w,_);return await X6(S.user,{displayName:E}),await Lh(On(It,"users",S.user.uid),{uid:S.user.uid,email:S.user.email,displayName:E,role:"user",plan:"free",cvUploadsThisMonth:0,cvUploadLimit:10,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()}),S.user}catch(S){throw c(S.message),S}}async function h(w,_){try{c(null);const E=await u7(xs,w,_);await Lh(On(It,"users",E.user.uid),{lastLogin:new Date().toISOString()},{merge:!0});try{const S=Qt(),V=await _t(S,"initializeMasterAccount")();console.log("Master account check:",V.data);const k=await x(E.user.uid);k&&n({...E.user,userData:k})}catch(S){console.log("Master account check failed:",S.message)}return E.user}catch(E){throw c(E.message),E}}async function f(){try{c(null);const w=new bs,_=await L7(xs,w);(await pc(On(It,"users",_.user.uid))).exists()?await Lh(On(It,"users",_.user.uid),{lastLogin:new Date().toISOString()},{merge:!0}):await Lh(On(It,"users",_.user.uid),{uid:_.user.uid,email:_.user.email,displayName:_.user.displayName,photoURL:_.user.photoURL,role:"user",plan:"free",cvUploadsThisMonth:0,cvUploadLimit:10,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()});try{const S=Qt(),V=await _t(S,"initializeMasterAccount")();console.log("Master account check:",V.data);const k=await x(_.user.uid);k&&n({..._.user,userData:k})}catch(S){console.log("Master account check failed:",S.message)}return _.user}catch(w){throw c(w.message),w}}async function m(){try{c(null),await y7(xs)}catch(w){throw c(w.message),w}}async function g(w){try{c(null),await l7(xs,w)}catch(_){throw c(_.message),_}}async function x(w){try{const _=await pc(On(It,"users",w));if(_.exists()){const E=_.data();try{const S=Qt(),V=await _t(S,"checkTeamAccess")();E.teamAccess={isTeamOwner:V.data.isTeamOwner||!1,isTeamMember:V.data.isTeamMember||!1,teamOwnerId:V.data.teamOwnerId||null,role:V.data.role||null},V.data.isTeamMember&&V.data.ownerPlan&&(E.plan=V.data.ownerPlan,console.log("Team member inheriting owner plan:",V.data.ownerPlan))}catch(S){console.log("Team access check failed:",S.message),E.teamAccess={isTeamOwner:!1,isTeamMember:!1,teamOwnerId:null,role:null}}return E}return null}catch(_){return console.error("Error getting user data:",_),null}}async function v(){if(e){const w=await x(e.uid);n({...e,userData:w})}}T.useEffect(()=>g7(xs,async _=>{if(_){const E=await x(_.uid);n({..._,userData:E})}else n(null);a(!1)}),[]);const j={currentUser:e,userData:e?.userData,signup:u,signin:h,signInWithGoogle:f,logout:m,resetPassword:g,getUserData:x,refreshUserData:v,error:s,setError:c};return o.jsx(P4.Provider,{value:j,children:!r&&t})}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),QK=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),pC=t=>{const e=QK(t);return e.charAt(0).toUpperCase()+e.slice(1)},M4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),ZK=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...u},h)=>T.createElement("svg",{ref:h,...JK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:M4("lucide",a),...!s&&!ZK(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,m])=>T.createElement(f,m)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(t,e)=>{const n=T.forwardRef(({className:r,...a},s)=>T.createElement(eY,{ref:s,iconNode:e,className:M4(`lucide-${XK(pC(t))}`,`lucide-${t}`,r),...a}));return n.displayName=pC(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tY=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ws=Fe("activity",tY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nY=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],rY=Fe("archive",nY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ys=Fe("arrow-left",aY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],sY=Fe("arrow-right",iY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oY=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],rl=Fe("award",oY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lY=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Jv=Fe("bot",lY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cY=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ti=Fe("briefcase",cY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uY=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cd=Fe("calendar",uY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dY=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],gC=Fe("camera",dY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hY=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Xl=Fe("chart-column",hY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fY=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],mY=Fe("chart-pie",fY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pY=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$e=Fe("check",pY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gY=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mi=Fe("chevron-down",gY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],xY=Fe("chevron-right",yY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Ql=Fe("chevron-up",vY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$t=Fe("circle-alert",bY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Mt=Fe("circle-check",wY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ur=Fe("circle-check-big",_Y);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zg=Fe("circle-x",NY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jY=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ty=Fe("clock",jY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EY=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],SY=Fe("code",EY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AY=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],TY=Fe("credit-card",AY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CY=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],yC=Fe("crown",CY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kY=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],uf=Fe("download",kY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IY=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],RY=Fe("external-link",IY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OY=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],L4=Fe("eye",OY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],PY=Fe("file-chart-column-increasing",DY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MY=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],LY=Fe("file-search",MY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zY=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Br=Fe("file-text",zY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UY=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],VY=Fe("folder",UY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BY=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Zl=Fe("funnel",BY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FY=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],h2=Fe("graduation-cap",FY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qY=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],$Y=Fe("hash",qY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HY=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f2=Fe("info",HY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GY=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Rs=Fe("list",GY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KY=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_r=Fe("loader-circle",KY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YY=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],WY=Fe("log-out",YY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XY=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],df=Fe("lock",XY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QY=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Gi=Fe("mail",QY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZY=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],m2=Fe("map-pin",ZY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JY=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eW=Fe("menu",JY);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],z4=Fe("message-circle",tW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ug=Fe("package",nW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],xC=Fe("pen-line",rW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],p2=Fe("pen",aW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],sW=Fe("phone",iW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ic=Fe("plus",oW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],vC=Fe("power",lW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Vg=Fe("refresh-cw",cW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yh=Fe("save",uW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],U4=Fe("search",dW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],fW=Fe("send",hW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V4=Fe("settings",mW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fo=Fe("shield",pW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],bC=Fe("sliders-horizontal",gW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],fr=Fe("sparkles",yW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vW=Fe("square-check-big",xW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wC=Fe("star",bW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],B4=Fe("target",wW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nr=Fe("trash-2",_W);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],jW=Fe("trending-down",NW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],hf=Fe("trending-up",EW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Bg=Fe("triangle-alert",SW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],F4=Fe("type",AW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wr=Fe("upload",TW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fg=Fe("user-plus",CW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sa=Fe("users",kW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ii=Fe("user",IW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xe=Fe("x",RW);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],DW=Fe("zap",OW),q4=T.createContext();function ll(){const t=T.useContext(q4);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function PW({children:t}){const[e,n]=T.useState([]),r=T.useCallback((c,u="info",h=4e3)=>{const f=Math.random().toString(36).substring(7),m={id:f,message:c,type:u,duration:h};return n(g=>[...g,m]),h>0&&setTimeout(()=>{a(f)},h),f},[]),a=T.useCallback(c=>{n(u=>u.filter(h=>h.id!==c))},[]),s={success:(c,u)=>r(c,"success",u),error:(c,u)=>r(c,"error",u),info:(c,u)=>r(c,"info",u),warning:(c,u)=>r(c,"warning",u)};return o.jsxs(q4.Provider,{value:s,children:[t,o.jsx(MW,{toasts:e,removeToast:a})]})}function MW({toasts:t,removeToast:e}){return t.length===0?null:o.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 max-w-md",children:t.map(n=>o.jsx(LW,{toast:n,onClose:()=>e(n.id)},n.id))})}function LW({toast:t,onClose:e}){const r=(()=>{switch(t.type){case"success":return{icon:Mt,bgGradient:"from-green-50 to-green-100",iconBg:"from-green-500 to-green-600",border:"border-green-200",textColor:"text-green-900"};case"error":return{icon:$t,bgGradient:"from-red-50 to-red-100",iconBg:"from-red-500 to-red-600",border:"border-red-200",textColor:"text-red-900"};case"warning":return{icon:Bg,bgGradient:"from-orange-50 to-orange-100",iconBg:"from-orange-500 to-orange-600",border:"border-orange-200",textColor:"text-orange-900"};case"info":default:return{icon:f2,bgGradient:"from-blue-50 to-blue-100",iconBg:"from-blue-500 to-blue-600",border:"border-blue-200",textColor:"text-blue-900"}}})(),a=r.icon;return o.jsxs("div",{className:`bg-gradient-to-r ${r.bgGradient} border ${r.border} rounded-2xl shadow-2xl p-4 flex items-start gap-3 min-w-[320px] max-w-md animate-slideInRight`,children:[o.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${r.iconBg} rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg`,children:o.jsx(a,{className:"text-white",size:20})}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:`${r.textColor} font-semibold text-sm leading-relaxed`,children:t.message})}),o.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 hover:bg-white/50 rounded-lg p-1.5 transition-all flex-shrink-0",children:o.jsx(Xe,{size:16})})]})}function zW(){const[t,e]=T.useState(!1),[n,r]=T.useState(null),[a,s]=T.useState(!1),[c,u]=T.useState([]),[h,f]=T.useState(!1),[m,g]=T.useState([]),[x,v]=T.useState(null),[j,w]=T.useState(!1),[_,E]=T.useState(!1),[S,C]=T.useState(!1),V=$n();T.useEffect(()=>{const J=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",J),C(!0),()=>window.removeEventListener("scroll",J)},[]);const k=J=>{J.preventDefault(),s(!0)},$=J=>{J.preventDefault(),s(!1)},O=J=>{J.preventDefault(),s(!1);const q=[{name:"CV_John_Doe.pdf",status:"uploading"},{name:"CV_Jane_Smith.docx",status:"uploading"},{name:"CV_Mike_Johnson.pdf",status:"uploading"}];u(q),f(!0),q.forEach((Y,te)=>{setTimeout(()=>{u(Z=>Z.map((ge,L)=>L===te?{...ge,status:"completed"}:ge)),te===q.length-1&&setTimeout(()=>{f(!1),g([1])},1e3)},(te+1)*800)})},M=()=>{!h&&c.length===0&&O({preventDefault:()=>{}})};T.useEffect(()=>{if(m.includes(1)&&!m.includes(2)){const J=setTimeout(()=>{g([1,2])},2500);return()=>clearTimeout(J)}},[m]);const U=J=>{m.includes(2)&&!m.includes(3)&&(v(J),w(!0),setTimeout(()=>{g([1,2,3])},1e3))},G=()=>{u([]),f(!1),g([]),v(null),w(!1)},H=[{name:"Free",price:"R0",period:"forever",cvLimit:"10 CVs",description:"Perfect for small teams getting started",features:["Up to 10 CVs per month","Basic filtering (skills, location)","7-day data retention","Email support","Export to CSV"],cta:"Get Started Free",popular:!1,color:"gray"},{name:"Starter",price:"R199",period:"per month",cvLimit:"50 CVs",description:"For small teams with regular hiring",features:["Up to 50 CVs per month","Advanced filtering","30-day data retention","Bulk upload","Job spec creation","Email notifications"],cta:"Get Started",popular:!1,color:"blue"},{name:"Basic",price:"R399",period:"per month",cvLimit:"150 CVs",description:"For growing teams with regular hiring needs",features:["Up to 150 CVs per month","All filtering options","90-day data retention","Priority email support","Advanced export options","Bulk upload"],cta:"Get Started",popular:!0,color:"orange"},{name:"Professional",price:"R999",period:"per month",cvLimit:"600 CVs",description:"For scaling organizations",features:["Up to 600 CVs per month","AI Chatbot Assistant","API access","1-year data retention","Advanced analytics","Team collaboration (3 users)","Priority support"],cta:"Get Started",popular:!1,color:"purple"},{name:"Enterprise",price:"Custom",period:"tailored pricing",cvLimit:"Unlimited",description:"For large organizations with complex needs",features:["Unlimited CVs","Everything in Professional","Custom integrations","SSO & advanced security","White-label option","Custom SLA","Dedicated account manager","Unlimited users"],cta:"Contact Sales",popular:!1,color:"lime"}],D=[{icon:wr,title:"Intelligent Upload",description:"Drag and drop hundreds of CVs at once. Supports PDF, Word, Pages, and text formats with automatic parsing."},{icon:fr,title:"AI-Powered Extraction",description:"Claude AI automatically extracts skills, experience, education, and contact details with 98% accuracy."},{icon:Zl,title:"Advanced Filtering",description:"Filter by skills, experience, location, education, salary expectations, and custom criteria instantly."},{icon:Xl,title:"Smart Analytics",description:"Visualize candidate pools with interactive charts, skill distributions, and hiring insights."},{icon:Fo,title:"Enterprise Security",description:"Bank-level encryption, GDPR compliance, and SOC 2 certification to protect sensitive candidate data."},{icon:ty,title:"Save 20+ Hours/Week",description:"Automate the screening process and reduce time-to-hire by up to 70% with intelligent automation."}],B=[{value:"10,000+",label:"CVs Processed Daily"},{value:"500+",label:"Companies Trust Us"},{value:"70%",label:"Faster Hiring"},{value:"98%",label:"Accuracy Rate"}],I=[{quote:"CVSift reduced our time-to-hire from 6 weeks to just 2 weeks. The AI filtering is incredibly accurate."},{quote:"We processed 2,000 CVs in under an hour. This tool is a game-changer for high-volume recruitment."},{quote:"The analytics dashboard gives us insights we never had before. We can now make data-driven hiring decisions."},{quote:"The automated screening saved our team countless hours. We can now focus on interviewing the right candidates."},{quote:"Implementation was seamless and the ROI was evident within the first month. Highly recommend!"},{quote:"The skill extraction accuracy is phenomenal. It picks up technical skills we would have missed manually."},{quote:"We've increased our candidate quality significantly while reducing screening time by 80%."},{quote:"The best investment we've made in our recruitment process. The AI understands context remarkably well."},{quote:"Customer support is exceptional and the platform is incredibly intuitive to use."},{quote:"Finally, a tool that actually delivers on its promises. Our hiring pipeline has never been more efficient."},{quote:"The filtering capabilities are exactly what we needed for our high-volume recruitment campaigns."},{quote:"Game-changing technology. We've cut our cost-per-hire in half while improving candidate quality."}];return o.jsxs("div",{className:"min-h-screen bg-white text-gray-900 overflow-x-hidden",children:[o.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/95 backdrop-blur-lg shadow-sm":"bg-transparent"}`,children:[o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[o.jsx("div",{className:"w-9 h-9 lg:w-10 lg:h-10 bg-gradient-to-br from-orange-500 via-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-lg lg:text-xl",children:"CV"})}),o.jsx("span",{className:"text-xl lg:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Sift"})]}),o.jsxs("div",{className:"hidden sm:block text-xs text-gray-400",children:["by"," ",o.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 transition-colors",children:"Automore"})]})]}),o.jsxs("div",{className:"hidden lg:flex items-center space-x-8",children:[o.jsx("a",{href:"#features",className:"text-gray-600 hover:text-orange-600 transition-colors font-medium text-sm",children:"Features"}),o.jsx("a",{href:"#how-it-works",className:"text-gray-600 hover:text-orange-600 transition-colors font-medium text-sm",children:"How It Works"}),o.jsx("a",{href:"#pricing",className:"text-gray-600 hover:text-orange-600 transition-colors font-medium text-sm",children:"Pricing"}),o.jsx("a",{href:"#testimonials",className:"text-gray-600 hover:text-orange-600 transition-colors font-medium text-sm",children:"Testimonials"})]}),o.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[o.jsx("button",{onClick:()=>V("/signin"),className:"hidden sm:block text-gray-700 hover:text-orange-600 font-medium transition-colors text-sm lg:text-base",children:"Sign In"}),o.jsx("button",{onClick:()=>V("/signup"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-4 lg:px-6 py-2 lg:py-2.5 rounded-lg font-medium transition-all hover:shadow-lg hover:shadow-orange-500/30 text-sm lg:text-base",children:"Get Started"}),o.jsx("button",{onClick:()=>E(!_),className:"lg:hidden p-2 text-gray-600 hover:text-orange-600",children:_?o.jsx(Xe,{size:24}):o.jsx(eW,{size:24})})]})]})}),_&&o.jsx("div",{className:"lg:hidden bg-white border-t border-gray-100 shadow-lg",children:o.jsxs("div",{className:"px-4 py-4 space-y-3",children:[o.jsx("a",{href:"#features",className:"block text-gray-600 hover:text-orange-600 font-medium py-2",onClick:()=>E(!1),children:"Features"}),o.jsx("a",{href:"#how-it-works",className:"block text-gray-600 hover:text-orange-600 font-medium py-2",onClick:()=>E(!1),children:"How It Works"}),o.jsx("a",{href:"#pricing",className:"block text-gray-600 hover:text-orange-600 font-medium py-2",onClick:()=>E(!1),children:"Pricing"}),o.jsx("a",{href:"#testimonials",className:"block text-gray-600 hover:text-orange-600 font-medium py-2",onClick:()=>E(!1),children:"Testimonials"}),o.jsx("button",{onClick:()=>V("/signin"),className:"block w-full text-left text-gray-700 hover:text-orange-600 font-medium py-2",children:"Sign In"})]})})]}),o.jsx("section",{className:"pt-24 lg:pt-32 pb-16 lg:pb-24 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-orange-50/30 via-white to-white",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsxs("div",{className:`text-center max-w-4xl mx-auto transition-all duration-1000 ${S?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-orange-100 to-orange-50 text-orange-700 px-4 py-2 rounded-full mb-6 lg:mb-8 border border-orange-200/50",children:[o.jsx(fr,{size:16,className:"animate-pulse"}),o.jsx("span",{className:"text-xs lg:text-sm font-semibold",children:"Powered by Claude AI"})]}),o.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold mb-4 lg:mb-6 leading-tight",children:["Screen ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Thousands"})," of CVs",o.jsx("br",{className:"hidden sm:block"})," in"," ",o.jsxs("span",{className:"relative inline-block",children:[o.jsx("span",{className:"relative z-10",children:"Minutes"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 -rotate-1 rounded-xl opacity-20 blur-sm"})]})]}),o.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 mb-8 lg:mb-12 leading-relaxed px-4",children:"AI-powered CV screening that saves you 20+ hours per week. Upload, filter, and hire the best candidates faster."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12 lg:mb-16",children:[o.jsxs("button",{onClick:()=>V("/signup"),className:"w-full sm:w-auto bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white px-8 py-4 rounded-xl font-semibold text-base lg:text-lg transition-all hover:scale-105 flex items-center justify-center space-x-2 shadow-xl shadow-orange-500/30",children:[o.jsx("span",{children:"Get Started Free"}),o.jsx(xY,{size:20})]}),o.jsx("button",{className:"w-full sm:w-auto border-2 border-gray-300 hover:border-orange-500 hover:bg-orange-50 text-gray-700 hover:text-orange-700 px-8 py-4 rounded-xl font-semibold text-base lg:text-lg transition-all",children:"Watch Demo"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-8 mb-12 lg:mb-16",children:B.map((J,q)=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-1",children:J.value}),o.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:J.label})]},q))}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl lg:rounded-3xl p-4 lg:p-8 shadow-2xl border border-gray-200/50",children:o.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-inner",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-red-400 rounded-full"}),o.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-yellow-400 rounded-full"}),o.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-green-400 rounded-full"})]}),o.jsx("div",{className:"text-xs lg:text-sm text-gray-400 font-medium",children:"CVSift Dashboard"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-gray-200 to-gray-100 rounded-full w-3/4 animate-pulse"}),o.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-orange-200 to-orange-100 rounded-full w-1/2 animate-pulse",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-purple-200 to-purple-100 rounded-full w-2/3 animate-pulse",style:{animationDelay:"300ms"}}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 lg:gap-4 mt-6",children:[o.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl shadow-sm"}),o.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl shadow-sm"}),o.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl shadow-sm"})]})]})]})}),o.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-orange-400 rounded-full blur-3xl opacity-40 animate-pulse"}),o.jsx("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 bg-purple-400 rounded-full blur-3xl opacity-40 animate-pulse",style:{animationDelay:"1s"}})]})]})})}),o.jsx("section",{id:"features",className:"py-16 lg:py-24 bg-gradient-to-b from-white to-gray-50",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-orange-100 text-orange-700 px-4 py-2 rounded-full mb-4",children:[o.jsx(wC,{size:16}),o.jsx("span",{className:"text-sm font-semibold",children:"Powerful Features"})]}),o.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:["Everything You Need for"," ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Smarter Hiring"})]}),o.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:"Built for modern recruitment teams who want to move fast without compromising quality"})]}),o.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:D.map((J,q)=>o.jsxs("div",{className:"group bg-white p-6 lg:p-8 rounded-2xl shadow-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-gray-100 hover:border-orange-200",children:[o.jsx("div",{className:"w-12 h-12 lg:w-14 lg:h-14 bg-gradient-to-br from-orange-100 to-orange-50 rounded-xl flex items-center justify-center mb-4 lg:mb-6 group-hover:scale-110 transition-transform duration-300 shadow-sm",children:o.jsx(J.icon,{className:"text-orange-600",size:24})}),o.jsx("h3",{className:"text-lg lg:text-xl font-bold mb-2 lg:mb-3 text-gray-900",children:J.title}),o.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed",children:J.description})]},q))})]})}),o.jsx("section",{id:"how-it-works",className:"py-16 lg:py-24 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-full mb-4",children:[o.jsx(DW,{size:16}),o.jsx("span",{className:"text-sm font-semibold",children:"Interactive Demo"})]}),o.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:["See ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"CVSift"})," in Action"]}),o.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto mb-4",children:"Try our interactive demo - drag the folder to Step 1 to begin"}),m.length>0&&o.jsx("button",{onClick:G,className:"text-sm text-orange-600 hover:text-orange-700 font-semibold underline",children:"Reset Demo"})]}),c.length===0&&o.jsx("div",{className:"flex justify-center mb-8 lg:mb-12",children:o.jsxs("div",{draggable:"true",onDragStart:J=>J.dataTransfer.effectAllowed="move",className:"cursor-move bg-gradient-to-br from-orange-100 to-orange-200 p-6 lg:p-8 rounded-2xl border-2 border-orange-300 shadow-xl hover:scale-110 transition-all duration-300 animate-pulse",children:[o.jsx(VY,{size:48,className:"text-orange-600 mx-auto mb-2"}),o.jsx("p",{className:"text-sm font-bold text-orange-700 text-center",children:"CVs Folder"}),o.jsx("p",{className:"text-xs text-orange-600 text-center mt-1",children:"Drag me to Step 1!"})]})}),o.jsxs("div",{className:"grid lg:grid-cols-4 gap-6 lg:gap-8",children:[o.jsxs("div",{className:`relative transition-all duration-300 ${m.includes(1)?"opacity-60":""}`,onMouseEnter:()=>r(0),onMouseLeave:()=>r(null),children:[o.jsxs("div",{className:`bg-gradient-to-br from-orange-50 to-orange-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${m.includes(1)?"border-green-400":"border-orange-200"}`,children:[(n===0||h)&&o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-400 rounded-full blur-3xl opacity-40 animate-pulse"}),m.includes(1)&&o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(Mt,{size:24,className:"text-green-500"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-orange-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${n===0||h?"scale-110 rotate-6":""}`,children:o.jsx(wr,{className:"text-white",size:28})}),o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"text-xs lg:text-sm font-bold text-orange-600 bg-orange-200 px-3 py-1 rounded-full",children:"Step 1"})}),o.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-3 text-gray-900",children:"Upload CVs"}),o.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed mb-4",children:"Bulk upload hundreds of CVs instantly"}),!h&&c.length===0?o.jsxs("div",{className:`mt-6 border-2 border-dashed rounded-xl p-4 lg:p-6 text-center cursor-pointer transition-all duration-300 ${a?"border-orange-500 bg-orange-100 scale-105":"border-orange-300 bg-white hover:border-orange-400 hover:bg-orange-50"}`,onDragOver:k,onDragLeave:$,onDrop:O,onClick:M,children:[o.jsx(wr,{size:28,className:`mx-auto mb-3 transition-colors ${a?"text-orange-600":"text-orange-400"}`}),o.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-700 mb-1",children:a?"Drop here!":"Drop folder here"}),o.jsx("p",{className:"text-xs text-gray-500",children:"or click to try"})]}):o.jsx("div",{className:"mt-6 space-y-2",children:c.map((J,q)=>o.jsxs("div",{className:"flex items-center gap-2 text-xs lg:text-sm text-gray-700 bg-white p-2 rounded-lg shadow-sm animate-fadeIn",style:{animationDelay:`${q*100}ms`},children:[o.jsx(Br,{size:14,className:"text-orange-500 flex-shrink-0"}),o.jsx("span",{className:"truncate flex-1",children:J.name}),J.status==="completed"?o.jsx(Mt,{size:14,className:"text-green-500 flex-shrink-0"}):o.jsx("div",{className:"w-12 h-1.5 bg-orange-200 rounded-full overflow-hidden flex-shrink-0",children:o.jsx("div",{className:"h-full bg-orange-500 animate-progress"})})]},q))})]})]}),o.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${m.includes(1)?"bg-green-500":"bg-orange-500"} ${n===0||h?"scale-125":""}`,children:"1"})]}),m.includes(1)&&o.jsxs("div",{className:`relative transition-all duration-300 animate-fadeIn ${m.includes(2)?"opacity-60":""}`,onMouseEnter:()=>r(1),onMouseLeave:()=>r(null),children:[o.jsxs("div",{className:`bg-gradient-to-br from-purple-50 to-purple-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${m.includes(2)?"border-green-400":"border-purple-200"}`,children:[!m.includes(2)&&o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-400 rounded-full blur-3xl opacity-40 animate-pulse"}),m.includes(2)&&o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(Mt,{size:24,className:"text-green-500"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-purple-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${m.includes(2)?"":"scale-110 rotate-12 animate-pulse"}`,children:o.jsx(fr,{className:"text-white",size:28})}),o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"text-xs lg:text-sm font-bold text-purple-600 bg-purple-200 px-3 py-1 rounded-full",children:"Step 2"})}),o.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-3 text-gray-900",children:"AI Processing"}),o.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed mb-4",children:"Claude AI extracts data automatically"}),o.jsx("div",{className:"mt-6",children:o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[o.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-3",children:[!m.includes(2)&&o.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-ping"}),o.jsx(fr,{size:14,className:"text-purple-500"}),o.jsx("span",{className:`font-semibold ${m.includes(2)?"":"animate-pulse"}`,children:m.includes(2)?"Complete":"Analyzing..."})]}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",children:[o.jsx(Mt,{size:12,className:"text-green-500 flex-shrink-0"}),o.jsxs("span",{className:"text-gray-700",children:[o.jsx("strong",{children:"Skills:"})," React, Node.js"]})]}),o.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",style:{animationDelay:"150ms"},children:[o.jsx(Mt,{size:12,className:"text-green-500 flex-shrink-0"}),o.jsxs("span",{className:"text-gray-700",children:[o.jsx("strong",{children:"Experience:"})," 5 years"]})]}),o.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",style:{animationDelay:"300ms"},children:[o.jsx(Mt,{size:12,className:"text-green-500 flex-shrink-0"}),o.jsxs("span",{className:"text-gray-700",children:[o.jsx("strong",{children:"Education:"})," BSc CS"]})]})]})]})})]})]}),o.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${m.includes(2)?"bg-green-500":"bg-purple-500 animate-pulse"}`,children:"2"})]}),m.includes(2)&&o.jsxs("div",{className:`relative transition-all duration-300 animate-fadeIn ${m.includes(3)?"opacity-60":""}`,onMouseEnter:()=>r(2),onMouseLeave:()=>r(null),children:[o.jsxs("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${m.includes(3)?"border-green-400":"border-blue-200"}`,children:[!m.includes(3)&&o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-400 rounded-full blur-3xl opacity-40 animate-pulse"}),m.includes(3)&&o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(Mt,{size:24,className:"text-green-500"})}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-blue-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${m.includes(3)?"":"scale-110 -rotate-6"}`,children:o.jsx(U4,{className:"text-white",size:28})}),o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"text-xs lg:text-sm font-bold text-blue-600 bg-blue-200 px-3 py-1 rounded-full",children:"Step 3"})}),o.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-3 text-gray-900",children:"Filter & Match"}),o.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed mb-4",children:"Apply filters or job specifications"}),o.jsx("div",{className:"mt-6 space-y-2",children:x?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white p-2.5 rounded-lg shadow-md border-2 border-blue-400 animate-fadeIn",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx(Zl,{size:14,className:"text-blue-500 flex-shrink-0"}),o.jsxs("span",{className:"font-semibold",children:["Applied: ",x]}),o.jsx(Mt,{size:14,className:"text-green-500 ml-auto"})]})}),j&&o.jsx("div",{className:"mt-4 text-center animate-fadeIn",children:o.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 px-4 py-2 rounded-full text-xs font-bold shadow-lg scale-110",children:[o.jsx(sa,{size:16}),o.jsx("span",{className:"animate-pulse",children:"47 matches!"})]})})]}):o.jsxs(o.Fragment,{children:[o.jsx("p",{className:"text-xs text-gray-600 mb-2 font-semibold",children:"Click to apply:"}),o.jsx("button",{onClick:()=>U("skills"),className:"w-full bg-white p-2.5 rounded-lg shadow-sm border-2 border-blue-200 hover:border-blue-400 hover:scale-105 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx(Zl,{size:14,className:"text-blue-500 flex-shrink-0"}),o.jsx("span",{className:"font-semibold",children:"Skills:"}),o.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-medium",children:"React"})]})}),o.jsx("button",{onClick:()=>U("experience"),className:"w-full bg-white p-2.5 rounded-lg shadow-sm border-2 border-blue-200 hover:border-blue-400 hover:scale-105 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx(Zl,{size:14,className:"text-blue-500 flex-shrink-0"}),o.jsx("span",{className:"font-semibold",children:"Experience:"}),o.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-medium",children:"3+ years"})]})}),o.jsx("button",{onClick:()=>U("jobspec"),className:"w-full bg-gradient-to-r from-purple-50 to-purple-100 p-2.5 rounded-lg shadow-sm border-2 border-purple-300 hover:border-purple-400 hover:scale-105 transition-all duration-300",children:o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx(fr,{size:14,className:"text-purple-500 flex-shrink-0"}),o.jsx("span",{className:"font-semibold text-purple-700",children:"Job Match"})]})})]})})]})]}),o.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${m.includes(3)?"bg-green-500":"bg-blue-500 animate-pulse"}`,children:"3"})]}),m.includes(3)&&o.jsxs("div",{className:"relative transition-all duration-300 animate-fadeIn",onMouseEnter:()=>r(3),onMouseLeave:()=>r(null),children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 lg:p-8 rounded-2xl border-2 border-green-200 relative overflow-hidden h-full",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-400 rounded-full blur-3xl opacity-40 animate-pulse"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"w-14 h-14 lg:w-16 lg:h-16 bg-green-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg scale-110 rotate-6 animate-pulse",children:o.jsx(uf,{className:"text-white",size:28})}),o.jsx("div",{className:"mb-4",children:o.jsx("span",{className:"text-xs lg:text-sm font-bold text-green-600 bg-green-200 px-3 py-1 rounded-full",children:"Step 4"})}),o.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-3 text-gray-900",children:"Export & Hire"}),o.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed mb-4",children:"Export and analyze results"}),o.jsxs("div",{className:"mt-6 space-y-3",children:[o.jsxs("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white py-2.5 rounded-lg text-sm font-bold transition-all shadow-lg flex items-center justify-center gap-2 scale-105",children:[o.jsx(uf,{size:16}),o.jsx("span",{children:"Downloading..."}),o.jsx(Mt,{size:16,className:"animate-fadeIn"})]}),o.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-md animate-fadeIn",children:[o.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[o.jsx("span",{className:"text-gray-700 font-semibold",children:"Skills Distribution"}),o.jsx(Xl,{size:14,className:"text-green-500"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-700 w-14 font-medium",children:"React"}),o.jsx("div",{className:"flex-1 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-700 w-[85%]"})}),o.jsx("span",{className:"text-xs text-gray-600 w-8 text-right",children:"85%"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xs text-gray-700 w-14 font-medium",children:"Node.js"}),o.jsx("div",{className:"flex-1 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:o.jsx("div",{className:"h-full bg-green-400 rounded-full transition-all duration-700 w-[70%]"})}),o.jsx("span",{className:"text-xs text-gray-600 w-8 text-right",children:"70%"})]})]})]})]})]})]}),o.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 animate-pulse scale-125 text-sm lg:text-base",children:"4"})]})]})]})}),o.jsx("section",{id:"testimonials",className:"py-16 lg:py-24 bg-gradient-to-b from-gray-50 to-white overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-green-100 text-green-700 px-4 py-2 rounded-full mb-4",children:[o.jsx(hf,{size:16}),o.jsx("span",{className:"text-sm font-semibold",children:"Loved by HR Teams"})]}),o.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:["Trusted by ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"500+"})," Companies"]}),o.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:"See what recruitment teams are saying about CVSift"})]}),o.jsx("div",{className:"relative",children:o.jsx("div",{className:"testimonial-ticker",children:o.jsx("div",{className:"testimonial-track",children:[...I,...I].map((J,q)=>o.jsxs("div",{className:"testimonial-card bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex-shrink-0",children:[o.jsx("div",{className:"flex mb-3",children:[...Array(5)].map((Y,te)=>o.jsx(wC,{size:16,className:"text-yellow-400 fill-yellow-400"},te))}),o.jsxs("p",{className:"text-gray-700 leading-relaxed italic",children:['"',J.quote,'"']})]},q))})})})]})}),o.jsx("section",{id:"pricing",className:"py-16 lg:py-24 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[o.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-full mb-4",children:[o.jsx(Mt,{size:16}),o.jsx("span",{className:"text-sm font-semibold",children:"Flexible Plans"})]}),o.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:["Simple, ",o.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Transparent"})," Pricing"]}),o.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:"Choose the perfect plan for your team. Start free and upgrade anytime."})]}),o.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto mb-12",children:H.filter(J=>["Free","Basic","Professional"].includes(J.name)).map((J,q)=>o.jsxs("div",{className:`relative bg-white rounded-xl p-6 border transition-all hover:shadow-xl ${J.popular?"border-orange-500 shadow-lg ring-2 ring-orange-500 ring-opacity-50":"border-gray-200"}`,children:[J.popular&&o.jsx("div",{className:"absolute -top-3 left-6 bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"MOST POPULAR"}),o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("h3",{className:"text-xl font-bold mb-3",children:J.name}),o.jsxs("div",{className:"mb-4",children:[o.jsx("span",{className:"text-3xl font-bold",children:J.price}),J.period==="per month"&&o.jsx("span",{className:"text-gray-500 ml-1",children:"/mo"})]}),o.jsx("div",{className:"inline-block bg-orange-50 border border-orange-200 px-4 py-1.5 rounded-full",children:o.jsxs("span",{className:"text-sm font-bold text-orange-700",children:[J.cvLimit,"/month"]})})]}),o.jsxs("ul",{className:"space-y-2.5 mb-6 min-h-[100px]",children:[J.features.slice(0,3).map((Y,te)=>o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx(Mt,{className:"text-orange-500 flex-shrink-0 mt-0.5",size:16}),o.jsx("span",{className:"text-gray-700 text-sm",children:Y})]},te)),J.features.length>3&&o.jsxs("li",{className:"text-sm text-gray-500 italic",children:["+ ",J.features.length-3," more"]})]}),o.jsx("button",{onClick:()=>V("/signup"),className:`w-full py-2.5 rounded-lg font-semibold transition-all ${J.popular?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-900 text-white hover:bg-gray-800"}`,children:J.cta})]},q))}),H.filter(J=>J.name==="Enterprise").map((J,q)=>o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-8 text-white",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:J.name}),o.jsx("p",{className:"text-gray-300 mb-4",children:"For large organizations with complex needs"}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[o.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Unlimited CVs"}),o.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Custom Integrations"}),o.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Dedicated Support"})]})]}),o.jsx("button",{onClick:()=>V("/signup"),className:"px-8 py-3 bg-white text-gray-900 rounded-lg font-bold hover:bg-gray-100 transition-all",children:J.cta})]})})},q)),o.jsx("div",{className:"text-center mt-8 lg:mt-12",children:o.jsxs("p",{className:"text-sm lg:text-base text-gray-600",children:["Need more capacity? ",o.jsx("a",{href:"/pricing",className:"text-orange-600 font-semibold hover:underline",children:"Purchase CV packs"})," to add extra processing capacity to any plan"]})})]})}),o.jsxs("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-orange-500 via-orange-600 to-orange-700 text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLW9wYWNpdHk9Ii4xIi8+PC9nPjwvc3ZnPg==')] opacity-10"}),o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[o.jsx("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:"Ready to Hire Smarter?"}),o.jsx("p",{className:"text-lg lg:text-xl mb-8 lg:mb-12 opacity-90",children:"Join 500+ companies using CVSift to find top talent faster. Get started today."}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[o.jsx("button",{onClick:()=>V("/signup"),className:"w-full sm:w-auto bg-white text-orange-600 px-8 py-4 rounded-xl font-semibold text-base lg:text-lg hover:scale-105 transition-all shadow-2xl hover:shadow-white/50",children:"Start Free"}),o.jsx("button",{className:"w-full sm:w-auto border-2 border-white text-white px-8 py-4 rounded-xl font-semibold text-base lg:text-lg hover:bg-white/10 transition-all",children:"Schedule a Demo"})]}),o.jsx("p",{className:"mt-6 text-sm opacity-80",children:"Free plan included  No credit card required  Upgrade anytime"})]})]}),o.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12 lg:py-16",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 lg:gap-12 mb-8 lg:mb-12",children:[o.jsxs("div",{className:"col-span-2 md:col-span-1",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:o.jsx("span",{className:"text-white font-bold text-sm",children:"CV"})}),o.jsx("span",{className:"text-white text-xl font-bold",children:"Sift"})]}),o.jsx("p",{className:"text-sm leading-relaxed mb-4",children:"Making hiring faster and smarter with AI-powered CV screening."}),o.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Developed and designed by"," ",o.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-400 transition-colors font-semibold",children:"Automore"})]}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsxs("a",{href:"#",className:"w-8 h-8 bg-gray-800 hover:bg-orange-600 rounded-lg flex items-center justify-center transition-colors",children:[o.jsx("span",{className:"sr-only",children:"Twitter"}),o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),o.jsxs("a",{href:"#",className:"w-8 h-8 bg-gray-800 hover:bg-orange-600 rounded-lg flex items-center justify-center transition-colors",children:[o.jsx("span",{className:"sr-only",children:"LinkedIn"}),o.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Product"}),o.jsxs("ul",{className:"space-y-2.5 text-sm",children:[o.jsx("li",{children:o.jsx("a",{href:"#features",className:"hover:text-orange-500 transition-colors",children:"Features"})}),o.jsx("li",{children:o.jsx("a",{href:"#pricing",className:"hover:text-orange-500 transition-colors",children:"Pricing"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"API Docs"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Integrations"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Company"}),o.jsxs("ul",{className:"space-y-2.5 text-sm",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"About Us"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Blog"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Careers"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Contact"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Legal"}),o.jsxs("ul",{className:"space-y-2.5 text-sm",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Privacy Policy"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Terms of Service"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"GDPR"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Security"})})]})]})]}),o.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center",children:[o.jsx("p",{className:"text-sm text-center md:text-left mb-4 md:mb-0",children:" 2024 CVSift. All rights reserved."}),o.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Status"}),o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Help Center"}),o.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Sitemap"})]})]})]})}),o.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes progress {
          from {
            width: 0;
          }
          to {
            width: 100%;
          }
        }

        @keyframes scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-progress {
          animation: progress 1.5s ease-out forwards;
        }

        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }

        @keyframes ping {
          75%, 100% {
            transform: scale(2);
            opacity: 0;
          }
        }

        .animate-pulse {
          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .animate-ping {
          animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
        }

        .testimonial-ticker {
          overflow: hidden;
          width: 100%;
          position: relative;
        }

        .testimonial-track {
          display: flex;
          gap: 1.5rem;
          animation: scroll 60s linear infinite;
          width: fit-content;
        }

        .testimonial-track:hover {
          animation-play-state: paused;
        }

        .testimonial-card {
          width: 400px;
          max-width: 400px;
          min-height: 180px;
        }

        @media (max-width: 768px) {
          .testimonial-card {
            width: 320px;
            max-width: 320px;
          }
        }

        html {
          scroll-behavior: smooth;
        }
      `})]})}function UW(){const[t,e]=T.useState({displayName:"",email:"",password:"",confirmPassword:""}),[n,r]=T.useState({}),[a,s]=T.useState(!1),[c,u]=T.useState(!1),[h,f]=T.useState(!1),{signup:m,signInWithGoogle:g}=Cn(),x=$n(),v=E=>{e({...t,[E.target.name]:E.target.value}),n[E.target.name]&&r({...n,[E.target.name]:""})},j=()=>{const E={};return t.displayName.trim()||(E.displayName="Name is required"),t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(E.email="Email is invalid"):E.email="Email is required",t.password?t.password.length<6&&(E.password="Password must be at least 6 characters"):E.password="Password is required",t.password!==t.confirmPassword&&(E.confirmPassword="Passwords do not match"),r(E),Object.keys(E).length===0},w=async E=>{if(E.preventDefault(),!!j()){s(!0),r({});try{await m(t.email,t.password,t.displayName),u(!0),setTimeout(()=>{x("/dashboard")},2e3)}catch(S){r({submit:S.message||"Failed to create account. Please try again."})}finally{s(!1)}}},_=async()=>{f(!0),r({});try{await g(),x("/dashboard")}catch(E){r({submit:E.message||"Failed to sign in with Google. Please try again."})}finally{f(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),o.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),o.jsx("p",{className:"text-gray-600",children:"Start filtering CVs in seconds"})]}),c&&o.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start space-x-3",children:[o.jsx(Mt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-green-800 font-medium",children:"Account created successfully!"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Redirecting to dashboard..."})]})]}),n.submit&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[o.jsx($t,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),o.jsx("p",{className:"text-red-800 text-sm",children:n.submit})]}),o.jsxs("form",{onSubmit:w,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),o.jsxs("div",{className:"relative",children:[o.jsx(ii,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"text",id:"displayName",name:"displayName",value:t.displayName,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.displayName?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"})]}),n.displayName&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.displayName})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com"})]}),n.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(df,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.password?"border-red-500":"border-gray-300"}`,placeholder:""})]}),n.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.password})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx(df,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:""})]}),n.confirmPassword&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.confirmPassword})]}),o.jsx("button",{type:"submit",disabled:a||c||h,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:a?"Creating Account...":"Create Account"})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),o.jsxs("button",{onClick:_,disabled:a||c||h,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),h?"Signing in...":"Sign up with Google"]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",o.jsx("a",{href:"/signin",className:"text-orange-500 font-semibold hover:text-orange-600",children:"Sign In"})]})})]}),o.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["By signing up, you agree to our"," ",o.jsx("a",{href:"#",className:"text-orange-500 hover:underline",children:"Terms of Service"})," ","and"," ",o.jsx("a",{href:"#",className:"text-orange-500 hover:underline",children:"Privacy Policy"})]})]})})}function VW(){const[t,e]=T.useState({email:"",password:""}),[n,r]=T.useState({}),[a,s]=T.useState(!1),[c,u]=T.useState(!1),{signin:h,signInWithGoogle:f}=Cn(),m=$n(),g=w=>{e({...t,[w.target.name]:w.target.value}),n[w.target.name]&&r({...n,[w.target.name]:""})},x=()=>{const w={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(w.email="Email is invalid"):w.email="Email is required",t.password||(w.password="Password is required"),r(w),Object.keys(w).length===0},v=async w=>{if(w.preventDefault(),!!x()){s(!0),r({});try{await h(t.email,t.password),m("/dashboard")}catch(_){let E="Failed to sign in. Please try again.";_.code==="auth/user-not-found"||_.code==="auth/wrong-password"?E="Invalid email or password":_.code==="auth/too-many-requests"&&(E="Too many failed attempts. Please try again later."),r({submit:E})}finally{s(!1)}}},j=async()=>{u(!0),r({});try{await f(),m("/dashboard")}catch(w){r({submit:w.message||"Failed to sign in with Google. Please try again."})}finally{u(!1)}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),o.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),o.jsx("p",{className:"text-gray-600",children:"Sign in to your CVSift account"})]}),n.submit&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[o.jsx($t,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),o.jsx("p",{className:"text-red-800 text-sm",children:n.submit})]}),o.jsxs("div",{className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com"})]}),n.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),o.jsx(a_,{to:"/reset-password",className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"Forgot?"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(df,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.password?"border-red-500":"border-gray-300"}`,placeholder:""})]}),n.password&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.password})]}),o.jsx("button",{onClick:v,disabled:a||c,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:a?"Signing In...":"Sign In"})]}),o.jsxs("div",{className:"relative my-6",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),o.jsxs("button",{onClick:j,disabled:a||c,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[o.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[o.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),o.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),o.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),o.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),c?"Signing in...":"Sign in with Google"]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",o.jsx("a",{href:"/signup",className:"text-orange-500 font-semibold hover:text-orange-600",children:"Sign Up"})]})})]}),o.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Protected by enterprise-grade security"})]})})}function BW(){const[t,e]=T.useState(""),[n,r]=T.useState({}),[a,s]=T.useState(!1),[c,u]=T.useState(!1),{resetPassword:h}=Cn(),f=x=>{e(x.target.value),n.email&&r({})},m=()=>{const x={};return t.trim()?/\S+@\S+\.\S+/.test(t)||(x.email="Email is invalid"):x.email="Email is required",r(x),Object.keys(x).length===0},g=async x=>{if(x.preventDefault(),!!m()){s(!0),r({});try{await h(t),u(!0)}catch(v){let j="Failed to send reset email. Please try again.";v.code==="auth/user-not-found"?j="No account found with this email address":v.code==="auth/invalid-email"?j="Invalid email address":v.code==="auth/too-many-requests"&&(j="Too many requests. Please try again later."),r({submit:j})}finally{s(!1)}}};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsx("div",{className:"text-center mb-8",children:o.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),o.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),o.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:c?o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Ur,{className:"text-green-600",size:32})})}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Check Your Email"}),o.jsx("p",{className:"text-gray-600 mb-2",children:"We've sent a password reset link to:"}),o.jsx("p",{className:"text-gray-900 font-semibold mb-6",children:t}),o.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("a",{href:"/signin",className:"block w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02]",children:"Back to Sign In"}),o.jsx("button",{onClick:()=>{u(!1),e("")},className:"block w-full text-orange-500 hover:text-orange-600 py-2 font-medium transition-colors",children:"Send Another Link"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),o.jsx("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),n.submit&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[o.jsx($t,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),o.jsx("p",{className:"text-red-800 text-sm",children:n.submit})]}),o.jsxs("form",{onSubmit:g,className:"space-y-5",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsxs("div",{className:"relative",children:[o.jsx(Gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),o.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:f,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com",autoFocus:!0})]}),n.email&&o.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]}),o.jsx("button",{type:"submit",disabled:a,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:a?"Sending...":"Send Reset Link"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("a",{href:"/signin",className:"inline-flex items-center text-sm text-gray-600 hover:text-orange-500 font-medium transition-colors",children:[o.jsx(Ys,{size:16,className:"mr-1"}),"Back to Sign In"]})})]})}),o.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Protected by enterprise-grade security"})]})})}const vs={FREE:"free",STARTER:"starter",BASIC:"basic",PROFESSIONAL:"professional",BUSINESS:"business",ENTERPRISE:"enterprise"},Oa={[vs.FREE]:{name:"Free",cvLimit:10,jobSpecLimit:0,price:0,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:7,emailSupport:!0,jobSpecCreation:!1,advancedFiltering:!1,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!1,emailNotifications:!1,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["Basic filtering (skills, location)","7-day data retention","Email support","Export to CSV"]},[vs.STARTER]:{name:"Starter",cvLimit:50,jobSpecLimit:3,price:199,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:30,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!1,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["Basic + advanced filtering","30-day data retention","Email support","Bulk upload","Job spec creation","Email notifications"]},[vs.BASIC]:{name:"Basic",cvLimit:150,jobSpecLimit:10,price:399,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:90,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["All filtering options","90-day data retention","Priority email support","Advanced export options","Bulk upload","Email notifications"]},[vs.PROFESSIONAL]:{name:"Professional",cvLimit:600,jobSpecLimit:30,price:999,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:365,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:3,customFields:!0,prioritySupport:!0,advancedAnalytics:!0},description:["Everything in Basic","AI Chatbot Assistant","Predictive Analytics","API access","1-year data retention","Team collaboration (3 users)","Custom fields","Priority support"]},[vs.BUSINESS]:{name:"Business",cvLimit:1500,jobSpecLimit:100,price:1999,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:365,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:10,customFields:!0,prioritySupport:!0,advancedAnalytics:!0,customIntegrations:!0,dedicatedAccountManager:!1,ssoSecurity:!1},description:["Everything in Professional","Higher volume (1,500 CVs)","Team collaboration (10 users)","Custom integrations","Priority support","Advanced analytics"]},[vs.ENTERPRISE]:{name:"Enterprise",cvLimit:-1,jobSpecLimit:-1,price:null,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:-1,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:-1,customFields:!0,prioritySupport:!0,customIntegrations:!0,dedicatedAccountManager:!0,ssoSecurity:!0,whiteLabel:!0,slaGuarantee:!0,advancedAnalytics:!0},description:["Everything in Professional","Custom Analytics Reports","Custom integrations","Dedicated account manager","SSO & advanced security","White-label option","Custom data retention","SLA guarantee","Unlimited users"]}};function ud(t,e){return!t||!Oa[t]?Oa[vs.FREE].features[e]||!1:Oa[t].features[e]||!1}function Dp(t){return!t||!Oa[t]?Oa[vs.FREE].cvLimit:Oa[t].cvLimit}function Du(t){return ud(t,"jobSpecCreation")}function lw(t){return ud(t,"aiChatbot")}function eb(t){return!t||!Oa[t]?Oa[vs.FREE].jobSpecLimit:Oa[t].jobSpecLimit}const FW={SMALL:{id:"cv_pack_small",name:"Small Pack",cvCount:25,price:99,currency:"ZAR",description:"Add 25 extra CVs to your account",popular:!1},MEDIUM:{id:"cv_pack_medium",name:"Medium Pack",cvCount:75,price:249,currency:"ZAR",description:"Add 75 extra CVs to your account",savings:"16% savings",popular:!0},LARGE:{id:"cv_pack_large",name:"Large Pack",cvCount:200,price:599,currency:"ZAR",description:"Add 200 extra CVs to your account",savings:"25% savings",popular:!1},JUMBO:{id:"cv_pack_jumbo",name:"Jumbo Pack",cvCount:500,price:1299,currency:"ZAR",description:"Add 500 extra CVs to your account",savings:"35% savings",popular:!1}};function qW(){return Object.values(FW)}function $W(){const{currentUser:t,logout:e,userData:n}=Cn(),r=$n(),[a,s]=T.useState([]),[c,u]=T.useState(!0),[h,f]=T.useState(!1),[m,g]=T.useState(null);T.useEffect(()=>{v(),x()},[t,n]);const x=async()=>{if(!(!t||!n))try{const k=n?.teamAccess;if(k?.isTeamMember&&k?.teamOwnerId){console.log("Dashboard: Fetching team owner data for display");const $=Qt(),M=await _t($,"getTeamOwnerData")();M.data.success?g(M.data.ownerData):g(n)}else g(n)}catch(k){console.error("Error loading display user data:",k),g(n)}},v=async()=>{if(t)try{u(!0);const k=n?.teamAccess;if(k?.isTeamMember&&k?.teamOwnerId){console.log("Dashboard: Fetching team CVs via Cloud Function for owner:",k.teamOwnerId);const $=Qt(),M=await _t($,"getTeamCVs")();if(M.data.success){const G=M.data.cvs.map(H=>({...H,uploadedAt:H.uploadedAt?.toDate?H.uploadedAt.toDate():H.uploadedAt?._seconds?new Date(H.uploadedAt._seconds*1e3):new Date})).slice(0,5);console.log("Dashboard: Team CVs fetched:",G.length),s(G)}else throw new Error("Failed to fetch team CVs")}else{console.log("Dashboard: Fetching own CVs for user:",t.uid);const $=$i(Ra(It,"cvs"),br("userId","==",t.uid),Rg("uploadedAt","desc"),M$(5)),M=(await Hi($)).docs.map(U=>({id:U.id,...U.data()}));s(M)}u(!1)}catch(k){console.error("Error loading recent activity:",k),u(!1)}},j=async()=>{try{await e(),r("/")}catch(k){console.error("Failed to log out:",k)}},w=k=>k==="completed"?o.jsx(Ur,{className:"text-green-500",size:18}):k==="error"?o.jsx($t,{className:"text-red-500",size:18}):o.jsx(ty,{className:"text-orange-500",size:18}),_=k=>k==="completed"?"Parsed successfully":k==="error"?"Parsing failed":"Processing...",E=k=>{if(!k)return"Unknown";const $=k.toDate?k.toDate():new Date(k),M=Math.floor((new Date-$)/1e3);return M<60?"Just now":M<3600?`${Math.floor(M/60)}m ago`:M<86400?`${Math.floor(M/3600)}h ago`:`${Math.floor(M/86400)}d ago`},S=(m?.cvUploadsThisMonth||0)/(m?.cvUploadLimit||10)*100,C=t?.userData?.plan||"free",V=C==="professional"||C==="enterprise";return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"CV"})}),o.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]}),o.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-lime-50 to-lime-100 border border-lime-200 rounded-lg",children:[o.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Plan:"}),o.jsx("span",{className:"text-sm font-bold text-gray-900 capitalize",children:C}),V&&o.jsx(Ur,{size:14,className:"text-green-600"}),!V&&o.jsx("button",{onClick:()=>r("/pricing"),className:"text-xs text-orange-600 hover:text-orange-700 font-medium ml-1",children:"Upgrade"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[lw(C)&&o.jsxs("button",{onClick:()=>r("/chatbot"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg transition-all shadow-sm hover:shadow-md",title:"AI Assistant",children:[o.jsx(z4,{size:18}),o.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"AI Assistant"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>f(!h),className:"flex items-center space-x-3 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[t?.photoURL?o.jsx("img",{src:t.photoURL,alt:t.displayName,className:"w-8 h-8 rounded-full object-cover"}):o.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:o.jsx("span",{className:"text-white text-sm font-bold",children:t?.displayName?.charAt(0).toUpperCase()||"U"})}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:t?.displayName||t?.email?.split("@")[0]}),o.jsx(Mi,{size:16,className:"text-gray-600"})]}),h&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[o.jsxs("button",{onClick:()=>{f(!1),r("/settings")},className:"w-full flex items-center space-x-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:[o.jsx(V4,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Account Settings"})]}),o.jsx("div",{className:"border-t border-gray-200 my-2"}),o.jsxs("button",{onClick:()=>{f(!1),j()},className:"w-full flex items-center space-x-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[o.jsx(WY,{size:18}),o.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t?.displayName?.split(" ")[0]||"User","! "]}),o.jsx("p",{className:"text-gray-600",children:"Manage your CVs, create job specifications, and find the perfect candidates."})]}),o.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("button",{onClick:()=>r("/upload"),className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:o.jsx(wr,{className:"text-white",size:28})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Upload CVs"}),o.jsx("p",{className:"text-orange-100 text-sm",children:"Add new candidate CVs to your library"})]})]}),o.jsxs("button",{onClick:()=>r("/job-specs"),className:"group relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:o.jsx(ti,{className:"text-white",size:28})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Job Specs"}),o.jsx("p",{className:"text-blue-100 text-sm",children:"Create job specs and match CVs"})]})]}),o.jsxs("button",{onClick:()=>r("/cvs"),className:"group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:o.jsx(LY,{className:"text-white",size:28})}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Browse CVs"}),o.jsx("p",{className:"text-purple-100 text-sm",children:"Search, filter, and view your CV library"})]})]})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:o.jsx(wr,{className:"text-orange-500",size:24})}),o.jsx("span",{className:"text-sm font-medium text-gray-500",children:"This Month"})]}),o.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:m?.cvUploadsThisMonth||0}),o.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["CVs Uploaded",C!=="enterprise"?` / ${m?.cvUploadLimit||10}`:""]}),C!=="enterprise"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all",style:{width:`${Math.min(S,100)}%`}})}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:S>=100?"Limit reached":`${Math.round(100-S)}% remaining`})]}),C==="enterprise"&&o.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center",children:[o.jsx(hf,{size:14,className:"mr-1"}),"Unlimited uploads"]})]}),(m?.cvPackBalance||0)>0&&o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 shadow-sm border-2 border-purple-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:o.jsx(Ug,{className:"text-white",size:24})}),o.jsx("span",{className:"text-sm font-medium text-purple-700",children:"CV Packs"})]}),o.jsx("h3",{className:"text-3xl font-bold text-purple-900 mb-1",children:m?.cvPackBalance||0}),o.jsx("p",{className:"text-purple-700 text-sm mb-2",children:"Bonus CVs Available"}),o.jsx("p",{className:"text-xs text-purple-600",children:"These CVs never expire and are used automatically when your monthly limit is reached"})]}),o.jsx("button",{onClick:()=>r("/analytics"),className:"w-full bg-gradient-to-br from-lime-50 to-lime-100 rounded-xl p-6 shadow-sm border-2 border-lime-200 hover:shadow-md transition-all hover:-translate-y-1 text-left",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-12 h-12 bg-lime-600 rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx(Xl,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"View Analytics"}),o.jsx("p",{className:"text-sm text-gray-600",children:"See insights & trends"})]})]})})]}),o.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl p-8 shadow-sm border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Activity"}),o.jsx("button",{onClick:()=>r("/cvs"),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"View All"})]}),c?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading activity..."})]}):a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Br,{className:"text-gray-400",size:32})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No CVs uploaded yet"}),o.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start by uploading your first batch of CVs to begin filtering and finding the perfect candidates"}),o.jsx("button",{onClick:()=>r("/upload"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:"Upload Your First CV"})]}):o.jsx("div",{className:"space-y-3",children:a.map(k=>o.jsxs("div",{onClick:()=>r(`/cv/${k.id}`),className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer group",children:[o.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Br,{className:"text-orange-500",size:18})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-medium text-gray-900 truncate group-hover:text-orange-500 transition-colors",children:k.metadata?.name||k.fileName||"Unknown CV"}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[w(k.status),o.jsx("span",{className:"text-sm text-gray-500",children:_(k.status)})]})]})]}),o.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-900",children:E(k.uploadedAt)}),o.jsx("p",{className:"text-xs text-gray-400",children:k.uploadedAt?.toDate?k.uploadedAt.toDate().toLocaleDateString():"Unknown date"})]})]},k.id))})]})]}),!V&&o.jsx("div",{className:"mt-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-8 shadow-lg text-white",children:o.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-6",children:[o.jsxs("div",{className:"flex-1 min-w-[280px]",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Ready to unlock more features?"}),o.jsx("p",{className:"text-orange-100 mb-4",children:"Upgrade to Professional for higher CV limits, AI assistance, and advanced analytics."}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsxs("li",{className:"flex items-center",children:[o.jsx(Ur,{size:16,className:"mr-2 flex-shrink-0"}),o.jsx("span",{children:"600+ CVs per month (or 1,500 with Business plan)"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(Ur,{size:16,className:"mr-2 flex-shrink-0"}),o.jsx("span",{children:"AI chatbot assistant & advanced analytics"})]}),o.jsxs("li",{className:"flex items-center",children:[o.jsx(Ur,{size:16,className:"mr-2 flex-shrink-0"}),o.jsx("span",{children:"Add CV packs anytime for extra capacity"})]})]})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx("button",{onClick:()=>r("/pricing"),className:"bg-white text-orange-500 px-8 py-4 rounded-xl font-bold hover:bg-gray-50 transition-all hover:scale-105 shadow-lg",children:"View Plans & Pricing"})})]})})]})]})}function Pp(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var tb={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var _C;function HW(){return _C||(_C=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,a,s){function c(f,m){if(!a[f]){if(!r[f]){var g=typeof Pp=="function"&&Pp;if(!m&&g)return g(f,!0);if(u)return u(f,!0);var x=new Error("Cannot find module '"+f+"'");throw x.code="MODULE_NOT_FOUND",x}var v=a[f]={exports:{}};r[f][0].call(v.exports,function(j){var w=r[f][1][j];return c(w||j)},v,v.exports,n,r,a,s)}return a[f].exports}for(var u=typeof Pp=="function"&&Pp,h=0;h<s.length;h++)c(s[h]);return c})({1:[function(n,r,a){var s=n("./utils"),c=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(h){for(var f,m,g,x,v,j,w,_=[],E=0,S=h.length,C=S,V=s.getTypeOf(h)!=="string";E<h.length;)C=S-E,g=V?(f=h[E++],m=E<S?h[E++]:0,E<S?h[E++]:0):(f=h.charCodeAt(E++),m=E<S?h.charCodeAt(E++):0,E<S?h.charCodeAt(E++):0),x=f>>2,v=(3&f)<<4|m>>4,j=1<C?(15&m)<<2|g>>6:64,w=2<C?63&g:64,_.push(u.charAt(x)+u.charAt(v)+u.charAt(j)+u.charAt(w));return _.join("")},a.decode=function(h){var f,m,g,x,v,j,w=0,_=0,E="data:";if(h.substr(0,E.length)===E)throw new Error("Invalid base64 input, it looks like a data url.");var S,C=3*(h=h.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(h.charAt(h.length-1)===u.charAt(64)&&C--,h.charAt(h.length-2)===u.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=c.uint8array?new Uint8Array(0|C):new Array(0|C);w<h.length;)f=u.indexOf(h.charAt(w++))<<2|(x=u.indexOf(h.charAt(w++)))>>4,m=(15&x)<<4|(v=u.indexOf(h.charAt(w++)))>>2,g=(3&v)<<6|(j=u.indexOf(h.charAt(w++))),S[_++]=f,v!==64&&(S[_++]=m),j!==64&&(S[_++]=g);return S}},{"./support":30,"./utils":32}],2:[function(n,r,a){var s=n("./external"),c=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),h=n("./stream/DataLengthProbe");function f(m,g,x,v,j){this.compressedSize=m,this.uncompressedSize=g,this.crc32=x,this.compression=v,this.compressedContent=j}f.prototype={getContentWorker:function(){var m=new c(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new h("data_length")),g=this;return m.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new c(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(m,g,x){return m.pipe(new u).pipe(new h("uncompressedSize")).pipe(g.compressWorker(x)).pipe(new h("compressedSize")).withStreamInfo("compression",g)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,a){var s=n("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},a.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,a){var s=n("./utils"),c=(function(){for(var u,h=[],f=0;f<256;f++){u=f;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;h[f]=u}return h})();r.exports=function(u,h){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?(function(f,m,g,x){var v=c,j=x+g;f^=-1;for(var w=x;w<j;w++)f=f>>>8^v[255&(f^m[w])];return-1^f})(0|h,u,u.length,0):(function(f,m,g,x){var v=c,j=x+g;f^=-1;for(var w=x;w<j;w++)f=f>>>8^v[255&(f^m.charCodeAt(w))];return-1^f})(0|h,u,u.length,0):0}},{"./utils":32}],5:[function(n,r,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(n,r,a){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=n("pako"),u=n("./utils"),h=n("./stream/GenericWorker"),f=s?"uint8array":"array";function m(g,x){h.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=x,this.meta={}}a.magic="\b\0",u.inherits(m,h),m.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,g.data),!1)},m.prototype.flush=function(){h.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(x){g.push({data:x,meta:g.meta})}},a.compressWorker=function(g){return new m("Deflate",g)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,a){function s(v,j){var w,_="";for(w=0;w<j;w++)_+=String.fromCharCode(255&v),v>>>=8;return _}function c(v,j,w,_,E,S){var C,V,k=v.file,$=v.compression,O=S!==f.utf8encode,M=u.transformTo("string",S(k.name)),U=u.transformTo("string",f.utf8encode(k.name)),G=k.comment,H=u.transformTo("string",S(G)),D=u.transformTo("string",f.utf8encode(G)),B=U.length!==k.name.length,I=D.length!==G.length,J="",q="",Y="",te=k.dir,Z=k.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};j&&!w||(ge.crc32=v.crc32,ge.compressedSize=v.compressedSize,ge.uncompressedSize=v.uncompressedSize);var L=0;j&&(L|=8),O||!B&&!I||(L|=2048);var F=0,se=0;te&&(F|=16),E==="UNIX"?(se=798,F|=(function(ue,Re){var Ee=ue;return ue||(Ee=Re?16893:33204),(65535&Ee)<<16})(k.unixPermissions,te)):(se=20,F|=(function(ue){return 63&(ue||0)})(k.dosPermissions)),C=Z.getUTCHours(),C<<=6,C|=Z.getUTCMinutes(),C<<=5,C|=Z.getUTCSeconds()/2,V=Z.getUTCFullYear()-1980,V<<=4,V|=Z.getUTCMonth()+1,V<<=5,V|=Z.getUTCDate(),B&&(q=s(1,1)+s(m(M),4)+U,J+="up"+s(q.length,2)+q),I&&(Y=s(1,1)+s(m(H),4)+D,J+="uc"+s(Y.length,2)+Y);var le="";return le+=`
\0`,le+=s(L,2),le+=$.magic,le+=s(C,2),le+=s(V,2),le+=s(ge.crc32,4),le+=s(ge.compressedSize,4),le+=s(ge.uncompressedSize,4),le+=s(M.length,2),le+=s(J.length,2),{fileRecord:g.LOCAL_FILE_HEADER+le+M+J,dirRecord:g.CENTRAL_FILE_HEADER+s(se,2)+le+s(H.length,2)+"\0\0\0\0"+s(F,4)+s(_,4)+M+J+H}}var u=n("../utils"),h=n("../stream/GenericWorker"),f=n("../utf8"),m=n("../crc32"),g=n("../signature");function x(v,j,w,_){h.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=w,this.encodeFileName=_,this.streamFiles=v,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(x,h),x.prototype.push=function(v){var j=v.meta.percent||0,w=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(v):(this.bytesWritten+=v.data.length,h.prototype.push.call(this,{data:v.data,meta:{currentFile:this.currentFile,percent:w?(j+100*(w-_-1))/w:100}}))},x.prototype.openedSource=function(v){this.currentSourceOffset=this.bytesWritten,this.currentFile=v.file.name;var j=this.streamFiles&&!v.file.dir;if(j){var w=c(v,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(v){this.accumulate=!1;var j=this.streamFiles&&!v.file.dir,w=c(v,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),j)this.push({data:(function(_){return g.DATA_DESCRIPTOR+s(_.crc32,4)+s(_.compressedSize,4)+s(_.uncompressedSize,4)})(v),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var v=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var w=this.bytesWritten-v,_=(function(E,S,C,V,k){var $=u.transformTo("string",k(V));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(E,2)+s(E,2)+s(S,4)+s(C,4)+s($.length,2)+$})(this.dirRecords.length,w,v,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(v){this._sources.push(v);var j=this;return v.on("data",function(w){j.processChunk(w)}),v.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),v.on("error",function(w){j.error(w)}),this},x.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(v){var j=this._sources;if(!h.prototype.error.call(this,v))return!1;for(var w=0;w<j.length;w++)try{j[w].error(v)}catch{}return!0},x.prototype.lock=function(){h.prototype.lock.call(this);for(var v=this._sources,j=0;j<v.length;j++)v[j].lock()},r.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,a){var s=n("../compressions"),c=n("./ZipFileWorker");a.generateWorker=function(u,h,f){var m=new c(h.streamFiles,f,h.platform,h.encodeFileName),g=0;try{u.forEach(function(x,v){g++;var j=(function(S,C){var V=S||C,k=s[V];if(!k)throw new Error(V+" is not a valid compression method !");return k})(v.options.compression,h.compression),w=v.options.compressionOptions||h.compressionOptions||{},_=v.dir,E=v.date;v._compressWorker(j,w).withStreamInfo("file",{name:x,dir:_,date:E,comment:v.comment||"",unixPermissions:v.unixPermissions,dosPermissions:v.dosPermissions}).pipe(m)}),m.entriesCount=g}catch(x){m.error(x)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,a){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new s;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(c,u){return new s().loadAsync(c,u)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,a){var s=n("./utils"),c=n("./external"),u=n("./utf8"),h=n("./zipEntries"),f=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function g(x){return new c.Promise(function(v,j){var w=x.decompressed.getContentWorker().pipe(new f);w.on("error",function(_){j(_)}).on("end",function(){w.streamInfo.crc32!==x.decompressed.crc32?j(new Error("Corrupted zip : CRC32 mismatch")):v()}).resume()})}r.exports=function(x,v){var j=this;return v=s.extend(v||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(x)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",x,!0,v.optimizedBinaryString,v.base64).then(function(w){var _=new h(v);return _.load(w),_}).then(function(w){var _=[c.Promise.resolve(w)],E=w.files;if(v.checkCRC32)for(var S=0;S<E.length;S++)_.push(g(E[S]));return c.Promise.all(_)}).then(function(w){for(var _=w.shift(),E=_.files,S=0;S<E.length;S++){var C=E[S],V=C.fileNameStr,k=s.resolve(C.fileNameStr);j.file(k,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:v.createFolders}),C.dir||(j.file(k).unsafeOriginalName=V)}return _.zipComment.length&&(j.comment=_.zipComment),j})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,a){var s=n("../utils"),c=n("../stream/GenericWorker");function u(h,f){c.call(this,"Nodejs stream input adapter for "+h),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(u,c),u.prototype._bindStream=function(h){var f=this;(this._stream=h).pause(),h.on("data",function(m){f.push({data:m,meta:{percent:0}})}).on("error",function(m){f.isPaused?this.generatedError=m:f.error(m)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,a){var s=n("readable-stream").Readable;function c(u,h,f){s.call(this,h),this._helper=u;var m=this;u.on("data",function(g,x){m.push(g)||m._helper.pause(),f&&f(x)}).on("error",function(g){m.emit("error",g)}).on("end",function(){m.push(null)})}n("../utils").inherits(c,s),c.prototype._read=function(){this._helper.resume()},r.exports=c},{"../utils":32,"readable-stream":16}],14:[function(n,r,a){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,c);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,c)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var c=new Buffer(s);return c.fill(0),c},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,a){function s(k,$,O){var M,U=u.getTypeOf($),G=u.extend(O||{},m);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(k=E(k)),G.createFolders&&(M=_(k))&&S.call(this,M,!0);var H=U==="string"&&G.binary===!1&&G.base64===!1;O&&O.binary!==void 0||(G.binary=!H),($ instanceof g&&$.uncompressedSize===0||G.dir||!$||$.length===0)&&(G.base64=!1,G.binary=!0,$="",G.compression="STORE",U="string");var D=null;D=$ instanceof g||$ instanceof h?$:j.isNode&&j.isStream($)?new w(k,$):u.prepareContent(k,$,G.binary,G.optimizedBinaryString,G.base64);var B=new x(k,D,G);this.files[k]=B}var c=n("./utf8"),u=n("./utils"),h=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),m=n("./defaults"),g=n("./compressedObject"),x=n("./zipObject"),v=n("./generate"),j=n("./nodejsUtils"),w=n("./nodejs/NodejsStreamInputAdapter"),_=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var $=k.lastIndexOf("/");return 0<$?k.substring(0,$):""},E=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},S=function(k,$){return $=$!==void 0?$:m.createFolders,k=E(k),this.files[k]||s.call(this,k,null,{dir:!0,createFolders:$}),this.files[k]};function C(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var V={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var $,O,M;for($ in this.files)M=this.files[$],(O=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&k(O,M)},filter:function(k){var $=[];return this.forEach(function(O,M){k(O,M)&&$.push(M)}),$},file:function(k,$,O){if(arguments.length!==1)return k=this.root+k,s.call(this,k,$,O),this;if(C(k)){var M=k;return this.filter(function(G,H){return!H.dir&&M.test(G)})}var U=this.files[this.root+k];return U&&!U.dir?U:null},folder:function(k){if(!k)return this;if(C(k))return this.filter(function(U,G){return G.dir&&k.test(U)});var $=this.root+k,O=S.call(this,$),M=this.clone();return M.root=O.name,M},remove:function(k){k=this.root+k;var $=this.files[k];if($||(k.slice(-1)!=="/"&&(k+="/"),$=this.files[k]),$&&!$.dir)delete this.files[k];else for(var O=this.filter(function(U,G){return G.name.slice(0,k.length)===k}),M=0;M<O.length;M++)delete this.files[O[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var $,O={};try{if((O=u.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");u.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var M=O.comment||this.comment||"";$=v.generateWorker(this,O,M)}catch(U){($=new h("error")).error(U)}return new f($,O.type||"string",O.mimeType)},generateAsync:function(k,$){return this.generateInternalStream(k).accumulate($)},generateNodeStream:function(k,$){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream($)}};r.exports=V},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,a){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,a){var s=n("./DataReader");function c(u){s.call(this,u);for(var h=0;h<this.data.length;h++)u[h]=255&u[h]}n("../utils").inherits(c,s),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var h=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),g=u.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===h&&this.data[x+1]===f&&this.data[x+2]===m&&this.data[x+3]===g)return x-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var h=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),g=u.charCodeAt(3),x=this.readData(4);return h===x[0]&&f===x[1]&&m===x[2]&&g===x[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./DataReader":18}],18:[function(n,r,a){var s=n("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var h,f=0;for(this.checkOffset(u),h=this.index+u-1;h>=this.index;h--)f=(f<<8)+this.byteAt(h);return this.index+=u,f},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},r.exports=c},{"../utils":32}],19:[function(n,r,a){var s=n("./Uint8ArrayReader");function c(u){s.call(this,u)}n("../utils").inherits(c,s),c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,a){var s=n("./DataReader");function c(u){s.call(this,u)}n("../utils").inherits(c,s),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var h=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./DataReader":18}],21:[function(n,r,a){var s=n("./ArrayReader");function c(u){s.call(this,u)}n("../utils").inherits(c,s),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var h=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,h},r.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,a){var s=n("../utils"),c=n("../support"),u=n("./ArrayReader"),h=n("./StringReader"),f=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");r.exports=function(g){var x=s.getTypeOf(g);return s.checkSupport(x),x!=="string"||c.uint8array?x==="nodebuffer"?new f(g):c.uint8array?new m(s.transformTo("uint8array",g)):new u(s.transformTo("array",g)):new h(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,a){var s=n("./GenericWorker"),c=n("../utils");function u(h){s.call(this,"ConvertWorker to "+h),this.destType=h}c.inherits(u,s),u.prototype.processChunk=function(h){this.push({data:c.transformTo(this.destType,h.data),meta:h.meta})},r.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,a){var s=n("./GenericWorker"),c=n("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,s),u.prototype.processChunk=function(h){this.streamInfo.crc32=c(h.data,this.streamInfo.crc32||0),this.push(h)},r.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,a){var s=n("../utils"),c=n("./GenericWorker");function u(h){c.call(this,"DataLengthProbe for "+h),this.propName=h,this.withStreamInfo(h,0)}s.inherits(u,c),u.prototype.processChunk=function(h){if(h){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+h.data.length}c.prototype.processChunk.call(this,h)},r.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,a){var s=n("../utils"),c=n("./GenericWorker");function u(h){c.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,h.then(function(m){f.dataIsReady=!0,f.data=m,f.max=m&&m.length||0,f.type=s.getTypeOf(m),f.isPaused||f._tickAndRepeat()},function(m){f.error(m)})}s.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var h=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":h=this.data.substring(this.index,f);break;case"uint8array":h=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":h=this.data.slice(this.index,f)}return this.index=f,this.push({data:h,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,a){function s(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var h=0;h<this._listeners[c].length;h++)this._listeners[c][h].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(h){u.processChunk(h)}),c.on("end",function(){u.end()}),c.on("error",function(h){u.error(h)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},r.exports=s},{}],29:[function(n,r,a){var s=n("../utils"),c=n("./ConvertWorker"),u=n("./GenericWorker"),h=n("../base64"),f=n("../support"),m=n("../external"),g=null;if(f.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(j,w){return new m.Promise(function(_,E){var S=[],C=j._internalType,V=j._outputType,k=j._mimeType;j.on("data",function($,O){S.push($),w&&w(O)}).on("error",function($){S=[],E($)}).on("end",function(){try{var $=(function(O,M,U){switch(O){case"blob":return s.newBlob(s.transformTo("arraybuffer",M),U);case"base64":return h.encode(M);default:return s.transformTo(O,M)}})(V,(function(O,M){var U,G=0,H=null,D=0;for(U=0;U<M.length;U++)D+=M[U].length;switch(O){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(H=new Uint8Array(D),U=0;U<M.length;U++)H.set(M[U],G),G+=M[U].length;return H;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+O+"'")}})(C,S),k);_($)}catch(O){E(O)}S=[]}).resume()})}function v(j,w,_){var E=w;switch(w){case"blob":case"arraybuffer":E="uint8array";break;case"base64":E="string"}try{this._internalType=E,this._outputType=w,this._mimeType=_,s.checkSupport(E),this._worker=j.pipe(new c(E)),j.lock()}catch(S){this._worker=new u("error"),this._worker.error(S)}}v.prototype={accumulate:function(j){return x(this,j)},on:function(j,w){var _=this;return j==="data"?this._worker.on(j,function(E){w.call(_,E.data,E.meta)}):this._worker.on(j,function(){s.delay(w,arguments,_)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(j){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},j)}},r.exports=v},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var s=new ArrayBuffer(0);try{a.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(s),a.blob=c.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!n("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,a){for(var s=n("./utils"),c=n("./support"),u=n("./nodejsUtils"),h=n("./stream/GenericWorker"),f=new Array(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;f[254]=f[254]=1;function g(){h.call(this,"utf-8 decode"),this.leftOver=null}function x(){h.call(this,"utf-8 encode")}a.utf8encode=function(v){return c.nodebuffer?u.newBufferFrom(v,"utf-8"):(function(j){var w,_,E,S,C,V=j.length,k=0;for(S=0;S<V;S++)(64512&(_=j.charCodeAt(S)))==55296&&S+1<V&&(64512&(E=j.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(E-56320),S++),k+=_<128?1:_<2048?2:_<65536?3:4;for(w=c.uint8array?new Uint8Array(k):new Array(k),S=C=0;C<k;S++)(64512&(_=j.charCodeAt(S)))==55296&&S+1<V&&(64512&(E=j.charCodeAt(S+1)))==56320&&(_=65536+(_-55296<<10)+(E-56320),S++),_<128?w[C++]=_:(_<2048?w[C++]=192|_>>>6:(_<65536?w[C++]=224|_>>>12:(w[C++]=240|_>>>18,w[C++]=128|_>>>12&63),w[C++]=128|_>>>6&63),w[C++]=128|63&_);return w})(v)},a.utf8decode=function(v){return c.nodebuffer?s.transformTo("nodebuffer",v).toString("utf-8"):(function(j){var w,_,E,S,C=j.length,V=new Array(2*C);for(w=_=0;w<C;)if((E=j[w++])<128)V[_++]=E;else if(4<(S=f[E]))V[_++]=65533,w+=S-1;else{for(E&=S===2?31:S===3?15:7;1<S&&w<C;)E=E<<6|63&j[w++],S--;1<S?V[_++]=65533:E<65536?V[_++]=E:(E-=65536,V[_++]=55296|E>>10&1023,V[_++]=56320|1023&E)}return V.length!==_&&(V.subarray?V=V.subarray(0,_):V.length=_),s.applyFromCharCode(V)})(v=s.transformTo(c.uint8array?"uint8array":"array",v))},s.inherits(g,h),g.prototype.processChunk=function(v){var j=s.transformTo(c.uint8array?"uint8array":"array",v.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var w=j;(j=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),j.set(w,this.leftOver.length)}else j=this.leftOver.concat(j);this.leftOver=null}var _=(function(S,C){var V;for((C=C||S.length)>S.length&&(C=S.length),V=C-1;0<=V&&(192&S[V])==128;)V--;return V<0||V===0?C:V+f[S[V]]>C?V:C})(j),E=j;_!==j.length&&(c.uint8array?(E=j.subarray(0,_),this.leftOver=j.subarray(_,j.length)):(E=j.slice(0,_),this.leftOver=j.slice(_,j.length))),this.push({data:a.utf8decode(E),meta:v.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=g,s.inherits(x,h),x.prototype.processChunk=function(v){this.push({data:a.utf8encode(v.data),meta:v.meta})},a.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,a){var s=n("./support"),c=n("./base64"),u=n("./nodejsUtils"),h=n("./external");function f(w){return w}function m(w,_){for(var E=0;E<w.length;++E)_[E]=255&w.charCodeAt(E);return _}n("setimmediate"),a.newBlob=function(w,_){a.checkSupport("blob");try{return new Blob([w],{type:_})}catch{try{var E=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return E.append(w),E.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(w,_,E){var S=[],C=0,V=w.length;if(V<=E)return String.fromCharCode.apply(null,w);for(;C<V;)_==="array"||_==="nodebuffer"?S.push(String.fromCharCode.apply(null,w.slice(C,Math.min(C+E,V)))):S.push(String.fromCharCode.apply(null,w.subarray(C,Math.min(C+E,V)))),C+=E;return S.join("")},stringifyByChar:function(w){for(var _="",E=0;E<w.length;E++)_+=String.fromCharCode(w[E]);return _},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function x(w){var _=65536,E=a.getTypeOf(w),S=!0;if(E==="uint8array"?S=g.applyCanBeUsed.uint8array:E==="nodebuffer"&&(S=g.applyCanBeUsed.nodebuffer),S)for(;1<_;)try{return g.stringifyByChunk(w,E,_)}catch{_=Math.floor(_/2)}return g.stringifyByChar(w)}function v(w,_){for(var E=0;E<w.length;E++)_[E]=w[E];return _}a.applyFromCharCode=x;var j={};j.string={string:f,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return j.string.uint8array(w).buffer},uint8array:function(w){return m(w,new Uint8Array(w.length))},nodebuffer:function(w){return m(w,u.allocBuffer(w.length))}},j.array={string:x,array:f,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return u.newBufferFrom(w)}},j.arraybuffer={string:function(w){return x(new Uint8Array(w))},array:function(w){return v(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:f,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return u.newBufferFrom(new Uint8Array(w))}},j.uint8array={string:x,array:function(w){return v(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:f,nodebuffer:function(w){return u.newBufferFrom(w)}},j.nodebuffer={string:x,array:function(w){return v(w,new Array(w.length))},arraybuffer:function(w){return j.nodebuffer.uint8array(w).buffer},uint8array:function(w){return v(w,new Uint8Array(w.length))},nodebuffer:f},a.transformTo=function(w,_){if(_=_||"",!w)return _;a.checkSupport(w);var E=a.getTypeOf(_);return j[E][w](_)},a.resolve=function(w){for(var _=w.split("/"),E=[],S=0;S<_.length;S++){var C=_[S];C==="."||C===""&&S!==0&&S!==_.length-1||(C===".."?E.pop():E.push(C))}return E.join("/")},a.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(w)?"nodebuffer":s.uint8array&&w instanceof Uint8Array?"uint8array":s.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(w){if(!s[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(w){var _,E,S="";for(E=0;E<(w||"").length;E++)S+="\\x"+((_=w.charCodeAt(E))<16?"0":"")+_.toString(16).toUpperCase();return S},a.delay=function(w,_,E){setImmediate(function(){w.apply(E||null,_||[])})},a.inherits=function(w,_){function E(){}E.prototype=_.prototype,w.prototype=new E},a.extend=function(){var w,_,E={};for(w=0;w<arguments.length;w++)for(_ in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],_)&&E[_]===void 0&&(E[_]=arguments[w][_]);return E},a.prepareContent=function(w,_,E,S,C){return h.Promise.resolve(_).then(function(V){return s.blob&&(V instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(V))!==-1)&&typeof FileReader<"u"?new h.Promise(function(k,$){var O=new FileReader;O.onload=function(M){k(M.target.result)},O.onerror=function(M){$(M.target.error)},O.readAsArrayBuffer(V)}):V}).then(function(V){var k=a.getTypeOf(V);return k?(k==="arraybuffer"?V=a.transformTo("uint8array",V):k==="string"&&(C?V=c.decode(V):E&&S!==!0&&(V=(function($){return m($,s.uint8array?new Uint8Array($.length):new Array($.length))})(V))),V):h.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,a){var s=n("./reader/readerFor"),c=n("./utils"),u=n("./signature"),h=n("./zipEntry"),f=n("./support");function m(g){this.files=[],this.loadOptions=g}m.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(x)+", expected "+c.pretty(g)+")")}},isSignature:function(g,x){var v=this.reader.index;this.reader.setIndex(g);var j=this.reader.readString(4)===x;return this.reader.setIndex(v),j},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),x=f.uint8array?"uint8array":"array",v=c.transformTo(x,g);this.zipComment=this.loadOptions.decodeFileName(v)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,x,v,j=this.zip64EndOfCentralSize-44;0<j;)g=this.reader.readInt(2),x=this.reader.readInt(4),v=this.reader.readData(x),this.zip64ExtensibleData[g]={id:g,length:x,value:v}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,x;for(g=0;g<this.files.length;g++)x=this.files[g],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(g=new h({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var x=g;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var v=this.centralDirOffset+this.centralDirSize;this.zip64&&(v+=20,v+=12+this.zip64EndOfCentralSize);var j=x-v;if(0<j)this.isSignature(x,u.CENTRAL_FILE_HEADER)||(this.reader.zero=j);else if(j<0)throw new Error("Corrupted zip: missing "+Math.abs(j)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,a){var s=n("./reader/readerFor"),c=n("./utils"),u=n("./compressedObject"),h=n("./crc32"),f=n("./utf8"),m=n("./compressions"),g=n("./support");function x(v,j){this.options=v,this.loadOptions=j}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(v){var j,w;if(v.skip(22),this.fileNameLength=v.readInt(2),w=v.readInt(2),this.fileName=v.readData(this.fileNameLength),v.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((j=(function(_){for(var E in m)if(Object.prototype.hasOwnProperty.call(m,E)&&m[E].magic===_)return m[E];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,j,v.readData(this.compressedSize))},readCentralPart:function(v){this.versionMadeBy=v.readInt(2),v.skip(2),this.bitFlag=v.readInt(2),this.compressionMethod=v.readString(2),this.date=v.readDate(),this.crc32=v.readInt(4),this.compressedSize=v.readInt(4),this.uncompressedSize=v.readInt(4);var j=v.readInt(2);if(this.extraFieldsLength=v.readInt(2),this.fileCommentLength=v.readInt(2),this.diskNumberStart=v.readInt(2),this.internalFileAttributes=v.readInt(2),this.externalFileAttributes=v.readInt(4),this.localHeaderOffset=v.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");v.skip(j),this.readExtraFields(v),this.parseZIP64ExtraField(v),this.fileComment=v.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var v=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),v==0&&(this.dosPermissions=63&this.externalFileAttributes),v==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var v=s(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=v.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=v.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=v.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=v.readInt(4))}},readExtraFields:function(v){var j,w,_,E=v.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});v.index+4<E;)j=v.readInt(2),w=v.readInt(2),_=v.readData(w),this.extraFields[j]={id:j,length:w,value:_};v.setIndex(E)},handleUTF8:function(){var v=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var j=this.findExtraFieldUnicodePath();if(j!==null)this.fileNameStr=j;else{var w=c.transformTo(v,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var E=c.transformTo(v,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(E)}}},findExtraFieldUnicodePath:function(){var v=this.extraFields[28789];if(v){var j=s(v.value);return j.readInt(1)!==1||h(this.fileName)!==j.readInt(4)?null:f.utf8decode(j.readData(v.length-5))}return null},findExtraFieldUnicodeComment:function(){var v=this.extraFields[25461];if(v){var j=s(v.value);return j.readInt(1)!==1||h(this.fileComment)!==j.readInt(4)?null:f.utf8decode(j.readData(v.length-5))}return null}},r.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,a){function s(j,w,_){this.name=j,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=w,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var c=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),h=n("./utf8"),f=n("./compressedObject"),m=n("./stream/GenericWorker");s.prototype={internalStream:function(j){var w=null,_="string";try{if(!j)throw new Error("No output type specified.");var E=(_=j.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),w=this._decompressWorker();var S=!this._dataBinary;S&&!E&&(w=w.pipe(new h.Utf8EncodeWorker)),!S&&E&&(w=w.pipe(new h.Utf8DecodeWorker))}catch(C){(w=new m("error")).error(C)}return new c(w,_,"")},async:function(j,w){return this.internalStream(j).accumulate(w)},nodeStream:function(j,w){return this.internalStream(j||"nodebuffer").toNodejsStream(w)},_compressWorker:function(j,w){if(this._data instanceof f&&this._data.compression.magic===j.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new h.Utf8EncodeWorker)),f.createWorkerFrom(_,j,w)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},v=0;v<g.length;v++)s.prototype[g[v]]=x;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,a){(function(s){var c,u,h=s.MutationObserver||s.WebKitMutationObserver;if(h){var f=0,m=new h(j),g=s.document.createTextNode("");m.observe(g,{characterData:!0}),c=function(){g.data=f=++f%2}}else if(s.setImmediate||s.MessageChannel===void 0)c="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var w=s.document.createElement("script");w.onreadystatechange=function(){j(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:function(){setTimeout(j,0)};else{var x=new s.MessageChannel;x.port1.onmessage=j,c=function(){x.port2.postMessage(0)}}var v=[];function j(){var w,_;u=!0;for(var E=v.length;E;){for(_=v,v=[],w=-1;++w<E;)_[w]();E=v.length}u=!1}r.exports=function(w){v.push(w)!==1||u||c()}}).call(this,typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,a){var s=n("immediate");function c(){}var u={},h=["REJECTED"],f=["FULFILLED"],m=["PENDING"];function g(E){if(typeof E!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,E!==c&&w(this,E)}function x(E,S,C){this.promise=E,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function v(E,S,C){s(function(){var V;try{V=S(C)}catch(k){return u.reject(E,k)}V===E?u.reject(E,new TypeError("Cannot resolve promise with itself")):u.resolve(E,V)})}function j(E){var S=E&&E.then;if(E&&(typeof E=="object"||typeof E=="function")&&typeof S=="function")return function(){S.apply(E,arguments)}}function w(E,S){var C=!1;function V(O){C||(C=!0,u.reject(E,O))}function k(O){C||(C=!0,u.resolve(E,O))}var $=_(function(){S(k,V)});$.status==="error"&&V($.value)}function _(E,S){var C={};try{C.value=E(S),C.status="success"}catch(V){C.status="error",C.value=V}return C}(r.exports=g).prototype.finally=function(E){if(typeof E!="function")return this;var S=this.constructor;return this.then(function(C){return S.resolve(E()).then(function(){return C})},function(C){return S.resolve(E()).then(function(){throw C})})},g.prototype.catch=function(E){return this.then(null,E)},g.prototype.then=function(E,S){if(typeof E!="function"&&this.state===f||typeof S!="function"&&this.state===h)return this;var C=new this.constructor(c);return this.state!==m?v(C,this.state===f?E:S,this.outcome):this.queue.push(new x(C,E,S)),C},x.prototype.callFulfilled=function(E){u.resolve(this.promise,E)},x.prototype.otherCallFulfilled=function(E){v(this.promise,this.onFulfilled,E)},x.prototype.callRejected=function(E){u.reject(this.promise,E)},x.prototype.otherCallRejected=function(E){v(this.promise,this.onRejected,E)},u.resolve=function(E,S){var C=_(j,S);if(C.status==="error")return u.reject(E,C.value);var V=C.value;if(V)w(E,V);else{E.state=f,E.outcome=S;for(var k=-1,$=E.queue.length;++k<$;)E.queue[k].callFulfilled(S)}return E},u.reject=function(E,S){E.state=h,E.outcome=S;for(var C=-1,V=E.queue.length;++C<V;)E.queue[C].callRejected(S);return E},g.resolve=function(E){return E instanceof this?E:u.resolve(new this(c),E)},g.reject=function(E){var S=new this(c);return u.reject(S,E)},g.all=function(E){var S=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,V=!1;if(!C)return this.resolve([]);for(var k=new Array(C),$=0,O=-1,M=new this(c);++O<C;)U(E[O],O);return M;function U(G,H){S.resolve(G).then(function(D){k[H]=D,++$!==C||V||(V=!0,u.resolve(M,k))},function(D){V||(V=!0,u.reject(M,D))})}},g.race=function(E){var S=this;if(Object.prototype.toString.call(E)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=E.length,V=!1;if(!C)return this.resolve([]);for(var k=-1,$=new this(c);++k<C;)O=E[k],S.resolve(O).then(function(M){V||(V=!0,u.resolve($,M))},function(M){V||(V=!0,u.reject($,M))});var O;return $}},{immediate:36}],38:[function(n,r,a){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,a){var s=n("./zlib/deflate"),c=n("./utils/common"),u=n("./utils/strings"),h=n("./zlib/messages"),f=n("./zlib/zstream"),m=Object.prototype.toString,g=0,x=-1,v=0,j=8;function w(E){if(!(this instanceof w))return new w(E);this.options=c.assign({level:x,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:v,to:""},E||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var C=s.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(C!==g)throw new Error(h[C]);if(S.header&&s.deflateSetHeader(this.strm,S.header),S.dictionary){var V;if(V=typeof S.dictionary=="string"?u.string2buf(S.dictionary):m.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(C=s.deflateSetDictionary(this.strm,V))!==g)throw new Error(h[C]);this._dict_set=!0}}function _(E,S){var C=new w(S);if(C.push(E,!0),C.err)throw C.msg||h[C.err];return C.result}w.prototype.push=function(E,S){var C,V,k=this.strm,$=this.options.chunkSize;if(this.ended)return!1;V=S===~~S?S:S===!0?4:0,typeof E=="string"?k.input=u.string2buf(E):m.call(E)==="[object ArrayBuffer]"?k.input=new Uint8Array(E):k.input=E,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new c.Buf8($),k.next_out=0,k.avail_out=$),(C=s.deflate(k,V))!==1&&C!==g)return this.onEnd(C),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||V!==4&&V!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(k.output,k.next_out))):this.onData(c.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&C!==1);return V===4?(C=s.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===g):V!==2||(this.onEnd(g),!(k.avail_out=0))},w.prototype.onData=function(E){this.chunks.push(E)},w.prototype.onEnd=function(E){E===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=E,this.msg=this.strm.msg},a.Deflate=w,a.deflate=_,a.deflateRaw=function(E,S){return(S=S||{}).raw=!0,_(E,S)},a.gzip=function(E,S){return(S=S||{}).gzip=!0,_(E,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,a){var s=n("./zlib/inflate"),c=n("./utils/common"),u=n("./utils/strings"),h=n("./zlib/constants"),f=n("./zlib/messages"),m=n("./zlib/zstream"),g=n("./zlib/gzheader"),x=Object.prototype.toString;function v(w){if(!(this instanceof v))return new v(w);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},w||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||w&&w.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var E=s.inflateInit2(this.strm,_.windowBits);if(E!==h.Z_OK)throw new Error(f[E]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function j(w,_){var E=new v(_);if(E.push(w,!0),E.err)throw E.msg||f[E.err];return E.result}v.prototype.push=function(w,_){var E,S,C,V,k,$,O=this.strm,M=this.options.chunkSize,U=this.options.dictionary,G=!1;if(this.ended)return!1;S=_===~~_?_:_===!0?h.Z_FINISH:h.Z_NO_FLUSH,typeof w=="string"?O.input=u.binstring2buf(w):x.call(w)==="[object ArrayBuffer]"?O.input=new Uint8Array(w):O.input=w,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new c.Buf8(M),O.next_out=0,O.avail_out=M),(E=s.inflate(O,h.Z_NO_FLUSH))===h.Z_NEED_DICT&&U&&($=typeof U=="string"?u.string2buf(U):x.call(U)==="[object ArrayBuffer]"?new Uint8Array(U):U,E=s.inflateSetDictionary(this.strm,$)),E===h.Z_BUF_ERROR&&G===!0&&(E=h.Z_OK,G=!1),E!==h.Z_STREAM_END&&E!==h.Z_OK)return this.onEnd(E),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&E!==h.Z_STREAM_END&&(O.avail_in!==0||S!==h.Z_FINISH&&S!==h.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=u.utf8border(O.output,O.next_out),V=O.next_out-C,k=u.buf2string(O.output,C),O.next_out=V,O.avail_out=M-V,V&&c.arraySet(O.output,O.output,C,V,0),this.onData(k)):this.onData(c.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(G=!0)}while((0<O.avail_in||O.avail_out===0)&&E!==h.Z_STREAM_END);return E===h.Z_STREAM_END&&(S=h.Z_FINISH),S===h.Z_FINISH?(E=s.inflateEnd(this.strm),this.onEnd(E),this.ended=!0,E===h.Z_OK):S!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),!(O.avail_out=0))},v.prototype.onData=function(w){this.chunks.push(w)},v.prototype.onEnd=function(w){w===h.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Inflate=v,a.inflate=j,a.inflateRaw=function(w,_){return(_=_||{}).raw=!0,j(w,_)},a.ungzip=j},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,a){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(h){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var m=f.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var g in m)m.hasOwnProperty(g)&&(h[g]=m[g])}}return h},a.shrinkBuf=function(h,f){return h.length===f?h:h.subarray?h.subarray(0,f):(h.length=f,h)};var c={arraySet:function(h,f,m,g,x){if(f.subarray&&h.subarray)h.set(f.subarray(m,m+g),x);else for(var v=0;v<g;v++)h[x+v]=f[m+v]},flattenChunks:function(h){var f,m,g,x,v,j;for(f=g=0,m=h.length;f<m;f++)g+=h[f].length;for(j=new Uint8Array(g),f=x=0,m=h.length;f<m;f++)v=h[f],j.set(v,x),x+=v.length;return j}},u={arraySet:function(h,f,m,g,x){for(var v=0;v<g;v++)h[x+v]=f[m+v]},flattenChunks:function(h){return[].concat.apply([],h)}};a.setTyped=function(h){h?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,c)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,u))},a.setTyped(s)},{}],42:[function(n,r,a){var s=n("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var h=new s.Buf8(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function m(g,x){if(x<65537&&(g.subarray&&u||!g.subarray&&c))return String.fromCharCode.apply(null,s.shrinkBuf(g,x));for(var v="",j=0;j<x;j++)v+=String.fromCharCode(g[j]);return v}h[254]=h[254]=1,a.string2buf=function(g){var x,v,j,w,_,E=g.length,S=0;for(w=0;w<E;w++)(64512&(v=g.charCodeAt(w)))==55296&&w+1<E&&(64512&(j=g.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(j-56320),w++),S+=v<128?1:v<2048?2:v<65536?3:4;for(x=new s.Buf8(S),w=_=0;_<S;w++)(64512&(v=g.charCodeAt(w)))==55296&&w+1<E&&(64512&(j=g.charCodeAt(w+1)))==56320&&(v=65536+(v-55296<<10)+(j-56320),w++),v<128?x[_++]=v:(v<2048?x[_++]=192|v>>>6:(v<65536?x[_++]=224|v>>>12:(x[_++]=240|v>>>18,x[_++]=128|v>>>12&63),x[_++]=128|v>>>6&63),x[_++]=128|63&v);return x},a.buf2binstring=function(g){return m(g,g.length)},a.binstring2buf=function(g){for(var x=new s.Buf8(g.length),v=0,j=x.length;v<j;v++)x[v]=g.charCodeAt(v);return x},a.buf2string=function(g,x){var v,j,w,_,E=x||g.length,S=new Array(2*E);for(v=j=0;v<E;)if((w=g[v++])<128)S[j++]=w;else if(4<(_=h[w]))S[j++]=65533,v+=_-1;else{for(w&=_===2?31:_===3?15:7;1<_&&v<E;)w=w<<6|63&g[v++],_--;1<_?S[j++]=65533:w<65536?S[j++]=w:(w-=65536,S[j++]=55296|w>>10&1023,S[j++]=56320|1023&w)}return m(S,j)},a.utf8border=function(g,x){var v;for((x=x||g.length)>g.length&&(x=g.length),v=x-1;0<=v&&(192&g[v])==128;)v--;return v<0||v===0?x:v+h[g[v]]>x?v:x}},{"./common":41}],43:[function(n,r,a){r.exports=function(s,c,u,h){for(var f=65535&s|0,m=s>>>16&65535|0,g=0;u!==0;){for(u-=g=2e3<u?2e3:u;m=m+(f=f+c[h++]|0)|0,--g;);f%=65521,m%=65521}return f|m<<16|0}},{}],44:[function(n,r,a){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,a){var s=(function(){for(var c,u=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;u[h]=c}return u})();r.exports=function(c,u,h,f){var m=s,g=f+h;c^=-1;for(var x=f;x<g;x++)c=c>>>8^m[255&(c^u[x])];return-1^c}},{}],46:[function(n,r,a){var s,c=n("../utils/common"),u=n("./trees"),h=n("./adler32"),f=n("./crc32"),m=n("./messages"),g=0,x=4,v=0,j=-2,w=-1,_=4,E=2,S=8,C=9,V=286,k=30,$=19,O=2*V+1,M=15,U=3,G=258,H=G+U+1,D=42,B=113,I=1,J=2,q=3,Y=4;function te(P,ve){return P.msg=m[ve],ve}function Z(P){return(P<<1)-(4<P?9:0)}function ge(P){for(var ve=P.length;0<=--ve;)P[ve]=0}function L(P){var ve=P.state,fe=ve.pending;fe>P.avail_out&&(fe=P.avail_out),fe!==0&&(c.arraySet(P.output,ve.pending_buf,ve.pending_out,fe,P.next_out),P.next_out+=fe,ve.pending_out+=fe,P.total_out+=fe,P.avail_out-=fe,ve.pending-=fe,ve.pending===0&&(ve.pending_out=0))}function F(P,ve){u._tr_flush_block(P,0<=P.block_start?P.block_start:-1,P.strstart-P.block_start,ve),P.block_start=P.strstart,L(P.strm)}function se(P,ve){P.pending_buf[P.pending++]=ve}function le(P,ve){P.pending_buf[P.pending++]=ve>>>8&255,P.pending_buf[P.pending++]=255&ve}function ue(P,ve){var fe,W,X=P.max_chain_length,ae=P.strstart,_e=P.prev_length,Ie=P.nice_match,me=P.strstart>P.w_size-H?P.strstart-(P.w_size-H):0,Oe=P.window,Me=P.w_mask,De=P.prev,qe=P.strstart+G,ft=Oe[ae+_e-1],it=Oe[ae+_e];P.prev_length>=P.good_match&&(X>>=2),Ie>P.lookahead&&(Ie=P.lookahead);do if(Oe[(fe=ve)+_e]===it&&Oe[fe+_e-1]===ft&&Oe[fe]===Oe[ae]&&Oe[++fe]===Oe[ae+1]){ae+=2,fe++;do;while(Oe[++ae]===Oe[++fe]&&Oe[++ae]===Oe[++fe]&&Oe[++ae]===Oe[++fe]&&Oe[++ae]===Oe[++fe]&&Oe[++ae]===Oe[++fe]&&Oe[++ae]===Oe[++fe]&&Oe[++ae]===Oe[++fe]&&Oe[++ae]===Oe[++fe]&&ae<qe);if(W=G-(qe-ae),ae=qe-G,_e<W){if(P.match_start=ve,Ie<=(_e=W))break;ft=Oe[ae+_e-1],it=Oe[ae+_e]}}while((ve=De[ve&Me])>me&&--X!=0);return _e<=P.lookahead?_e:P.lookahead}function Re(P){var ve,fe,W,X,ae,_e,Ie,me,Oe,Me,De=P.w_size;do{if(X=P.window_size-P.lookahead-P.strstart,P.strstart>=De+(De-H)){for(c.arraySet(P.window,P.window,De,De,0),P.match_start-=De,P.strstart-=De,P.block_start-=De,ve=fe=P.hash_size;W=P.head[--ve],P.head[ve]=De<=W?W-De:0,--fe;);for(ve=fe=De;W=P.prev[--ve],P.prev[ve]=De<=W?W-De:0,--fe;);X+=De}if(P.strm.avail_in===0)break;if(_e=P.strm,Ie=P.window,me=P.strstart+P.lookahead,Oe=X,Me=void 0,Me=_e.avail_in,Oe<Me&&(Me=Oe),fe=Me===0?0:(_e.avail_in-=Me,c.arraySet(Ie,_e.input,_e.next_in,Me,me),_e.state.wrap===1?_e.adler=h(_e.adler,Ie,Me,me):_e.state.wrap===2&&(_e.adler=f(_e.adler,Ie,Me,me)),_e.next_in+=Me,_e.total_in+=Me,Me),P.lookahead+=fe,P.lookahead+P.insert>=U)for(ae=P.strstart-P.insert,P.ins_h=P.window[ae],P.ins_h=(P.ins_h<<P.hash_shift^P.window[ae+1])&P.hash_mask;P.insert&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[ae+U-1])&P.hash_mask,P.prev[ae&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=ae,ae++,P.insert--,!(P.lookahead+P.insert<U)););}while(P.lookahead<H&&P.strm.avail_in!==0)}function Ee(P,ve){for(var fe,W;;){if(P.lookahead<H){if(Re(P),P.lookahead<H&&ve===g)return I;if(P.lookahead===0)break}if(fe=0,P.lookahead>=U&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+U-1])&P.hash_mask,fe=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),fe!==0&&P.strstart-fe<=P.w_size-H&&(P.match_length=ue(P,fe)),P.match_length>=U)if(W=u._tr_tally(P,P.strstart-P.match_start,P.match_length-U),P.lookahead-=P.match_length,P.match_length<=P.max_lazy_match&&P.lookahead>=U){for(P.match_length--;P.strstart++,P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+U-1])&P.hash_mask,fe=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart,--P.match_length!=0;);P.strstart++}else P.strstart+=P.match_length,P.match_length=0,P.ins_h=P.window[P.strstart],P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+1])&P.hash_mask;else W=u._tr_tally(P,0,P.window[P.strstart]),P.lookahead--,P.strstart++;if(W&&(F(P,!1),P.strm.avail_out===0))return I}return P.insert=P.strstart<U-1?P.strstart:U-1,ve===x?(F(P,!0),P.strm.avail_out===0?q:Y):P.last_lit&&(F(P,!1),P.strm.avail_out===0)?I:J}function re(P,ve){for(var fe,W,X;;){if(P.lookahead<H){if(Re(P),P.lookahead<H&&ve===g)return I;if(P.lookahead===0)break}if(fe=0,P.lookahead>=U&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+U-1])&P.hash_mask,fe=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),P.prev_length=P.match_length,P.prev_match=P.match_start,P.match_length=U-1,fe!==0&&P.prev_length<P.max_lazy_match&&P.strstart-fe<=P.w_size-H&&(P.match_length=ue(P,fe),P.match_length<=5&&(P.strategy===1||P.match_length===U&&4096<P.strstart-P.match_start)&&(P.match_length=U-1)),P.prev_length>=U&&P.match_length<=P.prev_length){for(X=P.strstart+P.lookahead-U,W=u._tr_tally(P,P.strstart-1-P.prev_match,P.prev_length-U),P.lookahead-=P.prev_length-1,P.prev_length-=2;++P.strstart<=X&&(P.ins_h=(P.ins_h<<P.hash_shift^P.window[P.strstart+U-1])&P.hash_mask,fe=P.prev[P.strstart&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=P.strstart),--P.prev_length!=0;);if(P.match_available=0,P.match_length=U-1,P.strstart++,W&&(F(P,!1),P.strm.avail_out===0))return I}else if(P.match_available){if((W=u._tr_tally(P,0,P.window[P.strstart-1]))&&F(P,!1),P.strstart++,P.lookahead--,P.strm.avail_out===0)return I}else P.match_available=1,P.strstart++,P.lookahead--}return P.match_available&&(W=u._tr_tally(P,0,P.window[P.strstart-1]),P.match_available=0),P.insert=P.strstart<U-1?P.strstart:U-1,ve===x?(F(P,!0),P.strm.avail_out===0?q:Y):P.last_lit&&(F(P,!1),P.strm.avail_out===0)?I:J}function oe(P,ve,fe,W,X){this.good_length=P,this.max_lazy=ve,this.nice_length=fe,this.max_chain=W,this.func=X}function ze(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*O),this.dyn_dtree=new c.Buf16(2*(2*k+1)),this.bl_tree=new c.Buf16(2*(2*$+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(M+1),this.heap=new c.Buf16(2*V+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*V+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Be(P){var ve;return P&&P.state?(P.total_in=P.total_out=0,P.data_type=E,(ve=P.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?D:B,P.adler=ve.wrap===2?0:1,ve.last_flush=g,u._tr_init(ve),v):te(P,j)}function Ce(P){var ve=Be(P);return ve===v&&(function(fe){fe.window_size=2*fe.w_size,ge(fe.head),fe.max_lazy_match=s[fe.level].max_lazy,fe.good_match=s[fe.level].good_length,fe.nice_match=s[fe.level].nice_length,fe.max_chain_length=s[fe.level].max_chain,fe.strstart=0,fe.block_start=0,fe.lookahead=0,fe.insert=0,fe.match_length=fe.prev_length=U-1,fe.match_available=0,fe.ins_h=0})(P.state),ve}function ht(P,ve,fe,W,X,ae){if(!P)return j;var _e=1;if(ve===w&&(ve=6),W<0?(_e=0,W=-W):15<W&&(_e=2,W-=16),X<1||C<X||fe!==S||W<8||15<W||ve<0||9<ve||ae<0||_<ae)return te(P,j);W===8&&(W=9);var Ie=new ze;return(P.state=Ie).strm=P,Ie.wrap=_e,Ie.gzhead=null,Ie.w_bits=W,Ie.w_size=1<<Ie.w_bits,Ie.w_mask=Ie.w_size-1,Ie.hash_bits=X+7,Ie.hash_size=1<<Ie.hash_bits,Ie.hash_mask=Ie.hash_size-1,Ie.hash_shift=~~((Ie.hash_bits+U-1)/U),Ie.window=new c.Buf8(2*Ie.w_size),Ie.head=new c.Buf16(Ie.hash_size),Ie.prev=new c.Buf16(Ie.w_size),Ie.lit_bufsize=1<<X+6,Ie.pending_buf_size=4*Ie.lit_bufsize,Ie.pending_buf=new c.Buf8(Ie.pending_buf_size),Ie.d_buf=1*Ie.lit_bufsize,Ie.l_buf=3*Ie.lit_bufsize,Ie.level=ve,Ie.strategy=ae,Ie.method=fe,Ce(P)}s=[new oe(0,0,0,0,function(P,ve){var fe=65535;for(fe>P.pending_buf_size-5&&(fe=P.pending_buf_size-5);;){if(P.lookahead<=1){if(Re(P),P.lookahead===0&&ve===g)return I;if(P.lookahead===0)break}P.strstart+=P.lookahead,P.lookahead=0;var W=P.block_start+fe;if((P.strstart===0||P.strstart>=W)&&(P.lookahead=P.strstart-W,P.strstart=W,F(P,!1),P.strm.avail_out===0)||P.strstart-P.block_start>=P.w_size-H&&(F(P,!1),P.strm.avail_out===0))return I}return P.insert=0,ve===x?(F(P,!0),P.strm.avail_out===0?q:Y):(P.strstart>P.block_start&&(F(P,!1),P.strm.avail_out),I)}),new oe(4,4,8,4,Ee),new oe(4,5,16,8,Ee),new oe(4,6,32,32,Ee),new oe(4,4,16,16,re),new oe(8,16,32,32,re),new oe(8,16,128,128,re),new oe(8,32,128,256,re),new oe(32,128,258,1024,re),new oe(32,258,258,4096,re)],a.deflateInit=function(P,ve){return ht(P,ve,S,15,8,0)},a.deflateInit2=ht,a.deflateReset=Ce,a.deflateResetKeep=Be,a.deflateSetHeader=function(P,ve){return P&&P.state?P.state.wrap!==2?j:(P.state.gzhead=ve,v):j},a.deflate=function(P,ve){var fe,W,X,ae;if(!P||!P.state||5<ve||ve<0)return P?te(P,j):j;if(W=P.state,!P.output||!P.input&&P.avail_in!==0||W.status===666&&ve!==x)return te(P,P.avail_out===0?-5:j);if(W.strm=P,fe=W.last_flush,W.last_flush=ve,W.status===D)if(W.wrap===2)P.adler=0,se(W,31),se(W,139),se(W,8),W.gzhead?(se(W,(W.gzhead.text?1:0)+(W.gzhead.hcrc?2:0)+(W.gzhead.extra?4:0)+(W.gzhead.name?8:0)+(W.gzhead.comment?16:0)),se(W,255&W.gzhead.time),se(W,W.gzhead.time>>8&255),se(W,W.gzhead.time>>16&255),se(W,W.gzhead.time>>24&255),se(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),se(W,255&W.gzhead.os),W.gzhead.extra&&W.gzhead.extra.length&&(se(W,255&W.gzhead.extra.length),se(W,W.gzhead.extra.length>>8&255)),W.gzhead.hcrc&&(P.adler=f(P.adler,W.pending_buf,W.pending,0)),W.gzindex=0,W.status=69):(se(W,0),se(W,0),se(W,0),se(W,0),se(W,0),se(W,W.level===9?2:2<=W.strategy||W.level<2?4:0),se(W,3),W.status=B);else{var _e=S+(W.w_bits-8<<4)<<8;_e|=(2<=W.strategy||W.level<2?0:W.level<6?1:W.level===6?2:3)<<6,W.strstart!==0&&(_e|=32),_e+=31-_e%31,W.status=B,le(W,_e),W.strstart!==0&&(le(W,P.adler>>>16),le(W,65535&P.adler)),P.adler=1}if(W.status===69)if(W.gzhead.extra){for(X=W.pending;W.gzindex<(65535&W.gzhead.extra.length)&&(W.pending!==W.pending_buf_size||(W.gzhead.hcrc&&W.pending>X&&(P.adler=f(P.adler,W.pending_buf,W.pending-X,X)),L(P),X=W.pending,W.pending!==W.pending_buf_size));)se(W,255&W.gzhead.extra[W.gzindex]),W.gzindex++;W.gzhead.hcrc&&W.pending>X&&(P.adler=f(P.adler,W.pending_buf,W.pending-X,X)),W.gzindex===W.gzhead.extra.length&&(W.gzindex=0,W.status=73)}else W.status=73;if(W.status===73)if(W.gzhead.name){X=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>X&&(P.adler=f(P.adler,W.pending_buf,W.pending-X,X)),L(P),X=W.pending,W.pending===W.pending_buf_size)){ae=1;break}ae=W.gzindex<W.gzhead.name.length?255&W.gzhead.name.charCodeAt(W.gzindex++):0,se(W,ae)}while(ae!==0);W.gzhead.hcrc&&W.pending>X&&(P.adler=f(P.adler,W.pending_buf,W.pending-X,X)),ae===0&&(W.gzindex=0,W.status=91)}else W.status=91;if(W.status===91)if(W.gzhead.comment){X=W.pending;do{if(W.pending===W.pending_buf_size&&(W.gzhead.hcrc&&W.pending>X&&(P.adler=f(P.adler,W.pending_buf,W.pending-X,X)),L(P),X=W.pending,W.pending===W.pending_buf_size)){ae=1;break}ae=W.gzindex<W.gzhead.comment.length?255&W.gzhead.comment.charCodeAt(W.gzindex++):0,se(W,ae)}while(ae!==0);W.gzhead.hcrc&&W.pending>X&&(P.adler=f(P.adler,W.pending_buf,W.pending-X,X)),ae===0&&(W.status=103)}else W.status=103;if(W.status===103&&(W.gzhead.hcrc?(W.pending+2>W.pending_buf_size&&L(P),W.pending+2<=W.pending_buf_size&&(se(W,255&P.adler),se(W,P.adler>>8&255),P.adler=0,W.status=B)):W.status=B),W.pending!==0){if(L(P),P.avail_out===0)return W.last_flush=-1,v}else if(P.avail_in===0&&Z(ve)<=Z(fe)&&ve!==x)return te(P,-5);if(W.status===666&&P.avail_in!==0)return te(P,-5);if(P.avail_in!==0||W.lookahead!==0||ve!==g&&W.status!==666){var Ie=W.strategy===2?(function(me,Oe){for(var Me;;){if(me.lookahead===0&&(Re(me),me.lookahead===0)){if(Oe===g)return I;break}if(me.match_length=0,Me=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++,Me&&(F(me,!1),me.strm.avail_out===0))return I}return me.insert=0,Oe===x?(F(me,!0),me.strm.avail_out===0?q:Y):me.last_lit&&(F(me,!1),me.strm.avail_out===0)?I:J})(W,ve):W.strategy===3?(function(me,Oe){for(var Me,De,qe,ft,it=me.window;;){if(me.lookahead<=G){if(Re(me),me.lookahead<=G&&Oe===g)return I;if(me.lookahead===0)break}if(me.match_length=0,me.lookahead>=U&&0<me.strstart&&(De=it[qe=me.strstart-1])===it[++qe]&&De===it[++qe]&&De===it[++qe]){ft=me.strstart+G;do;while(De===it[++qe]&&De===it[++qe]&&De===it[++qe]&&De===it[++qe]&&De===it[++qe]&&De===it[++qe]&&De===it[++qe]&&De===it[++qe]&&qe<ft);me.match_length=G-(ft-qe),me.match_length>me.lookahead&&(me.match_length=me.lookahead)}if(me.match_length>=U?(Me=u._tr_tally(me,1,me.match_length-U),me.lookahead-=me.match_length,me.strstart+=me.match_length,me.match_length=0):(Me=u._tr_tally(me,0,me.window[me.strstart]),me.lookahead--,me.strstart++),Me&&(F(me,!1),me.strm.avail_out===0))return I}return me.insert=0,Oe===x?(F(me,!0),me.strm.avail_out===0?q:Y):me.last_lit&&(F(me,!1),me.strm.avail_out===0)?I:J})(W,ve):s[W.level].func(W,ve);if(Ie!==q&&Ie!==Y||(W.status=666),Ie===I||Ie===q)return P.avail_out===0&&(W.last_flush=-1),v;if(Ie===J&&(ve===1?u._tr_align(W):ve!==5&&(u._tr_stored_block(W,0,0,!1),ve===3&&(ge(W.head),W.lookahead===0&&(W.strstart=0,W.block_start=0,W.insert=0))),L(P),P.avail_out===0))return W.last_flush=-1,v}return ve!==x?v:W.wrap<=0?1:(W.wrap===2?(se(W,255&P.adler),se(W,P.adler>>8&255),se(W,P.adler>>16&255),se(W,P.adler>>24&255),se(W,255&P.total_in),se(W,P.total_in>>8&255),se(W,P.total_in>>16&255),se(W,P.total_in>>24&255)):(le(W,P.adler>>>16),le(W,65535&P.adler)),L(P),0<W.wrap&&(W.wrap=-W.wrap),W.pending!==0?v:1)},a.deflateEnd=function(P){var ve;return P&&P.state?(ve=P.state.status)!==D&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==B&&ve!==666?te(P,j):(P.state=null,ve===B?te(P,-3):v):j},a.deflateSetDictionary=function(P,ve){var fe,W,X,ae,_e,Ie,me,Oe,Me=ve.length;if(!P||!P.state||(ae=(fe=P.state).wrap)===2||ae===1&&fe.status!==D||fe.lookahead)return j;for(ae===1&&(P.adler=h(P.adler,ve,Me,0)),fe.wrap=0,Me>=fe.w_size&&(ae===0&&(ge(fe.head),fe.strstart=0,fe.block_start=0,fe.insert=0),Oe=new c.Buf8(fe.w_size),c.arraySet(Oe,ve,Me-fe.w_size,fe.w_size,0),ve=Oe,Me=fe.w_size),_e=P.avail_in,Ie=P.next_in,me=P.input,P.avail_in=Me,P.next_in=0,P.input=ve,Re(fe);fe.lookahead>=U;){for(W=fe.strstart,X=fe.lookahead-(U-1);fe.ins_h=(fe.ins_h<<fe.hash_shift^fe.window[W+U-1])&fe.hash_mask,fe.prev[W&fe.w_mask]=fe.head[fe.ins_h],fe.head[fe.ins_h]=W,W++,--X;);fe.strstart=W,fe.lookahead=U-1,Re(fe)}return fe.strstart+=fe.lookahead,fe.block_start=fe.strstart,fe.insert=fe.lookahead,fe.lookahead=0,fe.match_length=fe.prev_length=U-1,fe.match_available=0,P.next_in=Ie,P.input=me,P.avail_in=_e,fe.wrap=ae,v},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,a){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,a){r.exports=function(s,c){var u,h,f,m,g,x,v,j,w,_,E,S,C,V,k,$,O,M,U,G,H,D,B,I,J;u=s.state,h=s.next_in,I=s.input,f=h+(s.avail_in-5),m=s.next_out,J=s.output,g=m-(c-s.avail_out),x=m+(s.avail_out-257),v=u.dmax,j=u.wsize,w=u.whave,_=u.wnext,E=u.window,S=u.hold,C=u.bits,V=u.lencode,k=u.distcode,$=(1<<u.lenbits)-1,O=(1<<u.distbits)-1;e:do{C<15&&(S+=I[h++]<<C,C+=8,S+=I[h++]<<C,C+=8),M=V[S&$];t:for(;;){if(S>>>=U=M>>>24,C-=U,(U=M>>>16&255)===0)J[m++]=65535&M;else{if(!(16&U)){if((64&U)==0){M=V[(65535&M)+(S&(1<<U)-1)];continue t}if(32&U){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}G=65535&M,(U&=15)&&(C<U&&(S+=I[h++]<<C,C+=8),G+=S&(1<<U)-1,S>>>=U,C-=U),C<15&&(S+=I[h++]<<C,C+=8,S+=I[h++]<<C,C+=8),M=k[S&O];n:for(;;){if(S>>>=U=M>>>24,C-=U,!(16&(U=M>>>16&255))){if((64&U)==0){M=k[(65535&M)+(S&(1<<U)-1)];continue n}s.msg="invalid distance code",u.mode=30;break e}if(H=65535&M,C<(U&=15)&&(S+=I[h++]<<C,(C+=8)<U&&(S+=I[h++]<<C,C+=8)),v<(H+=S&(1<<U)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(S>>>=U,C-=U,(U=m-g)<H){if(w<(U=H-U)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(B=E,(D=0)===_){if(D+=j-U,U<G){for(G-=U;J[m++]=E[D++],--U;);D=m-H,B=J}}else if(_<U){if(D+=j+_-U,(U-=_)<G){for(G-=U;J[m++]=E[D++],--U;);if(D=0,_<G){for(G-=U=_;J[m++]=E[D++],--U;);D=m-H,B=J}}}else if(D+=_-U,U<G){for(G-=U;J[m++]=E[D++],--U;);D=m-H,B=J}for(;2<G;)J[m++]=B[D++],J[m++]=B[D++],J[m++]=B[D++],G-=3;G&&(J[m++]=B[D++],1<G&&(J[m++]=B[D++]))}else{for(D=m-H;J[m++]=J[D++],J[m++]=J[D++],J[m++]=J[D++],2<(G-=3););G&&(J[m++]=J[D++],1<G&&(J[m++]=J[D++]))}break}}break}}while(h<f&&m<x);h-=G=C>>3,S&=(1<<(C-=G<<3))-1,s.next_in=h,s.next_out=m,s.avail_in=h<f?f-h+5:5-(h-f),s.avail_out=m<x?x-m+257:257-(m-x),u.hold=S,u.bits=C}},{}],49:[function(n,r,a){var s=n("../utils/common"),c=n("./adler32"),u=n("./crc32"),h=n("./inffast"),f=n("./inftrees"),m=1,g=2,x=0,v=-2,j=1,w=852,_=592;function E(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(D){var B;return D&&D.state?(B=D.state,D.total_in=D.total_out=B.total=0,D.msg="",B.wrap&&(D.adler=1&B.wrap),B.mode=j,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new s.Buf32(w),B.distcode=B.distdyn=new s.Buf32(_),B.sane=1,B.back=-1,x):v}function V(D){var B;return D&&D.state?((B=D.state).wsize=0,B.whave=0,B.wnext=0,C(D)):v}function k(D,B){var I,J;return D&&D.state?(J=D.state,B<0?(I=0,B=-B):(I=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?v:(J.window!==null&&J.wbits!==B&&(J.window=null),J.wrap=I,J.wbits=B,V(D))):v}function $(D,B){var I,J;return D?(J=new S,(D.state=J).window=null,(I=k(D,B))!==x&&(D.state=null),I):v}var O,M,U=!0;function G(D){if(U){var B;for(O=new s.Buf32(512),M=new s.Buf32(32),B=0;B<144;)D.lens[B++]=8;for(;B<256;)D.lens[B++]=9;for(;B<280;)D.lens[B++]=7;for(;B<288;)D.lens[B++]=8;for(f(m,D.lens,0,288,O,0,D.work,{bits:9}),B=0;B<32;)D.lens[B++]=5;f(g,D.lens,0,32,M,0,D.work,{bits:5}),U=!1}D.lencode=O,D.lenbits=9,D.distcode=M,D.distbits=5}function H(D,B,I,J){var q,Y=D.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),J>=Y.wsize?(s.arraySet(Y.window,B,I-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(J<(q=Y.wsize-Y.wnext)&&(q=J),s.arraySet(Y.window,B,I-J,q,Y.wnext),(J-=q)?(s.arraySet(Y.window,B,I-J,J,0),Y.wnext=J,Y.whave=Y.wsize):(Y.wnext+=q,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=q))),0}a.inflateReset=V,a.inflateReset2=k,a.inflateResetKeep=C,a.inflateInit=function(D){return $(D,15)},a.inflateInit2=$,a.inflate=function(D,B){var I,J,q,Y,te,Z,ge,L,F,se,le,ue,Re,Ee,re,oe,ze,Be,Ce,ht,P,ve,fe,W,X=0,ae=new s.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return v;(I=D.state).mode===12&&(I.mode=13),te=D.next_out,q=D.output,ge=D.avail_out,Y=D.next_in,J=D.input,Z=D.avail_in,L=I.hold,F=I.bits,se=Z,le=ge,ve=x;e:for(;;)switch(I.mode){case j:if(I.wrap===0){I.mode=13;break}for(;F<16;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if(2&I.wrap&&L===35615){ae[I.check=0]=255&L,ae[1]=L>>>8&255,I.check=u(I.check,ae,2,0),F=L=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&L)<<8)+(L>>8))%31){D.msg="incorrect header check",I.mode=30;break}if((15&L)!=8){D.msg="unknown compression method",I.mode=30;break}if(F-=4,P=8+(15&(L>>>=4)),I.wbits===0)I.wbits=P;else if(P>I.wbits){D.msg="invalid window size",I.mode=30;break}I.dmax=1<<P,D.adler=I.check=1,I.mode=512&L?10:12,F=L=0;break;case 2:for(;F<16;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if(I.flags=L,(255&I.flags)!=8){D.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){D.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=L>>8&1),512&I.flags&&(ae[0]=255&L,ae[1]=L>>>8&255,I.check=u(I.check,ae,2,0)),F=L=0,I.mode=3;case 3:for(;F<32;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}I.head&&(I.head.time=L),512&I.flags&&(ae[0]=255&L,ae[1]=L>>>8&255,ae[2]=L>>>16&255,ae[3]=L>>>24&255,I.check=u(I.check,ae,4,0)),F=L=0,I.mode=4;case 4:for(;F<16;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}I.head&&(I.head.xflags=255&L,I.head.os=L>>8),512&I.flags&&(ae[0]=255&L,ae[1]=L>>>8&255,I.check=u(I.check,ae,2,0)),F=L=0,I.mode=5;case 5:if(1024&I.flags){for(;F<16;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}I.length=L,I.head&&(I.head.extra_len=L),512&I.flags&&(ae[0]=255&L,ae[1]=L>>>8&255,I.check=u(I.check,ae,2,0)),F=L=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(Z<(ue=I.length)&&(ue=Z),ue&&(I.head&&(P=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),s.arraySet(I.head.extra,J,Y,ue,P)),512&I.flags&&(I.check=u(I.check,J,ue,Y)),Z-=ue,Y+=ue,I.length-=ue),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(Z===0)break e;for(ue=0;P=J[Y+ue++],I.head&&P&&I.length<65536&&(I.head.name+=String.fromCharCode(P)),P&&ue<Z;);if(512&I.flags&&(I.check=u(I.check,J,ue,Y)),Z-=ue,Y+=ue,P)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(Z===0)break e;for(ue=0;P=J[Y+ue++],I.head&&P&&I.length<65536&&(I.head.comment+=String.fromCharCode(P)),P&&ue<Z;);if(512&I.flags&&(I.check=u(I.check,J,ue,Y)),Z-=ue,Y+=ue,P)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;F<16;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if(L!==(65535&I.check)){D.msg="header crc mismatch",I.mode=30;break}F=L=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),D.adler=I.check=0,I.mode=12;break;case 10:for(;F<32;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}D.adler=I.check=E(L),F=L=0,I.mode=11;case 11:if(I.havedict===0)return D.next_out=te,D.avail_out=ge,D.next_in=Y,D.avail_in=Z,I.hold=L,I.bits=F,2;D.adler=I.check=1,I.mode=12;case 12:if(B===5||B===6)break e;case 13:if(I.last){L>>>=7&F,F-=7&F,I.mode=27;break}for(;F<3;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}switch(I.last=1&L,F-=1,3&(L>>>=1)){case 0:I.mode=14;break;case 1:if(G(I),I.mode=20,B!==6)break;L>>>=2,F-=2;break e;case 2:I.mode=17;break;case 3:D.msg="invalid block type",I.mode=30}L>>>=2,F-=2;break;case 14:for(L>>>=7&F,F-=7&F;F<32;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if((65535&L)!=(L>>>16^65535)){D.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&L,F=L=0,I.mode=15,B===6)break e;case 15:I.mode=16;case 16:if(ue=I.length){if(Z<ue&&(ue=Z),ge<ue&&(ue=ge),ue===0)break e;s.arraySet(q,J,Y,ue,te),Z-=ue,Y+=ue,ge-=ue,te+=ue,I.length-=ue;break}I.mode=12;break;case 17:for(;F<14;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if(I.nlen=257+(31&L),L>>>=5,F-=5,I.ndist=1+(31&L),L>>>=5,F-=5,I.ncode=4+(15&L),L>>>=4,F-=4,286<I.nlen||30<I.ndist){D.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;F<3;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}I.lens[_e[I.have++]]=7&L,L>>>=3,F-=3}for(;I.have<19;)I.lens[_e[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,fe={bits:I.lenbits},ve=f(0,I.lens,0,19,I.lencode,0,I.work,fe),I.lenbits=fe.bits,ve){D.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;oe=(X=I.lencode[L&(1<<I.lenbits)-1])>>>16&255,ze=65535&X,!((re=X>>>24)<=F);){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if(ze<16)L>>>=re,F-=re,I.lens[I.have++]=ze;else{if(ze===16){for(W=re+2;F<W;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if(L>>>=re,F-=re,I.have===0){D.msg="invalid bit length repeat",I.mode=30;break}P=I.lens[I.have-1],ue=3+(3&L),L>>>=2,F-=2}else if(ze===17){for(W=re+3;F<W;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}F-=re,P=0,ue=3+(7&(L>>>=re)),L>>>=3,F-=3}else{for(W=re+7;F<W;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}F-=re,P=0,ue=11+(127&(L>>>=re)),L>>>=7,F-=7}if(I.have+ue>I.nlen+I.ndist){D.msg="invalid bit length repeat",I.mode=30;break}for(;ue--;)I.lens[I.have++]=P}}if(I.mode===30)break;if(I.lens[256]===0){D.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,fe={bits:I.lenbits},ve=f(m,I.lens,0,I.nlen,I.lencode,0,I.work,fe),I.lenbits=fe.bits,ve){D.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,fe={bits:I.distbits},ve=f(g,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,fe),I.distbits=fe.bits,ve){D.msg="invalid distances set",I.mode=30;break}if(I.mode=20,B===6)break e;case 20:I.mode=21;case 21:if(6<=Z&&258<=ge){D.next_out=te,D.avail_out=ge,D.next_in=Y,D.avail_in=Z,I.hold=L,I.bits=F,h(D,le),te=D.next_out,q=D.output,ge=D.avail_out,Y=D.next_in,J=D.input,Z=D.avail_in,L=I.hold,F=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;oe=(X=I.lencode[L&(1<<I.lenbits)-1])>>>16&255,ze=65535&X,!((re=X>>>24)<=F);){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if(oe&&(240&oe)==0){for(Be=re,Ce=oe,ht=ze;oe=(X=I.lencode[ht+((L&(1<<Be+Ce)-1)>>Be)])>>>16&255,ze=65535&X,!(Be+(re=X>>>24)<=F);){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}L>>>=Be,F-=Be,I.back+=Be}if(L>>>=re,F-=re,I.back+=re,I.length=ze,oe===0){I.mode=26;break}if(32&oe){I.back=-1,I.mode=12;break}if(64&oe){D.msg="invalid literal/length code",I.mode=30;break}I.extra=15&oe,I.mode=22;case 22:if(I.extra){for(W=I.extra;F<W;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}I.length+=L&(1<<I.extra)-1,L>>>=I.extra,F-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;oe=(X=I.distcode[L&(1<<I.distbits)-1])>>>16&255,ze=65535&X,!((re=X>>>24)<=F);){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if((240&oe)==0){for(Be=re,Ce=oe,ht=ze;oe=(X=I.distcode[ht+((L&(1<<Be+Ce)-1)>>Be)])>>>16&255,ze=65535&X,!(Be+(re=X>>>24)<=F);){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}L>>>=Be,F-=Be,I.back+=Be}if(L>>>=re,F-=re,I.back+=re,64&oe){D.msg="invalid distance code",I.mode=30;break}I.offset=ze,I.extra=15&oe,I.mode=24;case 24:if(I.extra){for(W=I.extra;F<W;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}I.offset+=L&(1<<I.extra)-1,L>>>=I.extra,F-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){D.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(ge===0)break e;if(ue=le-ge,I.offset>ue){if((ue=I.offset-ue)>I.whave&&I.sane){D.msg="invalid distance too far back",I.mode=30;break}Re=ue>I.wnext?(ue-=I.wnext,I.wsize-ue):I.wnext-ue,ue>I.length&&(ue=I.length),Ee=I.window}else Ee=q,Re=te-I.offset,ue=I.length;for(ge<ue&&(ue=ge),ge-=ue,I.length-=ue;q[te++]=Ee[Re++],--ue;);I.length===0&&(I.mode=21);break;case 26:if(ge===0)break e;q[te++]=I.length,ge--,I.mode=21;break;case 27:if(I.wrap){for(;F<32;){if(Z===0)break e;Z--,L|=J[Y++]<<F,F+=8}if(le-=ge,D.total_out+=le,I.total+=le,le&&(D.adler=I.check=I.flags?u(I.check,q,le,te-le):c(I.check,q,le,te-le)),le=ge,(I.flags?L:E(L))!==I.check){D.msg="incorrect data check",I.mode=30;break}F=L=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;F<32;){if(Z===0)break e;Z--,L+=J[Y++]<<F,F+=8}if(L!==(4294967295&I.total)){D.msg="incorrect length check",I.mode=30;break}F=L=0}I.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return v}return D.next_out=te,D.avail_out=ge,D.next_in=Y,D.avail_in=Z,I.hold=L,I.bits=F,(I.wsize||le!==D.avail_out&&I.mode<30&&(I.mode<27||B!==4))&&H(D,D.output,D.next_out,le-D.avail_out)?(I.mode=31,-4):(se-=D.avail_in,le-=D.avail_out,D.total_in+=se,D.total_out+=le,I.total+=le,I.wrap&&le&&(D.adler=I.check=I.flags?u(I.check,q,le,D.next_out-le):c(I.check,q,le,D.next_out-le)),D.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(se==0&&le===0||B===4)&&ve===x&&(ve=-5),ve)},a.inflateEnd=function(D){if(!D||!D.state)return v;var B=D.state;return B.window&&(B.window=null),D.state=null,x},a.inflateGetHeader=function(D,B){var I;return D&&D.state?(2&(I=D.state).wrap)==0?v:((I.head=B).done=!1,x):v},a.inflateSetDictionary=function(D,B){var I,J=B.length;return D&&D.state?(I=D.state).wrap!==0&&I.mode!==11?v:I.mode===11&&c(1,B,J,0)!==I.check?-3:H(D,B,J,J)?(I.mode=31,-4):(I.havedict=1,x):v},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,a){var s=n("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],h=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(m,g,x,v,j,w,_,E){var S,C,V,k,$,O,M,U,G,H=E.bits,D=0,B=0,I=0,J=0,q=0,Y=0,te=0,Z=0,ge=0,L=0,F=null,se=0,le=new s.Buf16(16),ue=new s.Buf16(16),Re=null,Ee=0;for(D=0;D<=15;D++)le[D]=0;for(B=0;B<v;B++)le[g[x+B]]++;for(q=H,J=15;1<=J&&le[J]===0;J--);if(J<q&&(q=J),J===0)return j[w++]=20971520,j[w++]=20971520,E.bits=1,0;for(I=1;I<J&&le[I]===0;I++);for(q<I&&(q=I),D=Z=1;D<=15;D++)if(Z<<=1,(Z-=le[D])<0)return-1;if(0<Z&&(m===0||J!==1))return-1;for(ue[1]=0,D=1;D<15;D++)ue[D+1]=ue[D]+le[D];for(B=0;B<v;B++)g[x+B]!==0&&(_[ue[g[x+B]]++]=B);if(O=m===0?(F=Re=_,19):m===1?(F=c,se-=257,Re=u,Ee-=257,256):(F=h,Re=f,-1),D=I,$=w,te=B=L=0,V=-1,k=(ge=1<<(Y=q))-1,m===1&&852<ge||m===2&&592<ge)return 1;for(;;){for(M=D-te,G=_[B]<O?(U=0,_[B]):_[B]>O?(U=Re[Ee+_[B]],F[se+_[B]]):(U=96,0),S=1<<D-te,I=C=1<<Y;j[$+(L>>te)+(C-=S)]=M<<24|U<<16|G|0,C!==0;);for(S=1<<D-1;L&S;)S>>=1;if(S!==0?(L&=S-1,L+=S):L=0,B++,--le[D]==0){if(D===J)break;D=g[x+_[B]]}if(q<D&&(L&k)!==V){for(te===0&&(te=q),$+=I,Z=1<<(Y=D-te);Y+te<J&&!((Z-=le[Y+te])<=0);)Y++,Z<<=1;if(ge+=1<<Y,m===1&&852<ge||m===2&&592<ge)return 1;j[V=L&k]=q<<24|Y<<16|$-w|0}}return L!==0&&(j[$+L]=D-te<<24|64<<16|0),E.bits=q,0}},{"../utils/common":41}],51:[function(n,r,a){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,a){var s=n("../utils/common"),c=0,u=1;function h(X){for(var ae=X.length;0<=--ae;)X[ae]=0}var f=0,m=29,g=256,x=g+1+m,v=30,j=19,w=2*x+1,_=15,E=16,S=7,C=256,V=16,k=17,$=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],U=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(2*(x+2));h(H);var D=new Array(2*v);h(D);var B=new Array(512);h(B);var I=new Array(256);h(I);var J=new Array(m);h(J);var q,Y,te,Z=new Array(v);function ge(X,ae,_e,Ie,me){this.static_tree=X,this.extra_bits=ae,this.extra_base=_e,this.elems=Ie,this.max_length=me,this.has_stree=X&&X.length}function L(X,ae){this.dyn_tree=X,this.max_code=0,this.stat_desc=ae}function F(X){return X<256?B[X]:B[256+(X>>>7)]}function se(X,ae){X.pending_buf[X.pending++]=255&ae,X.pending_buf[X.pending++]=ae>>>8&255}function le(X,ae,_e){X.bi_valid>E-_e?(X.bi_buf|=ae<<X.bi_valid&65535,se(X,X.bi_buf),X.bi_buf=ae>>E-X.bi_valid,X.bi_valid+=_e-E):(X.bi_buf|=ae<<X.bi_valid&65535,X.bi_valid+=_e)}function ue(X,ae,_e){le(X,_e[2*ae],_e[2*ae+1])}function Re(X,ae){for(var _e=0;_e|=1&X,X>>>=1,_e<<=1,0<--ae;);return _e>>>1}function Ee(X,ae,_e){var Ie,me,Oe=new Array(_+1),Me=0;for(Ie=1;Ie<=_;Ie++)Oe[Ie]=Me=Me+_e[Ie-1]<<1;for(me=0;me<=ae;me++){var De=X[2*me+1];De!==0&&(X[2*me]=Re(Oe[De]++,De))}}function re(X){var ae;for(ae=0;ae<x;ae++)X.dyn_ltree[2*ae]=0;for(ae=0;ae<v;ae++)X.dyn_dtree[2*ae]=0;for(ae=0;ae<j;ae++)X.bl_tree[2*ae]=0;X.dyn_ltree[2*C]=1,X.opt_len=X.static_len=0,X.last_lit=X.matches=0}function oe(X){8<X.bi_valid?se(X,X.bi_buf):0<X.bi_valid&&(X.pending_buf[X.pending++]=X.bi_buf),X.bi_buf=0,X.bi_valid=0}function ze(X,ae,_e,Ie){var me=2*ae,Oe=2*_e;return X[me]<X[Oe]||X[me]===X[Oe]&&Ie[ae]<=Ie[_e]}function Be(X,ae,_e){for(var Ie=X.heap[_e],me=_e<<1;me<=X.heap_len&&(me<X.heap_len&&ze(ae,X.heap[me+1],X.heap[me],X.depth)&&me++,!ze(ae,Ie,X.heap[me],X.depth));)X.heap[_e]=X.heap[me],_e=me,me<<=1;X.heap[_e]=Ie}function Ce(X,ae,_e){var Ie,me,Oe,Me,De=0;if(X.last_lit!==0)for(;Ie=X.pending_buf[X.d_buf+2*De]<<8|X.pending_buf[X.d_buf+2*De+1],me=X.pending_buf[X.l_buf+De],De++,Ie===0?ue(X,me,ae):(ue(X,(Oe=I[me])+g+1,ae),(Me=O[Oe])!==0&&le(X,me-=J[Oe],Me),ue(X,Oe=F(--Ie),_e),(Me=M[Oe])!==0&&le(X,Ie-=Z[Oe],Me)),De<X.last_lit;);ue(X,C,ae)}function ht(X,ae){var _e,Ie,me,Oe=ae.dyn_tree,Me=ae.stat_desc.static_tree,De=ae.stat_desc.has_stree,qe=ae.stat_desc.elems,ft=-1;for(X.heap_len=0,X.heap_max=w,_e=0;_e<qe;_e++)Oe[2*_e]!==0?(X.heap[++X.heap_len]=ft=_e,X.depth[_e]=0):Oe[2*_e+1]=0;for(;X.heap_len<2;)Oe[2*(me=X.heap[++X.heap_len]=ft<2?++ft:0)]=1,X.depth[me]=0,X.opt_len--,De&&(X.static_len-=Me[2*me+1]);for(ae.max_code=ft,_e=X.heap_len>>1;1<=_e;_e--)Be(X,Oe,_e);for(me=qe;_e=X.heap[1],X.heap[1]=X.heap[X.heap_len--],Be(X,Oe,1),Ie=X.heap[1],X.heap[--X.heap_max]=_e,X.heap[--X.heap_max]=Ie,Oe[2*me]=Oe[2*_e]+Oe[2*Ie],X.depth[me]=(X.depth[_e]>=X.depth[Ie]?X.depth[_e]:X.depth[Ie])+1,Oe[2*_e+1]=Oe[2*Ie+1]=me,X.heap[1]=me++,Be(X,Oe,1),2<=X.heap_len;);X.heap[--X.heap_max]=X.heap[1],(function(it,ne){var we,Pe,Ye,Ue,et,tn,jt=ne.dyn_tree,fl=ne.max_code,to=ne.stat_desc.static_tree,Oc=ne.stat_desc.has_stree,fa=ne.stat_desc.extra_bits,mi=ne.stat_desc.extra_base,Ht=ne.stat_desc.max_length,gr=0;for(Ue=0;Ue<=_;Ue++)it.bl_count[Ue]=0;for(jt[2*it.heap[it.heap_max]+1]=0,we=it.heap_max+1;we<w;we++)Ht<(Ue=jt[2*jt[2*(Pe=it.heap[we])+1]+1]+1)&&(Ue=Ht,gr++),jt[2*Pe+1]=Ue,fl<Pe||(it.bl_count[Ue]++,et=0,mi<=Pe&&(et=fa[Pe-mi]),tn=jt[2*Pe],it.opt_len+=tn*(Ue+et),Oc&&(it.static_len+=tn*(to[2*Pe+1]+et)));if(gr!==0){do{for(Ue=Ht-1;it.bl_count[Ue]===0;)Ue--;it.bl_count[Ue]--,it.bl_count[Ue+1]+=2,it.bl_count[Ht]--,gr-=2}while(0<gr);for(Ue=Ht;Ue!==0;Ue--)for(Pe=it.bl_count[Ue];Pe!==0;)fl<(Ye=it.heap[--we])||(jt[2*Ye+1]!==Ue&&(it.opt_len+=(Ue-jt[2*Ye+1])*jt[2*Ye],jt[2*Ye+1]=Ue),Pe--)}})(X,ae),Ee(Oe,ft,X.bl_count)}function P(X,ae,_e){var Ie,me,Oe=-1,Me=ae[1],De=0,qe=7,ft=4;for(Me===0&&(qe=138,ft=3),ae[2*(_e+1)+1]=65535,Ie=0;Ie<=_e;Ie++)me=Me,Me=ae[2*(Ie+1)+1],++De<qe&&me===Me||(De<ft?X.bl_tree[2*me]+=De:me!==0?(me!==Oe&&X.bl_tree[2*me]++,X.bl_tree[2*V]++):De<=10?X.bl_tree[2*k]++:X.bl_tree[2*$]++,Oe=me,ft=(De=0)===Me?(qe=138,3):me===Me?(qe=6,3):(qe=7,4))}function ve(X,ae,_e){var Ie,me,Oe=-1,Me=ae[1],De=0,qe=7,ft=4;for(Me===0&&(qe=138,ft=3),Ie=0;Ie<=_e;Ie++)if(me=Me,Me=ae[2*(Ie+1)+1],!(++De<qe&&me===Me)){if(De<ft)for(;ue(X,me,X.bl_tree),--De!=0;);else me!==0?(me!==Oe&&(ue(X,me,X.bl_tree),De--),ue(X,V,X.bl_tree),le(X,De-3,2)):De<=10?(ue(X,k,X.bl_tree),le(X,De-3,3)):(ue(X,$,X.bl_tree),le(X,De-11,7));Oe=me,ft=(De=0)===Me?(qe=138,3):me===Me?(qe=6,3):(qe=7,4)}}h(Z);var fe=!1;function W(X,ae,_e,Ie){le(X,(f<<1)+(Ie?1:0),3),(function(me,Oe,Me,De){oe(me),se(me,Me),se(me,~Me),s.arraySet(me.pending_buf,me.window,Oe,Me,me.pending),me.pending+=Me})(X,ae,_e)}a._tr_init=function(X){fe||((function(){var ae,_e,Ie,me,Oe,Me=new Array(_+1);for(me=Ie=0;me<m-1;me++)for(J[me]=Ie,ae=0;ae<1<<O[me];ae++)I[Ie++]=me;for(I[Ie-1]=me,me=Oe=0;me<16;me++)for(Z[me]=Oe,ae=0;ae<1<<M[me];ae++)B[Oe++]=me;for(Oe>>=7;me<v;me++)for(Z[me]=Oe<<7,ae=0;ae<1<<M[me]-7;ae++)B[256+Oe++]=me;for(_e=0;_e<=_;_e++)Me[_e]=0;for(ae=0;ae<=143;)H[2*ae+1]=8,ae++,Me[8]++;for(;ae<=255;)H[2*ae+1]=9,ae++,Me[9]++;for(;ae<=279;)H[2*ae+1]=7,ae++,Me[7]++;for(;ae<=287;)H[2*ae+1]=8,ae++,Me[8]++;for(Ee(H,x+1,Me),ae=0;ae<v;ae++)D[2*ae+1]=5,D[2*ae]=Re(ae,5);q=new ge(H,O,g+1,x,_),Y=new ge(D,M,0,v,_),te=new ge(new Array(0),U,0,j,S)})(),fe=!0),X.l_desc=new L(X.dyn_ltree,q),X.d_desc=new L(X.dyn_dtree,Y),X.bl_desc=new L(X.bl_tree,te),X.bi_buf=0,X.bi_valid=0,re(X)},a._tr_stored_block=W,a._tr_flush_block=function(X,ae,_e,Ie){var me,Oe,Me=0;0<X.level?(X.strm.data_type===2&&(X.strm.data_type=(function(De){var qe,ft=4093624447;for(qe=0;qe<=31;qe++,ft>>>=1)if(1&ft&&De.dyn_ltree[2*qe]!==0)return c;if(De.dyn_ltree[18]!==0||De.dyn_ltree[20]!==0||De.dyn_ltree[26]!==0)return u;for(qe=32;qe<g;qe++)if(De.dyn_ltree[2*qe]!==0)return u;return c})(X)),ht(X,X.l_desc),ht(X,X.d_desc),Me=(function(De){var qe;for(P(De,De.dyn_ltree,De.l_desc.max_code),P(De,De.dyn_dtree,De.d_desc.max_code),ht(De,De.bl_desc),qe=j-1;3<=qe&&De.bl_tree[2*G[qe]+1]===0;qe--);return De.opt_len+=3*(qe+1)+5+5+4,qe})(X),me=X.opt_len+3+7>>>3,(Oe=X.static_len+3+7>>>3)<=me&&(me=Oe)):me=Oe=_e+5,_e+4<=me&&ae!==-1?W(X,ae,_e,Ie):X.strategy===4||Oe===me?(le(X,2+(Ie?1:0),3),Ce(X,H,D)):(le(X,4+(Ie?1:0),3),(function(De,qe,ft,it){var ne;for(le(De,qe-257,5),le(De,ft-1,5),le(De,it-4,4),ne=0;ne<it;ne++)le(De,De.bl_tree[2*G[ne]+1],3);ve(De,De.dyn_ltree,qe-1),ve(De,De.dyn_dtree,ft-1)})(X,X.l_desc.max_code+1,X.d_desc.max_code+1,Me+1),Ce(X,X.dyn_ltree,X.dyn_dtree)),re(X),Ie&&oe(X)},a._tr_tally=function(X,ae,_e){return X.pending_buf[X.d_buf+2*X.last_lit]=ae>>>8&255,X.pending_buf[X.d_buf+2*X.last_lit+1]=255&ae,X.pending_buf[X.l_buf+X.last_lit]=255&_e,X.last_lit++,ae===0?X.dyn_ltree[2*_e]++:(X.matches++,ae--,X.dyn_ltree[2*(I[_e]+g+1)]++,X.dyn_dtree[2*F(ae)]++),X.last_lit===X.lit_bufsize-1},a._tr_align=function(X){le(X,2,3),ue(X,C,H),(function(ae){ae.bi_valid===16?(se(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)})(X)}},{"../utils/common":41}],53:[function(n,r,a){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,a){(function(s){(function(c,u){if(!c.setImmediate){var h,f,m,g,x=1,v={},j=!1,w=c.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(c);_=_&&_.setTimeout?_:c,h={}.toString.call(c.process)==="[object process]"?function(V){process.nextTick(function(){S(V)})}:(function(){if(c.postMessage&&!c.importScripts){var V=!0,k=c.onmessage;return c.onmessage=function(){V=!1},c.postMessage("","*"),c.onmessage=k,V}})()?(g="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",C,!1):c.attachEvent("onmessage",C),function(V){c.postMessage(g+V,"*")}):c.MessageChannel?((m=new MessageChannel).port1.onmessage=function(V){S(V.data)},function(V){m.port2.postMessage(V)}):w&&"onreadystatechange"in w.createElement("script")?(f=w.documentElement,function(V){var k=w.createElement("script");k.onreadystatechange=function(){S(V),k.onreadystatechange=null,f.removeChild(k),k=null},f.appendChild(k)}):function(V){setTimeout(S,0,V)},_.setImmediate=function(V){typeof V!="function"&&(V=new Function(""+V));for(var k=new Array(arguments.length-1),$=0;$<k.length;$++)k[$]=arguments[$+1];var O={callback:V,args:k};return v[x]=O,h(x),x++},_.clearImmediate=E}function E(V){delete v[V]}function S(V){if(j)setTimeout(S,0,V);else{var k=v[V];if(k){j=!0;try{(function($){var O=$.callback,M=$.args;switch(M.length){case 0:O();break;case 1:O(M[0]);break;case 2:O(M[0],M[1]);break;case 3:O(M[0],M[1],M[2]);break;default:O.apply(u,M)}})(k)}finally{E(V),j=!1}}}}function C(V){V.source===c&&typeof V.data=="string"&&V.data.indexOf(g)===0&&S(+V.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof jp<"u"?jp:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(tb)),tb.exports}var GW=HW();const KW=Qi(GW);function YW(){const{currentUser:t,refreshUserData:e,userData:n}=Cn(),r=$n(),a=T.useRef(null),[s,c]=T.useState([]),[u,h]=T.useState(!1),[f,m]=T.useState(!1),[g,x]=T.useState({}),[v,j]=T.useState([]),[w,_]=T.useState(!1),E=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.apple.pages","application/x-iwork-pages-sffpages"],S=["application/zip","application/x-zip-compressed"],C=5*1024*1024,V=50*1024*1024,k=50,$=q=>{q.preventDefault(),q.stopPropagation(),h(!0)},O=q=>{q.preventDefault(),q.stopPropagation(),h(!1)},M=q=>{q.preventDefault(),q.stopPropagation()},U=q=>{q.preventDefault(),q.stopPropagation(),h(!1);const Y=Array.from(q.dataTransfer.files);D(Y)},G=q=>{const Y=Array.from(q.target.files);D(Y)},H=async q=>{_(!0);const Y=[],te=[];try{const ge=await new KW().loadAsync(q);for(const[L,F]of Object.entries(ge.files)){if(F.dir||L.startsWith("__MACOSX/")||L.startsWith("."))continue;const se=L.split(".").pop().toLowerCase();if(!["pdf","doc","docx","pages"].includes(se)){Y.push(`${L}: Skipped (not a supported document format)`);continue}const le=await F.async("blob");let ue="application/pdf";se==="doc"&&(ue="application/msword"),se==="docx"&&(ue="application/vnd.openxmlformats-officedocument.wordprocessingml.document"),se==="pages"&&(ue="application/vnd.apple.pages");const Re=new File([le],L,{type:ue});if(Re.size>C){Y.push(`${L}: File too large (max 5MB)`);continue}te.push(Re)}te.length===0&&Y.push(`${q.name}: No valid CV files found in ZIP`)}catch(Z){Y.push(`${q.name}: Failed to extract ZIP file`),console.error("ZIP extraction error:",Z)}return _(!1),{extractedFiles:te,newErrors:Y}},D=async q=>{const Y=[],te=[],Z=t?.userData?.plan||"free",ge=Dp(Z),L=t?.userData?.cvUploadsThisMonth||0,F=t?.userData?.cvPackBalance||0;if(ge!==-1&&L>=ge&&F===0){j([`You have reached your monthly upload limit of ${ge} CVs. Purchase a CV Pack or upgrade your plan to upload more CVs.`]);return}for(const se of q)if(S.includes(se.type)||se.name.toLowerCase().endsWith(".zip")){if(se.size>V){te.push(`${se.name}: ZIP file too large. Maximum size is 50MB.`);continue}const{extractedFiles:le,newErrors:ue}=await H(se);te.push(...ue);for(const Re of le){if(s.some(Ee=>Ee.name===Re.name&&Ee.size===Re.size)){te.push(`${Re.name}: File already added.`);continue}Y.push({file:Re,id:Math.random().toString(36).substring(7),status:"pending",progress:0,error:null,fromZip:!0})}}else{const le=se.name.split(".").pop().toLowerCase();if(!(E.includes(se.type)||le==="pages")){te.push(`${se.name}: Invalid file type. Only PDF, Word, and Pages documents are allowed.`);continue}if(se.size>C){te.push(`${se.name}: File too large. Maximum size is 5MB.`);continue}if(s.some(Re=>Re.name===se.name&&Re.size===se.size)){te.push(`${se.name}: File already added.`);continue}Y.push({file:se,id:Math.random().toString(36).substring(7),status:"pending",progress:0,error:null})}if(s.length+Y.length>k){te.push(`Total files exceed maximum of ${k} files`),j(te);return}if(ge!==-1&&L+Y.length>ge){const se=ge-L;te.push(`Adding ${Y.length} file(s) would exceed your monthly limit. You can upload ${se} more CV(s) this month.`),j(te);return}c([...s,...Y]),te.length>0&&j(te)},B=q=>{c(s.filter(Y=>Y.id!==q))},I=async q=>{const{file:Y,id:te}=q;try{const Z=n?.teamAccess,ge=Z?.isTeamMember&&Z?.teamOwnerId?Z.teamOwnerId:t.uid;console.log("Uploading CV for user:",ge,"(Team member:",Z?.isTeamMember,")");const L=BK(YK,`cvs/${ge}/${Date.now()}_${Y.name}`),F=UK(L,Y);return new Promise((se,le)=>{F.on("state_changed",ue=>{const Re=ue.bytesTransferred/ue.totalBytes*100;x(Ee=>({...Ee,[te]:Re}))},ue=>{console.error("Upload error:",ue),le(ue)},async()=>{try{const ue=await VK(F.snapshot.ref),Re={userId:ge,uploadedBy:t.uid,uploadedByEmail:t.email,uploadedByName:t.displayName||t.email,fileName:Y.name,fileSize:Y.size,fileType:Y.type,downloadURL:ue,storagePath:F.snapshot.ref.fullPath,uploadedAt:B$(),status:"processing",parsed:!1,metadata:{name:null,email:null,phone:null,skills:[],experience:[],education:[]}},Ee=await $O(Ra(It,"cvs"),Re);console.log("CV document created with ID:",Ee.id,"for user:",ge);const re=On(It,"users",ge),oe=t?.userData?.plan||"free",ze=Dp(oe),Be=t?.userData?.cvUploadsThisMonth||0,Ce=t?.userData?.cvPackBalance||0;ze!==-1&&Be>=ze&&Ce>0?(await qu(re,{cvPackBalance:QT(-1)}),console.log("Deducted 1 CV from pack balance")):(await qu(re,{cvUploadsThisMonth:QT(1)}),console.log("User counter incremented successfully")),se({id:te,docId:Ee.id,downloadURL:ue})}catch(ue){le(ue)}})})}catch(Z){throw Z}},J=async()=>{const q=s.filter(F=>F.status==="pending");if(q.length===0)return;const Y=t?.userData?.plan||"free",te=Dp(Y),Z=t?.userData?.cvUploadsThisMonth||0;if(te!==-1&&Z+q.length>te){const F=te-Z;j([`You can only upload ${F} more CV(s) this month. Please upgrade your plan for more uploads.`]);return}m(!0);const ge=[];for(const F of q){const se=I(F).then(le=>{c(ue=>ue.map(Re=>Re.id===le.id?{...Re,status:"success",downloadURL:le.downloadURL}:Re))}).catch(le=>{c(ue=>ue.map(Re=>Re.id===F.id?{...Re,status:"error",error:le.message}:Re))});ge.push(se)}await Promise.all(ge),m(!1),await e(),s.every(F=>F.status==="success")&&setTimeout(()=>{r("/dashboard")},2e3)};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[o.jsx(Ys,{size:20}),o.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(wr,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Upload CVs"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Bulk Upload Manager"})]})]})]})})}),o.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:o.jsx(wr,{size:28})}),"Upload CVs"]}),o.jsx("p",{className:"text-orange-100 text-lg",children:"Upload PDF, Word, or Apple Pages documents individually, or upload a ZIP file containing multiple CVs for bulk processing"})]}),o.jsx("div",{className:"hidden lg:block",children:o.jsx(Br,{className:"w-24 h-24 text-white/20"})})]})}),(()=>{const q=t?.userData?.plan||"free",Y=Dp(q),te=t?.userData?.cvUploadsThisMonth||0,Z=t?.userData?.cvPackBalance||0,ge=Y===-1,L=!ge&&te>=Y*.8&&Z===0,F=!ge&&te>=Y&&Z===0,se=ge?0:te/Y*100;return o.jsx("div",{className:`mb-6 rounded-2xl p-5 shadow-lg border ${F?"bg-red-50 border-red-200":L?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${F?"bg-red-100":L?"bg-orange-100":"bg-blue-100"}`,children:o.jsx(wr,{className:F?"text-red-500":L?"text-orange-500":"text-blue-500",size:20})}),o.jsxs("div",{children:[o.jsx("h3",{className:`font-bold ${F?"text-red-900":L?"text-orange-900":"text-blue-900"}`,children:ge?"Unlimited Uploads":`${te} / ${Y} CVs Uploaded This Month`}),o.jsx("p",{className:`text-sm ${F?"text-red-700":L?"text-orange-700":"text-blue-700"}`,children:ge?"Enterprise plan with unlimited CV uploads":F?"Upload limit reached. Purchase a CV Pack or upgrade your plan to continue.":Z>0?`${Y-te} monthly uploads + ${Z} CV pack credits`:`${Y-te} upload(s) remaining`})]})]}),!ge&&o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-48 bg-gray-200 rounded-full h-3",children:o.jsx("div",{className:`h-3 rounded-full transition-all ${F?"bg-red-500":L?"bg-orange-500":"bg-blue-500"}`,style:{width:`${Math.min(se,100)}%`}})}),(F||L)&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>r("/settings?tab=cvpacks"),className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg font-semibold text-sm transition-all hover:scale-105 shadow-lg",children:"Buy CV Pack"}),o.jsx("button",{onClick:()=>r("/pricing"),className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-semibold text-sm transition-all hover:scale-105 shadow-lg",children:"Upgrade Plan"})]})]})]})})})(),v.length>0&&o.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-5 shadow-lg",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx($t,{className:"text-red-500",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-red-900 font-bold mb-2 flex items-center gap-2",children:"Upload Errors"}),o.jsx("ul",{className:"space-y-1",children:v.map((q,Y)=>o.jsxs("li",{className:"text-sm text-red-700",children:[" ",q]},Y))})]}),o.jsx("button",{onClick:()=>j([]),className:"text-red-500 hover:text-red-700 transition-colors p-2 hover:bg-red-100 rounded-lg",children:o.jsx(Xe,{size:20})})]})}),o.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-12 text-center transition-all shadow-lg ${u?"border-orange-500 bg-gradient-to-br from-orange-50 to-orange-100 scale-105":"border-gray-300 bg-white hover:border-orange-400 hover:shadow-xl"}`,onDragEnter:$,onDragOver:M,onDragLeave:O,onDrop:U,children:[o.jsx("div",{className:`w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg ${u?"scale-110":""} transition-transform`,children:o.jsx(wr,{className:"text-white",size:40})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Drag and drop your CVs or ZIP files here"}),o.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:w?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx(_r,{className:"animate-spin text-orange-500",size:20}),o.jsx("span",{className:"font-semibold text-orange-600",children:"Extracting ZIP file..."})]}):"or click the button below to browse files"}),o.jsx("input",{ref:a,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.pages,.zip",onChange:G,className:"hidden"}),o.jsx("button",{onClick:()=>a.current?.click(),disabled:f||w,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:w?"Extracting ZIP...":"Browse Files"}),o.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-gray-500",children:[o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(Br,{size:14}),o.jsx("span",{children:"PDF, DOC, DOCX, PAGES, ZIP"})]}),o.jsx("span",{children:""}),o.jsx("span",{children:"Max 5MB per CV, 50MB per ZIP"})]})]}),s.length>0&&s.every(q=>q.status==="success")&&o.jsx("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-2xl p-6 shadow-xl",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:o.jsx(Mt,{className:"text-white",size:28})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-green-900 font-bold text-xl mb-2",children:"All files uploaded successfully!"}),o.jsx("p",{className:"text-green-700 font-medium",children:"Your CVs are now being processed. Redirecting to dashboard..."})]})]})}),s.length>0&&o.jsxs("div",{className:"mt-8 bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-lg",children:[o.jsxs("div",{className:"px-6 py-5 bg-gradient-to-r from-gray-50 to-orange-50/30 border-b border-gray-200 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(Br,{className:"text-white",size:20})}),o.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Selected Files (",s.length,")"]})]}),!f&&s.some(q=>q.status==="pending")&&o.jsxs("button",{onClick:J,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-2.5 rounded-xl font-bold transition-all hover:scale-105 flex items-center gap-2 shadow-lg shadow-orange-500/30",children:[o.jsx(wr,{size:18}),o.jsx("span",{children:"Upload All"})]})]}),o.jsx("div",{className:"divide-y divide-gray-100",children:s.map((q,Y)=>o.jsxs("div",{className:"px-6 py-5 flex items-center gap-4 hover:bg-gradient-to-r hover:from-gray-50 hover:to-orange-50/30 transition-all group",style:{animationDelay:`${Y*50}ms`},children:[o.jsxs("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0 relative shadow-md transition-transform group-hover:scale-110 ${q.status==="success"?"bg-gradient-to-br from-green-500 to-green-600":q.status==="error"?"bg-gradient-to-br from-red-500 to-red-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:[q.status==="success"?o.jsx(Mt,{className:"text-white",size:28}):q.status==="error"?o.jsx($t,{className:"text-white",size:28}):o.jsx(Br,{className:"text-white",size:28}),q.fromZip&&o.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-md",title:"Extracted from ZIP",children:o.jsx(rY,{className:"text-white",size:14})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:q.file.name}),o.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:[(q.file.size/1024).toFixed(1)," KB"]}),q.status==="pending"&&f&&o.jsxs("div",{className:"mt-3",children:[o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner overflow-hidden",children:o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-3 rounded-full transition-all shadow-sm flex items-center justify-end pr-2",style:{width:`${g[q.id]||0}%`},children:g[q.id]>10&&o.jsxs("span",{className:"text-xs text-white font-bold",children:[Math.round(g[q.id]),"%"]})})}),o.jsxs("p",{className:"text-xs text-gray-600 mt-1 font-semibold",children:[Math.round(g[q.id]||0),"% uploaded"]})]}),q.status==="error"&&o.jsxs("p",{className:"text-sm text-red-600 mt-2 font-semibold flex items-center gap-1",children:[o.jsx($t,{size:14}),q.error]}),q.status==="success"&&o.jsxs("p",{className:"text-sm text-green-600 mt-2 font-semibold flex items-center gap-1",children:[o.jsx(Mt,{size:14}),"Upload complete!"]})]}),o.jsx("div",{className:"flex-shrink-0",children:q.status==="pending"&&f?o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:o.jsx(_r,{className:"text-orange-500 animate-spin",size:24})}):f?null:o.jsx("button",{onClick:()=>B(q.id),className:"w-10 h-10 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all flex items-center justify-center",children:o.jsx(Xe,{size:22})})})]},q.id))})]})]})]})}function si({isOpen:t,onClose:e,onConfirm:n,title:r,message:a,confirmText:s="Confirm",cancelText:c="Cancel",type:u="warning",icon:h,confirmLoading:f=!1}){if(!t)return null;const m=()=>{if(h)return h;switch(u){case"danger":return Nr;case"success":return Ur;case"info":return f2;case"warning":default:return Bg}},g=()=>{switch(u){case"danger":return{iconBg:"from-red-500 to-red-600",iconContainer:"bg-red-100",button:"from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 shadow-red-500/30",border:"border-red-200"};case"success":return{iconBg:"from-green-500 to-green-600",iconContainer:"bg-green-100",button:"from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-green-500/30",border:"border-green-200"};case"info":return{iconBg:"from-blue-500 to-blue-600",iconContainer:"bg-blue-100",button:"from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-blue-500/30",border:"border-blue-200"};case"warning":default:return{iconBg:"from-orange-500 to-orange-600",iconContainer:"bg-orange-100",button:"from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 shadow-orange-500/30",border:"border-orange-200"}}},x=m(),v=g(),j=w=>{w.target===w.currentTarget&&e()};return o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:j,children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl animate-slideUp",children:[o.jsx("div",{className:`p-6 border-b ${v.border} bg-gradient-to-r from-gray-50 to-orange-50/20`,children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-14 h-14 ${v.iconContainer} rounded-xl flex items-center justify-center`,children:o.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${v.iconBg} rounded-lg flex items-center justify-center shadow-lg`,children:o.jsx(x,{className:"text-white",size:24})})}),o.jsx("div",{children:o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r})})]}),o.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-all",disabled:f,children:o.jsx(Xe,{size:20})})]})}),o.jsx("div",{className:"p-6",children:o.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:a})}),o.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[o.jsx("button",{onClick:e,disabled:f,className:"flex-1 px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50 hover:border-gray-400 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:c}),o.jsx("button",{onClick:n,disabled:f,className:`flex-1 px-6 py-3 bg-gradient-to-r ${v.button} text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2`,children:f?o.jsxs(o.Fragment,{children:[o.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.jsx("span",{children:"Processing..."})]}):s})]})]})})}function WW({cv:t,jobSpec:e,matchScore:n,onClose:r}){if(!t||!e)return null;const a=()=>{const v=(t.metadata?.skills||[]).map(C=>C.toLowerCase()),j=(e.requiredSkills||[]).map(C=>C.toLowerCase()),w=(e.preferredSkills||[]).map(C=>C.toLowerCase()),_=j.filter(C=>v.some(V=>V.includes(C)||C.includes(V))),E=w.filter(C=>v.some(V=>V.includes(C)||C.includes(V))),S=j.filter(C=>!_.includes(C));return{matchedRequired:_,matchedPreferred:E,missingRequired:S,requiredTotal:j.length,preferredTotal:w.length,requiredScore:j.length>0?_.length/j.length*100:100}},s=()=>{const j=(t.metadata?.experience||[]).reduce((V,k)=>{const $=k.duration?c(k.duration):1;return V+$},0),w=parseInt(e.minExperience)||0,_=parseInt(e.maxExperience)||999,E=j>=w&&j<=_,S=j<w,C=j>_;return{totalYears:j,minRequired:w,maxRequired:_,meetsRequirement:E,isUnderqualified:S,isOverqualified:C,difference:Math.abs(j-w)}},c=v=>{const j=v.match(/(\d+)\s*(?:year|yr)/i);if(j)return parseInt(j[1]);const w=v.match(/\b(19|20)\d{2}\b/g);return w&&w.length>=2?parseInt(w[w.length-1])-parseInt(w[0]):1},u=()=>{const v=(t.metadata?.education||[]).map(S=>(S.degree||"").toLowerCase()),j=(e.education||"").toLowerCase();if(!j)return{matches:!0,details:"No specific requirement"};const w={phd:6,doctorate:6,masters:5,master:5,mba:5,honours:4,bachelor:3,degree:3,diploma:2,certificate:1},_=Object.entries(w).find(([S])=>j.includes(S))?.[1]||0,E=Math.max(...v.map(S=>Object.entries(w).find(([V])=>S.includes(V))?.[1]||0),0);return{matches:E>=_,cvLevel:E,requiredLevel:_,details:E>=_?"Meets requirement":"Below requirement"}},h=()=>{const v=(t.metadata?.location||"").toLowerCase(),j=(e.location||"").toLowerCase();if(!j||e.locationType==="remote")return{matches:!0,details:e.locationType==="remote"?"Remote position":"No location requirement"};const w=v.includes(j)||j.includes(v);return{matches:w,details:w?"Location matches":"Different location"}},f=a(),m=s(),g=u(),x=h();return o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full my-8 shadow-2xl",children:[o.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-t-2xl",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-3",children:[o.jsx(rl,{size:28}),"Match Breakdown Report"]}),o.jsxs("p",{className:"text-orange-100",children:["Detailed analysis: ",t.metadata?.name||t.fileName,"  ",e.title]})]}),o.jsx("button",{onClick:r,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:o.jsx(Xe,{size:24})})]})}),o.jsxs("div",{className:"p-6 max-h-[calc(100vh-16rem)] overflow-y-auto",children:[o.jsx("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border-2 border-blue-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Overall Match Score"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive fit assessment"})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:`text-4xl font-bold ${n>=80?"text-green-600":n>=60?"text-blue-600":n>=40?"text-yellow-600":"text-red-600"}`,children:[n,"%"]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n>=80?"Excellent Match":n>=60?"Good Match":n>=40?"Fair Match":"Poor Match"})]})]})}),o.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:o.jsx(rl,{className:"text-white",size:16})}),"Skills Analysis"]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-700",children:"Required Skills"}),o.jsxs("span",{className:`px-3 py-1 rounded-lg text-sm font-bold ${f.requiredScore===100?"bg-green-100 text-green-700":f.requiredScore>=70?"bg-blue-100 text-blue-700":f.requiredScore>=40?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[f.matchedRequired.length," / ",f.requiredTotal," matched"]})]}),f.matchedRequired.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsxs("p",{className:"text-xs font-semibold text-green-700 mb-2 flex items-center gap-1",children:[o.jsx(Ur,{size:14})," Matched Required Skills:"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:f.matchedRequired.map((v,j)=>o.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-lg text-sm border border-green-200",children:v},j))})]}),f.missingRequired.length>0&&o.jsxs("div",{children:[o.jsxs("p",{className:"text-xs font-semibold text-red-700 mb-2 flex items-center gap-1",children:[o.jsx(zg,{size:14})," Missing Required Skills:"]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:f.missingRequired.map((v,j)=>o.jsx("span",{className:"px-3 py-1 bg-red-50 text-red-700 rounded-lg text-sm border border-red-200",children:v},j))})]})]}),f.preferredTotal>0&&o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-700",children:"Preferred Skills"}),o.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-bold",children:[f.matchedPreferred.length," / ",f.preferredTotal," matched"]})]}),f.matchedPreferred.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2",children:f.matchedPreferred.map((v,j)=>o.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-sm border border-blue-200",children:v},j))})]})]}),o.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx(ti,{className:"text-white",size:16})}),"Experience Analysis"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Candidate Experience:"}),o.jsxs("span",{className:"font-bold text-gray-900",children:[m.totalYears," years"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Required Experience:"}),o.jsxs("span",{className:"font-bold text-gray-900",children:[m.minRequired,m.maxRequired<999?` - ${m.maxRequired}`:"+"," years"]})]}),o.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${m.meetsRequirement?"bg-green-50 border border-green-200":m.isUnderqualified?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"}`,children:m.meetsRequirement?o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"text-green-600",size:20}),o.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Meets experience requirement"})]}):m.isUnderqualified?o.jsxs(o.Fragment,{children:[o.jsx($t,{className:"text-yellow-600",size:20}),o.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:["Underqualified by ",m.difference," years"]})]}):o.jsxs(o.Fragment,{children:[o.jsx($t,{className:"text-blue-600",size:20}),o.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:["Overqualified by ",m.totalYears-m.maxRequired," years"]})]})})]})]}),o.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:o.jsx(h2,{className:"text-white",size:16})}),"Education Analysis"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Required:"}),o.jsx("span",{className:"font-bold text-gray-900",children:e.education||"Not specified"})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Candidate:"}),o.jsx("span",{className:"font-bold text-gray-900",children:t.metadata?.education?.[0]?.degree||"Not specified"})]}),o.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${g.matches?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:g.matches?o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"text-green-600",size:20}),o.jsx("span",{className:"text-sm font-semibold text-green-700",children:g.details})]}):o.jsxs(o.Fragment,{children:[o.jsx(zg,{className:"text-red-600",size:20}),o.jsx("span",{className:"text-sm font-semibold text-red-700",children:g.details})]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:o.jsx(m2,{className:"text-white",size:16})}),"Location Analysis"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Job Location:"}),o.jsxs("span",{className:"font-bold text-gray-900",children:[e.location||"Not specified",e.locationType&&` (${e.locationType})`]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"text-sm text-gray-700",children:"Candidate Location:"}),o.jsx("span",{className:"font-bold text-gray-900",children:t.metadata?.location||"Not specified"})]}),o.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${x.matches?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:x.matches?o.jsxs(o.Fragment,{children:[o.jsx(Ur,{className:"text-green-600",size:20}),o.jsx("span",{className:"text-sm font-semibold text-green-700",children:x.details})]}):o.jsxs(o.Fragment,{children:[o.jsx($t,{className:"text-yellow-600",size:20}),o.jsx("span",{className:"text-sm font-semibold text-yellow-700",children:x.details})]})})]})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-2xl border-t border-gray-200",children:o.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-3 rounded-xl font-bold transition-all hover:scale-105",children:"Close Report"})})]})})}function XW(t){if(!t.duration&&!t.startDate&&!t.endDate)return 0;try{const e=t.duration||`${t.startDate||""} - ${t.endDate||""}`,n=e.match(/\b(19|20)\d{2}\b/g);if(n&&n.length>=2){const r=parseInt(n[0]);let a=parseInt(n[n.length-1]);return(e.toLowerCase().includes("present")||e.toLowerCase().includes("current"))&&(a=new Date().getFullYear()),Math.max(0,a-r)}return n&&n.length===1?1:0}catch(e){return console.warn("Error calculating experience years:",e),0}}function Po({value:t,onChange:e,options:n,placeholder:r="Select...",className:a=""}){const[s,c]=T.useState(!1),u=T.useRef(null);T.useEffect(()=>{function f(m){u.current&&!u.current.contains(m.target)&&c(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const h=n.find(f=>f.value===t);return o.jsxs("div",{ref:u,className:`relative ${a}`,style:{zIndex:s?1e3:"auto"},children:[o.jsxs("button",{type:"button",onClick:()=>c(!s),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg flex items-center justify-between hover:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[o.jsx("span",{className:`text-sm ${t==="all"||!t?"text-gray-500":"text-gray-900 font-medium"}`,children:h?.label||r}),o.jsx(Mi,{size:16,className:`text-gray-400 transition-transform ${s?"transform rotate-180":""}`})]}),s&&o.jsx("div",{className:"absolute z-[1001] w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-auto",children:n.map(f=>o.jsxs("button",{type:"button",onClick:()=>{e(f.value),c(!1)},className:`w-full px-4 py-2.5 text-left text-sm hover:bg-orange-50 transition-colors flex items-center justify-between ${t===f.value?"bg-orange-50 text-orange-600 font-medium":"text-gray-700"}`,children:[o.jsx("span",{children:f.label}),t===f.value&&o.jsx($e,{size:16,className:"text-orange-600"})]},f.value))})]})}function QW(){const{currentUser:t,userData:e}=Cn(),n=$n(),r=ll(),[a,s]=T.useState([]),[c,u]=T.useState([]),[h,f]=T.useState(!0),[m,g]=T.useState(""),[x,v]=T.useState([]),[j,w]=T.useState(!1),[_,E]=T.useState(!1),[S,C]=T.useState({demographic:!1,professional:!1,advanced:!1,custom:!1}),[V,k]=T.useState([]),[$,O]=T.useState(null),[M,U]=T.useState(!1),[G,H]=T.useState(!1),[D,B]=T.useState({isOpen:!1,cvId:null,isBulk:!1}),[I,J]=T.useState(!1),[q,Y]=T.useState(null),[te,Z]=T.useState([]),[ge,L]=T.useState([]),[F,se]=T.useState({}),le=T.useRef(null),ue=T.useRef(null),Re=e?.plan||"free",Ee=e?ud(Re,"customFields"):!1,[re,oe]=T.useState({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0});T.useEffect(()=>{!t||!e||(ze(),Ce(),Ee&&Be())},[t,e,Ee]),T.useEffect(()=>{t&&W()},[a,m,re,$,F,t]),T.useEffect(()=>{const ne=()=>{if(le.current&&ue.current){const Pe=le.current.querySelector("table");if(Pe){const Ye=ue.current.querySelector("div");Ye&&(Ye.style.width=`${Pe.scrollWidth}px`)}}};ne();const we=new ResizeObserver(ne);return le.current&&we.observe(le.current),()=>we.disconnect()},[c,ge,$]);const ze=async()=>{try{f(!0),console.log("Fetching CVs for user:",t.uid);const ne=e?.teamAccess;if(ne?.isTeamMember&&ne?.teamOwnerId){console.log("Fetching team CVs via Cloud Function for owner:",ne.teamOwnerId);const we=Qt(),Ye=await _t(we,"getTeamCVs")();if(Ye.data.success){const Ue=Ye.data.cvs.map(et=>({...et,uploadedAt:et.uploadedAt?.toDate?et.uploadedAt.toDate():et.uploadedAt?._seconds?new Date(et.uploadedAt._seconds*1e3):new Date}));console.log("Team CVs fetched:",Ue.length),s(Ue),u(Ue)}else throw new Error("Failed to fetch team CVs")}else{console.log("Fetching own CVs for user:",t.uid);const we=$i(Ra(It,"cvs"),br("userId","==",t.uid),Rg("uploadedAt","desc")),Pe=await Hi(we);console.log("Query successful. Found documents:",Pe.docs.length);const Ye=Pe.docs.map(Ue=>({id:Ue.id,...Ue.data(),uploadedAt:Ue.data().uploadedAt?.toDate()||new Date}));console.log("CVs data:",Ye),s(Ye),u(Ye)}}catch(ne){console.error("Error fetching CVs:",ne),console.error("Error code:",ne.code),console.error("Error message:",ne.message),(ne.code==="failed-precondition"||ne.message?.includes("index"))&&(console.error("FIRESTORE INDEX REQUIRED!"),console.error("Create a composite index for: userId (Ascending) + uploadedAt (Descending)"))}finally{f(!1)}},Be=async()=>{if(t)try{const ne=On(It,"customFieldConfigs",t.uid),we=await pc(ne);if(we.exists()){const Pe=we.data().fields||[];Z(Pe);const Ye={};Pe.forEach(Ue=>{Ye[Ue.name]=""}),se(Ye)}else Z([]),se({})}catch(ne){console.error("Error loading custom field configs:",ne),Z([]),se({})}},Ce=async()=>{try{if(e?.teamAccess?.isTeamMember){const Pe=Qt(),Ue=await _t(Pe,"getTeamJobSpecs")();if(Ue.data.success){const et=Ue.data.jobSpecs.map(tn=>({id:tn.id,...tn,createdAt:tn.createdAt?._seconds?new Date(tn.createdAt._seconds*1e3):new Date(tn.createdAt)}));et.sort((tn,jt)=>new Date(jt.createdAt)-new Date(tn.createdAt)),k(et)}else k([])}else{const Pe=$i(Ra(It,"jobSpecs"),br("userId","==",t.uid),br("isActive","==",!0),Rg("createdAt","desc")),Ue=(await Hi(Pe)).docs.map(et=>({id:et.id,...et.data()}));k(Ue)}}catch(ne){if(ne.code==="failed-precondition"||ne.message.includes("index"))try{const we=$i(Ra(It,"jobSpecs"),br("userId","==",t.uid),br("isActive","==",!0)),Ye=(await Hi(we)).docs.map(Ue=>({id:Ue.id,...Ue.data()}));Ye.sort((Ue,et)=>new Date(et.createdAt)-new Date(Ue.createdAt)),k(Ye)}catch(we){console.error("Error fetching job specs (retry):",we)}else console.error("Error fetching job specs:",ne)}},ht=async ne=>{if(!Du(e?.plan)){H(!0);return}if(!ne){O(null);return}O(ne),await P(ne)},P=async ne=>{U(!0);try{const we=Qt(),Pe=_t(we,"batchCalculateMatches"),Ye=a.map(et=>et.id);(await Pe({cvIds:Ye,jobSpecId:ne})).data.success&&await ze()}catch(we){console.error("Error calculating matches:",we),console.error("Error details:",{message:we.message,code:we.code,details:we.details,stack:we.stack,name:we.name});let Pe="Failed to calculate match scores. ";we.code==="functions/internal"?Pe+="There was an internal error in the matching function. Please check the Firebase Functions logs for details.":we.code==="functions/unauthenticated"?Pe+="You must be logged in to use this feature.":we.code==="functions/permission-denied"?Pe+="You do not have permission to perform this action.":we.message?Pe+=we.message:Pe+="An unknown error occurred.",alert(Pe+`

Please check the browser console for more details.`)}finally{U(!1)}},ve=ne=>!$||!ne.matchScores?null:ne.matchScores[$]?.score||null,fe=ne=>{if(ne==null)return o.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:"No Match"});let we="bg-red-100 text-red-700",Pe="Poor Match";return ne>=80?(we="bg-green-100 text-green-700",Pe="Excellent"):ne>=60?(we="bg-blue-100 text-blue-700",Pe="Good"):ne>=40&&(we="bg-yellow-100 text-yellow-700",Pe="Fair"),o.jsxs("span",{className:`px-2 py-1 text-xs ${we} rounded-full font-medium flex items-center gap-1`,children:[o.jsx(B4,{size:12}),ne,"% ",Pe]})},W=()=>{let ne=[...a];if(re.onlyParsed&&(ne=ne.filter(we=>we.parsed&&we.status==="completed")),m&&(ne=ne.filter(we=>we.metadata?.name?.toLowerCase().includes(m.toLowerCase())||we.metadata?.email?.toLowerCase().includes(m.toLowerCase())||we.metadata?.phone?.toLowerCase().includes(m.toLowerCase())||we.metadata?.location?.toLowerCase().includes(m.toLowerCase()))),re.status!=="all"&&(ne=ne.filter(we=>we.status===re.status)),re.fileType!=="all"&&(ne=ne.filter(we=>we.fileType.includes(re.fileType))),re.dateFrom){const we=new Date(re.dateFrom);ne=ne.filter(Pe=>Pe.uploadedAt>=we)}if(re.dateTo){const we=new Date(re.dateTo);we.setHours(23,59,59),ne=ne.filter(Pe=>Pe.uploadedAt<=we)}if(re.gender!=="all"&&(ne=ne.filter(we=>we.metadata?.gender?we.metadata.gender.toLowerCase()===re.gender.toLowerCase():re.includeUnknown)),re.ageMin&&(ne=ne.filter(we=>we.metadata?.age?we.metadata.age>=parseInt(re.ageMin):re.includeUnknown)),re.ageMax&&(ne=ne.filter(we=>we.metadata?.age?we.metadata.age<=parseInt(re.ageMax):re.includeUnknown)),re.race!=="all"&&(ne=ne.filter(we=>we.metadata?.race?we.metadata.race.toLowerCase()===re.race.toLowerCase():re.includeUnknown)),re.location&&(ne=ne.filter(we=>we.metadata?.location?we.metadata.location.toLowerCase().includes(re.location.toLowerCase()):!1)),re.skills){const we=re.skills.toLowerCase().split(",").map(Pe=>Pe.trim());ne=ne.filter(Pe=>Pe.metadata?.skills&&Pe.metadata.skills.length>0?Pe.metadata.skills.some(Ue=>we.some(et=>Ue.toLowerCase().includes(et))):!1)}re.experienceYears!=="all"&&(ne=ne.filter(we=>{if(!(we.metadata?.experience&&we.metadata.experience.length>0))return!1;let Ye=0;switch(we.metadata.experience.forEach(Ue=>{const et=XW(Ue);Ye+=et}),Ye===0&&(Ye=we.metadata.experience.length*1.5),re.experienceYears){case"0-2":return Ye<=2;case"3-5":return Ye>=3&&Ye<=5;case"6-10":return Ye>=6&&Ye<=10;case"10+":return Ye>10;default:return!0}})),Ee&&te.length>0&&F&&te.forEach(we=>{const Pe=F[we.name];Pe&&Pe!==""&&(ne=ne.filter(Ye=>{const Ue=Ye.customFields?.[we.name];return we.type==="boolean"?Ue===(Pe==="true"):we.type==="select"||we.type==="text"?Ue?String(Ue).toLowerCase().includes(String(Pe).toLowerCase()):!1:we.type==="number"?Ue?Ue===Number(Pe):!1:we.type==="date"?Ue?Ue===Pe:!1:!0}))}),$&&ne.sort((we,Pe)=>{const Ye=ve(we)||0;return(ve(Pe)||0)-Ye}),u(ne)},X=ne=>{v(we=>we.includes(ne)?we.filter(Pe=>Pe!==ne):[...we,ne])},ae=()=>{x.length===c.length?v([]):v(c.map(ne=>ne.id))},_e=async ne=>{try{J(!0);const we=Qt(),Ye=await _t(we,"deleteCV")({cvId:ne});if(Ye.data.success)s(Ue=>Ue.filter(et=>et.id!==ne)),v(Ue=>Ue.filter(et=>et!==ne)),r.success("CV deleted successfully");else throw new Error(Ye.data.message||"Failed to delete CV")}catch(we){console.error("Error deleting CV:",we),r.error("Failed to delete CV. Please try again.")}finally{J(!1),B({isOpen:!1,cvId:null,isBulk:!1})}},Ie=async()=>{if(x.length!==0)try{J(!0);const ne=Qt(),we=_t(ne,"deleteCV");let Pe=0,Ye=0;for(const Ue of x)try{(await we({cvId:Ue})).data.success?Pe++:Ye++}catch(et){console.error("Error deleting CV:",Ue,et),Ye++}s(Ue=>Ue.filter(et=>!x.includes(et.id))),Ye===0?r.success(`${Pe} CV(s) deleted successfully`):r.warning(`${Pe} CV(s) deleted, ${Ye} failed`),v([])}catch(ne){console.error("Error deleting CVs:",ne),r.error("Failed to delete some CVs. Please try again.")}finally{J(!1),B({isOpen:!1,cvId:null,isBulk:!1})}},me=(ne=null,we=!1)=>{B({isOpen:!0,cvId:ne,isBulk:we})},Oe=async()=>{D.isBulk?await Ie():await _e(D.cvId)},Me=ne=>{if(ne===0)return"0 Bytes";const we=1024,Pe=["Bytes","KB","MB"],Ye=Math.floor(Math.log(ne)/Math.log(we));return Math.round(ne/Math.pow(we,Ye)*100)/100+" "+Pe[Ye]},De=ne=>new Date(ne).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),qe=()=>{let ne=0;return re.status!=="all"&&ne++,re.fileType!=="all"&&ne++,re.dateFrom&&ne++,re.dateTo&&ne++,re.gender!=="all"&&ne++,re.ageMin&&ne++,re.ageMax&&ne++,re.race!=="all"&&ne++,re.location&&ne++,re.skills&&ne++,re.experienceYears!=="all"&&ne++,re.onlyParsed&&ne++,re.includeUnknown||ne++,F&&Object.values(F).forEach(we=>{we&&we!==""&&ne++}),ne},ft=ne=>{C(we=>({...we,[ne]:!we[ne]}))},it=ne=>{const we={processing:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Processing"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},error:{bg:"bg-red-100",text:"text-red-800",label:"Error"}},Pe=we[ne]||we.processing;return o.jsx("span",{className:`${Pe.bg} ${Pe.text} text-xs font-medium px-2.5 py-1 rounded-full`,children:Pe.label})};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[o.jsx(Ys,{size:20}),o.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(Br,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CV Library"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Document Manager"})]})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:o.jsx(Br,{size:28})}),"CV Library"]}),o.jsxs("p",{className:"text-orange-100 text-lg",children:[c.length," ",c.length===1?"CV":"CVs"," found",qe()>0&&`  ${qe()} filter${qe()>1?"s":""} active`]}),e?.teamAccess?.isTeamMember&&o.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-white/20 backdrop-blur rounded-full border border-white/30",children:[o.jsx(sa,{size:14}),o.jsx("span",{children:"Team Member View"})]}),o.jsx("span",{className:"text-orange-100 text-xs",children:"Viewing team owner's CVs"})]})]}),o.jsxs("button",{onClick:()=>n("/upload"),className:"hidden lg:flex items-center gap-2 px-6 py-3 bg-white/20 backdrop-blur hover:bg-white/30 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg",children:[o.jsx(wr,{size:20}),"Upload CVs"]})]})}),o.jsxs("button",{onClick:()=>n("/upload"),className:"lg:hidden w-full mb-6 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[o.jsx(wr,{size:20}),"Upload CVs"]}),o.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6 shadow-lg",children:[o.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-md",children:o.jsx(U4,{className:"text-white",size:18})}),o.jsx("input",{type:"text",placeholder:"Search by filename, name, or email...",value:m,onChange:ne=>g(ne.target.value),className:"w-full pl-16 pr-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all"})]}),o.jsxs("button",{onClick:()=>w(!j),className:`flex items-center gap-2 px-6 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-md relative ${j?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-orange-500/30":"border-2 border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(bC,{size:20}),o.jsx("span",{children:"Filters"}),qe()>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-br from-red-500 to-red-600 text-white text-xs font-bold rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:qe()})]}),Ee&&te&&te.length>0&&o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>E(!_),className:`flex items-center gap-2 px-6 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-md relative ${_?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-purple-500/30":"border-2 border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[o.jsx(Rs,{size:20}),o.jsx("span",{children:"Columns"}),ge.length>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-br from-purple-500 to-purple-600 text-white text-xs font-bold rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:ge.length})]}),_&&o.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white border-2 border-purple-200 rounded-xl shadow-2xl z-50 p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Rs,{size:18,className:"text-purple-500"}),"Custom Columns"]}),o.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Xe,{size:18})})]}),o.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select which custom fields to show as columns in the table"}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:te.map(ne=>o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-purple-50 p-2 rounded-lg transition-colors group",children:[o.jsx("input",{type:"checkbox",checked:ge.includes(ne.name),onChange:we=>{we.target.checked?L([...ge,ne.name]):L(ge.filter(Pe=>Pe!==ne.name))},className:"w-4 h-4 text-purple-500 border-gray-300 rounded focus:ring-purple-500"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-purple-600",children:ne.label}),o.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",ne.type,")"]})]})]},ne.id))}),ge.length>0&&o.jsx("button",{onClick:()=>L([]),className:"mt-3 w-full text-xs text-purple-600 hover:text-purple-700 font-medium",children:"Clear all"})]})]})]}),(Du(e?.plan)||V.length>0)&&o.jsxs("div",{className:"mt-6 pt-6 border-t-2 border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:o.jsx(ti,{size:18,className:"text-white"})}),o.jsx("label",{className:"text-sm font-bold text-gray-900",children:"Match to Job Spec:"})]}),o.jsx("div",{className:"flex-1 min-w-[280px]",children:M?o.jsxs("div",{className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg flex items-center gap-2 text-sm text-gray-500",children:[o.jsx(_r,{size:16,className:"animate-spin text-orange-500"}),o.jsx("span",{children:"Calculating matches..."})]}):o.jsx(Po,{value:$||"",onChange:ne=>ht(ne),options:[{value:"",label:"No job spec selected"},...V.map(ne=>({value:ne.id,label:`${ne.title}${ne.department?` - ${ne.department}`:""}`}))],placeholder:"Select a job specification..."})}),V.length===0&&Du(e?.plan)&&o.jsx("button",{onClick:()=>n("/job-specs"),className:"text-sm text-orange-500 hover:text-orange-600 font-medium whitespace-nowrap flex items-center gap-1",children:"Create Job Spec "})]}),$&&!M&&o.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600 bg-blue-50 px-3 py-2 rounded-lg",children:[o.jsx(hf,{size:16,className:"text-blue-600"}),o.jsx("span",{children:"CVs are sorted by match score (highest first)"})]})]}),G&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx(rl,{className:"text-orange-500",size:24})}),o.jsx("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:o.jsx(Xe,{size:20})})]}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Upgrade to Premium"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"CV matching with job specifications is a premium feature. Upgrade your plan to unlock this powerful tool."}),o.jsx("button",{onClick:()=>n("/pricing"),className:"w-full py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"View Plans"})]})}),qe()>0&&o.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[o.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),re.status!=="all"&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full",children:["Status: ",re.status,o.jsx("button",{onClick:()=>oe({...re,status:"all"}),className:"hover:bg-orange-200 rounded-full p-0.5",children:o.jsx(Xe,{size:12})})]}),re.race!=="all"&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:["Race: ",re.race,o.jsx("button",{onClick:()=>oe({...re,race:"all"}),className:"hover:bg-purple-200 rounded-full p-0.5",children:o.jsx(Xe,{size:12})})]}),re.gender!=="all"&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Gender: ",re.gender,o.jsx("button",{onClick:()=>oe({...re,gender:"all"}),className:"hover:bg-blue-200 rounded-full p-0.5",children:o.jsx(Xe,{size:12})})]}),re.location&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:["Location: ",re.location,o.jsx("button",{onClick:()=>oe({...re,location:""}),className:"hover:bg-green-200 rounded-full p-0.5",children:o.jsx(Xe,{size:12})})]}),re.skills&&o.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:["Skills: ",re.skills,o.jsx("button",{onClick:()=>oe({...re,skills:""}),className:"hover:bg-indigo-200 rounded-full p-0.5",children:o.jsx(Xe,{size:12})})]}),qe()>1&&o.jsx("button",{onClick:()=>oe({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0}),className:"text-xs text-gray-600 hover:text-orange-500 underline",children:"Clear all"})]}),j&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:[o.jsx("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Showing ",c.length," of ",a.length," CVs"]}),o.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:qe()>0?`${qe()} filter${qe()>1?"s":""} active`:"No filters applied"})]}),o.jsx(Zl,{className:"text-orange-500",size:24})]})}),o.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-xl shadow-sm",children:[o.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(V4,{size:18,className:"text-orange-500"}),"Quick Filters"]}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),o.jsx(Po,{value:re.status,onChange:ne=>oe({...re,status:ne}),options:[{value:"all",label:"All Status"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"error",label:"Error"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Type"}),o.jsx(Po,{value:re.fileType,onChange:ne=>oe({...re,fileType:ne}),options:[{value:"all",label:"All Types"},{value:"pdf",label:"PDF"},{value:"word",label:"Word"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date From"}),o.jsx("input",{type:"date",value:re.dateFrom,onChange:ne=>oe({...re,dateFrom:ne.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date To"}),o.jsx("input",{type:"date",value:re.dateTo,onChange:ne=>oe({...re,dateTo:ne.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"})]})]})]}),o.jsxs("div",{className:`border border-gray-200 rounded-lg ${S.demographic?"overflow-visible":"overflow-hidden"}`,children:[o.jsxs("button",{onClick:()=>ft("demographic"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(sa,{size:16,className:"text-purple-500"}),o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Demographic Filters"}),(re.gender!=="all"||re.ageMin||re.ageMax||re.race!=="all")&&o.jsx("span",{className:"bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),S.demographic?o.jsx(Ql,{size:20}):o.jsx(Mi,{size:20})]}),S.demographic&&o.jsx("div",{className:"p-6 bg-white",children:o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),o.jsx(Po,{value:re.gender,onChange:ne=>oe({...re,gender:ne}),options:[{value:"all",label:"All Genders"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-Binary"},{value:"prefer-not-to-say",label:"Prefer Not to Say"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Min"}),o.jsx("input",{type:"number",placeholder:"Min age",value:re.ageMin,onChange:ne=>oe({...re,ageMin:ne.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm",min:"18",max:"99"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Max"}),o.jsx("input",{type:"number",placeholder:"Max age",value:re.ageMax,onChange:ne=>oe({...re,ageMax:ne.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm",min:"18",max:"99"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Race/Ethnicity"}),o.jsx(Po,{value:re.race,onChange:ne=>oe({...re,race:ne}),options:[{value:"all",label:"All Races"},{value:"african",label:"African"},{value:"coloured",label:"Coloured"},{value:"indian",label:"Indian"},{value:"white",label:"White"},{value:"asian",label:"Asian"},{value:"other",label:"Other"}]})]})]})})]}),o.jsxs("div",{className:`border border-gray-200 rounded-lg ${S.professional?"overflow-visible":"overflow-hidden"}`,children:[o.jsxs("button",{onClick:()=>ft("professional"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ti,{size:16,className:"text-green-500"}),o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Professional Filters"}),(re.location||re.skills||re.experienceYears!=="all")&&o.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),S.professional?o.jsx(Ql,{size:20}):o.jsx(Mi,{size:20})]}),S.professional&&o.jsx("div",{className:"p-6 bg-white",children:o.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),o.jsx("input",{type:"text",placeholder:"e.g., Cape Town, Johannesburg",value:re.location,onChange:ne=>oe({...re,location:ne.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),o.jsx("input",{type:"text",placeholder:"e.g., React, Python, Java",value:re.skills,onChange:ne=>oe({...re,skills:ne.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Separate multiple skills with commas"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),o.jsx(Po,{value:re.experienceYears,onChange:ne=>oe({...re,experienceYears:ne}),options:[{value:"all",label:"All Experience Levels"},{value:"0-2",label:"Entry Level (0-2 years)"},{value:"3-5",label:"Mid Level (3-5 years)"},{value:"6-10",label:"Senior (6-10 years)"},{value:"10+",label:"Expert (10+ years)"}]})]})]})})]}),Ee&&te&&te.length>0&&o.jsxs("div",{className:`border border-gray-200 rounded-lg ${S.custom?"overflow-visible":"overflow-hidden"}`,children:[o.jsxs("button",{onClick:()=>ft("custom"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Rs,{size:16,className:"text-purple-500"}),o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Custom Fields"}),F&&Object.values(F).some(ne=>ne!=="")&&o.jsx("span",{className:"bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),S.custom?o.jsx(Ql,{size:20}):o.jsx(Mi,{size:20})]}),S.custom&&o.jsx("div",{className:"p-6 bg-white",children:o.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:te.map(ne=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[ne.label,o.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",ne.type,")"]})]}),ne.type==="boolean"?o.jsx(Po,{value:F&&F[ne.name]||"",onChange:we=>se({...F||{},[ne.name]:we}),options:[{value:"",label:"All"},{value:"true",label:"Yes"},{value:"false",label:"No"}]}):ne.type==="select"?o.jsx(Po,{value:F&&F[ne.name]||"",onChange:we=>se({...F||{},[ne.name]:we}),options:[{value:"",label:"All"},...(ne.options||[]).map(we=>({value:we,label:we}))]}):ne.type==="date"?o.jsx("input",{type:"date",value:F&&F[ne.name]||"",onChange:we=>se({...F||{},[ne.name]:we.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"}):o.jsx("input",{type:ne.type==="number"?"number":"text",value:F&&F[ne.name]||"",onChange:we=>se({...F||{},[ne.name]:we.target.value}),placeholder:`Filter by ${ne.label.toLowerCase()}`,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"})]},ne.id))})})]}),o.jsxs("div",{className:`border border-gray-200 rounded-lg ${S.advanced?"overflow-visible":"overflow-hidden"}`,children:[o.jsxs("button",{onClick:()=>ft("advanced"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(bC,{size:16,className:"text-blue-500"}),o.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Advanced Options"}),(re.onlyParsed||!re.includeUnknown)&&o.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),S.advanced?o.jsx(Ql,{size:20}):o.jsx(Mi,{size:20})]}),S.advanced&&o.jsx("div",{className:"p-4 bg-white",children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[o.jsx("input",{type:"checkbox",checked:re.onlyParsed,onChange:ne=>oe({...re,onlyParsed:ne.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-orange-500 transition-colors",children:"Only show successfully parsed CVs"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Exclude CVs that are still processing or failed to parse"})]})]}),o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[o.jsx("input",{type:"checkbox",checked:re.includeUnknown,onChange:ne=>oe({...re,includeUnknown:ne.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-orange-500 transition-colors",children:"Include CVs with missing demographic data"}),o.jsx("p",{className:"text-xs text-gray-500",children:"When filtering by race/gender/age, also show CVs where this info wasn't found"})]})]}),o.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx($t,{className:"text-blue-500 flex-shrink-0 mt-0.5",size:14}),o.jsxs("p",{className:"text-xs text-blue-800",children:[o.jsx("strong",{children:"Tip:"}),' Turn off "Include missing data" to see only CVs with complete demographic information for compliance reporting.']})]})})]})})]})]})]}),x.length>0&&o.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl p-6 mb-6 flex items-center justify-between shadow-lg",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx($e,{className:"text-white",size:24})}),o.jsxs("span",{className:"text-orange-900 font-bold text-lg",children:[x.length," CV",x.length>1?"s":""," selected"]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&o.jsxs("button",{onClick:()=>me(null,!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-red-500/30",children:[o.jsx(Nr,{size:18}),o.jsx("span",{children:"Delete Selected"})]}),o.jsx("button",{onClick:()=>v([]),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-semibold hover:scale-105",children:"Cancel"})]})]}),h&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(_r,{className:"text-orange-500 animate-spin",size:48})}),!h&&a.length===0&&o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Br,{className:"text-gray-400",size:32})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No CVs uploaded yet"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Start by uploading your first batch of CVs"}),o.jsx("button",{onClick:()=>n("/upload"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Upload CVs"})]}),!h&&a.length>0&&c.length===0&&o.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-12 text-center shadow-lg",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-400 to-gray-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx($t,{className:"text-white",size:40})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No CVs found"}),o.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Try adjusting your search or filters"}),o.jsxs("button",{onClick:()=>{g(""),oe({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0}),O(null),se({})},className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[o.jsx(Xe,{size:20}),"Clear all filters"]})]}),!h&&c.length>0&&o.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:[o.jsx("div",{ref:ue,className:"overflow-x-auto overflow-y-hidden scrollbar-thin",style:{height:"8px",scrollbarWidth:"thin",scrollbarColor:"#ff6d38 transparent"},onScroll:ne=>{le.current&&(le.current.scrollLeft=ne.target.scrollLeft)},children:o.jsx("div",{style:{width:"fit-content",minWidth:"100%",height:"1px"}})}),o.jsx("div",{ref:le,className:"overflow-x-auto table-container-no-scrollbar",onScroll:ne=>{ue.current&&(ue.current.scrollLeft=ne.target.scrollLeft)},children:o.jsxs("table",{className:"w-full border-collapse",children:[o.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-orange-50/30 border-b-2 border-gray-100",children:o.jsxs("tr",{children:[o.jsx("th",{className:"sticky left-0 z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left border-r border-gray-200",children:o.jsx("input",{type:"checkbox",checked:x.length===c.length,onChange:ae,className:"w-5 h-5 text-orange-500 rounded-lg focus:ring-orange-500 focus:ring-2"})}),o.jsx("th",{className:"sticky left-[72px] z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-200 min-w-[280px]",children:"File Name"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Size"}),o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Uploaded"}),$&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Match Score"}),ge.map(ne=>{const we=te.find(Pe=>Pe.name===ne);return we?o.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-purple-700 uppercase tracking-wider min-w-[180px]",children:we.label},ne):null}),o.jsx("th",{className:"sticky right-0 z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-l border-gray-200 min-w-[140px]",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-100",children:c.map(ne=>o.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-orange-50/30 transition-all group",children:[o.jsx("td",{className:"sticky left-0 z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-r border-gray-100",children:o.jsx("input",{type:"checkbox",checked:x.includes(ne.id),onChange:()=>X(ne.id),className:"w-4 h-4 text-orange-500 rounded focus:ring-orange-500"})}),o.jsx("td",{className:"sticky left-[72px] z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-r border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Br,{className:"text-orange-500",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:ne.fileName}),ne.metadata?.name&&o.jsx("p",{className:"text-sm text-gray-500",children:ne.metadata.name})]})]})}),o.jsx("td",{className:"px-6 py-4",children:it(ne.status)}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:Me(ne.fileSize)}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(cd,{size:16,className:"text-gray-400"}),o.jsx("span",{children:De(ne.uploadedAt)})]})}),$&&o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[fe(ve(ne)),ve(ne)!==null&&o.jsx("button",{onClick:()=>Y(ne),className:"p-1.5 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"View Match Breakdown",children:o.jsx(PY,{size:16})})]})}),ge.map(we=>{const Pe=te.find(Ue=>Ue.name===we);if(!Pe)return null;const Ye=ne.customFields?.[we];return o.jsx("td",{className:"px-6 py-4 text-sm",children:Ye!=null&&Ye!==""?Pe?.type==="boolean"?o.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${Ye?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:Ye?o.jsxs(o.Fragment,{children:[o.jsx($e,{size:12,className:"mr-1"}),"Yes"]}):o.jsxs(o.Fragment,{children:[o.jsx(Xe,{size:12,className:"mr-1"}),"No"]})}):Pe?.type==="date"?o.jsx("span",{className:"text-gray-700",children:new Date(Ye).toLocaleDateString()}):o.jsx("span",{className:"text-gray-700 font-medium",children:String(Ye)}):o.jsx("span",{className:"text-gray-400 italic text-xs",children:"-"})},we)}),o.jsx("td",{className:"sticky right-0 z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-l border-gray-100",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>n(`/cv/${ne.id}`),className:"p-2 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(L4,{size:18})}),o.jsx("a",{href:ne.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"Download",children:o.jsx(uf,{size:18})}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&o.jsx("button",{onClick:()=>me(ne.id,!1),className:"p-2 text-gray-600 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(Nr,{size:18})})]})})]},ne.id))})]})})]})]}),o.jsx(si,{isOpen:D.isOpen,onClose:()=>B({isOpen:!1,cvId:null,isBulk:!1}),onConfirm:Oe,title:D.isBulk?"Delete Multiple CVs":"Delete CV",message:D.isBulk?`Are you sure you want to delete ${x.length} CV(s)? This action cannot be undone.`:"Are you sure you want to delete this CV? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:I}),q&&$&&o.jsx(WW,{cv:q,jobSpec:V.find(ne=>ne.id===$),matchScore:ve(q),onClose:()=>Y(null)})]})}function ZW(){const{id:t}=T8(),e=$n(),{currentUser:n,userData:r}=Cn(),a=ll(),[s,c]=T.useState(null),[u,h]=T.useState(!0),[f,m]=T.useState(null),[g,x]=T.useState(!1),[v,j]=T.useState(!1),[w,_]=T.useState(!1),[E,S]=T.useState(!1),[C,V]=T.useState([]),[k,$]=T.useState({}),[O,M]=T.useState(!1),[U,G]=T.useState(!1),H=r?.plan||"free",D=ud(H,"customFields");T.useEffect(()=>{B(),D&&I()},[t,D]);const B=async()=>{try{if(h(!0),r?.teamAccess?.isTeamMember){const se=await _t(Kh,"getTeamCV")({cvId:t});if(se.data.success&&se.data.cv){const le={...se.data.cv,uploadedAt:se.data.cv.uploadedAt?.toDate?.()||(se.data.cv.uploadedAt?._seconds?new Date(se.data.cv.uploadedAt._seconds*1e3):new Date)};c(le),le.customFields&&$(le.customFields)}else m("CV not found")}else{const F=await pc(On(It,"cvs",t));if(F.exists()){const se={id:F.id,...F.data(),uploadedAt:F.data().uploadedAt?.toDate()||new Date};c(se),se.customFields&&$(se.customFields)}else m("CV not found")}}catch(L){console.error("Error fetching CV:",L),m("Failed to load CV details")}finally{h(!1)}},I=async()=>{if(n)try{const L=await pc(On(It,"customFieldConfigs",n.uid));L.exists()&&V(L.data().fields||[])}catch(L){console.error("Error loading custom field configs:",L)}},J=async()=>{try{G(!0),await qu(On(It,"cvs",t),{customFields:k}),c(L=>({...L,customFields:k})),a.success("Custom fields saved successfully"),M(!1)}catch(L){console.error("Error saving custom fields:",L),a.error("Failed to save custom fields")}finally{G(!1)}},q=(L,F)=>{$(se=>({...se,[L]:F}))},Y=async()=>{try{x(!0);const F=await _t(Kh,"deleteCV")({cvId:t});if(F.data.success)a.success("CV deleted successfully"),setTimeout(()=>{e("/cvs")},1e3);else throw new Error(F.data.message||"Failed to delete CV")}catch(L){console.error("Error deleting CV:",L),a.error("Failed to delete CV. Please try again."),x(!1),_(!1)}},te=async()=>{try{j(!0),S(!1);const F=await _t(Kh,"retryParsing")({cvId:t});console.log("Retry result:",F.data),a.success("CV reprocessing initiated! Refreshing data..."),setTimeout(()=>{B(),j(!1)},2e3)}catch(L){console.error("Error retrying CV parsing:",L),a.error("Failed to retry parsing. Please try again."),j(!1)}},Z=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),ge=L=>{if(L===0)return"0 Bytes";const F=1024,se=["Bytes","KB","MB"],le=Math.floor(Math.log(L)/Math.log(F));return Math.round(L/Math.pow(F,le)*100)/100+" "+se[le]};return u?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx(_r,{className:"text-orange-500 animate-spin",size:48})}):f?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx($t,{className:"text-red-500 mx-auto mb-4",size:48}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:f}),o.jsx("button",{onClick:()=>e("/cvs"),className:"text-orange-500 hover:text-orange-600 font-medium",children:" Back to CV List"})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>e("/cvs"),className:"flex items-center space-x-2 text-gray-600 hover:text-orange-500 transition-colors",children:[o.jsx(Ys,{size:20}),o.jsx("span",{className:"font-medium",children:"Back to CV List"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:o.jsx("span",{className:"text-white font-bold text-xl",children:"CV"})}),o.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]})]})})}),o.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 mb-6",children:[o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:o.jsx(Br,{className:"text-orange-500",size:32})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:s.fileName}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(cd,{size:16}),o.jsx("span",{children:Z(s.uploadedAt)})]}),o.jsx("span",{children:""}),o.jsx("span",{children:ge(s.fileSize)}),o.jsx("span",{children:""}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="completed"?"bg-green-100 text-green-800":s.status==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.status||"Processing"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("a",{href:s.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[o.jsx(uf,{size:18}),o.jsx("span",{className:"font-medium",children:"Download"})]}),(s.status==="error"||!s.parsed)&&o.jsx("button",{onClick:()=>S(!0),disabled:v,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:v?o.jsxs(o.Fragment,{children:[o.jsx(_r,{size:18,className:"animate-spin"}),o.jsx("span",{children:"Retrying..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Vg,{size:18}),o.jsx("span",{children:"Retry Parsing"})]})}),(!r?.teamAccess?.isTeamMember||r?.teamAccess?.role==="admin")&&o.jsx("button",{onClick:()=>_(!0),disabled:g,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?o.jsxs(o.Fragment,{children:[o.jsx(_r,{size:18,className:"animate-spin"}),o.jsx("span",{children:"Deleting..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Nr,{size:18}),o.jsx("span",{children:"Delete"})]})})]})]}),o.jsxs("a",{href:s.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 text-orange-500 hover:text-orange-600 font-medium",children:[o.jsx(RY,{size:16}),o.jsx("span",{children:"View Original Document"})]})]}),o.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.metadata&&(s.metadata.name||s.metadata.email||s.metadata.phone)&&o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(ii,{size:20,className:"text-orange-500"}),o.jsx("span",{children:"Personal Information"})]}),o.jsxs("div",{className:"space-y-3",children:[s.metadata.name&&o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(ii,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),o.jsx("p",{className:"text-gray-900 font-medium",children:s.metadata.name})]})]}),s.metadata.email&&o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(Gi,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),o.jsx("a",{href:`mailto:${s.metadata.email}`,className:"text-gray-900 font-medium hover:text-orange-500",children:s.metadata.email})]})]}),s.metadata.phone&&o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(sW,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),o.jsx("a",{href:`tel:${s.metadata.phone}`,className:"text-gray-900 font-medium hover:text-orange-500",children:s.metadata.phone})]})]}),s.metadata.location&&o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx(m2,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),o.jsx("p",{className:"text-gray-900 font-medium",children:s.metadata.location})]})]})]})]}),s.metadata?.skills&&s.metadata.skills.length>0&&o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(rl,{size:20,className:"text-orange-500"}),o.jsx("span",{children:"Skills"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.metadata.skills.map((L,F)=>o.jsx("span",{className:"px-3 py-1.5 bg-orange-50 text-orange-700 rounded-lg text-sm font-medium",children:L},F))})]}),s.metadata?.experience&&s.metadata.experience.length>0&&o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(ti,{size:20,className:"text-orange-500"}),o.jsx("span",{children:"Work Experience"})]}),o.jsx("div",{className:"space-y-4",children:s.metadata.experience.map((L,F)=>o.jsxs("div",{className:"pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:L.title||L.position}),o.jsx("p",{className:"text-gray-700 mb-1",children:L.company}),L.duration&&o.jsx("p",{className:"text-sm text-gray-500 mb-2",children:L.duration}),L.description&&o.jsx("p",{className:"text-sm text-gray-600",children:L.description})]},F))})]}),s.metadata?.education&&s.metadata.education.length>0&&o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[o.jsx(h2,{size:20,className:"text-orange-500"}),o.jsx("span",{children:"Education"})]}),o.jsx("div",{className:"space-y-4",children:s.metadata.education.map((L,F)=>o.jsxs("div",{className:"pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[o.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:L.degree||L.qualification}),o.jsx("p",{className:"text-gray-700 mb-1",children:L.institution||L.school}),L.year&&o.jsx("p",{className:"text-sm text-gray-500",children:L.year})]},F))})]}),s.status==="error"&&s.errorMessage&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx($t,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-bold text-red-900 mb-2",children:"Processing Error"}),o.jsx("p",{className:"text-sm text-red-800 mb-3 whitespace-pre-wrap",children:s.errorMessage}),s.errorMessage.includes("Pages format")&&o.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-red-200",children:[o.jsx("p",{className:"text-xs font-semibold text-gray-900 mb-1",children:"How to fix this:"}),o.jsxs("ol",{className:"text-xs text-gray-700 space-y-1 list-decimal list-inside",children:[o.jsx("li",{children:"Open your CV in Apple Pages"}),o.jsxs("li",{children:["Go to ",o.jsx("strong",{children:"File  Export To  PDF"})]}),o.jsx("li",{children:"Save the PDF and upload it to CVSift"})]})]})]})]})}),s.status!=="error"&&(!s.metadata||!s.metadata.name&&!s.metadata.email&&!s.metadata.skills?.length&&!s.metadata.experience?.length&&!s.metadata.education?.length)&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx($t,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-yellow-900 mb-1",children:"CV Processing"}),o.jsx("p",{className:"text-sm text-yellow-800",children:"This CV is still being processed. Extracted information will appear here once processing is complete."})]})]})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"File Details"}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"File Type"}),o.jsx("p",{className:"text-gray-900 font-medium uppercase",children:s.fileType?.split("/")[1]||"Unknown"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"File Size"}),o.jsx("p",{className:"text-gray-900 font-medium",children:ge(s.fileSize)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Uploaded"}),o.jsx("p",{className:"text-gray-900 font-medium",children:Z(s.uploadedAt)})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Status"}),o.jsx("p",{className:"text-gray-900 font-medium capitalize",children:s.status||"Processing"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-gray-500 mb-1",children:"Parsed"}),o.jsx("p",{className:"text-gray-900 font-medium",children:s.parsed?"Yes":"No"})]})]})]}),D&&C.length>0&&o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center space-x-2",children:[o.jsx(Rs,{size:20,className:"text-purple-500"}),o.jsx("span",{children:"Custom Fields"})]}),O?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>{M(!1),$(s.customFields||{})},className:"text-sm text-gray-500 hover:text-gray-700 font-medium flex items-center space-x-1",children:[o.jsx(Xe,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:J,disabled:U,className:"text-sm text-orange-500 hover:text-orange-600 font-medium flex items-center space-x-1 disabled:opacity-50",children:[U?o.jsx(_r,{size:16,className:"animate-spin"}):o.jsx(Yh,{size:16}),o.jsx("span",{children:"Save"})]})]}):o.jsxs("button",{onClick:()=>M(!0),className:"text-sm text-orange-500 hover:text-orange-600 font-medium flex items-center space-x-1",children:[o.jsx(p2,{size:16}),o.jsx("span",{children:"Edit"})]})]}),o.jsx("div",{className:"space-y-3",children:C.map(L=>L.conditionalOn&&k[L.conditionalOn]!==L.conditionalValue?null:o.jsxs("div",{children:[o.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:[L.label,L.required&&o.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),O?o.jsxs(o.Fragment,{children:[L.type==="text"&&o.jsx("input",{type:"text",value:k[L.name]||"",onChange:F=>q(L.name,F.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Enter ${L.label.toLowerCase()}`}),L.type==="number"&&o.jsx("input",{type:"number",value:k[L.name]||"",onChange:F=>q(L.name,F.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Enter ${L.label.toLowerCase()}`}),L.type==="date"&&o.jsx("input",{type:"date",value:k[L.name]||"",onChange:F=>q(L.name,F.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),L.type==="boolean"&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:k[L.name]===!0,onChange:F=>q(L.name,F.target.checked),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:k[L.name]?"Yes":"No"})]}),L.type==="select"&&o.jsxs("select",{value:k[L.name]||"",onChange:F=>q(L.name,F.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[o.jsxs("option",{value:"",children:["Select ",L.label.toLowerCase()]}),L.options?.map((F,se)=>o.jsx("option",{value:F,children:F},se))]})]}):o.jsx("p",{className:"text-gray-900 font-medium text-sm",children:k[L.name]!==void 0&&k[L.name]!==null&&k[L.name]!==""?L.type==="boolean"?k[L.name]?"Yes":"No":k[L.name]:o.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]},L.id))})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl border-2 border-orange-200 p-6",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("a",{href:s.downloadURL,download:!0,className:"flex items-center justify-center space-x-2 w-full px-4 py-2 bg-white border border-orange-300 rounded-lg hover:bg-orange-50 transition-colors",children:[o.jsx(uf,{size:18}),o.jsx("span",{className:"font-medium",children:"Download CV"})]}),o.jsxs("button",{onClick:()=>e("/cvs"),className:"flex items-center justify-center space-x-2 w-full px-4 py-2 bg-white border border-orange-300 rounded-lg hover:bg-orange-50 transition-colors",children:[o.jsx(Br,{size:18}),o.jsx("span",{className:"font-medium",children:"View All CVs"})]})]})]})]})]})]}),o.jsx(si,{isOpen:w,onClose:()=>_(!1),onConfirm:Y,title:"Delete CV",message:"Are you sure you want to delete this CV? This action cannot be undone and will permanently remove all associated data.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:g}),o.jsx(si,{isOpen:E,onClose:()=>S(!1),onConfirm:te,title:"Retry CV Parsing",message:"This will reprocess the CV document with Claude AI. The process may take a few moments. Do you want to continue?",confirmText:"Retry Parsing",cancelText:"Cancel",type:"info",icon:Vg,confirmLoading:v})]})}function JW(){const{currentUser:t}=Cn(),e=$n(),[n,r]=T.useState(null),[a,s]=T.useState(null),c=[{id:"free",name:"Free",price:0,currency:"ZAR",cvLimit:10,features:["Basic filtering (skills, location)","Email support","Advanced analytics"],current:t?.userData?.plan==="free",disabled:t?.userData?.plan==="free"},{id:"starter",name:"Starter",price:199,currency:"ZAR",cvLimit:50,features:["Basic + advanced filtering","Email support","Bulk upload","Job spec creation","Email notifications","Advanced analytics"],popular:!1,current:t?.userData?.plan==="starter"},{id:"basic",name:"Basic",price:399,currency:"ZAR",cvLimit:150,features:["All filtering options","Priority email support","Advanced analytics","Bulk upload","Email notifications","Match CVs to job specs"],popular:!0,current:t?.userData?.plan==="basic"},{id:"professional",name:"Professional",price:999,currency:"ZAR",cvLimit:600,features:["Everything in Basic","AI Chatbot Assistant","API access","Team collaboration (3 users)","Custom fields","Priority support"],current:t?.userData?.plan==="professional"},{id:"business",name:"Business",price:1999,currency:"ZAR",cvLimit:1500,features:["Everything in Professional","Higher volume (1,500 CVs)","Team collaboration (10 users)","Custom integrations","Priority support"],current:t?.userData?.plan==="business"},{id:"enterprise",name:"Enterprise",price:null,currency:"ZAR",cvLimit:"Unlimited",features:["Everything in Business","Unlimited CV processing","Custom integrations","Dedicated account manager","SSO & advanced security","White-label option","SLA guarantee"],contact:!0,current:t?.userData?.plan==="enterprise"}],u=async h=>{if(!t){e("/signup");return}if(h.contact){window.location.href="mailto:sales@cvsift.com";return}if(!(h.id==="free"||h.disabled))try{r(h.id),s(null);const m=await _t(Kh,"createPayment")({plan:h.id,amount:h.price,itemName:`CVSift ${h.name} Plan - Monthly Subscription`}),{paymentUrl:g,paymentData:x,paymentId:v}=m.data;localStorage.setItem("pendingPaymentId",v);const j=document.createElement("form");j.method="POST",j.action=g,Object.keys(x).forEach(w=>{const _=document.createElement("input");_.type="hidden",_.name=w,_.value=x[w],j.appendChild(_)}),document.body.appendChild(j),j.submit()}catch(f){console.error("Payment error:",f),s(f.message||"Failed to initiate payment. Please try again."),r(null)}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200",children:o.jsx("div",{className:"px-6 py-4 mx-auto max-w-7xl",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center space-x-2 text-gray-600 transition-colors hover:text-orange-500",children:[o.jsx(Ys,{size:20}),o.jsx("span",{className:"font-medium",children:"Back to Dashboard"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600",children:o.jsx("span",{className:"text-xl font-bold text-white",children:"CV"})}),o.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]})]})})}),o.jsxs("div",{className:"px-6 py-12 mx-auto max-w-7xl",children:[o.jsxs("div",{className:"mb-12 text-center",children:[o.jsxs("h1",{className:"mb-4 text-4xl font-bold text-gray-900 md:text-5xl",children:["Choose Your ",o.jsx("span",{className:"text-orange-500",children:"Plan"})]}),o.jsx("p",{className:"max-w-2xl mx-auto text-xl text-gray-600",children:"Upgrade your account to unlock more features and increase your CV upload limit"}),t?.userData?.plan&&o.jsx("div",{className:"mt-4",children:o.jsxs("span",{className:"inline-block px-4 py-2 text-sm font-medium text-orange-800 bg-orange-100 rounded-full",children:["Current Plan: ",o.jsx("span",{className:"capitalize",children:t.userData.plan})]})})]}),a&&o.jsx("div",{className:"max-w-3xl p-4 mx-auto mb-6 border border-red-200 rounded-lg bg-red-50",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx($t,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"font-medium text-red-800",children:a})}),o.jsx("button",{onClick:()=>s(null),className:"text-red-500 hover:text-red-700",children:""})]})}),o.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:c.filter(h=>h.id!=="enterprise").map(h=>o.jsxs("div",{className:`relative bg-white rounded-xl p-6 border transition-all hover:shadow-xl ${h.popular?"border-orange-500 shadow-lg ring-2 ring-orange-500 ring-opacity-50":h.current?"border-green-500":"border-gray-200"}`,children:[h.popular&&o.jsx("div",{className:"absolute px-3 py-1 text-xs font-bold text-white bg-orange-500 rounded-full -top-3 left-6",children:"MOST POPULAR"}),h.current&&o.jsx("div",{className:"absolute px-3 py-1 text-xs font-bold text-white bg-green-500 rounded-full -top-3 left-6",children:"CURRENT"}),o.jsxs("div",{className:"mb-6 text-center",children:[o.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:h.name}),o.jsx("div",{className:"mb-4",children:h.price!==null?o.jsxs("div",{className:"flex items-baseline justify-center",children:[o.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["R",h.price]}),o.jsx("span",{className:"ml-2 text-gray-500",children:"/mo"})]}):o.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"Custom"})}),o.jsx("div",{className:"inline-block px-4 py-1.5 bg-orange-50 border border-orange-200 rounded-full",children:o.jsxs("span",{className:"text-sm font-bold text-orange-700",children:[h.cvLimit," CVs/month"]})})]}),o.jsxs("ul",{className:"mb-6 space-y-2.5 min-h-[120px]",children:[h.features.slice(0,3).map((f,m)=>o.jsxs("li",{className:"flex items-start space-x-2",children:[o.jsx(Mt,{className:"text-orange-500 flex-shrink-0 mt-0.5",size:16}),o.jsx("span",{className:"text-sm text-gray-700",children:f})]},m)),h.features.length>3&&o.jsxs("li",{className:"text-sm text-gray-500 italic",children:["+ ",h.features.length-3," more features"]})]}),o.jsx("button",{onClick:()=>u(h),disabled:n===h.id||h.disabled,className:`w-full py-2.5 rounded-lg font-semibold transition-all ${h.current?"bg-green-500 text-white cursor-default":h.popular?"bg-orange-500 text-white hover:bg-orange-600":h.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"} ${n===h.id?"opacity-50 cursor-wait":""}`,children:n===h.id?o.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[o.jsx(_r,{size:16,className:"animate-spin"}),o.jsx("span",{children:"Processing..."})]}):h.current?"Current Plan":h.contact?"Contact Sales":"Get Started"}),!h.current&&!h.contact&&h.price!==null&&o.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Billed monthly. Cancel anytime."})]},h.id))}),c.filter(h=>h.id==="enterprise").map(h=>o.jsx("div",{className:"max-w-4xl mx-auto mt-12",children:o.jsx("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-8 text-white",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[o.jsxs("div",{className:"flex-1 text-center md:text-left",children:[o.jsx("h3",{className:"text-2xl font-bold mb-2",children:h.name}),o.jsx("p",{className:"text-gray-300 mb-4",children:"For large organizations with complex needs"}),o.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[o.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Unlimited CVs"}),o.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Custom Integrations"}),o.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Dedicated Support"})]})]}),o.jsx("button",{onClick:()=>u(h),className:"px-8 py-3 bg-white text-gray-900 rounded-lg font-bold hover:bg-gray-100 transition-all",children:"Contact Sales"})]})})},h.id)),o.jsxs("div",{className:"mt-16 max-w-6xl mx-auto",children:[o.jsxs("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:["Compare ",o.jsx("span",{className:"text-orange-500",children:"Plans"})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900",children:"Features"}),c.map(h=>o.jsx("th",{className:"px-6 py-4 text-center",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:`text-sm font-bold ${h.popular?"text-orange-500":"text-gray-900"}`,children:h.name}),h.price!==null?o.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:["R",h.price,"/mo"]}):o.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Custom"})]})},h.id))]})}),o.jsxs("tbody",{className:"divide-y divide-gray-100",children:[o.jsx("tr",{className:"bg-orange-50/30",children:o.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:c.length+1,children:"CV Processing"})}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Monthly CV limit"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"10"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"50"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"150"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"600"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"1,500"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-orange-600",children:"Unlimited"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Bulk upload"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsx("tr",{className:"bg-orange-50/30",children:o.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:c.length+1,children:"Filtering & Search"})}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Advanced filtering (skills, location, etc.)"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Match job specs to CVs"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Custom fields"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsx("tr",{className:"bg-orange-50/30",children:o.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:c.length+1,children:"Features & Tools"})}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Job spec creation"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"AI Chatbot Assistant"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Email notifications"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Advanced analytics"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"API access"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsx("tr",{className:"bg-orange-50/30",children:o.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:c.length+1,children:"Collaboration & Security"})}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Team collaboration"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"3 users"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"10 users"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Unlimited"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Custom integrations"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"SSO & advanced security"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"White-label option"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsx("tr",{className:"bg-orange-50/30",children:o.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:c.length+1,children:"Support"})}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Email support"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),o.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Dedicated"})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Dedicated account manager"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]}),o.jsxs("tr",{children:[o.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"SLA guarantee"}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx(Xe,{size:18,className:"mx-auto text-gray-300"})}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx($e,{size:18,className:"mx-auto text-orange-500"})})]})]})]})})})]}),o.jsxs("div",{className:"mt-12 text-center",children:[o.jsx("p",{className:"mb-4 text-gray-600",children:"Start with our free plan. Upgrade anytime as your needs grow."}),o.jsxs("p",{className:"text-sm text-gray-500",children:["Need help choosing? ",o.jsx("a",{href:"mailto:support@cvsift.com",className:"text-orange-500 hover:underline",children:"Contact our sales team"})]})]})]})]})}function eX(){const t=$n(),{currentUser:e,refreshUserData:n}=Cn(),[r,a]=T.useState("checking"),[s,c]=T.useState(null),[u,h]=T.useState(5);if(T.useEffect(()=>{const m=localStorage.getItem("pendingPaymentId");if(!m){a("complete");return}let g=0;const x=20,v=async()=>{try{const j=Qt(),_=await _t(j,"getPaymentStatus")({paymentId:m});if(_.data.payment){const E=_.data.payment;if(c(E),E.status==="COMPLETE")return a("complete"),localStorage.removeItem("pendingPaymentId"),n&&await n(),!0;if(E.status==="CANCELLED")return a("error"),localStorage.removeItem("pendingPaymentId"),!0;a("pending")}return g++,g>=x?(a("pending"),!0):!1}catch(j){return console.error("Error checking payment status:",j),g++,g>=x?(a("error"),!0):!1}};v().then(j=>{if(j)return;const w=setInterval(async()=>{await v()&&clearInterval(w)},2e3);return()=>clearInterval(w)})},[e]),T.useEffect(()=>{if(r==="complete"){const m=setInterval(()=>{h(g=>g<=1?(t("/dashboard"),0):g-1)},1e3);return()=>clearInterval(m)}},[r,t]),r==="checking"||r==="pending")return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center px-6",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(ty,{className:"text-blue-500 animate-pulse",size:48})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Processing Your Payment"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"We're confirming your payment with PayFast. This usually takes just a few moments..."}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:o.jsx("p",{className:"text-sm text-blue-800",children:"Please don't close this window. Your account will be updated automatically once payment is confirmed."})}),o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})});if(r==="error")return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center px-6",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx($t,{className:"text-red-500",size:48})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Issue"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"We encountered an issue confirming your payment. Please contact support if this issue persists."}),o.jsx("button",{onClick:()=>t("/pricing"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Return to Pricing"})]})});const f=s?.purchaseType==="cv_pack";return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center px-6",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Mt,{className:"text-green-500",size:48})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),o.jsx("p",{className:"text-gray-600 mb-8",children:f?`Thank you for your purchase! ${s?.cvCount||""} CVs have been added to your account.`:"Thank you for upgrading your CVSift plan. Your account has been updated and you can now enjoy all the premium features."}),o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-8",children:o.jsx("p",{className:"text-sm text-green-800",children:f?"Your CV pack has been added to your account. These CVs never expire and will be used automatically when your monthly limit is reached.":"Your monthly subscription is now active. You will receive a confirmation email shortly."})}),o.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Go to Dashboard"}),o.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Redirecting automatically in ",u," seconds..."]})]})})}function tX(){const t=$n();return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center px-6",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(zg,{className:"text-red-500",size:48})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Cancelled"}),o.jsx("p",{className:"text-gray-600 mb-8",children:"Your payment was cancelled. No charges have been made to your account. You can try again whenever you're ready."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>t("/pricing"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"View Pricing Plans"}),o.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full border-2 border-gray-300 hover:border-orange-500 text-gray-700 px-6 py-3 rounded-lg font-semibold transition-all",children:"Back to Dashboard"})]})]})})}function $4(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=$4(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Jt(){for(var t,e,n=0,r="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=$4(t))&&(r&&(r+=" "),r+=e);return r}var nb={},rb={},NC;function nX(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(rb)),rb}var ab={},jC;function H4(){return jC||(jC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(ab)),ab}var ib={},EC;function g2(){return EC||(EC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(ib)),ib}var sb={},ob={},SC;function rX(){return SC||(SC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(ob)),ob}var AC;function y2(){return AC||(AC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rX(),n=g2();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=e.toString(a);const s=[],c=a.length;if(c===0)return s;let u=0,h="",f="",m=!1;for(a.charCodeAt(0)===46&&(s.push(""),u++);u<c;){const g=a[u];f?g==="\\"&&u+1<c?(u++,h+=a[u]):g===f?f="":h+=g:m?g==='"'||g==="'"?f=g:g==="]"?(m=!1,s.push(h),h=""):h+=g:g==="["?(m=!0,h&&(s.push(h),h="")):g==="."?h&&(s.push(h),h=""):h+=g,u++}return h&&s.push(h),s}t.toPath=r})(sb)),sb}var TC;function x2(){return TC||(TC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nX(),n=H4(),r=g2(),a=y2();function s(u,h,f){if(u==null)return f;switch(typeof h){case"string":{if(e.isUnsafeProperty(h))return f;const m=u[h];return m===void 0?n.isDeepKey(h)?s(u,a.toPath(h),f):f:m}case"number":case"symbol":{typeof h=="number"&&(h=r.toKey(h));const m=u[h];return m===void 0?f:m}default:{if(Array.isArray(h))return c(u,h,f);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),e.isUnsafeProperty(h))return f;const m=u[h];return m===void 0?f:m}}}function c(u,h,f){if(h.length===0)return f;let m=u;for(let g=0;g<h.length;g++){if(m==null||e.isUnsafeProperty(h[g]))return f;m=m[h[g]]}return m===void 0?f:m}t.get=s})(nb)),nb}var lb,CC;function aX(){return CC||(CC=1,lb=x2().get),lb}var iX=aX();const ny=Qi(iX);var Ca=t=>t===0?0:t>0?1:-1,La=t=>typeof t=="number"&&t!=+t,Jl=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,at=t=>(typeof t=="number"||t instanceof Number)&&!La(t),Wi=t=>at(t)||typeof t=="string",sX=0,ff=t=>{var e=++sX;return"".concat(t||"").concat(e)},al=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!at(e)&&typeof e!="string")return r;var s;if(Jl(e)){if(n==null)return r;var c=e.indexOf("%");s=n*parseFloat(e.slice(0,c))/100}else s=+e;return La(s)&&(s=r),a&&n!=null&&s>n&&(s=n),s},G4=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function _s(t,e,n){return at(t)&&at(e)?t+n*(e-t):e}function K4(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ny(r,e))===n)}var qn=t=>t===null||typeof t>"u",v2=t=>qn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),oX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function b2(t){if(typeof t!="string")return!1;var e=oX;return e.includes(t)}var lX=["viewBox","children"],kC=["points","pathLength"],cb={svg:lX,polygon:kC,polyline:kC},w2=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(T.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{b2(a)&&(r[a]=(s=>n[a](n,s)))}),r},cX=(t,e,n)=>r=>(t(e,n,r),null),uX=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(a=>{var s=t[a];b2(a)&&typeof s=="function"&&(r||(r={}),r[a]=cX(s,e,n))}),r},dX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Y4(t){if(typeof t!="string")return!1;var e=dX;return e.includes(t)}function Cc(t){var e=Object.entries(t).filter(n=>{var[r]=n;return Y4(r)});return Object.fromEntries(e)}var W4=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,hX=(t,e,n,r)=>{var a;if(typeof e=="symbol"||typeof e=="number")return!0;var s=(a=r&&cb?.[r])!==null&&a!==void 0?a:[],c=e.startsWith("data-"),u=typeof t!="function"&&(!!r&&s.includes(e)||Y4(e)),h=!!n&&b2(e);return c||u||h},ar=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var a={};return Object.keys(r).forEach(s=>{var c;hX((c=r)===null||c===void 0?void 0:c[s],s,e,n)&&(a[s]=r[s])}),a},fX=["children","width","height","viewBox","className","style","title","desc"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function mX(t,e){if(t==null)return{};var n,r,a=pX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function pX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var X4=T.forwardRef((t,e)=>{var{children:n,width:r,height:a,viewBox:s,className:c,style:u,title:h,desc:f}=t,m=mX(t,fX),g=s||{width:r,height:a,x:0,y:0},x=Jt("recharts-surface",c);return T.createElement("svg",cw({},ar(m,!0,"svg"),{className:x,width:r,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:e}),T.createElement("title",null,h),T.createElement("desc",null,f),n)}),gX=["children","className"];function uw(){return uw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uw.apply(null,arguments)}function yX(t,e){if(t==null)return{};var n,r,a=xX(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function xX(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dd=T.forwardRef((t,e)=>{var{children:n,className:r}=t,a=yX(t,gX),s=Jt("recharts-layer",r);return T.createElement("g",uw({className:s},ar(a,!0),{ref:e}),n)}),vX=T.createContext(null);function dn(t){return function(){return t}}const dw=Math.PI,hw=2*dw,$l=1e-6,bX=hw-$l;function Q4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function wX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Q4;const n=10**e;return function(r){this._+=r[0];for(let a=1,s=r.length;a<s;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class _X{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Q4:wX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,s,c){this._append`C${+e},${+n},${+r},${+a},${this._x1=+s},${this._y1=+c}`}arcTo(e,n,r,a,s){if(e=+e,n=+n,r=+r,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let c=this._x1,u=this._y1,h=r-e,f=a-n,m=c-e,g=u-n,x=m*m+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>$l)if(!(Math.abs(g*h-f*m)>$l)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let v=r-c,j=a-u,w=h*h+f*f,_=v*v+j*j,E=Math.sqrt(w),S=Math.sqrt(x),C=s*Math.tan((dw-Math.acos((w+x-_)/(2*E*S)))/2),V=C/S,k=C/E;Math.abs(V-1)>$l&&this._append`L${e+V*m},${n+V*g}`,this._append`A${s},${s},0,0,${+(g*v>m*j)},${this._x1=e+k*h},${this._y1=n+k*f}`}}arc(e,n,r,a,s,c){if(e=+e,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),h=r*Math.sin(a),f=e+u,m=n+h,g=1^c,x=c?a-s:s-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>$l||Math.abs(this._y1-m)>$l)&&this._append`L${f},${m}`,r&&(x<0&&(x=x%hw+hw),x>bX?this._append`A${r},${r},0,1,${g},${e-u},${n-h}A${r},${r},0,1,${g},${this._x1=f},${this._y1=m}`:x>$l&&this._append`A${r},${r},0,${+(x>=dw)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Z4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new _X(e)}function _2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function J4(t){this._context=t}J4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ry(t){return new J4(t)}function eD(t){return t[0]}function tD(t){return t[1]}function nD(t,e){var n=dn(!0),r=null,a=ry,s=null,c=Z4(u);t=typeof t=="function"?t:t===void 0?eD:dn(t),e=typeof e=="function"?e:e===void 0?tD:dn(e);function u(h){var f,m=(h=_2(h)).length,g,x=!1,v;for(r==null&&(s=a(v=c())),f=0;f<=m;++f)!(f<m&&n(g=h[f],f,h))===x&&((x=!x)?s.lineStart():s.lineEnd()),x&&s.point(+t(g,f,h),+e(g,f,h));if(v)return s=null,v+""||null}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:dn(+h),u):t},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:dn(+h),u):e},u.defined=function(h){return arguments.length?(n=typeof h=="function"?h:dn(!!h),u):n},u.curve=function(h){return arguments.length?(a=h,r!=null&&(s=a(r)),u):a},u.context=function(h){return arguments.length?(h==null?r=s=null:s=a(r=h),u):r},u}function Mp(t,e,n){var r=null,a=dn(!0),s=null,c=ry,u=null,h=Z4(f);t=typeof t=="function"?t:t===void 0?eD:dn(+t),e=typeof e=="function"?e:dn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?tD:dn(+n);function f(g){var x,v,j,w=(g=_2(g)).length,_,E=!1,S,C=new Array(w),V=new Array(w);for(s==null&&(u=c(S=h())),x=0;x<=w;++x){if(!(x<w&&a(_=g[x],x,g))===E)if(E=!E)v=x,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=x-1;j>=v;--j)u.point(C[j],V[j]);u.lineEnd(),u.areaEnd()}E&&(C[x]=+t(_,x,g),V[x]=+e(_,x,g),u.point(r?+r(_,x,g):C[x],n?+n(_,x,g):V[x]))}if(S)return u=null,S+""||null}function m(){return nD().defined(a).curve(c).context(s)}return f.x=function(g){return arguments.length?(t=typeof g=="function"?g:dn(+g),r=null,f):t},f.x0=function(g){return arguments.length?(t=typeof g=="function"?g:dn(+g),f):t},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:dn(+g),f):r},f.y=function(g){return arguments.length?(e=typeof g=="function"?g:dn(+g),n=null,f):e},f.y0=function(g){return arguments.length?(e=typeof g=="function"?g:dn(+g),f):e},f.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:dn(+g),f):n},f.lineX0=f.lineY0=function(){return m().x(t).y(e)},f.lineY1=function(){return m().x(t).y(n)},f.lineX1=function(){return m().x(r).y(e)},f.defined=function(g){return arguments.length?(a=typeof g=="function"?g:dn(!!g),f):a},f.curve=function(g){return arguments.length?(c=g,s!=null&&(u=c(s)),f):c},f.context=function(g){return arguments.length?(g==null?s=u=null:u=c(s=g),f):s},f}class rD{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function NX(t){return new rD(t,!0)}function jX(t){return new rD(t,!1)}function qg(){}function $g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function aD(t){this._context=t}aD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function EX(t){return new aD(t)}function iD(t){this._context=t}iD.prototype={areaStart:qg,areaEnd:qg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SX(t){return new iD(t)}function sD(t){this._context=t}sD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function AX(t){return new sD(t)}function oD(t){this._context=t}oD.prototype={areaStart:qg,areaEnd:qg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TX(t){return new oD(t)}function IC(t){return t<0?-1:1}function RC(t,e,n){var r=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(r||a<0&&-0),c=(n-t._y1)/(a||r<0&&-0),u=(s*a+c*r)/(r+a);return(IC(s)+IC(c))*Math.min(Math.abs(s),Math.abs(c),.5*Math.abs(u))||0}function OC(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ub(t,e,n){var r=t._x0,a=t._y0,s=t._x1,c=t._y1,u=(s-r)/3;t._context.bezierCurveTo(r+u,a+u*e,s-u,c-u*n,s,c)}function Hg(t){this._context=t}Hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ub(this,this._t0,OC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ub(this,OC(this,n=RC(this,t,e)),n);break;default:ub(this,this._t0,n=RC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function lD(t){this._context=new cD(t)}(lD.prototype=Object.create(Hg.prototype)).point=function(t,e){Hg.prototype.point.call(this,e,t)};function cD(t){this._context=t}cD.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,a,s){this._context.bezierCurveTo(e,t,r,n,s,a)}};function CX(t){return new Hg(t)}function kX(t){return new lD(t)}function uD(t){this._context=t}uD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=DC(t),a=DC(e),s=0,c=1;c<n;++s,++c)this._context.bezierCurveTo(r[0][s],a[0][s],r[1][s],a[1][s],t[c],e[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function DC(t){var e,n=t.length-1,r,a=new Array(n),s=new Array(n),c=new Array(n);for(a[0]=0,s[0]=2,c[0]=t[0]+2*t[1],e=1;e<n-1;++e)a[e]=1,s[e]=4,c[e]=4*t[e]+2*t[e+1];for(a[n-1]=2,s[n-1]=7,c[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=a[e]/s[e-1],s[e]-=r,c[e]-=r*c[e-1];for(a[n-1]=c[n-1]/s[n-1],e=n-2;e>=0;--e)a[e]=(c[e]-a[e+1])/s[e];for(s[n-1]=(t[n]+a[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function IX(t){return new uD(t)}function ay(t,e){this._context=t,this._t=e}ay.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function RX(t){return new ay(t,.5)}function OX(t){return new ay(t,0)}function DX(t){return new ay(t,1)}function Hu(t,e){if((c=t.length)>1)for(var n=1,r,a,s=t[e[0]],c,u=s.length;n<c;++n)for(a=s,s=t[e[n]],r=0;r<u;++r)s[r][1]+=s[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function fw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function PX(t,e){return t[e]}function MX(t){const e=[];return e.key=t,e}function LX(){var t=dn([]),e=fw,n=Hu,r=PX;function a(s){var c=Array.from(t.apply(this,arguments),MX),u,h=c.length,f=-1,m;for(const g of s)for(u=0,++f;u<h;++u)(c[u][f]=[0,+r(g,c[u].key,f,s)]).data=g;for(u=0,m=_2(e(c));u<h;++u)c[m[u]].index=u;return n(c,m),c}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:dn(Array.from(s)),a):t},a.value=function(s){return arguments.length?(r=typeof s=="function"?s:dn(+s),a):r},a.order=function(s){return arguments.length?(e=s==null?fw:typeof s=="function"?s:dn(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(n=s??Hu,a):n},a}function zX(t,e){if((r=t.length)>0){for(var n,r,a=0,s=t[0].length,c;a<s;++a){for(c=n=0;n<r;++n)c+=t[n][a][1]||0;if(c)for(n=0;n<r;++n)t[n][a][1]/=c}Hu(t,e)}}function UX(t,e){if((a=t.length)>0){for(var n=0,r=t[e[0]],a,s=r.length;n<s;++n){for(var c=0,u=0;c<a;++c)u+=t[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Hu(t,e)}}function VX(t,e){if(!(!((c=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var n=0,r=1,a,s,c;r<s;++r){for(var u=0,h=0,f=0;u<c;++u){for(var m=t[e[u]],g=m[r][1]||0,x=m[r-1][1]||0,v=(g-x)/2,j=0;j<u;++j){var w=t[e[j]],_=w[r][1]||0,E=w[r-1][1]||0;v+=_-E}h+=g,f+=v*g}a[r-1][1]+=a[r-1][0]=n,h&&(n-=f/h)}a[r-1][1]+=a[r-1][0]=n,Hu(t,e)}}var db={},hb={},PC;function BX(){return PC||(PC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const a=new Map;for(let s=0;s<n.length;s++){const c=n[s],u=r(c);a.has(u)||a.set(u,c)}return Array.from(a.values())}t.uniqBy=e})(hb)),hb}var fb={},MC;function dD(){return MC||(MC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(fb)),fb}var mb={},pb={},gb={},LC;function FX(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(gb)),gb}var zC;function N2(){return zC||(zC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FX();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(pb)),pb}var yb={},UC;function qX(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(yb)),yb}var VC;function $X(){return VC||(VC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N2(),n=qX();function r(a){return n.isObjectLike(a)&&e.isArrayLike(a)}t.isArrayLikeObject=r})(mb)),mb}var xb={},vb={},BC;function HX(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=x2();function n(r){return function(a){return e.get(a,r)}}t.property=n})(vb)),vb}var bb={},wb={},_b={},Nb={},FC;function hD(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Nb)),Nb}var jb={},qC;function fD(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(jb)),jb}var Eb={},$C;function mD(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(Eb)),Eb}var HC;function GX(){return HC||(HC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j2(),n=hD(),r=fD(),a=mD();function s(g,x,v){return typeof v!="function"?e.isMatch(g,x):c(g,x,function j(w,_,E,S,C,V){const k=v(w,_,E,S,C,V);return k!==void 0?!!k:c(w,_,j,V)},new Map)}function c(g,x,v,j){if(x===g)return!0;switch(typeof x){case"object":return u(g,x,v,j);case"function":return Object.keys(x).length>0?c(g,{...x},v,j):a.eq(g,x);default:return n.isObject(g)?typeof x=="string"?x==="":!0:a.eq(g,x)}}function u(g,x,v,j){if(x==null)return!0;if(Array.isArray(x))return f(g,x,v,j);if(x instanceof Map)return h(g,x,v,j);if(x instanceof Set)return m(g,x,v,j);const w=Object.keys(x);if(g==null)return w.length===0;if(w.length===0)return!0;if(j&&j.has(x))return j.get(x)===g;j&&j.set(x,g);try{for(let _=0;_<w.length;_++){const E=w[_];if(!r.isPrimitive(g)&&!(E in g)||x[E]===void 0&&g[E]!==void 0||x[E]===null&&g[E]!==null||!v(g[E],x[E],E,g,x,j))return!1}return!0}finally{j&&j.delete(x)}}function h(g,x,v,j){if(x.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,_]of x.entries()){const E=g.get(w);if(v(E,_,w,g,x,j)===!1)return!1}return!0}function f(g,x,v,j){if(x.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let _=0;_<x.length;_++){const E=x[_];let S=!1;for(let C=0;C<g.length;C++){if(w.has(C))continue;const V=g[C];let k=!1;if(v(V,E,_,g,x,j)&&(k=!0),k){w.add(C),S=!0;break}}if(!S)return!1}return!0}function m(g,x,v,j){return x.size===0?!0:g instanceof Set?f([...g],[...x],v,j):!1}t.isMatchWith=s,t.isSetMatch=m})(_b)),_b}var GC;function j2(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GX();function n(r,a){return e.isMatchWith(r,a,()=>{})}t.isMatch=n})(wb)),wb}var Sb={},Ab={},Tb={},KC;function KX(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(Tb)),Tb}var Cb={},YC;function pD(){return YC||(YC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Cb)),Cb}var kb={},WC;function gD(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",s="[object Arguments]",c="[object Symbol]",u="[object Date]",h="[object Map]",f="[object Set]",m="[object Array]",g="[object Function]",x="[object ArrayBuffer]",v="[object Object]",j="[object Error]",w="[object DataView]",_="[object Uint8Array]",E="[object Uint8ClampedArray]",S="[object Uint16Array]",C="[object Uint32Array]",V="[object BigUint64Array]",k="[object Int8Array]",$="[object Int16Array]",O="[object Int32Array]",M="[object BigInt64Array]",U="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=x,t.arrayTag=m,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=V,t.booleanTag=a,t.dataViewTag=w,t.dateTag=u,t.errorTag=j,t.float32ArrayTag=U,t.float64ArrayTag=G,t.functionTag=g,t.int16ArrayTag=$,t.int32ArrayTag=O,t.int8ArrayTag=k,t.mapTag=h,t.numberTag=r,t.objectTag=v,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=c,t.uint16ArrayTag=S,t.uint32ArrayTag=C,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=E})(kb)),kb}var Ib={},XC;function YX(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Ib)),Ib}var QC;function yD(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KX(),n=pD(),r=gD(),a=fD(),s=YX();function c(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,x,v=new Map,j=void 0){const w=j?.(m,g,x,v);if(w!==void 0)return w;if(a.isPrimitive(m))return m;if(v.has(m))return v.get(m);if(Array.isArray(m)){const _=new Array(m.length);v.set(m,_);for(let E=0;E<m.length;E++)_[E]=u(m[E],E,x,v,j);return Object.hasOwn(m,"index")&&(_.index=m.index),Object.hasOwn(m,"input")&&(_.input=m.input),_}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const _=new RegExp(m.source,m.flags);return _.lastIndex=m.lastIndex,_}if(m instanceof Map){const _=new Map;v.set(m,_);for(const[E,S]of m)_.set(E,u(S,E,x,v,j));return _}if(m instanceof Set){const _=new Set;v.set(m,_);for(const E of m)_.add(u(E,void 0,x,v,j));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(s.isTypedArray(m)){const _=new(Object.getPrototypeOf(m)).constructor(m.length);v.set(m,_);for(let E=0;E<m.length;E++)_[E]=u(m[E],E,x,v,j);return _}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const _=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return v.set(m,_),h(_,m,x,v,j),_}if(typeof File<"u"&&m instanceof File){const _=new File([m],m.name,{type:m.type});return v.set(m,_),h(_,m,x,v,j),_}if(typeof Blob<"u"&&m instanceof Blob){const _=new Blob([m],{type:m.type});return v.set(m,_),h(_,m,x,v,j),_}if(m instanceof Error){const _=new m.constructor;return v.set(m,_),_.message=m.message,_.name=m.name,_.stack=m.stack,_.cause=m.cause,h(_,m,x,v,j),_}if(m instanceof Boolean){const _=new Boolean(m.valueOf());return v.set(m,_),h(_,m,x,v,j),_}if(m instanceof Number){const _=new Number(m.valueOf());return v.set(m,_),h(_,m,x,v,j),_}if(m instanceof String){const _=new String(m.valueOf());return v.set(m,_),h(_,m,x,v,j),_}if(typeof m=="object"&&f(m)){const _=Object.create(Object.getPrototypeOf(m));return v.set(m,_),h(_,m,x,v,j),_}return m}function h(m,g,x=m,v,j){const w=[...Object.keys(g),...e.getSymbols(g)];for(let _=0;_<w.length;_++){const E=w[_],S=Object.getOwnPropertyDescriptor(m,E);(S==null||S.writable)&&(m[E]=u(g[E],E,x,v,j))}}function f(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=c,t.cloneDeepWithImpl=u,t.copyProperties=h})(Ab)),Ab}var ZC;function WX(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yD();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(Sb)),Sb}var JC;function XX(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j2(),n=WX();function r(a){return a=n.cloneDeep(a),s=>e.isMatch(s,a)}t.matches=r})(bb)),bb}var Rb={},Ob={},Db={},ek;function QX(){return ek||(ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yD(),n=gD();function r(a,s){return e.cloneDeepWith(a,(c,u,h,f)=>{const m=s?.(c,u,h,f);if(m!==void 0)return m;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a?.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}})}t.cloneDeepWith=r})(Db)),Db}var tk;function ZX(){return tk||(tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QX();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(Ob)),Ob}var Pb={},Mb={},nk;function xD(){return nk||(nk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(Mb)),Mb}var Lb={},rk;function JX(){return rk||(rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pD();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Lb)),Lb}var ak;function eQ(){return ak||(ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4(),n=xD(),r=JX(),a=y2();function s(c,u){let h;if(Array.isArray(u)?h=u:typeof u=="string"&&e.isDeepKey(u)&&c?.[u]==null?h=a.toPath(u):h=[u],h.length===0)return!1;let f=c;for(let m=0;m<h.length;m++){const g=h[m];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}t.has=s})(Pb)),Pb}var ik;function tQ(){return ik||(ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=j2(),n=g2(),r=ZX(),a=x2(),s=eQ();function c(u,h){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return h=r.cloneDeep(h),function(f){const m=a.get(f,u);return m===void 0?s.has(f,u):h===void 0?m===void 0:e.isMatch(m,h)}}t.matchesProperty=c})(Rb)),Rb}var sk;function nQ(){return sk||(sk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dD(),n=HX(),r=XX(),a=tQ();function s(c){if(c==null)return e.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}t.iteratee=s})(xb)),xb}var ok;function rQ(){return ok||(ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BX(),n=dD(),r=$X(),a=nQ();function s(c,u=n.identity){return r.isArrayLikeObject(c)?e.uniqBy(Array.from(c),a.iteratee(u)):[]}t.uniqBy=s})(db)),db}var zb,lk;function aQ(){return lk||(lk=1,zb=rQ().uniqBy),zb}var iQ=aQ();const ck=Qi(iQ);function sQ(t,e,n){return e===!0?ck(t,n):typeof e=="function"?ck(t,e):t}var Ub={exports:{}},Vb={},Bb={exports:{}},Fb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uk;function oQ(){if(uk)return Fb;uk=1;var t=Zu();function e(g,x){return g===x&&(g!==0||1/g===1/x)||g!==g&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,c=t.useDebugValue;function u(g,x){var v=x(),j=r({inst:{value:v,getSnapshot:x}}),w=j[0].inst,_=j[1];return s(function(){w.value=v,w.getSnapshot=x,h(w)&&_({inst:w})},[g,v,x]),a(function(){return h(w)&&_({inst:w}),g(function(){h(w)&&_({inst:w})})},[g]),c(v),v}function h(g){var x=g.getSnapshot;g=g.value;try{var v=x();return!n(g,v)}catch{return!0}}function f(g,x){return x()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Fb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Fb}var dk;function lQ(){return dk||(dk=1,Bb.exports=oQ()),Bb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hk;function cQ(){if(hk)return Vb;hk=1;var t=Zu(),e=lQ();function n(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,c=t.useEffect,u=t.useMemo,h=t.useDebugValue;return Vb.useSyncExternalStoreWithSelector=function(f,m,g,x,v){var j=s(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=u(function(){function E($){if(!S){if(S=!0,C=$,$=x($),v!==void 0&&w.hasValue){var O=w.value;if(v(O,$))return V=O}return V=$}if(O=V,r(C,$))return O;var M=x($);return v!==void 0&&v(O,M)?(C=$,O):(C=$,V=M)}var S=!1,C,V,k=g===void 0?null:g;return[function(){return E(m())},k===null?void 0:function(){return E(k())}]},[m,g,x,v]);var _=a(f,j[0],j[1]);return c(function(){w.hasValue=!0,w.value=_},[_]),h(_),_},Vb}var fk;function uQ(){return fk||(fk=1,Ub.exports=cQ()),Ub.exports}var dQ=uQ(),E2=T.createContext(null),hQ=t=>t,Ar=()=>{var t=T.useContext(E2);return t?t.store.dispatch:hQ},ug=()=>{},fQ=()=>ug,mQ=(t,e)=>t===e;function Je(t){var e=T.useContext(E2);return dQ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fQ,e?e.store.getState:ug,e?e.store.getState:ug,e?t:ug,mQ)}function pQ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function gQ(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function yQ(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var mk=t=>Array.isArray(t)?t:[t];function xQ(t){const e=Array.isArray(t[0])?t[0]:t;return yQ(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function vQ(t,e){const n=[],{length:r}=t;for(let a=0;a<r;a++)n.push(t[a].apply(null,e));return n}var bQ=class{constructor(t){this.value=t}deref(){return this.value}},wQ=typeof WeakRef<"u"?WeakRef:bQ,_Q=0,pk=1;function Lp(){return{s:_Q,v:void 0,o:null,p:null}}function vD(t,e={}){let n=Lp();const{resultEqualityCheck:r}=e;let a,s=0;function c(){let u=n;const{length:h}=arguments;for(let g=0,x=h;g<x;g++){const v=arguments[g];if(typeof v=="function"||typeof v=="object"&&v!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const w=j.get(v);w===void 0?(u=Lp(),j.set(v,u)):u=w}else{let j=u.p;j===null&&(u.p=j=new Map);const w=j.get(v);w===void 0?(u=Lp(),j.set(v,u)):u=w}}const f=u;let m;if(u.s===pk)m=u.v;else if(m=t.apply(null,arguments),s++,r){const g=a?.deref?.()??a;g!=null&&r(g,m)&&(m=g,s!==0&&s--),a=typeof m=="object"&&m!==null||typeof m=="function"?new wQ(m):m}return f.s=pk,f.v=m,m}return c.clearCache=()=>{n=Lp(),c.resetResultsCount()},c.resultsCount=()=>s,c.resetResultsCount=()=>{s=0},c}function NQ(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...a)=>{let s=0,c=0,u,h={},f=a.pop();typeof f=="object"&&(h=f,f=a.pop()),pQ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const m={...n,...h},{memoize:g,memoizeOptions:x=[],argsMemoize:v=vD,argsMemoizeOptions:j=[]}=m,w=mk(x),_=mk(j),E=xQ(a),S=g(function(){return s++,f.apply(null,arguments)},...w),C=v(function(){c++;const k=vQ(E,arguments);return u=S.apply(null,k),u},..._);return Object.assign(C,{resultFunc:f,memoizedResultFunc:S,dependencies:E,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:g,argsMemoize:v})};return Object.assign(r,{withTypes:()=>r}),r}var Ne=NQ(vD),jQ=Object.assign((t,e=Ne)=>{gQ(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((c,u,h)=>(c[n[h]]=u,c),{}))},{withTypes:()=>jQ}),qb={},$b={},Hb={},gk;function EQ(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,s)=>{if(r!==a){const c=e(r),u=e(a);if(c===u&&c===0){if(r<a)return s==="desc"?1:-1;if(r>a)return s==="desc"?-1:1}return s==="desc"?u-c:c-u}return 0};t.compareValues=n})(Hb)),Hb}var Gb={},Kb={},yk;function bD(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(Kb)),Kb}var xk;function SQ(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bD(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(s,c){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||c!=null&&Object.hasOwn(c,s)}t.isKey=a})(Gb)),Gb}var vk;function AQ(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EQ(),n=SQ(),r=y2();function a(s,c,u,h){if(s==null)return[];u=h?void 0:u,Array.isArray(s)||(s=Object.values(s)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(v=>String(v));const f=(v,j)=>{let w=v;for(let _=0;_<j.length&&w!=null;++_)w=w[j[_]];return w},m=(v,j)=>j==null||v==null?j:typeof v=="object"&&"key"in v?Object.hasOwn(j,v.key)?j[v.key]:f(j,v.path):typeof v=="function"?v(j):Array.isArray(v)?f(j,v):typeof j=="object"?j[v]:j,g=c.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||n.isKey(v)?v:{key:v,path:r.toPath(v)}));return s.map(v=>({original:v,criteria:g.map(j=>m(j,v))})).slice().sort((v,j)=>{for(let w=0;w<g.length;w++){const _=e.compareValues(v.criteria[w],j.criteria[w],u[w]);if(_!==0)return _}return 0}).map(v=>v.original)}t.orderBy=a})($b)),$b}var Yb={},bk;function TQ(){return bk||(bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const a=[],s=Math.floor(r),c=(u,h)=>{for(let f=0;f<u.length;f++){const m=u[f];Array.isArray(m)&&h<s?c(m,h+1):a.push(m)}};return c(n,0),a}t.flatten=e})(Yb)),Yb}var Wb={},wk;function wD(){return wk||(wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xD(),n=N2(),r=hD(),a=mD();function s(c,u,h){return r.isObject(h)&&(typeof u=="number"&&n.isArrayLike(h)&&e.isIndex(u)&&u<h.length||typeof u=="string"&&u in h)?a.eq(h[u],c):!1}t.isIterateeCall=s})(Wb)),Wb}var _k;function CQ(){return _k||(_k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AQ(),n=TQ(),r=wD();function a(s,...c){const u=c.length;return u>1&&r.isIterateeCall(s,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),e.orderBy(s,n.flatten(c),["asc"])}t.sortBy=a})(qb)),qb}var Xb,Nk;function kQ(){return Nk||(Nk=1,Xb=CQ().sortBy),Xb}var IQ=kQ();const iy=Qi(IQ);var _D=t=>t.legend.settings,RQ=t=>t.legend.size,OQ=t=>t.legend.payload;Ne([OQ,_D],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?iy(r,n):r});var zp=1;function DQ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=T.useState({height:0,left:0,top:0,width:0}),r=T.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),c={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(c.height-e.height)>zp||Math.abs(c.left-e.left)>zp||Math.abs(c.top-e.top)>zp||Math.abs(c.width-e.width)>zp)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Zn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",jk=PQ,Qb=()=>Math.random().toString(36).substring(7).split("").join("."),MQ={INIT:`@@redux/INIT${Qb()}`,REPLACE:`@@redux/REPLACE${Qb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qb()}`},Gg=MQ;function S2(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function ND(t,e,n){if(typeof t!="function")throw new Error(Zn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Zn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Zn(1));return n(ND)(t,e)}let r=t,a=e,s=new Map,c=s,u=0,h=!1;function f(){c===s&&(c=new Map,s.forEach((_,E)=>{c.set(E,_)}))}function m(){if(h)throw new Error(Zn(3));return a}function g(_){if(typeof _!="function")throw new Error(Zn(4));if(h)throw new Error(Zn(5));let E=!0;f();const S=u++;return c.set(S,_),function(){if(E){if(h)throw new Error(Zn(6));E=!1,f(),c.delete(S),s=null}}}function x(_){if(!S2(_))throw new Error(Zn(7));if(typeof _.type>"u")throw new Error(Zn(8));if(typeof _.type!="string")throw new Error(Zn(17));if(h)throw new Error(Zn(9));try{h=!0,a=r(a,_)}finally{h=!1}return(s=c).forEach(S=>{S()}),_}function v(_){if(typeof _!="function")throw new Error(Zn(10));r=_,x({type:Gg.REPLACE})}function j(){const _=g;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Zn(11));function S(){const V=E;V.next&&V.next(m())}return S(),{unsubscribe:_(S)}},[jk](){return this}}}return x({type:Gg.INIT}),{dispatch:x,subscribe:g,getState:m,replaceReducer:v,[jk]:j}}function LQ(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:Gg.INIT})>"u")throw new Error(Zn(12));if(typeof n(void 0,{type:Gg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Zn(13))})}function jD(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const c=e[s];typeof t[c]=="function"&&(n[c]=t[c])}const r=Object.keys(n);let a;try{LQ(n)}catch(s){a=s}return function(c={},u){if(a)throw a;let h=!1;const f={};for(let m=0;m<r.length;m++){const g=r[m],x=n[g],v=c[g],j=x(v,u);if(typeof j>"u")throw u&&u.type,new Error(Zn(14));f[g]=j,h=h||j!==v}return h=h||r.length!==Object.keys(c).length,h?f:c}}function Kg(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function zQ(...t){return e=>(n,r)=>{const a=e(n,r);let s=()=>{throw new Error(Zn(15))};const c={getState:a.getState,dispatch:(h,...f)=>s(h,...f)},u=t.map(h=>h(c));return s=Kg(...u)(a.dispatch),{...a,dispatch:s}}}function ED(t){return S2(t)&&"type"in t&&typeof t.type=="string"}var SD=Symbol.for("immer-nothing"),Ek=Symbol.for("immer-draftable"),ua=Symbol.for("immer-state");function ni(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gu=Object.getPrototypeOf;function vc(t){return!!t&&!!t[ua]}function Vs(t){return t?AD(t)||Array.isArray(t)||!!t[Ek]||!!t.constructor?.[Ek]||Ff(t)||oy(t):!1}var UQ=Object.prototype.constructor.toString();function AD(t){if(!t||typeof t!="object")return!1;const e=Gu(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===UQ}function Yg(t,e){sy(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function sy(t){const e=t[ua];return e?e.type_:Array.isArray(t)?1:Ff(t)?2:oy(t)?3:0}function mw(t,e){return sy(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function TD(t,e,n){const r=sy(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function VQ(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ff(t){return t instanceof Map}function oy(t){return t instanceof Set}function Hl(t){return t.copy_||t.base_}function pw(t,e){if(Ff(t))return new Map(t);if(oy(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=AD(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[ua];let a=Reflect.ownKeys(r);for(let s=0;s<a.length;s++){const c=a[s],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[c]})}return Object.create(Gu(t),r)}else{const r=Gu(t);if(r!==null&&n)return{...t};const a=Object.create(r);return Object.assign(a,t)}}function A2(t,e=!1){return ly(t)||vc(t)||!Vs(t)||(sy(t)>1&&Object.defineProperties(t,{set:{value:Up},add:{value:Up},clear:{value:Up},delete:{value:Up}}),Object.freeze(t),e&&Object.values(t).forEach(n=>A2(n,!0))),t}function Up(){ni(2)}function ly(t){return Object.isFrozen(t)}var BQ={};function bc(t){const e=BQ[t];return e||ni(0,t),e}var mf;function CD(){return mf}function FQ(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sk(t,e){e&&(bc("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function gw(t){yw(t),t.drafts_.forEach(qQ),t.drafts_=null}function yw(t){t===mf&&(mf=t.parent_)}function Ak(t){return mf=FQ(mf,t)}function qQ(t){const e=t[ua];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Tk(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[ua].modified_&&(gw(e),ni(4)),Vs(t)&&(t=Wg(e,t),e.parent_||Xg(e,t)),e.patches_&&bc("Patches").generateReplacementPatches_(n[ua].base_,t,e.patches_,e.inversePatches_)):t=Wg(e,n,[]),gw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==SD?t:void 0}function Wg(t,e,n){if(ly(e))return e;const r=e[ua];if(!r)return Yg(e,(a,s)=>Ck(t,r,e,a,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Xg(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const a=r.copy_;let s=a,c=!1;r.type_===3&&(s=new Set(a),a.clear(),c=!0),Yg(s,(u,h)=>Ck(t,r,a,u,h,n,c)),Xg(t,a,!1),n&&t.patches_&&bc("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Ck(t,e,n,r,a,s,c){if(vc(a)){const u=s&&e&&e.type_!==3&&!mw(e.assigned_,r)?s.concat(r):void 0,h=Wg(t,a,u);if(TD(n,r,h),vc(h))t.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Vs(a)&&!ly(a)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Wg(t,a),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ff(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Xg(t,a)}}function Xg(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&A2(e,n)}function $Q(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:CD(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,s=T2;n&&(a=[r],s=pf);const{revoke:c,proxy:u}=Proxy.revocable(a,s);return r.draft_=u,r.revoke_=c,u}var T2={get(t,e){if(e===ua)return t;const n=Hl(t);if(!mw(n,e))return HQ(t,n,e);const r=n[e];return t.finalized_||!Vs(r)?r:r===Zb(t.base_,e)?(Jb(t),t.copy_[e]=vw(r,t)):r},has(t,e){return e in Hl(t)},ownKeys(t){return Reflect.ownKeys(Hl(t))},set(t,e,n){const r=kD(Hl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const a=Zb(Hl(t),e),s=a?.[ua];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(VQ(n,a)&&(n!==void 0||mw(t.base_,e)))return!0;Jb(t),xw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Zb(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Jb(t),xw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Hl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ni(11)},getPrototypeOf(t){return Gu(t.base_)},setPrototypeOf(){ni(12)}},pf={};Yg(T2,(t,e)=>{pf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});pf.deleteProperty=function(t,e){return pf.set.call(this,t,e,void 0)};pf.set=function(t,e,n){return T2.set.call(this,t[0],e,n,t[0])};function Zb(t,e){const n=t[ua];return(n?Hl(n):t)[e]}function HQ(t,e,n){const r=kD(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function kD(t,e){if(!(e in t))return;let n=Gu(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Gu(n)}}function xw(t){t.modified_||(t.modified_=!0,t.parent_&&xw(t.parent_))}function Jb(t){t.copy_||(t.copy_=pw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var GQ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const c=this;return function(h=s,...f){return c.produce(h,m=>n.call(this,m,...f))}}typeof n!="function"&&ni(6),r!==void 0&&typeof r!="function"&&ni(7);let a;if(Vs(e)){const s=Ak(this),c=vw(e,void 0);let u=!0;try{a=n(c),u=!1}finally{u?gw(s):yw(s)}return Sk(s,r),Tk(a,s)}else if(!e||typeof e!="object"){if(a=n(e),a===void 0&&(a=e),a===SD&&(a=void 0),this.autoFreeze_&&A2(a,!0),r){const s=[],c=[];bc("Patches").generateReplacementPatches_(e,a,s,c),r(s,c)}return a}else ni(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(c,...u)=>this.produceWithPatches(c,h=>e(h,...u));let r,a;return[this.produce(e,n,(c,u)=>{r=c,a=u}),r,a]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Vs(t)||ni(8),vc(t)&&(t=Os(t));const e=Ak(this),n=vw(t,void 0);return n[ua].isManual_=!0,yw(e),n}finishDraft(t,e){const n=t&&t[ua];(!n||!n.isManual_)&&ni(9);const{scope_:r}=n;return Sk(r,e),Tk(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const a=e[n];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}n>-1&&(e=e.slice(n+1));const r=bc("Patches").applyPatches_;return vc(t)?r(t,e):this.produce(t,a=>r(a,e))}};function vw(t,e){const n=Ff(t)?bc("MapSet").proxyMap_(t,e):oy(t)?bc("MapSet").proxySet_(t,e):$Q(t,e);return(e?e.scope_:CD()).drafts_.push(n),n}function Os(t){return vc(t)||ni(10,t),ID(t)}function ID(t){if(!Vs(t)||ly(t))return t;const e=t[ua];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=pw(t,e.scope_.immer_.useStrictShallowCopy_)}else n=pw(t,!0);return Yg(n,(r,a)=>{TD(n,r,ID(a))}),e&&(e.finalized_=!1),n}var KQ=new GQ,RD=KQ.produce;function OD(t){return({dispatch:n,getState:r})=>a=>s=>typeof s=="function"?s(n,r,t):a(s)}var YQ=OD(),WQ=OD,XQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kg:Kg.apply(null,arguments)};function za(t,e){function n(...r){if(e){let a=e(...r);if(!a)throw new Error(la(0));return{type:t,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>ED(r)&&r.type===t,n}var DD=class zh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,zh.prototype)}static get[Symbol.species](){return zh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new zh(...e[0].concat(this)):new zh(...e.concat(this))}};function kk(t){return Vs(t)?RD(t,()=>{}):t}function Vp(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function QQ(t){return typeof t=="boolean"}var ZQ=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=e??{};let c=new DD;return n&&(QQ(n)?c.push(YQ):c.push(WQ(n.extraArgument))),c},JQ="RTK_autoBatch",Ik=t=>e=>{setTimeout(e,t)},eZ=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let a=!0,s=!1,c=!1;const u=new Set,h=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Ik(10):t.type==="callback"?t.queueNotification:Ik(t.timeout),f=()=>{c=!1,s&&(s=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>a&&m(),x=r.subscribe(g);return u.add(m),()=>{x(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[JQ],s=!a,s&&(c||(c=!0,h(f))),r.dispatch(m)}finally{a=!0}}})},tZ=t=>function(n){const{autoBatch:r=!0}=n??{};let a=new DD(t);return r&&a.push(eZ(typeof r=="object"?r:void 0)),a};function nZ(t){const e=ZQ(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:s=void 0,enhancers:c=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(S2(n))u=jD(n);else throw new Error(la(1));let h;typeof r=="function"?h=r(e):h=e();let f=Kg;a&&(f=XQ({trace:!1,...typeof a=="object"&&a}));const m=zQ(...h),g=tZ(m);let x=typeof c=="function"?c(g):g();const v=f(...x);return ND(u,s,v)}function PD(t){const e={},n=[];let r;const a={addCase(s,c){const u=typeof s=="string"?s:s.type;if(!u)throw new Error(la(28));if(u in e)throw new Error(la(29));return e[u]=c,a},addAsyncThunk(s,c){return c.pending&&(e[s.pending.type]=c.pending),c.rejected&&(e[s.rejected.type]=c.rejected),c.fulfilled&&(e[s.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:s.settled,reducer:c.settled}),a},addMatcher(s,c){return n.push({matcher:s,reducer:c}),a},addDefaultCase(s){return r=s,a}};return t(a),[e,n,r]}function rZ(t){return typeof t=="function"}function aZ(t,e){let[n,r,a]=PD(e),s;if(rZ(t))s=()=>kk(t());else{const u=kk(t);s=()=>u}function c(u=s(),h){let f=[n[h.type],...r.filter(({matcher:m})=>m(h)).map(({reducer:m})=>m)];return f.filter(m=>!!m).length===0&&(f=[a]),f.reduce((m,g)=>{if(g)if(vc(m)){const v=g(m,h);return v===void 0?m:v}else{if(Vs(m))return RD(m,x=>g(x,h));{const x=g(m,h);if(x===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return m},u)}return c.getInitialState=s,c}var iZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",sZ=(t=21)=>{let e="",n=t;for(;n--;)e+=iZ[Math.random()*64|0];return e},oZ=Symbol.for("rtk-slice-createasyncthunk");function lZ(t,e){return`${t}/${e}`}function cZ({creators:t}={}){const e=t?.asyncThunk?.[oZ];return function(r){const{name:a,reducerPath:s=a}=r;if(!a)throw new Error(la(11));const c=(typeof r.reducers=="function"?r.reducers(dZ()):r.reducers)||{},u=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,V){const k=typeof C=="string"?C:C.type;if(!k)throw new Error(la(12));if(k in h.sliceCaseReducersByType)throw new Error(la(13));return h.sliceCaseReducersByType[k]=V,f},addMatcher(C,V){return h.sliceMatchers.push({matcher:C,reducer:V}),f},exposeAction(C,V){return h.actionCreators[C]=V,f},exposeCaseReducer(C,V){return h.sliceCaseReducersByName[C]=V,f}};u.forEach(C=>{const V=c[C],k={reducerName:C,type:lZ(a,C),createNotation:typeof r.reducers=="function"};fZ(V)?pZ(k,V,f,e):hZ(k,V,f)});function m(){const[C={},V=[],k=void 0]=typeof r.extraReducers=="function"?PD(r.extraReducers):[r.extraReducers],$={...C,...h.sliceCaseReducersByType};return aZ(r.initialState,O=>{for(let M in $)O.addCase(M,$[M]);for(let M of h.sliceMatchers)O.addMatcher(M.matcher,M.reducer);for(let M of V)O.addMatcher(M.matcher,M.reducer);k&&O.addDefaultCase(k)})}const g=C=>C,x=new Map,v=new WeakMap;let j;function w(C,V){return j||(j=m()),j(C,V)}function _(){return j||(j=m()),j.getInitialState()}function E(C,V=!1){function k(O){let M=O[C];return typeof M>"u"&&V&&(M=Vp(v,k,_)),M}function $(O=g){const M=Vp(x,V,()=>new WeakMap);return Vp(M,O,()=>{const U={};for(const[G,H]of Object.entries(r.selectors??{}))U[G]=uZ(H,O,()=>Vp(v,O,_),V);return U})}return{reducerPath:C,getSelectors:$,get selectors(){return $(k)},selectSlice:k}}const S={name:a,reducer:w,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:_,...E(s),injectInto(C,{reducerPath:V,...k}={}){const $=V??s;return C.inject({reducerPath:$,reducer:w},k),{...S,...E($,!0)}}};return S}}function uZ(t,e,n,r){function a(s,...c){let u=e(s);return typeof u>"u"&&r&&(u=n()),t(u,...c)}return a.unwrapped=t,a}var ha=cZ();function dZ(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function hZ({type:t,reducerName:e,createNotation:n},r,a){let s,c;if("reducer"in r){if(n&&!mZ(r))throw new Error(la(17));s=r.reducer,c=r.prepare}else s=r;a.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,c?za(t,c):za(t))}function fZ(t){return t._reducerDefinitionType==="asyncThunk"}function mZ(t){return t._reducerDefinitionType==="reducerWithPrepare"}function pZ({type:t,reducerName:e},n,r,a){if(!a)throw new Error(la(18));const{payloadCreator:s,fulfilled:c,pending:u,rejected:h,settled:f,options:m}=n,g=a(t,s,m);r.exposeAction(e,g),c&&r.addCase(g.fulfilled,c),u&&r.addCase(g.pending,u),h&&r.addCase(g.rejected,h),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(e,{fulfilled:c||Bp,pending:u||Bp,rejected:h||Bp,settled:f||Bp})}function Bp(){}var gZ="task",MD="listener",LD="completed",C2="cancelled",yZ=`task-${C2}`,xZ=`task-${LD}`,bw=`${MD}-${C2}`,vZ=`${MD}-${LD}`,cy=class{constructor(t){this.code=t,this.message=`${gZ} ${C2} (reason: ${t})`}name="TaskAbortError";message},k2=(t,e)=>{if(typeof t!="function")throw new TypeError(la(32))},Qg=()=>{},zD=(t,e=Qg)=>(t.catch(e),t),UD=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),sc=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},oc=t=>{if(t.aborted){const{reason:e}=t;throw new cy(e)}};function VD(t,e){let n=Qg;return new Promise((r,a)=>{const s=()=>a(new cy(t.reason));if(t.aborted){s();return}n=UD(t,s),e.finally(()=>n()).then(r,a)}).finally(()=>{n=Qg})}var bZ=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof cy?"cancelled":"rejected",error:n}}finally{e?.()}},Zg=t=>e=>zD(VD(t,e).then(n=>(oc(t),n))),BD=t=>{const e=Zg(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Pu}=Object,Rk={},uy="listenerMiddleware",wZ=(t,e)=>{const n=r=>UD(t,()=>sc(r,t.reason));return(r,a)=>{k2(r);const s=new AbortController;n(s);const c=bZ(async()=>{oc(t),oc(s.signal);const u=await r({pause:Zg(s.signal),delay:BD(s.signal),signal:s.signal});return oc(s.signal),u},()=>sc(s,xZ));return a?.autoJoin&&e.push(c.catch(Qg)),{result:Zg(t)(c),cancel(){sc(s,yZ)}}}},_Z=(t,e)=>{const n=async(r,a)=>{oc(e);let s=()=>{};const u=[new Promise((h,f)=>{let m=t({predicate:r,effect:(g,x)=>{x.unsubscribe(),h([g,x.getState(),x.getOriginalState()])}});s=()=>{m(),f()}})];a!=null&&u.push(new Promise(h=>setTimeout(h,a,null)));try{const h=await VD(e,Promise.race(u));return oc(e),h}finally{s()}};return(r,a)=>zD(n(r,a))},FD=t=>{let{type:e,actionCreator:n,matcher:r,predicate:a,effect:s}=t;if(e)a=za(e).match;else if(n)e=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(la(21));return k2(s),{predicate:a,type:e,effect:s}},qD=Pu(t=>{const{type:e,predicate:n,effect:r}=FD(t);return{id:sZ(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(la(22))}}},{withTypes:()=>qD}),Ok=(t,e)=>{const{type:n,effect:r,predicate:a}=FD(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===a)&&s.effect===r)},ww=t=>{t.pending.forEach(e=>{sc(e,bw)})},NZ=t=>()=>{t.forEach(ww),t.clear()},Dk=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},$D=Pu(za(`${uy}/add`),{withTypes:()=>$D}),jZ=za(`${uy}/removeAll`),HD=Pu(za(`${uy}/remove`),{withTypes:()=>HD}),EZ=(...t)=>{console.error(`${uy}/error`,...t)},qf=(t={})=>{const e=new Map,{extra:n,onError:r=EZ}=t;k2(r);const a=m=>(m.unsubscribe=()=>e.delete(m.id),e.set(m.id,m),g=>{m.unsubscribe(),g?.cancelActive&&ww(m)}),s=m=>{const g=Ok(e,m)??qD(m);return a(g)};Pu(s,{withTypes:()=>s});const c=m=>{const g=Ok(e,m);return g&&(g.unsubscribe(),m.cancelActive&&ww(g)),!!g};Pu(c,{withTypes:()=>c});const u=async(m,g,x,v)=>{const j=new AbortController,w=_Z(s,j.signal),_=[];try{m.pending.add(j),await Promise.resolve(m.effect(g,Pu({},x,{getOriginalState:v,condition:(E,S)=>w(E,S).then(Boolean),take:w,delay:BD(j.signal),pause:Zg(j.signal),extra:n,signal:j.signal,fork:wZ(j.signal,_),unsubscribe:m.unsubscribe,subscribe:()=>{e.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((E,S,C)=>{E!==j&&(sc(E,bw),C.delete(E))})},cancel:()=>{sc(j,bw),m.pending.delete(j)},throwIfCancelled:()=>{oc(j.signal)}})))}catch(E){E instanceof cy||Dk(r,E,{raisedBy:"effect"})}finally{await Promise.all(_),sc(j,vZ),m.pending.delete(j)}},h=NZ(e);return{middleware:m=>g=>x=>{if(!ED(x))return g(x);if($D.match(x))return s(x.payload);if(jZ.match(x)){h();return}if(HD.match(x))return c(x.payload);let v=m.getState();const j=()=>{if(v===Rk)throw new Error(la(23));return v};let w;try{if(w=g(x),e.size>0){const _=m.getState(),E=Array.from(e.values());for(const S of E){let C=!1;try{C=S.predicate(x,_,v)}catch(V){C=!1,Dk(r,V,{raisedBy:"predicate"})}C&&u(S,x,m,j)}}}finally{v=Rk}return w},startListening:s,stopListening:c,clearListeners:h}};function la(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var SZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GD=ha({name:"chartLayout",initialState:SZ,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,a,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(a=e.payload.bottom)!==null&&a!==void 0?a:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:AZ,setLayout:TZ,setChartSize:CZ,setScale:kZ}=GD.actions,IZ=GD.reducer;function Pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pk(Object(n),!0).forEach(function(r){RZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RZ(t,e,n){return(e=OZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OZ(t){var e=DZ(t,"string");return typeof e=="symbol"?e:e+""}function DZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jg=Math.PI/180,PZ=t=>t*180/Math.PI,nr=(t,e,n,r)=>({x:t+Math.cos(-Jg*r)*n,y:e+Math.sin(-Jg*r)*n}),MZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},LZ=(t,e)=>{var{x:n,y:r}=t,{x:a,y:s}=e;return Math.sqrt((n-a)**2+(r-s)**2)},zZ=(t,e)=>{var{x:n,y:r}=t,{cx:a,cy:s}=e,c=LZ({x:n,y:r},{x:a,y:s});if(c<=0)return{radius:c,angle:0};var u=(n-a)/c,h=Math.acos(u);return r>s&&(h=2*Math.PI-h),{radius:c,angle:PZ(h),angleInRadian:h}},UZ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),a=Math.floor(n/360),s=Math.min(r,a);return{startAngle:e-s*360,endAngle:n-s*360}},VZ=(t,e)=>{var{startAngle:n,endAngle:r}=e,a=Math.floor(n/360),s=Math.floor(r/360),c=Math.min(a,s);return t+c*360},BZ=(t,e)=>{var{x:n,y:r}=t,{radius:a,angle:s}=zZ({x:n,y:r},e),{innerRadius:c,outerRadius:u}=e;if(a<c||a>u||a===0)return null;var{startAngle:h,endAngle:f}=UZ(e),m=s,g;if(h<=f){for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}else{for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}return g?Mk(Mk({},e),{},{radius:a,angle:VZ(m,e)}):null};function KD(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Lk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lk(Object(n),!0).forEach(function(r){FZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FZ(t,e,n){return(e=qZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qZ(t){var e=$Z(t,"string");return typeof e=="symbol"?e:e+""}function $Z(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sr(t,e,n){return qn(t)||qn(e)?n:Wi(e)?ny(t,e,n):typeof e=="function"?e(t):n}var HZ=(t,e,n,r,a)=>{var s,c=-1,u=(s=e?.length)!==null&&s!==void 0?s:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var h=0;h<u;h++){var f=h>0?n[h-1].coordinate:n[u-1].coordinate,m=n[h].coordinate,g=h>=u-1?n[0].coordinate:n[h+1].coordinate,x=void 0;if(Ca(m-f)!==Ca(g-m)){var v=[];if(Ca(g-m)===Ca(a[1]-a[0])){x=g;var j=m+a[1]-a[0];v[0]=Math.min(j,(j+f)/2),v[1]=Math.max(j,(j+f)/2)}else{x=f;var w=g+a[1]-a[0];v[0]=Math.min(m,(w+m)/2),v[1]=Math.max(m,(w+m)/2)}var _=[Math.min(m,(x+m)/2),Math.max(m,(x+m)/2)];if(t>_[0]&&t<=_[1]||t>=v[0]&&t<=v[1]){({index:c}=n[h]);break}}else{var E=Math.min(f,g),S=Math.max(f,g);if(t>(E+m)/2&&t<=(S+m)/2){({index:c}=n[h]);break}}}else if(e){for(var C=0;C<u;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===u-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:c}=e[C]);break}}return c},GZ=(t,e,n)=>{if(e&&n){var{width:r,height:a}=n,{align:s,verticalAlign:c,layout:u}=e;if((u==="vertical"||u==="horizontal"&&c==="middle")&&s!=="center"&&at(t[s]))return Aa(Aa({},t),{},{[s]:t[s]+(r||0)});if((u==="horizontal"||u==="vertical"&&s==="center")&&c!=="middle"&&at(t[c]))return Aa(Aa({},t),{},{[c]:t[c]+(a||0)})}return t},cl=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",YD=(t,e,n,r)=>{if(r)return t.map(u=>u.coordinate);var a,s,c=t.map(u=>(u.coordinate===e&&(a=!0),u.coordinate===n&&(s=!0),u.coordinate));return a||c.push(e),s||c.push(n),c},WD=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:a,range:s,scale:c,realScaleType:u,isCategorical:h,categoricalDomain:f,tickCount:m,ticks:g,niceTicks:x,axisType:v}=t;if(!c)return null;var j=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,w=a==="category"&&c.bandwidth?c.bandwidth()/j:0;if(w=v==="angleAxis"&&s&&s.length>=2?Ca(s[0]-s[1])*2*w:w,g||x){var _=(g||x||[]).map((E,S)=>{var C=r?r.indexOf(E):E;return{coordinate:c(C)+w,value:E,offset:w,index:S}});return _.filter(E=>!La(E.coordinate))}return h&&f?f.map((E,S)=>({coordinate:c(E)+w,value:E,index:S,offset:w})):c.ticks&&m!=null?c.ticks(m).map((E,S)=>({coordinate:c(E)+w,value:E,offset:w,index:S})):c.domain().map((E,S)=>({coordinate:c(E)+w,value:r?r[E]:E,index:S,offset:w}))},zk=1e-4,KZ=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),a=Math.min(r[0],r[1])-zk,s=Math.max(r[0],r[1])+zk,c=t(e[0]),u=t(e[n-1]);(c<a||c>s||u<a||u>s)&&t.domain([e[0],e[n-1]])}},YZ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0,c=0;c<e;++c){var u=La(t[c][n][1])?t[c][n][0]:t[c][n][1];u>=0?(t[c][n][0]=a,t[c][n][1]=a+u,a=t[c][n][1]):(t[c][n][0]=s,t[c][n][1]=s+u,s=t[c][n][1])}},WZ=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var a=0,s=0;s<e;++s){var c=La(t[s][n][1])?t[s][n][0]:t[s][n][1];c>=0?(t[s][n][0]=a,t[s][n][1]=a+c,a=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},XZ={sign:YZ,expand:zX,none:Hu,silhouette:UX,wiggle:VX,positive:WZ},QZ=(t,e,n)=>{var r=XZ[n],a=LX().keys(e).value((s,c)=>+Sr(s,c,0)).order(fw).offset(r);return a(t)};function Uk(t){var{axis:e,ticks:n,bandSize:r,entry:a,index:s,dataKey:c}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!qn(a[e.dataKey])){var u=K4(n,"value",a[e.dataKey]);if(u)return u.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var h=Sr(a,qn(c)?e.dataKey:c);return qn(h)?null:e.scale(h)}var ZZ=t=>{var e=t.flat(2).filter(at);return[Math.min(...e),Math.max(...e)]},JZ=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],eJ=(t,e,n)=>{if(t!=null)return JZ(Object.keys(t).reduce((r,a)=>{var s=t[a],{stackedData:c}=s,u=c.reduce((h,f)=>{var m=KD(f,e,n),g=ZZ(m);return[Math.min(h[0],g[0]),Math.max(h[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},Vk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Bk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_w=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var a=iy(e,m=>m.coordinate),s=1/0,c=1,u=a.length;c<u;c++){var h=a[c],f=a[c-1];s=Math.min((h.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function Fk(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:a,name:s}=t;return Aa(Aa({},e),{},{dataKey:n,payload:r,value:a,name:s})}function XD(t,e){if(t)return String(t);if(typeof e=="string")return e}function tJ(t,e,n,r,a){if(n==="horizontal"||n==="vertical"){var s=t>=a.left&&t<=a.left+a.width&&e>=a.top&&e<=a.top+a.height;return s?{x:t,y:e}:null}return r?BZ({x:t,y:e},r):null}var nJ=(t,e,n,r)=>{var a=e.find(f=>f&&f.index===n);if(a){if(t==="horizontal")return{x:a.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:a.coordinate};if(t==="centric"){var s=a.coordinate,{radius:c}=r;return Aa(Aa(Aa({},r),nr(r.cx,r.cy,c,s)),{},{angle:s,radius:c})}var u=a.coordinate,{angle:h}=r;return Aa(Aa(Aa({},r),nr(r.cx,r.cy,u,h)),{},{angle:h,radius:u})}return{x:0,y:0}},rJ=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Ws=t=>t.layout.width,Xs=t=>t.layout.height,aJ=t=>t.layout.scale,QD=t=>t.layout.margin,dy=Ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),hy=Ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),iJ="data-recharts-item-index",sJ="data-recharts-item-data-key",$f=60;function qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Fp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qk(Object(n),!0).forEach(function(r){oJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oJ(t,e,n){return(e=lJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=cJ(t,"string");return typeof e=="symbol"?e:e+""}function cJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uJ=t=>t.brush.height;function dJ(t){var e=hy(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:$f;return n+a}return n},0)}function hJ(t){var e=hy(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:$f;return n+a}return n},0)}function fJ(t){var e=dy(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function mJ(t){var e=dy(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ir=Ne([Ws,Xs,QD,uJ,dJ,hJ,fJ,mJ,_D,RQ],(t,e,n,r,a,s,c,u,h,f)=>{var m={left:(n.left||0)+a,right:(n.right||0)+s},g={top:(n.top||0)+c,bottom:(n.bottom||0)+u},x=Fp(Fp({},g),m),v=x.bottom;x.bottom+=r,x=GZ(x,h,f);var j=t-x.left-x.right,w=e-x.top-x.bottom;return Fp(Fp({brushBottom:v},x),{},{width:Math.max(j,0),height:Math.max(w,0)})}),pJ=Ne(ir,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),ZD=Ne(Ws,Xs,(t,e)=>({x:0,y:0,width:t,height:e})),gJ=T.createContext(null),Va=()=>T.useContext(gJ)!=null,fy=t=>t.brush,my=Ne([fy,ir,QD],(t,e,n)=>({height:t.height,x:at(t.x)?t.x:e.left,y:at(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:at(t.width)?t.width:e.width})),I2=()=>{var t,e=Va(),n=Je(pJ),r=Je(my),a=(t=Je(fy))===null||t===void 0?void 0:t.padding;return!e||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},yJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},JD=()=>{var t;return(t=Je(ir))!==null&&t!==void 0?t:yJ},e3=()=>Je(Ws),t3=()=>Je(Xs),en=t=>t.layout.layoutType,R2=()=>Je(en),xJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},n3=ha({name:"legend",initialState:xJ,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=Os(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:xde,setLegendSettings:vde,addLegendPayload:vJ,removeLegendPayload:bJ}=n3.actions,wJ=n3.reducer;function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(null,arguments)}function $k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function e1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$k(Object(n),!0).forEach(function(r){_J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _J(t,e,n){return(e=NJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NJ(t){var e=jJ(t,"string");return typeof e=="symbol"?e:e+""}function jJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EJ(t){return Array.isArray(t)&&Wi(t[0])&&Wi(t[1])?t.join(" ~ "):t}var SJ=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:s,formatter:c,itemSorter:u,wrapperClassName:h,labelClassName:f,label:m,labelFormatter:g,accessibilityLayer:x=!1}=t,v=()=>{if(s&&s.length){var k={padding:0,margin:0},$=(u?iy(s,u):s).map((O,M)=>{if(O.type==="none")return null;var U=O.formatter||c||EJ,{value:G,name:H}=O,D=G,B=H;if(U){var I=U(G,H,O,M,s);if(Array.isArray(I))[D,B]=I;else if(I!=null)D=I;else return null}var J=e1({display:"block",paddingTop:4,paddingBottom:4,color:O.color||"#000"},r);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:J},Wi(B)?T.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Wi(B)?T.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,T.createElement("span",{className:"recharts-tooltip-item-value"},D),T.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:k},$)}return null},j=e1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),w=e1({margin:0},a),_=!qn(m),E=_?m:"",S=Jt("recharts-default-tooltip",h),C=Jt("recharts-tooltip-label",f);_&&g&&s!==void 0&&s!==null&&(E=g(m,s));var V=x?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Nw({className:S,style:j},V),T.createElement("p",{className:C,style:w},T.isValidElement(E)?E:"".concat(E)),v())},jh="recharts-tooltip-wrapper",AJ={visibility:"hidden"};function TJ(t){var{coordinate:e,translateX:n,translateY:r}=t;return Jt(jh,{["".concat(jh,"-right")]:at(n)&&e&&at(e.x)&&n>=e.x,["".concat(jh,"-left")]:at(n)&&e&&at(e.x)&&n<e.x,["".concat(jh,"-bottom")]:at(r)&&e&&at(e.y)&&r>=e.y,["".concat(jh,"-top")]:at(r)&&e&&at(e.y)&&r<e.y})}function Hk(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:a,position:s,reverseDirection:c,tooltipDimension:u,viewBox:h,viewBoxDimension:f}=t;if(s&&at(s[r]))return s[r];var m=n[r]-u-(a>0?a:0),g=n[r]+a;if(e[r])return c[r]?m:g;var x=h[r];if(x==null)return 0;if(c[r]){var v=m,j=x;return v<j?Math.max(g,x):Math.max(m,x)}if(f==null)return 0;var w=g+u,_=x+f;return w>_?Math.max(m,x):Math.max(g,x)}function CJ(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function kJ(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:s,tooltipBox:c,useTranslate3d:u,viewBox:h}=t,f,m,g;return c.height>0&&c.width>0&&n?(m=Hk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.width,viewBox:h,viewBoxDimension:h.width}),g=Hk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:s,tooltipDimension:c.height,viewBox:h,viewBoxDimension:h.height}),f=CJ({translateX:m,translateY:g,useTranslate3d:u})):f=AJ,{cssProperties:f,cssClasses:TJ({translateX:m,translateY:g,coordinate:n})}}function Gk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function qp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Gk(Object(n),!0).forEach(function(r){jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jw(t,e,n){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IJ(t){var e=RJ(t,"string");return typeof e=="symbol"?e:e+""}function RJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class OJ extends T.PureComponent{constructor(){super(...arguments),jw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),jw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:s,coordinate:c,hasPayload:u,isAnimationActive:h,offset:f,position:m,reverseDirection:g,useTranslate3d:x,viewBox:v,wrapperStyle:j,lastBoundingBox:w,innerRef:_,hasPortalFromProps:E}=this.props,{cssClasses:S,cssProperties:C}=kJ({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:f,position:m,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:x,viewBox:v}),V=E?{}:qp(qp({transition:h&&e?"transform ".concat(r,"ms ").concat(a):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=qp(qp({},V),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},j);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:k,ref:_},s)}}var DJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hd={devToolsEnabled:!1,isSsr:DJ()},r3=()=>Je(t=>t.rootProps.accessibilityLayer);function ui(t){return Number.isFinite(t)}function e0(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function Ew(){return Ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ew.apply(null,arguments)}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){PJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PJ(t,e,n){return(e=MJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MJ(t){var e=LJ(t,"string");return typeof e=="symbol"?e:e+""}function LJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wk={curveBasisClosed:SX,curveBasisOpen:AX,curveBasis:EX,curveBumpX:NX,curveBumpY:jX,curveLinearClosed:TX,curveLinear:ry,curveMonotoneX:CX,curveMonotoneY:kX,curveNatural:IX,curveStep:RX,curveStepAfter:DX,curveStepBefore:OX},$p=t=>ui(t.x)&&ui(t.y),Eh=t=>t.x,Sh=t=>t.y,zJ=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(v2(t));return(n==="curveMonotone"||n==="curveBump")&&e?Wk["".concat(n).concat(e==="vertical"?"Y":"X")]:Wk[n]||ry},UJ=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:a,connectNulls:s=!1}=t,c=zJ(e,a),u=s?n.filter($p):n,h;if(Array.isArray(r)){var f=s?r.filter(g=>$p(g)):r,m=u.map((g,x)=>Yk(Yk({},g),{},{base:f[x]}));return a==="vertical"?h=Mp().y(Sh).x1(Eh).x0(g=>g.base.x):h=Mp().x(Eh).y1(Sh).y0(g=>g.base.y),h.defined($p).curve(c),h(m)}return a==="vertical"&&at(r)?h=Mp().y(Sh).x1(Eh).x0(r):at(r)?h=Mp().x(Eh).y1(Sh).y0(r):h=nD().x(Eh).y(Sh),h.defined($p).curve(c),h(u)},a3=t=>{var{className:e,points:n,path:r,pathRef:a}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?UJ(t):r;return T.createElement("path",Ew({},Cc(t),w2(t),{className:Jt("recharts-curve",e),d:s===null?void 0:s,ref:a}))},VJ=["x","y","top","left","width","height","className"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sw.apply(null,arguments)}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function BJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){FJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FJ(t,e,n){return(e=qJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qJ(t){var e=$J(t,"string");return typeof e=="symbol"?e:e+""}function $J(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HJ(t,e){if(t==null)return{};var n,r,a=GJ(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function GJ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var KJ=(t,e,n,r,a,s)=>"M".concat(t,",").concat(a,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),YJ=t=>{var{x:e=0,y:n=0,top:r=0,left:a=0,width:s=0,height:c=0,className:u}=t,h=HJ(t,VJ),f=BJ({x:e,y:n,top:r,left:a,width:s,height:c},h);return!at(e)||!at(n)||!at(s)||!at(c)||!at(r)||!at(a)?null:T.createElement("path",Sw({},ar(f,!0),{className:Jt("recharts-cross",u),d:KJ(e,n,s,c,r,a)}))};function WJ(t,e,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-a,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function Qk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function XJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return(e=ZJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZJ(t){var e=JJ(t,"string");return typeof e=="symbol"?e:e+""}function JJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ba(t,e){var n=XJ({},t),r=e,a=Object.keys(e),s=a.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return s}function eee(){}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tee(t,e,n){return(e=nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nee(t){var e=ree(t,"string");return typeof e=="symbol"?e:e+""}function ree(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aee=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),iee=(t,e,n)=>t.map(r=>"".concat(aee(r)," ").concat(e,"ms ").concat(n)).join(","),see=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(a=>r.includes(a))),gf=(t,e)=>Object.keys(e).reduce((n,r)=>Jk(Jk({},n),{},{[r]:t(r,e[r])}),{});function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oee(t,e,n){return(e=lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lee(t){var e=cee(t,"string");return typeof e=="symbol"?e:e+""}function cee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var t0=(t,e,n)=>t+(e-t)*n,Aw=t=>{var{from:e,to:n}=t;return e!==n},i3=(t,e,n)=>{var r=gf((a,s)=>{if(Aw(s)){var[c,u]=t(s.from,s.to,s.velocity);return er(er({},s),{},{from:c,velocity:u})}return s},e);return n<1?gf((a,s)=>Aw(s)?er(er({},s),{},{velocity:t0(s.velocity,r[a].velocity,n),from:t0(s.from,r[a].from,n)}):s,e):i3(t,r,n-1)};function uee(t,e,n,r,a,s){var c,u=r.reduce((x,v)=>er(er({},x),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),h=()=>gf((x,v)=>v.from,u),f=()=>!Object.values(u).filter(Aw).length,m=null,g=x=>{c||(c=x);var v=x-c,j=v/n.dt;u=i3(n,u,j),a(er(er(er({},t),e),h())),c=x,f()||(m=s.setTimeout(g))};return()=>(m=s.setTimeout(g),()=>{m()})}function dee(t,e,n,r,a,s,c){var u=null,h=a.reduce((g,x)=>er(er({},g),{},{[x]:[t[x],e[x]]}),{}),f,m=g=>{f||(f=g);var x=(g-f)/r,v=gf((w,_)=>t0(..._,n(x)),h);if(s(er(er(er({},t),e),v)),x<1)u=c.setTimeout(m);else{var j=gf((w,_)=>t0(..._,n(1)),h);s(er(er(er({},t),e),j))}};return()=>(u=c.setTimeout(m),()=>{u()})}const hee=(t,e,n,r,a,s)=>{var c=see(t,e);return n.isStepper===!0?uee(t,e,n,c,a,s):dee(t,e,n,r,c,a,s)};var n0=1e-4,s3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],o3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),t5=(t,e)=>n=>{var r=s3(t,e);return o3(r,n)},fee=(t,e)=>n=>{var r=s3(t,e),a=[...r.map((s,c)=>s*c).slice(1),0];return o3(a,n)},n5=function(){for(var e,n,r,a,s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];if(c.length===1)switch(c[0]){case"linear":[e,r,n,a]=[0,0,1,1];break;case"ease":[e,r,n,a]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,a]=[.42,0,1,1];break;case"ease-out":[e,r,n,a]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,a]=[0,0,.58,1];break;default:{var h=c[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([e,r,n,a]=h[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else c.length===4&&([e,r,n,a]=c);var f=t5(e,n),m=t5(r,a),g=fee(e,n),x=j=>j>1?1:j<0?0:j,v=j=>{for(var w=j>1?1:j,_=w,E=0;E<8;++E){var S=f(_)-w,C=g(_);if(Math.abs(S-w)<n0||C<n0)return m(_);_=x(_-S/C)}return m(_)};return v.isStepper=!1,v},mee=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=e,s=(c,u,h)=>{var f=-(c-u)*n,m=h*r,g=h+(f-m)*a/1e3,x=h*a/1e3+c;return Math.abs(x-u)<n0&&Math.abs(g)<n0?[u,0]:[x,g]};return s.isStepper=!0,s.dt=a,s},pee=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return n5(t);case"spring":return mee();default:if(t.split("(")[0]==="cubic-bezier")return n5(t)}return typeof t=="function"?t:null};function gee(t){var e,n=()=>null,r=!1,a=null,s=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[h,...f]=u;if(typeof h=="number"){a=t.setTimeout(s.bind(null,f),h);return}s(h),a=t.setTimeout(s.bind(null,f));return}typeof c=="string"&&(e=c,n(e)),typeof c=="object"&&(e=c,n(e)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),s(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>t}}class yee{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,s=c=>{c-r>=n?e(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{cancelAnimationFrame(a)}}}function xee(){return gee(new yee)}var vee=T.createContext(xee);function bee(t,e){var n=T.useContext(vee);return T.useMemo(()=>e??n(t),[t,e,n])}var wee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},r5={t:0},t1={t:1};function l3(t){var e=Ba(t,wee),{isActive:n,canBegin:r,duration:a,easing:s,begin:c,onAnimationEnd:u,onAnimationStart:h,children:f}=e,m=bee(e.animationId,e.animationManager),[g,x]=T.useState(n?r5:t1),v=T.useRef(null);return T.useEffect(()=>{n||x(t1)},[n]),T.useEffect(()=>{if(!n||!r)return eee;var j=hee(r5,t1,pee(s),a,x,m.getTimeoutController()),w=()=>{v.current=j()};return m.start([h,c,w,a,u]),()=>{m.stop(),v.current&&v.current(),u()}},[n,r,a,s,c,h,u,m]),f(g.t)}function c3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=T.useRef(ff(e)),r=T.useRef(t);return r.current!==t&&(n.current=ff(e),r.current=t),n.current}function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function i5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){_ee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ee(t,e,n){return(e=Nee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nee(t){var e=jee(t,"string");return typeof e=="symbol"?e:e+""}function jee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r0.apply(null,arguments)}var s5=(t,e,n,r,a)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,u=n>=0?1:-1,h=r>=0&&n>=0||r<0&&n<0?1:0,f;if(s>0&&a instanceof Array){for(var m=[0,0,0,0],g=0,x=4;g<x;g++)m[g]=a[g]>s?s:a[g];f="M".concat(t,",").concat(e+c*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(h,",").concat(t+u*m[0],",").concat(e)),f+="L ".concat(t+n-u*m[1],",").concat(e),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(h,`,
        `).concat(t+n,",").concat(e+c*m[1])),f+="L ".concat(t+n,",").concat(e+r-c*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(h,`,
        `).concat(t+n-u*m[2],",").concat(e+r)),f+="L ".concat(t+u*m[3],",").concat(e+r),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(h,`,
        `).concat(t,",").concat(e+r-c*m[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);f="M ".concat(t,",").concat(e+c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+u*v,",").concat(e,`
            L `).concat(t+n-u*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+n,",").concat(e+c*v,`
            L `).concat(t+n,",").concat(e+r-c*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t+n-u*v,",").concat(e+r,`
            L `).concat(t+u*v,",").concat(e+r,`
            A `).concat(v,",").concat(v,",0,0,").concat(h,",").concat(t,",").concat(e+r-c*v," Z")}else f="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return f},Eee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},See=t=>{var e=Ba(t,Eee),n=T.useRef(null),[r,a]=T.useState(-1);T.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&a(I)}catch{}},[]);var{x:s,y:c,width:u,height:h,radius:f,className:m}=e,{animationEasing:g,animationDuration:x,animationBegin:v,isAnimationActive:j,isUpdateAnimationActive:w}=e,_=T.useRef(u),E=T.useRef(h),S=T.useRef(s),C=T.useRef(c),V=T.useMemo(()=>({x:s,y:c,width:u,height:h,radius:f}),[s,c,u,h,f]),k=c3(V,"rectangle-");if(s!==+s||c!==+c||u!==+u||h!==+h||u===0||h===0)return null;var $=Jt("recharts-rectangle",m);if(!w)return T.createElement("path",r0({},ar(e,!0),{className:$,d:s5(s,c,u,h,f)}));var O=_.current,M=E.current,U=S.current,G=C.current,H="0px ".concat(r===-1?1:r,"px"),D="".concat(r,"px 0px"),B=iee(["strokeDasharray"],x,typeof g=="string"?g:void 0);return T.createElement(l3,{animationId:k,key:k,canBegin:r>0,duration:x,easing:g,isActive:w,begin:v},I=>{var J=_s(O,u,I),q=_s(M,h,I),Y=_s(U,s,I),te=_s(G,c,I);n.current&&(_.current=J,E.current=q,S.current=Y,C.current=te);var Z;return j?I>0?Z={transition:B,strokeDasharray:D}:Z={strokeDasharray:H}:Z={strokeDasharray:D},T.createElement("path",r0({},ar(e,!0),{className:$,d:s5(Y,te,J,q,f),ref:n,style:i5(i5({},Z),e.style)}))})};function u3(t){var{cx:e,cy:n,radius:r,startAngle:a,endAngle:s}=t,c=nr(e,n,r,a),u=nr(e,n,r,s);return{points:[c,u],cx:e,cy:n,radius:r,startAngle:a,endAngle:s}}function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(null,arguments)}var Aee=(t,e)=>{var n=Ca(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Hp=t=>{var{cx:e,cy:n,radius:r,angle:a,sign:s,isExternal:c,cornerRadius:u,cornerIsExternal:h}=t,f=u*(c?1:-1)+r,m=Math.asin(u/f)/Jg,g=h?a:a+s*m,x=nr(e,n,f,g),v=nr(e,n,r,g),j=h?a-s*m:a,w=nr(e,n,f*Math.cos(m*Jg),j);return{center:x,circleTangency:v,lineTangency:w,theta:m}},d3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:s,endAngle:c}=t,u=Aee(s,c),h=s+u,f=nr(e,n,a,s),m=nr(e,n,a,h),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(s>h),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(r>0){var x=nr(e,n,r,s),v=nr(e,n,r,h);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(s<=h),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(e,",").concat(n," Z");return g},Tee=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:a,cornerRadius:s,forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f}=t,m=Ca(f-h),{circleTangency:g,lineTangency:x,theta:v}=Hp({cx:e,cy:n,radius:a,angle:h,sign:m,cornerRadius:s,cornerIsExternal:u}),{circleTangency:j,lineTangency:w,theta:_}=Hp({cx:e,cy:n,radius:a,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:u}),E=u?Math.abs(h-f):Math.abs(h-f)-v-_;if(E<0)return c?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):d3({cx:e,cy:n,innerRadius:r,outerRadius:a,startAngle:h,endAngle:f});var S="M ".concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(E>180),",").concat(+(m<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:V,theta:k}=Hp({cx:e,cy:n,radius:r,angle:h,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),{circleTangency:$,lineTangency:O,theta:M}=Hp({cx:e,cy:n,radius:r,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:u}),U=u?Math.abs(h-f):Math.abs(h-f)-k-M;if(U<0&&s===0)return"".concat(S,"L").concat(e,",").concat(n,"Z");S+="L".concat(O.x,",").concat(O.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat($.x,",").concat($.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(U>180),",").concat(+(m>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(V.x,",").concat(V.y,"Z")}else S+="L".concat(e,",").concat(n,"Z");return S},Cee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kee=t=>{var e=Ba(t,Cee),{cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:m,className:g}=e;if(s<a||f===m)return null;var x=Jt("recharts-sector",g),v=s-a,j=al(c,v,0,!0),w;return j>0&&Math.abs(f-m)<360?w=Tee({cx:n,cy:r,innerRadius:a,outerRadius:s,cornerRadius:Math.min(j,v/2),forceCornerRadius:u,cornerIsExternal:h,startAngle:f,endAngle:m}):w=d3({cx:n,cy:r,innerRadius:a,outerRadius:s,startAngle:f,endAngle:m}),T.createElement("path",Tw({},ar(e,!0),{className:x,d:w}))};function Iee(t,e,n){var r,a,s,c;if(t==="horizontal")r=e.x,s=r,a=n.top,c=n.top+n.height;else if(t==="vertical")a=e.y,c=a,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:u,cy:h,innerRadius:f,outerRadius:m,angle:g}=e,x=nr(u,h,f,g),v=nr(u,h,m,g);r=x.x,a=x.y,s=v.x,c=v.y}else return u3(e);return[{x:r,y:a},{x:s,y:c}]}var n1={},r1={},a1={},o5;function Ree(){return o5||(o5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=bD();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(a1)),a1}var l5;function Oee(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ree();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(r1)),r1}var c5;function Dee(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wD(),n=Oee();function r(a,s,c){c&&typeof c!="number"&&e.isIterateeCall(a,s,c)&&(s=c=void 0),a=n.toFinite(a),s===void 0?(s=a,a=0):s=n.toFinite(s),c=c===void 0?a<s?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((s-a)/(c||1)),0),h=new Array(u);for(let f=0;f<u;f++)h[f]=a,a+=c;return h}t.range=r})(n1)),n1}var i1,u5;function Pee(){return u5||(u5=1,i1=Dee().range),i1}var Mee=Pee();const h3=Qi(Mee);function Wo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lee(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function O2(t){let e,n,r;t.length!==2?(e=Wo,n=(u,h)=>Wo(t(u),h),r=(u,h)=>t(u)-h):(e=t===Wo||t===Lee?t:zee,n=t,r=t);function a(u,h,f=0,m=u.length){if(f<m){if(e(h,h)!==0)return m;do{const g=f+m>>>1;n(u[g],h)<0?f=g+1:m=g}while(f<m)}return f}function s(u,h,f=0,m=u.length){if(f<m){if(e(h,h)!==0)return m;do{const g=f+m>>>1;n(u[g],h)<=0?f=g+1:m=g}while(f<m)}return f}function c(u,h,f=0,m=u.length){const g=a(u,h,f,m-1);return g>f&&r(u[g-1],h)>-r(u[g],h)?g-1:g}return{left:a,center:c,right:s}}function zee(){return 0}function f3(t){return t===null?NaN:+t}function*Uee(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Vee=O2(Wo),Hf=Vee.right;O2(f3).center;class d5 extends Map{constructor(e,n=qee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(h5(this,e))}has(e){return super.has(h5(this,e))}set(e,n){return super.set(Bee(this,e),n)}delete(e){return super.delete(Fee(this,e))}}function h5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Bee({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Fee({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qee(t){return t!==null&&typeof t=="object"?t.valueOf():t}function $ee(t=Wo){if(t===Wo)return m3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function m3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Hee=Math.sqrt(50),Gee=Math.sqrt(10),Kee=Math.sqrt(2);function a0(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),s=r/Math.pow(10,a),c=s>=Hee?10:s>=Gee?5:s>=Kee?2:1;let u,h,f;return a<0?(f=Math.pow(10,-a)/c,u=Math.round(t*f),h=Math.round(e*f),u/f<t&&++u,h/f>e&&--h,f=-f):(f=Math.pow(10,a)*c,u=Math.round(t/f),h=Math.round(e/f),u*f<t&&++u,h*f>e&&--h),h<u&&.5<=n&&n<2?a0(t,e,n*2):[u,h,f]}function Cw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,s,c]=r?a0(e,t,n):a0(t,e,n);if(!(s>=a))return[];const u=s-a+1,h=new Array(u);if(r)if(c<0)for(let f=0;f<u;++f)h[f]=(s-f)/-c;else for(let f=0;f<u;++f)h[f]=(s-f)*c;else if(c<0)for(let f=0;f<u;++f)h[f]=(a+f)/-c;else for(let f=0;f<u;++f)h[f]=(a+f)*c;return h}function kw(t,e,n){return e=+e,t=+t,n=+n,a0(t,e,n)[2]}function Iw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?kw(e,t,n):kw(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function f5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function m5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function p3(t,e,n=0,r=1/0,a){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(a=a===void 0?m3:$ee(a);r>n;){if(r-n>600){const h=r-n+1,f=e-n+1,m=Math.log(h),g=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*g*(h-g)/h)*(f-h/2<0?-1:1),v=Math.max(n,Math.floor(e-f*g/h+x)),j=Math.min(r,Math.floor(e+(h-f)*g/h+x));p3(t,e,v,j,a)}const s=t[e];let c=n,u=r;for(Ah(t,n,e),a(t[r],s)>0&&Ah(t,n,r);c<u;){for(Ah(t,c,u),++c,--u;a(t[c],s)<0;)++c;for(;a(t[u],s)>0;)--u}a(t[n],s)===0?Ah(t,n,u):(++u,Ah(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function Ah(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Yee(t,e,n){if(t=Float64Array.from(Uee(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return m5(t);if(e>=1)return f5(t);var r,a=(r-1)*e,s=Math.floor(a),c=f5(p3(t,s).subarray(0,s+1)),u=m5(t.subarray(s+1));return c+(u-c)*(a-s)}}function Wee(t,e,n=f3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,a=(r-1)*e,s=Math.floor(a),c=+n(t[s],s,t),u=+n(t[s+1],s+1,t);return c+(u-c)*(a-s)}}function Xee(t,e,n){t=+t,e=+e,n=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(a);++r<a;)s[r]=t+r*n;return s}function Fa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Qs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Rw=Symbol("implicit");function D2(){var t=new d5,e=[],n=[],r=Rw;function a(s){let c=t.get(s);if(c===void 0){if(r!==Rw)return r;t.set(s,c=e.push(s)-1)}return n[c%n.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new d5;for(const c of s)t.has(c)||t.set(c,e.push(c)-1);return a},a.range=function(s){return arguments.length?(n=Array.from(s),a):n.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return D2(e,n).unknown(r)},Fa.apply(a,arguments),a}function P2(){var t=D2().unknown(void 0),e=t.domain,n=t.range,r=0,a=1,s,c,u=!1,h=0,f=0,m=.5;delete t.unknown;function g(){var x=e().length,v=a<r,j=v?a:r,w=v?r:a;s=(w-j)/Math.max(1,x-h+f*2),u&&(s=Math.floor(s)),j+=(w-j-s*(x-h))*m,c=s*(1-h),u&&(j=Math.round(j),c=Math.round(c));var _=Xee(x).map(function(E){return j+s*E});return n(v?_.reverse():_)}return t.domain=function(x){return arguments.length?(e(x),g()):e()},t.range=function(x){return arguments.length?([r,a]=x,r=+r,a=+a,g()):[r,a]},t.rangeRound=function(x){return[r,a]=x,r=+r,a=+a,u=!0,g()},t.bandwidth=function(){return c},t.step=function(){return s},t.round=function(x){return arguments.length?(u=!!x,g()):u},t.padding=function(x){return arguments.length?(h=Math.min(1,f=+x),g()):h},t.paddingInner=function(x){return arguments.length?(h=Math.min(1,x),g()):h},t.paddingOuter=function(x){return arguments.length?(f=+x,g()):f},t.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),g()):m},t.copy=function(){return P2(e(),[r,a]).round(u).paddingInner(h).paddingOuter(f).align(m)},Fa.apply(g(),arguments)}function g3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return g3(e())},t}function Qee(){return g3(P2.apply(null,arguments).paddingInner(1))}function M2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function y3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Gf(){}var yf=.7,i0=1/yf,Mu="\\s*([+-]?\\d+)\\s*",xf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ki="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zee=/^#([0-9a-f]{3,8})$/,Jee=new RegExp(`^rgb\\(${Mu},${Mu},${Mu}\\)$`),ete=new RegExp(`^rgb\\(${Ki},${Ki},${Ki}\\)$`),tte=new RegExp(`^rgba\\(${Mu},${Mu},${Mu},${xf}\\)$`),nte=new RegExp(`^rgba\\(${Ki},${Ki},${Ki},${xf}\\)$`),rte=new RegExp(`^hsl\\(${xf},${Ki},${Ki}\\)$`),ate=new RegExp(`^hsla\\(${xf},${Ki},${Ki},${xf}\\)$`),p5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M2(Gf,vf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:g5,formatHex:g5,formatHex8:ite,formatHsl:ste,formatRgb:y5,toString:y5});function g5(){return this.rgb().formatHex()}function ite(){return this.rgb().formatHex8()}function ste(){return x3(this).formatHsl()}function y5(){return this.rgb().formatRgb()}function vf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Zee.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?x5(e):n===3?new Fr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gp(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gp(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Jee.exec(t))?new Fr(e[1],e[2],e[3],1):(e=ete.exec(t))?new Fr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=tte.exec(t))?Gp(e[1],e[2],e[3],e[4]):(e=nte.exec(t))?Gp(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=rte.exec(t))?w5(e[1],e[2]/100,e[3]/100,1):(e=ate.exec(t))?w5(e[1],e[2]/100,e[3]/100,e[4]):p5.hasOwnProperty(t)?x5(p5[t]):t==="transparent"?new Fr(NaN,NaN,NaN,0):null}function x5(t){return new Fr(t>>16&255,t>>8&255,t&255,1)}function Gp(t,e,n,r){return r<=0&&(t=e=n=NaN),new Fr(t,e,n,r)}function ote(t){return t instanceof Gf||(t=vf(t)),t?(t=t.rgb(),new Fr(t.r,t.g,t.b,t.opacity)):new Fr}function Ow(t,e,n,r){return arguments.length===1?ote(t):new Fr(t,e,n,r??1)}function Fr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}M2(Fr,Ow,y3(Gf,{brighter(t){return t=t==null?i0:Math.pow(i0,t),new Fr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yf:Math.pow(yf,t),new Fr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Fr(lc(this.r),lc(this.g),lc(this.b),s0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:v5,formatHex:v5,formatHex8:lte,formatRgb:b5,toString:b5}));function v5(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}`}function lte(){return`#${ec(this.r)}${ec(this.g)}${ec(this.b)}${ec((isNaN(this.opacity)?1:this.opacity)*255)}`}function b5(){const t=s0(this.opacity);return`${t===1?"rgb(":"rgba("}${lc(this.r)}, ${lc(this.g)}, ${lc(this.b)}${t===1?")":`, ${t})`}`}function s0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ec(t){return t=lc(t),(t<16?"0":"")+t.toString(16)}function w5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ri(t,e,n,r)}function x3(t){if(t instanceof ri)return new ri(t.h,t.s,t.l,t.opacity);if(t instanceof Gf||(t=vf(t)),!t)return new ri;if(t instanceof ri)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,a=Math.min(e,n,r),s=Math.max(e,n,r),c=NaN,u=s-a,h=(s+a)/2;return u?(e===s?c=(n-r)/u+(n<r)*6:n===s?c=(r-e)/u+2:c=(e-n)/u+4,u/=h<.5?s+a:2-s-a,c*=60):u=h>0&&h<1?0:c,new ri(c,u,h,t.opacity)}function cte(t,e,n,r){return arguments.length===1?x3(t):new ri(t,e,n,r??1)}function ri(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}M2(ri,cte,y3(Gf,{brighter(t){return t=t==null?i0:Math.pow(i0,t),new ri(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yf:Math.pow(yf,t),new ri(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,a=2*n-r;return new Fr(s1(t>=240?t-240:t+120,a,r),s1(t,a,r),s1(t<120?t+240:t-120,a,r),this.opacity)},clamp(){return new ri(_5(this.h),Kp(this.s),Kp(this.l),s0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=s0(this.opacity);return`${t===1?"hsl(":"hsla("}${_5(this.h)}, ${Kp(this.s)*100}%, ${Kp(this.l)*100}%${t===1?")":`, ${t})`}`}}));function _5(t){return t=(t||0)%360,t<0?t+360:t}function Kp(t){return Math.max(0,Math.min(1,t||0))}function s1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const L2=t=>()=>t;function ute(t,e){return function(n){return t+n*e}}function dte(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function hte(t){return(t=+t)==1?v3:function(e,n){return n-e?dte(e,n,t):L2(isNaN(e)?n:e)}}function v3(t,e){var n=e-t;return n?ute(t,n):L2(isNaN(t)?e:t)}const N5=(function t(e){var n=hte(e);function r(a,s){var c=n((a=Ow(a)).r,(s=Ow(s)).r),u=n(a.g,s.g),h=n(a.b,s.b),f=v3(a.opacity,s.opacity);return function(m){return a.r=c(m),a.g=u(m),a.b=h(m),a.opacity=f(m),a+""}}return r.gamma=t,r})(1);function fte(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(s){for(a=0;a<n;++a)r[a]=t[a]*(1-s)+e[a]*s;return r}}function mte(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pte(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),s=new Array(n),c;for(c=0;c<r;++c)a[c]=fd(t[c],e[c]);for(;c<n;++c)s[c]=e[c];return function(u){for(c=0;c<r;++c)s[c]=a[c](u);return s}}function gte(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function o0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yte(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=fd(t[a],e[a]):r[a]=e[a];return function(s){for(a in n)r[a]=n[a](s);return r}}var Dw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o1=new RegExp(Dw.source,"g");function xte(t){return function(){return t}}function vte(t){return function(e){return t(e)+""}}function bte(t,e){var n=Dw.lastIndex=o1.lastIndex=0,r,a,s,c=-1,u=[],h=[];for(t=t+"",e=e+"";(r=Dw.exec(t))&&(a=o1.exec(e));)(s=a.index)>n&&(s=e.slice(n,s),u[c]?u[c]+=s:u[++c]=s),(r=r[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,h.push({i:c,x:o0(r,a)})),n=o1.lastIndex;return n<e.length&&(s=e.slice(n),u[c]?u[c]+=s:u[++c]=s),u.length<2?h[0]?vte(h[0].x):xte(e):(e=h.length,function(f){for(var m=0,g;m<e;++m)u[(g=h[m]).i]=g.x(f);return u.join("")})}function fd(t,e){var n=typeof e,r;return e==null||n==="boolean"?L2(e):(n==="number"?o0:n==="string"?(r=vf(e))?(e=r,N5):bte:e instanceof vf?N5:e instanceof Date?gte:mte(e)?fte:Array.isArray(e)?pte:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yte:o0)(t,e)}function z2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wte(t,e){e===void 0&&(e=t,t=fd);for(var n=0,r=e.length-1,a=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(a,a=e[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return s[u](c-u)}}function _te(t){return function(){return t}}function l0(t){return+t}var j5=[0,1];function jr(t){return t}function Pw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_te(isNaN(e)?NaN:.5)}function Nte(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jte(t,e,n){var r=t[0],a=t[1],s=e[0],c=e[1];return a<r?(r=Pw(a,r),s=n(c,s)):(r=Pw(r,a),s=n(s,c)),function(u){return s(r(u))}}function Ete(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),s=new Array(r),c=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++c<r;)a[c]=Pw(t[c],t[c+1]),s[c]=n(e[c],e[c+1]);return function(u){var h=Hf(t,u,1,r)-1;return s[h](a[h](u))}}function Kf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function py(){var t=j5,e=j5,n=fd,r,a,s,c=jr,u,h,f;function m(){var x=Math.min(t.length,e.length);return c!==jr&&(c=Nte(t[0],t[x-1])),u=x>2?Ete:jte,h=f=null,g}function g(x){return x==null||isNaN(x=+x)?s:(h||(h=u(t.map(r),e,n)))(r(c(x)))}return g.invert=function(x){return c(a((f||(f=u(e,t.map(r),o0)))(x)))},g.domain=function(x){return arguments.length?(t=Array.from(x,l0),m()):t.slice()},g.range=function(x){return arguments.length?(e=Array.from(x),m()):e.slice()},g.rangeRound=function(x){return e=Array.from(x),n=z2,m()},g.clamp=function(x){return arguments.length?(c=x?!0:jr,m()):c!==jr},g.interpolate=function(x){return arguments.length?(n=x,m()):n},g.unknown=function(x){return arguments.length?(s=x,g):s},function(x,v){return r=x,a=v,m()}}function U2(){return py()(jr,jr)}function Ste(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function c0(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ku(t){return t=c0(Math.abs(t)),t?t[1]:NaN}function Ate(t,e){return function(n,r){for(var a=n.length,s=[],c=0,u=t[0],h=0;a>0&&u>0&&(h+u+1>r&&(u=Math.max(1,r-h)),s.push(n.substring(a-=u,a+u)),!((h+=u+1)>r));)u=t[c=(c+1)%t.length];return s.reverse().join(e)}}function Tte(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Cte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bf(t){if(!(e=Cte.exec(t)))throw new Error("invalid format: "+t);var e;return new V2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bf.prototype=V2.prototype;function V2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}V2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kte(t){e:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var b3;function Ite(t,e){var n=c0(t,e);if(!n)return t+"";var r=n[0],a=n[1],s=a-(b3=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return s===c?r:s>c?r+new Array(s-c+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+c0(t,Math.max(0,e+s-1))[0]}function E5(t,e){var n=c0(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const S5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ste,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>E5(t*100,e),r:E5,s:Ite,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function A5(t){return t}var T5=Array.prototype.map,C5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Rte(t){var e=t.grouping===void 0||t.thousands===void 0?A5:Ate(T5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?A5:Tte(T5.call(t.numerals,String)),c=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",h=t.nan===void 0?"NaN":t.nan+"";function f(g){g=bf(g);var x=g.fill,v=g.align,j=g.sign,w=g.symbol,_=g.zero,E=g.width,S=g.comma,C=g.precision,V=g.trim,k=g.type;k==="n"?(S=!0,k="g"):S5[k]||(C===void 0&&(C=12),V=!0,k="g"),(_||x==="0"&&v==="=")&&(_=!0,x="0",v="=");var $=w==="$"?n:w==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",O=w==="$"?r:/[%p]/.test(k)?c:"",M=S5[k],U=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function G(H){var D=$,B=O,I,J,q;if(k==="c")B=M(H)+B,H="";else{H=+H;var Y=H<0||1/H<0;if(H=isNaN(H)?h:M(Math.abs(H),C),V&&(H=kte(H)),Y&&+H==0&&j!=="+"&&(Y=!1),D=(Y?j==="("?j:u:j==="-"||j==="("?"":j)+D,B=(k==="s"?C5[8+b3/3]:"")+B+(Y&&j==="("?")":""),U){for(I=-1,J=H.length;++I<J;)if(q=H.charCodeAt(I),48>q||q>57){B=(q===46?a+H.slice(I+1):H.slice(I))+B,H=H.slice(0,I);break}}}S&&!_&&(H=e(H,1/0));var te=D.length+H.length+B.length,Z=te<E?new Array(E-te+1).join(x):"";switch(S&&_&&(H=e(Z+H,Z.length?E-B.length:1/0),Z=""),v){case"<":H=D+H+B+Z;break;case"=":H=D+Z+H+B;break;case"^":H=Z.slice(0,te=Z.length>>1)+D+H+B+Z.slice(te);break;default:H=Z+D+H+B;break}return s(H)}return G.toString=function(){return g+""},G}function m(g,x){var v=f((g=bf(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Ku(x)/3)))*3,w=Math.pow(10,-j),_=C5[8+j/3];return function(E){return v(w*E)+_}}return{format:f,formatPrefix:m}}var Yp,B2,w3;Ote({thousands:",",grouping:[3],currency:["$",""]});function Ote(t){return Yp=Rte(t),B2=Yp.format,w3=Yp.formatPrefix,Yp}function Dte(t){return Math.max(0,-Ku(Math.abs(t)))}function Pte(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ku(e)/3)))*3-Ku(Math.abs(t)))}function Mte(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ku(e)-Ku(t))+1}function _3(t,e,n,r){var a=Iw(t,e,n),s;switch(r=bf(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Pte(a,c))&&(r.precision=s),w3(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Mte(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Dte(a))&&(r.precision=s-(r.type==="%")*2);break}}return B2(r)}function ul(t){var e=t.domain;return t.ticks=function(n){var r=e();return Cw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return _3(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,s=r.length-1,c=r[a],u=r[s],h,f,m=10;for(u<c&&(f=c,c=u,u=f,f=a,a=s,s=f);m-- >0;){if(f=kw(c,u,n),f===h)return r[a]=c,r[s]=u,e(r);if(f>0)c=Math.floor(c/f)*f,u=Math.ceil(u/f)*f;else if(f<0)c=Math.ceil(c*f)/f,u=Math.floor(u*f)/f;else break;h=f}return t},t}function N3(){var t=U2();return t.copy=function(){return Kf(t,N3())},Fa.apply(t,arguments),ul(t)}function j3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,l0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return j3(t).unknown(e)},t=arguments.length?Array.from(t,l0):[0,1],ul(n)}function E3(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],s=t[r],c;return s<a&&(c=n,n=r,r=c,c=a,a=s,s=c),t[n]=e.floor(a),t[r]=e.ceil(s),t}function k5(t){return Math.log(t)}function I5(t){return Math.exp(t)}function Lte(t){return-Math.log(-t)}function zte(t){return-Math.exp(-t)}function Ute(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Vte(t){return t===10?Ute:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Bte(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function R5(t){return(e,n)=>-t(-e,n)}function F2(t){const e=t(k5,I5),n=e.domain;let r=10,a,s;function c(){return a=Bte(r),s=Vte(r),n()[0]<0?(a=R5(a),s=R5(s),t(Lte,zte)):t(k5,I5),e}return e.base=function(u){return arguments.length?(r=+u,c()):r},e.domain=function(u){return arguments.length?(n(u),c()):n()},e.ticks=u=>{const h=n();let f=h[0],m=h[h.length-1];const g=m<f;g&&([f,m]=[m,f]);let x=a(f),v=a(m),j,w;const _=u==null?10:+u;let E=[];if(!(r%1)&&v-x<_){if(x=Math.floor(x),v=Math.ceil(v),f>0){for(;x<=v;++x)for(j=1;j<r;++j)if(w=x<0?j/s(-x):j*s(x),!(w<f)){if(w>m)break;E.push(w)}}else for(;x<=v;++x)for(j=r-1;j>=1;--j)if(w=x>0?j/s(-x):j*s(x),!(w<f)){if(w>m)break;E.push(w)}E.length*2<_&&(E=Cw(f,m,_))}else E=Cw(x,v,Math.min(v-x,_)).map(s);return g?E.reverse():E},e.tickFormat=(u,h)=>{if(u==null&&(u=10),h==null&&(h=r===10?"s":","),typeof h!="function"&&(!(r%1)&&(h=bf(h)).precision==null&&(h.trim=!0),h=B2(h)),u===1/0)return h;const f=Math.max(1,r*u/e.ticks().length);return m=>{let g=m/s(Math.round(a(m)));return g*r<r-.5&&(g*=r),g<=f?h(m):""}},e.nice=()=>n(E3(n(),{floor:u=>s(Math.floor(a(u))),ceil:u=>s(Math.ceil(a(u)))})),e}function S3(){const t=F2(py()).domain([1,10]);return t.copy=()=>Kf(t,S3()).base(t.base()),Fa.apply(t,arguments),t}function O5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function D5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function q2(t){var e=1,n=t(O5(e),D5(e));return n.constant=function(r){return arguments.length?t(O5(e=+r),D5(e)):e},ul(n)}function A3(){var t=q2(py());return t.copy=function(){return Kf(t,A3()).constant(t.constant())},Fa.apply(t,arguments)}function P5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Fte(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qte(t){return t<0?-t*t:t*t}function $2(t){var e=t(jr,jr),n=1;function r(){return n===1?t(jr,jr):n===.5?t(Fte,qte):t(P5(n),P5(1/n))}return e.exponent=function(a){return arguments.length?(n=+a,r()):n},ul(e)}function H2(){var t=$2(py());return t.copy=function(){return Kf(t,H2()).exponent(t.exponent())},Fa.apply(t,arguments),t}function $te(){return H2.apply(null,arguments).exponent(.5)}function M5(t){return Math.sign(t)*t*t}function Hte(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function T3(){var t=U2(),e=[0,1],n=!1,r;function a(s){var c=Hte(t(s));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(s){return t.invert(M5(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,l0)).map(M5)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(n=!!s,a):n},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return T3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Fa.apply(a,arguments),ul(a)}function C3(){var t=[],e=[],n=[],r;function a(){var c=0,u=Math.max(1,e.length);for(n=new Array(u-1);++c<u;)n[c-1]=Wee(t,c/u);return s}function s(c){return c==null||isNaN(c=+c)?r:e[Hf(n,c)]}return s.invertExtent=function(c){var u=e.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},s.domain=function(c){if(!arguments.length)return t.slice();t=[];for(let u of c)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Wo),a()},s.range=function(c){return arguments.length?(e=Array.from(c),a()):e.slice()},s.unknown=function(c){return arguments.length?(r=c,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return C3().domain(t).range(e).unknown(r)},Fa.apply(s,arguments)}function k3(){var t=0,e=1,n=1,r=[.5],a=[0,1],s;function c(h){return h!=null&&h<=h?a[Hf(r,h,0,n)]:s}function u(){var h=-1;for(r=new Array(n);++h<n;)r[h]=((h+1)*e-(h-n)*t)/(n+1);return c}return c.domain=function(h){return arguments.length?([t,e]=h,t=+t,e=+e,u()):[t,e]},c.range=function(h){return arguments.length?(n=(a=Array.from(h)).length-1,u()):a.slice()},c.invertExtent=function(h){var f=a.indexOf(h);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},c.unknown=function(h){return arguments.length&&(s=h),c},c.thresholds=function(){return r.slice()},c.copy=function(){return k3().domain([t,e]).range(a).unknown(s)},Fa.apply(ul(c),arguments)}function I3(){var t=[.5],e=[0,1],n,r=1;function a(s){return s!=null&&s<=s?e[Hf(t,s,0,r)]:n}return a.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var c=e.indexOf(s);return[t[c-1],t[c]]},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return I3().domain(t).range(e).unknown(n)},Fa.apply(a,arguments)}const l1=new Date,c1=new Date;function Pn(t,e,n,r){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const c=a(s),u=a.ceil(s);return s-c<u-s?c:u},a.offset=(s,c)=>(e(s=new Date(+s),c==null?1:Math.floor(c)),s),a.range=(s,c,u)=>{const h=[];if(s=a.ceil(s),u=u==null?1:Math.floor(u),!(s<c)||!(u>0))return h;let f;do h.push(f=new Date(+s)),e(s,u),t(s);while(f<s&&s<c);return h},a.filter=s=>Pn(c=>{if(c>=c)for(;t(c),!s(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;e(c,-1),!s(c););else for(;--u>=0;)for(;e(c,1),!s(c););}),n&&(a.count=(s,c)=>(l1.setTime(+s),c1.setTime(+c),t(l1),t(c1),Math.floor(n(l1,c1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(r?c=>r(c)%s===0:c=>a.count(0,c)%s===0):a)),a}const u0=Pn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);u0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Pn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):u0);u0.range;const As=1e3,ka=As*60,Ts=ka*60,Bs=Ts*24,G2=Bs*7,L5=Bs*30,u1=Bs*365,tc=Pn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*As)},(t,e)=>(e-t)/As,t=>t.getUTCSeconds());tc.range;const K2=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As)},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getMinutes());K2.range;const Y2=Pn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ka)},(t,e)=>(e-t)/ka,t=>t.getUTCMinutes());Y2.range;const W2=Pn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*As-t.getMinutes()*ka)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getHours());W2.range;const X2=Pn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ts)},(t,e)=>(e-t)/Ts,t=>t.getUTCHours());X2.range;const Yf=Pn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ka)/Bs,t=>t.getDate()-1);Yf.range;const gy=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bs,t=>t.getUTCDate()-1);gy.range;const R3=Pn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Bs,t=>Math.floor(t/Bs));R3.range;function kc(t){return Pn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ka)/G2)}const yy=kc(0),d0=kc(1),Gte=kc(2),Kte=kc(3),Yu=kc(4),Yte=kc(5),Wte=kc(6);yy.range;d0.range;Gte.range;Kte.range;Yu.range;Yte.range;Wte.range;function Ic(t){return Pn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/G2)}const xy=Ic(0),h0=Ic(1),Xte=Ic(2),Qte=Ic(3),Wu=Ic(4),Zte=Ic(5),Jte=Ic(6);xy.range;h0.range;Xte.range;Qte.range;Wu.range;Zte.range;Jte.range;const Q2=Pn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Q2.range;const Z2=Pn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Z2.range;const Fs=Pn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Fs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Fs.range;const qs=Pn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());qs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Pn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});qs.range;function O3(t,e,n,r,a,s){const c=[[tc,1,As],[tc,5,5*As],[tc,15,15*As],[tc,30,30*As],[s,1,ka],[s,5,5*ka],[s,15,15*ka],[s,30,30*ka],[a,1,Ts],[a,3,3*Ts],[a,6,6*Ts],[a,12,12*Ts],[r,1,Bs],[r,2,2*Bs],[n,1,G2],[e,1,L5],[e,3,3*L5],[t,1,u1]];function u(f,m,g){const x=m<f;x&&([f,m]=[m,f]);const v=g&&typeof g.range=="function"?g:h(f,m,g),j=v?v.range(f,+m+1):[];return x?j.reverse():j}function h(f,m,g){const x=Math.abs(m-f)/g,v=O2(([,,_])=>_).right(c,x);if(v===c.length)return t.every(Iw(f/u1,m/u1,g));if(v===0)return u0.every(Math.max(Iw(f,m,g),1));const[j,w]=c[x/c[v-1][2]<c[v][2]/x?v-1:v];return j.every(w)}return[u,h]}const[ene,tne]=O3(qs,Z2,xy,R3,X2,Y2),[nne,rne]=O3(Fs,Q2,yy,Yf,W2,K2);function d1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function h1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Th(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ane(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,s=t.days,c=t.shortDays,u=t.months,h=t.shortMonths,f=Ch(a),m=kh(a),g=Ch(s),x=kh(s),v=Ch(c),j=kh(c),w=Ch(u),_=kh(u),E=Ch(h),S=kh(h),C={a:Y,A:te,b:Z,B:ge,c:null,d:q5,e:q5,f:Ane,g:Lne,G:Une,H:jne,I:Ene,j:Sne,L:D3,m:Tne,M:Cne,p:L,q:F,Q:G5,s:K5,S:kne,u:Ine,U:Rne,V:One,w:Dne,W:Pne,x:null,X:null,y:Mne,Y:zne,Z:Vne,"%":H5},V={a:se,A:le,b:ue,B:Re,c:null,d:$5,e:$5,f:$ne,g:ere,G:nre,H:Bne,I:Fne,j:qne,L:M3,m:Hne,M:Gne,p:Ee,q:re,Q:G5,s:K5,S:Kne,u:Yne,U:Wne,V:Xne,w:Qne,W:Zne,x:null,X:null,y:Jne,Y:tre,Z:rre,"%":H5},k={a:G,A:H,b:D,B,c:I,d:B5,e:B5,f:bne,g:V5,G:U5,H:F5,I:F5,j:gne,L:vne,m:pne,M:yne,p:U,q:mne,Q:_ne,s:Nne,S:xne,u:cne,U:une,V:dne,w:lne,W:hne,x:J,X:q,y:V5,Y:U5,Z:fne,"%":wne};C.x=$(n,C),C.X=$(r,C),C.c=$(e,C),V.x=$(n,V),V.X=$(r,V),V.c=$(e,V);function $(oe,ze){return function(Be){var Ce=[],ht=-1,P=0,ve=oe.length,fe,W,X;for(Be instanceof Date||(Be=new Date(+Be));++ht<ve;)oe.charCodeAt(ht)===37&&(Ce.push(oe.slice(P,ht)),(W=z5[fe=oe.charAt(++ht)])!=null?fe=oe.charAt(++ht):W=fe==="e"?" ":"0",(X=ze[fe])&&(fe=X(Be,W)),Ce.push(fe),P=ht+1);return Ce.push(oe.slice(P,ht)),Ce.join("")}}function O(oe,ze){return function(Be){var Ce=Th(1900,void 0,1),ht=M(Ce,oe,Be+="",0),P,ve;if(ht!=Be.length)return null;if("Q"in Ce)return new Date(Ce.Q);if("s"in Ce)return new Date(Ce.s*1e3+("L"in Ce?Ce.L:0));if(ze&&!("Z"in Ce)&&(Ce.Z=0),"p"in Ce&&(Ce.H=Ce.H%12+Ce.p*12),Ce.m===void 0&&(Ce.m="q"in Ce?Ce.q:0),"V"in Ce){if(Ce.V<1||Ce.V>53)return null;"w"in Ce||(Ce.w=1),"Z"in Ce?(P=h1(Th(Ce.y,0,1)),ve=P.getUTCDay(),P=ve>4||ve===0?h0.ceil(P):h0(P),P=gy.offset(P,(Ce.V-1)*7),Ce.y=P.getUTCFullYear(),Ce.m=P.getUTCMonth(),Ce.d=P.getUTCDate()+(Ce.w+6)%7):(P=d1(Th(Ce.y,0,1)),ve=P.getDay(),P=ve>4||ve===0?d0.ceil(P):d0(P),P=Yf.offset(P,(Ce.V-1)*7),Ce.y=P.getFullYear(),Ce.m=P.getMonth(),Ce.d=P.getDate()+(Ce.w+6)%7)}else("W"in Ce||"U"in Ce)&&("w"in Ce||(Ce.w="u"in Ce?Ce.u%7:"W"in Ce?1:0),ve="Z"in Ce?h1(Th(Ce.y,0,1)).getUTCDay():d1(Th(Ce.y,0,1)).getDay(),Ce.m=0,Ce.d="W"in Ce?(Ce.w+6)%7+Ce.W*7-(ve+5)%7:Ce.w+Ce.U*7-(ve+6)%7);return"Z"in Ce?(Ce.H+=Ce.Z/100|0,Ce.M+=Ce.Z%100,h1(Ce)):d1(Ce)}}function M(oe,ze,Be,Ce){for(var ht=0,P=ze.length,ve=Be.length,fe,W;ht<P;){if(Ce>=ve)return-1;if(fe=ze.charCodeAt(ht++),fe===37){if(fe=ze.charAt(ht++),W=k[fe in z5?ze.charAt(ht++):fe],!W||(Ce=W(oe,Be,Ce))<0)return-1}else if(fe!=Be.charCodeAt(Ce++))return-1}return Ce}function U(oe,ze,Be){var Ce=f.exec(ze.slice(Be));return Ce?(oe.p=m.get(Ce[0].toLowerCase()),Be+Ce[0].length):-1}function G(oe,ze,Be){var Ce=v.exec(ze.slice(Be));return Ce?(oe.w=j.get(Ce[0].toLowerCase()),Be+Ce[0].length):-1}function H(oe,ze,Be){var Ce=g.exec(ze.slice(Be));return Ce?(oe.w=x.get(Ce[0].toLowerCase()),Be+Ce[0].length):-1}function D(oe,ze,Be){var Ce=E.exec(ze.slice(Be));return Ce?(oe.m=S.get(Ce[0].toLowerCase()),Be+Ce[0].length):-1}function B(oe,ze,Be){var Ce=w.exec(ze.slice(Be));return Ce?(oe.m=_.get(Ce[0].toLowerCase()),Be+Ce[0].length):-1}function I(oe,ze,Be){return M(oe,e,ze,Be)}function J(oe,ze,Be){return M(oe,n,ze,Be)}function q(oe,ze,Be){return M(oe,r,ze,Be)}function Y(oe){return c[oe.getDay()]}function te(oe){return s[oe.getDay()]}function Z(oe){return h[oe.getMonth()]}function ge(oe){return u[oe.getMonth()]}function L(oe){return a[+(oe.getHours()>=12)]}function F(oe){return 1+~~(oe.getMonth()/3)}function se(oe){return c[oe.getUTCDay()]}function le(oe){return s[oe.getUTCDay()]}function ue(oe){return h[oe.getUTCMonth()]}function Re(oe){return u[oe.getUTCMonth()]}function Ee(oe){return a[+(oe.getUTCHours()>=12)]}function re(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var ze=$(oe+="",C);return ze.toString=function(){return oe},ze},parse:function(oe){var ze=O(oe+="",!1);return ze.toString=function(){return oe},ze},utcFormat:function(oe){var ze=$(oe+="",V);return ze.toString=function(){return oe},ze},utcParse:function(oe){var ze=O(oe+="",!0);return ze.toString=function(){return oe},ze}}}var z5={"-":"",_:" ",0:"0"},Hn=/^\s*\d+/,ine=/^%/,sne=/[\\^$*+?|[\]().{}]/g;function At(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",s=a.length;return r+(s<n?new Array(n-s+1).join(e)+a:a)}function one(t){return t.replace(sne,"\\$&")}function Ch(t){return new RegExp("^(?:"+t.map(one).join("|")+")","i")}function kh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function lne(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function cne(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function une(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function dne(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function hne(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function U5(t,e,n){var r=Hn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function V5(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function fne(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mne(t,e,n){var r=Hn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function pne(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function B5(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function gne(t,e,n){var r=Hn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function F5(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function yne(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function xne(t,e,n){var r=Hn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function vne(t,e,n){var r=Hn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bne(t,e,n){var r=Hn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function wne(t,e,n){var r=ine.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _ne(t,e,n){var r=Hn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Nne(t,e,n){var r=Hn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function q5(t,e){return At(t.getDate(),e,2)}function jne(t,e){return At(t.getHours(),e,2)}function Ene(t,e){return At(t.getHours()%12||12,e,2)}function Sne(t,e){return At(1+Yf.count(Fs(t),t),e,3)}function D3(t,e){return At(t.getMilliseconds(),e,3)}function Ane(t,e){return D3(t,e)+"000"}function Tne(t,e){return At(t.getMonth()+1,e,2)}function Cne(t,e){return At(t.getMinutes(),e,2)}function kne(t,e){return At(t.getSeconds(),e,2)}function Ine(t){var e=t.getDay();return e===0?7:e}function Rne(t,e){return At(yy.count(Fs(t)-1,t),e,2)}function P3(t){var e=t.getDay();return e>=4||e===0?Yu(t):Yu.ceil(t)}function One(t,e){return t=P3(t),At(Yu.count(Fs(t),t)+(Fs(t).getDay()===4),e,2)}function Dne(t){return t.getDay()}function Pne(t,e){return At(d0.count(Fs(t)-1,t),e,2)}function Mne(t,e){return At(t.getFullYear()%100,e,2)}function Lne(t,e){return t=P3(t),At(t.getFullYear()%100,e,2)}function zne(t,e){return At(t.getFullYear()%1e4,e,4)}function Une(t,e){var n=t.getDay();return t=n>=4||n===0?Yu(t):Yu.ceil(t),At(t.getFullYear()%1e4,e,4)}function Vne(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+At(e/60|0,"0",2)+At(e%60,"0",2)}function $5(t,e){return At(t.getUTCDate(),e,2)}function Bne(t,e){return At(t.getUTCHours(),e,2)}function Fne(t,e){return At(t.getUTCHours()%12||12,e,2)}function qne(t,e){return At(1+gy.count(qs(t),t),e,3)}function M3(t,e){return At(t.getUTCMilliseconds(),e,3)}function $ne(t,e){return M3(t,e)+"000"}function Hne(t,e){return At(t.getUTCMonth()+1,e,2)}function Gne(t,e){return At(t.getUTCMinutes(),e,2)}function Kne(t,e){return At(t.getUTCSeconds(),e,2)}function Yne(t){var e=t.getUTCDay();return e===0?7:e}function Wne(t,e){return At(xy.count(qs(t)-1,t),e,2)}function L3(t){var e=t.getUTCDay();return e>=4||e===0?Wu(t):Wu.ceil(t)}function Xne(t,e){return t=L3(t),At(Wu.count(qs(t),t)+(qs(t).getUTCDay()===4),e,2)}function Qne(t){return t.getUTCDay()}function Zne(t,e){return At(h0.count(qs(t)-1,t),e,2)}function Jne(t,e){return At(t.getUTCFullYear()%100,e,2)}function ere(t,e){return t=L3(t),At(t.getUTCFullYear()%100,e,2)}function tre(t,e){return At(t.getUTCFullYear()%1e4,e,4)}function nre(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Wu(t):Wu.ceil(t),At(t.getUTCFullYear()%1e4,e,4)}function rre(){return"+0000"}function H5(){return"%"}function G5(t){return+t}function K5(t){return Math.floor(+t/1e3)}var wu,z3,U3;are({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function are(t){return wu=ane(t),z3=wu.format,wu.parse,U3=wu.utcFormat,wu.utcParse,wu}function ire(t){return new Date(t)}function sre(t){return t instanceof Date?+t:+new Date(+t)}function J2(t,e,n,r,a,s,c,u,h,f){var m=U2(),g=m.invert,x=m.domain,v=f(".%L"),j=f(":%S"),w=f("%I:%M"),_=f("%I %p"),E=f("%a %d"),S=f("%b %d"),C=f("%B"),V=f("%Y");function k($){return(h($)<$?v:u($)<$?j:c($)<$?w:s($)<$?_:r($)<$?a($)<$?E:S:n($)<$?C:V)($)}return m.invert=function($){return new Date(g($))},m.domain=function($){return arguments.length?x(Array.from($,sre)):x().map(ire)},m.ticks=function($){var O=x();return t(O[0],O[O.length-1],$??10)},m.tickFormat=function($,O){return O==null?k:f(O)},m.nice=function($){var O=x();return(!$||typeof $.range!="function")&&($=e(O[0],O[O.length-1],$??10)),$?x(E3(O,$)):m},m.copy=function(){return Kf(m,J2(t,e,n,r,a,s,c,u,h,f))},m}function ore(){return Fa.apply(J2(nne,rne,Fs,Q2,yy,Yf,W2,K2,tc,z3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lre(){return Fa.apply(J2(ene,tne,qs,Z2,xy,gy,X2,Y2,tc,U3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vy(){var t=0,e=1,n,r,a,s,c=jr,u=!1,h;function f(g){return g==null||isNaN(g=+g)?h:c(a===0?.5:(g=(s(g)-n)*a,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([t,e]=g,n=s(t=+t),r=s(e=+e),a=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(c=g,f):c};function m(g){return function(x){var v,j;return arguments.length?([v,j]=x,c=g(v,j),f):[c(0),c(1)]}}return f.range=m(fd),f.rangeRound=m(z2),f.unknown=function(g){return arguments.length?(h=g,f):h},function(g){return s=g,n=g(t),r=g(e),a=n===r?0:1/(r-n),f}}function dl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function V3(){var t=ul(vy()(jr));return t.copy=function(){return dl(t,V3())},Qs.apply(t,arguments)}function B3(){var t=F2(vy()).domain([1,10]);return t.copy=function(){return dl(t,B3()).base(t.base())},Qs.apply(t,arguments)}function F3(){var t=q2(vy());return t.copy=function(){return dl(t,F3()).constant(t.constant())},Qs.apply(t,arguments)}function eN(){var t=$2(vy());return t.copy=function(){return dl(t,eN()).exponent(t.exponent())},Qs.apply(t,arguments)}function cre(){return eN.apply(null,arguments).exponent(.5)}function q3(){var t=[],e=jr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Hf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let a of r)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Wo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,a)=>e(a/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,s)=>Yee(t,s/r))},n.copy=function(){return q3(e).domain(t)},Qs.apply(n,arguments)}function by(){var t=0,e=.5,n=1,r=1,a,s,c,u,h,f=jr,m,g=!1,x;function v(w){return isNaN(w=+w)?x:(w=.5+((w=+m(w))-s)*(r*w<r*s?u:h),f(g?Math.max(0,Math.min(1,w)):w))}v.domain=function(w){return arguments.length?([t,e,n]=w,a=m(t=+t),s=m(e=+e),c=m(n=+n),u=a===s?0:.5/(s-a),h=s===c?0:.5/(c-s),r=s<a?-1:1,v):[t,e,n]},v.clamp=function(w){return arguments.length?(g=!!w,v):g},v.interpolator=function(w){return arguments.length?(f=w,v):f};function j(w){return function(_){var E,S,C;return arguments.length?([E,S,C]=_,f=wte(w,[E,S,C]),v):[f(0),f(.5),f(1)]}}return v.range=j(fd),v.rangeRound=j(z2),v.unknown=function(w){return arguments.length?(x=w,v):x},function(w){return m=w,a=w(t),s=w(e),c=w(n),u=a===s?0:.5/(s-a),h=s===c?0:.5/(c-s),r=s<a?-1:1,v}}function $3(){var t=ul(by()(jr));return t.copy=function(){return dl(t,$3())},Qs.apply(t,arguments)}function H3(){var t=F2(by()).domain([.1,1,10]);return t.copy=function(){return dl(t,H3()).base(t.base())},Qs.apply(t,arguments)}function G3(){var t=q2(by());return t.copy=function(){return dl(t,G3()).constant(t.constant())},Qs.apply(t,arguments)}function tN(){var t=$2(by());return t.copy=function(){return dl(t,tN()).exponent(t.exponent())},Qs.apply(t,arguments)}function ure(){return tN.apply(null,arguments).exponent(.5)}const Uh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:P2,scaleDiverging:$3,scaleDivergingLog:H3,scaleDivergingPow:tN,scaleDivergingSqrt:ure,scaleDivergingSymlog:G3,scaleIdentity:j3,scaleImplicit:Rw,scaleLinear:N3,scaleLog:S3,scaleOrdinal:D2,scalePoint:Qee,scalePow:H2,scaleQuantile:C3,scaleQuantize:k3,scaleRadial:T3,scaleSequential:V3,scaleSequentialLog:B3,scaleSequentialPow:eN,scaleSequentialQuantile:q3,scaleSequentialSqrt:cre,scaleSequentialSymlog:F3,scaleSqrt:$te,scaleSymlog:A3,scaleThreshold:I3,scaleTime:ore,scaleUtc:lre,tickFormat:_3},Symbol.toStringTag,{value:"Module"}));var hl=t=>t.chartData,dre=Ne([hl],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),nN=(t,e,n,r)=>r?dre(t):hl(t);function Xu(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(ui(e)&&ui(n))return!0}return!1}function Y5(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function hre(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,a,s;if(ui(n))a=n;else if(typeof n=="function")return;if(ui(r))s=r;else if(typeof r=="function")return;var c=[a,s];if(Xu(c))return c}}function fre(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Xu(r))return Y5(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[a,s]=t,c,u;if(a==="auto")e!=null&&(c=Math.min(...e));else if(at(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e?.[0]))}catch{}else if(typeof a=="string"&&Vk.test(a)){var h=Vk.exec(a);if(h==null||e==null)c=void 0;else{var f=+h[1];c=e[0]-f}}else c=e?.[0];if(s==="auto")e!=null&&(u=Math.max(...e));else if(at(s))u=s;else if(typeof s=="function")try{e!=null&&(u=s(e?.[1]))}catch{}else if(typeof s=="string"&&Bk.test(s)){var m=Bk.exec(s);if(m==null||e==null)u=void 0;else{var g=+m[1];u=e[1]+g}}else u=e?.[1];var x=[c,u];if(Xu(x))return e==null?x:Y5(x,e,n)}}}var md=1e9,mre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aN,an=!0,Ua="[DecimalError] ",cc=Ua+"Invalid argument: ",rN=Ua+"Exponent out of range: ",pd=Math.floor,Gl=Math.pow,pre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ra,Fn=1e7,Wt=7,K3=9007199254740991,f0=pd(K3/Wt),Ge={};Ge.absoluteValue=Ge.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ge.comparedTo=Ge.cmp=function(t){var e,n,r,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,a=t.d.length,e=0,n=r<a?r:a;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===a?0:r>a^s.s<0?1:-1};Ge.decimalPlaces=Ge.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Wt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ge.dividedBy=Ge.div=function(t){return Ds(this,new this.constructor(t))};Ge.dividedToIntegerBy=Ge.idiv=function(t){var e=this,n=e.constructor;return qt(Ds(e,new n(t),0,1),n.precision)};Ge.equals=Ge.eq=function(t){return!this.cmp(t)};Ge.exponent=function(){return Tn(this)};Ge.greaterThan=Ge.gt=function(t){return this.cmp(t)>0};Ge.greaterThanOrEqualTo=Ge.gte=function(t){return this.cmp(t)>=0};Ge.isInteger=Ge.isint=function(){return this.e>this.d.length-2};Ge.isNegative=Ge.isneg=function(){return this.s<0};Ge.isPositive=Ge.ispos=function(){return this.s>0};Ge.isZero=function(){return this.s===0};Ge.lessThan=Ge.lt=function(t){return this.cmp(t)<0};Ge.lessThanOrEqualTo=Ge.lte=function(t){return this.cmp(t)<1};Ge.logarithm=Ge.log=function(t){var e,n=this,r=n.constructor,a=r.precision,s=a+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ra))throw Error(Ua+"NaN");if(n.s<1)throw Error(Ua+(n.s?"NaN":"-Infinity"));return n.eq(ra)?new r(0):(an=!1,e=Ds(wf(n,s),wf(t,s),s),an=!0,qt(e,a))};Ge.minus=Ge.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?X3(e,t):Y3(e,(t.s=-t.s,t))};Ge.modulo=Ge.mod=function(t){var e,n=this,r=n.constructor,a=r.precision;if(t=new r(t),!t.s)throw Error(Ua+"NaN");return n.s?(an=!1,e=Ds(n,t,0,1).times(t),an=!0,n.minus(e)):qt(new r(n),a)};Ge.naturalExponential=Ge.exp=function(){return W3(this)};Ge.naturalLogarithm=Ge.ln=function(){return wf(this)};Ge.negated=Ge.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ge.plus=Ge.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Y3(e,t):X3(e,(t.s=-t.s,t))};Ge.precision=Ge.sd=function(t){var e,n,r,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(cc+t);if(e=Tn(a)+1,r=a.d.length-1,n=r*Wt+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ge.squareRoot=Ge.sqrt=function(){var t,e,n,r,a,s,c,u=this,h=u.constructor;if(u.s<1){if(!u.s)return new h(0);throw Error(Ua+"NaN")}for(t=Tn(u),an=!1,a=Math.sqrt(+u),a==0||a==1/0?(e=Li(u.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=pd((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new h(e)):r=new h(a.toString()),n=h.precision,a=c=n+3;;)if(s=r,r=s.plus(Ds(u,s,c+2)).times(.5),Li(s.d).slice(0,c)===(e=Li(r.d)).slice(0,c)){if(e=e.slice(c-3,c+1),a==c&&e=="4999"){if(qt(s,n+1,0),s.times(s).eq(u)){r=s;break}}else if(e!="9999")break;c+=4}return an=!0,qt(r,n)};Ge.times=Ge.mul=function(t){var e,n,r,a,s,c,u,h,f,m=this,g=m.constructor,x=m.d,v=(t=new g(t)).d;if(!m.s||!t.s)return new g(0);for(t.s*=m.s,n=m.e+t.e,h=x.length,f=v.length,h<f&&(s=x,x=v,v=s,c=h,h=f,f=c),s=[],c=h+f,r=c;r--;)s.push(0);for(r=f;--r>=0;){for(e=0,a=h+r;a>r;)u=s[a]+v[r]*x[a-r-1]+e,s[a--]=u%Fn|0,e=u/Fn|0;s[a]=(s[a]+e)%Fn|0}for(;!s[--c];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,an?qt(t,g.precision):t};Ge.toDecimalPlaces=Ge.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Xi(t,0,md),e===void 0?e=r.rounding:Xi(e,0,8),qt(n,t+Tn(n)+1,e))};Ge.toExponential=function(t,e){var n,r=this,a=r.constructor;return t===void 0?n=wc(r,!0):(Xi(t,0,md),e===void 0?e=a.rounding:Xi(e,0,8),r=qt(new a(r),t+1,e),n=wc(r,!0,t+1)),n};Ge.toFixed=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?wc(a):(Xi(t,0,md),e===void 0?e=s.rounding:Xi(e,0,8),r=qt(new s(a),t+Tn(a)+1,e),n=wc(r.abs(),!1,t+Tn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ge.toInteger=Ge.toint=function(){var t=this,e=t.constructor;return qt(new e(t),Tn(t)+1,e.rounding)};Ge.toNumber=function(){return+this};Ge.toPower=Ge.pow=function(t){var e,n,r,a,s,c,u=this,h=u.constructor,f=12,m=+(t=new h(t));if(!t.s)return new h(ra);if(u=new h(u),!u.s){if(t.s<1)throw Error(Ua+"Infinity");return u}if(u.eq(ra))return u;if(r=h.precision,t.eq(ra))return qt(u,r);if(e=t.e,n=t.d.length-1,c=e>=n,s=u.s,c){if((n=m<0?-m:m)<=K3){for(a=new h(ra),e=Math.ceil(r/Wt+4),an=!1;n%2&&(a=a.times(u),X5(a.d,e)),n=pd(n/2),n!==0;)u=u.times(u),X5(u.d,e);return an=!0,t.s<0?new h(ra).div(a):qt(a,r)}}else if(s<0)throw Error(Ua+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,an=!1,a=t.times(wf(u,r+f)),an=!0,a=W3(a),a.s=s,a};Ge.toPrecision=function(t,e){var n,r,a=this,s=a.constructor;return t===void 0?(n=Tn(a),r=wc(a,n<=s.toExpNeg||n>=s.toExpPos)):(Xi(t,1,md),e===void 0?e=s.rounding:Xi(e,0,8),a=qt(new s(a),t,e),n=Tn(a),r=wc(a,t<=n||n<=s.toExpNeg,t)),r};Ge.toSignificantDigits=Ge.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Xi(t,1,md),e===void 0?e=r.rounding:Xi(e,0,8)),qt(new r(n),t,e)};Ge.toString=Ge.valueOf=Ge.val=Ge.toJSON=Ge[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Tn(t),n=t.constructor;return wc(t,e<=n.toExpNeg||e>=n.toExpPos)};function Y3(t,e){var n,r,a,s,c,u,h,f,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s||(e=new m(t)),an?qt(e,g):e;if(h=t.d,f=e.d,c=t.e,a=e.e,h=h.slice(),s=c-a,s){for(s<0?(r=h,s=-s,u=f.length):(r=f,a=c,u=h.length),c=Math.ceil(g/Wt),u=c>u?c+1:u+1,s>u&&(s=u,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(u=h.length,s=f.length,u-s<0&&(s=u,r=f,f=h,h=r),n=0;s;)n=(h[--s]=h[s]+f[s]+n)/Fn|0,h[s]%=Fn;for(n&&(h.unshift(n),++a),u=h.length;h[--u]==0;)h.pop();return e.d=h,e.e=a,an?qt(e,g):e}function Xi(t,e,n){if(t!==~~t||t<e||t>n)throw Error(cc+t)}function Li(t){var e,n,r,a=t.length-1,s="",c=t[0];if(a>0){for(s+=c,e=1;e<a;e++)r=t[e]+"",n=Wt-r.length,n&&(s+=Mo(n)),s+=r;c=t[e],r=c+"",n=Wt-r.length,n&&(s+=Mo(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return s+c}var Ds=(function(){function t(r,a){var s,c=0,u=r.length;for(r=r.slice();u--;)s=r[u]*a+c,r[u]=s%Fn|0,c=s/Fn|0;return c&&r.unshift(c),r}function e(r,a,s,c){var u,h;if(s!=c)h=s>c?1:-1;else for(u=h=0;u<s;u++)if(r[u]!=a[u]){h=r[u]>a[u]?1:-1;break}return h}function n(r,a,s){for(var c=0;s--;)r[s]-=c,c=r[s]<a[s]?1:0,r[s]=c*Fn+r[s]-a[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,s,c){var u,h,f,m,g,x,v,j,w,_,E,S,C,V,k,$,O,M,U=r.constructor,G=r.s==a.s?1:-1,H=r.d,D=a.d;if(!r.s)return new U(r);if(!a.s)throw Error(Ua+"Division by zero");for(h=r.e-a.e,O=D.length,k=H.length,v=new U(G),j=v.d=[],f=0;D[f]==(H[f]||0);)++f;if(D[f]>(H[f]||0)&&--h,s==null?S=s=U.precision:c?S=s+(Tn(r)-Tn(a))+1:S=s,S<0)return new U(0);if(S=S/Wt+2|0,f=0,O==1)for(m=0,D=D[0],S++;(f<k||m)&&S--;f++)C=m*Fn+(H[f]||0),j[f]=C/D|0,m=C%D|0;else{for(m=Fn/(D[0]+1)|0,m>1&&(D=t(D,m),H=t(H,m),O=D.length,k=H.length),V=O,w=H.slice(0,O),_=w.length;_<O;)w[_++]=0;M=D.slice(),M.unshift(0),$=D[0],D[1]>=Fn/2&&++$;do m=0,u=e(D,w,O,_),u<0?(E=w[0],O!=_&&(E=E*Fn+(w[1]||0)),m=E/$|0,m>1?(m>=Fn&&(m=Fn-1),g=t(D,m),x=g.length,_=w.length,u=e(g,w,x,_),u==1&&(m--,n(g,O<x?M:D,x))):(m==0&&(u=m=1),g=D.slice()),x=g.length,x<_&&g.unshift(0),n(w,g,_),u==-1&&(_=w.length,u=e(D,w,O,_),u<1&&(m++,n(w,O<_?M:D,_))),_=w.length):u===0&&(m++,w=[0]),j[f++]=m,u&&w[0]?w[_++]=H[V]||0:(w=[H[V]],_=1);while((V++<k||w[0]!==void 0)&&S--)}return j[0]||j.shift(),v.e=h,qt(v,c?s+Tn(v)+1:s)}})();function W3(t,e){var n,r,a,s,c,u,h=0,f=0,m=t.constructor,g=m.precision;if(Tn(t)>16)throw Error(rN+Tn(t));if(!t.s)return new m(ra);for(an=!1,u=g,c=new m(.03125);t.abs().gte(.1);)t=t.times(c),f+=5;for(r=Math.log(Gl(2,f))/Math.LN10*2+5|0,u+=r,n=a=s=new m(ra),m.precision=u;;){if(a=qt(a.times(t),u),n=n.times(++h),c=s.plus(Ds(a,n,u)),Li(c.d).slice(0,u)===Li(s.d).slice(0,u)){for(;f--;)s=qt(s.times(s),u);return m.precision=g,e==null?(an=!0,qt(s,g)):s}s=c}}function Tn(t){for(var e=t.e*Wt,n=t.d[0];n>=10;n/=10)e++;return e}function f1(t,e,n){if(e>t.LN10.sd())throw an=!0,n&&(t.precision=n),Error(Ua+"LN10 precision limit exceeded");return qt(new t(t.LN10),e)}function Mo(t){for(var e="";t--;)e+="0";return e}function wf(t,e){var n,r,a,s,c,u,h,f,m,g=1,x=10,v=t,j=v.d,w=v.constructor,_=w.precision;if(v.s<1)throw Error(Ua+(v.s?"NaN":"-Infinity"));if(v.eq(ra))return new w(0);if(e==null?(an=!1,f=_):f=e,v.eq(10))return e==null&&(an=!0),f1(w,f);if(f+=x,w.precision=f,n=Li(j),r=n.charAt(0),s=Tn(v),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(t),n=Li(v.d),r=n.charAt(0),g++;s=Tn(v),r>1?(v=new w("0."+n),s++):v=new w(r+"."+n.slice(1))}else return h=f1(w,f+2,_).times(s+""),v=wf(new w(r+"."+n.slice(1)),f-x).plus(h),w.precision=_,e==null?(an=!0,qt(v,_)):v;for(u=c=v=Ds(v.minus(ra),v.plus(ra),f),m=qt(v.times(v),f),a=3;;){if(c=qt(c.times(m),f),h=u.plus(Ds(c,new w(a),f)),Li(h.d).slice(0,f)===Li(u.d).slice(0,f))return u=u.times(2),s!==0&&(u=u.plus(f1(w,f+2,_).times(s+""))),u=Ds(u,new w(g),f),w.precision=_,e==null?(an=!0,qt(u,_)):u;u=h,a+=2}}function W5(t,e){var n,r,a;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(r,a),e){if(a-=r,n=n-r-1,t.e=pd(n/Wt),t.d=[],r=(n+1)%Wt,n<0&&(r+=Wt),r<a){for(r&&t.d.push(+e.slice(0,r)),a-=Wt;r<a;)t.d.push(+e.slice(r,r+=Wt));e=e.slice(r),r=Wt-e.length}else r-=a;for(;r--;)e+="0";if(t.d.push(+e),an&&(t.e>f0||t.e<-f0))throw Error(rN+n)}else t.s=0,t.e=0,t.d=[0];return t}function qt(t,e,n){var r,a,s,c,u,h,f,m,g=t.d;for(c=1,s=g[0];s>=10;s/=10)c++;if(r=e-c,r<0)r+=Wt,a=e,f=g[m=0];else{if(m=Math.ceil((r+1)/Wt),s=g.length,m>=s)return t;for(f=s=g[m],c=1;s>=10;s/=10)c++;r%=Wt,a=r-Wt+c}if(n!==void 0&&(s=Gl(10,c-a-1),u=f/s%10|0,h=e<0||g[m+1]!==void 0||f%s,h=n<4?(u||h)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||h||n==6&&(r>0?a>0?f/Gl(10,c-a):0:g[m-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return h?(s=Tn(t),g.length=1,e=e-s-1,g[0]=Gl(10,(Wt-e%Wt)%Wt),t.e=pd(-e/Wt)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=m,s=1,m--):(g.length=m+1,s=Gl(10,Wt-r),g[m]=a>0?(f/Gl(10,c-a)%Gl(10,a)|0)*s:0),h)for(;;)if(m==0){(g[0]+=s)==Fn&&(g[0]=1,++t.e);break}else{if(g[m]+=s,g[m]!=Fn)break;g[m--]=0,s=1}for(r=g.length;g[--r]===0;)g.pop();if(an&&(t.e>f0||t.e<-f0))throw Error(rN+Tn(t));return t}function X3(t,e){var n,r,a,s,c,u,h,f,m,g,x=t.constructor,v=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),an?qt(e,v):e;if(h=t.d,g=e.d,r=e.e,f=t.e,h=h.slice(),c=f-r,c){for(m=c<0,m?(n=h,c=-c,u=g.length):(n=g,r=f,u=h.length),a=Math.max(Math.ceil(v/Wt),u)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=h.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(h[a]!=g[a]){m=h[a]<g[a];break}c=0}for(m&&(n=h,h=g,g=n,e.s=-e.s),u=h.length,a=g.length-u;a>0;--a)h[u++]=0;for(a=g.length;a>c;){if(h[--a]<g[a]){for(s=a;s&&h[--s]===0;)h[s]=Fn-1;--h[s],h[a]+=Fn}h[a]-=g[a]}for(;h[--u]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(e.d=h,e.e=r,an?qt(e,v):e):new x(0)}function wc(t,e,n){var r,a=Tn(t),s=Li(t.d),c=s.length;return e?(n&&(r=n-c)>0?s=s.charAt(0)+"."+s.slice(1)+Mo(r):c>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Mo(-a-1)+s,n&&(r=n-c)>0&&(s+=Mo(r))):a>=c?(s+=Mo(a+1-c),n&&(r=n-a-1)>0&&(s=s+"."+Mo(r))):((r=a+1)<c&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(s+="."),s+=Mo(r))),t.s<0?"-"+s:s}function X5(t,e){if(t.length>e)return t.length=e,!0}function Q3(t){var e,n,r;function a(s){var c=this;if(!(c instanceof a))return new a(s);if(c.constructor=a,s instanceof a){c.s=s.s,c.e=s.e,c.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(cc+s);if(s>0)c.s=1;else if(s<0)s=-s,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(s===~~s&&s<1e7){c.e=0,c.d=[s];return}return W5(c,s.toString())}else if(typeof s!="string")throw Error(cc+s);if(s.charCodeAt(0)===45?(s=s.slice(1),c.s=-1):c.s=1,pre.test(s))W5(c,s);else throw Error(cc+s)}if(a.prototype=Ge,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Q3,a.config=a.set=gre,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return a.config(t),a}function gre(t){if(!t||typeof t!="object")throw Error(Ua+"Object expected");var e,n,r,a=["precision",1,md,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((r=t[n=a[e]])!==void 0)if(pd(r)===r&&r>=a[e+1]&&r<=a[e+2])this[n]=r;else throw Error(cc+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cc+n+": "+r);return this}var aN=Q3(mre);ra=new aN(1);const Lt=aN;var yre=t=>t,Z3={},J3=t=>t===Z3,Q5=t=>function e(){return arguments.length===0||arguments.length===1&&J3(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},eP=(t,e)=>t===1?e:Q5(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var s=r.filter(c=>c!==Z3).length;return s>=t?e(...r):eP(t-s,Q5(function(){for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];var f=r.map(m=>J3(m)?u.shift():m);return e(...f,...u)}))}),wy=t=>eP(t.length,t),Mw=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},xre=wy((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),vre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return yre;var a=n.reverse(),s=a[0],c=a.slice(1);return function(){return c.reduce((u,h)=>h(u),s(...arguments))}},Lw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),tP=t=>{var e=null,n=null;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e&&a.every((c,u)=>{var h;return c===((h=e)===null||h===void 0?void 0:h[u])})||(e=a,n=t(...a)),n}};function nP(t){var e;return t===0?e=1:e=Math.floor(new Lt(t).abs().log(10).toNumber())+1,e}function rP(t,e,n){for(var r=new Lt(t),a=0,s=[];r.lt(e)&&a<1e5;)s.push(r.toNumber()),r=r.add(n),a++;return s}wy((t,e,n)=>{var r=+t,a=+e;return r+n*(a-r)});wy((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});wy((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var aP=t=>{var[e,n]=t,[r,a]=[e,n];return e>n&&([r,a]=[n,e]),[r,a]},iP=(t,e,n)=>{if(t.lte(0))return new Lt(0);var r=nP(t.toNumber()),a=new Lt(10).pow(r),s=t.div(a),c=r!==1?.05:.1,u=new Lt(Math.ceil(s.div(c).toNumber())).add(n).mul(c),h=u.mul(a);return e?new Lt(h.toNumber()):new Lt(Math.ceil(h.toNumber()))},bre=(t,e,n)=>{var r=new Lt(1),a=new Lt(t);if(!a.isint()&&n){var s=Math.abs(t);s<1?(r=new Lt(10).pow(nP(t)-1),a=new Lt(Math.floor(a.div(r).toNumber())).mul(r)):s>1&&(a=new Lt(Math.floor(t)))}else t===0?a=new Lt(Math.floor((e-1)/2)):n||(a=new Lt(Math.floor(t)));var c=Math.floor((e-1)/2),u=vre(xre(h=>a.add(new Lt(h-c).mul(r)).toNumber()),Mw);return u(0,e)},sP=function(e,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Lt(0),tickMin:new Lt(0),tickMax:new Lt(0)};var c=iP(new Lt(n).sub(e).div(r-1),a,s),u;e<=0&&n>=0?u=new Lt(0):(u=new Lt(e).add(n).div(2),u=u.sub(new Lt(u).mod(c)));var h=Math.ceil(u.sub(e).div(c).toNumber()),f=Math.ceil(new Lt(n).sub(u).div(c).toNumber()),m=h+f+1;return m>r?sP(e,n,r,a,s+1):(m<r&&(f=n>0?f+(r-m):f,h=n>0?h:h+(r-m)),{step:c,tickMin:u.sub(new Lt(h).mul(c)),tickMax:u.add(new Lt(f).mul(c))})};function wre(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[c,u]=aP([e,n]);if(c===-1/0||u===1/0){var h=u===1/0?[c,...Mw(0,r-1).map(()=>1/0)]:[...Mw(0,r-1).map(()=>-1/0),u];return e>n?Lw(h):h}if(c===u)return bre(c,r,a);var{step:f,tickMin:m,tickMax:g}=sP(c,u,s,a,0),x=rP(m,g.add(new Lt(.1).mul(f)),f);return e>n?Lw(x):x}function _re(t,e){var[n,r]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,c]=aP([n,r]);if(s===-1/0||c===1/0)return[n,r];if(s===c)return[s];var u=Math.max(e,2),h=iP(new Lt(c).sub(s).div(u-1),a,0),f=[...rP(new Lt(s),new Lt(c),h),c];return a===!1&&(f=f.map(m=>Math.round(m))),n>r?Lw(f):f}var Nre=tP(wre),jre=tP(_re),Ere=t=>t.rootProps.barCategoryGap,_y=t=>t.rootProps.stackOffset,iN=t=>t.options.chartName,sN=t=>t.rootProps.syncId,oP=t=>t.rootProps.syncMethod,oN=t=>t.options.eventEmitter,Ns={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ta={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ny=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Sre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ns.angleAxisId,includeHidden:!1,name:void 0,reversed:Ns.reversed,scale:Ns.scale,tick:Ns.tick,tickCount:void 0,ticks:void 0,type:Ns.type,unit:void 0},Are={allowDataOverflow:ta.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ta.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,ticks:void 0,type:ta.type,unit:void 0},Tre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ns.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ns.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ns.scale,tick:Ns.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Cre={allowDataOverflow:ta.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ta.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ta.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ta.scale,tick:ta.tick,tickCount:ta.tickCount,ticks:void 0,type:"category",unit:void 0},lN=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Tre:Sre,cN=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Cre:Are,jy=t=>t.polarOptions,uN=Ne([Ws,Xs,ir],MZ),lP=Ne([jy,uN],(t,e)=>{if(t!=null)return al(t.innerRadius,e,0)}),cP=Ne([jy,uN],(t,e)=>{if(t!=null)return al(t.outerRadius,e,e*.8)}),kre=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},uP=Ne([jy],kre);Ne([lN,uP],Ny);var dP=Ne([uN,lP,cP],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});Ne([cN,dP],Ny);var hP=Ne([en,jy,lP,cP,Ws,Xs],(t,e,n,r,a,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:c,cy:u,startAngle:h,endAngle:f}=e;return{cx:al(c,a,a/2),cy:al(u,s,s/2),innerRadius:n,outerRadius:r,startAngle:h,endAngle:f,clockWise:!1}}}),kn=(t,e)=>e,Ey=(t,e,n)=>n;function fP(t){return t?.id}var Mn=t=>{var e=en(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},gd=t=>t.tooltip.settings.axisId,Gn=t=>{var e=Mn(t),n=gd(t);return Wf(t,e,n)},mP=Ne([Gn],t=>t?.dataKey);function pP(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:a,dataKey:s}=n,c=new Map;return t.forEach(u=>{var h,f=(h=u.data)!==null&&h!==void 0?h:r;if(!(f==null||f.length===0)){var m=fP(u);f.forEach((g,x)=>{var v=s==null||a?x:String(Sr(g,s,null)),j=Sr(g,u.dataKey,0),w;c.has(v)?w=c.get(v):w={},Object.assign(w,{[m]:j}),c.set(v,w)})}}),Array.from(c.values())}function dN(t){return t.stackId!=null&&t.dataKey!=null}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function m0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(r){Ire(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ire(t,e,n){return(e=Rre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rre(t){var e=Ore(t,"string");return typeof e=="symbol"?e:e+""}function Ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zw=[0,"auto"],Jr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gP=(t,e)=>t.cartesianAxis.xAxis[e],Zs=(t,e)=>{var n=gP(t,e);return n??Jr},ea={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$f},yP=(t,e)=>t.cartesianAxis.yAxis[e],Js=(t,e)=>{var n=yP(t,e);return n??ea},Dre={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hN=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Dre},qr=(t,e,n)=>{switch(e){case"xAxis":return Zs(t,n);case"yAxis":return Js(t,n);case"zAxis":return hN(t,n);case"angleAxis":return lN(t,n);case"radiusAxis":return cN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Pre=(t,e,n)=>{switch(e){case"xAxis":return Zs(t,n);case"yAxis":return Js(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Wf=(t,e,n)=>{switch(e){case"xAxis":return Zs(t,n);case"yAxis":return Js(t,n);case"angleAxis":return lN(t,n);case"radiusAxis":return cN(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},xP=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function vP(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var bP=t=>t.graphicalItems.cartesianItems,Mre=Ne([kn,Ey],vP),wP=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Xf=Ne([bP,qr,Mre],wP),_P=Ne([Xf],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(dN)),NP=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),jP=Ne([Xf],NP),EP=t=>t.map(e=>e.data).filter(Boolean).flat(1),Lre=Ne([Xf],EP),SP=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=e;return t.length>0?t:n.slice(r,a+1)},fN=Ne([Lre,nN],SP),AP=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Sr(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(a=>({value:Sr(a,r)}))):t.map(r=>({value:r})),Sy=Ne([fN,qr,Xf],AP);function TP(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Rc(t){return t.filter(e=>Wi(e)||e instanceof Date).map(Number).filter(e=>La(e)===!1)}function zre(t,e,n){return!n||typeof e!="number"||La(e)?[]:n.length?Rc(n.flatMap(r=>{var a=Sr(t,r.dataKey),s,c;if(Array.isArray(a)?[s,c]=a:s=c=a,!(!ui(s)||!ui(c)))return[e-s,e+c]})):[]}var Ure=Ne([_P,nN,Gn],pP),CP=(t,e,n)=>{var r={},a=e.reduce((s,c)=>(c.stackId==null||(s[c.stackId]==null&&(s[c.stackId]=[]),s[c.stackId].push(c)),s),r);return Object.fromEntries(Object.entries(a).map(s=>{var[c,u]=s,h=u.map(fP);return[c,{stackedData:QZ(t,h,n),graphicalItems:u}]}))},Vre=Ne([Ure,_P,_y],CP),kP=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:a}=e;if(n!=="zAxis"){var s=eJ(t,r,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},Bre=Ne([Vre,hl,kn],kP),IP=(t,e,n,r,a)=>n.length>0?t.flatMap(s=>n.flatMap(c=>{var u,h,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(g=>TP(a,g)),m=Sr(s,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey);return{value:m,errorDomain:zre(s,m,f)}})).filter(Boolean):e?.dataKey!=null?t.map(s=>({value:Sr(s,e.dataKey),errorDomain:[]})):t.map(s=>({value:s,errorDomain:[]})),Ay=t=>t.errorBars,RP=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>TP(n,r));Ne([jP,Ay,kn],RP);var Fre=Ne([fN,qr,jP,Ay,kn],IP);function qre(t){var{value:e}=t;if(Wi(e)||e instanceof Date)return e}var J5=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Rc(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$re=(t,e,n)=>{var r=t.map(qre).filter(a=>a!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&G4(r))?h3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},mN=t=>{var e;if(t==null||!("domain"in t))return zw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Rc(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:zw},p0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var s=a.flat(),c=Math.min(...s),u=Math.max(...s);return[c,u]}},OP=t=>t.referenceElements.dots,yd=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Hre=Ne([OP,kn,Ey],yd),DP=t=>t.referenceElements.areas,Gre=Ne([DP,kn,Ey],yd),PP=t=>t.referenceElements.lines,Kre=Ne([PP,kn,Ey],yd),MP=(t,e)=>{var n=Rc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yre=Ne(Hre,kn,MP),LP=(t,e)=>{var n=Rc(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wre=Ne([Gre,kn],LP),zP=(t,e)=>{var n=Rc(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Xre=Ne(Kre,kn,zP),Qre=Ne(Yre,Xre,Wre,(t,e,n)=>p0(t,n,e)),Zre=Ne([qr],mN),UP=(t,e,n,r,a,s,c)=>{var u=hre(e,t.allowDataOverflow);if(u!=null)return u;var h=s==="vertical"&&c==="xAxis"||s==="horizontal"&&c==="yAxis",f=h?p0(n,a,J5(r)):p0(a,J5(r));return fre(e,f,t.allowDataOverflow)},Jre=Ne([qr,Zre,Bre,Fre,Qre,en,kn],UP),eae=[0,1],VP=(t,e,n,r,a,s,c)=>{if(!((t==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:h}=t,f=cl(e,s);return f&&u==null?h3(0,n.length):h==="category"?$re(r,t,f):a==="expand"?eae:c}},pN=Ne([qr,en,fN,Sy,_y,kn,Jre],VP),BP=(t,e,n,r,a)=>{if(t!=null){var{scale:s,type:c}=t;if(s==="auto")return e==="radial"&&a==="radiusAxis"?"band":e==="radial"&&a==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof s=="string"){var u="scale".concat(v2(s));return u in Uh?u:"point"}}},Qf=Ne([qr,en,xP,iN,kn],BP);function tae(t){if(t!=null){if(t in Uh)return Uh[t]();var e="scale".concat(v2(t));if(e in Uh)return Uh[e]()}}function gN(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var a=tae(e);if(a!=null){var s=a.domain(n).range(r);return KZ(s),s}}}var FP=(t,e,n)=>{var r=mN(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xu(t))return Nre(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Xu(t))return jre(t,e.tickCount,e.allowDecimals)}},yN=Ne([pN,Wf,Qf],FP),qP=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Xu(e)&&Array.isArray(n)&&n.length>0){var a=e[0],s=n[0],c=e[1],u=n[n.length-1];return[Math.min(a,s),Math.max(c,u)]}return e},nae=Ne([qr,pN,yN,kn],qP),rae=Ne(Sy,qr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Rc(t.map(u=>u.value))).sort((u,h)=>u-h);if(r.length<2)return 1/0;var a=r[r.length-1]-r[0];if(a===0)return 1/0;for(var s=0;s<r.length-1;s++){var c=r[s+1]-r[s];n=Math.min(n,c)}return n/a}}),$P=Ne(rae,en,Ere,ir,(t,e,n,r)=>r,(t,e,n,r,a)=>{if(!ui(t))return 0;var s=e==="vertical"?r.height:r.width;if(a==="gap")return t*s/2;if(a==="no-gap"){var c=al(n,t*s),u=t*s/2;return u-c-(u-c)/s*c}return 0}),aae=(t,e)=>{var n=Zs(t,e);return n==null||typeof n.padding!="string"?0:$P(t,"xAxis",e,n.padding)},iae=(t,e)=>{var n=Js(t,e);return n==null||typeof n.padding!="string"?0:$P(t,"yAxis",e,n.padding)},sae=Ne(Zs,aae,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:a}=t;return typeof a=="string"?{left:e,right:e}:{left:((n=a.left)!==null&&n!==void 0?n:0)+e,right:((r=a.right)!==null&&r!==void 0?r:0)+e}}),oae=Ne(Js,iae,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:a}=t;return typeof a=="string"?{top:e,bottom:e}:{top:((n=a.top)!==null&&n!==void 0?n:0)+e,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+e}}),lae=Ne([ir,sae,my,fy,(t,e,n)=>n],(t,e,n,r,a)=>{var{padding:s}=r;return a?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),cae=Ne([ir,en,oae,my,fy,(t,e,n)=>n],(t,e,n,r,a,s)=>{var{padding:c}=a;return s?[r.height-c.bottom,c.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Zf=(t,e,n,r)=>{var a;switch(e){case"xAxis":return lae(t,n,r);case"yAxis":return cae(t,n,r);case"zAxis":return(a=hN(t,n))===null||a===void 0?void 0:a.range;case"angleAxis":return uP(t);case"radiusAxis":return dP(t,n);default:return}},HP=Ne([qr,Zf],Ny),xd=Ne([qr,Qf,nae,HP],gN);Ne([Xf,Ay,kn],RP);function GP(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ty=(t,e)=>e,Cy=(t,e,n)=>n,uae=Ne(dy,Ty,Cy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(GP)),dae=Ne(hy,Ty,Cy,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(GP)),KP=(t,e)=>({width:t.width,height:e.height}),hae=(t,e)=>{var n=typeof e.width=="number"?e.width:$f;return{width:n,height:t.height}},fae=Ne(ir,Zs,KP),mae=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},pae=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},gae=Ne(Xs,ir,uae,Ty,Cy,(t,e,n,r,a)=>{var s={},c;return n.forEach(u=>{var h=KP(e,u);c==null&&(c=mae(e,r,t));var f=r==="top"&&!a||r==="bottom"&&a;s[u.id]=c-Number(f)*h.height,c+=(f?-1:1)*h.height}),s}),yae=Ne(Ws,ir,dae,Ty,Cy,(t,e,n,r,a)=>{var s={},c;return n.forEach(u=>{var h=hae(e,u);c==null&&(c=pae(e,r,t));var f=r==="left"&&!a||r==="right"&&a;s[u.id]=c-Number(f)*h.width,c+=(f?-1:1)*h.width}),s}),xae=(t,e)=>{var n=Zs(t,e);if(n!=null)return gae(t,n.orientation,n.mirror)},vae=Ne([ir,Zs,xae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:t.left,y:0}:{x:t.left,y:a}}}),bae=(t,e)=>{var n=Js(t,e);if(n!=null)return yae(t,n.orientation,n.mirror)},wae=Ne([ir,Js,bae,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var a=n?.[r];return a==null?{x:0,y:t.top}:{x:a,y:t.top}}}),_ae=Ne(ir,Js,(t,e)=>{var n=typeof e.width=="number"?e.width:$f;return{width:n,height:t.height}}),YP=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:s,dataKey:c}=n,u=cl(t,r),h=e.map(f=>f.value);if(c&&u&&s==="category"&&a&&G4(h))return h}},xN=Ne([en,Sy,qr,kn],YP),WP=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:s}=n,c=cl(t,r);if(c&&(a==="number"||s!=="auto"))return e.map(u=>u.value)}},vN=Ne([en,Sy,Wf,kn],WP),eI=Ne([en,Pre,Qf,xd,xN,vN,Zf,yN,kn],(t,e,n,r,a,s,c,u,h)=>{if(e==null)return null;var f=cl(t,h);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:h,categoricalDomain:s,duplicateDomain:a,isCategorical:f,niceTicks:u,range:c,realScaleType:n,scale:r}}),Nae=(t,e,n,r,a,s,c,u,h)=>{if(!(e==null||r==null)){var f=cl(t,h),{type:m,ticks:g,tickCount:x}=e,v=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=m==="category"&&r.bandwidth?r.bandwidth()/v:0;j=h==="angleAxis"&&s!=null&&s.length>=2?Ca(s[0]-s[1])*2*j:j;var w=g||a;if(w){var _=w.map((E,S)=>{var C=c?c.indexOf(E):E;return{index:S,coordinate:r(C)+j,value:E,offset:j}});return _.filter(E=>!La(E.coordinate))}return f&&u?u.map((E,S)=>({coordinate:r(E)+j,value:E,index:S,offset:j})):r.ticks?r.ticks(x).map(E=>({coordinate:r(E)+j,value:E,offset:j})):r.domain().map((E,S)=>({coordinate:r(E)+j,value:c?c[E]:E,index:S,offset:j}))}},XP=Ne([en,Wf,Qf,xd,yN,Zf,xN,vN,kn],Nae),jae=(t,e,n,r,a,s,c)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=cl(t,c),{tickCount:h}=e,f=0;return f=c==="angleAxis"&&r?.length>=2?Ca(r[0]-r[1])*2*f:f,u&&s?s.map((m,g)=>({coordinate:n(m)+f,value:m,index:g,offset:f})):n.ticks?n.ticks(h).map(m=>({coordinate:n(m)+f,value:m,offset:f})):n.domain().map((m,g)=>({coordinate:n(m)+f,value:a?a[m]:m,index:g,offset:f}))}},QP=Ne([en,Wf,xd,Zf,xN,vN,kn],jae),ZP=Ne(qr,xd,(t,e)=>{if(!(t==null||e==null))return m0(m0({},t),{},{scale:e})}),Eae=Ne([qr,Qf,pN,HP],gN);Ne((t,e,n)=>hN(t,n),Eae,(t,e)=>{if(!(t==null||e==null))return m0(m0({},t),{},{scale:e})});var Sae=Ne([en,dy,hy],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JP=t=>t.options.defaultTooltipEventType,eM=t=>t.options.validateTooltipEventTypes;function tM(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function bN(t,e){var n=JP(t),r=eM(t);return tM(e,n,r)}function Aae(t){return Je(e=>bN(e,t))}var nM=(t,e)=>{var n,r=Number(e);if(!(La(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Tae=t=>t.tooltip.settings,qo={active:!1,index:null,dataKey:void 0,coordinate:void 0},Cae={itemInteraction:{click:qo,hover:qo},axisInteraction:{click:qo,hover:qo},keyboardInteraction:qo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},rM=ha({name:"tooltip",initialState:Cae,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=Os(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:kae,removeTooltipEntrySettings:Iae,setTooltipSettingsState:Rae,setActiveMouseOverItemIndex:Oae,mouseLeaveItem:bde,mouseLeaveChart:aM,setActiveClickItemIndex:wde,setMouseOverAxisIndex:iM,setMouseClickAxisIndex:Dae,setSyncInteraction:Uw,setKeyboardInteraction:Vw}=rM.actions,Pae=rM.reducer;function tI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Wp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tI(Object(n),!0).forEach(function(r){Mae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mae(t,e,n){return(e=Lae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lae(t){var e=zae(t,"string");return typeof e=="symbol"?e:e+""}function zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uae(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Vae(t){return t.index!=null}var sM=(t,e,n,r)=>{if(e==null)return qo;var a=Uae(t,e,n);if(a==null)return qo;if(a.active)return a;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Vae(a)){if(s)return Wp(Wp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Wp(Wp({},qo),{},{coordinate:a.coordinate})},wN=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!ui(r))return n;var a=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(a,Math.min(r,s)))},oM=(t,e,n,r,a,s,c,u)=>{if(!(s==null||u==null)){var h=c[0],f=h==null?void 0:u(h.positions,s);if(f!=null)return f;var m=a?.[Number(s)];if(m)switch(n){case"horizontal":return{x:m.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:m.coordinate}}}},lM=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var a;return n==="hover"?a=t.itemInteraction.hover.dataKey:a=t.itemInteraction.click.dataKey,a==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var c;return((c=s.settings)===null||c===void 0?void 0:c.dataKey)===a})},Jf=t=>t.options.tooltipPayloadSearcher,vd=t=>t.tooltip;function nI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function rI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nI(Object(n),!0).forEach(function(r){Bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bae(t,e,n){return(e=Fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fae(t){var e=qae(t,"string");return typeof e=="symbol"?e:e+""}function qae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ae(t,e){return t??e}var cM=(t,e,n,r,a,s,c)=>{if(!(e==null||s==null)){var{chartData:u,computedData:h,dataStartIndex:f,dataEndIndex:m}=n,g=[];return t.reduce((x,v)=>{var j,{dataDefinedOnItem:w,settings:_}=v,E=$ae(w,u),S=Array.isArray(E)?KD(E,f,m):E,C=(j=_?.dataKey)!==null&&j!==void 0?j:r,V=_?.nameKey,k;if(r&&Array.isArray(S)&&!Array.isArray(S[0])&&c==="axis"?k=K4(S,r,a):k=s(S,e,h,V),Array.isArray(k))k.forEach(O=>{var M=rI(rI({},_),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});x.push(Fk({tooltipEntrySettings:M,dataKey:O.dataKey,payload:O.payload,value:Sr(O.payload,O.dataKey),name:O.name}))});else{var $;x.push(Fk({tooltipEntrySettings:_,dataKey:C,payload:k,value:Sr(k,C),name:($=Sr(k,V))!==null&&$!==void 0?$:_?.name}))}return x},g)}},_N=Ne([Gn,en,xP,iN,Mn],BP),Hae=Ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Gae=Ne([Mn,gd],vP),em=Ne([Hae,Gn,Gae],wP),Kae=Ne([em],t=>t.filter(dN)),Yae=Ne([em],EP),bd=Ne([Yae,hl],SP),Wae=Ne([Kae,hl,Gn],pP),NN=Ne([bd,Gn,em],AP),Xae=Ne([Gn],mN),Qae=Ne([em],t=>t.filter(dN)),Zae=Ne([Wae,Qae,_y],CP),Jae=Ne([Zae,hl,Mn],kP),eie=Ne([em],NP),tie=Ne([bd,Gn,eie,Ay,Mn],IP),nie=Ne([OP,Mn,gd],yd),rie=Ne([nie,Mn],MP),aie=Ne([DP,Mn,gd],yd),iie=Ne([aie,Mn],LP),sie=Ne([PP,Mn,gd],yd),oie=Ne([sie,Mn],zP),lie=Ne([rie,oie,iie],p0),cie=Ne([Gn,Xae,Jae,tie,lie,en,Mn],UP),uM=Ne([Gn,en,bd,NN,_y,Mn,cie],VP),uie=Ne([uM,Gn,_N],FP),die=Ne([Gn,uM,uie,Mn],qP),dM=t=>{var e=Mn(t),n=gd(t),r=!1;return Zf(t,e,n,r)},hM=Ne([Gn,dM],Ny),fM=Ne([Gn,_N,die,hM],gN),hie=Ne([en,NN,Gn,Mn],YP),fie=Ne([en,NN,Gn,Mn],WP),mie=(t,e,n,r,a,s,c,u)=>{if(e){var{type:h}=e,f=cl(t,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=h==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Ca(a[0]-a[1])*2*g:g,f&&c?c.map((x,v)=>({coordinate:r(x)+g,value:x,index:v,offset:g})):r.domain().map((x,v)=>({coordinate:r(x)+g,value:s?s[x]:x,index:v,offset:g}))}}},eo=Ne([en,Gn,_N,fM,dM,hie,fie,Mn],mie),jN=Ne([JP,eM,Tae],(t,e,n)=>tM(n.shared,t,e)),mM=t=>t.tooltip.settings.trigger,EN=t=>t.tooltip.settings.defaultIndex,ky=Ne([vd,jN,mM,EN],sM),_f=Ne([ky,bd],wN),pM=Ne([eo,_f],nM),pie=Ne([ky],t=>{if(t)return t.dataKey}),gM=Ne([vd,jN,mM,EN],lM),gie=Ne([Ws,Xs,en,ir,eo,EN,gM,Jf],oM),yie=Ne([ky,gie],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),xie=Ne([ky],t=>t.active),vie=Ne([gM,_f,hl,mP,pM,Jf,jN],cM),bie=Ne([vie],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function aI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function iI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aI(Object(n),!0).forEach(function(r){wie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wie(t,e,n){return(e=_ie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ie(t){var e=Nie(t,"string");return typeof e=="symbol"?e:e+""}function Nie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jie=()=>Je(Gn),Eie=()=>{var t=jie(),e=Je(eo),n=Je(fM);return _w(iI(iI({},t),{},{scale:n}),e)},Sie=()=>Je(iN),SN=(t,e)=>e,yM=(t,e,n)=>n,AN=(t,e,n,r)=>r,Aie=Ne(eo,t=>iy(t,e=>e.coordinate)),TN=Ne([vd,SN,yM,AN],sM),xM=Ne([TN,bd],wN),Tie=(t,e,n)=>{if(e!=null){var r=vd(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},vM=Ne([vd,SN,yM,AN],lM),g0=Ne([Ws,Xs,en,ir,eo,AN,vM,Jf],oM),Cie=Ne([TN,g0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),bM=Ne(eo,xM,nM),kie=Ne([vM,xM,hl,mP,bM,Jf,SN],cM),Iie=Ne([TN],t=>({isActive:t.active,activeIndex:t.index})),Rie=(t,e,n,r,a,s,c,u)=>{if(!(!t||!e||!r||!a||!s)){var h=tJ(t.chartX,t.chartY,e,n,u);if(h){var f=rJ(h,e),m=HZ(f,c,s,r,a),g=nJ(e,s,m,h);return{activeIndex:String(m),activeCoordinate:g}}}};function Bw(){return Bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bw.apply(null,arguments)}function sI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sI(Object(n),!0).forEach(function(r){Oie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oie(t,e,n){return(e=Die(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Pie(t,"string");return typeof e=="symbol"?e:e+""}function Pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mie(t){var{coordinate:e,payload:n,index:r,offset:a,tooltipAxisBandSize:s,layout:c,cursor:u,tooltipEventType:h,chartName:f}=t,m=e,g=n,x=r;if(!u||!m||f!=="ScatterChart"&&h!=="axis")return null;var v,j;if(f==="ScatterChart")v=m,j=YJ;else if(f==="BarChart")v=WJ(c,m,a,s),j=See;else if(c==="radial"){var{cx:w,cy:_,radius:E,startAngle:S,endAngle:C}=u3(m);v={cx:w,cy:_,startAngle:S,endAngle:C,innerRadius:E,outerRadius:E},j=kee}else v={points:Iee(c,m,a)},j=a3;var V=typeof u=="object"&&"className"in u?u.className:void 0,k=Xp(Xp(Xp(Xp({stroke:"#ccc",pointerEvents:"none"},a),v),ar(u,!1)),{},{payload:g,payloadIndex:x,className:Jt("recharts-tooltip-cursor",V)});return T.isValidElement(u)?T.cloneElement(u,k):T.createElement(j,k)}function Lie(t){var e=Eie(),n=JD(),r=R2(),a=Sie();return T.createElement(Mie,Bw({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:a}))}var wM=T.createContext(null),zie=()=>T.useContext(wM),m1={exports:{}},oI;function Uie(){return oI||(oI=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(h,f,m){this.fn=h,this.context=f,this.once=m||!1}function s(h,f,m,g,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new a(m,g||h,x),j=n?n+f:f;return h._events[j]?h._events[j].fn?h._events[j]=[h._events[j],v]:h._events[j].push(v):(h._events[j]=v,h._eventsCount++),h}function c(h,f){--h._eventsCount===0?h._events=new r:delete h._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],m,g;if(this._eventsCount===0)return f;for(g in m=this._events)e.call(m,g)&&f.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(m)):f},u.prototype.listeners=function(f){var m=n?n+f:f,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var x=0,v=g.length,j=new Array(v);x<v;x++)j[x]=g[x].fn;return j},u.prototype.listenerCount=function(f){var m=n?n+f:f,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,m,g,x,v,j){var w=n?n+f:f;if(!this._events[w])return!1;var _=this._events[w],E=arguments.length,S,C;if(_.fn){switch(_.once&&this.removeListener(f,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,m),!0;case 3:return _.fn.call(_.context,m,g),!0;case 4:return _.fn.call(_.context,m,g,x),!0;case 5:return _.fn.call(_.context,m,g,x,v),!0;case 6:return _.fn.call(_.context,m,g,x,v,j),!0}for(C=1,S=new Array(E-1);C<E;C++)S[C-1]=arguments[C];_.fn.apply(_.context,S)}else{var V=_.length,k;for(C=0;C<V;C++)switch(_[C].once&&this.removeListener(f,_[C].fn,void 0,!0),E){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,m);break;case 3:_[C].fn.call(_[C].context,m,g);break;case 4:_[C].fn.call(_[C].context,m,g,x);break;default:if(!S)for(k=1,S=new Array(E-1);k<E;k++)S[k-1]=arguments[k];_[C].fn.apply(_[C].context,S)}}return!0},u.prototype.on=function(f,m,g){return s(this,f,m,g,!1)},u.prototype.once=function(f,m,g){return s(this,f,m,g,!0)},u.prototype.removeListener=function(f,m,g,x){var v=n?n+f:f;if(!this._events[v])return this;if(!m)return c(this,v),this;var j=this._events[v];if(j.fn)j.fn===m&&(!x||j.once)&&(!g||j.context===g)&&c(this,v);else{for(var w=0,_=[],E=j.length;w<E;w++)(j[w].fn!==m||x&&!j[w].once||g&&j[w].context!==g)&&_.push(j[w]);_.length?this._events[v]=_.length===1?_[0]:_:c(this,v)}return this},u.prototype.removeAllListeners=function(f){var m;return f?(m=n?n+f:f,this._events[m]&&c(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(m1)),m1.exports}var Vie=Uie();const Bie=Qi(Vie);var Nf=new Bie,Fw="recharts.syncEvent.tooltip",lI="recharts.syncEvent.brush";function Fie(t,e){if(e){var n=Number.parseInt(e,10);if(!La(n))return t?.[n]}}var qie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_M=ha({name:"options",initialState:qie,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$ie=_M.reducer,{createEventEmitter:Hie}=_M.actions;function Gie(t){return t.tooltip.syncInteraction}var Kie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},NM=ha({name:"chartData",initialState:Kie,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:cI,setDataStartEndIndexes:Yie,setComputedData:_de}=NM.actions,Wie=NM.reducer,Xie=["x","y"];function uI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Bl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uI(Object(n),!0).forEach(function(r){Qie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qie(t,e,n){return(e=Zie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zie(t){var e=Jie(t,"string");return typeof e=="symbol"?e:e+""}function Jie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ese(t,e){if(t==null)return{};var n,r,a=tse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jM=()=>{};function nse(){var t=Je(sN),e=Je(oN),n=Ar(),r=Je(oP),a=Je(eo),s=R2(),c=I2(),u=Je(h=>h.rootProps.className);T.useEffect(()=>{if(t==null)return jM;var h=(f,m,g)=>{if(e!==g&&t===f){if(r==="index"){var x;if(c&&m!==null&&m!==void 0&&(x=m.payload)!==null&&x!==void 0&&x.coordinate){var v=m.payload.coordinate,{x:j,y:w}=v,_=ese(v,Xie),E=Bl(Bl(Bl({},_),typeof j=="number"&&{x:Math.max(c.x,Math.min(j,c.x+c.width))}),typeof w=="number"&&{y:Math.max(c.y,Math.min(w,c.y+c.height))}),S=Bl(Bl({},m),{},{payload:Bl(Bl({},m.payload),{},{coordinate:E})});n(S)}else n(m);return}if(a!=null){var C;if(typeof r=="function"){var V={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},k=r(a,V);C=a[k]}else r==="value"&&(C=a.find(B=>String(B.value)===m.payload.label));var{coordinate:$}=m.payload;if(C==null||m.payload.active===!1||$==null||c==null){n(Uw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:O,y:M}=$,U=Math.min(O,c.x+c.width),G=Math.min(M,c.y+c.height),H={x:s==="horizontal"?C.coordinate:U,y:s==="horizontal"?G:C.coordinate},D=Uw({active:m.payload.active,coordinate:H,dataKey:m.payload.dataKey,index:String(C.index),label:m.payload.label});n(D)}}};return Nf.on(Fw,h),()=>{Nf.off(Fw,h)}},[u,n,e,t,r,a,s,c])}function rse(){var t=Je(sN),e=Je(oN),n=Ar();T.useEffect(()=>{if(t==null)return jM;var r=(a,s,c)=>{e!==c&&t===a&&n(Yie(s))};return Nf.on(lI,r),()=>{Nf.off(lI,r)}},[n,e,t])}function ase(){var t=Ar();T.useEffect(()=>{t(Hie())},[t]),nse(),rse()}function ise(t,e,n,r,a,s){var c=Je(x=>Tie(x,t,e)),u=Je(oN),h=Je(sN),f=Je(oP),m=Je(Gie),g=m?.active;T.useEffect(()=>{if(!g&&h!=null&&u!=null){var x=Uw({active:s,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r});Nf.emit(Fw,h,x,u)}},[g,n,c,a,r,u,h,f,s])}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function hI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){sse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sse(t,e,n){return(e=ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ose(t){var e=lse(t,"string");return typeof e=="symbol"?e:e+""}function lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cse(t){return t.dataKey}function use(t,e){return T.isValidElement(t)?T.cloneElement(t,e):typeof t=="function"?T.createElement(t,e):T.createElement(SJ,e)}var fI=[],dse={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function hse(t){var e=Ba(t,dse),{active:n,allowEscapeViewBox:r,animationDuration:a,animationEasing:s,content:c,filterNull:u,isAnimationActive:h,offset:f,payloadUniqBy:m,position:g,reverseDirection:x,useTranslate3d:v,wrapperStyle:j,cursor:w,shared:_,trigger:E,defaultIndex:S,portal:C,axisId:V}=e,k=Ar(),$=typeof S=="number"?String(S):S;T.useEffect(()=>{k(Rae({shared:_,trigger:E,axisId:V,active:n,defaultIndex:$}))},[k,_,E,V,n,$]);var O=I2(),M=r3(),U=Aae(_),{activeIndex:G,isActive:H}=Je(ue=>Iie(ue,U,E,$)),D=Je(ue=>kie(ue,U,E,$)),B=Je(ue=>bM(ue,U,E,$)),I=Je(ue=>Cie(ue,U,E,$)),J=D,q=zie(),Y=n??H,[te,Z]=DQ([J,Y]),ge=U==="axis"?B:void 0;ise(U,E,I,ge,G,Y);var L=C??q;if(L==null)return null;var F=J??fI;Y||(F=fI),u&&F.length&&(F=sQ(J.filter(ue=>ue.value!=null&&(ue.hide!==!0||e.includeHidden)),m,cse));var se=F.length>0,le=T.createElement(OJ,{allowEscapeViewBox:r,animationDuration:a,animationEasing:s,isAnimationActive:h,active:Y,coordinate:I,hasPayload:se,offset:f,position:g,reverseDirection:x,useTranslate3d:v,viewBox:O,wrapperStyle:j,lastBoundingBox:te,innerRef:Z,hasPortalFromProps:!!C},use(c,hI(hI({},e),{},{payload:F,label:ge,active:Y,coordinate:I,accessibilityLayer:M})));return T.createElement(T.Fragment,null,j9.createPortal(le,L),Y&&T.createElement(Lie,{cursor:w,tooltipEventType:U,coordinate:I,payload:J,index:G}))}var p1={},g1={},y1={},mI;function fse(){return mI||(mI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:a,edges:s}={}){let c,u=null;const h=s!=null&&s.includes("leading"),f=s==null||s.includes("trailing"),m=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},g=()=>{f&&m(),w()};let x=null;const v=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,g()},r)},j=()=>{x!==null&&(clearTimeout(x),x=null)},w=()=>{j(),c=void 0,u=null},_=()=>{m()},E=function(...S){if(a?.aborted)return;c=this,u=S;const C=x==null;v(),h&&C&&m()};return E.schedule=v,E.cancel=w,E.flush=_,a?.addEventListener("abort",w,{once:!0}),E}t.debounce=e})(y1)),y1}var pI;function mse(){return pI||(pI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fse();function n(r,a=0,s={}){typeof s!="object"&&(s={});const{leading:c=!1,trailing:u=!0,maxWait:h}=s,f=Array(2);c&&(f[0]="leading"),u&&(f[1]="trailing");let m,g=null;const x=e.debounce(function(...w){m=r.apply(this,w),g=null},a,{edges:f}),v=function(...w){return h!=null&&(g===null&&(g=Date.now()),Date.now()-g>=h)?(m=r.apply(this,w),g=Date.now(),x.cancel(),x.schedule(),m):(x.apply(this,w),m)},j=()=>(x.flush(),m);return v.cancel=x.cancel,v.flush=j,v}t.debounce=n})(g1)),g1}var gI;function pse(){return gI||(gI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mse();function n(r,a=0,s={}){const{leading:c=!0,trailing:u=!0}=s;return e.debounce(r,a,{leading:c,maxWait:a,trailing:u})}t.throttle=n})(p1)),p1}var x1,yI;function gse(){return yI||(yI=1,x1=pse().throttle),x1}var yse=gse();const xse=Qi(yse);var Wh=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s]};function xI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function v1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xI(Object(n),!0).forEach(function(r){vse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vse(t,e,n){return(e=bse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bse(t){var e=wse(t,"string");return typeof e=="symbol"?e:e+""}function wse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _se=T.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a="100%",height:s="100%",minWidth:c=0,minHeight:u,maxHeight:h,children:f,debounce:m=0,id:g,className:x,onResize:v,style:j={}}=t,w=T.useRef(null),_=T.useRef();_.current=v,T.useImperativeHandle(e,()=>w.current);var[E,S]=T.useState({containerWidth:r.width,containerHeight:r.height}),C=T.useCallback((k,$)=>{S(O=>{var M=Math.round(k),U=Math.round($);return O.containerWidth===M&&O.containerHeight===U?O:{containerWidth:M,containerHeight:U}})},[]);T.useEffect(()=>{var k=U=>{var G,{width:H,height:D}=U[0].contentRect;C(H,D),(G=_.current)===null||G===void 0||G.call(_,H,D)};m>0&&(k=xse(k,m,{trailing:!0,leading:!1}));var $=new ResizeObserver(k),{width:O,height:M}=w.current.getBoundingClientRect();return C(O,M),$.observe(w.current),()=>{$.disconnect()}},[C,m]);var V=T.useMemo(()=>{var{containerWidth:k,containerHeight:$}=E;if(k<0||$<0)return null;Wh(Jl(a)||Jl(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,s),Wh(!n||n>0,"The aspect(%s) must be greater than zero.",n);var O=Jl(a)?k:a,M=Jl(s)?$:s;return n&&n>0&&(O?M=O/n:M&&(O=M*n),h&&M>h&&(M=h)),Wh(O>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,O,M,a,s,c,u,n),T.Children.map(f,U=>T.cloneElement(U,{width:O,height:M,style:v1({width:O,height:M},U.props.style)}))},[n,f,s,h,u,c,E,a]);return T.createElement("div",{id:g?"".concat(g):void 0,className:Jt("recharts-responsive-container",x),style:v1(v1({},j),{},{width:a,height:s,minWidth:c,minHeight:u,maxHeight:h}),ref:w},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},V))});function Nse(t,e,n){return(e=jse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jse(t){var e=Ese(t,"string");return typeof e=="symbol"?e:e+""}function Ese(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Sse{constructor(e){Nse(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function vI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Ase(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vI(Object(n),!0).forEach(function(r){Tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tse(t,e,n){return(e=Cse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cse(t){var e=kse(t,"string");return typeof e=="symbol"?e:e+""}function kse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ise={cacheSize:2e3,enableCache:!0},EM=Ase({},Ise),bI=new Sse(EM.cacheSize),Rse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wI="recharts_measurement_span";function Ose(t,e){var n=e.fontSize||"",r=e.fontFamily||"",a=e.fontWeight||"",s=e.fontStyle||"",c=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(s,"|").concat(c,"|").concat(u)}var _I=(t,e)=>{try{var n=document.getElementById(wI);n||(n=document.createElement("span"),n.setAttribute("id",wI),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Rse,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Xh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||hd.isSsr)return{width:0,height:0};if(!EM.enableCache)return _I(e,n);var r=Ose(e,n),a=bI.get(r);if(a)return a;var s=_I(e,n);return bI.set(r,s),s},NI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Pse=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,SM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mse=Object.keys(SM),Au="NaN";function Lse(t,e){return t*SM[e]}class Pr{static parse(e){var n,[,r,a]=(n=Pse.exec(e))!==null&&n!==void 0?n:[];return new Pr(parseFloat(r),a??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,La(e)&&(this.unit=""),n!==""&&!Dse.test(n)&&(this.num=NaN,this.unit=""),Mse.includes(n)&&(this.num=Lse(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Pr(NaN,""):new Pr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Pr(NaN,""):new Pr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Pr(NaN,""):new Pr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Pr(NaN,""):new Pr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return La(this.num)}}function AM(t){if(t.includes(Au))return Au;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,a,s]=(n=NI.exec(e))!==null&&n!==void 0?n:[],c=Pr.parse(r??""),u=Pr.parse(s??""),h=a==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return Au;e=e.replace(NI,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,m,g,x]=(f=jI.exec(e))!==null&&f!==void 0?f:[],v=Pr.parse(m??""),j=Pr.parse(x??""),w=g==="+"?v.add(j):v.subtract(j);if(w.isNaN())return Au;e=e.replace(jI,w.toString())}return e}var EI=/\(([^()]*)\)/;function zse(t){for(var e=t,n;(n=EI.exec(e))!=null;){var[,r]=n;e=e.replace(EI,AM(r))}return e}function Use(t){var e=t.replace(/\s+/g,"");return e=zse(e),e=AM(e),e}function Vse(t){try{return Use(t)}catch{return Au}}function b1(t){var e=Vse(t.slice(5,-1));return e===Au?"":e}var Bse=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fse=["dx","dy","angle","className","breakAll"];function qw(){return qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qw.apply(null,arguments)}function SI(t,e){if(t==null)return{};var n,r,a=qse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function qse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var TM=/[ \f\n\r\t\v\u2028\u2029]+/,CM=t=>{var{children:e,breakAll:n,style:r}=t;try{var a=[];qn(e)||(n?a=e.toString().split(""):a=e.toString().split(TM));var s=a.map(u=>({word:u,width:Xh(u,r).width})),c=n?0:Xh("",r).width;return{wordsWithComputedWidth:s,spaceWidth:c}}catch{return null}},$se=(t,e,n,r,a)=>{var{maxLines:s,children:c,style:u,breakAll:h}=t,f=at(s),m=c,g=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce((D,B)=>{var{word:I,width:J}=B,q=D[D.length-1];if(q&&(r==null||a||q.width+J+n<Number(r)))q.words.push(I),q.width+=J+n;else{var Y={words:[I],width:J};D.push(Y)}return D},[])},x=g(e),v=G=>G.reduce((H,D)=>H.width>D.width?H:D);if(!f||a)return x;var j=x.length>s||v(x).width>Number(r);if(!j)return x;for(var w="",_=G=>{var H=m.slice(0,G),D=CM({breakAll:h,style:u,children:H+w}).wordsWithComputedWidth,B=g(D),I=B.length>s||v(B).width>Number(r);return[I,B]},E=0,S=m.length-1,C=0,V;E<=S&&C<=m.length-1;){var k=Math.floor((E+S)/2),$=k-1,[O,M]=_($),[U]=_(k);if(!O&&!U&&(E=k+1),O&&U&&(S=k-1),!O&&U){V=M;break}C++}return V||x},AI=t=>{var e=qn(t)?[]:t.toString().split(TM);return[{words:e}]},Hse=t=>{var{width:e,scaleToFit:n,children:r,style:a,breakAll:s,maxLines:c}=t;if((e||n)&&!hd.isSsr){var u,h,f=CM({breakAll:s,children:r,style:a});if(f){var{wordsWithComputedWidth:m,spaceWidth:g}=f;u=m,h=g}else return AI(r);return $se({breakAll:s,children:r,maxLines:c,style:a},u,h,e,n)}return AI(r)},TI="#808080",CN=T.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:a="1em",capHeight:s="0.71em",scaleToFit:c=!1,textAnchor:u="start",verticalAnchor:h="end",fill:f=TI}=t,m=SI(t,Bse),g=T.useMemo(()=>Hse({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:x,dy:v,angle:j,className:w,breakAll:_}=m,E=SI(m,Fse);if(!Wi(n)||!Wi(r)||g.length===0)return null;var S=n+(at(x)?x:0),C=r+(at(v)?v:0),V;switch(h){case"start":V=b1("calc(".concat(s,")"));break;case"middle":V=b1("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:V=b1("calc(".concat(g.length-1," * -").concat(a,")"));break}var k=[];if(c){var $=g[0].width,{width:O}=m;k.push("scale(".concat(at(O)?O/$:1,")"))}return j&&k.push("rotate(".concat(j,", ").concat(S,", ").concat(C,")")),k.length&&(E.transform=k.join(" ")),T.createElement("text",qw({},ar(E,!0),{ref:e,x:S,y:C,className:Jt("recharts-text",w),textAnchor:u,fill:f.includes("url")?TI:f}),g.map((M,U)=>{var G=M.words.join(_?"":" ");return T.createElement("tspan",{x:S,dy:U===0?V:a,key:"".concat(G,"-").concat(U)},G)}))});CN.displayName="Text";var Gse=["labelRef"];function Kse(t,e){if(t==null)return{};var n,r,a=Yse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Yse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){Wse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wse(t,e,n){return(e=Xse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xse(t){var e=Qse(t,"string");return typeof e=="symbol"?e:e+""}function Qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function js(){return js=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},js.apply(null,arguments)}var kM=T.createContext(null),Zse=t=>{var{x:e,y:n,width:r,height:a,children:s}=t,c=T.useMemo(()=>({x:e,y:n,width:r,height:a}),[e,n,r,a]);return T.createElement(kM.Provider,{value:c},s)},IM=()=>{var t=T.useContext(kM),e=I2();return t||e},Jse=T.createContext(null),eoe=()=>{var t=T.useContext(Jse),e=Je(hP);return t||e},toe=t=>{var{value:e,formatter:n}=t,r=qn(t.children)?e:t.children;return typeof n=="function"?n(r):r},kN=t=>t!=null&&typeof t=="function",noe=(t,e)=>{var n=Ca(e-t),r=Math.min(Math.abs(e-t),360);return n*r},roe=(t,e,n,r,a)=>{var{offset:s,className:c}=t,{cx:u,cy:h,innerRadius:f,outerRadius:m,startAngle:g,endAngle:x,clockWise:v}=a,j=(f+m)/2,w=noe(g,x),_=w>=0?1:-1,E,S;switch(e){case"insideStart":E=g+_*s,S=v;break;case"insideEnd":E=x-_*s,S=!v;break;case"end":E=x+_*s,S=v;break;default:throw new Error("Unsupported position ".concat(e))}S=w<=0?S:!S;var C=nr(u,h,j,E),V=nr(u,h,j,E+(S?1:-1)*359),k="M".concat(C.x,",").concat(C.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(S?0:1,`,
    `).concat(V.x,",").concat(V.y),$=qn(t.id)?ff("recharts-radial-line-"):t.id;return T.createElement("text",js({},r,{dominantBaseline:"central",className:Jt("recharts-radial-bar-label",c)}),T.createElement("defs",null,T.createElement("path",{id:$,d:k})),T.createElement("textPath",{xlinkHref:"#".concat($)},n))},aoe=(t,e,n)=>{var{cx:r,cy:a,innerRadius:s,outerRadius:c,startAngle:u,endAngle:h}=t,f=(u+h)/2;if(n==="outside"){var{x:m,y:g}=nr(r,a,c+e,f);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var x=(s+c)/2,{x:v,y:j}=nr(r,a,x,f);return{x:v,y:j,textAnchor:"middle",verticalAnchor:"middle"}},RM=t=>"cx"in t&&at(t.cx),ioe=(t,e)=>{var{parentViewBox:n,offset:r,position:a}=t,s;n!=null&&!RM(n)&&(s=n);var{x:c,y:u,width:h,height:f}=e,m=f>=0?1:-1,g=m*r,x=m>0?"end":"start",v=m>0?"start":"end",j=h>=0?1:-1,w=j*r,_=j>0?"end":"start",E=j>0?"start":"end";if(a==="top"){var S={x:c+h/2,y:u-m*r,textAnchor:"middle",verticalAnchor:x};return pn(pn({},S),s?{height:Math.max(u-s.y,0),width:h}:{})}if(a==="bottom"){var C={x:c+h/2,y:u+f+g,textAnchor:"middle",verticalAnchor:v};return pn(pn({},C),s?{height:Math.max(s.y+s.height-(u+f),0),width:h}:{})}if(a==="left"){var V={x:c-w,y:u+f/2,textAnchor:_,verticalAnchor:"middle"};return pn(pn({},V),s?{width:Math.max(V.x-s.x,0),height:f}:{})}if(a==="right"){var k={x:c+h+w,y:u+f/2,textAnchor:E,verticalAnchor:"middle"};return pn(pn({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:f}:{})}var $=s?{width:h,height:f}:{};return a==="insideLeft"?pn({x:c+w,y:u+f/2,textAnchor:E,verticalAnchor:"middle"},$):a==="insideRight"?pn({x:c+h-w,y:u+f/2,textAnchor:_,verticalAnchor:"middle"},$):a==="insideTop"?pn({x:c+h/2,y:u+g,textAnchor:"middle",verticalAnchor:v},$):a==="insideBottom"?pn({x:c+h/2,y:u+f-g,textAnchor:"middle",verticalAnchor:x},$):a==="insideTopLeft"?pn({x:c+w,y:u+g,textAnchor:E,verticalAnchor:v},$):a==="insideTopRight"?pn({x:c+h-w,y:u+g,textAnchor:_,verticalAnchor:v},$):a==="insideBottomLeft"?pn({x:c+w,y:u+f-g,textAnchor:E,verticalAnchor:x},$):a==="insideBottomRight"?pn({x:c+h-w,y:u+f-g,textAnchor:_,verticalAnchor:x},$):a&&typeof a=="object"&&(at(a.x)||Jl(a.x))&&(at(a.y)||Jl(a.y))?pn({x:c+al(a.x,h),y:u+al(a.y,f),textAnchor:"end",verticalAnchor:"end"},$):pn({x:c+h/2,y:u+f/2,textAnchor:"middle",verticalAnchor:"middle"},$)},soe={offset:5};function Lo(t){var e=Ba(t,soe),{viewBox:n,position:r,value:a,children:s,content:c,className:u="",textBreakAll:h,labelRef:f}=e,m=eoe(),g=IM(),x=r==="center"?g:m??g,v=n||x;if(!v||qn(a)&&qn(s)&&!T.isValidElement(c)&&typeof c!="function")return null;var j=pn(pn({},e),{},{viewBox:v});if(T.isValidElement(c)){var{labelRef:w}=j,_=Kse(j,Gse);return T.cloneElement(c,_)}var E;if(typeof c=="function"){if(E=T.createElement(c,j),T.isValidElement(E))return E}else E=toe(e);var S=RM(v),C=ar(e,!0);if(S&&(r==="insideStart"||r==="insideEnd"||r==="end"))return roe(e,r,E,C,v);var V=S?aoe(v,e.offset,e.position):ioe(e,v);return T.createElement(CN,js({ref:f,className:Jt("recharts-label",u)},C,V,{breakAll:h}),E)}Lo.displayName="Label";var ooe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?T.createElement(Lo,js({key:"label-implicit"},r)):Wi(t)?T.createElement(Lo,js({key:"label-implicit",value:t},r)):T.isValidElement(t)?t.type===Lo?T.cloneElement(t,pn({key:"label-implicit"},r)):T.createElement(Lo,js({key:"label-implicit",content:t},r)):kN(t)?T.createElement(Lo,js({key:"label-implicit",content:t},r)):t&&typeof t=="object"?T.createElement(Lo,js({},t,{key:"label-implicit"},r)):null};function loe(t){var{label:e}=t,n=IM();return ooe(e,n)||null}var w1={},_1={},kI;function coe(){return kI||(kI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(_1)),_1}var N1={},II;function uoe(){return II||(II=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(N1)),N1}var RI;function doe(){return RI||(RI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=coe(),n=uoe(),r=N2();function a(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=a})(w1)),w1}var j1,OI;function hoe(){return OI||(OI=1,j1=doe().last),j1}var foe=hoe();const moe=Qi(foe);var poe=["valueAccessor"],goe=["dataKey","clockWise","id","textBreakAll"];function y0(){return y0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y0.apply(null,arguments)}function DI(t,e){if(t==null)return{};var n,r,a=yoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function yoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var xoe=t=>Array.isArray(t.value)?moe(t.value):t.value,OM=T.createContext(void 0),voe=OM.Provider,DM=T.createContext(void 0);DM.Provider;function boe(){return T.useContext(OM)}function woe(){return T.useContext(DM)}function dg(t){var{valueAccessor:e=xoe}=t,n=DI(t,poe),{dataKey:r,clockWise:a,id:s,textBreakAll:c}=n,u=DI(n,goe),h=boe(),f=woe(),m=h||f;return!m||!m.length?null:T.createElement(dd,{className:"recharts-label-list"},m.map((g,x)=>{var v,j=qn(r)?e(g,x):Sr(g&&g.payload,r),w=qn(s)?{}:{id:"".concat(s,"-").concat(x)};return T.createElement(Lo,y0({},ar(g,!0),u,w,{fill:(v=n.fill)!==null&&v!==void 0?v:g.fill,parentViewBox:g.parentViewBox,value:j,textBreakAll:c,viewBox:g.viewBox,key:"label-".concat(x),index:x}))}))}dg.displayName="LabelList";function _oe(t){var{label:e}=t;return e?e===!0?T.createElement(dg,{key:"labelList-implicit"}):T.isValidElement(e)||kN(e)?T.createElement(dg,{key:"labelList-implicit",content:e}):typeof e=="object"?T.createElement(dg,y0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}var PM=t=>{var{cx:e,cy:n,r,className:a}=t,s=Jt("recharts-dot",a);return e===+e&&n===+n&&r===+r?T.createElement("circle",$w({},Cc(t),w2(t),{className:s,cx:e,cy:n,r})):null},Noe={radiusAxis:{},angleAxis:{}},MM=ha({name:"polarAxis",initialState:Noe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:Nde,removeRadiusAxis:jde,addAngleAxis:Ede,removeAngleAxis:Sde}=MM.actions,joe=MM.reducer;function Eoe(t){var{fn:e,args:n}=t,r=Ar(),a=Va();return T.useEffect(()=>{if(!a){var s=e(n);return r(kae(s)),()=>{r(Iae(s))}}},[e,n,r,a]),null}var Soe=()=>{};function Aoe(t){var{legendPayload:e}=t,n=Ar(),r=Va();return T.useEffect(()=>r?Soe:(n(vJ(e)),()=>{n(bJ(e))}),[n,r,e]),null}var E1,Toe=()=>{var[t]=T.useState(()=>ff("uid-"));return t},Coe=(E1=Hz.useId)!==null&&E1!==void 0?E1:Toe;function koe(t,e){var n=Coe();return e||(t?"".concat(t,"-").concat(n):n)}var Ioe=T.createContext(void 0),Roe=t=>{var{id:e,type:n,children:r}=t,a=koe("recharts-".concat(n),e);return T.createElement(Ioe.Provider,{value:a},r(a))},Ooe={cartesianItems:[],polarItems:[]},LM=ha({name:"graphicalItems",initialState:Ooe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,a=Os(t).cartesianItems.indexOf(n);a>-1&&(t.cartesianItems[a]=r)},removeCartesianGraphicalItem(t,e){var n=Os(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=Os(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Doe,replaceCartesianGraphicalItem:Poe,removeCartesianGraphicalItem:Moe,addPolarGraphicalItem:Ade,removePolarGraphicalItem:Tde}=LM.actions,Loe=LM.reducer;function zoe(t){var e=Ar(),n=T.useRef(null);return T.useEffect(()=>{n.current===null?e(Doe(t)):n.current!==t&&e(Poe({prev:n.current,next:t})),n.current=t},[e,t]),T.useEffect(()=>()=>{n.current&&(e(Moe(n.current)),n.current=null)},[e]),null}function PI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function MI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(n),!0).forEach(function(r){Uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uoe(t,e,n){return(e=Voe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Voe(t){var e=Boe(t,"string");return typeof e=="symbol"?e:e+""}function Boe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Foe={xAxis:{},yAxis:{},zAxis:{}},zM=ha({name:"cartesianAxis",initialState:Foe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=MI(MI({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:qoe,removeXAxis:$oe,addYAxis:Hoe,removeYAxis:Goe,addZAxis:Cde,removeZAxis:kde,updateYAxisWidth:Koe}=zM.actions,Yoe=zM.reducer,Woe=Ne([ir],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Xoe=Ne([Woe,Ws,Xs],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),IN=()=>Je(Xoe),Qoe=()=>Je(bie);function LI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function zI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LI(Object(n),!0).forEach(function(r){Zoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zoe(t,e,n){return(e=Joe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Joe(t){var e=ele(t,"string");return typeof e=="symbol"?e:e+""}function ele(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tle=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:a,dataKey:s}=t;if(a===!1||e.x==null||e.y==null)return null;var c=zI(zI({index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ar(a,!1)),w2(a)),u;return T.isValidElement(a)?u=T.cloneElement(a,c):typeof a=="function"?u=a(c):u=T.createElement(PM,c),T.createElement(dd,{className:"recharts-active-dot"},u)};function nle(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:a}=t,s=Je(_f),c=Qoe();if(e==null||c==null)return null;var u=e.find(h=>c.includes(h.payload));return qn(u)?null:tle({point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r})}var rle={},UM=ha({name:"errorBars",initialState:rle,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:a}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?a:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Ide,replaceErrorBar:Rde,removeErrorBar:Ode}=UM.actions,ale=UM.reducer,ile=["children"];function sle(t,e){if(t==null)return{};var n,r,a=ole(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function ole(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cle=T.createContext(lle);function ule(t){var{children:e}=t,n=sle(t,ile);return T.createElement(cle.Provider,{value:n},e)}function VM(t,e){var n,r,a=Je(f=>Zs(f,t)),s=Je(f=>Js(f,e)),c=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Jr.allowDataOverflow,u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:ea.allowDataOverflow,h=c||u;return{needClip:h,needClipX:c,needClipY:u}}function dle(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,a=IN(),{needClipX:s,needClipY:c,needClip:u}=VM(e,n);if(!u)return null;var{x:h,y:f,width:m,height:g}=a;return T.createElement("clipPath",{id:"clipPath-".concat(r)},T.createElement("rect",{x:s?h:h-m/2,y:c?f:f-g/2,width:s?m:m*2,height:c?g:g*2}))}var hle=t=>{var{chartData:e}=t,n=Ar(),r=Va();return T.useEffect(()=>r?()=>{}:(n(cI(e)),()=>{n(cI(void 0))}),[e,n,r]),null},UI={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},BM=ha({name:"brush",initialState:UI,reducers:{setBrushSettings(t,e){return e.payload==null?UI:e.payload}}}),{setBrushSettings:Dde}=BM.actions,fle=BM.reducer;function mle(t,e,n){return(e=ple(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ple(t){var e=gle(t,"string");return typeof e=="symbol"?e:e+""}function gle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class RN{static create(e){return new RN(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+c}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?e>=r&&e<=a:e>=a&&e<=r}}mle(RN,"EPS",1e-4);function yle(t){return(t%180+180)%180}var xle=function(e){var{width:n,height:r}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=yle(a),c=s*Math.PI/180,u=Math.atan(r/n),h=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(h)},vle={dots:[],areas:[],lines:[]},FM=ha({name:"referenceElements",initialState:vle,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Os(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Os(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Os(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Pde,removeDot:Mde,addArea:Lde,removeArea:zde,addLine:Ude,removeLine:Vde}=FM.actions,ble=FM.reducer,wle=T.createContext(void 0),_le=t=>{var{children:e}=t,[n]=T.useState("".concat(ff("recharts"),"-clip")),r=IN();if(r==null)return null;var{x:a,y:s,width:c,height:u}=r;return T.createElement(wle.Provider,{value:n},T.createElement("defs",null,T.createElement("clipPath",{id:n},T.createElement("rect",{x:a,y:s,height:u,width:c}))),e)};function Qu(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function qM(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],a=0;a<t.length;a+=e)r.push(t[a]);return r}function Nle(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return xle(r,n)}function jle(t,e,n){var r=n==="width",{x:a,y:s,width:c,height:u}=t;return e===1?{start:r?a:s,end:r?a+c:s+u}:{start:r?a+c:s+u,end:r?a:s}}function x0(t,e,n,r,a){if(t*e<t*r||t*e>t*a)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-a)<=0}function Ele(t,e){return qM(t,e+1)}function Sle(t,e,n,r,a){for(var s=(r||[]).slice(),{start:c,end:u}=e,h=0,f=1,m=c,g=function(){var j=r?.[h];if(j===void 0)return{v:qM(r,f)};var w=h,_,E=()=>(_===void 0&&(_=n(j,w)),_),S=j.coordinate,C=h===0||x0(t,S,E,m,u);C||(h=0,m=c,f+=1),C&&(m=S+t*(E()/2+a),h+=f)},x;f<=s.length;)if(x=g(),x)return x.v;return[]}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){Ale(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ale(t,e,n){return(e=Tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tle(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kle(t,e,n,r,a){for(var s=(r||[]).slice(),c=s.length,{start:u}=e,{end:h}=e,f=function(x){var v=s[x],j,w=()=>(j===void 0&&(j=n(v,x)),j);if(x===c-1){var _=t*(v.coordinate+t*w()/2-h);s[x]=v=lr(lr({},v),{},{tickCoord:_>0?v.coordinate-_*t:v.coordinate})}else s[x]=v=lr(lr({},v),{},{tickCoord:v.coordinate});var E=x0(t,v.tickCoord,w,u,h);E&&(h=v.tickCoord-t*(w()/2+a),s[x]=lr(lr({},v),{},{isShow:!0}))},m=c-1;m>=0;m--)f(m);return s}function Ile(t,e,n,r,a,s){var c=(r||[]).slice(),u=c.length,{start:h,end:f}=e;if(s){var m=r[u-1],g=n(m,u-1),x=t*(m.coordinate+t*g/2-f);c[u-1]=m=lr(lr({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate});var v=x0(t,m.tickCoord,()=>g,h,f);v&&(f=m.tickCoord-t*(g/2+a),c[u-1]=lr(lr({},m),{},{isShow:!0}))}for(var j=s?u-1:u,w=function(S){var C=c[S],V,k=()=>(V===void 0&&(V=n(C,S)),V);if(S===0){var $=t*(C.coordinate-t*k()/2-h);c[S]=C=lr(lr({},C),{},{tickCoord:$<0?C.coordinate-$*t:C.coordinate})}else c[S]=C=lr(lr({},C),{},{tickCoord:C.coordinate});var O=x0(t,C.tickCoord,k,h,f);O&&(h=C.tickCoord+t*(k()/2+a),c[S]=lr(lr({},C),{},{isShow:!0}))},_=0;_<j;_++)w(_);return c}function ON(t,e,n){var{tick:r,ticks:a,viewBox:s,minTickGap:c,orientation:u,interval:h,tickFormatter:f,unit:m,angle:g}=t;if(!a||!a.length||!r)return[];if(at(h)||hd.isSsr){var x;return(x=Ele(a,at(h)?h:0))!==null&&x!==void 0?x:[]}var v=[],j=u==="top"||u==="bottom"?"width":"height",w=m&&j==="width"?Xh(m,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(C,V)=>{var k=typeof f=="function"?f(C.value,V):C.value;return j==="width"?Nle(Xh(k,{fontSize:e,letterSpacing:n}),w,g):Xh(k,{fontSize:e,letterSpacing:n})[j]},E=a.length>=2?Ca(a[1].coordinate-a[0].coordinate):1,S=jle(s,E,j);return h==="equidistantPreserveStart"?Sle(E,S,_,a,c):(h==="preserveStart"||h==="preserveStartEnd"?v=Ile(E,S,_,a,c,h==="preserveStartEnd"):v=kle(E,S,_,a,c),v.filter(C=>C.isShow))}var Rle=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:s=0}=t,c=0;if(e){e.forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=n?n.getBoundingClientRect().width:0,h=a+s,f=c+h+u+(n?r:0);return Math.round(f)}return 0},Ole=["axisLine","width","height","className","hide","ticks"],Dle=["viewBox"],Ple=["viewBox"];function Hw(t,e){if(t==null)return{};var n,r,a=Mle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(null,arguments)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return(e=zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zle(t){var e=Ule(t,"string");return typeof e=="symbol"?e:e+""}function Ule(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DN={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Vle(t){var{x:e,y:n,width:r,height:a,orientation:s,mirror:c,axisLine:u,otherSvgProps:h}=t;if(!u)return null;var f=Rn(Rn(Rn({},h),ar(u,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var m=+(s==="top"&&!c||s==="bottom"&&c);f=Rn(Rn({},f),{},{x1:e,y1:n+m*a,x2:e+r,y2:n+m*a})}else{var g=+(s==="left"&&!c||s==="right"&&c);f=Rn(Rn({},f),{},{x1:e+g*r,y1:n,x2:e+g*r,y2:n+a})}return T.createElement("line",_c({},f,{className:Jt("recharts-cartesian-axis-line",ny(u,"className"))}))}function Ble(t,e,n,r,a,s,c,u,h){var f,m,g,x,v,j,w=u?-1:1,_=t.tickSize||c,E=at(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":f=m=t.coordinate,x=n+ +!u*a,g=x-w*_,j=g-w*h,v=E;break;case"left":g=x=t.coordinate,m=e+ +!u*r,f=m-w*_,v=f-w*h,j=E;break;case"right":g=x=t.coordinate,m=e+ +u*r,f=m+w*_,v=f+w*h,j=E;break;default:f=m=t.coordinate,x=n+ +u*a,g=x+w*_,j=g+w*h,v=E;break}return{line:{x1:f,y1:g,x2:m,y2:x},tick:{x:v,y:j}}}function Fle(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function qle(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function $le(t){var{option:e,tickProps:n,value:r}=t,a,s=Jt(n.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(e))a=T.cloneElement(e,Rn(Rn({},n),{},{className:s}));else if(typeof e=="function")a=e(Rn(Rn({},n),{},{className:s}));else{var c="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(c=Jt(c,e?.className)),a=T.createElement(CN,_c({},n,{className:c}),r)}return a}function Hle(t){var{ticks:e=[],tick:n,tickLine:r,stroke:a,tickFormatter:s,unit:c,padding:u,tickTextProps:h,orientation:f,mirror:m,x:g,y:x,width:v,height:j,tickSize:w,tickMargin:_,fontSize:E,letterSpacing:S,getTicksConfig:C,events:V}=t,k=ON(Rn(Rn({},C),{},{ticks:e}),E,S),$=Fle(f,m),O=qle(f,m),M=Cc(C),U=ar(n,!1),G=Rn(Rn({},M),{},{fill:"none"},ar(r,!1)),H=k.map((D,B)=>{var{line:I,tick:J}=Ble(D,g,x,v,j,f,w,m,_),q=Rn(Rn(Rn(Rn({textAnchor:$,verticalAnchor:O},M),{},{stroke:"none",fill:a},U),J),{},{index:B,payload:D,visibleTicksCount:k.length,tickFormatter:s,padding:u},h);return T.createElement(dd,_c({className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},uX(V,D,B)),r&&T.createElement("line",_c({},G,I,{className:Jt("recharts-cartesian-axis-tick-line",ny(r,"className"))})),n&&T.createElement($le,{option:n,tickProps:q,value:"".concat(typeof s=="function"?s(D.value,B):D.value).concat(c||"")}))});return H.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},H):null}var Gle=T.forwardRef((t,e)=>{var{axisLine:n,width:r,height:a,className:s,hide:c,ticks:u}=t,h=Hw(t,Ole),[f,m]=T.useState(""),[g,x]=T.useState(""),v=T.useRef([]);T.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return Rle({ticks:v.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=T.useCallback(w=>{if(w){var _=w.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=Array.from(_);var E=_[0];if(E){var S=window.getComputedStyle(E),C=S.fontSize,V=S.letterSpacing;(C!==f||V!==g)&&(m(C),x(V))}}},[f,g]);return c||r!=null&&r<=0||a!=null&&a<=0?null:T.createElement(dd,{className:Jt("recharts-cartesian-axis",s),ref:j},T.createElement(Vle,{x:t.x,y:t.y,width:r,height:a,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Cc(t)}),T.createElement(Hle,{ticks:u,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:f,letterSpacing:g,getTicksConfig:t,events:h}),T.createElement(Zse,{x:t.x,y:t.y,width:t.width,height:t.height},T.createElement(loe,{label:t.label}),t.children))}),Kle=T.memo(Gle,(t,e)=>{var{viewBox:n}=t,r=Hw(t,Dle),{viewBox:a}=e,s=Hw(e,Ple);return Qu(n,a)&&Qu(r,s)}),PN=T.forwardRef((t,e)=>{var n=Ba(t,DN);return T.createElement(Kle,_c({},n,{ref:e}))});PN.displayName="CartesianAxis";var Yle=["x1","y1","x2","y2","key"],Wle=["offset"],Xle=["xAxisId","yAxisId"],Qle=["xAxisId","yAxisId"];function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function dr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){Zle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zle(t,e,n){return(e=Jle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jle(t){var e=ece(t,"string");return typeof e=="symbol"?e:e+""}function ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nc(){return nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nc.apply(null,arguments)}function v0(t,e){if(t==null)return{};var n,r,a=tce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function tce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nce=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:a,width:s,height:c,ry:u}=t;return T.createElement("rect",{x:r,y:a,ry:u,width:s,height:c,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $M(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:a,x2:s,y2:c,key:u}=e,h=v0(e,Yle),f=Cc(h),{offset:m}=f,g=v0(f,Wle);n=T.createElement("line",nc({},g,{x1:r,y1:a,x2:s,y2:c,fill:"none",key:u}))}return n}function rce(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,u=v0(t,Xle),h=a.map((f,m)=>{var g=dr(dr({},u),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(m),index:m});return $M(r,g)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function ace(t){var{y:e,height:n,vertical:r=!0,verticalPoints:a}=t;if(!r||!a||!a.length)return null;var{xAxisId:s,yAxisId:c}=t,u=v0(t,Qle),h=a.map((f,m)=>{var g=dr(dr({},u),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(m),index:m});return $M(r,g)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function ice(t){var{horizontalFill:e,fillOpacity:n,x:r,y:a,width:s,height:c,horizontalPoints:u,horizontal:h=!0}=t;if(!h||!e||!e.length)return null;var f=u.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==f[0]&&f.unshift(0);var m=f.map((g,x)=>{var v=!f[x+1],j=v?a+c-g:f[x+1]-g;if(j<=0)return null;var w=x%e.length;return T.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:j,width:s,stroke:"none",fill:e[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function sce(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:a,y:s,width:c,height:u,verticalPoints:h}=t;if(!e||!n||!n.length)return null;var f=h.map(g=>Math.round(g+a-a)).sort((g,x)=>g-x);a!==f[0]&&f.unshift(0);var m=f.map((g,x)=>{var v=!f[x+1],j=v?a+c-g:f[x+1]-g;if(j<=0)return null;var w=x%n.length;return T.createElement("rect",{key:"react-".concat(x),x:g,y:s,width:j,height:u,stroke:"none",fill:n[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var oce=(t,e)=>{var{xAxis:n,width:r,height:a,offset:s}=t;return YD(ON(dr(dr(dr({},DN),n),{},{ticks:WD(n),viewBox:{x:0,y:0,width:r,height:a}})),s.left,s.left+s.width,e)},lce=(t,e)=>{var{yAxis:n,width:r,height:a,offset:s}=t;return YD(ON(dr(dr(dr({},DN),n),{},{ticks:WD(n),viewBox:{x:0,y:0,width:r,height:a}})),s.top,s.top+s.height,e)},cce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function HM(t){var e=e3(),n=t3(),r=JD(),a=dr(dr({},Ba(t,cce)),{},{x:at(t.x)?t.x:r.left,y:at(t.y)?t.y:r.top,width:at(t.width)?t.width:r.width,height:at(t.height)?t.height:r.height}),{xAxisId:s,yAxisId:c,x:u,y:h,width:f,height:m,syncWithTicks:g,horizontalValues:x,verticalValues:v}=a,j=Va(),w=Je(U=>eI(U,"xAxis",s,j)),_=Je(U=>eI(U,"yAxis",c,j));if(!at(f)||f<=0||!at(m)||m<=0||!at(u)||u!==+u||!at(h)||h!==+h)return null;var E=a.verticalCoordinatesGenerator||oce,S=a.horizontalCoordinatesGenerator||lce,{horizontalPoints:C,verticalPoints:V}=a;if((!C||!C.length)&&typeof S=="function"){var k=x&&x.length,$=S({yAxis:_?dr(dr({},_),{},{ticks:k?x:_.ticks}):void 0,width:e,height:n,offset:r},k?!0:g);Wh(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof $,"]")),Array.isArray($)&&(C=$)}if((!V||!V.length)&&typeof E=="function"){var O=v&&v.length,M=E({xAxis:w?dr(dr({},w),{},{ticks:O?v:w.ticks}):void 0,width:e,height:n,offset:r},O?!0:g);Wh(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(V=M)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(nce,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),T.createElement(ice,nc({},a,{horizontalPoints:C})),T.createElement(sce,nc({},a,{verticalPoints:V})),T.createElement(rce,nc({},a,{offset:r,horizontalPoints:C,xAxis:w,yAxis:_})),T.createElement(ace,nc({},a,{offset:r,verticalPoints:V,xAxis:w,yAxis:_})))}HM.displayName="CartesianGrid";var GM=(t,e,n,r)=>ZP(t,"xAxis",e,r),KM=(t,e,n,r)=>QP(t,"xAxis",e,r),YM=(t,e,n,r)=>ZP(t,"yAxis",n,r),WM=(t,e,n,r)=>QP(t,"yAxis",n,r),uce=Ne([en,GM,YM,KM,WM],(t,e,n,r,a)=>cl(t,"xAxis")?_w(e,r,!1):_w(n,a,!1)),dce=(t,e,n,r,a)=>a;function hce(t){return t.type==="line"}var fce=Ne([bP,dce],(t,e)=>t.filter(hce).find(n=>n.id===e)),mce=Ne([en,GM,YM,KM,WM,fce,uce,nN],(t,e,n,r,a,s,c,u)=>{var{chartData:h,dataStartIndex:f,dataEndIndex:m}=u;if(!(s==null||e==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null)){var{dataKey:g,data:x}=s,v;if(x!=null&&x.length>0?v=x:v=h?.slice(f,m+1),v!=null)return Mce({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:c,displayedData:v})}}),pce=["id"],gce=["type","layout","connectNulls","needClip"],yce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){xce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xce(t,e,n){return(e=vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=bce(t,"string");return typeof e=="symbol"?e:e+""}function bce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MN(t,e){if(t==null)return{};var n,r,a=wce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nc.apply(null,arguments)}var _ce=t=>{var{dataKey:e,name:n,stroke:r,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:r,value:XD(n,e),payload:t}]};function Nce(t){var{dataKey:e,data:n,stroke:r,strokeWidth:a,fill:s,name:c,hide:u,unit:h}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:s,dataKey:e,nameKey:void 0,name:XD(c,e),hide:u,type:t.tooltipType,color:t.stroke,unit:h}}}var XM=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function jce(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],a=0;a<e;++a)r=[...r,...n];return r}var Ece=(t,e,n)=>{var r=n.reduce((g,x)=>g+x);if(!r)return XM(e,t);for(var a=Math.floor(t/r),s=t%r,c=e-t,u=[],h=0,f=0;h<n.length;f+=n[h],++h)if(f+n[h]>s){u=[...n.slice(0,h),s-f];break}var m=u.length%2===0?[0,c]:[c];return[...jce(n,a),...u,...m].map(g=>"".concat(g,"px")).join(", ")};function Sce(t,e){var n;if(T.isValidElement(t))n=T.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Jt("recharts-line-dot",typeof t!="boolean"?t.className:"");n=T.createElement(PM,Nc({},e,{className:r}))}return n}function Ace(t,e){return t==null?!1:e?!0:t.length===1}function Tce(t){var{clipPathId:e,points:n,props:r}=t,{dot:a,dataKey:s,needClip:c}=r;if(!Ace(n,a))return null;var{id:u}=r,h=MN(r,pce),f=W4(a),m=Cc(h),g=ar(a,!0),x=n.map((j,w)=>{var _=na(na(na({key:"dot-".concat(w),r:3},m),g),{},{index:w,cx:j.x,cy:j.y,dataKey:s,value:j.value,payload:j.payload,points:n});return Sce(a,_)}),v={clipPath:c?"url(#clipPath-".concat(f?"":"dots-").concat(e,")"):void 0};return T.createElement(dd,Nc({className:"recharts-line-dots",key:"dots"},v),x)}function Cce(t){var{showLabels:e,children:n,points:r}=t,a=T.useMemo(()=>r?.map(s=>{var c={x:s.x,y:s.y,width:0,height:0};return na(na({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return T.createElement(voe,{value:e?a:null},n)}function $I(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:a,props:s}=t,{type:c,layout:u,connectNulls:h,needClip:f}=s,m=MN(s,gce),g=na(na({},ar(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:c,layout:u,connectNulls:h,strokeDasharray:a??s.strokeDasharray});return T.createElement(T.Fragment,null,r?.length>1&&T.createElement(a3,Nc({},g,{pathRef:n})),T.createElement(Tce,{points:r,clipPathId:e,props:s}))}function kce(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Ice(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:s}=t,{points:c,strokeDasharray:u,isAnimationActive:h,animationBegin:f,animationDuration:m,animationEasing:g,animateNewValues:x,width:v,height:j,onAnimationEnd:w,onAnimationStart:_}=n,E=a.current,S=c3(n,"recharts-line-"),[C,V]=T.useState(!1),k=!C,$=T.useCallback(()=>{typeof w=="function"&&w(),V(!1)},[w]),O=T.useCallback(()=>{typeof _=="function"&&_(),V(!0)},[_]),M=kce(r.current),U=s.current;return T.createElement(Cce,{points:c,showLabels:k},n.children,T.createElement(l3,{animationId:S,begin:f,duration:m,isActive:h,easing:g,onAnimationEnd:$,onAnimationStart:O,key:S},G=>{var H=_s(U,M+U,G),D=Math.min(H,M),B;if(h)if(u){var I="".concat(u).split(/[,\s]+/gim).map(Y=>parseFloat(Y));B=Ece(D,M,I)}else B=XM(M,D);else B=u==null?void 0:String(u);if(E){var J=E.length/c.length,q=G===1?c:c.map((Y,te)=>{var Z=Math.floor(te*J);if(E[Z]){var ge=E[Z];return na(na({},Y),{},{x:_s(ge.x,Y.x,G),y:_s(ge.y,Y.y,G)})}return x?na(na({},Y),{},{x:_s(v*2,Y.x,G),y:_s(j/2,Y.y,G)}):na(na({},Y),{},{x:Y.x,y:Y.y})});return a.current=q,T.createElement($I,{props:n,points:q,clipPathId:e,pathRef:r,strokeDasharray:B})}return G>0&&M>0&&(a.current=c,s.current=D),T.createElement($I,{props:n,points:c,clipPathId:e,pathRef:r,strokeDasharray:B})}),T.createElement(_oe,{label:n.label}))}function Rce(t){var{clipPathId:e,props:n}=t,r=T.useRef(null),a=T.useRef(0),s=T.useRef(null);return T.createElement(Ice,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:s})}var Oce=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Sr(t.payload,e)});class Dce extends T.Component{render(){var e,{hide:n,dot:r,points:a,className:s,xAxisId:c,yAxisId:u,top:h,left:f,width:m,height:g,id:x,needClip:v}=this.props;if(n)return null;var j=Jt("recharts-line",s),w=x,{r:_=3,strokeWidth:E=2}=(e=ar(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},S=W4(r),C=_*2+E;return T.createElement(T.Fragment,null,T.createElement(dd,{className:j},v&&T.createElement("defs",null,T.createElement(dle,{clipPathId:w,xAxisId:c,yAxisId:u}),!S&&T.createElement("clipPath",{id:"clipPath-dots-".concat(w)},T.createElement("rect",{x:f-C/2,y:h-C/2,width:m+C,height:g+C}))),T.createElement(ule,{xAxisId:c,yAxisId:u,data:a,dataPointFormatter:Oce,errorBarOffset:0},T.createElement(Rce,{props:this.props,clipPathId:w}))),T.createElement(nle,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var QM={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!hd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Pce(t){var e=Ba(t,QM),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:c,connectNulls:u,dot:h,hide:f,isAnimationActive:m,label:g,legendType:x,xAxisId:v,yAxisId:j,id:w}=e,_=MN(e,yce),{needClip:E}=VM(v,j),S=IN(),C=R2(),V=Va(),k=Je(G=>mce(G,v,j,V,w));if(C!=="horizontal"&&C!=="vertical"||k==null||S==null)return null;var{height:$,width:O,x:M,y:U}=S;return T.createElement(Dce,Nc({},_,{id:w,connectNulls:u,dot:h,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:s,animationEasing:c,isAnimationActive:m,hide:f,label:g,legendType:x,xAxisId:v,yAxisId:j,points:k,layout:C,height:$,width:O,left:M,top:U,needClip:E}))}function Mce(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:s,dataKey:c,bandSize:u,displayedData:h}=t;return h.map((f,m)=>{var g=Sr(f,c);if(e==="horizontal"){var x=Uk({axis:n,ticks:a,bandSize:u,entry:f,index:m}),v=qn(g)?null:r.scale(g);return{x,y:v,value:g,payload:f}}var j=qn(g)?null:n.scale(g),w=Uk({axis:r,ticks:s,bandSize:u,entry:f,index:m});return j==null||w==null?null:{x:j,y:w,value:g,payload:f}}).filter(Boolean)}function Lce(t){var e=Ba(t,QM),n=Va();return T.createElement(Roe,{id:e.id,type:"line"},r=>T.createElement(T.Fragment,null,T.createElement(Aoe,{legendPayload:_ce(e)}),T.createElement(Eoe,{fn:Nce,args:e}),T.createElement(zoe,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),T.createElement(Pce,Nc({},e,{id:r}))))}var ZM=T.memo(Lce);ZM.displayName="Line";var zce=["dangerouslySetInnerHTML","ticks"],Uce=["id"],Vce=["domain"],Bce=["domain"];function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}function b0(t,e){if(t==null)return{};var n,r,a=Fce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Fce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qce(t){var e=Ar();return T.useEffect(()=>(e(qoe(t)),()=>{e($oe(t))}),[t,e]),null}var $ce=t=>{var{xAxisId:e,className:n}=t,r=Je(ZD),a=Va(),s="xAxis",c=Je(_=>xd(_,s,e,a)),u=Je(_=>XP(_,s,e,a)),h=Je(_=>fae(_,e)),f=Je(_=>vae(_,e)),m=Je(_=>gP(_,e));if(h==null||f==null||m==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=t,v=b0(t,zce),{id:j}=m,w=b0(m,Uce);return T.createElement(PN,Gw({},v,w,{scale:c,x:f.x,y:f.y,width:h.width,height:h.height,className:Jt("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:u}))},Hce={allowDataOverflow:Jr.allowDataOverflow,allowDecimals:Jr.allowDecimals,allowDuplicatedCategory:Jr.allowDuplicatedCategory,height:Jr.height,hide:!1,mirror:Jr.mirror,orientation:Jr.orientation,padding:Jr.padding,reversed:Jr.reversed,scale:Jr.scale,tickCount:Jr.tickCount,type:Jr.type,xAxisId:0},Gce=t=>{var e,n,r,a,s,c=Ba(t,Hce);return T.createElement(T.Fragment,null,T.createElement(qce,{interval:(e=c.interval)!==null&&e!==void 0?e:"preserveEnd",id:c.xAxisId,scale:c.scale,type:c.type,padding:c.padding,allowDataOverflow:c.allowDataOverflow,domain:c.domain,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,includeHidden:(n=c.includeHidden)!==null&&n!==void 0?n:!1,reversed:c.reversed,ticks:c.ticks,height:c.height,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(r=c.angle)!==null&&r!==void 0?r:0,minTickGap:(a=c.minTickGap)!==null&&a!==void 0?a:5,tick:(s=c.tick)!==null&&s!==void 0?s:!0,tickFormatter:c.tickFormatter}),T.createElement($ce,c))},Kce=(t,e)=>{var{domain:n}=t,r=b0(t,Vce),{domain:a}=e,s=b0(e,Bce);return Qu(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Qu({domain:n},{domain:a}):!1},JM=T.memo(Gce,Kce);JM.displayName="XAxis";var Yce=["dangerouslySetInnerHTML","ticks"],Wce=["id"],Xce=["domain"],Qce=["domain"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(null,arguments)}function w0(t,e){if(t==null)return{};var n,r,a=Zce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Zce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Jce(t){var e=Ar();return T.useEffect(()=>(e(Hoe(t)),()=>{e(Goe(t))}),[t,e]),null}var eue=t=>{var{yAxisId:e,className:n,width:r,label:a}=t,s=T.useRef(null),c=T.useRef(null),u=Je(ZD),h=Va(),f=Ar(),m="yAxis",g=Je(k=>xd(k,m,e,h)),x=Je(k=>_ae(k,e)),v=Je(k=>wae(k,e)),j=Je(k=>XP(k,m,e,h)),w=Je(k=>yP(k,e));if(T.useLayoutEffect(()=>{if(!(r!=="auto"||!x||kN(a)||T.isValidElement(a)||w==null)){var k=s.current;if(k){var $=k.getCalculatedWidth();Math.round(x.width)!==Math.round($)&&f(Koe({id:e,width:$}))}}},[j,x,f,a,e,r,w]),x==null||v==null||w==null)return null;var{dangerouslySetInnerHTML:_,ticks:E}=t,S=w0(t,Yce),{id:C}=w,V=w0(w,Wce);return T.createElement(PN,Kw({},S,V,{ref:s,labelRef:c,scale:g,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Jt("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:j}))},tue={allowDataOverflow:ea.allowDataOverflow,allowDecimals:ea.allowDecimals,allowDuplicatedCategory:ea.allowDuplicatedCategory,hide:!1,mirror:ea.mirror,orientation:ea.orientation,padding:ea.padding,reversed:ea.reversed,scale:ea.scale,tickCount:ea.tickCount,type:ea.type,width:ea.width,yAxisId:0},nue=t=>{var e,n,r,a,s,c=Ba(t,tue);return T.createElement(T.Fragment,null,T.createElement(Jce,{interval:(e=c.interval)!==null&&e!==void 0?e:"preserveEnd",id:c.yAxisId,scale:c.scale,type:c.type,domain:c.domain,allowDataOverflow:c.allowDataOverflow,dataKey:c.dataKey,allowDuplicatedCategory:c.allowDuplicatedCategory,allowDecimals:c.allowDecimals,tickCount:c.tickCount,padding:c.padding,includeHidden:(n=c.includeHidden)!==null&&n!==void 0?n:!1,reversed:c.reversed,ticks:c.ticks,width:c.width,orientation:c.orientation,mirror:c.mirror,hide:c.hide,unit:c.unit,name:c.name,angle:(r=c.angle)!==null&&r!==void 0?r:0,minTickGap:(a=c.minTickGap)!==null&&a!==void 0?a:5,tick:(s=c.tick)!==null&&s!==void 0?s:!0,tickFormatter:c.tickFormatter}),T.createElement(eue,c))},rue=(t,e)=>{var{domain:n}=t,r=w0(t,Xce),{domain:a}=e,s=w0(e,Qce);return Qu(r,s)?Array.isArray(n)&&n.length===2&&Array.isArray(a)&&a.length===2?n[0]===a[0]&&n[1]===a[1]:Qu({domain:n},{domain:a}):!1},eL=T.memo(nue,rue);eL.displayName="YAxis";var S1={exports:{}},A1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HI;function aue(){if(HI)return A1;HI=1;var t=Zu();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,a=t.useRef,s=t.useEffect,c=t.useMemo,u=t.useDebugValue;return A1.useSyncExternalStoreWithSelector=function(h,f,m,g,x){var v=a(null);if(v.current===null){var j={hasValue:!1,value:null};v.current=j}else j=v.current;v=c(function(){function _(k){if(!E){if(E=!0,S=k,k=g(k),x!==void 0&&j.hasValue){var $=j.value;if(x($,k))return C=$}return C=k}if($=C,n(S,k))return $;var O=g(k);return x!==void 0&&x($,O)?(S=k,$):(S=k,C=O)}var E=!1,S,C,V=m===void 0?null:m;return[function(){return _(f())},V===null?void 0:function(){return _(V())}]},[f,m,g,x]);var w=r(h,v[0],v[1]);return s(function(){j.hasValue=!0,j.value=w},[w]),u(w),w},A1}var GI;function iue(){return GI||(GI=1,S1.exports=aue()),S1.exports}iue();function sue(t){t()}function oue(){let t=null,e=null;return{clear(){t=null,e=null},notify(){sue(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=e={callback:n,next:null,prev:e};return a.prev?a.prev.next=a:t=a,function(){!r||t===null||(r=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}var KI={notify(){},get:()=>[]};function lue(t,e){let n,r=KI,a=0,s=!1;function c(w){m();const _=r.subscribe(w);let E=!1;return()=>{E||(E=!0,_(),g())}}function u(){r.notify()}function h(){j.onStateChange&&j.onStateChange()}function f(){return s}function m(){a++,n||(n=t.subscribe(h),r=oue())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=KI)}function x(){s||(s=!0,m())}function v(){s&&(s=!1,g())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:h,isSubscribed:f,trySubscribe:x,tryUnsubscribe:v,getListeners:()=>r};return j}var cue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uue=cue(),due=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hue=due(),fue=()=>uue||hue?T.useLayoutEffect:T.useEffect,mue=fue(),pue=Symbol.for("react-redux-context"),gue=typeof globalThis<"u"?globalThis:{};function yue(){if(!T.createContext)return{};const t=gue[pue]??=new Map;let e=t.get(T.createContext);return e||(e=T.createContext(null),t.set(T.createContext,e)),e}var xue=yue();function vue(t){const{children:e,context:n,serverState:r,store:a}=t,s=T.useMemo(()=>{const h=lue(a);return{store:a,subscription:h,getServerState:r?()=>r:void 0}},[a,r]),c=T.useMemo(()=>a.getState(),[a]);mue(()=>{const{subscription:h}=s;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[s,c]);const u=n||xue;return T.createElement(u.Provider,{value:s},e)}var bue=vue,wue=(t,e)=>e,LN=Ne([wue,en,hP,Mn,hM,eo,Aie,ir],Rie),zN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},tL=za("mouseClick"),nL=qf();nL.startListening({actionCreator:tL,effect:(t,e)=>{var n=t.payload,r=LN(e.getState(),zN(n));r?.activeIndex!=null&&e.dispatch(Dae({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Yw=za("mouseMove"),rL=qf();rL.startListening({actionCreator:Yw,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=bN(r,r.tooltip.settings.shared),s=LN(r,zN(n));a==="axis"&&(s?.activeIndex!=null?e.dispatch(iM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(aM()))}});var YI={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},aL=ha({name:"rootProps",initialState:YI,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:YI.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),_ue=aL.reducer,{updateOptions:Nue}=aL.actions,iL=ha({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Bde}=iL.actions,jue=iL.reducer,sL=za("keyDown"),oL=za("focus"),UN=qf();UN.startListening({actionCreator:sL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var c=Number(wN(a,bd(n))),u=eo(n);if(s==="Enter"){var h=g0(n,"axis","hover",String(a.index));e.dispatch(Vw({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:h}));return}var f=Sae(n),m=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,x=c+g*m;if(!(u==null||x>=u.length||x<0)){var v=g0(n,"axis","hover",String(x));e.dispatch(Vw({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:v}))}}}}});UN.startListening({actionCreator:oL,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var s="0",c=g0(n,"axis","hover",String(s));e.dispatch(Vw({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:c}))}}}});var Sa=za("externalEvent"),lL=qf();lL.startListening({actionCreator:Sa,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:yie(n),activeDataKey:pie(n),activeIndex:_f(n),activeLabel:pM(n),activeTooltipIndex:_f(n),isTooltipActive:xie(n)};t.payload.handler(r,t.payload.reactEvent)}}});var Eue=Ne([vd],t=>t.tooltipItemPayloads),Sue=Ne([Eue,Jf,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var a=t.find(u=>u.settings.dataKey===r);if(a!=null){var{positions:s}=a;if(s!=null){var c=e(s,n);return c}}}),cL=za("touchMove"),uL=qf();uL.startListening({actionCreator:cL,effect:(t,e)=>{var n=t.payload,r=e.getState(),a=bN(r,r.tooltip.settings.shared);if(a==="axis"){var s=LN(r,zN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(iM({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var c,u=n.touches[0],h=document.elementFromPoint(u.clientX,u.clientY);if(!h||!h.getAttribute)return;var f=h.getAttribute(iJ),m=(c=h.getAttribute(sJ))!==null&&c!==void 0?c:void 0,g=Sue(e.getState(),f,m);e.dispatch(Oae({activeDataKey:m,activeIndex:f,activeCoordinate:g}))}}});var Aue=jD({brush:fle,cartesianAxis:Yoe,chartData:Wie,errorBars:ale,graphicalItems:Loe,layout:IZ,legend:wJ,options:$ie,polarAxis:joe,polarOptions:jue,referenceElements:ble,rootProps:_ue,tooltip:Pae}),Tue=function(e){return nZ({reducer:Aue,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([nL.middleware,rL.middleware,UN.middleware,lL.middleware,uL.middleware]),devTools:hd.devToolsEnabled})};function Cue(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,a=Va(),s=T.useRef(null);if(a)return n;s.current==null&&(s.current=Tue(e));var c=E2;return T.createElement(bue,{context:c,store:s.current},n)}function kue(t){var{layout:e,width:n,height:r,margin:a}=t,s=Ar(),c=Va();return T.useEffect(()=>{c||(s(TZ(e)),s(CZ({width:n,height:r})),s(AZ(a)))},[s,c,e,n,r,a]),null}function Iue(t){var e=Ar();return T.useEffect(()=>{e(Nue(t))},[e,t]),null}var Rue=["children"];function Oue(t,e){if(t==null)return{};var n,r,a=Due(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Due(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(null,arguments)}var Pue={width:"100%",height:"100%"},Mue=T.forwardRef((t,e)=>{var n=e3(),r=t3(),a=r3();if(!e0(n)||!e0(r))return null;var{children:s,otherAttributes:c,title:u,desc:h}=t,f,m;return typeof c.tabIndex=="number"?f=c.tabIndex:f=a?0:void 0,typeof c.role=="string"?m=c.role:m=a?"application":void 0,T.createElement(X4,_0({},c,{title:u,desc:h,role:m,tabIndex:f,width:n,height:r,style:Pue,ref:e}),s)}),Lue=t=>{var{children:e}=t,n=Je(my);if(!n)return null;var{width:r,height:a,y:s,x:c}=n;return T.createElement(X4,{width:r,height:a,x:c,y:s},e)},WI=T.forwardRef((t,e)=>{var{children:n}=t,r=Oue(t,Rue),a=Va();return a?T.createElement(Lue,null,n):T.createElement(Mue,_0({ref:e},r),n)});function zue(){var t=Ar(),[e,n]=T.useState(null),r=Je(aJ);return T.useEffect(()=>{if(e!=null){var a=e.getBoundingClientRect(),s=a.width/e.offsetWidth;ui(s)&&s!==r&&t(kZ(s))}},[e,t,r]),n}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function Uue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Vue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vue(t,e,n){return(e=Bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bue(t){var e=Fue(t,"string");return typeof e=="symbol"?e:e+""}function Fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var que=T.forwardRef((t,e)=>{var{children:n,className:r,height:a,onClick:s,onContextMenu:c,onDoubleClick:u,onMouseDown:h,onMouseEnter:f,onMouseLeave:m,onMouseMove:g,onMouseUp:x,onTouchEnd:v,onTouchMove:j,onTouchStart:w,style:_,width:E}=t,S=Ar(),[C,V]=T.useState(null),[k,$]=T.useState(null);ase();var O=zue(),M=T.useCallback(F=>{O(F),typeof e=="function"&&e(F),V(F),$(F)},[O,e,V,$]),U=T.useCallback(F=>{S(tL(F)),S(Sa({handler:s,reactEvent:F}))},[S,s]),G=T.useCallback(F=>{S(Yw(F)),S(Sa({handler:f,reactEvent:F}))},[S,f]),H=T.useCallback(F=>{S(aM()),S(Sa({handler:m,reactEvent:F}))},[S,m]),D=T.useCallback(F=>{S(Yw(F)),S(Sa({handler:g,reactEvent:F}))},[S,g]),B=T.useCallback(()=>{S(oL())},[S]),I=T.useCallback(F=>{S(sL(F.key))},[S]),J=T.useCallback(F=>{S(Sa({handler:c,reactEvent:F}))},[S,c]),q=T.useCallback(F=>{S(Sa({handler:u,reactEvent:F}))},[S,u]),Y=T.useCallback(F=>{S(Sa({handler:h,reactEvent:F}))},[S,h]),te=T.useCallback(F=>{S(Sa({handler:x,reactEvent:F}))},[S,x]),Z=T.useCallback(F=>{S(Sa({handler:w,reactEvent:F}))},[S,w]),ge=T.useCallback(F=>{S(cL(F)),S(Sa({handler:j,reactEvent:F}))},[S,j]),L=T.useCallback(F=>{S(Sa({handler:v,reactEvent:F}))},[S,v]);return T.createElement(wM.Provider,{value:C},T.createElement(vX.Provider,{value:k},T.createElement("div",{className:Jt("recharts-wrapper",r),style:Uue({position:"relative",cursor:"default",width:E,height:a},_),onClick:U,onContextMenu:J,onDoubleClick:q,onFocus:B,onKeyDown:I,onMouseDown:Y,onMouseEnter:G,onMouseLeave:H,onMouseMove:D,onMouseUp:te,onTouchEnd:L,onTouchMove:ge,onTouchStart:Z,ref:M},n)))}),$ue=["children","className","width","height","style","compact","title","desc"];function Hue(t,e){if(t==null)return{};var n,r,a=Gue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Gue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Kue=T.forwardRef((t,e)=>{var{children:n,className:r,width:a,height:s,style:c,compact:u,title:h,desc:f}=t,m=Hue(t,$ue),g=Cc(m);return u?T.createElement(WI,{otherAttributes:g,title:h,desc:f},n):T.createElement(que,{className:r,style:c,width:a,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},T.createElement(WI,{otherAttributes:g,title:h,desc:f,ref:e},T.createElement(_le,null,n)))}),Yue=["width","height"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}function Wue(t,e){if(t==null)return{};var n,r,a=Xue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function Xue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Que={top:5,right:5,bottom:5,left:5},Zue={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Que,reverseStackOrder:!1,syncMethod:"index"},Jue=T.forwardRef(function(e,n){var r,a=Ba(e.categoricalChartProps,Zue),{width:s,height:c}=a,u=Wue(a,Yue);if(!e0(s)||!e0(c))return null;var{chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,categoricalChartProps:x}=e,v={chartName:h,defaultTooltipEventType:f,validateTooltipEventTypes:m,tooltipPayloadSearcher:g,eventEmitter:void 0};return T.createElement(Cue,{preloadedState:{options:v},reduxStoreName:(r=x.id)!==null&&r!==void 0?r:h},T.createElement(hle,{chartData:x.data}),T.createElement(kue,{width:s,height:c,layout:a.layout,margin:a.margin}),T.createElement(Iue,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),T.createElement(Kue,Ww({},u,{width:s,height:c,ref:n})))}),ede=["axis"],tde=T.forwardRef((t,e)=>T.createElement(Jue,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ede,tooltipPayloadSearcher:Fie,categoricalChartProps:t,ref:e}));function nde(t){if(!t.duration&&!t.startDate&&!t.endDate)return 0;try{const e=t.duration||`${t.startDate||""} - ${t.endDate||""}`,n=e.match(/\b(19|20)\d{2}\b/g);if(n&&n.length>=2){const r=parseInt(n[0]);let a=parseInt(n[n.length-1]);return(e.toLowerCase().includes("present")||e.toLowerCase().includes("current"))&&(a=new Date().getFullYear()),Math.max(0,a-r)}return n&&n.length===1?1:0}catch(e){return console.warn("Error calculating experience years:",e),0}}function Fl(t){if(!t)return new Date(0);if(t instanceof Date)return t;if(t.toDate&&typeof t.toDate=="function")return t.toDate();if(t._seconds)return new Date(t._seconds*1e3);const e=new Date(t);return isNaN(e.getTime())?new Date(0):e}function rde(){const{currentUser:t,userData:e}=Cn(),n=$n(),[r,a]=T.useState(!0),[s,c]=T.useState({totalUploads:0,uploadsThisMonth:0,uploadsLastMonth:0,monthlySpend:0,monthlySpendBreakdown:{subscription:0,cvPacks:0},averageUploadSize:0,recentActivity:[],uploadTrend:0,spendTrend:0,dailyUploads:[],topSkills:[],experienceLevels:{junior:0,mid:0,senior:0,unknown:0},topLocations:[],averageCompleteness:0,completenessDistribution:{excellent:0,good:0,fair:0,poor:0},educationDistribution:[],parsingSuccessRate:0,parsedCVs:0,failedCVs:0});T.useEffect(()=>{if(console.log("Analytics useEffect triggered"),console.log("currentUser:",t?.uid),console.log("userData:",e),console.log("userData.teamAccess:",e?.teamAccess),!t||!e){console.log("Skipping analytics load - missing currentUser or userData");return}console.log("Loading analytics..."),u()},[t,e]);const u=async()=>{if(t)try{a(!0);const f=new Date,m=new Date(f.getFullYear(),f.getMonth(),1),g=new Date(f.getFullYear(),f.getMonth()-1,1),x=new Date(f.getFullYear(),f.getMonth(),0),v=e?.teamAccess,j=v?.isTeamMember&&v?.teamOwnerId?v.teamOwnerId:t.uid;console.log("Loading CVs for user:",j,"(Team member:",v?.isTeamMember,")");let w=[];if(v?.isTeamMember&&v?.teamOwnerId){console.log("Fetching team CVs via Cloud Function");const Ee=Qt(),oe=await _t(Ee,"getTeamCVs")();oe.data.success&&(w=oe.data.cvs.map(ze=>({...ze,id:ze.id,uploadedAt:Fl(ze.uploadedAt)})),console.log("Team CVs fetched:",w.length))}else{console.log("Current user ID:",t.uid);const Ee=$i(Ra(It,"cvs"),br("userId","==",t.uid));console.log("Executing Firestore query...");const re=await Hi(Ee);console.log("Query completed. Documents found:",re.docs.length),w=re.docs.map(oe=>({id:oe.id,...oe.data()}))}w=w.sort((Ee,re)=>{const oe=Fl(Ee.uploadedAt);return Fl(re.uploadedAt)-oe}),w.length===0&&(console.warn(" No CVs found for user:",j),console.warn("Check Firestore console to verify CVs exist with correct userId")),console.log("CVs data:",w),console.log("Sample CV metadata:",w[0]?.metadata),console.log("Sample CV fields:",Object.keys(w[0]||{}));const _=w.length;console.log("Total uploads:",_);const E={};w.forEach(Ee=>{const re=Ee.metadata?.skills||[];re.length>0&&console.log("CV has skills:",re),re.forEach(oe=>{E[oe]=(E[oe]||0)+1})}),console.log("Skills map:",E);const S=Object.entries(E).sort((Ee,re)=>re[1]-Ee[1]).slice(0,10).map(([Ee,re])=>({skill:Ee,count:re,percentage:_>0?(re/_*100).toFixed(1):0})),C={junior:0,mid:0,senior:0,unknown:0};w.forEach(Ee=>{const re=Ee.metadata?.experience||[];if(re.length===0)C.unknown++;else{let oe=0;re.forEach(ze=>{const Be=nde(ze);oe+=Be}),oe===0&&(oe=re.length*1.5),oe<=2?C.junior++:oe>=3&&oe<=5?C.mid++:oe>=6&&C.senior++}});const V={};w.forEach(Ee=>{const re=Ee.metadata?.location||"Unknown";V[re]=(V[re]||0)+1});const k=Object.entries(V).sort((Ee,re)=>re[1]-Ee[1]).slice(0,8).map(([Ee,re])=>({location:Ee,count:re,percentage:_>0?(re/_*100).toFixed(1):0}));let $=0;const O={excellent:0,good:0,fair:0,poor:0};w.forEach(Ee=>{const re=Ee.metadata||{};let oe=0;re.name&&(oe+=15),re.email&&(oe+=15),re.phone&&(oe+=10),re.location&&(oe+=10),re.skills?.length>0&&(oe+=20),re.experience?.length>0&&(oe+=20),re.education?.length>0&&(oe+=10),$+=oe,oe>=90?O.excellent++:oe>=70?O.good++:oe>=50?O.fair++:O.poor++});const M=_>0?($/_).toFixed(1):0,U={};w.forEach(Ee=>{const re=Ee.metadata?.education||[];if(re.length===0)U["Not Specified"]=(U["Not Specified"]||0)+1;else{const oe=re[0]?.degree||"Unknown";U[oe]=(U[oe]||0)+1}});const G=Object.entries(U).sort((Ee,re)=>re[1]-Ee[1]).slice(0,6).map(([Ee,re])=>({degree:Ee,count:re,percentage:_>0?(re/_*100).toFixed(1):0})),H=w.filter(Ee=>Ee.parsed===!0).length,D=w.filter(Ee=>Ee.status==="error").length,B=_>0?(H/_*100).toFixed(1):0,I=w.filter(Ee=>Fl(Ee.uploadedAt)>=m).length;let J=0,q=0,Y=0;const te=e?.plan||"free";Oa[te]&&Oa[te].price&&(q=Oa[te].price);try{const Ee=$i(Ra(It,"payments"),br("userId","==",j),br("status","==","complete"),br("purchaseType","==","cv_pack"));(await Hi(Ee)).docs.forEach(oe=>{const ze=oe.data(),Be=ze.completedAt?.toDate()||ze.createdAt?.toDate();Be&&Be>=m&&(Y+=parseFloat(ze.amount)||0)})}catch(Ee){console.log("Could not fetch CV pack purchases:",Ee)}J=q+Y;const Z=q,ge=Z>0?((J-Z)/Z*100).toFixed(1):J>0?100:0,L=w.filter(Ee=>{const re=Fl(Ee.uploadedAt);return re>=g&&re<=x}).length,F=L>0?((I-L)/L*100).toFixed(1):I>0?100:0,se=w.slice(0,10).map(Ee=>({id:Ee.id,name:Ee.fileName||"Unknown",date:Fl(Ee.uploadedAt),action:"Uploaded CV"})),le={},ue=new Date;ue.setDate(ue.getDate()-30);for(let Ee=29;Ee>=0;Ee--){const re=new Date;re.setDate(re.getDate()-Ee);const oe=re.toLocaleDateString("en-US",{month:"short",day:"numeric"});le[oe]=0}w.forEach(Ee=>{const re=Fl(Ee.uploadedAt);if(re&&re>=ue){const oe=re.toLocaleDateString("en-US",{month:"short",day:"numeric"});le.hasOwnProperty(oe)&&le[oe]++}});const Re=Object.entries(le).map(([Ee,re])=>({date:Ee,uploads:re}));c({totalUploads:_,uploadsThisMonth:I,uploadsLastMonth:L,monthlySpend:J,monthlySpendBreakdown:{subscription:q,cvPacks:Y},averageUploadSize:_>0?(I/_*100).toFixed(1):0,recentActivity:se,uploadTrend:F,spendTrend:ge,dailyUploads:Re,topSkills:S,experienceLevels:C,topLocations:k,averageCompleteness:M,completenessDistribution:O,educationDistribution:G,parsingSuccessRate:B,parsedCVs:H,failedCVs:D}),a(!1)}catch(f){console.error("Error loading analytics:",f),console.error("Error details:",f.message),console.error("Error code:",f.code),(f.code==="failed-precondition"||f.message?.includes("index"))&&(console.error("FIRESTORE INDEX ERROR: You need to create a composite index."),console.error("Click the link in the error below or create an index for:"),console.error("Collection: cvs"),console.error("Fields: userId (Ascending), uploadedAt (Descending)")),a(!1)}},h=({title:f,value:m,subtitle:g,icon:x,trend:v,color:j="orange"})=>{const w={orange:"from-orange-500 to-orange-600",purple:"from-purple-500 to-purple-600",lime:"from-lime-500 to-lime-600",blue:"from-blue-500 to-blue-600"};return o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-all hover:-translate-y-1 group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${w[j]} rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform`,children:o.jsx(x,{size:24,className:"text-white"})}),v!==void 0&&o.jsxs("div",{className:`flex items-center gap-1 text-sm font-bold px-3 py-1.5 rounded-full ${v>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[v>=0?o.jsx(hf,{size:14}):o.jsx(jW,{size:14}),Math.abs(v),"%"]})]}),o.jsx("h3",{className:"text-4xl font-bold text-gray-900 mb-2",children:m}),o.jsx("p",{className:"text-gray-700 font-semibold text-sm",children:f}),g&&o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:g})]})};return r?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ws,{className:"w-12 h-12 text-orange-500 animate-pulse mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[o.jsx(Ys,{size:20}),o.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(Xl,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Analytics"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Performance Insights"})]})]})]})})}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:o.jsx(Xl,{size:28})}),"Analytics Dashboard"]}),o.jsx("p",{className:"text-orange-100 text-lg",children:"Track your CV filtering performance and gain actionable insights"})]}),o.jsx("div",{className:"hidden lg:block",children:o.jsx(ws,{className:"w-24 h-24 text-white/20"})})]})}),o.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsx(h,{title:"Total CVs Uploaded",value:s.totalUploads,subtitle:"All time",icon:wr,color:"orange"}),o.jsx(h,{title:"Uploads This Month",value:s.uploadsThisMonth,subtitle:t?.userData?.plan==="enterprise"||t?.userData?.cvUploadLimit===-1?"Unlimited uploads":`Out of ${t?.userData?.cvUploadLimit||10} limit`,icon:hf,trend:s.uploadTrend,color:"purple"}),o.jsx(h,{title:"Monthly Spend",value:`R${s.monthlySpend.toFixed(0)}`,subtitle:`Subscription: R${s.monthlySpendBreakdown.subscription} | Packs: R${s.monthlySpendBreakdown.cvPacks}`,icon:Xl,trend:s.spendTrend,color:"lime"}),o.jsx(h,{title:"Last Month",value:s.uploadsLastMonth,subtitle:"Previous period",icon:cd,color:"blue"})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx(Xl,{className:"text-white",size:16})}),"Upload Trend"]}),o.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Last 30 Days"})]}),s.dailyUploads.length>0&&s.dailyUploads.some(f=>f.uploads>0)?o.jsx(_se,{width:"100%",height:250,children:o.jsxs(tde,{data:s.dailyUploads,children:[o.jsx(HM,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.jsx(JM,{dataKey:"date",tick:{fontSize:12},interval:"preserveStartEnd",angle:-45,textAnchor:"end",height:60}),o.jsx(eL,{tick:{fontSize:12}}),o.jsx(hse,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}}),o.jsx(ZM,{type:"monotone",dataKey:"uploads",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",r:4},activeDot:{r:6}})]})}):o.jsx("div",{className:"h-64 flex items-center justify-center bg-gradient-to-br from-gray-50 to-orange-50 rounded-xl",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(mY,{className:"w-10 h-10 text-gray-300"})}),o.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:"No upload data yet"}),o.jsx("p",{className:"text-sm text-gray-500",children:"Start uploading CVs to see trends"})]})})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:o.jsx(ws,{className:"text-white",size:16})}),"Usage Overview"]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-5 border border-orange-100",children:[o.jsxs("div",{className:"flex justify-between mb-3",children:[o.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Monthly Upload Limit"}),o.jsx("span",{className:"text-lg font-bold text-orange-600",children:t?.userData?.plan==="enterprise"||t?.userData?.cvUploadLimit===-1?`${s.uploadsThisMonth} (Unlimited)`:`${s.uploadsThisMonth} / ${t?.userData?.cvUploadLimit||10}`})]}),t?.userData?.plan!=="enterprise"&&t?.userData?.cvUploadLimit!==-1&&o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-4 rounded-full transition-all shadow-sm flex items-center justify-end pr-2",style:{width:`${Math.min(s.uploadsThisMonth/(t?.userData?.cvUploadLimit||10)*100,100)}%`},children:s.uploadsThisMonth>0&&o.jsxs("span",{className:"text-xs text-white font-bold",children:[Math.round(s.uploadsThisMonth/(t?.userData?.cvUploadLimit||10)*100),"%"]})})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded flex items-center justify-center",children:o.jsx(ws,{className:"text-blue-600",size:12})}),"Quick Stats"]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average daily uploads"}),o.jsx("span",{className:"text-sm font-bold text-gray-900 px-3 py-1 bg-white rounded-lg shadow-sm",children:(s.uploadsThisMonth/new Date().getDate()).toFixed(1)})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current plan"}),o.jsx("span",{className:"text-sm font-bold text-orange-600 capitalize px-3 py-1 bg-orange-50 rounded-lg",children:t?.userData?.plan||"Free"})]}),(t?.userData?.cvPackBalance||0)>0&&o.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-xl hover:bg-purple-100 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"CV Pack Balance"}),o.jsxs("span",{className:"text-sm font-bold text-purple-600 px-3 py-1 bg-purple-100 rounded-lg",children:["+",t?.userData?.cvPackBalance||0," Bonus CVs"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Growth this month"}),o.jsxs("span",{className:`text-sm font-bold px-3 py-1 rounded-lg ${s.uploadTrend>=0?"text-green-700 bg-green-50":"text-red-700 bg-red-50"}`,children:[s.uploadTrend>=0?"+":"",s.uploadTrend,"%"]})]})]})]})]})]})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:o.jsx(ws,{className:"text-white",size:16})}),"Recent Activity"]}),o.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Last 10 Actions"})]}),s.recentActivity.length===0?o.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-gray-50 to-orange-50 rounded-xl",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(wr,{className:"w-10 h-10 text-gray-300"})}),o.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:"No activity yet"}),o.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Upload your first CV to see activity here"}),o.jsx("button",{onClick:()=>n("/upload"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3 rounded-xl font-semibold transition-all shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-105",children:"Upload CV"})]}):o.jsx("div",{className:"space-y-3",children:s.recentActivity.map((f,m)=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-orange-50/50 rounded-xl hover:from-gray-100 hover:to-orange-100/50 transition-all border border-gray-100 hover:border-orange-200 group",style:{animationDelay:`${m*50}ms`},children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:o.jsx(wr,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:f.action}),o.jsx("p",{className:"text-sm text-gray-600 truncate max-w-md",children:f.name})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-sm font-medium text-gray-700",children:f.date?new Date(f.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"}),o.jsx("p",{className:"text-xs text-gray-500",children:f.date?new Date(f.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""})]})]},f.id))})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mt-8",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-lime-500 rounded-lg flex items-center justify-center",children:o.jsx(rl,{className:"text-white",size:16})}),"Top Skills in Database"]}),o.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Top 10"})]}),s.topSkills.length>0?o.jsx("div",{className:"space-y-3",children:s.topSkills.map((f,m)=>o.jsxs("div",{className:"group",children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900",children:f.skill}),o.jsxs("span",{className:"text-sm font-bold text-lime-600",children:[f.count," CVs (",f.percentage,"%)"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:o.jsx("div",{className:"bg-gradient-to-r from-lime-500 to-lime-600 h-2.5 rounded-full transition-all group-hover:scale-105",style:{width:`${f.percentage}%`}})})]},m))}):o.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:o.jsx("p",{className:"text-gray-600",children:"No skills data available yet"})})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:o.jsx(sa,{className:"text-white",size:16})}),"Experience Level Distribution"]})}),o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 border border-green-200 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"text-3xl font-bold text-green-700 mb-1",children:s.experienceLevels.junior}),o.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Junior Level"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"0-2 years exp."})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-1",children:s.experienceLevels.mid}),o.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Mid Level"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"3-5 years exp."})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 border border-purple-200 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-1",children:s.experienceLevels.senior}),o.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Senior Level"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"6+ years exp."})]}),o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-5 border border-gray-200 hover:shadow-md transition-shadow",children:[o.jsx("div",{className:"text-3xl font-bold text-gray-700 mb-1",children:s.experienceLevels.unknown}),o.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Unknown"}),o.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"No exp. listed"})]})]})})]})]}),o.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mt-6",children:[o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:o.jsx(B4,{className:"text-white",size:16})}),"Candidate Locations"]}),o.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Top 8"})]}),s.topLocations.length>0?o.jsx("div",{className:"space-y-3",children:s.topLocations.map((f,m)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-orange-50 rounded-xl hover:from-gray-100 hover:to-orange-100 transition-all border border-gray-100",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.location}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full",style:{width:`${f.percentage}%`}})}),o.jsxs("span",{className:"text-sm font-bold text-orange-600 min-w-[60px] text-right",children:[f.count," (",f.percentage,"%)"]})]})]},m))}):o.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:o.jsx("p",{className:"text-gray-600",children:"No location data available yet"})})]}),o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:o.jsx(rl,{className:"text-white",size:16})}),"Education Levels"]})}),s.educationDistribution.length>0?o.jsx("div",{className:"space-y-3",children:s.educationDistribution.map((f,m)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl hover:from-gray-100 hover:to-blue-100 transition-all border border-gray-100",children:[o.jsx("span",{className:"text-sm font-medium text-gray-900",children:f.degree}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",style:{width:`${f.percentage}%`}})}),o.jsxs("span",{className:"text-sm font-bold text-blue-600 min-w-[60px] text-right",children:[f.count," (",f.percentage,"%)"]})]})]},m))}):o.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:o.jsx("p",{className:"text-gray-600",children:"No education data available yet"})})]})]}),o.jsx("div",{className:"mt-6",children:o.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-8 bg-lime-500 rounded-lg flex items-center justify-center",children:o.jsx(Ur,{className:"text-white",size:16})}),"CV Data Quality"]})}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Average Completeness Score"}),o.jsxs("span",{className:"text-3xl font-bold text-lime-600",children:[s.averageCompleteness,"%"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:o.jsx("div",{className:"bg-gradient-to-r from-lime-500 to-lime-600 h-4 rounded-full transition-all flex items-center justify-end pr-2",style:{width:`${s.averageCompleteness}%`},children:s.averageCompleteness>10&&o.jsxs("span",{className:"text-xs text-white font-bold",children:[s.averageCompleteness,"%"]})})})]}),o.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Parsing Success Rate"}),o.jsxs("span",{className:"text-sm font-bold text-green-600",children:[s.parsingSuccessRate,"%"]})]}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.parsedCVs," successfully parsed, ",s.failedCVs," failed"]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-xl border border-green-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"text-green-600",size:16}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Excellent (90%+)"})]}),o.jsxs("span",{className:"text-sm font-bold text-green-700",children:[s.completenessDistribution.excellent," CVs"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-xl border border-blue-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ur,{className:"text-blue-600",size:16}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Good (70-89%)"})]}),o.jsxs("span",{className:"text-sm font-bold text-blue-700",children:[s.completenessDistribution.good," CVs"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-xl border border-yellow-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bg,{className:"text-yellow-600",size:16}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Fair (50-69%)"})]}),o.jsxs("span",{className:"text-sm font-bold text-yellow-700",children:[s.completenessDistribution.fair," CVs"]})]}),o.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl border border-red-200",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Bg,{className:"text-red-600",size:16}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Poor (<50%)"})]}),o.jsxs("span",{className:"text-sm font-bold text-red-700",children:[s.completenessDistribution.poor," CVs"]})]})]})]})]})}),!1]})]})}function ade(){const{currentUser:t}=Cn(),[e,n]=T.useState(null),[r,a]=T.useState(null),s=qW(),c=t?.userData?.cvPackBalance||0,u=async h=>{try{n(h.id),a(null);const m=await _t(Kh,"createPayment")({purchaseType:"cv_pack",cvPackId:h.id,cvCount:h.cvCount,amount:h.price,itemName:h.name}),{paymentUrl:g,paymentData:x,paymentId:v}=m.data;localStorage.setItem("pendingPaymentId",v);const j=document.createElement("form");j.method="POST",j.action=g,Object.keys(x).forEach(w=>{const _=document.createElement("input");_.type="hidden",_.name=w,_.value=x[w],j.appendChild(_)}),document.body.appendChild(j),j.submit()}catch(f){console.error("Payment error:",f),a(f.message||"Failed to initiate payment. Please try again."),n(null)}};return o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(Ug,{className:"text-white",size:20})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CV Packs"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Purchase extra CVs to supplement your monthly plan"})]})]}),c>0&&o.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-200 rounded-xl",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(fr,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-green-700",children:"Available CV Pack Balance"}),o.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[c," CVs"]})]})]})}),r&&o.jsx("div",{className:"mb-6 p-4 border border-red-200 rounded-lg bg-red-50",children:o.jsxs("div",{className:"flex items-start space-x-3",children:[o.jsx($t,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"font-medium text-red-800",children:r})}),o.jsx("button",{onClick:()=>a(null),className:"text-red-500 hover:text-red-700",children:""})]})}),o.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[o.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How CV Packs Work"}),o.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:16,className:"mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"CV Packs never expire - use them anytime"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:16,className:"mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Used automatically when your monthly limit is reached"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:16,className:"mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Works with all subscription plans"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:16,className:"mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Larger packs offer better value per CV"})]})]})]}),o.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:s.map(h=>o.jsxs("div",{className:`relative bg-white rounded-xl p-6 border-2 transition-all hover:shadow-lg ${h.popular?"border-purple-500 shadow-xl shadow-purple-500/20":"border-gray-200 hover:border-purple-300"}`,children:[h.popular&&o.jsx("div",{className:"absolute px-3 py-1 text-xs font-semibold text-white bg-purple-500 rounded-full -top-3 left-1/2 -translate-x-1/2",children:"Best Value"}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg mb-3",children:o.jsx(Ug,{className:"text-white",size:32})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:h.name}),o.jsx("div",{className:"inline-block px-3 py-1 bg-purple-100 rounded-full",children:o.jsxs("span",{className:"text-sm font-bold text-purple-900",children:[h.cvCount," CVs"]})})]}),o.jsxs("div",{className:"text-center mb-4",children:[o.jsxs("div",{className:"flex items-baseline justify-center mb-1",children:[o.jsx("span",{className:"text-sm text-gray-500 mr-1",children:"ZAR"}),o.jsx("span",{className:"text-3xl font-bold text-gray-900",children:h.price})]}),h.savings&&o.jsx("p",{className:"text-xs font-semibold text-green-600",children:h.savings}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["R",(h.price/h.cvCount).toFixed(2)," per CV"]})]}),o.jsx("button",{onClick:()=>u(h),disabled:e===h.id,className:`w-full py-3 rounded-lg font-semibold transition-all flex items-center justify-center space-x-2 ${h.popular?"bg-purple-500 text-white hover:bg-purple-600 shadow-lg shadow-purple-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${e===h.id?"opacity-50 cursor-wait":""}`,children:e===h.id?o.jsxs(o.Fragment,{children:[o.jsx(_r,{size:18,className:"animate-spin"}),o.jsx("span",{children:"Processing..."})]}):o.jsx("span",{children:"Purchase Pack"})})]},h.id))}),o.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:o.jsx("p",{children:"All transactions are processed securely through PayFast"})})]})}const T1=[{value:"text",label:"Text",icon:F4,description:"Short text input"},{value:"number",label:"Number",icon:$Y,description:"Numeric values"},{value:"date",label:"Date",icon:cd,description:"Date picker"},{value:"boolean",label:"Yes/No",icon:vW,description:"True/false checkbox"},{value:"select",label:"Dropdown",icon:Rs,description:"Single choice from list"}],C1={recruitment:{name:"Recruitment Agency",icon:fr,color:"blue",fields:[{name:"notice_period",label:"Notice Period",type:"select",required:!0,options:["Immediate","1 Week","2 Weeks","1 Month","2 Months","3 Months"]},{name:"salary_expectation",label:"Salary Expectation",type:"text",required:!1},{name:"available_for_relocation",label:"Available for Relocation",type:"boolean",required:!1},{name:"driver_license",label:"Has Driver License",type:"boolean",required:!1},{name:"security_clearance",label:"Security Clearance",type:"select",required:!1,options:["None","Confidential","Secret","Top Secret"]},{name:"interview_availability",label:"Interview Availability",type:"date",required:!1}]},corporate:{name:"Corporate HR",icon:fr,color:"purple",fields:[{name:"employee_id",label:"Employee ID",type:"text",required:!1},{name:"department",label:"Department",type:"select",required:!0,options:["Engineering","Sales","Marketing","Finance","HR","Operations"]},{name:"seniority_level",label:"Seniority Level",type:"select",required:!0,options:["Entry","Junior","Mid","Senior","Lead","Manager","Director","Executive"]},{name:"hire_date",label:"Hire Date",type:"date",required:!1},{name:"performance_rating",label:"Performance Rating",type:"select",required:!1,options:["1 - Needs Improvement","2 - Meets Expectations","3 - Exceeds Expectations","4 - Outstanding","5 - Exceptional"]},{name:"internal_referral",label:"Internal Referral",type:"boolean",required:!1}]},construction:{name:"Construction/Trades",icon:fr,color:"orange",fields:[{name:"trade_certification",label:"Trade Certification",type:"text",required:!0},{name:"years_in_trade",label:"Years in Trade",type:"number",required:!0},{name:"has_own_tools",label:"Has Own Tools",type:"boolean",required:!1},{name:"vehicle_type",label:"Vehicle Type",type:"select",required:!1,options:["None","Car","Bakkie","Van","Truck"]},{name:"willing_to_travel",label:"Willing to Travel",type:"boolean",required:!1},{name:"site_experience",label:"Site Experience",type:"select",required:!1,options:["Residential","Commercial","Industrial","Infrastructure","All"]}]},tech:{name:"Tech/IT",icon:fr,color:"green",fields:[{name:"github_profile",label:"GitHub Profile",type:"text",required:!1},{name:"linkedin_profile",label:"LinkedIn Profile",type:"text",required:!1},{name:"portfolio_url",label:"Portfolio URL",type:"text",required:!1},{name:"remote_work_preference",label:"Remote Work Preference",type:"select",required:!1,options:["On-site","Hybrid","Remote","Flexible"]},{name:"tech_stack",label:"Primary Tech Stack",type:"text",required:!1},{name:"certifications_count",label:"Number of Certifications",type:"number",required:!1}]}};function ide(){const{currentUser:t}=Cn(),e=ll(),[n,r]=T.useState([]),[a,s]=T.useState(!0),[c,u]=T.useState(!1),[h,f]=T.useState(null),[m,g]=T.useState(!1),[x,v]=T.useState(!1),[j,w]=T.useState({isOpen:!1,fieldId:null,fieldLabel:""}),[_,E]=T.useState({isOpen:!1,templateKey:null,templateName:""}),[S,C]=T.useState({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null}),V=t?.userData?.plan||"free",k=ud(V,"customFields");T.useEffect(()=>{$()},[t]);const $=async()=>{if(t)try{s(!0);const q=On(It,"customFieldConfigs",t.uid),Y=await pc(q);Y.exists()&&r(Y.data().fields||[])}catch(q){console.error("Error loading custom fields:",q),e.error("Failed to load custom fields")}finally{s(!1)}},O=async q=>{if(t)try{u(!0);const Y=On(It,"customFieldConfigs",t.uid);return await Lh(Y,{userId:t.uid,fields:q,updatedAt:new Date}),r(q),e.success("Custom fields saved successfully"),!0}catch(Y){return console.error("Error saving custom fields:",Y),e.error("Failed to save custom fields"),!1}finally{u(!1)}},M=async()=>{if(!S.name.trim()||!S.label.trim()){e.error("Field name and label are required");return}if(n.some(Z=>Z.name===S.name)){e.error("A field with this name already exists");return}if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(S.name)){e.error("Field name must start with a letter and contain only letters, numbers, and underscores");return}if(S.type==="select"&&S.options.length===0){e.error("Dropdown fields must have at least one option");return}const q={...S,id:`custom_${Date.now()}`,createdAt:new Date},Y=[...n,q];await O(Y)&&(C({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null}),g(!1))},U=async q=>{const Y=n.map(Z=>Z.id===q?{...h}:Z);await O(Y)&&f(null)},G=q=>{const te=n.find(Z=>Z.id===q)?.label||"this field";w({isOpen:!0,fieldId:q,fieldLabel:te})},H=async()=>{const q=n.filter(Y=>Y.id!==j.fieldId);await O(q),w({isOpen:!1,fieldId:null,fieldLabel:""})},D=(q,Y)=>{const te=prompt("Enter option value:");te&&te.trim()&&Y({...q,options:[...q.options||[],te.trim()]})},B=(q,Y,te)=>{te({...Y,options:Y.options.filter((Z,ge)=>ge!==q)})},I=q=>{const Y=C1[q];Y&&(n.length>0?E({isOpen:!0,templateKey:q,templateName:Y.name}):J(q))},J=async q=>{const Y=C1[q];if(!Y)return;const te=Y.fields.map((ge,L)=>({...ge,id:`custom_${Date.now()}_${L}`,createdAt:new Date}));await O(te)&&(e.success(`Applied "${Y.name}" template successfully`),v(!1),E({isOpen:!1,templateKey:null,templateName:""}))};return a?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):k?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Custom Fields"}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add custom fields to track additional information on CVs"})]}),!m&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:()=>v(!x),className:"flex items-center space-x-2 px-4 py-2 border border-purple-300 text-purple-600 rounded-lg font-semibold hover:bg-purple-50 transition-colors",children:[o.jsx(fr,{size:18}),o.jsx("span",{children:"Templates"})]}),o.jsxs("button",{onClick:()=>g(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:[o.jsx(ic,{size:18}),o.jsx("span",{children:"Add Field"})]})]})]}),x&&o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsxs("h4",{className:"text-lg font-bold text-gray-900 flex items-center space-x-2",children:[o.jsx(fr,{className:"text-purple-500",size:20}),o.jsx("span",{children:"Field Templates"})]}),o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Quick start with pre-configured field sets for common industries"})]}),o.jsx("button",{onClick:()=>v(!1),className:"text-gray-500 hover:text-gray-700",children:o.jsx(Xe,{size:20})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(C1).map(([q,Y])=>{const te=Y.icon,Z={blue:"from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",purple:"from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",orange:"from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",green:"from-green-500 to-green-600 hover:from-green-600 hover:to-green-700"};return o.jsxs("button",{onClick:()=>I(q),className:`text-left p-4 bg-gradient-to-br ${Z[Y.color]} text-white rounded-xl shadow-md hover:shadow-lg transition-all`,children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(te,{size:24}),o.jsx("h5",{className:"font-bold text-lg",children:Y.name})]}),o.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[Y.fields.length," fields"]})]}),o.jsxs("p",{className:"text-sm text-white/90 mb-3",children:[Y.fields.slice(0,3).map(ge=>ge.label).join(", "),Y.fields.length>3&&` +${Y.fields.length-3} more`]}),o.jsx("div",{className:"text-xs text-white/80",children:"Click to apply this template"})]},q)})})]}),n.length>0?o.jsx("div",{className:"space-y-3",children:n.map(q=>o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:h?.id===q.id?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Name"}),o.jsx("input",{type:"text",value:h.name,onChange:Y=>f({...h,name:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:!0}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cannot be changed after creation"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Label"}),o.jsx("input",{type:"text",value:h.label,onChange:Y=>f({...h,label:Y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),h.type==="select"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),o.jsxs("div",{className:"space-y-2",children:[h.options?.map((Y,te)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm",children:Y}),o.jsx("button",{onClick:()=>B(te,h,f),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(Nr,{size:16})})]},te)),o.jsx("button",{onClick:()=>D(h,f),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"+ Add Option"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:h.required,onChange:Y=>f({...h,required:Y.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),o.jsx("label",{className:"text-sm text-gray-700",children:"Required field"})]}),o.jsxs("div",{className:"flex justify-end space-x-2",children:[o.jsx("button",{onClick:()=>f(null),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:()=>U(q.id),disabled:c,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50",children:[o.jsx(Yh,{size:16}),o.jsx("span",{children:"Save"})]})]})]}):o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[N0.createElement(T1.find(Y=>Y.value===q.type)?.icon||F4,{size:18,className:"text-gray-400"}),o.jsx("span",{className:"font-semibold text-gray-900",children:q.label})]}),o.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:q.name}),o.jsx("span",{className:"text-xs px-2 py-1 bg-orange-100 text-orange-600 rounded-full",children:T1.find(Y=>Y.value===q.type)?.label||q.type}),q.required&&o.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-600 rounded-full",children:"Required"})]}),q.type==="select"&&q.options?.length>0&&o.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Options: ",q.options.join(", ")]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f({...q}),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(p2,{size:18})}),o.jsx("button",{onClick:()=>G(q.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(Nr,{size:18})})]})]})},q.id))}):!m&&o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[o.jsx(Rs,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"No custom fields defined yet"}),o.jsx("button",{onClick:()=>g(!0),className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:"Create Your First Field"})]}),m&&o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Add New Custom Field"}),o.jsx("button",{onClick:()=>{g(!1),C({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null})},className:"p-1 text-gray-500 hover:text-gray-700",children:o.jsx(Xe,{size:20})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Field Name ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:S.name,onChange:q=>C({...S,name:q.target.value}),placeholder:"e.g., years_of_experience",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used internally (lowercase, underscores only)"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Display Label ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsx("input",{type:"text",value:S.label,onChange:q=>C({...S,label:q.target.value}),placeholder:"e.g., Years of Experience",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Shown to users in the interface"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Field Type"}),o.jsx("div",{className:"grid grid-cols-5 gap-2",children:T1.map(q=>{const Y=q.icon;return o.jsxs("button",{onClick:()=>C({...S,type:q.value}),className:`p-3 rounded-lg border-2 transition-all ${S.type===q.value?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[o.jsx(Y,{size:20,className:S.type===q.value?"text-orange-500 mx-auto":"text-gray-400 mx-auto"}),o.jsx("p",{className:`text-xs font-medium mt-1 ${S.type===q.value?"text-orange-600":"text-gray-600"}`,children:q.label})]},q.value)})})]}),S.type==="select"&&o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Dropdown Options ",o.jsx("span",{className:"text-red-500",children:"*"})]}),o.jsxs("div",{className:"space-y-2",children:[S.options?.map((q,Y)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm",children:q}),o.jsx("button",{onClick:()=>B(Y,S,C),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:o.jsx(Nr,{size:16})})]},Y)),o.jsx("button",{onClick:()=>D(S,C),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"+ Add Option"})]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-5 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center shadow-md",children:o.jsx(f2,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-base font-bold text-gray-900",children:"Conditional Display"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Show this field only when another field has a specific value"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Show when field:"}),o.jsxs("select",{value:S.conditionalOn||"",onChange:q=>C({...S,conditionalOn:q.target.value||null,conditionalValue:null}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[o.jsx("option",{value:"",children:"Always show this field"}),n.filter(q=>q.type==="boolean"||q.type==="select").map(q=>o.jsx("option",{value:q.name,children:q.label},q.id))]})]}),S.conditionalOn&&o.jsxs("div",{className:"animate-fadeIn",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Equals value:"}),(()=>{const q=n.find(Y=>Y.name===S.conditionalOn);return q?.type==="boolean"?o.jsxs("select",{value:S.conditionalValue===null?"":String(S.conditionalValue),onChange:Y=>C({...S,conditionalValue:Y.target.value==="true"}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[o.jsx("option",{value:"",children:"Select value..."}),o.jsx("option",{value:"true",children:" Yes"}),o.jsx("option",{value:"false",children:" No"})]}):q?.type==="select"?o.jsxs("select",{value:S.conditionalValue||"",onChange:Y=>C({...S,conditionalValue:Y.target.value}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[o.jsx("option",{value:"",children:"Select value..."}),q.options?.map((Y,te)=>o.jsx("option",{value:Y,children:Y},te))]}):null})()]}),S.conditionalOn&&S.conditionalValue!==null&&S.conditionalValue!==""&&o.jsxs("div",{className:"animate-slideUp",children:[o.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:"Active filters:"}),o.jsxs("div",{className:"flex items-start gap-3 text-sm text-blue-900 bg-white rounded-lg px-4 py-3 border-2 border-blue-300 shadow-sm",children:[o.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx($e,{className:"text-white",size:14})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold mb-1",children:"Conditional display enabled"}),o.jsxs("p",{className:"text-blue-700",children:["Field will appear when ",o.jsxs("span",{className:"font-bold",children:['"',n.find(q=>q.name===S.conditionalOn)?.label,'"']})," equals ",o.jsxs("span",{className:"font-bold",children:['"',S.conditionalValue===!0?"Yes":S.conditionalValue===!1?"No":S.conditionalValue,'"']})]})]})]})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:S.required,onChange:q=>C({...S,required:q.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),o.jsx("label",{className:"text-sm text-gray-700",children:"Make this field required"})]}),o.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-orange-200",children:[o.jsx("button",{onClick:()=>{g(!1),C({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null})},className:"px-4 py-2 text-gray-700 hover:bg-white rounded-lg transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:M,disabled:c,className:"flex items-center space-x-2 px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50",children:[o.jsx(ic,{size:18}),o.jsx("span",{children:"Add Field"})]})]})]}),o.jsx(si,{isOpen:j.isOpen,onClose:()=>w({isOpen:!1,fieldId:null,fieldLabel:""}),onConfirm:H,title:`Delete "${j.fieldLabel}"?`,message:"This will permanently remove this custom field from your configuration. The data in existing CVs will not be deleted, but you won't be able to view or edit it through the interface anymore.",confirmText:"Delete Field",cancelText:"Cancel",type:"danger",icon:Nr,confirmLoading:c}),o.jsx(si,{isOpen:_.isOpen,onClose:()=>E({isOpen:!1,templateKey:null,templateName:""}),onConfirm:()=>J(_.templateKey),title:`Apply "${_.templateName}" Template?`,message:`This will replace your current ${n.length} custom field${n.length!==1?"s":""} with the "${_.templateName}" template. Your existing custom field configuration will be overwritten, but data in CVs will remain intact.`,confirmText:"Apply Template",cancelText:"Cancel",type:"warning",icon:fr,confirmLoading:c})]}):o.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 text-center",children:[o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Rs,{size:32,className:"text-orange-500"})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Custom Fields"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"Custom fields allow you to add your own data fields to CVs for tracking additional information."}),o.jsx("p",{className:"text-orange-600 font-semibold mb-4",children:"Available on Professional, Business, and Enterprise plans"}),o.jsx("button",{onClick:()=>window.location.href="/pricing",className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:"Upgrade Plan"})]})}function sde(){const{currentUser:t}=Cn(),e=t?.userData,n=ll(),[r,a]=T.useState([]),[s,c]=T.useState(!0),[u,h]=T.useState("all"),[f,m]=T.useState("all"),[g,x]=T.useState(!1);T.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{c(!0);const k=Qt(),O=await _t(k,"getActivityLogs")();O.data.success&&a(O.data.logs||[])}catch(k){console.error("Error loading activity logs:",k),k.code==="permission-denied"?n.error("Activity logs are only available for Professional, Business, and Enterprise plans"):n.error("Failed to load activity logs")}finally{c(!1)}},j=k=>{switch(k){case"cv_uploaded":return o.jsx(ic,{className:"text-green-600",size:18});case"cv_deleted":return o.jsx(Nr,{className:"text-red-600",size:18});case"cv_updated":return o.jsx(xC,{className:"text-blue-600",size:18});case"cv_viewed":return o.jsx(L4,{className:"text-gray-600",size:18});case"jobspec_created":return o.jsx(ic,{className:"text-green-600",size:18});case"jobspec_updated":return o.jsx(xC,{className:"text-blue-600",size:18});case"jobspec_deleted":return o.jsx(Nr,{className:"text-red-600",size:18});default:return o.jsx(ws,{className:"text-gray-600",size:18})}},w=k=>k.includes("deleted")?{bg:"bg-red-50",border:"border-red-200",text:"text-red-900"}:k.includes("uploaded")||k.includes("created")?{bg:"bg-green-50",border:"border-green-200",text:"text-green-900"}:k.includes("updated")?{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-900"}:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-900"},_=k=>k.replace(/_/g," ").replace(/\b\w/g,$=>$.toUpperCase()),E=k=>{if(!k)return"N/A";const $=new Date(k),O=new Date,M=O-$,U=Math.floor(M/6e4),G=Math.floor(M/36e5),H=Math.floor(M/864e5);return U<1?"Just now":U<60?`${U}m ago`:G<24?`${G}h ago`:H<7?`${H}d ago`:$.toLocaleDateString("en-US",{month:"short",day:"numeric",year:$.getFullYear()!==O.getFullYear()?"numeric":void 0})},S=r.filter(k=>!(u!=="all"&&k.action!==u||f!=="all"&&k.resourceType!==f)),C=[...new Set(r.map(k=>k.action))],V=[...new Set(r.map(k=>k.resourceType))];return s?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[o.jsx(Vg,{className:"animate-spin",size:20}),o.jsx("span",{children:"Loading activity logs..."})]})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(ws,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Activity Log"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Track all team member actions and changes"})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("button",{onClick:()=>x(!g),className:`px-4 py-2 rounded-xl font-semibold transition-all flex items-center gap-2 ${g?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-gray-100 text-gray-700 border-2 border-gray-200 hover:bg-gray-200"}`,children:[o.jsx(Zl,{size:18}),o.jsx("span",{children:"Filters"})]}),o.jsxs("button",{onClick:v,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 shadow-lg shadow-orange-500/30",children:[o.jsx(Vg,{size:18}),o.jsx("span",{children:"Refresh"})]})]})]}),g&&o.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-orange-50 border-2 border-orange-200 rounded-xl p-5 animate-slideUp",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Zl,{size:18}),"Filter Activity"]}),o.jsxs("button",{onClick:()=>{h("all"),m("all")},className:"text-sm text-orange-600 hover:text-orange-700 font-semibold flex items-center gap-1",children:[o.jsx(Xe,{size:16}),"Clear filters"]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),o.jsxs("select",{value:u,onChange:k=>h(k.target.value),className:"w-full px-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all",children:[o.jsx("option",{value:"all",children:"All Actions"}),C.map(k=>o.jsx("option",{value:k,children:_(k)},k))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Resource Type"}),o.jsxs("select",{value:f,onChange:k=>m(k.target.value),className:"w-full px-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all",children:[o.jsx("option",{value:"all",children:"All Resources"}),V.map(k=>o.jsx("option",{value:k,children:k.toUpperCase()},k))]})]})]}),(u!=="all"||f!=="all")&&o.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-gray-700",children:[o.jsx("span",{className:"font-semibold",children:"Active filters:"}),u!=="all"&&o.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full font-medium",children:_(u)}),f!=="all"&&o.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-medium",children:f.toUpperCase()})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:o.jsx(ws,{className:"text-blue-600",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Total Activities"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),o.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:o.jsx(Br,{className:"text-green-600",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"CV Actions"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(k=>k.resourceType==="cv").length})]})]})}),o.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:o.jsx(ti,{className:"text-purple-600",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-600",children:"Job Spec Actions"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(k=>k.resourceType==="jobspec").length})]})]})})]}),o.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden",children:S.length===0?o.jsx("div",{className:"py-12 text-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-3",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:o.jsx($t,{className:"text-gray-400",size:32})}),o.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"No activity logs found"}),o.jsx("p",{className:"text-gray-500 text-sm",children:r.length===0?"Team member actions will appear here once they start using the system":"Try adjusting your filters to see more results"})]})}):o.jsx("div",{className:"divide-y divide-gray-200",children:S.map((k,$)=>{const O=w(k.action);return o.jsx("div",{className:"p-5 hover:bg-gray-50 transition-colors",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`w-10 h-10 ${O.bg} border-2 ${O.border} rounded-lg flex items-center justify-center flex-shrink-0`,children:j(k.action)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-base font-semibold text-gray-900",children:_(k.action)}),k.resourceName&&o.jsx("p",{className:"text-sm text-gray-700 mt-1",children:o.jsx("span",{className:"font-medium",children:k.resourceName})}),k.metadata?.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.metadata.description})]}),o.jsx("div",{className:"text-right flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[o.jsx(ty,{size:14}),o.jsx("span",{children:E(k.timestamp)})]})})]}),o.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[o.jsx(ii,{size:14}),o.jsx("span",{className:"font-medium",children:k.userName})]}),k.isTeamMemberAction&&o.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold",children:"Team Member"}),o.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-semibold",children:k.role}),o.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:k.resourceType?.toUpperCase()})]})]})]})},k.id||$)})})}),S.length>0&&o.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Showing ",S.length," of ",r.length," total activities"]})]})}function ode(){const{currentUser:t,userData:e}=Cn(),n=ll(),r=e?.plan||"free",[a,s]=T.useState("invite"),[c,u]=T.useState([]),[h,f]=T.useState([]),[m,g]=T.useState(""),[x,v]=T.useState("member"),[j,w]=T.useState(!0),[_,E]=T.useState(!1),[S,C]=T.useState({isOpen:!1,memberId:null,memberEmail:""}),[V,k]=T.useState(null),$=e?.teamAccess?.isTeamMember,O=e?.teamAccess?.teamOwnerId,M=ud(r,"teamCollaboration"),G=(()=>{switch(r){case"professional":return 3;case"business":return 10;case"enterprise":return 999;default:return 1}})();T.useEffect(()=>{t&&M?H():w(!1)},[t,M]);const H=async()=>{try{w(!0);const Z=$?O:t.uid;if($&&O){const se=await pc(On(It,"users",O));se.exists()&&k({uid:O,...se.data()})}const ge=$i(Ra(It,"teamMembers"),br("teamOwnerId","==",Z)),F=(await Hi(ge)).docs.map(se=>({id:se.id,...se.data()}));if(u(F),!$){const se=$i(Ra(It,"teamInvites"),br("invitedBy","==",t.uid),br("status","==","pending")),ue=(await Hi(se)).docs.map(Re=>({id:Re.id,...Re.data()}));f(ue)}}catch(Z){console.error("Error loading team data:",Z),n.error("Failed to load team data")}finally{w(!1)}},D=async Z=>{if(Z.preventDefault(),!m.trim()){n.error("Please enter an email address");return}if(c.length+h.length+1>=G){n.error(`Your ${r} plan supports up to ${G} team member${G>1?"s":""}. Upgrade to add more.`);return}if(c.some(L=>L.email===m)){n.error("This user is already a team member");return}if(h.some(L=>L.email===m)){n.error("An invitation has already been sent to this email");return}try{E(!0);const L=Qt();(await _t(L,"sendTeamInvite")({email:m,role:x,teamOwnerName:e?.displayName||t.email})).data.success&&(n.success(`Invitation sent to ${m}`),g(""),v("member"),await H())}catch(L){console.error("Error sending invite:",L),n.error(L.message||"Failed to send invitation")}finally{E(!1)}},B=async Z=>{try{await U$(On(It,"teamInvites",Z)),n.success("Invitation cancelled"),await H()}catch(ge){console.error("Error cancelling invite:",ge),n.error("Failed to cancel invitation")}},I=(Z,ge)=>{C({isOpen:!0,memberId:Z,memberEmail:ge})},J=async()=>{try{const Z=Qt();await _t(Z,"removeTeamMember")({memberId:S.memberId}),n.success("Team member removed"),C({isOpen:!1,memberId:null,memberEmail:""}),await H()}catch(Z){console.error("Error removing member:",Z),n.error("Failed to remove team member")}},q=async(Z,ge)=>{try{const L=Qt();(await _t(L,"updateTeamMemberRole")({memberId:Z,newRole:ge})).data.success&&(n.success(`Member role updated to ${ge}`),await H())}catch(L){console.error("Error updating member role:",L),n.error(L.message||"Failed to update member role")}},Y=Z=>{switch(Z){case"owner":return o.jsx(yC,{size:16,className:"text-orange-500"});case"admin":return o.jsx(Fo,{size:16,className:"text-blue-500"});default:return o.jsx(ii,{size:16,className:"text-gray-500"})}},te=Z=>{const ge={owner:"bg-orange-100 text-orange-700 border-orange-200",admin:"bg-blue-100 text-blue-700 border-blue-200",member:"bg-gray-100 text-gray-700 border-gray-200"};return ge[Z]||ge.member};return j?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(_r,{className:"animate-spin text-orange-500",size:32})}):M?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Collaboration"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Invite team members to collaborate  ",c.length+1," of ",G===999?"":G," members"]})]}),o.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-100 to-amber-100 text-orange-700 rounded-full text-sm font-semibold border border-orange-200",children:[o.jsx(sa,{size:16}),o.jsxs("span",{className:"capitalize",children:[r," Plan"]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"flex border-b-2 border-gray-200",children:[o.jsx("button",{onClick:()=>s("invite"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${a==="invite"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50 -mb-0.5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(Fg,{size:18}),o.jsx("span",{children:"Invite & Members"})]})}),o.jsx("button",{onClick:()=>s("activity"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${a==="activity"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50 -mb-0.5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ws,{size:18}),o.jsx("span",{children:"Activity Log"})]})})]}),o.jsxs("div",{className:"p-6",children:[a==="invite"&&o.jsxs("div",{className:"space-y-6",children:[$&&o.jsx("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-6 shadow-sm",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center shadow-md",children:o.jsx($t,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-purple-900",children:"Team Member View"}),o.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Only the team owner can invite new members. You can view the team structure below."})]})]})}),!$&&o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center shadow-md",children:o.jsx(Fg,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-gray-900",children:"Invite Team Member"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Send an invitation via email"})]})]}),o.jsxs("form",{onSubmit:D,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",value:m,onChange:Z=>g(Z.target.value),placeholder:"colleague@company.com",className:"w-full px-4 py-3 border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",disabled:_})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),o.jsxs("select",{value:x,onChange:Z=>v(Z.target.value),className:"w-full px-4 py-3 border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",disabled:_,children:[o.jsx("option",{value:"member",children:"Member"}),o.jsx("option",{value:"admin",children:"Admin"})]})]})]}),o.jsx("button",{type:"submit",disabled:_||!m.trim(),className:"w-full md:w-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg hover:shadow-xl hover:scale-105 disabled:hover:scale-100",children:_?o.jsxs(o.Fragment,{children:[o.jsx(_r,{className:"animate-spin",size:18}),"Sending Invitation..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Gi,{size:18}),"Send Invitation"]})})]})]}),o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-orange-50/20",children:o.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(sa,{size:18,className:"text-orange-500"}),"Team Members (",c.length+1,")"]})}),o.jsxs("div",{className:"divide-y divide-gray-100",children:[o.jsxs("div",{className:"px-6 py-4 flex items-center justify-between bg-orange-50/30",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:$?V?.displayName?.charAt(0)||V?.email?.charAt(0)||"O":e?.displayName?.charAt(0)||t.email?.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:$?V?.displayName||V?.email||"Team Owner":e?.displayName||"You"}),o.jsx("p",{className:"text-sm text-gray-600",children:$?V?.email:t.email})]})]}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${te("owner")}`,children:[Y("owner"),"Owner"]})})]}),c.map(Z=>o.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:Z.displayName?.charAt(0)||Z.email?.charAt(0)}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:Z.displayName||"Team Member"}),o.jsx("p",{className:"text-sm text-gray-600",children:Z.email}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Joined ",new Date(Z.joinedAt?.toDate?.()||Z.joinedAt).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[$?o.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${te(Z.role)}`,children:[Y(Z.role),Z.role]}):o.jsxs("select",{value:Z.role,onChange:ge=>q(Z.id,ge.target.value),className:`px-3 py-1 rounded-full text-xs font-bold border cursor-pointer transition-colors ${te(Z.role)} hover:opacity-80`,children:[o.jsx("option",{value:"member",children:"Member"}),o.jsx("option",{value:"admin",children:"Admin"})]}),!$&&o.jsx("button",{onClick:()=>I(Z.id,Z.email),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Remove member",children:o.jsx(Nr,{size:18})})]})]},Z.id)),c.length===0&&o.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[o.jsx(sa,{size:48,className:"mx-auto mb-3 text-gray-300"}),o.jsx("p",{className:"text-sm",children:"No team members yet. Invite your first team member above!"})]})]})]}),h.length>0&&o.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-amber-50/20",children:o.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[o.jsx(Gi,{size:18,className:"text-amber-500"}),"Pending Invitations (",h.length,")"]})}),o.jsx("div",{className:"divide-y divide-gray-100",children:h.map(Z=>o.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:o.jsx(Gi,{size:20,className:"text-amber-600"})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-gray-900",children:Z.email}),o.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Invited ",new Date(Z.createdAt?.toDate?.()||Z.createdAt).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${te(Z.role)}`,children:Z.role}),o.jsx("button",{onClick:()=>B(Z.id),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"Cancel invitation",children:o.jsx(Xe,{size:18})})]})]},Z.id))})]}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[o.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx($t,{size:18,className:"text-gray-500"}),"Role Permissions"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[o.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(yC,{size:16,className:"text-orange-500"}),o.jsx("span",{className:"font-bold text-gray-900",children:"Owner"})]}),o.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[o.jsx("li",{children:" Full account access"}),o.jsx("li",{children:" Manage team members"}),o.jsx("li",{children:" Billing & subscriptions"}),o.jsx("li",{children:" Delete account"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Fo,{size:16,className:"text-blue-500"}),o.jsx("span",{className:"font-bold text-gray-900",children:"Admin"})]}),o.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[o.jsx("li",{children:" Create, edit & delete CVs"}),o.jsx("li",{children:" Create, edit & delete job specs"}),o.jsx("li",{children:" View all data & reports"}),o.jsx("li",{children:" Export CVs to CSV"}),o.jsx("li",{children:" Cannot manage team or billing"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ii,{size:16,className:"text-gray-500"}),o.jsx("span",{className:"font-bold text-gray-900",children:"Member"})]}),o.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[o.jsx("li",{children:" View CVs & job specs (read-only)"}),o.jsx("li",{children:" Upload CVs"}),o.jsx("li",{children:" Search, filter & export"}),o.jsx("li",{children:" Match CVs to job specs"}),o.jsx("li",{children:" Cannot edit or delete data"})]})]})]})]})]}),a==="activity"&&o.jsx(sde,{})]})]}),o.jsx(si,{isOpen:S.isOpen,onClose:()=>C({isOpen:!1,memberId:null,memberEmail:""}),onConfirm:J,title:"Remove Team Member?",message:`Are you sure you want to remove ${S.memberEmail} from your team? They will immediately lose access to your CVSift account and all shared data.`,confirmText:"Remove Member",cancelText:"Cancel",type:"danger",icon:Nr})]}):o.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-2 border-orange-200 rounded-xl p-6",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:o.jsx(sa,{className:"text-white",size:24})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Team Collaboration"}),o.jsx("p",{className:"text-gray-700 mb-4",children:"Collaborate with your team by inviting members to access your CVSift account. Share CVs, job specs, and work together seamlessly."}),o.jsxs("div",{className:"bg-white border border-orange-200 rounded-lg p-4 mb-4",children:[o.jsx("p",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Available on:"}),o.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx($e,{size:16,className:"text-green-500"}),"Professional: Up to 3 team members"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx($e,{size:16,className:"text-green-500"}),"Business: Up to 10 team members"]}),o.jsxs("li",{className:"flex items-center gap-2",children:[o.jsx($e,{size:16,className:"text-green-500"}),"Enterprise: Unlimited team members"]})]})]}),o.jsx("button",{onClick:()=>window.location.href="/pricing",className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl hover:scale-105",children:"Upgrade to Professional"})]})]})})}function lde(){const{currentUser:t,logout:e,userData:n}=Cn(),r=$n(),a=ll(),s=Qt(),u=new URLSearchParams(window.location.search).get("tab"),[h,f]=T.useState({displayName:t?.displayName||"",email:t?.email||"",currentPassword:"",newPassword:"",confirmPassword:""}),[m,g]=T.useState(!1),[x,v]=T.useState(""),[j,w]=T.useState(""),[_,E]=T.useState(u||"profile"),[S,C]=T.useState(!1),[V,k]=T.useState([]),[$,O]=T.useState({email:"",password:"",displayName:""}),[M,U]=T.useState(!1),[G,H]=T.useState({isOpen:!1,subMasterId:null,email:""}),[D,B]=T.useState({isOpen:!1,subMasterId:null,email:"",isActive:!1}),[I,J]=T.useState(!1),[q,Y]=T.useState(""),[te,Z]=T.useState(!1),[ge,L]=T.useState(!1),[F,se]=T.useState(!1);T.useEffect(()=>{t&&(async()=>{try{const ae=await _t(s,"checkPrimaryMaster")();C(ae.data.isPrimaryMaster),ae.data.isPrimaryMaster&&le()}catch(X){console.error("Error checking primary master status:",X)}})()},[t]);const le=async()=>{try{const X=await _t(s,"listSubMasters")();k(X.data.subMasters||[])}catch(W){console.error("Error loading sub-masters:",W),a.error("Failed to load sub-master accounts")}},ue=async W=>{W.preventDefault(),U(!0);try{await _t(s,"addSubMaster")({email:$.email,password:$.password,displayName:$.displayName}),a.success(`Sub-master account created for ${$.email}`),O({email:"",password:"",displayName:""}),le()}catch(X){console.error("Error adding sub-master:",X),a.error(X.message||"Failed to add sub-master account")}finally{U(!1)}},Re=async()=>{try{await _t(s,"toggleSubMasterStatus")({subMasterId:D.subMasterId,isActive:!D.isActive}),a.success(`Sub-master account ${D.isActive?"disabled":"enabled"}`),B({isOpen:!1,subMasterId:null,email:"",isActive:!1}),le()}catch(W){console.error("Error toggling sub-master:",W),a.error(W.message||"Failed to toggle sub-master status")}},Ee=async()=>{try{await _t(s,"deleteSubMaster")({subMasterId:G.subMasterId}),a.success("Sub-master account deleted successfully"),H({isOpen:!1,subMasterId:null,email:""}),le()}catch(W){console.error("Error deleting sub-master:",W),a.error(W.message||"Failed to delete sub-master account")}},re=W=>{f({...h,[W.target.name]:W.target.value})},oe=W=>{O({...$,[W.target.name]:W.target.value})},ze=async W=>{W.preventDefault(),g(!0),w(""),v("");try{await X6(xs.currentUser,{displayName:h.displayName}),await qu(On(It,"users",t.uid),{displayName:h.displayName}),v("Profile updated successfully!")}catch(X){w(X.message||"Failed to update profile")}finally{g(!1)}},Be=async W=>{W.preventDefault(),g(!0),w(""),v("");try{await h7(xs.currentUser,h.email),await qu(On(It,"users",t.uid),{email:h.email}),v("Email updated successfully!")}catch(X){X.code==="auth/requires-recent-login"?w("Please sign out and sign in again to update your email"):w(X.message||"Failed to update email")}finally{g(!1)}},Ce=async W=>{if(W.preventDefault(),g(!0),w(""),v(""),h.newPassword!==h.confirmPassword){w("New passwords do not match"),g(!1);return}if(h.newPassword.length<6){w("Password must be at least 6 characters"),g(!1);return}try{await f7(xs.currentUser,h.newPassword),v("Password updated successfully!"),f({...h,currentPassword:"",newPassword:"",confirmPassword:""})}catch(X){X.code==="auth/requires-recent-login"?w("Please sign out and sign in again to change your password"):w(X.message||"Failed to update password")}finally{g(!1)}},ht=W=>W?new Date(W).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"Unknown",P=async()=>{try{Z(!0);const X=await _t(s,"cancelSubscription")();X.data.success&&(L(!1),a.success(X.data.message),window.location.reload())}catch(W){console.error("Error cancelling subscription:",W),a.error(W.message||"Failed to cancel subscription")}finally{Z(!1)}},ve=()=>{se(!1),J(!0)},fe=async()=>{if(!q){a.error("Please select a plan to downgrade to");return}try{Z(!0);const X=await _t(s,"downgradePlan")({newPlan:q});X.data.success&&(a.success(X.data.message),J(!1),window.location.reload())}catch(W){console.error("Error downgrading plan:",W),a.error(W.message||"Failed to downgrade plan")}finally{Z(!1)}};return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[o.jsx(Ys,{size:20}),o.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(ii,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Account Settings"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Profile Manager"})]})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:o.jsx(ii,{size:28})}),"Account Settings"]}),o.jsx("p",{className:"text-orange-100 text-lg",children:"Manage your account details and preferences"})]}),o.jsx("div",{className:"hidden lg:block",children:o.jsx(gC,{className:"w-24 h-24 text-white/20"})})]})}),x&&o.jsxs("div",{className:"mb-6 p-5 bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-200 rounded-2xl flex items-start gap-4 shadow-lg",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(Mt,{className:"text-white",size:20})}),o.jsx("p",{className:"text-green-900 font-semibold",children:x})]}),j&&o.jsxs("div",{className:"mb-6 p-5 bg-gradient-to-r from-red-50 to-red-100 border-2 border-red-200 rounded-2xl flex items-start gap-4 shadow-lg",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx($t,{className:"text-white",size:20})}),o.jsx("p",{className:"text-red-900 font-semibold",children:j})]}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"border-b-2 border-gray-100 bg-gradient-to-r from-gray-50 to-orange-50/30",children:o.jsxs("div",{className:"flex",children:[o.jsx("button",{onClick:()=>E("profile"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="profile"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(ii,{size:18}),o.jsx("span",{children:"Profile"})]})}),o.jsx("button",{onClick:()=>E("account"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="account"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(Gi,{size:18}),o.jsx("span",{children:"Account"})]})}),o.jsx("button",{onClick:()=>E("security"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="security"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(df,{size:18}),o.jsx("span",{children:"Security"})]})}),(!n?.teamAccess?.isTeamMember||n?.teamAccess?.role==="admin")&&o.jsx("button",{onClick:()=>E("cvpacks"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="cvpacks"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(Ug,{size:18}),o.jsx("span",{children:"CV Packs"})]})}),o.jsx("button",{onClick:()=>E("customfields"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="customfields"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(Rs,{size:18}),o.jsx("span",{children:"Custom Fields"})]})}),!n?.teamAccess?.isTeamMember&&o.jsx("button",{onClick:()=>E("team"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="team"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(sa,{size:18}),o.jsx("span",{children:"Team"})]})}),S&&o.jsx("button",{onClick:()=>E("masters"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="masters"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsx(Fo,{size:18}),o.jsx("span",{children:"Master Management"})]})})]})}),o.jsxs("div",{className:"p-8",children:[_==="profile"&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(ii,{className:"text-white",size:20})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"})]}),o.jsxs("div",{className:"mb-8 flex items-center space-x-6 p-6 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-2xl border border-gray-200",children:[o.jsxs("div",{className:"relative",children:[t?.photoURL?o.jsx("img",{src:t.photoURL,alt:t.displayName,className:"w-24 h-24 rounded-2xl object-cover border-4 border-white shadow-lg"}):o.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center border-4 border-white shadow-lg",children:o.jsx("span",{className:"text-white text-3xl font-bold",children:t?.displayName?.charAt(0).toUpperCase()||"U"})}),o.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl border-2 border-white flex items-center justify-center hover:scale-110 transition-all shadow-md",children:o.jsx(gC,{size:18,className:"text-white"})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t?.displayName}),o.jsx("p",{className:"text-gray-600 font-medium",children:t?.email})]})]}),o.jsxs("form",{onSubmit:ze,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Full Name"}),o.jsx("input",{type:"text",name:"displayName",value:h.displayName,onChange:re,className:"w-full px-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Your full name"})]}),o.jsxs("button",{type:"submit",disabled:m,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[o.jsx(Yh,{size:20}),o.jsx("span",{children:m?"Saving...":"Save Changes"})]})]})]}),_==="account"&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(Gi,{className:"text-white",size:20})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Account Details"})]}),o.jsxs("div",{className:"space-y-6 mb-8",children:[n?.teamAccess?.isTeamMember&&o.jsx("div",{className:"p-5 bg-gradient-to-r from-purple-50 to-purple-100 border-2 border-purple-200 rounded-2xl shadow-lg",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx(sa,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-purple-900 font-bold text-lg mb-1",children:"Team Member Account"}),o.jsxs("p",{className:"text-purple-700 text-sm mb-2",children:["You are a ",o.jsx("span",{className:"font-semibold capitalize",children:n.teamAccess.role})," with access to the team owner's account"]}),o.jsxs("div",{className:"flex items-center gap-2 text-purple-600 text-xs",children:[o.jsx(Fo,{size:14}),o.jsxs("span",{children:["Access Level: ",n.teamAccess.role==="admin"?"Full Access":"Limited Access"]})]})]})]})}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(cd,{className:"text-gray-600",size:20}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:n?.teamAccess?.isTeamMember?"Team Member Since":"Member Since"})]}),o.jsx("p",{className:"text-gray-900 font-semibold ml-8",children:ht(t?.userData?.createdAt)})]}),o.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx(TY,{className:"text-gray-600",size:20}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:n?.teamAccess?.isTeamMember?"Team Account Plan":"Current Plan"})]}),o.jsxs("p",{className:"text-gray-900 font-semibold ml-8 capitalize",children:[t?.userData?.plan||"Free"," Plan"]}),n?.teamAccess?.isTeamMember&&o.jsxs("p",{className:"text-xs text-purple-600 ml-8 mt-1 flex items-center gap-1",children:[o.jsx(sa,{size:12}),"Inherited from team owner"]}),o.jsxs("p",{className:"text-sm text-gray-600 ml-8 mt-1",children:[t?.userData?.cvUploadsThisMonth||0,t?.userData?.plan!=="enterprise"&&t?.userData?.cvUploadLimit!==-1?` / ${t?.userData?.cvUploadLimit||10}`:""," CVs uploaded this month"]}),t?.userData?.subscriptionStatus==="active"&&!n?.teamAccess?.isTeamMember&&o.jsxs("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:[o.jsx("p",{className:"text-xs text-green-600 font-medium mb-2",children:"Active Subscription"}),o.jsxs("div",{className:"flex gap-2",children:[(()=>{const W={free:0,starter:1,basic:2,professional:3,business:4,enterprise:5},X=(t?.userData?.plan||"free").toLowerCase();return W[X]>1?o.jsx("button",{onClick:()=>se(!0),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1.5 rounded-lg font-medium transition-all",children:"Downgrade Plan"}):null})(),o.jsx("button",{onClick:()=>L(!0),className:"text-xs bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-lg font-medium transition-all",children:"Cancel Subscription"})]})]}),n?.teamAccess?.isTeamMember&&o.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:o.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Subscription managed by team owner"})}),t?.userData?.subscriptionStatus==="pending_cancellation"&&o.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:o.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Subscription ends at the end of billing period"})}),t?.userData?.pendingPlan&&o.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:o.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Scheduled downgrade to ",t?.userData?.pendingPlan," at end of billing period"]})})]})]}),o.jsxs("form",{onSubmit:Be,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",name:"email",value:h.email,onChange:re,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none",placeholder:"your.email@example.com"}),o.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Changing your email may require you to sign in again"})]}),o.jsxs("button",{type:"submit",disabled:m||h.email===t?.email,className:"flex items-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[o.jsx(Yh,{size:20}),o.jsx("span",{children:m?"Updating...":"Update Email"})]})]})]}),_==="security"&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(df,{className:"text-white",size:20})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"})]}),t?.providerData?.[0]?.providerId==="google.com"?o.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-200 rounded-2xl shadow-lg",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx($t,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-blue-900 font-bold text-lg mb-1",children:"Google Account"}),o.jsx("p",{className:"text-blue-800 font-medium",children:"You're signed in with Google. Password changes must be made through your Google Account settings."})]})]})}):o.jsxs("form",{onSubmit:Ce,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"New Password"}),o.jsx("input",{type:"password",name:"newPassword",value:h.newPassword,onChange:re,className:"w-full px-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Enter new password"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Confirm New Password"}),o.jsx("input",{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:re,className:"w-full px-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Confirm new password"})]}),o.jsxs("button",{type:"submit",disabled:m||!h.newPassword||!h.confirmPassword,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[o.jsx(Yh,{size:20}),o.jsx("span",{children:m?"Updating...":"Update Password"})]}),o.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-xl border border-gray-200",children:o.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Password must be at least 6 characters long"})})]})]}),_==="cvpacks"&&o.jsx(ade,{}),_==="customfields"&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(Rs,{className:"text-white",size:20})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Custom Fields"})]}),o.jsx(ide,{})]}),_==="team"&&!n?.teamAccess?.isTeamMember&&o.jsx(ode,{}),_==="masters"&&S&&o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md",children:o.jsx(Fo,{className:"text-white",size:20})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Master Account Management"})]}),o.jsx("div",{className:"mb-8 p-4 bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:o.jsx($t,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-orange-900 font-bold mb-1",children:"Primary Master Account"}),o.jsx("p",{className:"text-orange-800 text-sm",children:"You can create sub-master accounts with full SaaS access. Sub-masters cannot create additional master accounts."})]})]})}),o.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-2xl border-2 border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Fg,{size:20,className:"text-orange-500"}),"Add New Sub-Master Account"]}),o.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Email Address *"}),o.jsx("input",{type:"email",name:"email",value:$.email,onChange:oe,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"submaster@example.com"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Display Name"}),o.jsx("input",{type:"text",name:"displayName",value:$.displayName,onChange:oe,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"John Doe"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Password * (minimum 6 characters)"}),o.jsx("input",{type:"password",name:"password",value:$.password,onChange:oe,required:!0,minLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Enter password"})]}),o.jsxs("button",{type:"submit",disabled:M||!$.email||!$.password,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-3 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[o.jsx(Fg,{size:20}),o.jsx("span",{children:M?"Creating...":"Create Sub-Master Account"})]})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[o.jsx(Fo,{size:20,className:"text-orange-500"}),"Sub-Master Accounts (",V.length,")"]}),V.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[o.jsx(Fo,{className:"mx-auto text-gray-400 mb-3",size:48}),o.jsx("p",{className:"text-gray-600 font-medium",children:"No sub-master accounts yet"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create your first sub-master account above"})]}):o.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden shadow-lg",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Email"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Display Name"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Status"}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Created"}),o.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold",children:"Actions"})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:V.map(W=>o.jsxs("tr",{className:"hover:bg-orange-50/50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Gi,{size:16,className:"text-gray-400"}),o.jsx("span",{className:"text-sm font-medium text-gray-900",children:W.email})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-sm text-gray-700 font-medium",children:W.displayName})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold ${W.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:W.isActive?"Active":"Disabled"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-sm text-gray-600",children:W.createdAt?new Date(W.createdAt).toLocaleDateString():"N/A"})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx("button",{onClick:()=>B({isOpen:!0,subMasterId:W.id,email:W.email,isActive:W.isActive}),className:`p-2 rounded-lg transition-all hover:scale-110 ${W.isActive?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,title:W.isActive?"Disable":"Enable",children:o.jsx(vC,{size:16})}),o.jsx("button",{onClick:()=>H({isOpen:!0,subMasterId:W.id,email:W.email}),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all hover:scale-110",title:"Delete",children:o.jsx(Nr,{size:16})})]})})]},W.id))})]})})})]})]})]})]})]}),o.jsx(si,{isOpen:G.isOpen,onClose:()=>H({isOpen:!1,subMasterId:null,email:""}),onConfirm:Ee,title:"Delete Sub-Master Account",message:`Are you sure you want to permanently delete the sub-master account for ${G.email}? This action cannot be undone.`,confirmText:"Delete Account",type:"danger",icon:Nr}),o.jsx(si,{isOpen:D.isOpen,onClose:()=>B({isOpen:!1,subMasterId:null,email:"",isActive:!1}),onConfirm:Re,title:D.isActive?"Disable Sub-Master Account":"Enable Sub-Master Account",message:`Are you sure you want to ${D.isActive?"disable":"enable"} the sub-master account for ${D.email}?`,confirmText:D.isActive?"Disable":"Enable",type:D.isActive?"warning":"success",icon:vC}),o.jsx(si,{isOpen:ge,onClose:()=>L(!1),onConfirm:P,title:"Cancel Subscription",message:"Are you sure you want to cancel your subscription? You will continue to have access until the end of your billing period.",confirmText:"Cancel Subscription",cancelText:"Keep Subscription",type:"danger",confirmLoading:te}),o.jsx(si,{isOpen:F,onClose:()=>se(!1),onConfirm:ve,title:"Downgrade Plan",message:"Are you sure you want to downgrade your plan? The downgrade will take effect at the end of your billing period. You'll be able to select the new plan in the next step.",confirmText:"Continue",cancelText:"Cancel",type:"warning"}),I&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Downgrade Plan"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Select the plan you want to downgrade to. The downgrade will take effect at the end of your current billing period."}),o.jsx("div",{className:"space-y-3 mb-6",children:(()=>{const W=["starter","basic","professional","business"].filter(X=>{const ae={free:0,starter:1,basic:2,professional:3,business:4,enterprise:5},_e=(t?.userData?.plan||"free").toLowerCase();return ae[X]<ae[_e]});return W.length===0?o.jsxs("div",{className:"p-6 bg-blue-50 border-2 border-blue-200 rounded-lg text-center",children:[o.jsx("p",{className:"text-blue-900 font-semibold mb-2",children:"You're on the lowest paid plan"}),o.jsx("p",{className:"text-sm text-blue-700",children:"To downgrade further, you can cancel your subscription and return to the Free plan."})]}):W.map(X=>o.jsxs("button",{onClick:()=>Y(X),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${q===X?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,children:[o.jsxs("div",{className:"font-bold text-gray-900 capitalize",children:[X," Plan"]}),o.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[X==="starter"&&"50 CVs/month - R199/month",X==="basic"&&"150 CVs/month - R399/month",X==="professional"&&"600 CVs/month - R999/month",X==="business"&&"1,500 CVs/month - R1,999/month"]})]},X))})()}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>{J(!1),Y("")},className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-900 rounded-lg font-semibold transition-all",disabled:te,children:"Cancel"}),o.jsx("button",{onClick:fe,disabled:!q||te,className:"flex-1 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:te?"Processing...":"Confirm Downgrade"})]})]})})]})}function Qp({value:t,onChange:e,options:n,placeholder:r="Select...",className:a=""}){const[s,c]=T.useState(!1),u=T.useRef(null);T.useEffect(()=>{function f(m){u.current&&!u.current.contains(m.target)&&c(!1)}return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const h=n.find(f=>f.value===t);return o.jsxs("div",{ref:u,className:`relative ${a}`,style:{zIndex:s?1e3:"auto"},children:[o.jsxs("button",{type:"button",onClick:()=>c(!s),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg flex items-center justify-between hover:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[o.jsx("span",{className:`text-sm ${!t||t===""||t==="any"?"text-gray-500":"text-gray-900 font-medium"}`,children:h?.label||r}),o.jsx(Mi,{size:16,className:`text-gray-400 transition-transform ${s?"transform rotate-180":""}`})]}),s&&o.jsx("div",{className:"absolute z-[1001] w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-auto",children:n.map(f=>o.jsxs("button",{type:"button",onClick:()=>{e(f.value),c(!1)},className:`w-full px-4 py-2.5 text-left text-sm hover:bg-orange-50 transition-colors flex items-center justify-between ${t===f.value?"bg-orange-50 text-orange-600 font-medium":"text-gray-700"}`,children:[o.jsx("span",{children:f.label}),t===f.value&&o.jsx($e,{size:16,className:"text-orange-600"})]},f.value))})]})}function cde(){const{currentUser:t,userData:e}=Cn(),n=$n(),r=ll(),[a,s]=T.useState([]),[c,u]=T.useState(!0),[h,f]=T.useState(!1),[m,g]=T.useState(null),[x,v]=T.useState(!1),[j,w]=T.useState({isOpen:!1,specId:null}),[_,E]=T.useState(!1),[S,C]=T.useState({basic:!0,requirements:!0,demographic:!0}),V=I=>{C(J=>({...J,[I]:!J[I]}))},[k,$]=T.useState({title:"",location:"",locationType:"onsite",department:"",minExperience:"",maxExperience:"",requiredSkills:"",preferredSkills:"",education:"",gender:"any",race:"any",minAge:"",maxAge:"",description:"",isActive:!0});T.useEffect(()=>{!t||!e||O()},[t,e]);const O=async()=>{if(t)try{u(!0);const I=e?.teamAccess;let J=[];if(I?.isTeamMember&&I?.teamOwnerId){console.log("Fetching team job specs via Cloud Function");const q=Qt(),te=await _t(q,"getTeamJobSpecs")();te.data.success&&(J=te.data.jobSpecs,console.log("Team job specs fetched:",J.length))}else{console.log("Loading job specs for user:",t.uid);try{const q=$i(Ra(It,"jobSpecs"),br("userId","==",t.uid),Rg("createdAt","desc"));J=(await Hi(q)).docs.map(te=>({id:te.id,...te.data()}))}catch(q){if(q.code==="failed-precondition"||q.message.includes("index")){const Y=$i(Ra(It,"jobSpecs"),br("userId","==",t.uid));J=(await Hi(Y)).docs.map(Z=>({id:Z.id,...Z.data()})),J.sort((Z,ge)=>new Date(ge.createdAt)-new Date(Z.createdAt))}else throw q}}s(J)}catch(I){console.error("Error loading job specs:",I),alert(`Error loading job specs: ${I.message}`)}finally{u(!1)}},M=()=>{if(!e||!Du(e?.plan)){v(!0);return}const I=eb(e?.plan);if(I!==-1&&a.length>=I){r.error(`You've reached your plan's limit of ${I} job specifications. Upgrade your plan to create more.`),v(!0);return}g(null),$({title:"",location:"",locationType:"onsite",department:"",minExperience:"",maxExperience:"",requiredSkills:"",preferredSkills:"",education:"",gender:"any",race:"any",minAge:"",maxAge:"",description:"",isActive:!0}),f(!0)},U=I=>{g(I),$({title:I.title||"",location:I.location||"",locationType:I.locationType||"onsite",department:I.department||"",minExperience:I.minExperience||"",maxExperience:I.maxExperience||"",requiredSkills:Array.isArray(I.requiredSkills)?I.requiredSkills.join(", "):"",preferredSkills:Array.isArray(I.preferredSkills)?I.preferredSkills.join(", "):"",education:I.education||"",gender:I.gender||"any",race:I.race||"any",minAge:I.minAge||"",maxAge:I.maxAge||"",description:I.description||"",isActive:I.isActive!==!1}),f(!0)},G=async()=>{try{E(!0);const I=Qt(),q=await _t(I,"deleteJobSpec")({jobSpecId:j.specId});if(q.data.success)s(a.filter(Y=>Y.id!==j.specId)),r.success("Job specification deleted successfully");else throw new Error(q.data.message||"Failed to delete job specification")}catch(I){console.error("Error deleting job spec:",I),r.error("Failed to delete job specification")}finally{E(!1),w({isOpen:!1,specId:null})}},H=I=>{w({isOpen:!0,specId:I})},D=async I=>{if(I.preventDefault(),!e||!Du(e?.plan)){v(!0),f(!1);return}try{const J=e?.teamAccess,q=J?.isTeamMember&&J?.teamOwnerId?J.teamOwnerId:t.uid,Y={userId:q,createdBy:t.uid,createdByEmail:t.email,createdByName:t.displayName||t.email,title:k.title,location:k.location,locationType:k.locationType,department:k.department,minExperience:k.minExperience?parseInt(k.minExperience):null,maxExperience:k.maxExperience?parseInt(k.maxExperience):null,requiredSkills:k.requiredSkills.split(",").map(te=>te.trim()).filter(te=>te.length>0),preferredSkills:k.preferredSkills.split(",").map(te=>te.trim()).filter(te=>te.length>0),education:k.education,gender:k.gender,race:k.race,minAge:k.minAge?parseInt(k.minAge):null,maxAge:k.maxAge?parseInt(k.maxAge):null,description:k.description,isActive:k.isActive,updatedAt:new Date().toISOString()};if(m){await qu(On(It,"jobSpecs",m.id),Y),r.success("Job specification updated successfully");try{const te=Qt();await _t(te,"logJobSpecUpdate")({jobSpecId:m.id,jobSpecTitle:Y.title,userId:t.uid,teamOwnerId:q})}catch(te){console.error("Error logging job spec update:",te)}}else{Y.createdAt=new Date().toISOString();const te=await $O(Ra(It,"jobSpecs"),Y);r.success("Job specification created successfully");try{const Z=Qt();await _t(Z,"logJobSpecCreate")({jobSpecId:te.id,jobSpecTitle:Y.title,userId:t.uid,teamOwnerId:q})}catch(Z){console.error("Error logging job spec creation:",Z)}}f(!1),O()}catch(J){console.error("Error saving job spec:",J),r.error("Failed to save job specification: "+J.message)}},B=I=>{const{name:J,value:q,type:Y,checked:te}=I.target;$({...k,[J]:Y==="checkbox"?te:q})};return c?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading job specifications..."})]})}):o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[o.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[o.jsx(Ys,{size:20}),o.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:o.jsx(ti,{className:"text-white",size:20})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Job Specifications"}),o.jsx("p",{className:"text-xs text-gray-600",children:"CV Matching Manager"})]})]})]})})}),x&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:o.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl animate-slideUp",children:[o.jsx("div",{className:"p-6 border-b border-orange-200 bg-gradient-to-r from-orange-50 to-amber-50",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-xl flex items-center justify-center",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:o.jsx(rl,{className:"text-white",size:24})})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upgrade to Premium"})]}),o.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-all",children:o.jsx(Xe,{size:20})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("p",{className:"text-gray-700 mb-6 text-base leading-relaxed",children:"Job Specifications with CV matching is a premium feature. Upgrade your plan to unlock more job specs:"}),o.jsxs("ul",{className:"space-y-3 mb-6",children:[o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-blue-50 to-blue-100/50 rounded-xl p-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx($e,{className:"text-white",size:14})}),o.jsx("span",{className:"font-medium",children:"Starter: 3 job specifications"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx($e,{className:"text-white",size:14})}),o.jsx("span",{className:"font-medium",children:"Basic: 10 job specifications"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-purple-50 to-purple-100/50 rounded-xl p-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx($e,{className:"text-white",size:14})}),o.jsx("span",{className:"font-medium",children:"Professional: 30 job specifications"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-orange-50 to-orange-100/50 rounded-xl p-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx($e,{className:"text-white",size:14})}),o.jsx("span",{className:"font-medium",children:"Business & Enterprise: Unlimited job specs"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx($e,{className:"text-white",size:14})}),o.jsx("span",{className:"font-medium",children:"AI-powered CV matching with fit scores"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx($e,{className:"text-white",size:14})}),o.jsx("span",{className:"font-medium",children:"Advanced filtering by match percentage"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[o.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx($e,{className:"text-white",size:14})}),o.jsx("span",{className:"font-medium",children:"Detailed match breakdown reports"})]})]})]}),o.jsx("div",{className:"p-6 bg-gray-50 rounded-b-2xl",children:o.jsx("button",{onClick:()=>n("/settings"),className:"w-full py-3.5 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:"Upgrade Now"})})]})}),!h&&o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:o.jsx(ti,{size:28})}),"Job Specifications"]}),o.jsx("p",{className:"text-orange-100 text-lg mb-2",children:"Create job specs to match CVs with AI-powered fit scores"}),e&&Du(e?.plan)&&o.jsx("div",{className:"flex items-center gap-2 text-orange-100 text-sm",children:o.jsxs("span",{className:"font-semibold",children:[a.length," / ",eb(e?.plan)===-1?"Unlimited":eb(e?.plan)," Job Specs Used"]})})]}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&o.jsxs("button",{onClick:M,className:"hidden lg:flex items-center gap-2 px-6 py-3 bg-white/20 backdrop-blur hover:bg-white/30 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg",children:[o.jsx(ic,{size:20}),"New Job Spec"]})]})}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&o.jsxs("button",{onClick:M,className:"lg:hidden w-full mb-6 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[o.jsx(ic,{size:20}),"New Job Spec"]}),a.length===0?o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:o.jsx(ti,{className:"text-white",size:40})}),o.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Job Specifications Yet"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto text-lg",children:!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin"?"Create your first job specification to start matching CVs with AI-powered fit scores":"No job specifications available yet. Contact your team owner to create job specifications."}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&o.jsxs("button",{onClick:M,className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[o.jsx(ic,{size:24}),"Create Job Specification"]})]}):o.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map((I,J)=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all hover:-translate-y-1 group",style:{animationDelay:`${J*50}ms`},children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1 group-hover:text-orange-600 transition-colors",children:I.title}),I.department&&o.jsx("p",{className:"text-sm text-gray-600 font-medium",children:I.department})]}),o.jsx("div",{className:"flex items-center gap-2",children:I.isActive?o.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-green-500 to-green-600 text-white text-xs font-bold rounded-full shadow-md",children:"Active"}):o.jsx("span",{className:"px-3 py-1.5 bg-gray-200 text-gray-700 text-xs font-bold rounded-full",children:"Inactive"})})]}),o.jsxs("div",{className:"space-y-3 mb-6",children:[I.location&&o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:o.jsx(m2,{size:14,className:"text-white"})}),o.jsxs("span",{className:"font-medium",children:[I.location," ",o.jsxs("span",{className:"text-gray-500",children:["(",I.locationType,")"]})]})]}),(I.minExperience||I.maxExperience)&&o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-md",children:o.jsx(cd,{size:14,className:"text-white"})}),o.jsxs("span",{className:"font-medium",children:[I.minExperience||0," - ",I.maxExperience||""," years experience"]})]}),I.education&&o.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-md",children:o.jsx(h2,{size:14,className:"text-white"})}),o.jsx("span",{className:"font-medium",children:I.education})]}),I.requiredSkills&&I.requiredSkills.length>0&&o.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:o.jsx(SY,{size:14,className:"text-white"})}),o.jsxs("span",{className:"line-clamp-2 font-medium",children:[I.requiredSkills.slice(0,3).join(", "),I.requiredSkills.length>3&&` +${I.requiredSkills.length-3} more`]})]})]}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&o.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-100",children:[o.jsxs("button",{onClick:()=>U(I),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl hover:from-gray-200 hover:to-gray-300 transition-all font-semibold hover:scale-105",children:[o.jsx(p2,{size:16}),"Edit"]}),o.jsx("button",{onClick:()=>H(I.id),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-50 to-red-100 text-red-600 rounded-xl hover:from-red-100 hover:to-red-200 transition-all font-semibold hover:scale-105",children:o.jsx(Nr,{size:16})})]})]},I.id))})]}),h&&o.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-6",children:[o.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:o.jsx(ti,{size:20,className:"text-white"})}),m?"Edit Job Specification":"Create New Job Specification"]}),o.jsx("p",{className:"text-orange-100 mt-2",children:"Define requirements to match the perfect candidates"})]}),o.jsxs("form",{onSubmit:D,className:"p-8 space-y-8",children:[o.jsxs("div",{className:`border border-gray-200 rounded-lg ${S.basic?"overflow-visible":"overflow-hidden"}`,children:[o.jsxs("button",{type:"button",onClick:()=>V("basic"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center shadow-sm",children:o.jsx(ti,{size:16,className:"text-white"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Basic Information"})]}),S.basic?o.jsx(Ql,{size:20,className:"text-gray-600"}):o.jsx(Mi,{size:20,className:"text-gray-600"})]}),S.basic&&o.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50",children:[o.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Job Title *"}),o.jsx("input",{type:"text",name:"title",value:k.title,onChange:B,required:!0,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Senior Software Engineer"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),o.jsx("input",{type:"text",name:"department",value:k.department,onChange:B,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Engineering & Technology"})]})]}),o.jsxs("div",{className:"grid gap-5 md:grid-cols-2 mt-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Location"}),o.jsx("input",{type:"text",name:"location",value:k.location,onChange:B,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Tech City, California, United States"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Location Type"}),o.jsx(Qp,{value:k.locationType,onChange:I=>$({...k,locationType:I}),options:[{value:"onsite",label:"On-site"},{value:"remote",label:"Remote"},{value:"hybrid",label:"Hybrid"}]})]})]}),o.jsxs("div",{className:"mt-5",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Job Description"}),o.jsx("textarea",{name:"description",value:k.description,onChange:B,rows:4,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300 resize-none",placeholder:`Write clean, efficient, and well-documented code.

Collaborate with cross-functional teams, including product management and design, to define and build new features.`})]})]})]}),o.jsxs("div",{className:`border border-gray-200 rounded-lg ${S.requirements?"overflow-visible":"overflow-hidden"}`,children:[o.jsxs("button",{type:"button",onClick:()=>V("requirements"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center shadow-sm",children:o.jsx(rl,{size:16,className:"text-white"})}),o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Requirements"})]}),S.requirements?o.jsx(Ql,{size:20,className:"text-gray-600"}):o.jsx(Mi,{size:20,className:"text-gray-600"})]}),S.requirements&&o.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-blue-50",children:[o.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Min. Experience (years)"}),o.jsx("input",{type:"number",name:"minExperience",value:k.minExperience,onChange:B,min:"0",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"5"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Max. Experience (years)"}),o.jsx("input",{type:"number",name:"maxExperience",value:k.maxExperience,onChange:B,min:"0",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"12"})]})]}),o.jsxs("div",{className:"mt-5",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Required Skills (comma-separated)"}),o.jsx("input",{type:"text",name:"requiredSkills",value:k.requiredSkills,onChange:B,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"Python, Java, JavaScript, TypeScript, SQL, Django, Flask, Spring, React, Node.js, PostgreSQL, MongoDB"})]}),o.jsxs("div",{className:"mt-5",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Preferred Skills (comma-separated)"}),o.jsx("input",{type:"text",name:"preferredSkills",value:k.preferredSkills,onChange:B,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"AWS, Docker, Kubernetes, CI/CD, Microservices"})]}),o.jsxs("div",{className:"mt-5",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Education Level"}),o.jsx(Qp,{value:k.education,onChange:I=>$({...k,education:I}),options:[{value:"",label:"Any"},{value:"High School",label:"High School"},{value:"Associate Degree",label:"Associate Degree"},{value:"Bachelor's Degree",label:"Bachelor's Degree"},{value:"Master's Degree",label:"Master's Degree"},{value:"Doctorate",label:"Doctorate"}],placeholder:"Select education level"})]})]})]}),o.jsxs("div",{className:`border border-gray-200 rounded-lg ${S.demographic?"overflow-visible":"overflow-hidden"}`,children:[o.jsxs("button",{type:"button",onClick:()=>V("demographic"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm",children:o.jsx(sa,{size:16,className:"text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Demographic Preferences"}),o.jsx("p",{className:"text-xs text-gray-600",children:"Optional filters for compliance requirements"})]})]}),S.demographic?o.jsx(Ql,{size:20,className:"text-gray-600"}):o.jsx(Mi,{size:20,className:"text-gray-600"})]}),S.demographic&&o.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-cyan-50",children:[o.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Gender Preference"}),o.jsx(Qp,{value:k.gender,onChange:I=>$({...k,gender:I}),options:[{value:"any",label:"Any"},{value:"male",label:"Male"},{value:"female",label:"Female"}]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Race Preference"}),o.jsx(Qp,{value:k.race,onChange:I=>$({...k,race:I}),options:[{value:"any",label:"Any"},{value:"african",label:"African"},{value:"asian",label:"Asian"},{value:"coloured",label:"Coloured"},{value:"indian",label:"Indian"},{value:"white",label:"White"}]})]})]}),o.jsxs("div",{className:"grid gap-5 md:grid-cols-2 mt-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Min. Age"}),o.jsx("input",{type:"number",name:"minAge",value:k.minAge,onChange:B,min:"18",max:"100",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"18"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Max. Age"}),o.jsx("input",{type:"number",name:"maxAge",value:k.maxAge,onChange:B,min:"18",max:"100",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"65"})]})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[o.jsx("input",{type:"checkbox",name:"isActive",checked:k.isActive,onChange:B,className:"w-5 h-5 text-orange-500 border-2 border-gray-300 rounded focus:ring-2 focus:ring-orange-500 cursor-pointer"}),o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-semibold text-gray-900 block",children:"Active Job Specification"}),o.jsx("span",{className:"text-xs text-gray-600",children:"Make this job spec available for CV matching"})]})]})}),o.jsxs("div",{className:"flex gap-4 pt-2",children:[o.jsx("button",{type:"button",onClick:()=>f(!1),className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold hover:scale-[1.02] shadow-sm",children:"Cancel"}),o.jsx("button",{type:"submit",className:"flex-1 px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-semibold shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-[1.02]",children:m?"Update Job Specification":"Create Job Specification"})]})]})]})}),o.jsx(si,{isOpen:j.isOpen,onClose:()=>w({isOpen:!1,specId:null}),onConfirm:G,title:"Delete Job Specification",message:"Are you sure you want to delete this job specification? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:_})]})}function ude(){const{currentUser:t}=Cn(),e=$n(),n=t?.userData,[r,a]=T.useState([]),[s,c]=T.useState(""),[u,h]=T.useState(!1),[f,m]=T.useState(!1),g=T.useRef(null),x=T.useRef(null),v=()=>{g.current?.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{v()},[r]),T.useEffect(()=>{n&&!lw(n.plan)?m(!0):n&&a([{role:"assistant",content:" Hi! I'm CVSift Assistant. I'm here to help you with anything related to CVSift - from uploading CVs to understanding match scores. How can I assist you today?",timestamp:new Date}])},[n]);const j=async S=>{if(S.preventDefault(),!s.trim()||u)return;if(!n||!lw(n.plan)){m(!0);return}const C=s.trim();c("");const V={role:"user",content:C,timestamp:new Date};a(k=>[...k,V]),h(!0);try{const k=Qt(),$=_t(k,"chatWithAssistant"),O=r.slice(-10).map(G=>({role:G.role,content:G.content})),U={role:"assistant",content:(await $({message:C,conversationHistory:O})).data.message,timestamp:new Date};a(G=>[...G,U])}catch(k){console.error("Error sending message:",k);let $="Sorry, I encountered an error. Please try again.";k.code==="permission-denied"&&(m(!0),$="Chatbot is only available for Pro and Enterprise users.");const O={role:"assistant",content:$,timestamp:new Date,isError:!0};a(M=>[...M,O])}finally{h(!1),x.current?.focus()}},w=["How do I upload CVs?","How do I create custom fields?","How does CV matching work?","How do I use custom field templates?","What are the different subscription plans?","How do I filter CVs by custom fields?"],_=S=>{c(S),x.current?.focus()},E=()=>o.jsx("div",{className:"flex justify-start animate-fade-in",children:o.jsxs("div",{className:"flex items-center gap-3 bg-white border border-gray-200 rounded-2xl px-5 py-3.5 shadow-sm",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:o.jsx(Jv,{className:"text-white",size:18})}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})});return f?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50 to-purple-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-scale-in",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(z4,{className:"text-white",size:32})}),o.jsx("button",{onClick:()=>e("/dashboard"),className:"text-gray-400 hover:text-gray-600 transition-colors",children:o.jsx(Xe,{size:20})})]}),o.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"AI Assistant"}),o.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Get instant help with CVSift features, best practices, and troubleshooting with our AI-powered assistant."}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-xl p-5 mb-6",children:[o.jsxs("p",{className:"text-sm text-orange-900 font-semibold mb-4 flex items-center gap-2",children:[o.jsx(fr,{size:16,className:"text-orange-600"}),"Premium Feature - Upgrade to access:"]}),o.jsxs("ul",{className:"space-y-3",children:[o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx($e,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),o.jsx("span",{children:"24/7 AI-powered assistance"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx($e,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),o.jsx("span",{children:"Instant answers to CVSift questions"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx($e,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),o.jsx("span",{children:"Best practices and tips"})]}),o.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[o.jsx($e,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),o.jsx("span",{children:"Troubleshooting support"})]})]})]}),o.jsx("button",{onClick:()=>e("/settings"),className:"w-full py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-semibold shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-[1.02]",children:"Upgrade to Pro"}),o.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full mt-3 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Back to Dashboard"})]})}):o.jsxs("div",{className:"h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-orange-50 flex flex-col overflow-hidden",children:[o.jsx("div",{className:"flex-shrink-0 bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:o.jsx(Ys,{size:20})}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:o.jsx(Jv,{className:"text-white",size:24})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CVSift Assistant"}),o.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered help  Always here to assist"})]})]})]}),o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-orange-100 to-amber-100 text-orange-700 rounded-full text-sm shadow-sm",children:[o.jsx(fr,{size:14}),o.jsx("span",{className:"font-semibold",children:"Pro Feature"})]})]})})}),o.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent min-h-0",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[o.jsxs("div",{className:"space-y-6",children:[r.map((S,C)=>o.jsxs("div",{className:`flex ${S.role==="user"?"justify-end":"justify-start"} animate-slide-up`,style:{animationDelay:`${C*50}ms`},children:[S.role==="assistant"&&o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0 mr-3 shadow-md",children:o.jsx(Jv,{className:"text-white",size:18})}),o.jsxs("div",{className:`max-w-[75%] rounded-2xl px-5 py-3.5 shadow-md ${S.role==="user"?"bg-gradient-to-br from-orange-500 to-orange-600 text-white":S.isError?"bg-red-50 text-red-800 border-2 border-red-200":"bg-white border border-gray-200 text-gray-900"}`,children:[o.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:S.content}),o.jsx("p",{className:`text-xs mt-2 ${S.role==="user"?"text-orange-100":"text-gray-500"}`,children:S.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),S.role==="user"&&o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center flex-shrink-0 ml-3 shadow-md",children:o.jsx(ii,{className:"text-white",size:18})})]},C)),u&&o.jsx(E,{}),o.jsx("div",{ref:g})]}),r.length===1&&!u&&o.jsxs("div",{className:"mt-12 animate-fade-in",children:[o.jsxs("p",{className:"text-sm text-gray-700 mb-4 font-semibold flex items-center gap-2",children:[o.jsx(fr,{size:16,className:"text-orange-500"}),"Try asking me:"]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:w.map((S,C)=>o.jsx("button",{onClick:()=>_(S),className:"px-5 py-3.5 bg-white border-2 border-gray-200 rounded-xl hover:border-orange-300 hover:bg-orange-50 text-sm text-gray-700 transition-all text-left hover:shadow-md hover:-translate-y-0.5",children:S},C))})]})]})}),o.jsx("div",{className:"flex-shrink-0 bg-white/80 backdrop-blur-sm border-t border-gray-200 shadow-lg z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-5",children:[o.jsxs("form",{onSubmit:j,className:"flex gap-3",children:[o.jsx("input",{ref:x,type:"text",value:s,onChange:S=>c(S.target.value),placeholder:"Ask me anything about CVSift...",className:"flex-1 px-5 py-4 border-2 border-gray-300 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-400",disabled:u}),o.jsxs("button",{type:"submit",disabled:!s.trim()||u,className:"px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-2xl hover:from-orange-600 hover:to-orange-700 transition-all disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed flex items-center gap-2 font-medium shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-105 disabled:shadow-none disabled:scale-100",children:[o.jsx(fW,{size:20}),o.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"CVSift Assistant can make mistakes. Please verify important information."})]})}),o.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fade-in {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes scale-in {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        .animate-slide-up {
          animation: slide-up 0.3s ease-out forwards;
        }

        .animate-fade-in {
          animation: fade-in 0.4s ease-out forwards;
        }

        .animate-scale-in {
          animation: scale-in 0.3s ease-out forwards;
        }
      `})]})}function dde(){const[t]=x9(),e=$n(),{currentUser:n}=Cn(),r=ll(),[a]=T.useState(t.get("inviteId")),[s,c]=T.useState(!0),[u,h]=T.useState(!1),[f,m]=T.useState(null),[g,x]=T.useState(null),[v,j]=T.useState(!1);T.useEffect(()=>{if(!a){x("Invalid invitation link"),c(!1);return}w()},[a]);const w=async()=>{try{c(!0),x(null);const S=Qt(),V=await _t(S,"getInviteData")({inviteId:a});V.data.success?m(V.data.invite):x(V.data.message||"Invalid or expired invitation")}catch(S){console.error("Error loading invite:",S),x(S.message||"Failed to load invitation")}finally{c(!1)}},_=async()=>{if(!n){r.error("Please sign in to accept this invitation"),e(`/login?redirect=/accept-invite?inviteId=${a}`);return}try{h(!0);const S=Qt(),V=await _t(S,"acceptTeamInvite")({inviteId:a});V.data.success?(j(!0),r.success("Successfully joined the team!"),setTimeout(()=>{e("/dashboard")},2e3)):x(V.data.message||"Failed to accept invitation")}catch(S){console.error("Error accepting invite:",S),r.error(S.message||"Failed to accept invitation"),x(S.message||"Failed to accept invitation")}finally{h(!1)}},E=()=>{e("/")};return s?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[o.jsx(_r,{className:"animate-spin mx-auto text-orange-500 mb-4",size:48}),o.jsx("p",{className:"text-gray-600 font-semibold",children:"Loading invitation..."})]})}):v?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Mt,{className:"text-green-600",size:48})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Welcome to the Team!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"You've successfully joined the team. Redirecting to dashboard..."}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-500",children:[o.jsx(_r,{className:"animate-spin",size:20}),o.jsx("span",{className:"font-semibold",children:"Loading..."})]})]})}):g?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-rose-50 to-red-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(zg,{className:"text-red-600",size:48})}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Invalid Invitation"}),o.jsx("p",{className:"text-gray-600 mb-6",children:g}),o.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl",children:"Go to Home"})]})}):o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 p-8 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx(sa,{className:"text-orange-500",size:40})}),o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Team Invitation"}),o.jsx("p",{className:"text-orange-100",children:"You've been invited to join a CVSift team"})]}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Invitation Details"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"From:"}),o.jsx("span",{className:"text-gray-900 font-bold",children:f?.teamOwnerName})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Role:"}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${f?.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:f?.role==="admin"?"Admin":"Member"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Email:"}),o.jsx("span",{className:"text-gray-900 font-semibold",children:f?.email})]})]})]}),o.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-xl p-6 mb-6",children:[o.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[o.jsx($t,{size:18,className:"text-orange-500"}),"What you'll be able to do:"]}),o.jsxs("ul",{className:"space-y-2 text-gray-700",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"View and search the team's CV database"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Upload new CVs to the library"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Match candidates to job specifications"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),o.jsx("span",{children:"Access advanced analytics and insights"})]}),f?.role==="admin"&&o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx(Mt,{size:18,className:"text-purple-600 mt-0.5 flex-shrink-0"}),o.jsx("span",{className:"font-semibold text-purple-700",children:"Manage team members and settings"})]})]})]}),!n&&o.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx($t,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:"Sign in required"}),o.jsxs("p",{className:"text-yellow-700 text-sm",children:["You'll need to sign in or create an account with ",o.jsx("strong",{children:f?.email})," to accept this invitation."]})]})]})}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:E,className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all border-2 border-gray-200",children:"Decline"}),o.jsx("button",{onClick:_,disabled:u,className:"flex-1 px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?o.jsxs(o.Fragment,{children:[o.jsx(_r,{className:"animate-spin",size:20}),"Accepting..."]}):o.jsxs(o.Fragment,{children:["Accept Invitation",o.jsx(sY,{size:20})]})})]})]})]})})}function ei({children:t}){const{currentUser:e}=Cn();return e?t:o.jsx(t_,{to:"/signin",replace:!0})}function k1({children:t}){const{currentUser:e}=Cn();return e?o.jsx(t_,{to:"/dashboard",replace:!0}):t}function hde(){return o.jsxs(q8,{children:[o.jsx(Vn,{path:"/",element:o.jsx(zW,{})}),o.jsx(Vn,{path:"/signup",element:o.jsx(k1,{children:o.jsx(UW,{})})}),o.jsx(Vn,{path:"/signin",element:o.jsx(k1,{children:o.jsx(VW,{})})}),o.jsx(Vn,{path:"/reset-password",element:o.jsx(k1,{children:o.jsx(BW,{})})}),o.jsx(Vn,{path:"/accept-invite",element:o.jsx(dde,{})}),o.jsx(Vn,{path:"/dashboard",element:o.jsx(ei,{children:o.jsx($W,{})})}),o.jsx(Vn,{path:"/upload",element:o.jsx(ei,{children:o.jsx(YW,{})})}),o.jsx(Vn,{path:"/cvs",element:o.jsx(ei,{children:o.jsx(QW,{})})}),o.jsx(Vn,{path:"/cv/:id",element:o.jsx(ei,{children:o.jsx(ZW,{})})}),o.jsx(Vn,{path:"/pricing",element:o.jsx(ei,{children:o.jsx(JW,{})})}),o.jsx(Vn,{path:"/payment/success",element:o.jsx(ei,{children:o.jsx(eX,{})})}),o.jsx(Vn,{path:"/payment/cancel",element:o.jsx(ei,{children:o.jsx(tX,{})})}),o.jsx(Vn,{path:"/analytics",element:o.jsx(ei,{children:o.jsx(rde,{})})}),o.jsx(Vn,{path:"/settings",element:o.jsx(ei,{children:o.jsx(lde,{})})}),o.jsx(Vn,{path:"/job-specs",element:o.jsx(ei,{children:o.jsx(cde,{})})}),o.jsx(Vn,{path:"/chatbot",element:o.jsx(ei,{children:o.jsx(ude,{})})}),o.jsx(Vn,{path:"*",element:o.jsx(t_,{to:"/",replace:!0})})]})}function fde(){return o.jsx(f9,{children:o.jsx(WK,{children:o.jsx(PW,{children:o.jsx(hde,{})})})})}class mde extends N0.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Application Error:",e,n)}render(){return this.state.hasError?o.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"system-ui, -apple-system, sans-serif",padding:"2rem"},children:o.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[o.jsx("h1",{style:{color:"#ff6d38",marginBottom:"1rem"},children:"Oops!"}),o.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Something went wrong. Please refresh the page to try again."}),o.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#ff6d38",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"Refresh Page"})]})}):this.props.children}}Zz.createRoot(document.getElementById("root")).render(o.jsx(N0.StrictMode,{children:o.jsx(mde,{children:o.jsx(fde,{})})}));
