function gq(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Uw={exports:{}},Jg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function yq(){if(PE)return Jg;PE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var o=null;if(a!==void 0&&(o=""+a),i.key!==void 0&&(o=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:a}}return Jg.Fragment=e,Jg.jsx=n,Jg.jsxs=n,Jg}var RE;function xq(){return RE||(RE=1,Uw.exports=yq()),Uw.exports}var s=xq(),Bw={exports:{}},yn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function vq(){if(OE)return yn;OE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),x=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=x&&X[x]||X["@@iterator"],typeof X=="function"?X:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function j(X,O,K){this.props=X,this.context=O,this.refs=w,this.updater=K||b}j.prototype.isReactComponent={},j.prototype.setState=function(X,O){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,O,"setState")},j.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function E(){}E.prototype=j.prototype;function T(X,O,K){this.props=X,this.context=O,this.refs=w,this.updater=K||b}var D=T.prototype=new E;D.constructor=T,v(D,j.prototype),D.isPureReactComponent=!0;var M=Array.isArray;function J(){}var F={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function L(X,O,K){var te=K.ref;return{$$typeof:t,type:X,key:O,ref:te!==void 0?te:null,props:K}}function H(X,O){return L(X.type,O,X.props)}function P(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function I(X){var O={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(K){return O[K]})}var U=/\/+/g;function k(X,O){return typeof X=="object"&&X!==null&&X.key!=null?I(""+X.key):O.toString(36)}function le(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(J,J):(X.status="pending",X.then(function(O){X.status==="pending"&&(X.status="fulfilled",X.value=O)},function(O){X.status==="pending"&&(X.status="rejected",X.reason=O)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function G(X,O,K,te,ee){var xe=typeof X;(xe==="undefined"||xe==="boolean")&&(X=null);var be=!1;if(X===null)be=!0;else switch(xe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(X.$$typeof){case t:case e:be=!0;break;case f:return be=X._init,G(be(X._payload),O,K,te,ee)}}if(be)return ee=ee(X),be=te===""?"."+k(X,0):te,M(ee)?(K="",be!=null&&(K=be.replace(U,"$&/")+"/"),G(ee,O,K,"",function(Ee){return Ee})):ee!=null&&(P(ee)&&(ee=H(ee,K+(ee.key==null||X&&X.key===ee.key?"":(""+ee.key).replace(U,"$&/")+"/")+be)),O.push(ee)),1;be=0;var oe=te===""?".":te+":";if(M(X))for(var fe=0;fe<X.length;fe++)te=X[fe],xe=oe+k(te,fe),be+=G(te,O,K,xe,ee);else if(fe=g(X),typeof fe=="function")for(X=fe.call(X),fe=0;!(te=X.next()).done;)te=te.value,xe=oe+k(te,fe++),be+=G(te,O,K,xe,ee);else if(xe==="object"){if(typeof X.then=="function")return G(le(X),O,K,te,ee);throw O=String(X),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(X,O,K){if(X==null)return X;var te=[],ee=0;return G(X,te,"","",function(xe){return O.call(K,xe,ee++)}),te}function ie(X){if(X._status===-1){var O=X._result;O=O(),O.then(function(K){(X._status===0||X._status===-1)&&(X._status=1,X._result=K)},function(K){(X._status===0||X._status===-1)&&(X._status=2,X._result=K)}),X._status===-1&&(X._status=0,X._result=O)}if(X._status===1)return X._result.default;throw X._result}var se=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Se={map:W,forEach:function(X,O,K){W(X,function(){O.apply(this,arguments)},K)},count:function(X){var O=0;return W(X,function(){O++}),O},toArray:function(X){return W(X,function(O){return O})||[]},only:function(X){if(!P(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return yn.Activity=p,yn.Children=Se,yn.Component=j,yn.Fragment=n,yn.Profiler=i,yn.PureComponent=T,yn.StrictMode=r,yn.Suspense=d,yn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,yn.__COMPILER_RUNTIME={__proto__:null,c:function(X){return F.H.useMemoCache(X)}},yn.cache=function(X){return function(){return X.apply(null,arguments)}},yn.cacheSignal=function(){return null},yn.cloneElement=function(X,O,K){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var te=v({},X.props),ee=X.key;if(O!=null)for(xe in O.key!==void 0&&(ee=""+O.key),O)!z.call(O,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&O.ref===void 0||(te[xe]=O[xe]);var xe=arguments.length-2;if(xe===1)te.children=K;else if(1<xe){for(var be=Array(xe),oe=0;oe<xe;oe++)be[oe]=arguments[oe+2];te.children=be}return L(X.type,ee,te)},yn.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:a,_context:X},X},yn.createElement=function(X,O,K){var te,ee={},xe=null;if(O!=null)for(te in O.key!==void 0&&(xe=""+O.key),O)z.call(O,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ee[te]=O[te]);var be=arguments.length-2;if(be===1)ee.children=K;else if(1<be){for(var oe=Array(be),fe=0;fe<be;fe++)oe[fe]=arguments[fe+2];ee.children=oe}if(X&&X.defaultProps)for(te in be=X.defaultProps,be)ee[te]===void 0&&(ee[te]=be[te]);return L(X,xe,ee)},yn.createRef=function(){return{current:null}},yn.forwardRef=function(X){return{$$typeof:c,render:X}},yn.isValidElement=P,yn.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:ie}},yn.memo=function(X,O){return{$$typeof:h,type:X,compare:O===void 0?null:O}},yn.startTransition=function(X){var O=F.T,K={};F.T=K;try{var te=X(),ee=F.S;ee!==null&&ee(K,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(J,se)}catch(xe){se(xe)}finally{O!==null&&K.types!==null&&(O.types=K.types),F.T=O}},yn.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},yn.use=function(X){return F.H.use(X)},yn.useActionState=function(X,O,K){return F.H.useActionState(X,O,K)},yn.useCallback=function(X,O){return F.H.useCallback(X,O)},yn.useContext=function(X){return F.H.useContext(X)},yn.useDebugValue=function(){},yn.useDeferredValue=function(X,O){return F.H.useDeferredValue(X,O)},yn.useEffect=function(X,O){return F.H.useEffect(X,O)},yn.useEffectEvent=function(X){return F.H.useEffectEvent(X)},yn.useId=function(){return F.H.useId()},yn.useImperativeHandle=function(X,O,K){return F.H.useImperativeHandle(X,O,K)},yn.useInsertionEffect=function(X,O){return F.H.useInsertionEffect(X,O)},yn.useLayoutEffect=function(X,O){return F.H.useLayoutEffect(X,O)},yn.useMemo=function(X,O){return F.H.useMemo(X,O)},yn.useOptimistic=function(X,O){return F.H.useOptimistic(X,O)},yn.useReducer=function(X,O,K){return F.H.useReducer(X,O,K)},yn.useRef=function(X){return F.H.useRef(X)},yn.useState=function(X){return F.H.useState(X)},yn.useSyncExternalStore=function(X,O,K){return F.H.useSyncExternalStore(X,O,K)},yn.useTransition=function(){return F.H.useTransition()},yn.version="19.2.0",yn}var DE;function Gp(){return DE||(DE=1,Bw.exports=vq()),Bw.exports}var V=Gp();const yy=wu(V),bq=gq({__proto__:null,default:yy},[V]);var Vw={exports:{}},Qg={},qw={exports:{}},$w={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function wq(){return LE||(LE=1,(function(t){function e(G,W){var ie=G.length;G.push(W);e:for(;0<ie;){var se=ie-1>>>1,Se=G[se];if(0<i(Se,W))G[se]=W,G[ie]=Se,ie=se;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var W=G[0],ie=G.pop();if(ie!==W){G[0]=ie;e:for(var se=0,Se=G.length,X=Se>>>1;se<X;){var O=2*(se+1)-1,K=G[O],te=O+1,ee=G[te];if(0>i(K,ie))te<Se&&0>i(ee,K)?(G[se]=ee,G[te]=ie,se=te):(G[se]=K,G[O]=ie,se=O);else if(te<Se&&0>i(ee,ie))G[se]=ee,G[te]=ie,se=te;else break e}}return W}function i(G,W){var ie=G.sortIndex-W.sortIndex;return ie!==0?ie:G.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],f=1,p=null,x=3,g=!1,b=!1,v=!1,w=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function D(G){for(var W=n(h);W!==null;){if(W.callback===null)r(h);else if(W.startTime<=G)r(h),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(h)}}function M(G){if(v=!1,D(G),!b)if(n(d)!==null)b=!0,J||(J=!0,I());else{var W=n(h);W!==null&&le(M,W.startTime-G)}}var J=!1,F=-1,z=5,L=-1;function H(){return w?!0:!(t.unstable_now()-L<z)}function P(){if(w=!1,J){var G=t.unstable_now();L=G;var W=!0;try{e:{b=!1,v&&(v=!1,E(F),F=-1),g=!0;var ie=x;try{t:{for(D(G),p=n(d);p!==null&&!(p.expirationTime>G&&H());){var se=p.callback;if(typeof se=="function"){p.callback=null,x=p.priorityLevel;var Se=se(p.expirationTime<=G);if(G=t.unstable_now(),typeof Se=="function"){p.callback=Se,D(G),W=!0;break t}p===n(d)&&r(d),D(G)}else r(d);p=n(d)}if(p!==null)W=!0;else{var X=n(h);X!==null&&le(M,X.startTime-G),W=!1}}break e}finally{p=null,x=ie,g=!1}W=void 0}}finally{W?I():J=!1}}}var I;if(typeof T=="function")I=function(){T(P)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,k=U.port2;U.port1.onmessage=P,I=function(){k.postMessage(null)}}else I=function(){j(P,0)};function le(G,W){F=j(function(){G(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var ie=x;x=W;try{return G()}finally{x=ie}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ie=x;x=G;try{return W()}finally{x=ie}},t.unstable_scheduleCallback=function(G,W,ie){var se=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?se+ie:se):ie=se,G){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ie+Se,G={id:f++,callback:W,priorityLevel:G,startTime:ie,expirationTime:Se,sortIndex:-1},ie>se?(G.sortIndex=ie,e(h,G),n(d)===null&&G===n(h)&&(v?(E(F),F=-1):v=!0,le(M,ie-se))):(G.sortIndex=Se,e(d,G),b||g||(b=!0,J||(J=!0,I()))),G},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(G){var W=x;return function(){var ie=x;x=W;try{return G.apply(this,arguments)}finally{x=ie}}}})($w)),$w}var ME;function _q(){return ME||(ME=1,qw.exports=wq()),qw.exports}var Hw={exports:{}},ms={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zE;function Nq(){if(zE)return ms;zE=1;var t=Gp();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:h,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return ms.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ms.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,f)},ms.flushSync=function(d){var h=o.T,f=r.p;try{if(o.T=null,r.p=2,d)return d()}finally{o.T=h,r.p=f,r.d.f()}},ms.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(d,h))},ms.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},ms.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:g}):f==="script"&&r.d.X(d,{crossOrigin:p,integrity:x,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},ms.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);r.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(d)},ms.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);r.d.L(d,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},ms.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=c(h.as,h.crossOrigin);r.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(d)},ms.requestFormReset=function(d){r.d.r(d)},ms.unstable_batchedUpdates=function(d,h){return d(h)},ms.useFormState=function(d,h,f){return o.H.useFormState(d,h,f)},ms.useFormStatus=function(){return o.H.useHostTransitionStatus()},ms.version="19.2.0",ms}var FE;function uO(){if(FE)return Hw.exports;FE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Hw.exports=Nq(),Hw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UE;function jq(){if(UE)return Qg;UE=1;var t=_q(),e=Gp(),n=uO();function r(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function d(l){if(a(l)!==l)throw Error(r(188))}function h(l){var u=l.alternate;if(!u){if(u=a(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,y=u;;){var S=m.return;if(S===null)break;var C=S.alternate;if(C===null){if(y=S.return,y!==null){m=y;continue}break}if(S.child===C.child){for(C=S.child;C;){if(C===m)return d(S),l;if(C===y)return d(S),u;C=C.sibling}throw Error(r(188))}if(m.return!==y.return)m=S,y=C;else{for(var Z=!1,de=S.child;de;){if(de===m){Z=!0,m=S,y=C;break}if(de===y){Z=!0,y=S,m=C;break}de=de.sibling}if(!Z){for(de=C.child;de;){if(de===m){Z=!0,m=C,y=S;break}if(de===y){Z=!0,y=C,m=S;break}de=de.sibling}if(!Z)throw Error(r(189))}}if(m.alternate!==y)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function f(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=f(l),u!==null)return u;l=l.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),T=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),L=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function I(l){return l===null||typeof l!="object"?null:(l=P&&l[P]||l["@@iterator"],typeof l=="function"?l:null)}var U=Symbol.for("react.client.reference");function k(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===U?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case v:return"Fragment";case j:return"Profiler";case w:return"StrictMode";case M:return"Suspense";case J:return"SuspenseList";case L:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case T:return l.displayName||"Context";case E:return(l._context.displayName||"Context")+".Consumer";case D:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case F:return u=l.displayName||null,u!==null?u:k(l.type)||"Memo";case z:u=l._payload,l=l._init;try{return k(l(u))}catch{}}return null}var le=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},se=[],Se=-1;function X(l){return{current:l}}function O(l){0>Se||(l.current=se[Se],se[Se]=null,Se--)}function K(l,u){Se++,se[Se]=l.current,l.current=u}var te=X(null),ee=X(null),xe=X(null),be=X(null);function oe(l,u){switch(K(xe,u),K(ee,l),K(te,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?tE(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=tE(u),l=nE(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}O(te),K(te,l)}function fe(){O(te),O(ee),O(xe)}function Ee(l){l.memoizedState!==null&&K(be,l);var u=te.current,m=nE(u,l.type);u!==m&&(K(ee,l),K(te,m))}function Be(l){ee.current===l&&(O(te),O(ee)),be.current===l&&(O(be),Yg._currentValue=ie)}var Pe,ct;function q(l){if(Pe===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Pe=u&&u[1]||"",ct=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+l+ct}var ae=!1;function ke(l,u){if(!l||ae)return"";ae=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var ft=function(){throw Error()};if(Object.defineProperty(ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ft,[])}catch(Je){var Ye=Je}Reflect.construct(l,[],ft)}else{try{ft.call()}catch(Je){Ye=Je}l.call(ft.prototype)}}else{try{throw Error()}catch(Je){Ye=Je}(ft=l())&&typeof ft.catch=="function"&&ft.catch(function(){})}}catch(Je){if(Je&&Ye&&typeof Je.stack=="string")return[Je.stack,Ye.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),Z=C[0],de=C[1];if(Z&&de){var Ae=Z.split(`
`),Ge=de.split(`
`);for(S=y=0;y<Ae.length&&!Ae[y].includes("DetermineComponentFrameRoot");)y++;for(;S<Ge.length&&!Ge[S].includes("DetermineComponentFrameRoot");)S++;if(y===Ae.length||S===Ge.length)for(y=Ae.length-1,S=Ge.length-1;1<=y&&0<=S&&Ae[y]!==Ge[S];)S--;for(;1<=y&&0<=S;y--,S--)if(Ae[y]!==Ge[S]){if(y!==1||S!==1)do if(y--,S--,0>S||Ae[y]!==Ge[S]){var rt=`
`+Ae[y].replace(" at new "," at ");return l.displayName&&rt.includes("<anonymous>")&&(rt=rt.replace("<anonymous>",l.displayName)),rt}while(1<=y&&0<=S);break}}}finally{ae=!1,Error.prepareStackTrace=m}return(m=l?l.displayName||l.name:"")?q(m):""}function ye(l,u){switch(l.tag){case 26:case 27:case 5:return q(l.type);case 16:return q("Lazy");case 13:return l.child!==u&&u!==null?q("Suspense Fallback"):q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return ke(l.type,!1);case 11:return ke(l.type.render,!1);case 1:return ke(l.type,!0);case 31:return q("Activity");default:return""}}function he(l){try{var u="",m=null;do u+=ye(l,m),m=l,l=l.return;while(l);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var ve=Object.prototype.hasOwnProperty,De=t.unstable_scheduleCallback,Le=t.unstable_cancelCallback,Ie=t.unstable_shouldYield,Ke=t.unstable_requestPaint,at=t.unstable_now,Xe=t.unstable_getCurrentPriorityLevel,ht=t.unstable_ImmediatePriority,Tt=t.unstable_UserBlockingPriority,bt=t.unstable_NormalPriority,_e=t.unstable_LowPriority,Ze=t.unstable_IdlePriority,Me=t.log,xt=t.unstable_setDisableYieldValue,ut=null,st=null;function At(l){if(typeof Me=="function"&&xt(l),st&&typeof st.setStrictMode=="function")try{st.setStrictMode(ut,l)}catch{}}var $t=Math.clz32?Math.clz32:rn,Ut=Math.log,un=Math.LN2;function rn(l){return l>>>=0,l===0?32:31-(Ut(l)/un|0)|0}var On=256,Zn=262144,Xt=4194304;function Ht(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function bn(l,u,m){var y=l.pendingLanes;if(y===0)return 0;var S=0,C=l.suspendedLanes,Z=l.pingedLanes;l=l.warmLanes;var de=y&134217727;return de!==0?(y=de&~C,y!==0?S=Ht(y):(Z&=de,Z!==0?S=Ht(Z):m||(m=de&~l,m!==0&&(S=Ht(m))))):(de=y&~C,de!==0?S=Ht(de):Z!==0?S=Ht(Z):m||(m=y&~l,m!==0&&(S=Ht(m)))),S===0?0:u!==0&&u!==S&&(u&C)===0&&(C=S&-S,m=u&-u,C>=m||C===32&&(m&4194048)!==0)?u:S}function Ci(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function lt(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _t(){var l=Xt;return Xt<<=1,(Xt&62914560)===0&&(Xt=4194304),l}function _n(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function jt(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function ai(l,u,m,y,S,C){var Z=l.pendingLanes;l.pendingLanes=m,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=m,l.entangledLanes&=m,l.errorRecoveryDisabledLanes&=m,l.shellSuspendCounter=0;var de=l.entanglements,Ae=l.expirationTimes,Ge=l.hiddenUpdates;for(m=Z&~m;0<m;){var rt=31-$t(m),ft=1<<rt;de[rt]=0,Ae[rt]=-1;var Ye=Ge[rt];if(Ye!==null)for(Ge[rt]=null,rt=0;rt<Ye.length;rt++){var Je=Ye[rt];Je!==null&&(Je.lane&=-536870913)}m&=~ft}y!==0&&Zi(l,y,0),C!==0&&S===0&&l.tag!==0&&(l.suspendedLanes|=C&~(Z&~u))}function Zi(l,u,m){l.pendingLanes|=u,l.suspendedLanes&=~u;var y=31-$t(u);l.entangledLanes|=u,l.entanglements[y]=l.entanglements[y]|1073741824|m&261930}function Ti(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var y=31-$t(m),S=1<<y;S&u|l[y]&u&&(l[y]|=u),m&=~S}}function Ji(l,u){var m=u&-u;return m=(m&42)!==0?1:Jn(m),(m&(l.suspendedLanes|u))!==0?0:m}function Jn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function wr(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function gi(){var l=W.p;return l!==0?l:(l=window.event,l===void 0?32:SE(l.type))}function Qi(l,u){var m=W.p;try{return W.p=l,u()}finally{W.p=m}}var Fi=Math.random().toString(36).slice(2),Qn="__reactFiber$"+Fi,hr="__reactProps$"+Fi,yi="__reactContainer$"+Fi,ya="__reactEvents$"+Fi,ls="__reactListeners$"+Fi,sl="__reactHandles$"+Fi,Ts="__reactResources$"+Fi,xa="__reactMarker$"+Fi;function Io(l){delete l[Qn],delete l[hr],delete l[ya],delete l[ls],delete l[sl]}function Fa(l){var u=l[Qn];if(u)return u;for(var m=l.parentNode;m;){if(u=m[yi]||m[Qn]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=cE(l);l!==null;){if(m=l[Qn])return m;l=cE(l)}return u}l=m,m=l.parentNode}return null}function ea(l){if(l=l[Qn]||l[yi]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function Ua(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(r(33))}function cs(l){var u=l[Ts];return u||(u=l[Ts]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function zr(l){l[xa]=!0}var Tc=new Set,va={};function us(l,u){ks(l,u),ks(l+"Capture",u)}function ks(l,u){for(va[l]=u,l=0;l<u.length;l++)Tc.add(u[l])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kc={},Ic={};function Su(l){return ve.call(Ic,l)?!0:ve.call(kc,l)?!1:$l.test(l)?Ic[l]=!0:(kc[l]=!0,!1)}function Po(l,u,m){if(Su(u))if(m===null)l.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+m)}}function Ba(l,u,m){if(m===null)l.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+m)}}function Nn(l,u,m,y){if(y===null)l.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(m);return}l.setAttributeNS(u,m,""+y)}}function si(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function Ro(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Is(l,u,m){var y=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,C=y.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(Z){m=""+Z,C.call(this,Z)}}),Object.defineProperty(l,u,{enumerable:y.enumerable}),{getValue:function(){return m},setValue:function(Z){m=""+Z},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function Tn(l){if(!l._valueTracker){var u=Ro(l)?"checked":"value";l._valueTracker=Is(l,u,""+l[u])}}function ta(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return l&&(y=Ro(l)?l.checked?"true":"false":l.value),l=y,l!==m?(u.setValue(l),!0):!1}function ba(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var fr=/[\n"\\]/g;function Ui(l){return l.replace(fr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Pc(l,u,m,y,S,C,Z,de){l.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?l.type=Z:l.removeAttribute("type"),u!=null?Z==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+si(u)):l.value!==""+si(u)&&(l.value=""+si(u)):Z!=="submit"&&Z!=="reset"||l.removeAttribute("value"),u!=null?Au(l,Z,si(u)):m!=null?Au(l,Z,si(m)):y!=null&&l.removeAttribute("value"),S==null&&C!=null&&(l.defaultChecked=!!C),S!=null&&(l.checked=S&&typeof S!="function"&&typeof S!="symbol"),de!=null&&typeof de!="function"&&typeof de!="symbol"&&typeof de!="boolean"?l.name=""+si(de):l.removeAttribute("name")}function Ld(l,u,m,y,S,C,Z,de){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(l.type=C),u!=null||m!=null){if(!(C!=="submit"&&C!=="reset"||u!=null)){Tn(l);return}m=m!=null?""+si(m):"",u=u!=null?""+si(u):m,de||u===l.value||(l.value=u),l.defaultValue=u}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,l.checked=de?l.checked:!!y,l.defaultChecked=!!y,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(l.name=Z),Tn(l)}function Au(l,u,m){u==="number"&&ba(l.ownerDocument)===l||l.defaultValue===""+m||(l.defaultValue=""+m)}function na(l,u,m,y){if(l=l.options,u){u={};for(var S=0;S<m.length;S++)u["$"+m[S]]=!0;for(m=0;m<l.length;m++)S=u.hasOwnProperty("$"+l[m].value),l[m].selected!==S&&(l[m].selected=S),S&&y&&(l[m].defaultSelected=!0)}else{for(m=""+si(m),u=null,S=0;S<l.length;S++){if(l[S].value===m){l[S].selected=!0,y&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function Eu(l,u,m){if(u!=null&&(u=""+si(u),u!==l.value&&(l.value=u),m==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=m!=null?""+si(m):""}function Oo(l,u,m,y){if(u==null){if(y!=null){if(m!=null)throw Error(r(92));if(le(y)){if(1<y.length)throw Error(r(93));y=y[0]}m=y}m==null&&(m=""),u=m}m=si(u),l.defaultValue=m,y=l.textContent,y===m&&y!==""&&y!==null&&(l.value=y),Tn(l)}function oi(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var Rc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cu(l,u,m){var y=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":y?l.setProperty(u,m):typeof m!="number"||m===0||Rc.has(u)?u==="float"?l.cssFloat=m:l[u]=(""+m).trim():l[u]=m+"px"}function Tu(l,u,m){if(u!=null&&typeof u!="object")throw Error(r(62));if(l=l.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?l.setProperty(y,""):y==="float"?l.cssFloat="":l[y]="");for(var S in u)y=u[S],u.hasOwnProperty(S)&&m[S]!==y&&Cu(l,S,y)}else for(var C in u)u.hasOwnProperty(C)&&Cu(l,C,u[C])}function Oc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ps(l){return ds.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Rs(){}var Do=null;function wa(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var nn=null,to=null;function Hl(l){var u=ea(l);if(u&&(l=u.stateNode)){var m=l[hr]||null;e:switch(l=u.stateNode,u.type){case"input":if(Pc(l,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ui(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==l&&y.form===l.form){var S=y[hr]||null;if(!S)throw Error(r(90));Pc(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<m.length;u++)y=m[u],y.form===l.form&&ta(y)}break e;case"textarea":Eu(l,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&na(l,!!m.multiple,u,!1)}}}var Lc=!1;function ol(l,u,m){if(Lc)return l(u,m);Lc=!0;try{var y=l(u);return y}finally{if(Lc=!1,(nn!==null||to!==null)&&(vx(),nn&&(u=nn,l=to,to=nn=null,Hl(u),l)))for(u=0;u<l.length;u++)Hl(l[u])}}function ki(l,u){var m=l.stateNode;if(m===null)return null;var y=m[hr]||null;if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(l=l.type,y=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!y;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=!1;if(xi)try{var er={};Object.defineProperty(er,"passive",{get:function(){Wl=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Wl=!1}var Va=null,Gl=null,Os=null;function ll(){if(Os)return Os;var l,u=Gl,m=u.length,y,S="value"in Va?Va.value:Va.textContent,C=S.length;for(l=0;l<m&&u[l]===S[l];l++);var Z=m-l;for(y=1;y<=Z&&u[m-y]===S[C-y];y++);return Os=S.slice(l,1<y?1-y:void 0)}function no(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Lo(){return!0}function qa(){return!1}function li(l){function u(m,y,S,C,Z){this._reactName=m,this._targetInst=S,this.type=y,this.nativeEvent=C,this.target=Z,this.currentTarget=null;for(var de in l)l.hasOwnProperty(de)&&(m=l[de],this[de]=m?m(C):C[de]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?Lo:qa,this.isPropagationStopped=qa,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),u}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_a=li($a),ro=p({},$a,{view:0,detail:0}),cl=li(ro),io,ao,Ds,Yl=p({},ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jt,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Ds&&(Ds&&l.type==="mousemove"?(io=l.screenX-Ds.screenX,ao=l.screenY-Ds.screenY):ao=io=0,Ds=l),io)},movementY:function(l){return"movementY"in l?l.movementY:ao}}),Ls=li(Yl),Ha=p({},Yl,{dataTransfer:0}),ku=li(Ha),Iu=p({},ro,{relatedTarget:0}),Ms=li(Iu),Mc=p({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),R=li(Mc),ne=p({},$a,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ne=li(ne),Ce=p({},$a,{data:0}),ze=li(Ce),nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bt(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=Rt[l])?!!u[l]:!1}function Jt(){return Bt}var Yt=p({},ro,{key:function(l){if(l.key){var u=nt[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=no(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?gt[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jt,charCode:function(l){return l.type==="keypress"?no(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?no(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Dn=li(Yt),_r=p({},Yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=li(_r),N=p({},ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jt}),$=li(N),Q=p({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),pe=li(Q),Ue=p({},Yl,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),We=li(Ue),wt=p({},$a,{newState:0,oldState:0}),ln=li(wt),mr=[9,13,27,32],Sn=xi&&"CompositionEvent"in window,tr=null;xi&&"documentMode"in document&&(tr=document.documentMode);var Bi=xi&&"TextEvent"in window&&!tr,Na=xi&&(!Sn||tr&&8<tr&&11>=tr),Nr=" ",ra=!1;function zs(l,u){switch(l){case"keyup":return mr.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ul(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var dl=!1;function Kr(l,u){switch(l){case"compositionend":return ul(u);case"keypress":return u.which!==32?null:(ra=!0,Nr);case"textInput":return l=u.data,l===Nr&&ra?null:l;default:return null}}function Kl(l,u){if(dl)return l==="compositionend"||!Sn&&zs(l,u)?(l=ll(),Os=Gl=Va=null,dl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Na&&u.locale!=="ko"?null:u.data;default:return null}}var Md={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jh(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Md[l.type]:u==="textarea"}function Fs(l,u,m,y){nn?to?to.push(y):to=[y]:nn=y,u=Ax(u,"onChange"),0<u.length&&(m=new _a("onChange","change",null,m,y),l.push({event:m,listeners:u}))}var Mo=null,Xl=null;function Qh(l){K6(l,0)}function zo(l){var u=Ua(l);if(ta(u))return l}function zc(l,u){if(l==="change")return u}var hs=!1;if(xi){var Wa;if(xi){var hl="oninput"in document;if(!hl){var fl=document.createElement("div");fl.setAttribute("oninput","return;"),hl=typeof fl.oninput=="function"}Wa=hl}else Wa=!1;hs=Wa&&(!document.documentMode||9<document.documentMode)}function Zl(){Mo&&(Mo.detachEvent("onpropertychange",zd),Xl=Mo=null)}function zd(l){if(l.propertyName==="value"&&zo(Xl)){var u=[];Fs(u,Xl,l,wa(l)),ol(Qh,u)}}function Fd(l,u,m){l==="focusin"?(Zl(),Mo=u,Xl=m,Mo.attachEvent("onpropertychange",zd)):l==="focusout"&&Zl()}function ci(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return zo(Xl)}function xm(l,u){if(l==="click")return zo(u)}function ml(l,u){if(l==="input"||l==="change")return zo(u)}function pl(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var ia=typeof Object.is=="function"?Object.is:pl;function Jl(l,u){if(ia(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var S=m[y];if(!ve.call(u,S)||!ia(l[S],u[S]))return!1}return!0}function Ud(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function Bd(l,u){var m=Ud(l);l=0;for(var y;m;){if(m.nodeType===3){if(y=l+m.textContent.length,l<=u&&y>=u)return{node:m,offset:u-l};l=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=Ud(m)}}function Ql(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?Ql(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function ec(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=ba(l.document);u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=ba(l.document)}return u}function gl(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var Pu=xi&&"documentMode"in document&&11>=document.documentMode,Us=null,tc=null,ja=null,so=!1;function Yn(l,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;so||Us==null||Us!==ba(y)||(y=Us,"selectionStart"in y&&gl(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ja&&Jl(ja,y)||(ja=y,y=Ax(tc,"onSelect"),0<y.length&&(u=new _a("onSelect","select",null,u,m),l.push({event:u,listeners:y}),u.target=Us)))}function Bn(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var jr={animationend:Bn("Animation","AnimationEnd"),animationiteration:Bn("Animation","AnimationIteration"),animationstart:Bn("Animation","AnimationStart"),transitionrun:Bn("Transition","TransitionRun"),transitionstart:Bn("Transition","TransitionStart"),transitioncancel:Bn("Transition","TransitionCancel"),transitionend:Bn("Transition","TransitionEnd")},ui={},yl={};xi&&(yl=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function Fo(l){if(ui[l])return ui[l];if(!jr[l])return l;var u=jr[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in yl)return ui[l]=u[m];return l}var Ru=Fo("animationend"),ef=Fo("animationiteration"),yg=Fo("animationstart"),Ky=Fo("transitionrun"),Xy=Fo("transitionstart"),Zy=Fo("transitioncancel"),xg=Fo("transitionend"),vg=new Map,Ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ou.push("scrollEnd");function oo(l,u){vg.set(l,u),us(u,[l])}var tf=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Bs=[],Du=0,vm=0;function nf(){for(var l=Du,u=vm=Du=0;u<l;){var m=Bs[u];Bs[u++]=null;var y=Bs[u];Bs[u++]=null;var S=Bs[u];Bs[u++]=null;var C=Bs[u];if(Bs[u++]=null,y!==null&&S!==null){var Z=y.pending;Z===null?S.next=S:(S.next=Z.next,Z.next=S),y.pending=S}C!==0&&af(m,S,C)}}function rf(l,u,m,y){Bs[Du++]=l,Bs[Du++]=u,Bs[Du++]=m,Bs[Du++]=y,vm|=y,l.lanes|=y,l=l.alternate,l!==null&&(l.lanes|=y)}function bm(l,u,m,y){return rf(l,u,m,y),Sa(l)}function nc(l,u){return rf(l,null,null,u),Sa(l)}function af(l,u,m){l.lanes|=m;var y=l.alternate;y!==null&&(y.lanes|=m);for(var S=!1,C=l.return;C!==null;)C.childLanes|=m,y=C.alternate,y!==null&&(y.childLanes|=m),C.tag===22&&(l=C.stateNode,l===null||l._visibility&1||(S=!0)),l=C,C=C.return;return l.tag===3?(C=l.stateNode,S&&u!==null&&(S=31-$t(m),l=C.hiddenUpdates,y=l[S],y===null?l[S]=[u]:y.push(u),u.lane=m|536870912),C):null}function Sa(l){if(50<Bg)throw Bg=0,uw=null,Error(r(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var aa={};function wm(l,u,m,y){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(l,u,m,y){return new wm(l,u,m,y)}function _m(l){return l=l.prototype,!(!l||!l.isReactComponent)}function lo(l,u){var m=l.alternate;return m===null?(m=Aa(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&65011712,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m.refCleanup=l.refCleanup,m}function sf(l,u){l.flags&=65011714;var m=l.alternate;return m===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=m.childLanes,l.lanes=m.lanes,l.child=m.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=m.memoizedProps,l.memoizedState=m.memoizedState,l.updateQueue=m.updateQueue,l.type=m.type,u=m.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Vd(l,u,m,y,S,C){var Z=0;if(y=l,typeof l=="function")_m(l)&&(Z=1);else if(typeof l=="string")Z=iq(l,m,te.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case L:return l=Aa(31,m,u,S),l.elementType=L,l.lanes=C,l;case v:return Fc(m.children,S,C,u);case w:Z=8,S|=24;break;case j:return l=Aa(12,m,u,S|2),l.elementType=j,l.lanes=C,l;case M:return l=Aa(13,m,u,S),l.elementType=M,l.lanes=C,l;case J:return l=Aa(19,m,u,S),l.elementType=J,l.lanes=C,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case T:Z=10;break e;case E:Z=9;break e;case D:Z=11;break e;case F:Z=14;break e;case z:Z=16,y=null;break e}Z=29,m=Error(r(130,l===null?"null":typeof l,"")),y=null}return u=Aa(Z,m,u,S),u.elementType=l,u.type=y,u.lanes=C,u}function Fc(l,u,m,y){return l=Aa(7,l,y,u),l.lanes=m,l}function of(l,u,m){return l=Aa(6,l,null,u),l.lanes=m,l}function Nm(l){var u=Aa(18,null,null,0);return u.stateNode=l,u}function qd(l,u,m){return u=Aa(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var jm=new WeakMap;function co(l,u){if(typeof l=="object"&&l!==null){var m=jm.get(l);return m!==void 0?m:(u={value:l,source:u,stack:he(u)},jm.set(l,u),u)}return{value:l,source:u,stack:he(u)}}var $d=[],Lu=0,Sm=null,lf=0,uo=[],ho=0,Uc=null,fo=1,mo="";function Vs(l,u){$d[Lu++]=lf,$d[Lu++]=Sm,Sm=l,lf=u}function Jy(l,u,m){uo[ho++]=fo,uo[ho++]=mo,uo[ho++]=Uc,Uc=l;var y=fo;l=mo;var S=32-$t(y)-1;y&=~(1<<S),m+=1;var C=32-$t(u)+S;if(30<C){var Z=S-S%5;C=(y&(1<<Z)-1).toString(32),y>>=Z,S-=Z,fo=1<<32-$t(u)+S|m<<S|y,mo=C+l}else fo=1<<C|m<<S|y,mo=l}function bg(l){l.return!==null&&(Vs(l,1),Jy(l,1,0))}function Am(l){for(;l===Sm;)Sm=$d[--Lu],$d[Lu]=null,lf=$d[--Lu],$d[Lu]=null;for(;l===Uc;)Uc=uo[--ho],uo[ho]=null,mo=uo[--ho],uo[ho]=null,fo=uo[--ho],uo[ho]=null}function Qy(l,u){uo[ho++]=fo,uo[ho++]=mo,uo[ho++]=Uc,fo=u.id,mo=u.overflow,Uc=l}var sa=null,kr=null,kn=!1,Ga=null,Xr=!1,Uo=Error(r(519));function Bc(l){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hd(co(u,l)),Uo}function wg(l){var u=l.stateNode,m=l.type,y=l.memoizedProps;switch(u[Qn]=l,u[hr]=y,m){case"dialog":Pn("cancel",u),Pn("close",u);break;case"iframe":case"object":case"embed":Pn("load",u);break;case"video":case"audio":for(m=0;m<qg.length;m++)Pn(qg[m],u);break;case"source":Pn("error",u);break;case"img":case"image":case"link":Pn("error",u),Pn("load",u);break;case"details":Pn("toggle",u);break;case"input":Pn("invalid",u),Ld(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Pn("invalid",u);break;case"textarea":Pn("invalid",u),Oo(u,y.value,y.defaultValue,y.children)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||y.suppressHydrationWarning===!0||Q6(u.textContent,m)?(y.popover!=null&&(Pn("beforetoggle",u),Pn("toggle",u)),y.onScroll!=null&&Pn("scroll",u),y.onScrollEnd!=null&&Pn("scrollend",u),y.onClick!=null&&(u.onclick=Rs),u=!0):u=!1,u||Bc(l,!0)}function rc(l){for(sa=l.return;sa;)switch(sa.tag){case 5:case 31:case 13:Xr=!1;return;case 27:case 3:Xr=!0;return;default:sa=sa.return}}function oa(l){if(l!==sa)return!1;if(!kn)return rc(l),kn=!0,!1;var u=l.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=l.type,m=!(m!=="form"&&m!=="button")||Sw(l.type,l.memoizedProps)),m=!m),m&&kr&&Bc(l),rc(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));kr=lE(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));kr=lE(l)}else u===27?(u=kr,ah(l.type)?(l=kw,kw=null,kr=l):kr=u):kr=sa?wl(l.stateNode.nextSibling):null;return!0}function Mu(){kr=sa=null,kn=!1}function _g(){var l=Ga;return l!==null&&(bo===null?bo=l:bo.push.apply(bo,l),Ga=null),l}function Hd(l){Ga===null?Ga=[l]:Ga.push(l)}var Em=X(null),Vc=null,xl=null;function qc(l,u,m){K(Em,u._currentValue),u._currentValue=m}function po(l){l._currentValue=Em.current,O(Em)}function Wd(l,u,m){for(;l!==null;){var y=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),l===m)break;l=l.return}}function zu(l,u,m,y){var S=l.child;for(S!==null&&(S.return=l);S!==null;){var C=S.dependencies;if(C!==null){var Z=S.child;C=C.firstContext;e:for(;C!==null;){var de=C;C=S;for(var Ae=0;Ae<u.length;Ae++)if(de.context===u[Ae]){C.lanes|=m,de=C.alternate,de!==null&&(de.lanes|=m),Wd(C.return,m,l),y||(Z=null);break e}C=de.next}}else if(S.tag===18){if(Z=S.return,Z===null)throw Error(r(341));Z.lanes|=m,C=Z.alternate,C!==null&&(C.lanes|=m),Wd(Z,m,l),Z=null}else Z=S.child;if(Z!==null)Z.return=S;else for(Z=S;Z!==null;){if(Z===l){Z=null;break}if(S=Z.sibling,S!==null){S.return=Z.return,Z=S;break}Z=Z.return}S=Z}}function $c(l,u,m,y){l=null;for(var S=u,C=!1;S!==null;){if(!C){if((S.flags&524288)!==0)C=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var Z=S.alternate;if(Z===null)throw Error(r(387));if(Z=Z.memoizedProps,Z!==null){var de=S.type;ia(S.pendingProps.value,Z.value)||(l!==null?l.push(de):l=[de])}}else if(S===be.current){if(Z=S.alternate,Z===null)throw Error(r(387));Z.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(l!==null?l.push(Yg):l=[Yg])}S=S.return}l!==null&&zu(u,l,m,y),u.flags|=262144}function Cm(l){for(l=l.firstContext;l!==null;){if(!ia(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Hc(l){Vc=l,xl=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function la(l){return ex(Vc,l)}function Tm(l,u){return Vc===null&&Hc(l),ex(l,u)}function ex(l,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},xl===null){if(l===null)throw Error(r(308));xl=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else xl=xl.next=u;return m}var T2=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(m,y){l.push(y)}};this.abort=function(){u.aborted=!0,l.forEach(function(m){return m()})}},k2=t.unstable_scheduleCallback,I2=t.unstable_NormalPriority,di={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gd(){return{controller:new T2,data:new Map,refCount:0}}function cf(l){l.refCount--,l.refCount===0&&k2(I2,function(){l.controller.abort()})}var uf=null,km=0,_=0,A=null;function B(l,u){if(uf===null){var m=uf=[];km=0,_=gw(),A={status:"pending",value:void 0,then:function(y){m.push(y)}}}return km++,u.then(Y,Y),u}function Y(){if(--km===0&&uf!==null){A!==null&&(A.status="fulfilled");var l=uf;uf=null,_=0,A=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function re(l,u){var m=[],y={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return l.then(function(){y.status="fulfilled",y.value=u;for(var S=0;S<m.length;S++)(0,m[S])(u)},function(S){for(y.status="rejected",y.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),y}var ce=G.S;G.S=function(l,u){N6=at(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&B(l,u),ce!==null&&ce(l,u)};var ue=X(null);function me(){var l=ue.current;return l!==null?l:Pr.pooledCache}function ge(l,u){u===null?K(ue,ue.current):K(ue,u.pool)}function je(){var l=me();return l===null?null:{parent:di._currentValue,pool:l}}var Te=Error(r(460)),$e=Error(r(474)),we=Error(r(542)),Oe={then:function(){}};function Ve(l){return l=l.status,l==="fulfilled"||l==="rejected"}function et(l,u,m){switch(m=l[m],m===void 0?l.push(u):m!==u&&(u.then(Rs,Rs),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,vt(l),l;default:if(typeof u.status=="string")u.then(Rs,Rs);else{if(l=Pr,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=u,l.status="pending",l.then(function(y){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=y}},function(y){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,vt(l),l}throw Qe=u,Te}}function qe(l){try{var u=l._init;return u(l._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Qe=m,Te):m}}var Qe=null;function it(){if(Qe===null)throw Error(r(459));var l=Qe;return Qe=null,l}function vt(l){if(l===Te||l===we)throw Error(r(483))}var mt=null,Vt=0;function kt(l){var u=Vt;return Vt+=1,mt===null&&(mt=[]),et(mt,l,u)}function dn(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Lt(l,u){throw u.$$typeof===x?Error(r(525)):(l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function Cn(l){function u(Fe,Re){if(l){var He=Fe.deletions;He===null?(Fe.deletions=[Re],Fe.flags|=16):He.push(Re)}}function m(Fe,Re){if(!l)return null;for(;Re!==null;)u(Fe,Re),Re=Re.sibling;return null}function y(Fe){for(var Re=new Map;Fe!==null;)Fe.key!==null?Re.set(Fe.key,Fe):Re.set(Fe.index,Fe),Fe=Fe.sibling;return Re}function S(Fe,Re){return Fe=lo(Fe,Re),Fe.index=0,Fe.sibling=null,Fe}function C(Fe,Re,He){return Fe.index=He,l?(He=Fe.alternate,He!==null?(He=He.index,He<Re?(Fe.flags|=67108866,Re):He):(Fe.flags|=67108866,Re)):(Fe.flags|=1048576,Re)}function Z(Fe){return l&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function de(Fe,Re,He,ot){return Re===null||Re.tag!==6?(Re=of(He,Fe.mode,ot),Re.return=Fe,Re):(Re=S(Re,He),Re.return=Fe,Re)}function Ae(Fe,Re,He,ot){var en=He.type;return en===v?rt(Fe,Re,He.props.children,ot,He.key):Re!==null&&(Re.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===z&&qe(en)===Re.type)?(Re=S(Re,He.props),dn(Re,He),Re.return=Fe,Re):(Re=Vd(He.type,He.key,He.props,null,Fe.mode,ot),dn(Re,He),Re.return=Fe,Re)}function Ge(Fe,Re,He,ot){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==He.containerInfo||Re.stateNode.implementation!==He.implementation?(Re=qd(He,Fe.mode,ot),Re.return=Fe,Re):(Re=S(Re,He.children||[]),Re.return=Fe,Re)}function rt(Fe,Re,He,ot,en){return Re===null||Re.tag!==7?(Re=Fc(He,Fe.mode,ot,en),Re.return=Fe,Re):(Re=S(Re,He),Re.return=Fe,Re)}function ft(Fe,Re,He){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=of(""+Re,Fe.mode,He),Re.return=Fe,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case g:return He=Vd(Re.type,Re.key,Re.props,null,Fe.mode,He),dn(He,Re),He.return=Fe,He;case b:return Re=qd(Re,Fe.mode,He),Re.return=Fe,Re;case z:return Re=qe(Re),ft(Fe,Re,He)}if(le(Re)||I(Re))return Re=Fc(Re,Fe.mode,He,null),Re.return=Fe,Re;if(typeof Re.then=="function")return ft(Fe,kt(Re),He);if(Re.$$typeof===T)return ft(Fe,Tm(Fe,Re),He);Lt(Fe,Re)}return null}function Ye(Fe,Re,He,ot){var en=Re!==null?Re.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return en!==null?null:de(Fe,Re,""+He,ot);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case g:return He.key===en?Ae(Fe,Re,He,ot):null;case b:return He.key===en?Ge(Fe,Re,He,ot):null;case z:return He=qe(He),Ye(Fe,Re,He,ot)}if(le(He)||I(He))return en!==null?null:rt(Fe,Re,He,ot,null);if(typeof He.then=="function")return Ye(Fe,Re,kt(He),ot);if(He.$$typeof===T)return Ye(Fe,Re,Tm(Fe,He),ot);Lt(Fe,He)}return null}function Je(Fe,Re,He,ot,en){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Fe=Fe.get(He)||null,de(Re,Fe,""+ot,en);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case g:return Fe=Fe.get(ot.key===null?He:ot.key)||null,Ae(Re,Fe,ot,en);case b:return Fe=Fe.get(ot.key===null?He:ot.key)||null,Ge(Re,Fe,ot,en);case z:return ot=qe(ot),Je(Fe,Re,He,ot,en)}if(le(ot)||I(ot))return Fe=Fe.get(He)||null,rt(Re,Fe,ot,en,null);if(typeof ot.then=="function")return Je(Fe,Re,He,kt(ot),en);if(ot.$$typeof===T)return Je(Fe,Re,He,Tm(Re,ot),en);Lt(Re,ot)}return null}function Ft(Fe,Re,He,ot){for(var en=null,nr=null,Gt=Re,jn=Re=0,Mn=null;Gt!==null&&jn<He.length;jn++){Gt.index>jn?(Mn=Gt,Gt=null):Mn=Gt.sibling;var rr=Ye(Fe,Gt,He[jn],ot);if(rr===null){Gt===null&&(Gt=Mn);break}l&&Gt&&rr.alternate===null&&u(Fe,Gt),Re=C(rr,Re,jn),nr===null?en=rr:nr.sibling=rr,nr=rr,Gt=Mn}if(jn===He.length)return m(Fe,Gt),kn&&Vs(Fe,jn),en;if(Gt===null){for(;jn<He.length;jn++)Gt=ft(Fe,He[jn],ot),Gt!==null&&(Re=C(Gt,Re,jn),nr===null?en=Gt:nr.sibling=Gt,nr=Gt);return kn&&Vs(Fe,jn),en}for(Gt=y(Gt);jn<He.length;jn++)Mn=Je(Gt,Fe,jn,He[jn],ot),Mn!==null&&(l&&Mn.alternate!==null&&Gt.delete(Mn.key===null?jn:Mn.key),Re=C(Mn,Re,jn),nr===null?en=Mn:nr.sibling=Mn,nr=Mn);return l&&Gt.forEach(function(uh){return u(Fe,uh)}),kn&&Vs(Fe,jn),en}function on(Fe,Re,He,ot){if(He==null)throw Error(r(151));for(var en=null,nr=null,Gt=Re,jn=Re=0,Mn=null,rr=He.next();Gt!==null&&!rr.done;jn++,rr=He.next()){Gt.index>jn?(Mn=Gt,Gt=null):Mn=Gt.sibling;var uh=Ye(Fe,Gt,rr.value,ot);if(uh===null){Gt===null&&(Gt=Mn);break}l&&Gt&&uh.alternate===null&&u(Fe,Gt),Re=C(uh,Re,jn),nr===null?en=uh:nr.sibling=uh,nr=uh,Gt=Mn}if(rr.done)return m(Fe,Gt),kn&&Vs(Fe,jn),en;if(Gt===null){for(;!rr.done;jn++,rr=He.next())rr=ft(Fe,rr.value,ot),rr!==null&&(Re=C(rr,Re,jn),nr===null?en=rr:nr.sibling=rr,nr=rr);return kn&&Vs(Fe,jn),en}for(Gt=y(Gt);!rr.done;jn++,rr=He.next())rr=Je(Gt,Fe,jn,rr.value,ot),rr!==null&&(l&&rr.alternate!==null&&Gt.delete(rr.key===null?jn:rr.key),Re=C(rr,Re,jn),nr===null?en=rr:nr.sibling=rr,nr=rr);return l&&Gt.forEach(function(pq){return u(Fe,pq)}),kn&&Vs(Fe,jn),en}function Cr(Fe,Re,He,ot){if(typeof He=="object"&&He!==null&&He.type===v&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case g:e:{for(var en=He.key;Re!==null;){if(Re.key===en){if(en=He.type,en===v){if(Re.tag===7){m(Fe,Re.sibling),ot=S(Re,He.props.children),ot.return=Fe,Fe=ot;break e}}else if(Re.elementType===en||typeof en=="object"&&en!==null&&en.$$typeof===z&&qe(en)===Re.type){m(Fe,Re.sibling),ot=S(Re,He.props),dn(ot,He),ot.return=Fe,Fe=ot;break e}m(Fe,Re);break}else u(Fe,Re);Re=Re.sibling}He.type===v?(ot=Fc(He.props.children,Fe.mode,ot,He.key),ot.return=Fe,Fe=ot):(ot=Vd(He.type,He.key,He.props,null,Fe.mode,ot),dn(ot,He),ot.return=Fe,Fe=ot)}return Z(Fe);case b:e:{for(en=He.key;Re!==null;){if(Re.key===en)if(Re.tag===4&&Re.stateNode.containerInfo===He.containerInfo&&Re.stateNode.implementation===He.implementation){m(Fe,Re.sibling),ot=S(Re,He.children||[]),ot.return=Fe,Fe=ot;break e}else{m(Fe,Re);break}else u(Fe,Re);Re=Re.sibling}ot=qd(He,Fe.mode,ot),ot.return=Fe,Fe=ot}return Z(Fe);case z:return He=qe(He),Cr(Fe,Re,He,ot)}if(le(He))return Ft(Fe,Re,He,ot);if(I(He)){if(en=I(He),typeof en!="function")throw Error(r(150));return He=en.call(He),on(Fe,Re,He,ot)}if(typeof He.then=="function")return Cr(Fe,Re,kt(He),ot);if(He.$$typeof===T)return Cr(Fe,Re,Tm(Fe,He),ot);Lt(Fe,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,Re!==null&&Re.tag===6?(m(Fe,Re.sibling),ot=S(Re,He),ot.return=Fe,Fe=ot):(m(Fe,Re),ot=of(He,Fe.mode,ot),ot.return=Fe,Fe=ot),Z(Fe)):m(Fe,Re)}return function(Fe,Re,He,ot){try{Vt=0;var en=Cr(Fe,Re,He,ot);return mt=null,en}catch(Gt){if(Gt===Te||Gt===we)throw Gt;var nr=Aa(29,Gt,null,Fe.mode);return nr.lanes=ot,nr.return=Fe,nr}finally{}}}var Ir=Cn(!0),gn=Cn(!1),It=!1;function Nt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fr(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function an(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function wn(l,u,m){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(or&2)!==0){var S=y.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),y.pending=u,u=Sa(l),af(l,null,m),u}return rf(l,y,u,m),Sa(l)}function ar(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,Ti(l,m)}}function Ii(l,u){var m=l.updateQueue,y=l.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var S=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var Z={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};C===null?S=C=Z:C=C.next=Z,m=m.next}while(m!==null);C===null?S=C=u:C=C.next=u}else S=C=u;m={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}var ca=!1;function Sr(){if(ca){var l=A;if(l!==null)throw l}}function vi(l,u,m,y){ca=!1;var S=l.updateQueue;It=!1;var C=S.firstBaseUpdate,Z=S.lastBaseUpdate,de=S.shared.pending;if(de!==null){S.shared.pending=null;var Ae=de,Ge=Ae.next;Ae.next=null,Z===null?C=Ge:Z.next=Ge,Z=Ae;var rt=l.alternate;rt!==null&&(rt=rt.updateQueue,de=rt.lastBaseUpdate,de!==Z&&(de===null?rt.firstBaseUpdate=Ge:de.next=Ge,rt.lastBaseUpdate=Ae))}if(C!==null){var ft=S.baseState;Z=0,rt=Ge=Ae=null,de=C;do{var Ye=de.lane&-536870913,Je=Ye!==de.lane;if(Je?(Ln&Ye)===Ye:(y&Ye)===Ye){Ye!==0&&Ye===_&&(ca=!0),rt!==null&&(rt=rt.next={lane:0,tag:de.tag,payload:de.payload,callback:null,next:null});e:{var Ft=l,on=de;Ye=u;var Cr=m;switch(on.tag){case 1:if(Ft=on.payload,typeof Ft=="function"){ft=Ft.call(Cr,ft,Ye);break e}ft=Ft;break e;case 3:Ft.flags=Ft.flags&-65537|128;case 0:if(Ft=on.payload,Ye=typeof Ft=="function"?Ft.call(Cr,ft,Ye):Ft,Ye==null)break e;ft=p({},ft,Ye);break e;case 2:It=!0}}Ye=de.callback,Ye!==null&&(l.flags|=64,Je&&(l.flags|=8192),Je=S.callbacks,Je===null?S.callbacks=[Ye]:Je.push(Ye))}else Je={lane:Ye,tag:de.tag,payload:de.payload,callback:de.callback,next:null},rt===null?(Ge=rt=Je,Ae=ft):rt=rt.next=Je,Z|=Ye;if(de=de.next,de===null){if(de=S.shared.pending,de===null)break;Je=de,de=Je.next,Je.next=null,S.lastBaseUpdate=Je,S.shared.pending=null}}while(!0);rt===null&&(Ae=ft),S.baseState=Ae,S.firstBaseUpdate=Ge,S.lastBaseUpdate=rt,C===null&&(S.shared.lanes=0),eh|=Z,l.lanes=Z,l.memoizedState=ft}}function Ea(l,u){if(typeof l!="function")throw Error(r(191,l));l.call(u)}function bi(l,u){var m=l.callbacks;if(m!==null)for(l.callbacks=null,l=0;l<m.length;l++)Ea(m[l],u)}var An=X(null),qn=X(0);function Ur(l,u){l=Yu,K(qn,l),K(An,u),Yu=l|u.baseLanes}function Kn(){K(qn,Yu),K(An,An.current)}function Pi(){Yu=qn.current,O(An),O(qn)}var Br=X(null),$n=null;function hi(l){var u=l.alternate;K(Vn,Vn.current&1),K(Br,l),$n===null&&(u===null||An.current!==null||u.memoizedState!==null)&&($n=l)}function sr(l){K(Vn,Vn.current),K(Br,l),$n===null&&($n=l)}function wi(l){l.tag===22?(K(Vn,Vn.current),K(Br,l),$n===null&&($n=l)):_i()}function _i(){K(Vn,Vn.current),K(Br,Br.current)}function pr(l){O(Br),$n===l&&($n=null),O(Vn)}var Vn=X(0);function Ca(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Cw(m)||Tw(m)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Zr=0,Zt=null,Qt=null,Hn=null,fs=!1,go=!1,Ya=!1,Ni=0,Wc=0,Gc=null,Im=0;function Ar(){throw Error(r(321))}function Ng(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!ia(l[m],u[m]))return!1;return!0}function jg(l,u,m,y,S,C){return Zr=C,Zt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,G.H=l===null||l.memoizedState===null?O3:F2,Ya=!1,C=m(y,S),Ya=!1,go&&(C=ic(u,m,y,S)),Pm(l),C}function Pm(l){G.H=Pg;var u=Qt!==null&&Qt.next!==null;if(Zr=0,Hn=Qt=Zt=null,fs=!1,Wc=0,Gc=null,u)throw Error(r(300));l===null||qi||(l=l.dependencies,l!==null&&Cm(l)&&(qi=!0))}function ic(l,u,m,y){Zt=l;var S=0;do{if(go&&(Gc=null),Wc=0,go=!1,25<=S)throw Error(r(301));if(S+=1,Hn=Qt=null,l.updateQueue!=null){var C=l.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}G.H=D3,C=u(m,y)}while(go);return C}function P2(){var l=G.H,u=l.useState()[0];return u=typeof u.then=="function"?Yc(u):u,l=l.useState()[0],(Qt!==null?Qt.memoizedState:null)!==l&&(Zt.flags|=1024),u}function Sg(){var l=Ni!==0;return Ni=0,l}function Ag(l,u,m){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~m}function Rm(l){if(fs){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}fs=!1}Zr=0,Hn=Qt=Zt=null,go=!1,Wc=Ni=0,Gc=null}function Vi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Zt.memoizedState=Hn=l:Hn=Hn.next=l,Hn}function Jr(){if(Qt===null){var l=Zt.alternate;l=l!==null?l.memoizedState:null}else l=Qt.next;var u=Hn===null?Zt.memoizedState:Hn.next;if(u!==null)Hn=u,Qt=l;else{if(l===null)throw Zt.alternate===null?Error(r(467)):Error(r(310));Qt=l,l={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},Hn===null?Zt.memoizedState=Hn=l:Hn=Hn.next=l}return Hn}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yc(l){var u=Wc;return Wc+=1,Gc===null&&(Gc=[]),l=et(Gc,l,u),u=Zt,(Hn===null?u.memoizedState:Hn.next)===null&&(u=u.alternate,G.H=u===null||u.memoizedState===null?O3:F2),l}function Yd(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Yc(l);if(l.$$typeof===T)return la(l)}throw Error(r(438,String(l)))}function Fu(l){var u=null,m=Zt.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var y=Zt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=df(),Zt.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(l),y=0;y<l;y++)m[y]=H;return u.index++,m}function vl(l,u){return typeof u=="function"?u(l):u}function Om(l){var u=Jr();return Kd(u,Qt,l)}function Kd(l,u,m){var y=l.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=m;var S=l.baseQueue,C=y.pending;if(C!==null){if(S!==null){var Z=S.next;S.next=C.next,C.next=Z}u.baseQueue=S=C,y.pending=null}if(C=l.baseState,S===null)l.memoizedState=C;else{u=S.next;var de=Z=null,Ae=null,Ge=u,rt=!1;do{var ft=Ge.lane&-536870913;if(ft!==Ge.lane?(Ln&ft)===ft:(Zr&ft)===ft){var Ye=Ge.revertLane;if(Ye===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),ft===_&&(rt=!0);else if((Zr&Ye)===Ye){Ge=Ge.next,Ye===_&&(rt=!0);continue}else ft={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ae===null?(de=Ae=ft,Z=C):Ae=Ae.next=ft,Zt.lanes|=Ye,eh|=Ye;ft=Ge.action,Ya&&m(C,ft),C=Ge.hasEagerState?Ge.eagerState:m(C,ft)}else Ye={lane:ft,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ae===null?(de=Ae=Ye,Z=C):Ae=Ae.next=Ye,Zt.lanes|=ft,eh|=ft;Ge=Ge.next}while(Ge!==null&&Ge!==u);if(Ae===null?Z=C:Ae.next=de,!ia(C,l.memoizedState)&&(qi=!0,rt&&(m=A,m!==null)))throw m;l.memoizedState=C,l.baseState=Z,l.baseQueue=Ae,y.lastRenderedState=C}return S===null&&(y.lanes=0),[l.memoizedState,y.dispatch]}function Dm(l){var u=Jr(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var y=m.dispatch,S=m.pending,C=u.memoizedState;if(S!==null){m.pending=null;var Z=S=S.next;do C=l(C,Z.action),Z=Z.next;while(Z!==S);ia(C,u.memoizedState)||(qi=!0),u.memoizedState=C,u.baseQueue===null&&(u.baseState=C),m.lastRenderedState=C}return[C,y]}function Lm(l,u,m){var y=Zt,S=Jr(),C=kn;if(C){if(m===void 0)throw Error(r(407));m=m()}else m=u();var Z=!ia((Qt||S).memoizedState,m);if(Z&&(S.memoizedState=m,qi=!0),S=S.queue,R2(Cg.bind(null,y,S,l),[l]),S.getSnapshot!==u||Z||Hn!==null&&Hn.memoizedState.tag&1){if(y.flags|=2048,Bu(9,{destroy:void 0},Eg.bind(null,y,S,m,u),null),Pr===null)throw Error(r(349));C||(Zr&127)!==0||ac(y,u,m)}return m}function ac(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=Zt.updateQueue,u===null?(u=df(),Zt.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function Eg(l,u,m,y){u.value=m,u.getSnapshot=y,tx(u)&&Tg(l)}function Cg(l,u,m){return m(function(){tx(u)&&Tg(l)})}function tx(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!ia(l,m)}catch{return!0}}function Tg(l){var u=nc(l,2);u!==null&&wo(u,l,2)}function Kc(l){var u=Vi();if(typeof l=="function"){var m=l;if(l=m(),Ya){At(!0);try{m()}finally{At(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:l},u}function nx(l,u,m,y){return l.baseState=m,Kd(l,Qt,typeof y=="function"?y:vl)}function rx(l,u,m,y,S){if(ox(l))throw Error(r(485));if(l=u.action,l!==null){var C={payload:S,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){C.listeners.push(Z)}};G.T!==null?m(!0):C.isTransition=!1,y(C),m=u.pending,m===null?(C.next=u.pending=C,ix(u,C)):(C.next=m.next,u.pending=m.next=C)}}function ix(l,u){var m=u.action,y=u.payload,S=l.state;if(u.isTransition){var C=G.T,Z={};G.T=Z;try{var de=m(S,y),Ae=G.S;Ae!==null&&Ae(Z,de),kg(l,u,de)}catch(Ge){Uu(l,u,Ge)}finally{C!==null&&Z.types!==null&&(C.types=Z.types),G.T=C}}else try{C=m(S,y),kg(l,u,C)}catch(Ge){Uu(l,u,Ge)}}function kg(l,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){ax(l,u,y)},function(y){return Uu(l,u,y)}):ax(l,u,m)}function ax(l,u,m){u.status="fulfilled",u.value=m,Mm(u),l.state=m,u=l.pending,u!==null&&(m=u.next,m===u?l.pending=null:(m=m.next,u.next=m,ix(l,m)))}function Uu(l,u,m){var y=l.pending;if(l.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=m,Mm(u),u=u.next;while(u!==y)}l.action=null}function Mm(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function hf(l,u){return u}function bl(l,u){if(kn){var m=Pr.formState;if(m!==null){e:{var y=Zt;if(kn){if(kr){t:{for(var S=kr,C=Xr;S.nodeType!==8;){if(!C){S=null;break t}if(S=wl(S.nextSibling),S===null){S=null;break t}}C=S.data,S=C==="F!"||C==="F"?S:null}if(S){kr=wl(S.nextSibling),y=S.data==="F!";break e}}Bc(y)}y=!1}y&&(u=m[0])}}return m=Vi(),m.memoizedState=m.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hf,lastRenderedState:u},m.queue=y,m=I3.bind(null,Zt,y),y.dispatch=m,y=Kc(!1),C=z2.bind(null,Zt,!1,y.queue),y=Vi(),S={state:u,dispatch:null,action:l,pending:null},y.queue=S,m=rx.bind(null,Zt,S,C,m),S.dispatch=m,y.memoizedState=l,[u,m,!1]}function sc(l){var u=Jr();return oc(u,Qt,l)}function oc(l,u,m){if(u=Kd(l,u,hf)[0],l=Om(vl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Yc(u)}catch(Z){throw Z===Te?we:Z}else y=u;u=Jr();var S=u.queue,C=S.dispatch;return m!==u.memoizedState&&(Zt.flags|=2048,Bu(9,{destroy:void 0},zm.bind(null,S,m),null)),[y,C,l]}function zm(l,u){l.action=u}function Fm(l){var u=Jr(),m=Qt;if(m!==null)return oc(u,m,l);Jr(),u=u.memoizedState,m=Jr();var y=m.queue.dispatch;return m.memoizedState=l,[u,y,!1]}function Bu(l,u,m,y){return l={tag:l,create:m,deps:y,inst:u,next:null},u=Zt.updateQueue,u===null&&(u=df(),Zt.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=l.next=l:(y=m.next,m.next=l,l.next=y,u.lastEffect=l),l}function sx(){return Jr().memoizedState}function Xd(l,u,m,y){var S=Vi();Zt.flags|=l,S.memoizedState=Bu(1|u,{destroy:void 0},m,y===void 0?null:y)}function Zd(l,u,m,y){var S=Jr();y=y===void 0?null:y;var C=S.memoizedState.inst;Qt!==null&&y!==null&&Ng(y,Qt.memoizedState.deps)?S.memoizedState=Bu(u,C,m,y):(Zt.flags|=l,S.memoizedState=Bu(1|u,C,m,y))}function y3(l,u){Xd(8390656,8,l,u)}function R2(l,u){Zd(2048,8,l,u)}function cV(l){Zt.flags|=4;var u=Zt.updateQueue;if(u===null)u=df(),Zt.updateQueue=u,u.events=[l];else{var m=u.events;m===null?u.events=[l]:m.push(l)}}function x3(l){var u=Jr().memoizedState;return cV({ref:u,nextImpl:l}),function(){if((or&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function v3(l,u){return Zd(4,2,l,u)}function b3(l,u){return Zd(4,4,l,u)}function w3(l,u){if(typeof u=="function"){l=l();var m=u(l);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function _3(l,u,m){m=m!=null?m.concat([l]):null,Zd(4,4,w3.bind(null,u,l),m)}function O2(){}function N3(l,u){var m=Jr();u=u===void 0?null:u;var y=m.memoizedState;return u!==null&&Ng(u,y[1])?y[0]:(m.memoizedState=[l,u],l)}function j3(l,u){var m=Jr();u=u===void 0?null:u;var y=m.memoizedState;if(u!==null&&Ng(u,y[1]))return y[0];if(y=l(),Ya){At(!0);try{l()}finally{At(!1)}}return m.memoizedState=[y,u],y}function D2(l,u,m){return m===void 0||(Zr&1073741824)!==0&&(Ln&261930)===0?l.memoizedState=u:(l.memoizedState=m,l=S6(),Zt.lanes|=l,eh|=l,m)}function S3(l,u,m,y){return ia(m,u)?m:An.current!==null?(l=D2(l,m,y),ia(l,u)||(qi=!0),l):(Zr&42)===0||(Zr&1073741824)!==0&&(Ln&261930)===0?(qi=!0,l.memoizedState=m):(l=S6(),Zt.lanes|=l,eh|=l,u)}function A3(l,u,m,y,S){var C=W.p;W.p=C!==0&&8>C?C:8;var Z=G.T,de={};G.T=de,z2(l,!1,u,m);try{var Ae=S(),Ge=G.S;if(Ge!==null&&Ge(de,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var rt=re(Ae,y);Ig(l,u,rt,qo(l))}else Ig(l,u,y,qo(l))}catch(ft){Ig(l,u,{then:function(){},status:"rejected",reason:ft},qo())}finally{W.p=C,Z!==null&&de.types!==null&&(Z.types=de.types),G.T=Z}}function uV(){}function L2(l,u,m,y){if(l.tag!==5)throw Error(r(476));var S=E3(l).queue;A3(l,S,u,ie,m===null?uV:function(){return C3(l),m(y)})}function E3(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:ie},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:m},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function C3(l){var u=E3(l);u.next===null&&(u=l.alternate.memoizedState),Ig(l,u.next.queue,{},qo())}function M2(){return la(Yg)}function T3(){return Jr().memoizedState}function k3(){return Jr().memoizedState}function dV(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var m=qo();l=an(m);var y=wn(u,l,m);y!==null&&(wo(y,u,m),ar(y,u,m)),u={cache:Gd()},l.payload=u;return}u=u.return}}function hV(l,u,m){var y=qo();m={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},ox(l)?P3(u,m):(m=bm(l,u,m,y),m!==null&&(wo(m,l,y),R3(m,u,y)))}function I3(l,u,m){var y=qo();Ig(l,u,m,y)}function Ig(l,u,m,y){var S={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(ox(l))P3(u,S);else{var C=l.alternate;if(l.lanes===0&&(C===null||C.lanes===0)&&(C=u.lastRenderedReducer,C!==null))try{var Z=u.lastRenderedState,de=C(Z,m);if(S.hasEagerState=!0,S.eagerState=de,ia(de,Z))return rf(l,u,S,0),Pr===null&&nf(),!1}catch{}finally{}if(m=bm(l,u,S,y),m!==null)return wo(m,l,y),R3(m,u,y),!0}return!1}function z2(l,u,m,y){if(y={lane:2,revertLane:gw(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},ox(l)){if(u)throw Error(r(479))}else u=bm(l,m,y,2),u!==null&&wo(u,l,2)}function ox(l){var u=l.alternate;return l===Zt||u!==null&&u===Zt}function P3(l,u){go=fs=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function R3(l,u,m){if((m&4194048)!==0){var y=u.lanes;y&=l.pendingLanes,m|=y,u.lanes=m,Ti(l,m)}}var Pg={readContext:la,use:Yd,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useLayoutEffect:Ar,useInsertionEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useSyncExternalStore:Ar,useId:Ar,useHostTransitionStatus:Ar,useFormState:Ar,useActionState:Ar,useOptimistic:Ar,useMemoCache:Ar,useCacheRefresh:Ar};Pg.useEffectEvent=Ar;var O3={readContext:la,use:Yd,useCallback:function(l,u){return Vi().memoizedState=[l,u===void 0?null:u],l},useContext:la,useEffect:y3,useImperativeHandle:function(l,u,m){m=m!=null?m.concat([l]):null,Xd(4194308,4,w3.bind(null,u,l),m)},useLayoutEffect:function(l,u){return Xd(4194308,4,l,u)},useInsertionEffect:function(l,u){Xd(4,2,l,u)},useMemo:function(l,u){var m=Vi();u=u===void 0?null:u;var y=l();if(Ya){At(!0);try{l()}finally{At(!1)}}return m.memoizedState=[y,u],y},useReducer:function(l,u,m){var y=Vi();if(m!==void 0){var S=m(u);if(Ya){At(!0);try{m(u)}finally{At(!1)}}}else S=u;return y.memoizedState=y.baseState=S,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:S},y.queue=l,l=l.dispatch=hV.bind(null,Zt,l),[y.memoizedState,l]},useRef:function(l){var u=Vi();return l={current:l},u.memoizedState=l},useState:function(l){l=Kc(l);var u=l.queue,m=I3.bind(null,Zt,u);return u.dispatch=m,[l.memoizedState,m]},useDebugValue:O2,useDeferredValue:function(l,u){var m=Vi();return D2(m,l,u)},useTransition:function(){var l=Kc(!1);return l=A3.bind(null,Zt,l.queue,!0,!1),Vi().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,m){var y=Zt,S=Vi();if(kn){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),Pr===null)throw Error(r(349));(Ln&127)!==0||ac(y,u,m)}S.memoizedState=m;var C={value:m,getSnapshot:u};return S.queue=C,y3(Cg.bind(null,y,C,l),[l]),y.flags|=2048,Bu(9,{destroy:void 0},Eg.bind(null,y,C,m,u),null),m},useId:function(){var l=Vi(),u=Pr.identifierPrefix;if(kn){var m=mo,y=fo;m=(y&~(1<<32-$t(y)-1)).toString(32)+m,u="_"+u+"R_"+m,m=Ni++,0<m&&(u+="H"+m.toString(32)),u+="_"}else m=Im++,u="_"+u+"r_"+m.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:M2,useFormState:bl,useActionState:bl,useOptimistic:function(l){var u=Vi();u.memoizedState=u.baseState=l;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=z2.bind(null,Zt,!0,m),m.dispatch=u,[l,u]},useMemoCache:Fu,useCacheRefresh:function(){return Vi().memoizedState=dV.bind(null,Zt)},useEffectEvent:function(l){var u=Vi(),m={impl:l};return u.memoizedState=m,function(){if((or&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},F2={readContext:la,use:Yd,useCallback:N3,useContext:la,useEffect:R2,useImperativeHandle:_3,useInsertionEffect:v3,useLayoutEffect:b3,useMemo:j3,useReducer:Om,useRef:sx,useState:function(){return Om(vl)},useDebugValue:O2,useDeferredValue:function(l,u){var m=Jr();return S3(m,Qt.memoizedState,l,u)},useTransition:function(){var l=Om(vl)[0],u=Jr().memoizedState;return[typeof l=="boolean"?l:Yc(l),u]},useSyncExternalStore:Lm,useId:T3,useHostTransitionStatus:M2,useFormState:sc,useActionState:sc,useOptimistic:function(l,u){var m=Jr();return nx(m,Qt,l,u)},useMemoCache:Fu,useCacheRefresh:k3};F2.useEffectEvent=x3;var D3={readContext:la,use:Yd,useCallback:N3,useContext:la,useEffect:R2,useImperativeHandle:_3,useInsertionEffect:v3,useLayoutEffect:b3,useMemo:j3,useReducer:Dm,useRef:sx,useState:function(){return Dm(vl)},useDebugValue:O2,useDeferredValue:function(l,u){var m=Jr();return Qt===null?D2(m,l,u):S3(m,Qt.memoizedState,l,u)},useTransition:function(){var l=Dm(vl)[0],u=Jr().memoizedState;return[typeof l=="boolean"?l:Yc(l),u]},useSyncExternalStore:Lm,useId:T3,useHostTransitionStatus:M2,useFormState:Fm,useActionState:Fm,useOptimistic:function(l,u){var m=Jr();return Qt!==null?nx(m,Qt,l,u):(m.baseState=l,[l,m.queue.dispatch])},useMemoCache:Fu,useCacheRefresh:k3};D3.useEffectEvent=x3;function U2(l,u,m,y){u=l.memoizedState,m=m(y,u),m=m==null?u:p({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var B2={enqueueSetState:function(l,u,m){l=l._reactInternals;var y=qo(),S=an(y);S.payload=u,m!=null&&(S.callback=m),u=wn(l,S,y),u!==null&&(wo(u,l,y),ar(u,l,y))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var y=qo(),S=an(y);S.tag=1,S.payload=u,m!=null&&(S.callback=m),u=wn(l,S,y),u!==null&&(wo(u,l,y),ar(u,l,y))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=qo(),y=an(m);y.tag=2,u!=null&&(y.callback=u),u=wn(l,y,m),u!==null&&(wo(u,l,m),ar(u,l,m))}};function L3(l,u,m,y,S,C,Z){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,C,Z):u.prototype&&u.prototype.isPureReactComponent?!Jl(m,y)||!Jl(S,C):!0}function M3(l,u,m,y){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==l&&B2.enqueueReplaceState(u,u.state,null)}function ff(l,u){var m=u;if("ref"in u){m={};for(var y in u)y!=="ref"&&(m[y]=u[y])}if(l=l.defaultProps){m===u&&(m=p({},m));for(var S in l)m[S]===void 0&&(m[S]=l[S])}return m}function z3(l){tf(l)}function F3(l){console.error(l)}function U3(l){tf(l)}function lx(l,u){try{var m=l.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function B3(l,u,m){try{var y=l.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function V2(l,u,m){return m=an(m),m.tag=3,m.payload={element:null},m.callback=function(){lx(l,u)},m}function V3(l){return l=an(l),l.tag=3,l}function q3(l,u,m,y){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var C=y.value;l.payload=function(){return S(C)},l.callback=function(){B3(u,m,y)}}var Z=m.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(l.callback=function(){B3(u,m,y),typeof S!="function"&&(th===null?th=new Set([this]):th.add(this));var de=y.stack;this.componentDidCatch(y.value,{componentStack:de!==null?de:""})})}function fV(l,u,m,y,S){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=m.alternate,u!==null&&$c(u,m,S,!0),m=Br.current,m!==null){switch(m.tag){case 31:case 13:return $n===null?bx():m.alternate===null&&ji===0&&(ji=3),m.flags&=-257,m.flags|=65536,m.lanes=S,y===Oe?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([y]):u.add(y),fw(l,y,S)),!1;case 22:return m.flags|=65536,y===Oe?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([y]):m.add(y)),fw(l,y,S)),!1}throw Error(r(435,m.tag))}return fw(l,y,S),bx(),!1}if(kn)return u=Br.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,y!==Uo&&(l=Error(r(422),{cause:y}),Hd(co(l,m)))):(y!==Uo&&(u=Error(r(423),{cause:y}),Hd(co(u,m))),l=l.current.alternate,l.flags|=65536,S&=-S,l.lanes|=S,y=co(y,m),S=V2(l.stateNode,y,S),Ii(l,S),ji!==4&&(ji=2)),!1;var C=Error(r(520),{cause:y});if(C=co(C,m),Ug===null?Ug=[C]:Ug.push(C),ji!==4&&(ji=2),u===null)return!0;y=co(y,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,l=S&-S,m.lanes|=l,l=V2(m.stateNode,y,l),Ii(m,l),!1;case 1:if(u=m.type,C=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(th===null||!th.has(C))))return m.flags|=65536,S&=-S,m.lanes|=S,S=V3(S),q3(S,l,m,y),Ii(m,S),!1}m=m.return}while(m!==null);return!1}var q2=Error(r(461)),qi=!1;function Ka(l,u,m,y){u.child=l===null?gn(u,null,m,y):Ir(u,l.child,m,y)}function $3(l,u,m,y,S){m=m.render;var C=u.ref;if("ref"in y){var Z={};for(var de in y)de!=="ref"&&(Z[de]=y[de])}else Z=y;return Hc(u),y=jg(l,u,m,Z,C,S),de=Sg(),l!==null&&!qi?(Ag(l,u,S),Vu(l,u,S)):(kn&&de&&bg(u),u.flags|=1,Ka(l,u,y,S),u.child)}function H3(l,u,m,y,S){if(l===null){var C=m.type;return typeof C=="function"&&!_m(C)&&C.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=C,W3(l,u,C,y,S)):(l=Vd(m.type,null,y,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(C=l.child,!Z2(l,S)){var Z=C.memoizedProps;if(m=m.compare,m=m!==null?m:Jl,m(Z,y)&&l.ref===u.ref)return Vu(l,u,S)}return u.flags|=1,l=lo(C,y),l.ref=u.ref,l.return=u,u.child=l}function W3(l,u,m,y,S){if(l!==null){var C=l.memoizedProps;if(Jl(C,y)&&l.ref===u.ref)if(qi=!1,u.pendingProps=y=C,Z2(l,S))(l.flags&131072)!==0&&(qi=!0);else return u.lanes=l.lanes,Vu(l,u,S)}return $2(l,u,m,y,S)}function G3(l,u,m,y){var S=y.children,C=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(C=C!==null?C.baseLanes|m:m,l!==null){for(y=u.child=l.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~C}else y=0,u.child=null;return Y3(l,u,C,m,y)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&ge(u,C!==null?C.cachePool:null),C!==null?Ur(u,C):Kn(),wi(u);else return y=u.lanes=536870912,Y3(l,u,C!==null?C.baseLanes|m:m,m,y)}else C!==null?(ge(u,C.cachePool),Ur(u,C),_i(),u.memoizedState=null):(l!==null&&ge(u,null),Kn(),_i());return Ka(l,u,S,m),u.child}function Rg(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Y3(l,u,m,y,S){var C=me();return C=C===null?null:{parent:di._currentValue,pool:C},u.memoizedState={baseLanes:m,cachePool:C},l!==null&&ge(u,null),Kn(),wi(u),l!==null&&$c(l,u,y,!0),u.childLanes=S,null}function cx(l,u){return u=dx({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function K3(l,u,m){return Ir(u,l.child,null,m),l=cx(u,u.pendingProps),l.flags|=2,pr(u),u.memoizedState=null,l}function mV(l,u,m){var y=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(kn){if(y.mode==="hidden")return l=cx(u,y),u.lanes=536870912,Rg(null,l);if(sr(u),(l=kr)?(l=oE(l,Xr),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:Uc!==null?{id:fo,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},m=Nm(l),m.return=u,u.child=m,sa=u,kr=null)):l=null,l===null)throw Bc(u);return u.lanes=536870912,null}return cx(u,y)}var C=l.memoizedState;if(C!==null){var Z=C.dehydrated;if(sr(u),S)if(u.flags&256)u.flags&=-257,u=K3(l,u,m);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(r(558));else if(qi||$c(l,u,m,!1),S=(m&l.childLanes)!==0,qi||S){if(y=Pr,y!==null&&(Z=Ji(y,m),Z!==0&&Z!==C.retryLane))throw C.retryLane=Z,nc(l,Z),wo(y,l,Z),q2;bx(),u=K3(l,u,m)}else l=C.treeContext,kr=wl(Z.nextSibling),sa=u,kn=!0,Ga=null,Xr=!1,l!==null&&Qy(u,l),u=cx(u,y),u.flags|=4096;return u}return l=lo(l.child,{mode:y.mode,children:y.children}),l.ref=u.ref,u.child=l,l.return=u,l}function ux(l,u){var m=u.ref;if(m===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(l===null||l.ref!==m)&&(u.flags|=4194816)}}function $2(l,u,m,y,S){return Hc(u),m=jg(l,u,m,y,void 0,S),y=Sg(),l!==null&&!qi?(Ag(l,u,S),Vu(l,u,S)):(kn&&y&&bg(u),u.flags|=1,Ka(l,u,m,S),u.child)}function X3(l,u,m,y,S,C){return Hc(u),u.updateQueue=null,m=ic(u,y,m,S),Pm(l),y=Sg(),l!==null&&!qi?(Ag(l,u,C),Vu(l,u,C)):(kn&&y&&bg(u),u.flags|=1,Ka(l,u,m,C),u.child)}function Z3(l,u,m,y,S){if(Hc(u),u.stateNode===null){var C=aa,Z=m.contextType;typeof Z=="object"&&Z!==null&&(C=la(Z)),C=new m(y,C),u.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=B2,u.stateNode=C,C._reactInternals=u,C=u.stateNode,C.props=y,C.state=u.memoizedState,C.refs={},Nt(u),Z=m.contextType,C.context=typeof Z=="object"&&Z!==null?la(Z):aa,C.state=u.memoizedState,Z=m.getDerivedStateFromProps,typeof Z=="function"&&(U2(u,m,Z,y),C.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(Z=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),Z!==C.state&&B2.enqueueReplaceState(C,C.state,null),vi(u,y,C,S),Sr(),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(l===null){C=u.stateNode;var de=u.memoizedProps,Ae=ff(m,de);C.props=Ae;var Ge=C.context,rt=m.contextType;Z=aa,typeof rt=="object"&&rt!==null&&(Z=la(rt));var ft=m.getDerivedStateFromProps;rt=typeof ft=="function"||typeof C.getSnapshotBeforeUpdate=="function",de=u.pendingProps!==de,rt||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(de||Ge!==Z)&&M3(u,C,y,Z),It=!1;var Ye=u.memoizedState;C.state=Ye,vi(u,y,C,S),Sr(),Ge=u.memoizedState,de||Ye!==Ge||It?(typeof ft=="function"&&(U2(u,m,ft,y),Ge=u.memoizedState),(Ae=It||L3(u,m,Ae,y,Ye,Ge,Z))?(rt||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Ge),C.props=y,C.state=Ge,C.context=Z,y=Ae):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{C=u.stateNode,Fr(l,u),Z=u.memoizedProps,rt=ff(m,Z),C.props=rt,ft=u.pendingProps,Ye=C.context,Ge=m.contextType,Ae=aa,typeof Ge=="object"&&Ge!==null&&(Ae=la(Ge)),de=m.getDerivedStateFromProps,(Ge=typeof de=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Z!==ft||Ye!==Ae)&&M3(u,C,y,Ae),It=!1,Ye=u.memoizedState,C.state=Ye,vi(u,y,C,S),Sr();var Je=u.memoizedState;Z!==ft||Ye!==Je||It||l!==null&&l.dependencies!==null&&Cm(l.dependencies)?(typeof de=="function"&&(U2(u,m,de,y),Je=u.memoizedState),(rt=It||L3(u,m,rt,y,Ye,Je,Ae)||l!==null&&l.dependencies!==null&&Cm(l.dependencies))?(Ge||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,Je,Ae),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,Je,Ae)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||Z===l.memoizedProps&&Ye===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||Z===l.memoizedProps&&Ye===l.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Je),C.props=y,C.state=Je,C.context=Ae,y=rt):(typeof C.componentDidUpdate!="function"||Z===l.memoizedProps&&Ye===l.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||Z===l.memoizedProps&&Ye===l.memoizedState||(u.flags|=1024),y=!1)}return C=y,ux(l,u),y=(u.flags&128)!==0,C||y?(C=u.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:C.render(),u.flags|=1,l!==null&&y?(u.child=Ir(u,l.child,null,S),u.child=Ir(u,null,m,S)):Ka(l,u,m,S),u.memoizedState=C.state,l=u.child):l=Vu(l,u,S),l}function J3(l,u,m,y){return Mu(),u.flags|=256,Ka(l,u,m,y),u.child}var H2={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function W2(l){return{baseLanes:l,cachePool:je()}}function G2(l,u,m){return l=l!==null?l.childLanes&~m:0,u&&(l|=Vo),l}function Q3(l,u,m){var y=u.pendingProps,S=!1,C=(u.flags&128)!==0,Z;if((Z=C)||(Z=l!==null&&l.memoizedState===null?!1:(Vn.current&2)!==0),Z&&(S=!0,u.flags&=-129),Z=(u.flags&32)!==0,u.flags&=-33,l===null){if(kn){if(S?hi(u):_i(),(l=kr)?(l=oE(l,Xr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:Uc!==null?{id:fo,overflow:mo}:null,retryLane:536870912,hydrationErrors:null},m=Nm(l),m.return=u,u.child=m,sa=u,kr=null)):l=null,l===null)throw Bc(u);return Tw(l)?u.lanes=32:u.lanes=536870912,null}var de=y.children;return y=y.fallback,S?(_i(),S=u.mode,de=dx({mode:"hidden",children:de},S),y=Fc(y,S,m,null),de.return=u,y.return=u,de.sibling=y,u.child=de,y=u.child,y.memoizedState=W2(m),y.childLanes=G2(l,Z,m),u.memoizedState=H2,Rg(null,y)):(hi(u),Y2(u,de))}var Ae=l.memoizedState;if(Ae!==null&&(de=Ae.dehydrated,de!==null)){if(C)u.flags&256?(hi(u),u.flags&=-257,u=K2(l,u,m)):u.memoizedState!==null?(_i(),u.child=l.child,u.flags|=128,u=null):(_i(),de=y.fallback,S=u.mode,y=dx({mode:"visible",children:y.children},S),de=Fc(de,S,m,null),de.flags|=2,y.return=u,de.return=u,y.sibling=de,u.child=y,Ir(u,l.child,null,m),y=u.child,y.memoizedState=W2(m),y.childLanes=G2(l,Z,m),u.memoizedState=H2,u=Rg(null,y));else if(hi(u),Tw(de)){if(Z=de.nextSibling&&de.nextSibling.dataset,Z)var Ge=Z.dgst;Z=Ge,y=Error(r(419)),y.stack="",y.digest=Z,Hd({value:y,source:null,stack:null}),u=K2(l,u,m)}else if(qi||$c(l,u,m,!1),Z=(m&l.childLanes)!==0,qi||Z){if(Z=Pr,Z!==null&&(y=Ji(Z,m),y!==0&&y!==Ae.retryLane))throw Ae.retryLane=y,nc(l,y),wo(Z,l,y),q2;Cw(de)||bx(),u=K2(l,u,m)}else Cw(de)?(u.flags|=192,u.child=l.child,u=null):(l=Ae.treeContext,kr=wl(de.nextSibling),sa=u,kn=!0,Ga=null,Xr=!1,l!==null&&Qy(u,l),u=Y2(u,y.children),u.flags|=4096);return u}return S?(_i(),de=y.fallback,S=u.mode,Ae=l.child,Ge=Ae.sibling,y=lo(Ae,{mode:"hidden",children:y.children}),y.subtreeFlags=Ae.subtreeFlags&65011712,Ge!==null?de=lo(Ge,de):(de=Fc(de,S,m,null),de.flags|=2),de.return=u,y.return=u,y.sibling=de,u.child=y,Rg(null,y),y=u.child,de=l.child.memoizedState,de===null?de=W2(m):(S=de.cachePool,S!==null?(Ae=di._currentValue,S=S.parent!==Ae?{parent:Ae,pool:Ae}:S):S=je(),de={baseLanes:de.baseLanes|m,cachePool:S}),y.memoizedState=de,y.childLanes=G2(l,Z,m),u.memoizedState=H2,Rg(l.child,y)):(hi(u),m=l.child,l=m.sibling,m=lo(m,{mode:"visible",children:y.children}),m.return=u,m.sibling=null,l!==null&&(Z=u.deletions,Z===null?(u.deletions=[l],u.flags|=16):Z.push(l)),u.child=m,u.memoizedState=null,m)}function Y2(l,u){return u=dx({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function dx(l,u){return l=Aa(22,l,null,u),l.lanes=0,l}function K2(l,u,m){return Ir(u,l.child,null,m),l=Y2(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function e6(l,u,m){l.lanes|=u;var y=l.alternate;y!==null&&(y.lanes|=u),Wd(l.return,u,m)}function X2(l,u,m,y,S,C){var Z=l.memoizedState;Z===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:S,treeForkCount:C}:(Z.isBackwards=u,Z.rendering=null,Z.renderingStartTime=0,Z.last=y,Z.tail=m,Z.tailMode=S,Z.treeForkCount=C)}function t6(l,u,m){var y=u.pendingProps,S=y.revealOrder,C=y.tail;y=y.children;var Z=Vn.current,de=(Z&2)!==0;if(de?(Z=Z&1|2,u.flags|=128):Z&=1,K(Vn,Z),Ka(l,u,y,m),y=kn?lf:0,!de&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&e6(l,m,u);else if(l.tag===19)e6(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(S){case"forwards":for(m=u.child,S=null;m!==null;)l=m.alternate,l!==null&&Ca(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),X2(u,!1,S,m,C,y);break;case"backwards":case"unstable_legacy-backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&Ca(l)===null){u.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}X2(u,!0,m,null,C,y);break;case"together":X2(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function Vu(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),eh|=u.lanes,(m&u.childLanes)===0)if(l!==null){if($c(l,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=lo(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=lo(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function Z2(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Cm(l)))}function pV(l,u,m){switch(u.tag){case 3:oe(u,u.stateNode.containerInfo),qc(u,di,l.memoizedState.cache),Mu();break;case 27:case 5:Ee(u);break;case 4:oe(u,u.stateNode.containerInfo);break;case 10:qc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,sr(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(hi(u),u.flags|=128,null):(m&u.child.childLanes)!==0?Q3(l,u,m):(hi(u),l=Vu(l,u,m),l!==null?l.sibling:null);hi(u);break;case 19:var S=(l.flags&128)!==0;if(y=(m&u.childLanes)!==0,y||($c(l,u,m,!1),y=(m&u.childLanes)!==0),S){if(y)return t6(l,u,m);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),K(Vn,Vn.current),y)break;return null;case 22:return u.lanes=0,G3(l,u,m,u.pendingProps);case 24:qc(u,di,l.memoizedState.cache)}return Vu(l,u,m)}function n6(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps)qi=!0;else{if(!Z2(l,m)&&(u.flags&128)===0)return qi=!1,pV(l,u,m);qi=(l.flags&131072)!==0}else qi=!1,kn&&(u.flags&1048576)!==0&&Jy(u,lf,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(l=qe(u.elementType),u.type=l,typeof l=="function")_m(l)?(y=ff(l,y),u.tag=1,u=Z3(null,u,l,y,m)):(u.tag=0,u=$2(null,u,l,y,m));else{if(l!=null){var S=l.$$typeof;if(S===D){u.tag=11,u=$3(null,u,l,y,m);break e}else if(S===F){u.tag=14,u=H3(null,u,l,y,m);break e}}throw u=k(l)||l,Error(r(306,u,""))}}return u;case 0:return $2(l,u,u.type,u.pendingProps,m);case 1:return y=u.type,S=ff(y,u.pendingProps),Z3(l,u,y,S,m);case 3:e:{if(oe(u,u.stateNode.containerInfo),l===null)throw Error(r(387));y=u.pendingProps;var C=u.memoizedState;S=C.element,Fr(l,u),vi(u,y,null,m);var Z=u.memoizedState;if(y=Z.cache,qc(u,di,y),y!==C.cache&&zu(u,[di],m,!0),Sr(),y=Z.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:Z.cache},u.updateQueue.baseState=C,u.memoizedState=C,u.flags&256){u=J3(l,u,y,m);break e}else if(y!==S){S=co(Error(r(424)),u),Hd(S),u=J3(l,u,y,m);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(kr=wl(l.firstChild),sa=u,kn=!0,Ga=null,Xr=!0,m=gn(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Mu(),y===S){u=Vu(l,u,m);break e}Ka(l,u,y,m)}u=u.child}return u;case 26:return ux(l,u),l===null?(m=fE(u.type,null,u.pendingProps,null))?u.memoizedState=m:kn||(m=u.type,l=u.pendingProps,y=Ex(xe.current).createElement(m),y[Qn]=u,y[hr]=l,Xa(y,m,l),zr(y),u.stateNode=y):u.memoizedState=fE(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Ee(u),l===null&&kn&&(y=u.stateNode=uE(u.type,u.pendingProps,xe.current),sa=u,Xr=!0,S=kr,ah(u.type)?(kw=S,kr=wl(y.firstChild)):kr=S),Ka(l,u,u.pendingProps.children,m),ux(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&kn&&((S=y=kr)&&(y=HV(y,u.type,u.pendingProps,Xr),y!==null?(u.stateNode=y,sa=u,kr=wl(y.firstChild),Xr=!1,S=!0):S=!1),S||Bc(u)),Ee(u),S=u.type,C=u.pendingProps,Z=l!==null?l.memoizedProps:null,y=C.children,Sw(S,C)?y=null:Z!==null&&Sw(S,Z)&&(u.flags|=32),u.memoizedState!==null&&(S=jg(l,u,P2,null,null,m),Yg._currentValue=S),ux(l,u),Ka(l,u,y,m),u.child;case 6:return l===null&&kn&&((l=m=kr)&&(m=WV(m,u.pendingProps,Xr),m!==null?(u.stateNode=m,sa=u,kr=null,l=!0):l=!1),l||Bc(u)),null;case 13:return Q3(l,u,m);case 4:return oe(u,u.stateNode.containerInfo),y=u.pendingProps,l===null?u.child=Ir(u,null,y,m):Ka(l,u,y,m),u.child;case 11:return $3(l,u,u.type,u.pendingProps,m);case 7:return Ka(l,u,u.pendingProps,m),u.child;case 8:return Ka(l,u,u.pendingProps.children,m),u.child;case 12:return Ka(l,u,u.pendingProps.children,m),u.child;case 10:return y=u.pendingProps,qc(u,u.type,y.value),Ka(l,u,y.children,m),u.child;case 9:return S=u.type._context,y=u.pendingProps.children,Hc(u),S=la(S),y=y(S),u.flags|=1,Ka(l,u,y,m),u.child;case 14:return H3(l,u,u.type,u.pendingProps,m);case 15:return W3(l,u,u.type,u.pendingProps,m);case 19:return t6(l,u,m);case 31:return mV(l,u,m);case 22:return G3(l,u,m,u.pendingProps);case 24:return Hc(u),y=la(di),l===null?(S=me(),S===null&&(S=Pr,C=Gd(),S.pooledCache=C,C.refCount++,C!==null&&(S.pooledCacheLanes|=m),S=C),u.memoizedState={parent:y,cache:S},Nt(u),qc(u,di,S)):((l.lanes&m)!==0&&(Fr(l,u),vi(u,null,null,m),Sr()),S=l.memoizedState,C=u.memoizedState,S.parent!==y?(S={parent:y,cache:y},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),qc(u,di,y)):(y=C.cache,qc(u,di,y),y!==S.cache&&zu(u,[di],m,!0))),Ka(l,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function qu(l){l.flags|=4}function J2(l,u,m,y,S){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(S&335544128)===S)if(l.stateNode.complete)l.flags|=8192;else if(T6())l.flags|=8192;else throw Qe=Oe,$e}else l.flags&=-16777217}function r6(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!xE(u))if(T6())l.flags|=8192;else throw Qe=Oe,$e}function hx(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?_t():536870912,l.lanes|=u,qm|=u)}function Og(l,u){if(!kn)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Vr(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,y=0;if(u)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=y,l.childLanes=m,u}function gV(l,u,m){var y=u.pendingProps;switch(Am(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(u),null;case 1:return Vr(u),null;case 3:return m=u.stateNode,y=null,l!==null&&(y=l.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),po(di),fe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(l===null||l.child===null)&&(oa(u)?qu(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,_g())),Vr(u),null;case 26:var S=u.type,C=u.memoizedState;return l===null?(qu(u),C!==null?(Vr(u),r6(u,C)):(Vr(u),J2(u,S,null,y,m))):C?C!==l.memoizedState?(qu(u),Vr(u),r6(u,C)):(Vr(u),u.flags&=-16777217):(l=l.memoizedProps,l!==y&&qu(u),Vr(u),J2(u,S,l,y,m)),null;case 27:if(Be(u),m=xe.current,S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==y&&qu(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Vr(u),null}l=te.current,oa(u)?wg(u):(l=uE(S,y,m),u.stateNode=l,qu(u))}return Vr(u),null;case 5:if(Be(u),S=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==y&&qu(u);else{if(!y){if(u.stateNode===null)throw Error(r(166));return Vr(u),null}if(C=te.current,oa(u))wg(u);else{var Z=Ex(xe.current);switch(C){case 1:C=Z.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:C=Z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":C=Z.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":C=Z.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":C=Z.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof y.is=="string"?Z.createElement("select",{is:y.is}):Z.createElement("select"),y.multiple?C.multiple=!0:y.size&&(C.size=y.size);break;default:C=typeof y.is=="string"?Z.createElement(S,{is:y.is}):Z.createElement(S)}}C[Qn]=u,C[hr]=y;e:for(Z=u.child;Z!==null;){if(Z.tag===5||Z.tag===6)C.appendChild(Z.stateNode);else if(Z.tag!==4&&Z.tag!==27&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===u)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===u)break e;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}u.stateNode=C;e:switch(Xa(C,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&qu(u)}}return Vr(u),J2(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,m),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==y&&qu(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(r(166));if(l=xe.current,oa(u)){if(l=u.stateNode,m=u.memoizedProps,y=null,S=sa,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}l[Qn]=u,l=!!(l.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||Q6(l.nodeValue,m)),l||Bc(u,!0)}else l=Ex(l).createTextNode(y),l[Qn]=u,u.stateNode=l}return Vr(u),null;case 31:if(m=u.memoizedState,l===null||l.memoizedState!==null){if(y=oa(u),m!==null){if(l===null){if(!y)throw Error(r(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[Qn]=u}else Mu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Vr(u),l=!1}else m=_g(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=m),l=!0;if(!l)return u.flags&256?(pr(u),u):(pr(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Vr(u),null;case 13:if(y=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(S=oa(u),y!==null&&y.dehydrated!==null){if(l===null){if(!S)throw Error(r(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(r(317));S[Qn]=u}else Mu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Vr(u),S=!1}else S=_g(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(pr(u),u):(pr(u),null)}return pr(u),(u.flags&128)!==0?(u.lanes=m,u):(m=y!==null,l=l!==null&&l.memoizedState!==null,m&&(y=u.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),C=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==S&&(y.flags|=2048)),m!==l&&m&&(u.child.flags|=8192),hx(u,u.updateQueue),Vr(u),null);case 4:return fe(),l===null&&bw(u.stateNode.containerInfo),Vr(u),null;case 10:return po(u.type),Vr(u),null;case 19:if(O(Vn),y=u.memoizedState,y===null)return Vr(u),null;if(S=(u.flags&128)!==0,C=y.rendering,C===null)if(S)Og(y,!1);else{if(ji!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(C=Ca(l),C!==null){for(u.flags|=128,Og(y,!1),l=C.updateQueue,u.updateQueue=l,hx(u,l),u.subtreeFlags=0,l=m,m=u.child;m!==null;)sf(m,l),m=m.sibling;return K(Vn,Vn.current&1|2),kn&&Vs(u,y.treeForkCount),u.child}l=l.sibling}y.tail!==null&&at()>yx&&(u.flags|=128,S=!0,Og(y,!1),u.lanes=4194304)}else{if(!S)if(l=Ca(C),l!==null){if(u.flags|=128,S=!0,l=l.updateQueue,u.updateQueue=l,hx(u,l),Og(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!kn)return Vr(u),null}else 2*at()-y.renderingStartTime>yx&&m!==536870912&&(u.flags|=128,S=!0,Og(y,!1),u.lanes=4194304);y.isBackwards?(C.sibling=u.child,u.child=C):(l=y.last,l!==null?l.sibling=C:u.child=C,y.last=C)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=at(),l.sibling=null,m=Vn.current,K(Vn,S?m&1|2:m&1),kn&&Vs(u,y.treeForkCount),l):(Vr(u),null);case 22:case 23:return pr(u),Pi(),y=u.memoizedState!==null,l!==null?l.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(m&536870912)!==0&&(u.flags&128)===0&&(Vr(u),u.subtreeFlags&6&&(u.flags|=8192)):Vr(u),m=u.updateQueue,m!==null&&hx(u,m.retryQueue),m=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048),l!==null&&O(ue),null;case 24:return m=null,l!==null&&(m=l.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),po(di),Vr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function yV(l,u){switch(Am(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return po(di),fe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Be(u),null;case 31:if(u.memoizedState!==null){if(pr(u),u.alternate===null)throw Error(r(340));Mu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(pr(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Mu()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return O(Vn),null;case 4:return fe(),null;case 10:return po(u.type),null;case 22:case 23:return pr(u),Pi(),l!==null&&O(ue),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return po(di),null;case 25:return null;default:return null}}function i6(l,u){switch(Am(u),u.tag){case 3:po(di),fe();break;case 26:case 27:case 5:Be(u);break;case 4:fe();break;case 31:u.memoizedState!==null&&pr(u);break;case 13:pr(u);break;case 19:O(Vn);break;case 10:po(u.type);break;case 22:case 23:pr(u),Pi(),l!==null&&O(ue);break;case 24:po(di)}}function Dg(l,u){try{var m=u.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var S=y.next;m=S;do{if((m.tag&l)===l){y=void 0;var C=m.create,Z=m.inst;y=C(),Z.destroy=y}m=m.next}while(m!==S)}}catch(de){yr(u,u.return,de)}}function Jd(l,u,m){try{var y=u.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var C=S.next;y=C;do{if((y.tag&l)===l){var Z=y.inst,de=Z.destroy;if(de!==void 0){Z.destroy=void 0,S=u;var Ae=m,Ge=de;try{Ge()}catch(rt){yr(S,Ae,rt)}}}y=y.next}while(y!==C)}}catch(rt){yr(u,u.return,rt)}}function a6(l){var u=l.updateQueue;if(u!==null){var m=l.stateNode;try{bi(u,m)}catch(y){yr(l,l.return,y)}}}function s6(l,u,m){m.props=ff(l.type,l.memoizedProps),m.state=l.memoizedState;try{m.componentWillUnmount()}catch(y){yr(l,u,y)}}function Lg(l,u){try{var m=l.ref;if(m!==null){switch(l.tag){case 26:case 27:case 5:var y=l.stateNode;break;case 30:y=l.stateNode;break;default:y=l.stateNode}typeof m=="function"?l.refCleanup=m(y):m.current=y}}catch(S){yr(l,u,S)}}function Xc(l,u){var m=l.ref,y=l.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(S){yr(l,u,S)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){yr(l,u,S)}else m.current=null}function o6(l){var u=l.type,m=l.memoizedProps,y=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(S){yr(l,l.return,S)}}function Q2(l,u,m){try{var y=l.stateNode;FV(y,l.type,m,u),y[hr]=u}catch(S){yr(l,l.return,S)}}function l6(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&ah(l.type)||l.tag===4}function ew(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||l6(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&ah(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function tw(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(l,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(l),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=Rs));else if(y!==4&&(y===27&&ah(l.type)&&(m=l.stateNode,u=null),l=l.child,l!==null))for(tw(l,u,m),l=l.sibling;l!==null;)tw(l,u,m),l=l.sibling}function fx(l,u,m){var y=l.tag;if(y===5||y===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(y!==4&&(y===27&&ah(l.type)&&(m=l.stateNode),l=l.child,l!==null))for(fx(l,u,m),l=l.sibling;l!==null;)fx(l,u,m),l=l.sibling}function c6(l){var u=l.stateNode,m=l.memoizedProps;try{for(var y=l.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);Xa(u,y,m),u[Qn]=l,u[hr]=m}catch(C){yr(l,l.return,C)}}var $u=!1,$i=!1,nw=!1,u6=typeof WeakSet=="function"?WeakSet:Set,Ta=null;function xV(l,u){if(l=l.containerInfo,Nw=Ox,l=ec(l),gl(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var S=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var Z=0,de=-1,Ae=-1,Ge=0,rt=0,ft=l,Ye=null;t:for(;;){for(var Je;ft!==m||S!==0&&ft.nodeType!==3||(de=Z+S),ft!==C||y!==0&&ft.nodeType!==3||(Ae=Z+y),ft.nodeType===3&&(Z+=ft.nodeValue.length),(Je=ft.firstChild)!==null;)Ye=ft,ft=Je;for(;;){if(ft===l)break t;if(Ye===m&&++Ge===S&&(de=Z),Ye===C&&++rt===y&&(Ae=Z),(Je=ft.nextSibling)!==null)break;ft=Ye,Ye=ft.parentNode}ft=Je}m=de===-1||Ae===-1?null:{start:de,end:Ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(jw={focusedElem:l,selectionRange:m},Ox=!1,Ta=u;Ta!==null;)if(u=Ta,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ta=l;else for(;Ta!==null;){switch(u=Ta,C=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(m=0;m<l.length;m++)S=l[m],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&C!==null){l=void 0,m=u,S=C.memoizedProps,C=C.memoizedState,y=m.stateNode;try{var Ft=ff(m.type,S);l=y.getSnapshotBeforeUpdate(Ft,C),y.__reactInternalSnapshotBeforeUpdate=l}catch(on){yr(m,m.return,on)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,m=l.nodeType,m===9)Ew(l);else if(m===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":Ew(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=u.sibling,l!==null){l.return=u.return,Ta=l;break}Ta=u.return}}function d6(l,u,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Wu(l,m),y&4&&Dg(5,m);break;case 1:if(Wu(l,m),y&4)if(l=m.stateNode,u===null)try{l.componentDidMount()}catch(Z){yr(m,m.return,Z)}else{var S=ff(m.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(S,u,l.__reactInternalSnapshotBeforeUpdate)}catch(Z){yr(m,m.return,Z)}}y&64&&a6(m),y&512&&Lg(m,m.return);break;case 3:if(Wu(l,m),y&64&&(l=m.updateQueue,l!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{bi(l,u)}catch(Z){yr(m,m.return,Z)}}break;case 27:u===null&&y&4&&c6(m);case 26:case 5:Wu(l,m),u===null&&y&4&&o6(m),y&512&&Lg(m,m.return);break;case 12:Wu(l,m);break;case 31:Wu(l,m),y&4&&m6(l,m);break;case 13:Wu(l,m),y&4&&p6(l,m),y&64&&(l=m.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(m=EV.bind(null,m),GV(l,m))));break;case 22:if(y=m.memoizedState!==null||$u,!y){u=u!==null&&u.memoizedState!==null||$i,S=$u;var C=$i;$u=y,($i=u)&&!C?Gu(l,m,(m.subtreeFlags&8772)!==0):Wu(l,m),$u=S,$i=C}break;case 30:break;default:Wu(l,m)}}function h6(l){var u=l.alternate;u!==null&&(l.alternate=null,h6(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&Io(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Qr=null,yo=!1;function Hu(l,u,m){for(m=m.child;m!==null;)f6(l,u,m),m=m.sibling}function f6(l,u,m){if(st&&typeof st.onCommitFiberUnmount=="function")try{st.onCommitFiberUnmount(ut,m)}catch{}switch(m.tag){case 26:$i||Xc(m,u),Hu(l,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:$i||Xc(m,u);var y=Qr,S=yo;ah(m.type)&&(Qr=m.stateNode,yo=!1),Hu(l,u,m),Hg(m.stateNode),Qr=y,yo=S;break;case 5:$i||Xc(m,u);case 6:if(y=Qr,S=yo,Qr=null,Hu(l,u,m),Qr=y,yo=S,Qr!==null)if(yo)try{(Qr.nodeType===9?Qr.body:Qr.nodeName==="HTML"?Qr.ownerDocument.body:Qr).removeChild(m.stateNode)}catch(C){yr(m,u,C)}else try{Qr.removeChild(m.stateNode)}catch(C){yr(m,u,C)}break;case 18:Qr!==null&&(yo?(l=Qr,aE(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,m.stateNode),Zm(l)):aE(Qr,m.stateNode));break;case 4:y=Qr,S=yo,Qr=m.stateNode.containerInfo,yo=!0,Hu(l,u,m),Qr=y,yo=S;break;case 0:case 11:case 14:case 15:Jd(2,m,u),$i||Jd(4,m,u),Hu(l,u,m);break;case 1:$i||(Xc(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"&&s6(m,u,y)),Hu(l,u,m);break;case 21:Hu(l,u,m);break;case 22:$i=(y=$i)||m.memoizedState!==null,Hu(l,u,m),$i=y;break;default:Hu(l,u,m)}}function m6(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Zm(l)}catch(m){yr(u,u.return,m)}}}function p6(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Zm(l)}catch(m){yr(u,u.return,m)}}function vV(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new u6),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new u6),u;default:throw Error(r(435,l.tag))}}function mx(l,u){var m=vV(l);u.forEach(function(y){if(!m.has(y)){m.add(y);var S=CV.bind(null,l,y);y.then(S,S)}})}function xo(l,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var S=m[y],C=l,Z=u,de=Z;e:for(;de!==null;){switch(de.tag){case 27:if(ah(de.type)){Qr=de.stateNode,yo=!1;break e}break;case 5:Qr=de.stateNode,yo=!1;break e;case 3:case 4:Qr=de.stateNode.containerInfo,yo=!0;break e}de=de.return}if(Qr===null)throw Error(r(160));f6(C,Z,S),Qr=null,yo=!1,C=S.alternate,C!==null&&(C.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)g6(u,l),u=u.sibling}var lc=null;function g6(l,u){var m=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:xo(u,l),vo(l),y&4&&(Jd(3,l,l.return),Dg(3,l),Jd(5,l,l.return));break;case 1:xo(u,l),vo(l),y&512&&($i||m===null||Xc(m,m.return)),y&64&&$u&&(l=l.updateQueue,l!==null&&(y=l.callbacks,y!==null&&(m=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var S=lc;if(xo(u,l),vo(l),y&512&&($i||m===null||Xc(m,m.return)),y&4){var C=m!==null?m.memoizedState:null;if(y=l.memoizedState,m===null)if(y===null)if(l.stateNode===null){e:{y=l.type,m=l.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":C=S.getElementsByTagName("title")[0],(!C||C[xa]||C[Qn]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=S.createElement(y),S.head.insertBefore(C,S.querySelector("head > title"))),Xa(C,y,m),C[Qn]=l,zr(C),y=C;break e;case"link":var Z=gE("link","href",S).get(y+(m.href||""));if(Z){for(var de=0;de<Z.length;de++)if(C=Z[de],C.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&C.getAttribute("rel")===(m.rel==null?null:m.rel)&&C.getAttribute("title")===(m.title==null?null:m.title)&&C.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){Z.splice(de,1);break t}}C=S.createElement(y),Xa(C,y,m),S.head.appendChild(C);break;case"meta":if(Z=gE("meta","content",S).get(y+(m.content||""))){for(de=0;de<Z.length;de++)if(C=Z[de],C.getAttribute("content")===(m.content==null?null:""+m.content)&&C.getAttribute("name")===(m.name==null?null:m.name)&&C.getAttribute("property")===(m.property==null?null:m.property)&&C.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&C.getAttribute("charset")===(m.charSet==null?null:m.charSet)){Z.splice(de,1);break t}}C=S.createElement(y),Xa(C,y,m),S.head.appendChild(C);break;default:throw Error(r(468,y))}C[Qn]=l,zr(C),y=C}l.stateNode=y}else yE(S,l.type,l.stateNode);else l.stateNode=pE(S,y,l.memoizedProps);else C!==y?(C===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):C.count--,y===null?yE(S,l.type,l.stateNode):pE(S,y,l.memoizedProps)):y===null&&l.stateNode!==null&&Q2(l,l.memoizedProps,m.memoizedProps)}break;case 27:xo(u,l),vo(l),y&512&&($i||m===null||Xc(m,m.return)),m!==null&&y&4&&Q2(l,l.memoizedProps,m.memoizedProps);break;case 5:if(xo(u,l),vo(l),y&512&&($i||m===null||Xc(m,m.return)),l.flags&32){S=l.stateNode;try{oi(S,"")}catch(Ft){yr(l,l.return,Ft)}}y&4&&l.stateNode!=null&&(S=l.memoizedProps,Q2(l,S,m!==null?m.memoizedProps:S)),y&1024&&(nw=!0);break;case 6:if(xo(u,l),vo(l),y&4){if(l.stateNode===null)throw Error(r(162));y=l.memoizedProps,m=l.stateNode;try{m.nodeValue=y}catch(Ft){yr(l,l.return,Ft)}}break;case 3:if(kx=null,S=lc,lc=Cx(u.containerInfo),xo(u,l),lc=S,vo(l),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Zm(u.containerInfo)}catch(Ft){yr(l,l.return,Ft)}nw&&(nw=!1,y6(l));break;case 4:y=lc,lc=Cx(l.stateNode.containerInfo),xo(u,l),vo(l),lc=y;break;case 12:xo(u,l),vo(l);break;case 31:xo(u,l),vo(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,mx(l,y)));break;case 13:xo(u,l),vo(l),l.child.flags&8192&&l.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(gx=at()),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,mx(l,y)));break;case 22:S=l.memoizedState!==null;var Ae=m!==null&&m.memoizedState!==null,Ge=$u,rt=$i;if($u=Ge||S,$i=rt||Ae,xo(u,l),$i=rt,$u=Ge,vo(l),y&8192)e:for(u=l.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(m===null||Ae||$u||$i||mf(l)),m=null,u=l;;){if(u.tag===5||u.tag===26){if(m===null){Ae=m=u;try{if(C=Ae.stateNode,S)Z=C.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{de=Ae.stateNode;var ft=Ae.memoizedProps.style,Ye=ft!=null&&ft.hasOwnProperty("display")?ft.display:null;de.style.display=Ye==null||typeof Ye=="boolean"?"":(""+Ye).trim()}}catch(Ft){yr(Ae,Ae.return,Ft)}}}else if(u.tag===6){if(m===null){Ae=u;try{Ae.stateNode.nodeValue=S?"":Ae.memoizedProps}catch(Ft){yr(Ae,Ae.return,Ft)}}}else if(u.tag===18){if(m===null){Ae=u;try{var Je=Ae.stateNode;S?sE(Je,!0):sE(Ae.stateNode,!1)}catch(Ft){yr(Ae,Ae.return,Ft)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=l.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,mx(l,m))));break;case 19:xo(u,l),vo(l),y&4&&(y=l.updateQueue,y!==null&&(l.updateQueue=null,mx(l,y)));break;case 30:break;case 21:break;default:xo(u,l),vo(l)}}function vo(l){var u=l.flags;if(u&2){try{for(var m,y=l.return;y!==null;){if(l6(y)){m=y;break}y=y.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var S=m.stateNode,C=ew(l);fx(l,C,S);break;case 5:var Z=m.stateNode;m.flags&32&&(oi(Z,""),m.flags&=-33);var de=ew(l);fx(l,de,Z);break;case 3:case 4:var Ae=m.stateNode.containerInfo,Ge=ew(l);tw(l,Ge,Ae);break;default:throw Error(r(161))}}catch(rt){yr(l,l.return,rt)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function y6(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;y6(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function Wu(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)d6(l,u.alternate,u),u=u.sibling}function mf(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Jd(4,u,u.return),mf(u);break;case 1:Xc(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&s6(u,u.return,m),mf(u);break;case 27:Hg(u.stateNode);case 26:case 5:Xc(u,u.return),mf(u);break;case 22:u.memoizedState===null&&mf(u);break;case 30:mf(u);break;default:mf(u)}l=l.sibling}}function Gu(l,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,S=l,C=u,Z=C.flags;switch(C.tag){case 0:case 11:case 15:Gu(S,C,m),Dg(4,C);break;case 1:if(Gu(S,C,m),y=C,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ge){yr(y,y.return,Ge)}if(y=C,S=y.updateQueue,S!==null){var de=y.stateNode;try{var Ae=S.shared.hiddenCallbacks;if(Ae!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ae.length;S++)Ea(Ae[S],de)}catch(Ge){yr(y,y.return,Ge)}}m&&Z&64&&a6(C),Lg(C,C.return);break;case 27:c6(C);case 26:case 5:Gu(S,C,m),m&&y===null&&Z&4&&o6(C),Lg(C,C.return);break;case 12:Gu(S,C,m);break;case 31:Gu(S,C,m),m&&Z&4&&m6(S,C);break;case 13:Gu(S,C,m),m&&Z&4&&p6(S,C);break;case 22:C.memoizedState===null&&Gu(S,C,m),Lg(C,C.return);break;case 30:break;default:Gu(S,C,m)}u=u.sibling}}function rw(l,u){var m=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==m&&(l!=null&&l.refCount++,m!=null&&cf(m))}function iw(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&cf(l))}function cc(l,u,m,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)x6(l,u,m,y),u=u.sibling}function x6(l,u,m,y){var S=u.flags;switch(u.tag){case 0:case 11:case 15:cc(l,u,m,y),S&2048&&Dg(9,u);break;case 1:cc(l,u,m,y);break;case 3:cc(l,u,m,y),S&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&cf(l)));break;case 12:if(S&2048){cc(l,u,m,y),l=u.stateNode;try{var C=u.memoizedProps,Z=C.id,de=C.onPostCommit;typeof de=="function"&&de(Z,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Ae){yr(u,u.return,Ae)}}else cc(l,u,m,y);break;case 31:cc(l,u,m,y);break;case 13:cc(l,u,m,y);break;case 23:break;case 22:C=u.stateNode,Z=u.alternate,u.memoizedState!==null?C._visibility&2?cc(l,u,m,y):Mg(l,u):C._visibility&2?cc(l,u,m,y):(C._visibility|=2,Um(l,u,m,y,(u.subtreeFlags&10256)!==0||!1)),S&2048&&rw(Z,u);break;case 24:cc(l,u,m,y),S&2048&&iw(u.alternate,u);break;default:cc(l,u,m,y)}}function Um(l,u,m,y,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var C=l,Z=u,de=m,Ae=y,Ge=Z.flags;switch(Z.tag){case 0:case 11:case 15:Um(C,Z,de,Ae,S),Dg(8,Z);break;case 23:break;case 22:var rt=Z.stateNode;Z.memoizedState!==null?rt._visibility&2?Um(C,Z,de,Ae,S):Mg(C,Z):(rt._visibility|=2,Um(C,Z,de,Ae,S)),S&&Ge&2048&&rw(Z.alternate,Z);break;case 24:Um(C,Z,de,Ae,S),S&&Ge&2048&&iw(Z.alternate,Z);break;default:Um(C,Z,de,Ae,S)}u=u.sibling}}function Mg(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=l,y=u,S=y.flags;switch(y.tag){case 22:Mg(m,y),S&2048&&rw(y.alternate,y);break;case 24:Mg(m,y),S&2048&&iw(y.alternate,y);break;default:Mg(m,y)}u=u.sibling}}var zg=8192;function Bm(l,u,m){if(l.subtreeFlags&zg)for(l=l.child;l!==null;)v6(l,u,m),l=l.sibling}function v6(l,u,m){switch(l.tag){case 26:Bm(l,u,m),l.flags&zg&&l.memoizedState!==null&&aq(m,lc,l.memoizedState,l.memoizedProps);break;case 5:Bm(l,u,m);break;case 3:case 4:var y=lc;lc=Cx(l.stateNode.containerInfo),Bm(l,u,m),lc=y;break;case 22:l.memoizedState===null&&(y=l.alternate,y!==null&&y.memoizedState!==null?(y=zg,zg=16777216,Bm(l,u,m),zg=y):Bm(l,u,m));break;default:Bm(l,u,m)}}function b6(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function Fg(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];Ta=y,_6(y,l)}b6(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)w6(l),l=l.sibling}function w6(l){switch(l.tag){case 0:case 11:case 15:Fg(l),l.flags&2048&&Jd(9,l,l.return);break;case 3:Fg(l);break;case 12:Fg(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,px(l)):Fg(l);break;default:Fg(l)}}function px(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];Ta=y,_6(y,l)}b6(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Jd(8,u,u.return),px(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,px(u));break;default:px(u)}l=l.sibling}}function _6(l,u){for(;Ta!==null;){var m=Ta;switch(m.tag){case 0:case 11:case 15:Jd(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:cf(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,Ta=y;else e:for(m=l;Ta!==null;){y=Ta;var S=y.sibling,C=y.return;if(h6(y),y===m){Ta=null;break e}if(S!==null){S.return=C,Ta=S;break e}Ta=C}}}var bV={getCacheForType:function(l){var u=la(di),m=u.data.get(l);return m===void 0&&(m=l(),u.data.set(l,m)),m},cacheSignal:function(){return la(di).controller.signal}},wV=typeof WeakMap=="function"?WeakMap:Map,or=0,Pr=null,In=null,Ln=0,gr=0,Bo=null,Qd=!1,Vm=!1,aw=!1,Yu=0,ji=0,eh=0,pf=0,sw=0,Vo=0,qm=0,Ug=null,bo=null,ow=!1,gx=0,N6=0,yx=1/0,xx=null,th=null,ua=0,nh=null,$m=null,Ku=0,lw=0,cw=null,j6=null,Bg=0,uw=null;function qo(){return(or&2)!==0&&Ln!==0?Ln&-Ln:G.T!==null?gw():gi()}function S6(){if(Vo===0)if((Ln&536870912)===0||kn){var l=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),Vo=l}else Vo=536870912;return l=Br.current,l!==null&&(l.flags|=32),Vo}function wo(l,u,m){(l===Pr&&(gr===2||gr===9)||l.cancelPendingCommit!==null)&&(Hm(l,0),rh(l,Ln,Vo,!1)),jt(l,m),((or&2)===0||l!==Pr)&&(l===Pr&&((or&2)===0&&(pf|=m),ji===4&&rh(l,Ln,Vo,!1)),Zc(l))}function A6(l,u,m){if((or&6)!==0)throw Error(r(327));var y=!m&&(u&127)===0&&(u&l.expiredLanes)===0||Ci(l,u),S=y?jV(l,u):hw(l,u,!0),C=y;do{if(S===0){Vm&&!y&&rh(l,u,0,!1);break}else{if(m=l.current.alternate,C&&!_V(m)){S=hw(l,u,!1),C=!1;continue}if(S===2){if(C=u,l.errorRecoveryDisabledLanes&C)var Z=0;else Z=l.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){u=Z;e:{var de=l;S=Ug;var Ae=de.current.memoizedState.isDehydrated;if(Ae&&(Hm(de,Z).flags|=256),Z=hw(de,Z,!1),Z!==2){if(aw&&!Ae){de.errorRecoveryDisabledLanes|=C,pf|=C,S=4;break e}C=bo,bo=S,C!==null&&(bo===null?bo=C:bo.push.apply(bo,C))}S=Z}if(C=!1,S!==2)continue}}if(S===1){Hm(l,0),rh(l,u,0,!0);break}e:{switch(y=l,C=S,C){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:rh(y,u,Vo,!Qd);break e;case 2:bo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(S=gx+300-at(),10<S)){if(rh(y,u,Vo,!Qd),bn(y,0,!0)!==0)break e;Ku=u,y.timeoutHandle=rE(E6.bind(null,y,m,bo,xx,ow,u,Vo,pf,qm,Qd,C,"Throttled",-0,0),S);break e}E6(y,m,bo,xx,ow,u,Vo,pf,qm,Qd,C,null,-0,0)}}break}while(!0);Zc(l)}function E6(l,u,m,y,S,C,Z,de,Ae,Ge,rt,ft,Ye,Je){if(l.timeoutHandle=-1,ft=u.subtreeFlags,ft&8192||(ft&16785408)===16785408){ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rs},v6(u,C,ft);var Ft=(C&62914560)===C?gx-at():(C&4194048)===C?N6-at():0;if(Ft=sq(ft,Ft),Ft!==null){Ku=C,l.cancelPendingCommit=Ft(D6.bind(null,l,u,C,m,y,S,Z,de,Ae,rt,ft,null,Ye,Je)),rh(l,C,Z,!Ge);return}}D6(l,u,C,m,y,S,Z,de,Ae)}function _V(l){for(var u=l;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var S=m[y],C=S.getSnapshot;S=S.value;try{if(!ia(C(),S))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function rh(l,u,m,y){u&=~sw,u&=~pf,l.suspendedLanes|=u,l.pingedLanes&=~u,y&&(l.warmLanes|=u),y=l.expirationTimes;for(var S=u;0<S;){var C=31-$t(S),Z=1<<C;y[C]=-1,S&=~Z}m!==0&&Zi(l,m,u)}function vx(){return(or&6)===0?(Vg(0),!1):!0}function dw(){if(In!==null){if(gr===0)var l=In.return;else l=In,xl=Vc=null,Rm(l),mt=null,Vt=0,l=In;for(;l!==null;)i6(l.alternate,l),l=l.return;In=null}}function Hm(l,u){var m=l.timeoutHandle;m!==-1&&(l.timeoutHandle=-1,VV(m)),m=l.cancelPendingCommit,m!==null&&(l.cancelPendingCommit=null,m()),Ku=0,dw(),Pr=l,In=m=lo(l.current,null),Ln=u,gr=0,Bo=null,Qd=!1,Vm=Ci(l,u),aw=!1,qm=Vo=sw=pf=eh=ji=0,bo=Ug=null,ow=!1,(u&8)!==0&&(u|=u&32);var y=l.entangledLanes;if(y!==0)for(l=l.entanglements,y&=u;0<y;){var S=31-$t(y),C=1<<S;u|=l[S],y&=~C}return Yu=u,nf(),m}function C6(l,u){Zt=null,G.H=Pg,u===Te||u===we?(u=it(),gr=3):u===$e?(u=it(),gr=4):gr=u===q2?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Bo=u,In===null&&(ji=1,lx(l,co(u,l.current)))}function T6(){var l=Br.current;return l===null?!0:(Ln&4194048)===Ln?$n===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?l===$n:!1}function k6(){var l=G.H;return G.H=Pg,l===null?Pg:l}function I6(){var l=G.A;return G.A=bV,l}function bx(){ji=4,Qd||(Ln&4194048)!==Ln&&Br.current!==null||(Vm=!0),(eh&134217727)===0&&(pf&134217727)===0||Pr===null||rh(Pr,Ln,Vo,!1)}function hw(l,u,m){var y=or;or|=2;var S=k6(),C=I6();(Pr!==l||Ln!==u)&&(xx=null,Hm(l,u)),u=!1;var Z=ji;e:do try{if(gr!==0&&In!==null){var de=In,Ae=Bo;switch(gr){case 8:dw(),Z=6;break e;case 3:case 2:case 9:case 6:Br.current===null&&(u=!0);var Ge=gr;if(gr=0,Bo=null,Wm(l,de,Ae,Ge),m&&Vm){Z=0;break e}break;default:Ge=gr,gr=0,Bo=null,Wm(l,de,Ae,Ge)}}NV(),Z=ji;break}catch(rt){C6(l,rt)}while(!0);return u&&l.shellSuspendCounter++,xl=Vc=null,or=y,G.H=S,G.A=C,In===null&&(Pr=null,Ln=0,nf()),Z}function NV(){for(;In!==null;)P6(In)}function jV(l,u){var m=or;or|=2;var y=k6(),S=I6();Pr!==l||Ln!==u?(xx=null,yx=at()+500,Hm(l,u)):Vm=Ci(l,u);e:do try{if(gr!==0&&In!==null){u=In;var C=Bo;t:switch(gr){case 1:gr=0,Bo=null,Wm(l,u,C,1);break;case 2:case 9:if(Ve(C)){gr=0,Bo=null,R6(u);break}u=function(){gr!==2&&gr!==9||Pr!==l||(gr=7),Zc(l)},C.then(u,u);break e;case 3:gr=7;break e;case 4:gr=5;break e;case 7:Ve(C)?(gr=0,Bo=null,R6(u)):(gr=0,Bo=null,Wm(l,u,C,7));break;case 5:var Z=null;switch(In.tag){case 26:Z=In.memoizedState;case 5:case 27:var de=In;if(Z?xE(Z):de.stateNode.complete){gr=0,Bo=null;var Ae=de.sibling;if(Ae!==null)In=Ae;else{var Ge=de.return;Ge!==null?(In=Ge,wx(Ge)):In=null}break t}}gr=0,Bo=null,Wm(l,u,C,5);break;case 6:gr=0,Bo=null,Wm(l,u,C,6);break;case 8:dw(),ji=6;break e;default:throw Error(r(462))}}SV();break}catch(rt){C6(l,rt)}while(!0);return xl=Vc=null,G.H=y,G.A=S,or=m,In!==null?0:(Pr=null,Ln=0,nf(),ji)}function SV(){for(;In!==null&&!Ie();)P6(In)}function P6(l){var u=n6(l.alternate,l,Yu);l.memoizedProps=l.pendingProps,u===null?wx(l):In=u}function R6(l){var u=l,m=u.alternate;switch(u.tag){case 15:case 0:u=X3(m,u,u.pendingProps,u.type,void 0,Ln);break;case 11:u=X3(m,u,u.pendingProps,u.type.render,u.ref,Ln);break;case 5:Rm(u);default:i6(m,u),u=In=sf(u,Yu),u=n6(m,u,Yu)}l.memoizedProps=l.pendingProps,u===null?wx(l):In=u}function Wm(l,u,m,y){xl=Vc=null,Rm(u),mt=null,Vt=0;var S=u.return;try{if(fV(l,S,u,m,Ln)){ji=1,lx(l,co(m,l.current)),In=null;return}}catch(C){if(S!==null)throw In=S,C;ji=1,lx(l,co(m,l.current)),In=null;return}u.flags&32768?(kn||y===1?l=!0:Vm||(Ln&536870912)!==0?l=!1:(Qd=l=!0,(y===2||y===9||y===3||y===6)&&(y=Br.current,y!==null&&y.tag===13&&(y.flags|=16384))),O6(u,l)):wx(u)}function wx(l){var u=l;do{if((u.flags&32768)!==0){O6(u,Qd);return}l=u.return;var m=gV(u.alternate,u,Yu);if(m!==null){In=m;return}if(u=u.sibling,u!==null){In=u;return}In=u=l}while(u!==null);ji===0&&(ji=5)}function O6(l,u){do{var m=yV(l.alternate,l);if(m!==null){m.flags&=32767,In=m;return}if(m=l.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(l=l.sibling,l!==null)){In=l;return}In=l=m}while(l!==null);ji=6,In=null}function D6(l,u,m,y,S,C,Z,de,Ae){l.cancelPendingCommit=null;do _x();while(ua!==0);if((or&6)!==0)throw Error(r(327));if(u!==null){if(u===l.current)throw Error(r(177));if(C=u.lanes|u.childLanes,C|=vm,ai(l,m,C,Z,de,Ae),l===Pr&&(In=Pr=null,Ln=0),$m=u,nh=l,Ku=m,lw=C,cw=S,j6=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,TV(bt,function(){return U6(),null})):(l.callbackNode=null,l.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=G.T,G.T=null,S=W.p,W.p=2,Z=or,or|=4;try{xV(l,u,m)}finally{or=Z,W.p=S,G.T=y}}ua=1,L6(),M6(),z6()}}function L6(){if(ua===1){ua=0;var l=nh,u=$m,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=G.T,G.T=null;var y=W.p;W.p=2;var S=or;or|=4;try{g6(u,l);var C=jw,Z=ec(l.containerInfo),de=C.focusedElem,Ae=C.selectionRange;if(Z!==de&&de&&de.ownerDocument&&Ql(de.ownerDocument.documentElement,de)){if(Ae!==null&&gl(de)){var Ge=Ae.start,rt=Ae.end;if(rt===void 0&&(rt=Ge),"selectionStart"in de)de.selectionStart=Ge,de.selectionEnd=Math.min(rt,de.value.length);else{var ft=de.ownerDocument||document,Ye=ft&&ft.defaultView||window;if(Ye.getSelection){var Je=Ye.getSelection(),Ft=de.textContent.length,on=Math.min(Ae.start,Ft),Cr=Ae.end===void 0?on:Math.min(Ae.end,Ft);!Je.extend&&on>Cr&&(Z=Cr,Cr=on,on=Z);var Fe=Bd(de,on),Re=Bd(de,Cr);if(Fe&&Re&&(Je.rangeCount!==1||Je.anchorNode!==Fe.node||Je.anchorOffset!==Fe.offset||Je.focusNode!==Re.node||Je.focusOffset!==Re.offset)){var He=ft.createRange();He.setStart(Fe.node,Fe.offset),Je.removeAllRanges(),on>Cr?(Je.addRange(He),Je.extend(Re.node,Re.offset)):(He.setEnd(Re.node,Re.offset),Je.addRange(He))}}}}for(ft=[],Je=de;Je=Je.parentNode;)Je.nodeType===1&&ft.push({element:Je,left:Je.scrollLeft,top:Je.scrollTop});for(typeof de.focus=="function"&&de.focus(),de=0;de<ft.length;de++){var ot=ft[de];ot.element.scrollLeft=ot.left,ot.element.scrollTop=ot.top}}Ox=!!Nw,jw=Nw=null}finally{or=S,W.p=y,G.T=m}}l.current=u,ua=2}}function M6(){if(ua===2){ua=0;var l=nh,u=$m,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=G.T,G.T=null;var y=W.p;W.p=2;var S=or;or|=4;try{d6(l,u.alternate,u)}finally{or=S,W.p=y,G.T=m}}ua=3}}function z6(){if(ua===4||ua===3){ua=0,Ke();var l=nh,u=$m,m=Ku,y=j6;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?ua=5:(ua=0,$m=nh=null,F6(l,l.pendingLanes));var S=l.pendingLanes;if(S===0&&(th=null),wr(m),u=u.stateNode,st&&typeof st.onCommitFiberRoot=="function")try{st.onCommitFiberRoot(ut,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=G.T,S=W.p,W.p=2,G.T=null;try{for(var C=l.onRecoverableError,Z=0;Z<y.length;Z++){var de=y[Z];C(de.value,{componentStack:de.stack})}}finally{G.T=u,W.p=S}}(Ku&3)!==0&&_x(),Zc(l),S=l.pendingLanes,(m&261930)!==0&&(S&42)!==0?l===uw?Bg++:(Bg=0,uw=l):Bg=0,Vg(0)}}function F6(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,cf(u)))}function _x(){return L6(),M6(),z6(),U6()}function U6(){if(ua!==5)return!1;var l=nh,u=lw;lw=0;var m=wr(Ku),y=G.T,S=W.p;try{W.p=32>m?32:m,G.T=null,m=cw,cw=null;var C=nh,Z=Ku;if(ua=0,$m=nh=null,Ku=0,(or&6)!==0)throw Error(r(331));var de=or;if(or|=4,w6(C.current),x6(C,C.current,Z,m),or=de,Vg(0,!1),st&&typeof st.onPostCommitFiberRoot=="function")try{st.onPostCommitFiberRoot(ut,C)}catch{}return!0}finally{W.p=S,G.T=y,F6(l,u)}}function B6(l,u,m){u=co(m,u),u=V2(l.stateNode,u,2),l=wn(l,u,2),l!==null&&(jt(l,2),Zc(l))}function yr(l,u,m){if(l.tag===3)B6(l,l,m);else for(;u!==null;){if(u.tag===3){B6(u,l,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(th===null||!th.has(y))){l=co(m,l),m=V3(2),y=wn(u,m,2),y!==null&&(q3(m,y,u,l),jt(y,2),Zc(y));break}}u=u.return}}function fw(l,u,m){var y=l.pingCache;if(y===null){y=l.pingCache=new wV;var S=new Set;y.set(u,S)}else S=y.get(u),S===void 0&&(S=new Set,y.set(u,S));S.has(m)||(aw=!0,S.add(m),l=AV.bind(null,l,u,m),u.then(l,l))}function AV(l,u,m){var y=l.pingCache;y!==null&&y.delete(u),l.pingedLanes|=l.suspendedLanes&m,l.warmLanes&=~m,Pr===l&&(Ln&m)===m&&(ji===4||ji===3&&(Ln&62914560)===Ln&&300>at()-gx?(or&2)===0&&Hm(l,0):sw|=m,qm===Ln&&(qm=0)),Zc(l)}function V6(l,u){u===0&&(u=_t()),l=nc(l,u),l!==null&&(jt(l,u),Zc(l))}function EV(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),V6(l,m)}function CV(l,u){var m=0;switch(l.tag){case 31:case 13:var y=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:y=l.stateNode;break;case 22:y=l.stateNode._retryCache;break;default:throw Error(r(314))}y!==null&&y.delete(u),V6(l,m)}function TV(l,u){return De(l,u)}var Nx=null,Gm=null,mw=!1,jx=!1,pw=!1,ih=0;function Zc(l){l!==Gm&&l.next===null&&(Gm===null?Nx=Gm=l:Gm=Gm.next=l),jx=!0,mw||(mw=!0,IV())}function Vg(l,u){if(!pw&&jx){pw=!0;do for(var m=!1,y=Nx;y!==null;){if(l!==0){var S=y.pendingLanes;if(S===0)var C=0;else{var Z=y.suspendedLanes,de=y.pingedLanes;C=(1<<31-$t(42|l)+1)-1,C&=S&~(Z&~de),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(m=!0,W6(y,C))}else C=Ln,C=bn(y,y===Pr?C:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(C&3)===0||Ci(y,C)||(m=!0,W6(y,C));y=y.next}while(m);pw=!1}}function kV(){q6()}function q6(){jx=mw=!1;var l=0;ih!==0&&BV()&&(l=ih);for(var u=at(),m=null,y=Nx;y!==null;){var S=y.next,C=$6(y,u);C===0?(y.next=null,m===null?Nx=S:m.next=S,S===null&&(Gm=m)):(m=y,(l!==0||(C&3)!==0)&&(jx=!0)),y=S}ua!==0&&ua!==5||Vg(l),ih!==0&&(ih=0)}function $6(l,u){for(var m=l.suspendedLanes,y=l.pingedLanes,S=l.expirationTimes,C=l.pendingLanes&-62914561;0<C;){var Z=31-$t(C),de=1<<Z,Ae=S[Z];Ae===-1?((de&m)===0||(de&y)!==0)&&(S[Z]=lt(de,u)):Ae<=u&&(l.expiredLanes|=de),C&=~de}if(u=Pr,m=Ln,m=bn(l,l===u?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y=l.callbackNode,m===0||l===u&&(gr===2||gr===9)||l.cancelPendingCommit!==null)return y!==null&&y!==null&&Le(y),l.callbackNode=null,l.callbackPriority=0;if((m&3)===0||Ci(l,m)){if(u=m&-m,u===l.callbackPriority)return u;switch(y!==null&&Le(y),wr(m)){case 2:case 8:m=Tt;break;case 32:m=bt;break;case 268435456:m=Ze;break;default:m=bt}return y=H6.bind(null,l),m=De(m,y),l.callbackPriority=u,l.callbackNode=m,u}return y!==null&&y!==null&&Le(y),l.callbackPriority=2,l.callbackNode=null,2}function H6(l,u){if(ua!==0&&ua!==5)return l.callbackNode=null,l.callbackPriority=0,null;var m=l.callbackNode;if(_x()&&l.callbackNode!==m)return null;var y=Ln;return y=bn(l,l===Pr?y:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),y===0?null:(A6(l,y,u),$6(l,at()),l.callbackNode!=null&&l.callbackNode===m?H6.bind(null,l):null)}function W6(l,u){if(_x())return null;A6(l,u,!0)}function IV(){qV(function(){(or&6)!==0?De(ht,kV):q6()})}function gw(){if(ih===0){var l=_;l===0&&(l=On,On<<=1,(On&261888)===0&&(On=256)),ih=l}return ih}function G6(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Ps(""+l)}function Y6(l,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,l.id&&m.setAttribute("form",l.id),u.parentNode.insertBefore(m,u),l=new FormData(l),m.parentNode.removeChild(m),l}function PV(l,u,m,y,S){if(u==="submit"&&m&&m.stateNode===S){var C=G6((S[hr]||null).action),Z=y.submitter;Z&&(u=(u=Z[hr]||null)?G6(u.formAction):Z.getAttribute("formAction"),u!==null&&(C=u,Z=null));var de=new _a("action","action",null,y,S);l.push({event:de,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(ih!==0){var Ae=Z?Y6(S,Z):new FormData(S);L2(m,{pending:!0,data:Ae,method:S.method,action:C},null,Ae)}}else typeof C=="function"&&(de.preventDefault(),Ae=Z?Y6(S,Z):new FormData(S),L2(m,{pending:!0,data:Ae,method:S.method,action:C},C,Ae))},currentTarget:S}]})}}for(var yw=0;yw<Ou.length;yw++){var xw=Ou[yw],RV=xw.toLowerCase(),OV=xw[0].toUpperCase()+xw.slice(1);oo(RV,"on"+OV)}oo(Ru,"onAnimationEnd"),oo(ef,"onAnimationIteration"),oo(yg,"onAnimationStart"),oo("dblclick","onDoubleClick"),oo("focusin","onFocus"),oo("focusout","onBlur"),oo(Ky,"onTransitionRun"),oo(Xy,"onTransitionStart"),oo(Zy,"onTransitionCancel"),oo(xg,"onTransitionEnd"),ks("onMouseEnter",["mouseout","mouseover"]),ks("onMouseLeave",["mouseout","mouseover"]),ks("onPointerEnter",["pointerout","pointerover"]),ks("onPointerLeave",["pointerout","pointerover"]),us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),us("onBeforeInput",["compositionend","keypress","textInput","paste"]),us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qg));function K6(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var y=l[m],S=y.event;y=y.listeners;e:{var C=void 0;if(u)for(var Z=y.length-1;0<=Z;Z--){var de=y[Z],Ae=de.instance,Ge=de.currentTarget;if(de=de.listener,Ae!==C&&S.isPropagationStopped())break e;C=de,S.currentTarget=Ge;try{C(S)}catch(rt){tf(rt)}S.currentTarget=null,C=Ae}else for(Z=0;Z<y.length;Z++){if(de=y[Z],Ae=de.instance,Ge=de.currentTarget,de=de.listener,Ae!==C&&S.isPropagationStopped())break e;C=de,S.currentTarget=Ge;try{C(S)}catch(rt){tf(rt)}S.currentTarget=null,C=Ae}}}}function Pn(l,u){var m=u[ya];m===void 0&&(m=u[ya]=new Set);var y=l+"__bubble";m.has(y)||(X6(u,l,2,!1),m.add(y))}function vw(l,u,m){var y=0;u&&(y|=4),X6(m,l,y,u)}var Sx="_reactListening"+Math.random().toString(36).slice(2);function bw(l){if(!l[Sx]){l[Sx]=!0,Tc.forEach(function(m){m!=="selectionchange"&&(DV.has(m)||vw(m,!1,l),vw(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Sx]||(u[Sx]=!0,vw("selectionchange",!1,u))}}function X6(l,u,m,y){switch(SE(u)){case 2:var S=cq;break;case 8:S=uq;break;default:S=Dw}m=S.bind(null,u,m,l),S=void 0,!Wl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),y?S!==void 0?l.addEventListener(u,m,{capture:!0,passive:S}):l.addEventListener(u,m,!0):S!==void 0?l.addEventListener(u,m,{passive:S}):l.addEventListener(u,m,!1)}function ww(l,u,m,y,S){var C=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var Z=y.tag;if(Z===3||Z===4){var de=y.stateNode.containerInfo;if(de===S)break;if(Z===4)for(Z=y.return;Z!==null;){var Ae=Z.tag;if((Ae===3||Ae===4)&&Z.stateNode.containerInfo===S)return;Z=Z.return}for(;de!==null;){if(Z=Fa(de),Z===null)return;if(Ae=Z.tag,Ae===5||Ae===6||Ae===26||Ae===27){y=C=Z;continue e}de=de.parentNode}}y=y.return}ol(function(){var Ge=C,rt=wa(m),ft=[];e:{var Ye=vg.get(l);if(Ye!==void 0){var Je=_a,Ft=l;switch(l){case"keypress":if(no(m)===0)break e;case"keydown":case"keyup":Je=Dn;break;case"focusin":Ft="focus",Je=Ms;break;case"focusout":Ft="blur",Je=Ms;break;case"beforeblur":case"afterblur":Je=Ms;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=Ls;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=$;break;case Ru:case ef:case yg:Je=R;break;case xg:Je=pe;break;case"scroll":case"scrollend":Je=cl;break;case"wheel":Je=We;break;case"copy":case"cut":case"paste":Je=Ne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=lr;break;case"toggle":case"beforetoggle":Je=ln}var on=(u&4)!==0,Cr=!on&&(l==="scroll"||l==="scrollend"),Fe=on?Ye!==null?Ye+"Capture":null:Ye;on=[];for(var Re=Ge,He;Re!==null;){var ot=Re;if(He=ot.stateNode,ot=ot.tag,ot!==5&&ot!==26&&ot!==27||He===null||Fe===null||(ot=ki(Re,Fe),ot!=null&&on.push($g(Re,ot,He))),Cr)break;Re=Re.return}0<on.length&&(Ye=new Je(Ye,Ft,null,m,rt),ft.push({event:Ye,listeners:on}))}}if((u&7)===0){e:{if(Ye=l==="mouseover"||l==="pointerover",Je=l==="mouseout"||l==="pointerout",Ye&&m!==Do&&(Ft=m.relatedTarget||m.fromElement)&&(Fa(Ft)||Ft[yi]))break e;if((Je||Ye)&&(Ye=rt.window===rt?rt:(Ye=rt.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,Je?(Ft=m.relatedTarget||m.toElement,Je=Ge,Ft=Ft?Fa(Ft):null,Ft!==null&&(Cr=a(Ft),on=Ft.tag,Ft!==Cr||on!==5&&on!==27&&on!==6)&&(Ft=null)):(Je=null,Ft=Ge),Je!==Ft)){if(on=Ls,ot="onMouseLeave",Fe="onMouseEnter",Re="mouse",(l==="pointerout"||l==="pointerover")&&(on=lr,ot="onPointerLeave",Fe="onPointerEnter",Re="pointer"),Cr=Je==null?Ye:Ua(Je),He=Ft==null?Ye:Ua(Ft),Ye=new on(ot,Re+"leave",Je,m,rt),Ye.target=Cr,Ye.relatedTarget=He,ot=null,Fa(rt)===Ge&&(on=new on(Fe,Re+"enter",Ft,m,rt),on.target=He,on.relatedTarget=Cr,ot=on),Cr=ot,Je&&Ft)t:{for(on=LV,Fe=Je,Re=Ft,He=0,ot=Fe;ot;ot=on(ot))He++;ot=0;for(var en=Re;en;en=on(en))ot++;for(;0<He-ot;)Fe=on(Fe),He--;for(;0<ot-He;)Re=on(Re),ot--;for(;He--;){if(Fe===Re||Re!==null&&Fe===Re.alternate){on=Fe;break t}Fe=on(Fe),Re=on(Re)}on=null}else on=null;Je!==null&&Z6(ft,Ye,Je,on,!1),Ft!==null&&Cr!==null&&Z6(ft,Cr,Ft,on,!0)}}e:{if(Ye=Ge?Ua(Ge):window,Je=Ye.nodeName&&Ye.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Ye.type==="file")var nr=zc;else if(Jh(Ye))if(hs)nr=ml;else{nr=ci;var Gt=Fd}else Je=Ye.nodeName,!Je||Je.toLowerCase()!=="input"||Ye.type!=="checkbox"&&Ye.type!=="radio"?Ge&&Oc(Ge.elementType)&&(nr=zc):nr=xm;if(nr&&(nr=nr(l,Ge))){Fs(ft,nr,m,rt);break e}Gt&&Gt(l,Ye,Ge),l==="focusout"&&Ge&&Ye.type==="number"&&Ge.memoizedProps.value!=null&&Au(Ye,"number",Ye.value)}switch(Gt=Ge?Ua(Ge):window,l){case"focusin":(Jh(Gt)||Gt.contentEditable==="true")&&(Us=Gt,tc=Ge,ja=null);break;case"focusout":ja=tc=Us=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,Yn(ft,m,rt);break;case"selectionchange":if(Pu)break;case"keydown":case"keyup":Yn(ft,m,rt)}var jn;if(Sn)e:{switch(l){case"compositionstart":var Mn="onCompositionStart";break e;case"compositionend":Mn="onCompositionEnd";break e;case"compositionupdate":Mn="onCompositionUpdate";break e}Mn=void 0}else dl?zs(l,m)&&(Mn="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Mn="onCompositionStart");Mn&&(Na&&m.locale!=="ko"&&(dl||Mn!=="onCompositionStart"?Mn==="onCompositionEnd"&&dl&&(jn=ll()):(Va=rt,Gl="value"in Va?Va.value:Va.textContent,dl=!0)),Gt=Ax(Ge,Mn),0<Gt.length&&(Mn=new ze(Mn,l,null,m,rt),ft.push({event:Mn,listeners:Gt}),jn?Mn.data=jn:(jn=ul(m),jn!==null&&(Mn.data=jn)))),(jn=Bi?Kr(l,m):Kl(l,m))&&(Mn=Ax(Ge,"onBeforeInput"),0<Mn.length&&(Gt=new ze("onBeforeInput","beforeinput",null,m,rt),ft.push({event:Gt,listeners:Mn}),Gt.data=jn)),PV(ft,l,Ge,m,rt)}K6(ft,u)})}function $g(l,u,m){return{instance:l,listener:u,currentTarget:m}}function Ax(l,u){for(var m=u+"Capture",y=[];l!==null;){var S=l,C=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||C===null||(S=ki(l,m),S!=null&&y.unshift($g(l,S,C)),S=ki(l,u),S!=null&&y.push($g(l,S,C))),l.tag===3)return y;l=l.return}return[]}function LV(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function Z6(l,u,m,y,S){for(var C=u._reactName,Z=[];m!==null&&m!==y;){var de=m,Ae=de.alternate,Ge=de.stateNode;if(de=de.tag,Ae!==null&&Ae===y)break;de!==5&&de!==26&&de!==27||Ge===null||(Ae=Ge,S?(Ge=ki(m,C),Ge!=null&&Z.unshift($g(m,Ge,Ae))):S||(Ge=ki(m,C),Ge!=null&&Z.push($g(m,Ge,Ae)))),m=m.return}Z.length!==0&&l.push({event:u,listeners:Z})}var MV=/\r\n?/g,zV=/\u0000|\uFFFD/g;function J6(l){return(typeof l=="string"?l:""+l).replace(MV,`
`).replace(zV,"")}function Q6(l,u){return u=J6(u),J6(l)===u}function Er(l,u,m,y,S,C){switch(m){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||oi(l,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&oi(l,""+y);break;case"className":Ba(l,"class",y);break;case"tabIndex":Ba(l,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ba(l,m,y);break;case"style":Tu(l,y,C);break;case"data":if(u!=="object"){Ba(l,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||m!=="href")){l.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(m);break}y=Ps(""+y),l.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){l.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(m==="formAction"?(u!=="input"&&Er(l,u,"name",S.name,S,null),Er(l,u,"formEncType",S.formEncType,S,null),Er(l,u,"formMethod",S.formMethod,S,null),Er(l,u,"formTarget",S.formTarget,S,null)):(Er(l,u,"encType",S.encType,S,null),Er(l,u,"method",S.method,S,null),Er(l,u,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){l.removeAttribute(m);break}y=Ps(""+y),l.setAttribute(m,y);break;case"onClick":y!=null&&(l.onclick=Rs);break;case"onScroll":y!=null&&Pn("scroll",l);break;case"onScrollEnd":y!=null&&Pn("scrollend",l);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=m}}break;case"multiple":l.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":l.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){l.removeAttribute("xlink:href");break}m=Ps(""+y),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(m,""+y):l.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(m,""):l.removeAttribute(m);break;case"capture":case"download":y===!0?l.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?l.setAttribute(m,y):l.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?l.setAttribute(m,y):l.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?l.removeAttribute(m):l.setAttribute(m,y);break;case"popover":Pn("beforetoggle",l),Pn("toggle",l),Po(l,"popover",y);break;case"xlinkActuate":Nn(l,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":Nn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":Nn(l,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":Nn(l,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":Nn(l,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":Nn(l,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":Nn(l,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Po(l,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Dc.get(m)||m,Po(l,m,y))}}function _w(l,u,m,y,S,C){switch(m){case"style":Tu(l,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(r(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(r(60));l.innerHTML=m}}break;case"children":typeof y=="string"?oi(l,y):(typeof y=="number"||typeof y=="bigint")&&oi(l,""+y);break;case"onScroll":y!=null&&Pn("scroll",l);break;case"onScrollEnd":y!=null&&Pn("scrollend",l);break;case"onClick":y!=null&&(l.onclick=Rs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),u=m.slice(2,S?m.length-7:void 0),C=l[hr]||null,C=C!=null?C[m]:null,typeof C=="function"&&l.removeEventListener(u,C,S),typeof y=="function")){typeof C!="function"&&C!==null&&(m in l?l[m]=null:l.hasAttribute(m)&&l.removeAttribute(m)),l.addEventListener(u,y,S);break e}m in l?l[m]=y:y===!0?l.setAttribute(m,""):Po(l,m,y)}}}function Xa(l,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pn("error",l),Pn("load",l);var y=!1,S=!1,C;for(C in m)if(m.hasOwnProperty(C)){var Z=m[C];if(Z!=null)switch(C){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Er(l,u,C,Z,m,null)}}S&&Er(l,u,"srcSet",m.srcSet,m,null),y&&Er(l,u,"src",m.src,m,null);return;case"input":Pn("invalid",l);var de=C=Z=S=null,Ae=null,Ge=null;for(y in m)if(m.hasOwnProperty(y)){var rt=m[y];if(rt!=null)switch(y){case"name":S=rt;break;case"type":Z=rt;break;case"checked":Ae=rt;break;case"defaultChecked":Ge=rt;break;case"value":C=rt;break;case"defaultValue":de=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(r(137,u));break;default:Er(l,u,y,rt,m,null)}}Ld(l,C,de,Ae,Ge,Z,S,!1);return;case"select":Pn("invalid",l),y=Z=C=null;for(S in m)if(m.hasOwnProperty(S)&&(de=m[S],de!=null))switch(S){case"value":C=de;break;case"defaultValue":Z=de;break;case"multiple":y=de;default:Er(l,u,S,de,m,null)}u=C,m=Z,l.multiple=!!y,u!=null?na(l,!!y,u,!1):m!=null&&na(l,!!y,m,!0);return;case"textarea":Pn("invalid",l),C=S=y=null;for(Z in m)if(m.hasOwnProperty(Z)&&(de=m[Z],de!=null))switch(Z){case"value":y=de;break;case"defaultValue":S=de;break;case"children":C=de;break;case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(91));break;default:Er(l,u,Z,de,m,null)}Oo(l,y,S,C);return;case"option":for(Ae in m)if(m.hasOwnProperty(Ae)&&(y=m[Ae],y!=null))switch(Ae){case"selected":l.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:Er(l,u,Ae,y,m,null)}return;case"dialog":Pn("beforetoggle",l),Pn("toggle",l),Pn("cancel",l),Pn("close",l);break;case"iframe":case"object":Pn("load",l);break;case"video":case"audio":for(y=0;y<qg.length;y++)Pn(qg[y],l);break;case"image":Pn("error",l),Pn("load",l);break;case"details":Pn("toggle",l);break;case"embed":case"source":case"link":Pn("error",l),Pn("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in m)if(m.hasOwnProperty(Ge)&&(y=m[Ge],y!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Er(l,u,Ge,y,m,null)}return;default:if(Oc(u)){for(rt in m)m.hasOwnProperty(rt)&&(y=m[rt],y!==void 0&&_w(l,u,rt,y,m,void 0));return}}for(de in m)m.hasOwnProperty(de)&&(y=m[de],y!=null&&Er(l,u,de,y,m,null))}function FV(l,u,m,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,C=null,Z=null,de=null,Ae=null,Ge=null,rt=null;for(Je in m){var ft=m[Je];if(m.hasOwnProperty(Je)&&ft!=null)switch(Je){case"checked":break;case"value":break;case"defaultValue":Ae=ft;default:y.hasOwnProperty(Je)||Er(l,u,Je,null,y,ft)}}for(var Ye in y){var Je=y[Ye];if(ft=m[Ye],y.hasOwnProperty(Ye)&&(Je!=null||ft!=null))switch(Ye){case"type":C=Je;break;case"name":S=Je;break;case"checked":Ge=Je;break;case"defaultChecked":rt=Je;break;case"value":Z=Je;break;case"defaultValue":de=Je;break;case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,u));break;default:Je!==ft&&Er(l,u,Ye,Je,y,ft)}}Pc(l,Z,de,Ae,Ge,rt,C,S);return;case"select":Je=Z=de=Ye=null;for(C in m)if(Ae=m[C],m.hasOwnProperty(C)&&Ae!=null)switch(C){case"value":break;case"multiple":Je=Ae;default:y.hasOwnProperty(C)||Er(l,u,C,null,y,Ae)}for(S in y)if(C=y[S],Ae=m[S],y.hasOwnProperty(S)&&(C!=null||Ae!=null))switch(S){case"value":Ye=C;break;case"defaultValue":de=C;break;case"multiple":Z=C;default:C!==Ae&&Er(l,u,S,C,y,Ae)}u=de,m=Z,y=Je,Ye!=null?na(l,!!m,Ye,!1):!!y!=!!m&&(u!=null?na(l,!!m,u,!0):na(l,!!m,m?[]:"",!1));return;case"textarea":Je=Ye=null;for(de in m)if(S=m[de],m.hasOwnProperty(de)&&S!=null&&!y.hasOwnProperty(de))switch(de){case"value":break;case"children":break;default:Er(l,u,de,null,y,S)}for(Z in y)if(S=y[Z],C=m[Z],y.hasOwnProperty(Z)&&(S!=null||C!=null))switch(Z){case"value":Ye=S;break;case"defaultValue":Je=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:S!==C&&Er(l,u,Z,S,y,C)}Eu(l,Ye,Je);return;case"option":for(var Ft in m)if(Ye=m[Ft],m.hasOwnProperty(Ft)&&Ye!=null&&!y.hasOwnProperty(Ft))switch(Ft){case"selected":l.selected=!1;break;default:Er(l,u,Ft,null,y,Ye)}for(Ae in y)if(Ye=y[Ae],Je=m[Ae],y.hasOwnProperty(Ae)&&Ye!==Je&&(Ye!=null||Je!=null))switch(Ae){case"selected":l.selected=Ye&&typeof Ye!="function"&&typeof Ye!="symbol";break;default:Er(l,u,Ae,Ye,y,Je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var on in m)Ye=m[on],m.hasOwnProperty(on)&&Ye!=null&&!y.hasOwnProperty(on)&&Er(l,u,on,null,y,Ye);for(Ge in y)if(Ye=y[Ge],Je=m[Ge],y.hasOwnProperty(Ge)&&Ye!==Je&&(Ye!=null||Je!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,u));break;default:Er(l,u,Ge,Ye,y,Je)}return;default:if(Oc(u)){for(var Cr in m)Ye=m[Cr],m.hasOwnProperty(Cr)&&Ye!==void 0&&!y.hasOwnProperty(Cr)&&_w(l,u,Cr,void 0,y,Ye);for(rt in y)Ye=y[rt],Je=m[rt],!y.hasOwnProperty(rt)||Ye===Je||Ye===void 0&&Je===void 0||_w(l,u,rt,Ye,y,Je);return}}for(var Fe in m)Ye=m[Fe],m.hasOwnProperty(Fe)&&Ye!=null&&!y.hasOwnProperty(Fe)&&Er(l,u,Fe,null,y,Ye);for(ft in y)Ye=y[ft],Je=m[ft],!y.hasOwnProperty(ft)||Ye===Je||Ye==null&&Je==null||Er(l,u,ft,Ye,y,Je)}function eE(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UV(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,m=performance.getEntriesByType("resource"),y=0;y<m.length;y++){var S=m[y],C=S.transferSize,Z=S.initiatorType,de=S.duration;if(C&&de&&eE(Z)){for(Z=0,de=S.responseEnd,y+=1;y<m.length;y++){var Ae=m[y],Ge=Ae.startTime;if(Ge>de)break;var rt=Ae.transferSize,ft=Ae.initiatorType;rt&&eE(ft)&&(Ae=Ae.responseEnd,Z+=rt*(Ae<de?1:(de-Ge)/(Ae-Ge)))}if(--y,u+=8*(C+Z)/(S.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Nw=null,jw=null;function Ex(l){return l.nodeType===9?l:l.ownerDocument}function tE(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nE(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function Sw(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Aw=null;function BV(){var l=window.event;return l&&l.type==="popstate"?l===Aw?!1:(Aw=l,!0):(Aw=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,VV=typeof clearTimeout=="function"?clearTimeout:void 0,iE=typeof Promise=="function"?Promise:void 0,qV=typeof queueMicrotask=="function"?queueMicrotask:typeof iE<"u"?function(l){return iE.resolve(null).then(l).catch($V)}:rE;function $V(l){setTimeout(function(){throw l})}function ah(l){return l==="head"}function aE(l,u){var m=u,y=0;do{var S=m.nextSibling;if(l.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"||m==="/&"){if(y===0){l.removeChild(S),Zm(u);return}y--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")y++;else if(m==="html")Hg(l.ownerDocument.documentElement);else if(m==="head"){m=l.ownerDocument.head,Hg(m);for(var C=m.firstChild;C;){var Z=C.nextSibling,de=C.nodeName;C[xa]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&C.rel.toLowerCase()==="stylesheet"||m.removeChild(C),C=Z}}else m==="body"&&Hg(l.ownerDocument.body);m=S}while(m);Zm(u)}function sE(l,u){var m=l;l=0;do{var y=m.nextSibling;if(m.nodeType===1?u?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(u?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),y&&y.nodeType===8)if(m=y.data,m==="/$"){if(l===0)break;l--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||l++;m=y}while(m)}function Ew(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Ew(m),Io(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}l.removeChild(m)}}function HV(l,u,m,y){for(;l.nodeType===1;){var S=m;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(y){if(!l[xa])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(C=l.getAttribute("rel"),C==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(C!==S.rel||l.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||l.getAttribute("title")!==(S.title==null?null:S.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(C=l.getAttribute("src"),(C!==(S.src==null?null:S.src)||l.getAttribute("type")!==(S.type==null?null:S.type)||l.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&C&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var C=S.name==null?null:""+S.name;if(S.type==="hidden"&&l.getAttribute("name")===C)return l}else return l;if(l=wl(l.nextSibling),l===null)break}return null}function WV(l,u,m){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!m||(l=wl(l.nextSibling),l===null))return null;return l}function oE(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=wl(l.nextSibling),l===null))return null;return l}function Cw(l){return l.data==="$?"||l.data==="$~"}function Tw(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function GV(l,u){var m=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||m.readyState!=="loading")u();else{var y=function(){u(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),l._reactRetry=y}}function wl(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var kw=null;function lE(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"||m==="/&"){if(u===0)return wl(l.nextSibling);u--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||u++}l=l.nextSibling}return null}function cE(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(u===0)return l;u--}else m!=="/$"&&m!=="/&"||u++}l=l.previousSibling}return null}function uE(l,u,m){switch(u=Ex(m),l){case"html":if(l=u.documentElement,!l)throw Error(r(452));return l;case"head":if(l=u.head,!l)throw Error(r(453));return l;case"body":if(l=u.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Hg(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);Io(l)}var _l=new Map,dE=new Set;function Cx(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var Xu=W.d;W.d={f:YV,r:KV,D:XV,C:ZV,L:JV,m:QV,X:tq,S:eq,M:nq};function YV(){var l=Xu.f(),u=vx();return l||u}function KV(l){var u=ea(l);u!==null&&u.tag===5&&u.type==="form"?C3(u):Xu.r(l)}var Ym=typeof document>"u"?null:document;function hE(l,u,m){var y=Ym;if(y&&typeof u=="string"&&u){var S=Ui(u);S='link[rel="'+l+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),dE.has(S)||(dE.add(S),l={rel:l,crossOrigin:m,href:u},y.querySelector(S)===null&&(u=y.createElement("link"),Xa(u,"link",l),zr(u),y.head.appendChild(u)))}}function XV(l){Xu.D(l),hE("dns-prefetch",l,null)}function ZV(l,u){Xu.C(l,u),hE("preconnect",l,u)}function JV(l,u,m){Xu.L(l,u,m);var y=Ym;if(y&&l&&u){var S='link[rel="preload"][as="'+Ui(u)+'"]';u==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+Ui(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+Ui(m.imageSizes)+'"]')):S+='[href="'+Ui(l)+'"]';var C=S;switch(u){case"style":C=Km(l);break;case"script":C=Xm(l)}_l.has(C)||(l=p({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:l,as:u},m),_l.set(C,l),y.querySelector(S)!==null||u==="style"&&y.querySelector(Wg(C))||u==="script"&&y.querySelector(Gg(C))||(u=y.createElement("link"),Xa(u,"link",l),zr(u),y.head.appendChild(u)))}}function QV(l,u){Xu.m(l,u);var m=Ym;if(m&&l){var y=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+Ui(y)+'"][href="'+Ui(l)+'"]',C=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=Xm(l)}if(!_l.has(C)&&(l=p({rel:"modulepreload",href:l},u),_l.set(C,l),m.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Gg(C)))return}y=m.createElement("link"),Xa(y,"link",l),zr(y),m.head.appendChild(y)}}}function eq(l,u,m){Xu.S(l,u,m);var y=Ym;if(y&&l){var S=cs(y).hoistableStyles,C=Km(l);u=u||"default";var Z=S.get(C);if(!Z){var de={loading:0,preload:null};if(Z=y.querySelector(Wg(C)))de.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":u},m),(m=_l.get(C))&&Iw(l,m);var Ae=Z=y.createElement("link");zr(Ae),Xa(Ae,"link",l),Ae._p=new Promise(function(Ge,rt){Ae.onload=Ge,Ae.onerror=rt}),Ae.addEventListener("load",function(){de.loading|=1}),Ae.addEventListener("error",function(){de.loading|=2}),de.loading|=4,Tx(Z,u,y)}Z={type:"stylesheet",instance:Z,count:1,state:de},S.set(C,Z)}}}function tq(l,u){Xu.X(l,u);var m=Ym;if(m&&l){var y=cs(m).hoistableScripts,S=Xm(l),C=y.get(S);C||(C=m.querySelector(Gg(S)),C||(l=p({src:l,async:!0},u),(u=_l.get(S))&&Pw(l,u),C=m.createElement("script"),zr(C),Xa(C,"link",l),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(S,C))}}function nq(l,u){Xu.M(l,u);var m=Ym;if(m&&l){var y=cs(m).hoistableScripts,S=Xm(l),C=y.get(S);C||(C=m.querySelector(Gg(S)),C||(l=p({src:l,async:!0,type:"module"},u),(u=_l.get(S))&&Pw(l,u),C=m.createElement("script"),zr(C),Xa(C,"link",l),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(S,C))}}function fE(l,u,m,y){var S=(S=xe.current)?Cx(S):null;if(!S)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=Km(m.href),m=cs(S).hoistableStyles,y=m.get(u),y||(y={type:"style",instance:null,count:0,state:null},m.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){l=Km(m.href);var C=cs(S).hoistableStyles,Z=C.get(l);if(Z||(S=S.ownerDocument||S,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(l,Z),(C=S.querySelector(Wg(l)))&&!C._p&&(Z.instance=C,Z.state.loading=5),_l.has(l)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},_l.set(l,m),C||rq(S,l,m,Z.state))),u&&y===null)throw Error(r(528,""));return Z}if(u&&y!==null)throw Error(r(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Xm(m),m=cs(S).hoistableScripts,y=m.get(u),y||(y={type:"script",instance:null,count:0,state:null},m.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function Km(l){return'href="'+Ui(l)+'"'}function Wg(l){return'link[rel="stylesheet"]['+l+"]"}function mE(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function rq(l,u,m,y){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=l.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Xa(u,"link",m),zr(u),l.head.appendChild(u))}function Xm(l){return'[src="'+Ui(l)+'"]'}function Gg(l){return"script[async]"+l}function pE(l,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var y=l.querySelector('style[data-href~="'+Ui(m.href)+'"]');if(y)return u.instance=y,zr(y),y;var S=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(l.ownerDocument||l).createElement("style"),zr(y),Xa(y,"style",S),Tx(y,m.precedence,l),u.instance=y;case"stylesheet":S=Km(m.href);var C=l.querySelector(Wg(S));if(C)return u.state.loading|=4,u.instance=C,zr(C),C;y=mE(m),(S=_l.get(S))&&Iw(y,S),C=(l.ownerDocument||l).createElement("link"),zr(C);var Z=C;return Z._p=new Promise(function(de,Ae){Z.onload=de,Z.onerror=Ae}),Xa(C,"link",y),u.state.loading|=4,Tx(C,m.precedence,l),u.instance=C;case"script":return C=Xm(m.src),(S=l.querySelector(Gg(C)))?(u.instance=S,zr(S),S):(y=m,(S=_l.get(C))&&(y=p({},m),Pw(y,S)),l=l.ownerDocument||l,S=l.createElement("script"),zr(S),Xa(S,"link",y),l.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,Tx(y,m.precedence,l));return u.instance}function Tx(l,u,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,C=S,Z=0;Z<y.length;Z++){var de=y[Z];if(de.dataset.precedence===u)C=de;else if(C!==S)break}C?C.parentNode.insertBefore(l,C.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(l,u.firstChild))}function Iw(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Pw(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var kx=null;function gE(l,u,m){if(kx===null){var y=new Map,S=kx=new Map;S.set(m,y)}else S=kx,y=S.get(m),y||(y=new Map,S.set(m,y));if(y.has(l))return y;for(y.set(l,null),m=m.getElementsByTagName(l),S=0;S<m.length;S++){var C=m[S];if(!(C[xa]||C[Qn]||l==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=C.getAttribute(u)||"";Z=l+Z;var de=y.get(Z);de?de.push(C):y.set(Z,[C])}}return y}function yE(l,u,m){l=l.ownerDocument||l,l.head.insertBefore(m,u==="title"?l.querySelector("head > title"):null)}function iq(l,u,m){if(m===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function xE(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function aq(l,u,m,y){if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var S=Km(y.href),C=u.querySelector(Wg(S));if(C){u=C._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=Ix.bind(l),u.then(l,l)),m.state.loading|=4,m.instance=C,zr(C);return}C=u.ownerDocument||u,y=mE(y),(S=_l.get(S))&&Iw(y,S),C=C.createElement("link"),zr(C);var Z=C;Z._p=new Promise(function(de,Ae){Z.onload=de,Z.onerror=Ae}),Xa(C,"link",y),m.instance=C}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(m,u),(u=m.state.preload)&&(m.state.loading&3)===0&&(l.count++,m=Ix.bind(l),u.addEventListener("load",m),u.addEventListener("error",m))}}var Rw=0;function sq(l,u){return l.stylesheets&&l.count===0&&Rx(l,l.stylesheets),0<l.count||0<l.imgCount?function(m){var y=setTimeout(function(){if(l.stylesheets&&Rx(l,l.stylesheets),l.unsuspend){var C=l.unsuspend;l.unsuspend=null,C()}},6e4+u);0<l.imgBytes&&Rw===0&&(Rw=62500*UV());var S=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Rx(l,l.stylesheets),l.unsuspend)){var C=l.unsuspend;l.unsuspend=null,C()}},(l.imgBytes>Rw?50:800)+u);return l.unsuspend=m,function(){l.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function Ix(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rx(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Px=null;function Rx(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Px=new Map,u.forEach(oq,l),Px=null,Ix.call(l))}function oq(l,u){if(!(u.state.loading&4)){var m=Px.get(l);if(m)var y=m.get(null);else{m=new Map,Px.set(l,m);for(var S=l.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<S.length;C++){var Z=S[C];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(m.set(Z.dataset.precedence,Z),y=Z)}y&&m.set(null,y)}S=u.instance,Z=S.getAttribute("data-precedence"),C=m.get(Z)||y,C===y&&m.set(null,S),m.set(Z,S),this.count++,y=Ix.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),C?C.parentNode.insertBefore(S,C.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(S,l.firstChild)),u.state.loading|=4}}var Yg={$$typeof:T,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function lq(l,u,m,y,S,C,Z,de,Ae){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_n(0),this.hiddenUpdates=_n(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=C,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function vE(l,u,m,y,S,C,Z,de,Ae,Ge,rt,ft){return l=new lq(l,u,m,Z,Ae,Ge,rt,ft,de),u=1,C===!0&&(u|=24),C=Aa(3,null,null,u),l.current=C,C.stateNode=l,u=Gd(),u.refCount++,l.pooledCache=u,u.refCount++,C.memoizedState={element:y,isDehydrated:m,cache:u},Nt(C),l}function bE(l){return l?(l=aa,l):aa}function wE(l,u,m,y,S,C){S=bE(S),y.context===null?y.context=S:y.pendingContext=S,y=an(u),y.payload={element:m},C=C===void 0?null:C,C!==null&&(y.callback=C),m=wn(l,y,u),m!==null&&(wo(m,l,u),ar(m,l,u))}function _E(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Ow(l,u){_E(l,u),(l=l.alternate)&&_E(l,u)}function NE(l){if(l.tag===13||l.tag===31){var u=nc(l,67108864);u!==null&&wo(u,l,67108864),Ow(l,67108864)}}function jE(l){if(l.tag===13||l.tag===31){var u=qo();u=Jn(u);var m=nc(l,u);m!==null&&wo(m,l,u),Ow(l,u)}}var Ox=!0;function cq(l,u,m,y){var S=G.T;G.T=null;var C=W.p;try{W.p=2,Dw(l,u,m,y)}finally{W.p=C,G.T=S}}function uq(l,u,m,y){var S=G.T;G.T=null;var C=W.p;try{W.p=8,Dw(l,u,m,y)}finally{W.p=C,G.T=S}}function Dw(l,u,m,y){if(Ox){var S=Lw(y);if(S===null)ww(l,u,y,Dx,m),AE(l,y);else if(hq(S,l,u,m,y))y.stopPropagation();else if(AE(l,y),u&4&&-1<dq.indexOf(l)){for(;S!==null;){var C=ea(S);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var Z=Ht(C.pendingLanes);if(Z!==0){var de=C;for(de.pendingLanes|=2,de.entangledLanes|=2;Z;){var Ae=1<<31-$t(Z);de.entanglements[1]|=Ae,Z&=~Ae}Zc(C),(or&6)===0&&(yx=at()+500,Vg(0))}}break;case 31:case 13:de=nc(C,2),de!==null&&wo(de,C,2),vx(),Ow(C,2)}if(C=Lw(y),C===null&&ww(l,u,y,Dx,m),C===S)break;S=C}S!==null&&y.stopPropagation()}else ww(l,u,y,null,m)}}function Lw(l){return l=wa(l),Mw(l)}var Dx=null;function Mw(l){if(Dx=null,l=Fa(l),l!==null){var u=a(l);if(u===null)l=null;else{var m=u.tag;if(m===13){if(l=o(u),l!==null)return l;l=null}else if(m===31){if(l=c(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return Dx=l,null}function SE(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xe()){case ht:return 2;case Tt:return 8;case bt:case _e:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var zw=!1,sh=null,oh=null,lh=null,Kg=new Map,Xg=new Map,ch=[],dq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AE(l,u){switch(l){case"focusin":case"focusout":sh=null;break;case"dragenter":case"dragleave":oh=null;break;case"mouseover":case"mouseout":lh=null;break;case"pointerover":case"pointerout":Kg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xg.delete(u.pointerId)}}function Zg(l,u,m,y,S,C){return l===null||l.nativeEvent!==C?(l={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:C,targetContainers:[S]},u!==null&&(u=ea(u),u!==null&&NE(u)),l):(l.eventSystemFlags|=y,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function hq(l,u,m,y,S){switch(u){case"focusin":return sh=Zg(sh,l,u,m,y,S),!0;case"dragenter":return oh=Zg(oh,l,u,m,y,S),!0;case"mouseover":return lh=Zg(lh,l,u,m,y,S),!0;case"pointerover":var C=S.pointerId;return Kg.set(C,Zg(Kg.get(C)||null,l,u,m,y,S)),!0;case"gotpointercapture":return C=S.pointerId,Xg.set(C,Zg(Xg.get(C)||null,l,u,m,y,S)),!0}return!1}function EE(l){var u=Fa(l.target);if(u!==null){var m=a(u);if(m!==null){if(u=m.tag,u===13){if(u=o(m),u!==null){l.blockedOn=u,Qi(l.priority,function(){jE(m)});return}}else if(u===31){if(u=c(m),u!==null){l.blockedOn=u,Qi(l.priority,function(){jE(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Lx(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=Lw(l.nativeEvent);if(m===null){m=l.nativeEvent;var y=new m.constructor(m.type,m);Do=y,m.target.dispatchEvent(y),Do=null}else return u=ea(m),u!==null&&NE(u),l.blockedOn=m,!1;u.shift()}return!0}function CE(l,u,m){Lx(l)&&m.delete(u)}function fq(){zw=!1,sh!==null&&Lx(sh)&&(sh=null),oh!==null&&Lx(oh)&&(oh=null),lh!==null&&Lx(lh)&&(lh=null),Kg.forEach(CE),Xg.forEach(CE)}function Mx(l,u){l.blockedOn===u&&(l.blockedOn=null,zw||(zw=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fq)))}var zx=null;function TE(l){zx!==l&&(zx=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zx===l&&(zx=null);for(var u=0;u<l.length;u+=3){var m=l[u],y=l[u+1],S=l[u+2];if(typeof y!="function"){if(Mw(y||m)===null)continue;break}var C=ea(m);C!==null&&(l.splice(u,3),u-=3,L2(C,{pending:!0,data:S,method:m.method,action:y},y,S))}}))}function Zm(l){function u(Ae){return Mx(Ae,l)}sh!==null&&Mx(sh,l),oh!==null&&Mx(oh,l),lh!==null&&Mx(lh,l),Kg.forEach(u),Xg.forEach(u);for(var m=0;m<ch.length;m++){var y=ch[m];y.blockedOn===l&&(y.blockedOn=null)}for(;0<ch.length&&(m=ch[0],m.blockedOn===null);)EE(m),m.blockedOn===null&&ch.shift();if(m=(l.ownerDocument||l).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var S=m[y],C=m[y+1],Z=S[hr]||null;if(typeof C=="function")Z||TE(m);else if(Z){var de=null;if(C&&C.hasAttribute("formAction")){if(S=C,Z=C[hr]||null)de=Z.formAction;else if(Mw(S)!==null)continue}else de=Z.action;typeof de=="function"?m[y+1]=de:(m.splice(y,3),y-=3),TE(m)}}}function kE(){function l(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(Z){return S=Z})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),y||setTimeout(m,20)}function m(){if(!y&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(m,100),function(){y=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function Fw(l){this._internalRoot=l}Fx.prototype.render=Fw.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));var m=u.current,y=qo();wE(m,y,l,u,null,null)},Fx.prototype.unmount=Fw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;wE(l.current,2,null,l,null,null),vx(),u[yi]=null}};function Fx(l){this._internalRoot=l}Fx.prototype.unstable_scheduleHydration=function(l){if(l){var u=gi();l={blockedOn:null,target:l,priority:u};for(var m=0;m<ch.length&&u!==0&&u<ch[m].priority;m++);ch.splice(m,0,l),m===0&&EE(l)}};var IE=e.version;if(IE!=="19.2.0")throw Error(r(527,IE,"19.2.0"));W.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=h(u),l=l!==null?f(l):null,l=l===null?null:l.stateNode,l};var mq={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ux=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ux.isDisabled&&Ux.supportsFiber)try{ut=Ux.inject(mq),st=Ux}catch{}}return Qg.createRoot=function(l,u){if(!i(l))throw Error(r(299));var m=!1,y="",S=z3,C=F3,Z=U3;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(Z=u.onRecoverableError)),u=vE(l,1,!1,null,null,m,y,null,S,C,Z,kE),l[yi]=u.current,bw(l),new Fw(u)},Qg.hydrateRoot=function(l,u,m){if(!i(l))throw Error(r(299));var y=!1,S="",C=z3,Z=F3,de=U3,Ae=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(C=m.onUncaughtError),m.onCaughtError!==void 0&&(Z=m.onCaughtError),m.onRecoverableError!==void 0&&(de=m.onRecoverableError),m.formState!==void 0&&(Ae=m.formState)),u=vE(l,1,!0,u,m??null,y,S,Ae,C,Z,de,kE),u.context=bE(null),m=u.current,y=qo(),y=Jn(y),S=an(y),S.callback=null,wn(m,S,y),m=y,u.current.lanes=m,jt(u,m),Zc(u),l[yi]=u.current,bw(l),new Fx(u)},Qg.version="19.2.0",Qg}var BE;function Sq(){if(BE)return Vw.exports;BE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Vw.exports=jq(),Vw.exports}var Aq=Sq();const Eq=wu(Aq);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var VE="popstate";function Cq(t={}){function e(r,i){let{pathname:a,search:o,hash:c}=r.location;return EN("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:V0(i)}return kq(e,n,null,t)}function ri(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ol(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Tq(){return Math.random().toString(36).substring(2,10)}function qE(t,e){return{usr:t.state,key:t.key,idx:e}}function EN(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Yp(e):e,state:n,key:e&&e.key||r||Tq()}}function V0({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function kq(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c="POP",d=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let w=f(),j=w==null?null:w-h;h=w,d&&d({action:c,location:v.location,delta:j})}function x(w,j){c="PUSH";let E=EN(v.location,w,j);h=f()+1;let T=qE(E,h),D=v.createHref(E);try{o.pushState(T,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(D)}a&&d&&d({action:c,location:v.location,delta:1})}function g(w,j){c="REPLACE";let E=EN(v.location,w,j);h=f();let T=qE(E,h),D=v.createHref(E);o.replaceState(T,"",D),a&&d&&d({action:c,location:v.location,delta:0})}function b(w){return Iq(w)}let v={get action(){return c},get location(){return t(i,o)},listen(w){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(VE,p),d=w,()=>{i.removeEventListener(VE,p),d=null}},createHref(w){return e(i,w)},createURL:b,encodeLocation(w){let j=b(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:g,go(w){return o.go(w)}};return v}function Iq(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ri(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:V0(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function dO(t,e,n="/"){return Pq(t,e,n,!1)}function Pq(t,e,n,r){let i=typeof e=="string"?Yp(e):e,a=pd(i.pathname||"/",n);if(a==null)return null;let o=hO(t);Rq(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=$q(a);c=Vq(o[d],h,r)}return c}function hO(t,e=[],n=[],r="",i=!1){let a=(o,c,d=i,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&d)return;ri(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let p=cd([r,f.relativePath]),x=n.concat(f);o.children&&o.children.length>0&&(ri(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),hO(o.children,e,x,p,d)),!(o.path==null&&!o.index)&&e.push({path:p,score:Uq(p,o.index),routesMeta:x})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))a(o,c);else for(let d of fO(o.path))a(o,c,!0,d)}),e}function fO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=fO(r.join("/")),c=[];return c.push(...o.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function Rq(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Bq(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Oq=/^:[\w-]+$/,Dq=3,Lq=2,Mq=1,zq=10,Fq=-2,$E=t=>t==="*";function Uq(t,e){let n=t.split("/"),r=n.length;return n.some($E)&&(r+=Fq),e&&(r+=Lq),n.filter(i=>!$E(i)).reduce((i,a)=>i+(Oq.test(a)?Dq:a===""?Mq:zq),r)}function Bq(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Vq(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",o=[];for(let c=0;c<r.length;++c){let d=r[c],h=c===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",p=Yv({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),x=d.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Yv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:cd([a,p.pathname]),pathnameBase:Yq(cd([a,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(a=cd([a,p.pathnameBase]))}return o}function Yv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=qq(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:p},x)=>{if(f==="*"){let b=c[x]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const g=c[x];return p&&!g?h[f]=void 0:h[f]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:o,pattern:t}}function qq(t,e=!1,n=!0){Ol(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(r.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $q(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ol(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function pd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Hq(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yp(t):t;return{pathname:n?n.startsWith("/")?n:Wq(n,e):e,search:Kq(r),hash:Xq(i)}}function Wq(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ww(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cS(t){let e=Gq(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function uS(t,e,n,r=!1){let i;typeof t=="string"?i=Yp(t):(i={...t},ri(!i.pathname||!i.pathname.includes("?"),Ww("?","pathname","search",i)),ri(!i.pathname||!i.pathname.includes("#"),Ww("#","pathname","hash",i)),ri(!i.search||!i.search.includes("#"),Ww("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;i.pathname=x.join("/")}c=p>=0?e[p]:"/"}let d=Hq(i,c),h=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var cd=t=>t.join("/").replace(/\/\/+/g,"/"),Yq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Xq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var mO=["POST","PUT","PATCH","DELETE"];new Set(mO);var Jq=["GET",...mO];new Set(Jq);var Kp=V.createContext(null);Kp.displayName="DataRouter";var fb=V.createContext(null);fb.displayName="DataRouterState";V.createContext(!1);var pO=V.createContext({isTransitioning:!1});pO.displayName="ViewTransition";var Qq=V.createContext(new Map);Qq.displayName="Fetchers";var e$=V.createContext(null);e$.displayName="Await";var Sc=V.createContext(null);Sc.displayName="Navigation";var xy=V.createContext(null);xy.displayName="Location";var Ac=V.createContext({outlet:null,matches:[],isDataRoute:!1});Ac.displayName="Route";var dS=V.createContext(null);dS.displayName="RouteError";function t$(t,{relative:e}={}){ri(Xp(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Sc),{hash:i,pathname:a,search:o}=vy(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:cd([n,a])),r.createHref({pathname:c,search:o,hash:i})}function Xp(){return V.useContext(xy)!=null}function _u(){return ri(Xp(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(xy).location}var gO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yO(t){V.useContext(Sc).static||V.useLayoutEffect(t)}function ii(){let{isDataRoute:t}=V.useContext(Ac);return t?p$():n$()}function n$(){ri(Xp(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(Kp),{basename:e,navigator:n}=V.useContext(Sc),{matches:r}=V.useContext(Ac),{pathname:i}=_u(),a=JSON.stringify(cS(r)),o=V.useRef(!1);return yO(()=>{o.current=!0}),V.useCallback((d,h={})=>{if(Ol(o.current,gO),!o.current)return;if(typeof d=="number"){n.go(d);return}let f=uS(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:cd([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,a,i,t])}V.createContext(null);function r$(){let{matches:t}=V.useContext(Ac),e=t[t.length-1];return e?e.params:{}}function vy(t,{relative:e}={}){let{matches:n}=V.useContext(Ac),{pathname:r}=_u(),i=JSON.stringify(cS(n));return V.useMemo(()=>uS(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function i$(t,e){return xO(t,e)}function xO(t,e,n,r,i){ri(Xp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=V.useContext(Sc),{matches:o}=V.useContext(Ac),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let E=p&&p.path||"";vO(h,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let x=_u(),g;if(e){let E=typeof e=="string"?Yp(e):e;ri(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=x;let b=g.pathname||"/",v=b;if(f!=="/"){let E=f.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let w=dO(t,{pathname:v});Ol(p||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Ol(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=c$(w&&w.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:cd([f,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:cd([f,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),o,n,r,i);return e&&j?V.createElement(xy.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},j):j}function a$(){let t=m$(),e=Zq(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:i},n):null,o)}var s$=V.createElement(a$,null),o$=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(Ac.Provider,{value:this.props.routeContext},V.createElement(dS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function l$({routeContext:t,match:e,children:n}){let r=V.useContext(Kp);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(Ac.Provider,{value:t},n)}function c$(t,e=[],n=null,r=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=n?.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);ri(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:x}=n,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let x,g=!1,b=null,v=null;n&&(x=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||s$,c&&(d<0&&p===0?(vO("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):d===p&&(g=!0,v=f.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,p+1)),j=()=>{let E;return x?E=b:g?E=v:f.route.Component?E=V.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,V.createElement(l$,{match:f,routeContext:{outlet:h,matches:w,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?V.createElement(o$,{location:n.location,revalidation:n.revalidation,component:b,error:x,children:j(),routeContext:{outlet:null,matches:w,isDataRoute:!0},unstable_onError:r}):j()},null)}function hS(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u$(t){let e=V.useContext(Kp);return ri(e,hS(t)),e}function d$(t){let e=V.useContext(fb);return ri(e,hS(t)),e}function h$(t){let e=V.useContext(Ac);return ri(e,hS(t)),e}function fS(t){let e=h$(t),n=e.matches[e.matches.length-1];return ri(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function f$(){return fS("useRouteId")}function m$(){let t=V.useContext(dS),e=d$("useRouteError"),n=fS("useRouteError");return t!==void 0?t:e.errors?.[n]}function p$(){let{router:t}=u$("useNavigate"),e=fS("useNavigate"),n=V.useRef(!1);return yO(()=>{n.current=!0}),V.useCallback(async(i,a={})=>{Ol(n.current,gO),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var HE={};function vO(t,e,n){!e&&!HE[t]&&(HE[t]=!0,Ol(!1,n))}V.memo(g$);function g$({routes:t,future:e,state:n,unstable_onError:r}){return xO(t,void 0,n,r,e)}function mS({to:t,replace:e,state:n,relative:r}){ri(Xp(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=V.useContext(Sc);Ol(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=V.useContext(Ac),{pathname:o}=_u(),c=ii(),d=uS(t,cS(a),o,r==="path"),h=JSON.stringify(d);return V.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:r})},[c,h,r,e,n]),null}function ti(t){ri(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function y$({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){ri(!Xp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:o,navigator:i,static:a,future:{}}),[o,i,a]);typeof n=="string"&&(n=Yp(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=n,g=V.useMemo(()=>{let b=pd(d,o);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:x},navigationType:r}},[o,d,h,f,p,x,r]);return Ol(g!=null,`<Router basename="${o}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:V.createElement(Sc.Provider,{value:c},V.createElement(xy.Provider,{children:e,value:g}))}function x$({children:t,location:e}){return i$(CN(t),e)}function CN(t,e=[]){let n=[];return V.Children.forEach(t,(r,i)=>{if(!V.isValidElement(r))return;let a=[...e,i];if(r.type===V.Fragment){n.push.apply(n,CN(r.props.children,a));return}ri(r.type===ti,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ri(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=CN(r.props.children,a)),n.push(o)}),n}var Sv="get",Av="application/x-www-form-urlencoded";function mb(t){return t!=null&&typeof t.tagName=="string"}function v$(t){return mb(t)&&t.tagName.toLowerCase()==="button"}function b$(t){return mb(t)&&t.tagName.toLowerCase()==="form"}function w$(t){return mb(t)&&t.tagName.toLowerCase()==="input"}function _$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function N$(t,e){return t.button===0&&(!e||e==="_self")&&!_$(t)}function TN(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function j$(t,e){let n=TN(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}var Vx=null;function S$(){if(Vx===null)try{new FormData(document.createElement("form"),0),Vx=!1}catch{Vx=!0}return Vx}var A$=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gw(t){return t!=null&&!A$.has(t)?(Ol(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Av}"`),null):t}function E$(t,e){let n,r,i,a,o;if(b$(t)){let c=t.getAttribute("action");r=c?pd(c,e):null,n=t.getAttribute("method")||Sv,i=Gw(t.getAttribute("enctype"))||Av,a=new FormData(t)}else if(v$(t)||w$(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(r=d?pd(d,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||Sv,i=Gw(t.getAttribute("formenctype"))||Gw(c.getAttribute("enctype"))||Av,a=new FormData(c,t),!S$()){let{name:h,type:f,value:p}=t;if(f==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,p)}}else{if(mb(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Sv,r=null,i=Av,o=t}return a&&i==="text/plain"&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function pS(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C$(t,e,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&pd(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function T$(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function k$(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function I$(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let o=await T$(a,n);return o.links?o.links():[]}return[]}));return D$(r.flat(1).filter(k$).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function WE(t,e,n,r,i,a){let o=(d,h)=>n[h]?d.route.id!==n[h].route.id:!0,c=(d,h)=>n[h].pathname!==d.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{let f=r.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function P$(t,e,{includeHydrateFallback:n}={}){return R$(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function R$(t){return[...new Set(t)]}function O$(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function D$(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(O$(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function bO(){let t=V.useContext(Kp);return pS(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function L$(){let t=V.useContext(fb);return pS(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var gS=V.createContext(void 0);gS.displayName="FrameworkContext";function wO(){let t=V.useContext(gS);return pS(t,"You must render this element inside a <HydratedRouter> element"),t}function M$(t,e){let n=V.useContext(gS),[r,i]=V.useState(!1),[a,o]=V.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,x=V.useRef(null);V.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let v=j=>{j.forEach(E=>{o(E.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return x.current&&w.observe(x.current),()=>{w.disconnect()}}},[t]),V.useEffect(()=>{if(r){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[r]);let g=()=>{i(!0)},b=()=>{i(!1),o(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:e0(c,g),onBlur:e0(d,b),onMouseEnter:e0(h,g),onMouseLeave:e0(f,b),onTouchStart:e0(p,g)}]:[!1,x,{}]}function e0(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function z$({page:t,...e}){let{router:n}=bO(),r=V.useMemo(()=>dO(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?V.createElement(U$,{page:t,matches:r,...e}):null}function F$(t){let{manifest:e,routeModules:n}=wO(),[r,i]=V.useState([]);return V.useEffect(()=>{let a=!1;return I$(t,e,n).then(o=>{a||i(o)}),()=>{a=!0}},[t,e,n]),r}function U$({page:t,matches:e,...n}){let r=_u(),{manifest:i,routeModules:a}=wO(),{basename:o}=bO(),{loaderData:c,matches:d}=L$(),h=V.useMemo(()=>WE(t,e,d,i,r,"data"),[t,e,d,i,r]),f=V.useMemo(()=>WE(t,e,d,i,r,"assets"),[t,e,d,i,r]),p=V.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,v=!1;if(e.forEach(j=>{let E=i.routes[j.route.id];!E||!E.hasLoader||(!h.some(T=>T.route.id===j.route.id)&&j.route.id in c&&a[j.route.id]?.shouldRevalidate||E.hasClientLoader?v=!0:b.add(j.route.id))}),b.size===0)return[];let w=C$(t,o,"data");return v&&b.size>0&&w.searchParams.set("_routes",e.filter(j=>b.has(j.route.id)).map(j=>j.route.id).join(",")),[w.pathname+w.search]},[o,c,r,i,h,e,t,a]),x=V.useMemo(()=>P$(f,i),[f,i]),g=F$(f);return V.createElement(V.Fragment,null,p.map(b=>V.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),x.map(b=>V.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),g.map(({key:b,link:v})=>V.createElement("link",{key:b,nonce:n.nonce,...v})))}function B$(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _O=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_O&&(window.__reactRouterVersion="7.9.4")}catch{}function V$({basename:t,children:e,window:n}){let r=V.useRef();r.current==null&&(r.current=Cq({window:n,v5Compat:!0}));let i=r.current,[a,o]=V.useState({action:i.action,location:i.location}),c=V.useCallback(d=>{V.startTransition(()=>o(d))},[o]);return V.useLayoutEffect(()=>i.listen(c),[i,c]),V.createElement(y$,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var NO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yS=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:o,state:c,target:d,to:h,preventScrollReset:f,viewTransition:p,...x},g){let{basename:b}=V.useContext(Sc),v=typeof h=="string"&&NO.test(h),w,j=!1;if(typeof h=="string"&&v&&(w=h,_O))try{let L=new URL(window.location.href),H=h.startsWith("//")?new URL(L.protocol+h):new URL(h),P=pd(H.pathname,b);H.origin===L.origin&&P!=null?h=P+H.search+H.hash:j=!0}catch{Ol(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=t$(h,{relative:i}),[T,D,M]=M$(r,x),J=W$(h,{replace:o,state:c,target:d,preventScrollReset:f,relative:i,viewTransition:p});function F(L){e&&e(L),L.defaultPrevented||J(L)}let z=V.createElement("a",{...x,...M,href:w||E,onClick:j||a?e:F,ref:B$(g,D),target:d,"data-discover":!v&&n==="render"?"true":void 0});return T&&!v?V.createElement(V.Fragment,null,z,V.createElement(z$,{page:E})):z});yS.displayName="Link";var q$=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:o,viewTransition:c,children:d,...h},f){let p=vy(o,{relative:h.relative}),x=_u(),g=V.useContext(fb),{navigator:b,basename:v}=V.useContext(Sc),w=g!=null&&J$(p)&&c===!0,j=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,E=x.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(E=E.toLowerCase(),T=T?T.toLowerCase():null,j=j.toLowerCase()),T&&v&&(T=pd(T,v)||T);const D=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let M=E===j||!i&&E.startsWith(j)&&E.charAt(D)==="/",J=T!=null&&(T===j||!i&&T.startsWith(j)&&T.charAt(j.length)==="/"),F={isActive:M,isPending:J,isTransitioning:w},z=M?e:void 0,L;typeof r=="function"?L=r(F):L=[r,M?"active":null,J?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof a=="function"?a(F):a;return V.createElement(yS,{...h,"aria-current":z,className:L,ref:f,style:H,to:o,viewTransition:c},typeof d=="function"?d(F):d)});q$.displayName="NavLink";var $$=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Sv,action:c,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:p,...x},g)=>{let b=X$(),v=Z$(c,{relative:h}),w=o.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&NO.test(c),E=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,M=D?.getAttribute("formmethod")||o;b(D||T.currentTarget,{fetcherKey:e,method:M,navigate:n,replace:i,state:a,relative:h,preventScrollReset:f,viewTransition:p})};return V.createElement("form",{ref:g,method:w,action:v,onSubmit:r?d:E,...x,"data-discover":!j&&t==="render"?"true":void 0})});$$.displayName="Form";function H$(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jO(t){let e=V.useContext(Kp);return ri(e,H$(t)),e}function W$(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o}={}){let c=ii(),d=_u(),h=vy(t,{relative:a});return V.useCallback(f=>{if(N$(f,e)){f.preventDefault();let p=n!==void 0?n:V0(d)===V0(h);c(t,{replace:p,state:r,preventScrollReset:i,relative:a,viewTransition:o})}},[d,c,h,n,r,e,t,i,a,o])}function G$(t){Ol(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(TN(t)),n=V.useRef(!1),r=_u(),i=V.useMemo(()=>j$(r.search,n.current?null:e.current),[r.search]),a=ii(),o=V.useCallback((c,d)=>{const h=TN(typeof c=="function"?c(new URLSearchParams(i)):c);n.current=!0,a("?"+h,d)},[a,i]);return[i,o]}var Y$=0,K$=()=>`__${String(++Y$)}__`;function X$(){let{router:t}=jO("useSubmit"),{basename:e}=V.useContext(Sc),n=f$();return V.useCallback(async(r,i={})=>{let{action:a,method:o,encType:c,formData:d,body:h}=E$(r,e);if(i.navigate===!1){let f=i.fetcherKey||K$();await t.fetch(f,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||o,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function Z$(t,{relative:e}={}){let{basename:n}=V.useContext(Sc),r=V.useContext(Ac);ri(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...vy(t||".",{relative:e})},o=_u();if(t==null){a.search=o.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(f=>f==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:cd([n,a.pathname])),V0(a)}function J$(t,{relative:e}={}){let n=V.useContext(pO);ri(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jO("useViewTransitionState"),i=vy(t,{relative:e});if(!n.isTransitioning)return!1;let a=pd(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=pd(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Yv(i.pathname,o)!=null||Yv(i.pathname,a)!=null}var Q$=uO();const eH=()=>{};var GE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],o=t[n++],c=t[n++],d=((i&7)<<18|(a&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const a=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return e.join("")},AO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],o=i+1<t.length,c=o?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,f=a>>2,p=(a&3)<<4|c>>4;let x=(c&15)<<2|h>>6,g=h&63;d||(g=64,o||(x=64)),r.push(n[f],n[p],n[x],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||p==null)throw new nH;const x=a<<2|c>>4;if(r.push(x),h!==64){const g=c<<4&240|h>>2;if(r.push(g),p!==64){const b=h<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class nH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rH=function(t){const e=SO(t);return AO.encodeByteArray(e,!0)},Kv=function(t){return rH(t).replace(/\./g,"")},EO=function(t){try{return AO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=()=>iH().__FIREBASE_DEFAULTS__,sH=()=>{if(typeof process>"u"||typeof GE>"u")return;const t=GE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EO(t[1]);return e&&JSON.parse(e)},pb=()=>{try{return eH()||aH()||sH()||oH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},CO=t=>pb()?.emulatorHosts?.[t],xS=t=>{const e=CO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},TO=()=>pb()?.config,kO=t=>pb()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Kv(JSON.stringify(n)),Kv(JSON.stringify(o)),""].join(".")}const N0={};function cH(){const t={prod:[],emulator:[]};for(const e of Object.keys(N0))N0[e]?t.emulator.push(e):t.prod.push(e);return t}function uH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let YE=!1;function yb(t,e){if(typeof window>"u"||typeof document>"u"||!Nu(window.location.host)||N0[t]===e||N0[t]||YE)return;N0[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",a=cH().prod.length>0;function o(){const x=document.getElementById(r);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,g){x.setAttribute("width","24"),x.setAttribute("id",g),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{YE=!0,o()},x}function f(x,g){x.setAttribute("id",g),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function p(){const x=uH(r),g=n("text"),b=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),j=n("preprendIcon"),E=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const T=x.element;c(T),f(w,v);const D=h();d(E,j),T.append(E,b,w,D),document.body.appendChild(T)}a?(b.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cs())}function hH(){const t=pb()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pH(){const t=Cs();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gH(){return!hH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RO(){try{return typeof indexedDB=="object"}catch{return!1}}function OO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}function yH(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH="FirebaseError";class rl extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xH,Object.setPrototypeOf(this,rl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sm.prototype.create)}}class sm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],o=a?vH(a,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new rl(i,c,r)}}function vH(t,e){return t.replace(bH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const bH=/\{\$([^}]+)}/g;function wH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],o=e[i];if(KE(a)&&KE(o)){if(!Oh(a,o))return!1}else if(a!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function KE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function h0(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function f0(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _H(t,e){const n=new NH(t,e);return n.subscribe.bind(n)}class NH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yw),i.error===void 0&&(i.error=Yw),i.complete===void 0&&(i.complete=Yw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SH=1e3,AH=2,EH=14400*1e3,CH=.5;function XE(t,e=SH,n=AH){const r=e*Math.pow(n,t),i=Math.round(CH*r*(Math.random()-.5)*2);return Math.min(EH,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t){return t&&t._delegate?t._delegate:t}class tl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TH=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IH(e))try{this.getOrInitializeService({instanceIdentifier:xf})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=xf){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xf){return this.instances.has(e)}getOptions(e=xf){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xf){return this.component?this.component.multipleInstances?e:xf:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kH(t){return t===xf?void 0:t}function IH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(zn||(zn={}));const RH={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},OH=zn.INFO,DH={[zn.DEBUG]:"log",[zn.VERBOSE]:"log",[zn.INFO]:"info",[zn.WARN]:"warn",[zn.ERROR]:"error"},LH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=DH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xb{constructor(e){this.name=e,this._logLevel=OH,this._logHandler=LH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zn.DEBUG,...e),this._logHandler(this,zn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zn.VERBOSE,...e),this._logHandler(this,zn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zn.INFO,...e),this._logHandler(this,zn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zn.WARN,...e),this._logHandler(this,zn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zn.ERROR,...e),this._logHandler(this,zn.ERROR,...e)}}const MH=(t,e)=>e.some(n=>t instanceof n);let ZE,JE;function zH(){return ZE||(ZE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FH(){return JE||(JE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DO=new WeakMap,kN=new WeakMap,LO=new WeakMap,Kw=new WeakMap,vS=new WeakMap;function UH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",o)},a=()=>{n(Ch(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DO.set(n,t)}).catch(()=>{}),vS.set(e,t),e}function BH(t){if(kN.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",o),t.removeEventListener("abort",o)},a=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",o),t.addEventListener("abort",o)});kN.set(t,e)}let IN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||LO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ch(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VH(t){IN=t(IN)}function qH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xw(this),e,...n);return LO.set(r,e.sort?e.sort():[e]),Ch(r)}:FH().includes(t)?function(...e){return t.apply(Xw(this),e),Ch(DO.get(this))}:function(...e){return Ch(t.apply(Xw(this),e))}}function $H(t){return typeof t=="function"?qH(t):(t instanceof IDBTransaction&&BH(t),MH(t,zH())?new Proxy(t,IN):t)}function Ch(t){if(t instanceof IDBRequest)return UH(t);if(Kw.has(t))return Kw.get(t);const e=$H(t);return e!==t&&(Kw.set(t,e),vS.set(e,t)),e}const Xw=t=>vS.get(t);function MO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const o=indexedDB.open(t,e),c=Ch(o);return r&&o.addEventListener("upgradeneeded",d=>{r(Ch(o.result),d.oldVersion,d.newVersion,Ch(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const HH=["get","getKey","getAll","getAllKeys","count"],WH=["put","add","delete","clear"],Zw=new Map;function QE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zw.get(e))return Zw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=WH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||HH.includes(n)))return;const a=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let h=d.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[n](...c),i&&d.done]))[0]};return Zw.set(e,a),a}VH(t=>({...t,get:(e,n,r)=>QE(e,n)||t.get(e,n,r),has:(e,n)=>!!QE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YH(t){return t.getComponent()?.type==="VERSION"}const PN="@firebase/app",eC="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd=new xb("@firebase/app"),KH="@firebase/app-compat",XH="@firebase/analytics-compat",ZH="@firebase/analytics",JH="@firebase/app-check-compat",QH="@firebase/app-check",eW="@firebase/auth",tW="@firebase/auth-compat",nW="@firebase/database",rW="@firebase/data-connect",iW="@firebase/database-compat",aW="@firebase/functions",sW="@firebase/functions-compat",oW="@firebase/installations",lW="@firebase/installations-compat",cW="@firebase/messaging",uW="@firebase/messaging-compat",dW="@firebase/performance",hW="@firebase/performance-compat",fW="@firebase/remote-config",mW="@firebase/remote-config-compat",pW="@firebase/storage",gW="@firebase/storage-compat",yW="@firebase/firestore",xW="@firebase/ai",vW="@firebase/firestore-compat",bW="firebase",wW="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="[DEFAULT]",_W={[PN]:"fire-core",[KH]:"fire-core-compat",[ZH]:"fire-analytics",[XH]:"fire-analytics-compat",[QH]:"fire-app-check",[JH]:"fire-app-check-compat",[eW]:"fire-auth",[tW]:"fire-auth-compat",[nW]:"fire-rtdb",[rW]:"fire-data-connect",[iW]:"fire-rtdb-compat",[aW]:"fire-fn",[sW]:"fire-fn-compat",[oW]:"fire-iid",[lW]:"fire-iid-compat",[cW]:"fire-fcm",[uW]:"fire-fcm-compat",[dW]:"fire-perf",[hW]:"fire-perf-compat",[fW]:"fire-rc",[mW]:"fire-rc-compat",[pW]:"fire-gcs",[gW]:"fire-gcs-compat",[yW]:"fire-fst",[vW]:"fire-fst-compat",[xW]:"fire-vertex","fire-js":"fire-js",[bW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map,NW=new Map,ON=new Map;function tC(t,e){try{t.container.addComponent(e)}catch(n){gd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dl(t){const e=t.name;if(ON.has(e))return gd.debug(`There were multiple attempts to register component ${e}.`),!1;ON.set(e,t);for(const n of Xv.values())tC(n,t);for(const n of NW.values())tC(n,t);return!0}function Cd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function es(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Th=new sm("app","Firebase",jW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new tl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Th.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=wW;function zO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:RN,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Th.create("bad-app-name",{appName:String(i)});if(n||(n=TO()),!n)throw Th.create("no-options");const a=Xv.get(i);if(a){if(Oh(n,a.options)&&Oh(r,a.config))return a;throw Th.create("duplicate-app",{appName:i})}const o=new PH(i);for(const d of ON.values())o.addComponent(d);const c=new SW(n,r,o);return Xv.set(i,c),c}function by(t=RN){const e=Xv.get(t);if(!e&&t===RN&&TO())return zO();if(!e)throw Th.create("no-app",{appName:t});return e}function As(t,e,n){let r=_W[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gd.warn(o.join(" "));return}Dl(new tl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW="firebase-heartbeat-database",EW=1,q0="firebase-heartbeat-store";let Jw=null;function FO(){return Jw||(Jw=MO(AW,EW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(q0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Th.create("idb-open",{originalErrorMessage:t.message})})),Jw}async function CW(t){try{const n=(await FO()).transaction(q0),r=await n.objectStore(q0).get(UO(t));return await n.done,r}catch(e){if(e instanceof rl)gd.warn(e.message);else{const n=Th.create("idb-get",{originalErrorMessage:e?.message});gd.warn(n.message)}}}async function nC(t,e){try{const r=(await FO()).transaction(q0,"readwrite");await r.objectStore(q0).put(e,UO(t)),await r.done}catch(n){if(n instanceof rl)gd.warn(n.message);else{const r=Th.create("idb-set",{originalErrorMessage:n?.message});gd.warn(r.message)}}}function UO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=1024,kW=30;class IW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rC();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>kW){const i=OW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){gd.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rC(),{heartbeatsToSend:n,unsentEntries:r}=PW(this._heartbeatsCache.heartbeats),i=Kv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return gd.warn(e),""}}}function rC(){return new Date().toISOString().substring(0,10)}function PW(t,e=TW){const n=[];let r=t.slice();for(const i of t){const a=n.find(o=>o.agent===i.agent);if(a){if(a.dates.push(i.date),iC(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RO()?OO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CW(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return nC(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function iC(t){return Kv(JSON.stringify({version:2,heartbeats:t})).length}function OW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t){Dl(new tl("platform-logger",e=>new GH(e),"PRIVATE")),Dl(new tl("heartbeat",e=>new IW(e),"PRIVATE")),As(PN,eC,t),As(PN,eC,"esm2020"),As("fire-js","")}DW("");function BO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LW=BO,VO=new sm("auth","Firebase",BO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new xb("@firebase/auth");function MW(t,...e){Zv.logLevel<=zn.WARN&&Zv.warn(`Auth (${om}): ${t}`,...e)}function Ev(t,...e){Zv.logLevel<=zn.ERROR&&Zv.error(`Auth (${om}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,...e){throw wS(t,...e)}function Zs(t,...e){return wS(t,...e)}function bS(t,e,n){const r={...LW(),[e]:n};return new sm("auth","Firebase",r).create(e,{appName:t.name})}function ou(t){return bS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Co(t,"argument-error"),bS(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VO.create(t,...e)}function Ct(t,e,...n){if(!t)throw wS(e,...n)}function ru(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ev(e),new Error(e)}function yd(t,e){t||ru(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(){return typeof self<"u"&&self.location?.href||""}function $O(){return aC()==="http:"||aC()==="https:"}function aC(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($O()||PO()||"connection"in navigator)?navigator.onLine:!0}function FW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.shortDelay=e,this.longDelay=n,yd(n>e,"Short delay should be less than long delay!"),this.isMobile=dH()||mH()}get(){return zW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _S(t,e){yd(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ru("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ru("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ru("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VW=new wy(3e4,6e4);function Oa(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Da(t,e,n,r,i={}){return WO(t,i,async()=>{let a={},o={};r&&(e==="GET"?o=r:a={body:JSON.stringify(r)});const c=Zp({key:t.config.apiKey,...o}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return fH()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&Nu(t.emulatorConfig.host)&&(h.credentials="include"),HO.fetch()(await GO(t,t.config.apiHost,n,c),h)})}async function WO(t,e,n){t._canInitEmulator=!1;const r={...UW,...e};try{const i=new $W(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await a.json();if("needConfirmation"in o)throw m0(t,"account-exists-with-different-credential",o);if(a.ok&&!("errorMessage"in o))return o;{const c=a.ok?o.errorMessage:o.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw m0(t,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw m0(t,"email-already-in-use",o);if(d==="USER_DISABLED")throw m0(t,"user-disabled",o);const f=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw bS(t,f,h);Co(t,f)}}catch(i){if(i instanceof rl)throw i;Co(t,"network-request-failed",{message:String(i)})}}async function $h(t,e,n,r,i={}){const a=await Da(t,e,n,r,i);return"mfaPendingCredential"in a&&Co(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function GO(t,e,n,r){const i=`${e}${n}?${r}`,a=t,o=a.config.emulator?_S(t.config,i):`${t.config.apiScheme}://${i}`;return BW.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(o).toString():o}function qW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $W{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Zs(this.auth,"network-request-failed")),VW.get())})}}function m0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zs(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(t){return t!==void 0&&t.getResponse!==void 0}function oC(t){return t!==void 0&&t.enterprise!==void 0}class YO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t){return(await Da(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function KO(t,e){return Da(t,"GET","/v2/recaptchaConfig",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WW(t,e){return Da(t,"POST","/v1/accounts:delete",e)}async function Jv(t,e){return Da(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GW(t,e=!1){const n=Rn(t),r=await n.getIdToken(e),i=NS(r);Ct(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:j0(Qw(i.auth_time)),issuedAtTime:j0(Qw(i.iat)),expirationTime:j0(Qw(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Qw(t){return Number(t)*1e3}function NS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ev("JWT malformed, contained fewer than 3 sections"),null;try{const i=EO(n);return i?JSON.parse(i):(Ev("Failed to decode base64 JWT payload"),null)}catch(i){return Ev("Caught error parsing JWT payload as JSON",i?.toString()),null}}function lC(t){const e=NS(t);return Ct(e,"internal-error"),Ct(typeof e.exp<"u","internal-error"),Ct(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xd(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof rl&&YW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function YW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=j0(this.lastLoginAt),this.creationTime=j0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qv(t){const e=t.auth,n=await t.getIdToken(),r=await xd(t,Jv(e,{idToken:n}));Ct(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?XO(i.providerUserInfo):[],o=ZW(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!o?.length,h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new LN(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function XW(t){const e=Rn(t);await Qv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function XO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JW(t,e){const n=await WO(t,{},async()=>{const r=Zp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,o=await GO(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:r};return t.emulatorConfig&&Nu(t.emulatorConfig.host)&&(d.credentials="include"),HO.fetch()(o,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function QW(t,e){return Da(t,"POST","/v2/accounts:revokeToken",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ct(e.idToken,"internal-error"),Ct(typeof e.idToken<"u","internal-error"),Ct(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ct(e.length!==0,"internal-error");const n=lC(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await JW(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new mp;return r&&(Ct(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ct(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),a&&(Ct(typeof a=="number","internal-error",{appName:e}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mp,this.toJSON())}_performRefresh(){return ru("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(t,e){Ct(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xc{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new KW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new LN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await xd(this,this.stsTokenManager.getToken(this.auth,e));return Ct(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GW(this,e)}reload(){return XW(this)}_assign(e){this!==e&&(Ct(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Qv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(es(this.auth.app))return Promise.reject(ou(this.auth));const e=await this.getIdToken();return await xd(this,WW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,c=n.tenantId??void 0,d=n._redirectEventId??void 0,h=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:x,isAnonymous:g,providerData:b,stsTokenManager:v}=n;Ct(p&&v,e,"internal-error");const w=mp.fromJSON(this.name,v);Ct(typeof p=="string",e,"internal-error"),dh(r,e.name),dh(i,e.name),Ct(typeof x=="boolean",e,"internal-error"),Ct(typeof g=="boolean",e,"internal-error"),dh(a,e.name),dh(o,e.name),dh(c,e.name),dh(d,e.name),dh(h,e.name),dh(f,e.name);const j=new xc({uid:p,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:a,tenantId:c,stsTokenManager:w,createdAt:h,lastLoginAt:f});return b&&Array.isArray(b)&&(j.providerData=b.map(E=>({...E}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,n,r=!1){const i=new mp;i.updateFromServerResponse(n);const a=new xc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Qv(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ct(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?XO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!a?.length,c=new mp;c.updateFromIdToken(r);const d=new xc({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new LN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Map;function ad(t){yd(t instanceof Function,"Expected a class definition");let e=cC.get(t);return e?(yd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cC.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ZO.type="NONE";const uC=ZO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e,n){return`firebase:${t}:${e}:${n}`}class pp{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Cv(this.userKey,i.apiKey,a),this.fullPersistenceKey=Cv("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Jv(this.auth,{idToken:e}).catch(()=>{});return n?xc._fromGetAccountInfoResponse(this.auth,n,e):null}return xc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pp(ad(uC),e,r);const i=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||ad(uC);const o=Cv(r,e.config.apiKey,e.name);let c=null;for(const h of n)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const x=await Jv(e,{idToken:f}).catch(()=>{});if(!x)break;p=await xc._fromGetAccountInfoResponse(e,x,f)}else p=xc._fromJSON(e,f);h!==a&&(c=p),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new pp(a,e,r):(a=d[0],c&&await a._set(o,c.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(o)}catch{}})),new pp(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rD(e))return"Blackberry";if(iD(e))return"Webos";if(QO(e))return"Safari";if((e.includes("chrome/")||eD(e))&&!e.includes("edge/"))return"Chrome";if(nD(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function JO(t=Cs()){return/firefox\//i.test(t)}function QO(t=Cs()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eD(t=Cs()){return/crios\//i.test(t)}function tD(t=Cs()){return/iemobile/i.test(t)}function nD(t=Cs()){return/android/i.test(t)}function rD(t=Cs()){return/blackberry/i.test(t)}function iD(t=Cs()){return/webos/i.test(t)}function jS(t=Cs()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eG(t=Cs()){return jS(t)&&!!window.navigator?.standalone}function tG(){return pH()&&document.documentMode===10}function aD(t=Cs()){return jS(t)||nD(t)||iD(t)||rD(t)||/windows phone/i.test(t)||tD(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(t,e=[]){let n;switch(t){case"Browser":n=dC(Cs());break;case"Worker":n=`${dC(Cs())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${om}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((o,c)=>{try{const d=e(a);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rG(t,e={}){return Da(t,"GET","/v2/passwordPolicy",Oa(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=6;class aG{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iG,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hC(this),this.idTokenSubscription=new hC(this),this.beforeStateQueue=new nG(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ad(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await pp.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Jv(this,{idToken:e}),r=await xc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(es(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,o=r?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&c?.user&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Qv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=FW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(es(this.app))return Promise.reject(ou(this));const n=e?Rn(e):null;return n&&Ct(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ct(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return es(this.app)?Promise.reject(ou(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return es(this.app)?Promise.reject(ou(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ad(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rG(this),n=new aG(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await QW(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ad(e)||this._popupRedirectResolver;Ct(n,this,"argument-error"),this.redirectPersistenceManager=await pp.create(this,[ad(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(c,this,"internal-error"),c.then(()=>{o||a(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=e.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&MW(`Error while retrieving App Check token: ${e.error}`),e?.token}}function il(t){return Rn(t)}class hC{constructor(e){this.auth=e,this.observer=null,this.addObserver=_H(n=>this.observer=n)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oG(t){_y=t}function SS(t){return _y.loadJS(t)}function lG(){return _y.recaptchaV2Script}function cG(){return _y.recaptchaEnterpriseScript}function uG(){return _y.gapiScript}function oD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=500,hG=6e4,qx=1e12;class fG{constructor(e){this.auth=e,this.counter=qx,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new gG(e,this.auth.name,n||{})),this.counter++,r}reset(e){const n=e||qx;this._widgets.get(n)?.delete(),this._widgets.delete(n)}getResponse(e){const n=e||qx;return this._widgets.get(n)?.getResponse()||""}async execute(e){const n=e||qx;return this._widgets.get(n)?.execute(),""}}class mG{constructor(){this.enterprise=new pG}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pG{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gG{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Ct(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=yG(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},hG)},dG))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function yG(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const xG="recaptcha-enterprise",S0="NO_RECAPTCHA";class lD{constructor(e){this.type=xG,this.auth=il(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(o,c)=>{KO(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new YO(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,o(h.siteKey)}}).catch(d=>{c(d)})})}function i(a,o,c){const d=window.grecaptcha;oC(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{o(h)}).catch(()=>{o(S0)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mG().execute("siteKey",{action:"verify"}):new Promise((a,o)=>{r(this.auth).then(c=>{if(!n&&oC(window.grecaptcha))i(c,a,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let d=cG();d.length!==0&&(d+=c),SS(d).then(()=>{i(c,a,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})}}async function t0(t,e,n,r=!1,i=!1){const a=new lD(t);let o;if(i)o=S0;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}const c={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:o}):Object.assign(c,{captchaResponse:o}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function Pf(t,e,n,r,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await t0(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await t0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await t0(t,e,n);return r(t,a).catch(async o=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(o.code==="auth/missing-recaptcha-token"||o.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const c=await t0(t,e,n,!1,!0);return r(t,c)}return Promise.reject(o)})}else{const a=await t0(t,e,n,!1,!0);return r(t,a)}else return Promise.reject(i+" provider is not supported.")}async function vG(t){const e=il(t),n=await KO(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new YO(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new lD(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bG(t,e){const n=Cd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(Oh(a,e??{}))return i;Co(i,"already-initialized")}return n.initialize({options:e})}function wG(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ad);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function _G(t,e,n){const r=il(t);Ct(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=cD(e),{host:o,port:c}=NG(e),d=c===null?"":`:${c}`,h={url:`${a}//${o}${d}/`},f=Object.freeze({host:o,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ct(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ct(Oh(h,r.config.emulator)&&Oh(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=h,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,Nu(o)?(gb(`${a}//${o}${d}`),yb("Auth",!0)):jG()}function cD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function NG(t){const e=cD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:fC(r.substr(a.length+1))}}else{const[a,o]=r.split(":");return{host:a,port:fC(o)}}}function fC(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function jG(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ru("not implemented")}_getIdTokenResponse(e){return ru("not implemented")}_linkToIdToken(e,n){return ru("not implemented")}_getReauthenticationResolver(e){return ru("not implemented")}}async function SG(t,e){return Da(t,"POST","/v1/accounts:update",e)}async function AG(t,e){return Da(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EG(t,e){return $h(t,"POST","/v1/accounts:signInWithPassword",Oa(t,e))}async function CG(t,e){return Da(t,"POST","/v1/accounts:sendOobCode",Oa(t,e))}async function TG(t,e){return CG(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kG(t,e){return $h(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}async function IG(t,e){return $h(t,"POST","/v1/accounts:signInWithEmailLink",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends vb{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new $0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pf(e,n,"signInWithPassword",EG,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return kG(e,{email:this._email,oobCode:this._password});default:Co(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pf(e,r,"signUpPassword",AG,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return IG(e,{idToken:n,email:this._email,oobCode:this._password});default:Co(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gp(t,e){return $h(t,"POST","/v1/accounts:signInWithIdp",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG="http://localhost";class $f extends vb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $f(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Co("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...a}=n;if(!r||!i)return null;const o=new $f(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return gp(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,gp(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,gp(e,n)}buildRequest(){const e={requestUri:PG,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zp(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(t,e){return Da(t,"POST","/v1/accounts:sendVerificationCode",Oa(t,e))}async function RG(t,e){return $h(t,"POST","/v1/accounts:signInWithPhoneNumber",Oa(t,e))}async function OG(t,e){const n=await $h(t,"POST","/v1/accounts:signInWithPhoneNumber",Oa(t,e));if(n.temporaryProof)throw m0(t,"account-exists-with-different-credential",n);return n}const DG={USER_NOT_FOUND:"user-not-found"};async function LG(t,e){const n={...e,operation:"REAUTH"};return $h(t,"POST","/v1/accounts:signInWithPhoneNumber",Oa(t,n),DG)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends vb{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new yp({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new yp({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return RG(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return OG(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return LG(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=e;return!r&&!n&&!i&&!a?null:new yp({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zG(t){const e=h0(f0(t)).link,n=e?h0(f0(e)).deep_link_id:null,r=h0(f0(t)).deep_link_id;return(r?h0(f0(r)).link:null)||r||n||e||t}class AS{constructor(e){const n=h0(f0(e)),r=n.apiKey??null,i=n.oobCode??null,a=MG(n.mode??null);Ct(r&&i&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=zG(e);try{return new AS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.providerId=lm.PROVIDER_ID}static credential(e,n){return $0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=AS.parseLink(n);return Ct(r,"argument-error"),$0._fromEmailAndCode(e,r.code,r.tenantId)}}lm.PROVIDER_ID="password";lm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny extends bb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Ny{constructor(){super("facebook.com")}static credential(e){return $f._fromParams({providerId:yh.PROVIDER_ID,signInMethod:yh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yh.credentialFromTaggedObject(e)}static credentialFromError(e){return yh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return yh.credential(e.oauthAccessToken)}catch{return null}}}yh.FACEBOOK_SIGN_IN_METHOD="facebook.com";yh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Ny{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $f._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nu.credentialFromTaggedObject(e)}static credentialFromError(e){return nu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nu.credential(n,r)}catch{return null}}}nu.GOOGLE_SIGN_IN_METHOD="google.com";nu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Ny{constructor(){super("github.com")}static credential(e){return $f._fromParams({providerId:xh.PROVIDER_ID,signInMethod:xh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xh.credentialFromTaggedObject(e)}static credentialFromError(e){return xh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xh.credential(e.oauthAccessToken)}catch{return null}}}xh.GITHUB_SIGN_IN_METHOD="github.com";xh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends Ny{constructor(){super("twitter.com")}static credential(e,n){return $f._fromParams({providerId:vh.PROVIDER_ID,signInMethod:vh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vh.credentialFromTaggedObject(e)}static credentialFromError(e){return vh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vh.credential(n,r)}catch{return null}}}vh.TWITTER_SIGN_IN_METHOD="twitter.com";vh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FG(t,e){return $h(t,"POST","/v1/accounts:signUp",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await xc._fromIdTokenResponse(e,r,i),o=pC(r);return new vd({user:a,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pC(r);return new vd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends rl{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new e1(e,n,r,i)}}function uD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?e1._fromErrorAndOperation(t,a,e,r):a})}async function UG(t,e,n=!1){const r=await xd(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(t,e,n=!1){const{auth:r}=t;if(es(r.app))return Promise.reject(ou(r));const i="reauthenticate";try{const a=await xd(t,uD(r,i,e,t),n);Ct(a.idToken,r,"internal-error");const o=NS(a.idToken);Ct(o,r,"internal-error");const{sub:c}=o;return Ct(t.uid===c,r,"user-mismatch"),vd._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&Co(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hD(t,e,n=!1){if(es(t.app))return Promise.reject(ou(t));const r="signIn",i=await uD(t,r,e),a=await vd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function BG(t,e){return hD(il(t),e)}async function VG(t,e){return dD(Rn(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?ES._fromServerResponse(e,n):"totpInfo"in n?CS._fromServerResponse(e,n):Co(e,"internal-error")}}class ES extends wb{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new ES(n)}}class CS extends wb{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new CS(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(t){const e=il(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qG(t,e,n){const r=il(t);await Pf(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",TG,"EMAIL_PASSWORD_PROVIDER")}async function $G(t,e,n){if(es(t.app))return Promise.reject(ou(t));const r=il(t),o=await Pf(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",FG,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&fD(t),d}),c=await vd._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(c.user),c}function HG(t,e,n){return es(t.app)?Promise.reject(ou(t)):BG(Rn(t),lm.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fD(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WG(t,e){return Da(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Rn(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await xd(r,WG(r.auth,a));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const c=r.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=r.displayName,c.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function GG(t,e){const n=Rn(t);return es(n.auth.app)?Promise.reject(ou(n.auth)):pD(n,e,null)}function YG(t,e){return pD(Rn(t),null,e)}async function pD(t,e,n){const{auth:r}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),n&&(a.password=n);const o=await xd(t,SG(r,a));await t._updateTokensIfNecessary(o,!0)}function KG(t,e,n,r){return Rn(t).onIdTokenChanged(e,n,r)}function XG(t,e,n){return Rn(t).beforeAuthStateChanged(e,n)}function ZG(t,e,n,r){return Rn(t).onAuthStateChanged(e,n,r)}function JG(t){return Rn(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new jf("enroll",e,n)}static _fromMfaPendingCredential(e){return new jf("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return jf._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return jf._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=il(e),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map(c=>wb._fromServerResponse(r,c));Ct(i.mfaPendingCredential,r,"internal-error");const o=jf._fromMfaPendingCredential(i.mfaPendingCredential);return new TS(o,a,async c=>{const d=await c._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;const h={...i,idToken:d.idToken,refreshToken:d.refreshToken};switch(n.operationType){case"signIn":const f=await vd._fromIdTokenResponse(r,n.operationType,h);return await r._updateCurrentUser(f.user),f;case"reauthenticate":return Ct(n.user,r,"internal-error"),vd._forOperation(n.user,n.operationType,h);default:Co(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function gC(t,e){const n=Rn(t),r=e;return Ct(e.customData.operationType,n,"argument-error"),Ct(r.customData._serverResponse?.mfaPendingCredential,n,"argument-error"),TS._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t,e){return Da(t,"POST","/v2/accounts/mfaEnrollment:start",Oa(t,e))}function QG(t,e){return Da(t,"POST","/v2/accounts/mfaEnrollment:finalize",Oa(t,e))}function eY(t,e){return Da(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Oa(t,e))}class kS{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>wb._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new kS(e)}async getSession(){return jf._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),a=await xd(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await xd(this.user,eY(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const e5=new WeakMap;function Jm(t){const e=Rn(t);return e5.has(e)||e5.set(e,kS._fromUser(e)),e5.get(e)}const t1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(t1,"1"),this.storage.removeItem(t1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tY=1e3,nY=10;class yD extends gD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},a=this.storage.getItem(r);tG()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,nY):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},tY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yD.type="LOCAL";const rY=yD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD extends gD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}xD.type="SESSION";const vD=xD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _b(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async h=>h(n.origin,a)),d=await iY(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_b.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,o;return new Promise((c,d)=>{const h=IS("",20);i.port1.start();const f=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const x=p;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(f),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(){return window}function sY(t){Wi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return typeof Wi().WorkerGlobalScope<"u"&&typeof Wi().importScripts=="function"}async function oY(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lY(){return navigator?.serviceWorker?.controller||null}function cY(){return PS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="firebaseLocalStorageDb",uY=1,n1="firebaseLocalStorage",wD="fbase_key";class jy{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Nb(t,e){return t.transaction([n1],e?"readwrite":"readonly").objectStore(n1)}function dY(){const t=indexedDB.deleteDatabase(bD);return new jy(t).toPromise()}function MN(){const t=indexedDB.open(bD,uY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(n1,{keyPath:wD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(n1)?e(r):(r.close(),await dY(),e(await MN()))})})}async function xC(t,e,n){const r=Nb(t,!0).put({[wD]:e,value:n});return new jy(r).toPromise()}async function hY(t,e){const n=Nb(t,!1).get(e),r=await new jy(n).toPromise();return r===void 0?null:r.value}function vC(t,e){const n=Nb(t,!0).delete(e);return new jy(n).toPromise()}const fY=800,mY=3;class _D{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await MN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>mY)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return PS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_b._getInstance(cY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oY(),!this.activeServiceWorker)return;this.sender=new aY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||lY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await MN();return await xC(e,t1,"1"),await vC(e,t1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xC(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>hY(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vC(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Nb(i,!1).getAll();return new jy(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_D.type="LOCAL";const pY=_D;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(t,e){return Da(t,"POST","/v2/accounts/mfaSignIn:start",Oa(t,e))}function gY(t,e){return Da(t,"POST","/v2/accounts/mfaSignIn:finalize",Oa(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=oD("rcb"),yY=new wy(3e4,6e4);class xY{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Wi().grecaptcha?.render}load(e,n=""){return Ct(vY(n),e,"argument-error"),this.shouldResolveImmediately(n)&&sC(Wi().grecaptcha)?Promise.resolve(Wi().grecaptcha):new Promise((r,i)=>{const a=Wi().setTimeout(()=>{i(Zs(e,"network-request-failed"))},yY.get());Wi()[t5]=()=>{Wi().clearTimeout(a),delete Wi()[t5];const c=Wi().grecaptcha;if(!c||!sC(c)){i(Zs(e,"internal-error"));return}const d=c.render;c.render=(h,f)=>{const p=d(h,f);return this.counter++,p},this.hostLanguage=n,r(c)};const o=`${lG()}?${Zp({onload:t5,render:"explicit",hl:n})}`;SS(o).catch(()=>{clearTimeout(a),i(Zs(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Wi().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function vY(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class bY{async load(e){return new fG(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="recaptcha",wY={theme:"light",type:"image"};class ND{constructor(e,n,r={...wY}){this.parameters=r,this.type=A0,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=il(e),this.isInvisible=this.parameters.size==="invisible",Ct(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;Ct(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bY:new xY,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const a=o=>{o&&(this.tokenChangeListeners.delete(a),i(o))};this.tokenChangeListeners.add(a),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ct(!this.parameters.sitekey,this.auth,"argument-error"),Ct(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ct(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=Wi()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){Ct(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ct($O()&&!PS(),this.auth,"internal-error"),await _Y(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await HW(this.auth);Ct(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ct(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function _Y(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}async function NY(t,e,n){if(!t._getRecaptchaConfig())try{await vG(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let r;if(typeof e=="string"?r={phoneNumber:e}:r=e,"session"in r){const i=r.session;if("phoneNumber"in r){Ct(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Pf(t,a,"mfaSmsEnrollment",async(h,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===S0){Ct(n?.type===A0,h,"argument-error");const p=await n5(h,f,n);return yC(h,p)}return yC(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{Ct(i.type==="signin",t,"internal-error");const a=r.multiFactorHint?.uid||r.multiFactorUid;Ct(a,t,"missing-multi-factor-info");const o={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Pf(t,o,"mfaSmsSignIn",async(f,p)=>{if(p.phoneSignInInfo.captchaResponse===S0){Ct(n?.type===A0,f,"argument-error");const x=await n5(f,p,n);return bC(f,x)}return bC(f,p)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:r.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Pf(t,i,"sendVerificationCode",async(d,h)=>{if(h.captchaResponse===S0){Ct(n?.type===A0,d,"argument-error");const f=await n5(d,h,n);return mC(d,f)}return mC(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{n?._reset()}}async function n5(t,e,n){Ct(n.type===A0,t,"argument-error");const r=await n.verify();Ct(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,o=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r,captchaResponse:o,clientType:c,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,o=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:a,clientType:o,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.providerId=lu.PROVIDER_ID,this.auth=il(e)}verifyPhoneNumber(e,n){return NY(this.auth,e,Rn(n))}static credential(e,n){return yp._fromVerification(e,n)}static credentialFromResult(e){const n=e;return lu.credentialFromTaggedObject(n)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?yp._fromTokenResponse(n,r):null}}lu.PROVIDER_ID="phone";lu.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){return e?ad(e):(Ct(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS extends vb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return gp(e,this._buildIdpRequest())}_linkToIdToken(e,n){return gp(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return gp(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jY(t){return hD(t.auth,new OS(t),t.bypassAuthState)}function SY(t){const{auth:e,user:n}=t;return Ct(n,e,"internal-error"),dD(n,new OS(t),t.bypassAuthState)}async function AY(t){const{auth:e,user:n}=t;return Ct(n,e,"internal-error"),UG(n,new OS(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:o,type:c}=e;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jY;case"linkViaPopup":case"linkViaRedirect":return AY;case"reauthViaPopup":case"reauthViaRedirect":return SY;default:Co(this.auth,"internal-error")}}resolve(e){yd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=new wy(2e3,1e4);async function CY(t,e,n){if(es(t.app))return Promise.reject(Zs(t,"operation-not-supported-in-this-environment"));const r=il(t);qO(t,e,bb);const i=RS(r,n);return new _h(r,"signInViaPopup",e,i).executeNotNull()}async function TY(t,e,n){const r=Rn(t);if(es(r.auth.app))return Promise.reject(Zs(r.auth,"operation-not-supported-in-this-environment"));qO(r.auth,e,bb);const i=RS(r.auth,n);return new _h(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}class _h extends jD{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,_h.currentPopupAction&&_h.currentPopupAction.cancel(),_h.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ct(e,this.auth,"internal-error"),e}async onExecution(){yd(this.filter.length===1,"Popup operations only handle one event");const e=IS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_h.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EY.get())};e()}}_h.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kY="pendingRedirect",Tv=new Map;class IY extends jD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Tv.get(this.auth._key());if(!e){try{const r=await PY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Tv.set(this.auth._key(),e)}return this.bypassAuthState||Tv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PY(t,e){const n=DY(e),r=OY(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function RY(t,e){Tv.set(t._key(),e)}function OY(t){return ad(t._redirectPersistence)}function DY(t){return Cv(kY,t.config.apiKey,t.name)}async function LY(t,e,n=!1){if(es(t.app))return Promise.reject(ou(t));const r=il(t),i=RS(r,e),o=await new IY(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MY=600*1e3;class zY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!SD(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Zs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MY&&this.cachedEventUids.clear(),this.cachedEventUids.has(wC(e))}saveEventToCache(e){this.cachedEventUids.add(wC(e)),this.lastProcessedEventTime=Date.now()}}function wC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function SD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function FY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UY(t,e={}){return Da(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VY=/^https?/;async function qY(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UY(t);for(const n of e)try{if($Y(n))return}catch{}Co(t,"unauthorized-domain")}function $Y(t){const e=DN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VY.test(n))return!1;if(BY.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HY=new wy(3e4,6e4);function _C(){const t=Wi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function WY(t){return new Promise((e,n)=>{function r(){_C(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_C(),n(Zs(t,"network-request-failed"))},timeout:HY.get()})}if(Wi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Wi().gapi?.load)r();else{const i=oD("iframefcb");return Wi()[i]=()=>{gapi.load?r():n(Zs(t,"network-request-failed"))},SS(`${uG()}?onload=${i}`).catch(a=>n(a))}}).catch(e=>{throw kv=null,e})}let kv=null;function GY(t){return kv=kv||WY(t),kv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YY=new wy(5e3,15e3),KY="__/auth/iframe",XY="emulator/auth/iframe",ZY={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JY=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QY(t){const e=t.config;Ct(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_S(e,XY):`https://${t.config.authDomain}/${KY}`,r={apiKey:e.apiKey,appName:t.name,v:om},i=JY.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Zp(r).slice(1)}`}async function eK(t){const e=await GY(t),n=Wi().gapi;return Ct(n,t,"internal-error"),e.open({where:document.body,url:QY(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZY,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const o=Zs(t,"network-request-failed"),c=Wi().setTimeout(()=>{a(o)},YY.get());function d(){Wi().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{a(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nK=500,rK=600,iK="_blank",aK="http://localhost";class NC{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sK(t,e,n,r=nK,i=rK){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d={...tK,width:r.toString(),height:i.toString(),top:a,left:o},h=Cs().toLowerCase();n&&(c=eD(h)?iK:n),JO(h)&&(e=e||aK,d.scrollbars="yes");const f=Object.entries(d).reduce((x,[g,b])=>`${x}${g}=${b},`,"");if(eG(h)&&c!=="_self")return oK(e||"",c),new NC(null);const p=window.open(e||"",c,f);Ct(p,t,"popup-blocked");try{p.focus()}catch{}return new NC(p)}function oK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK="__/auth/handler",cK="emulator/auth/handler",uK=encodeURIComponent("fac");async function jC(t,e,n,r,i,a){Ct(t.config.authDomain,t,"auth-domain-config-required"),Ct(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:om,eventId:i};if(e instanceof bb){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",wH(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Ny){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const c=o;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const d=await t._getAppCheckToken(),h=d?`#${uK}=${encodeURIComponent(d)}`:"";return`${dK(t)}?${Zp(c).slice(1)}${h}`}function dK({config:t}){return t.emulator?_S(t,cK):`https://${t.authDomain}/${lK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="webStorageSupport";class hK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vD,this._completeRedirectFn=LY,this._overrideRedirectResult=RY}async _openPopup(e,n,r,i){yd(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await jC(e,n,r,DN(),i);return sK(e,a,IS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await jC(e,n,r,DN(),i);return sY(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(yd(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eK(e),r=new zY(e);return n.register("authEvent",i=>(Ct(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(r5,{type:r5},i=>{const a=i?.[0]?.[r5];a!==void 0&&n(!!a),Co(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qY(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aD()||QO()||jS()}}const fK=hK;class mK{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return ru("unexpected MultiFactorSessionType")}}}class DS extends mK{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new DS(e)}_finalizeEnroll(e,n,r){return QG(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return gY(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class LS{constructor(){}static assertion(e){return DS._fromCredential(e)}}LS.FACTOR_ID="phone";var SC="@firebase/auth",AC="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yK(t){Dl(new tl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Ct(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sD(t)},h=new sG(r,i,a,d);return wG(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dl(new tl("auth-internal",e=>{const n=il(e.getProvider("auth").getImmediate());return(r=>new pK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(SC,AC,gK(t)),As(SC,AC,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=300,vK=kO("authIdTokenMaxAge")||xK;let EC=null;const bK=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vK)return;const i=n?.token;EC!==i&&(EC=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wK(t=by()){const e=Cd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=bG(t,{popupRedirectResolver:fK,persistence:[pY,rY,vD]}),r=kO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const o=bK(a.toString());XG(n,o,()=>o(n.currentUser)),KG(n,c=>o(c))}}const i=CO("auth");return i&&_G(n,`http://${i}`),n}function _K(){return document.getElementsByTagName("head")?.[0]??document}oG({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Zs("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",_K().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yK("Browser");var CC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kh,AD;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,z){function L(){}L.prototype=z.prototype,F.F=z.prototype,F.prototype=new L,F.prototype.constructor=F,F.D=function(H,P,I){for(var U=Array(arguments.length-2),k=2;k<arguments.length;k++)U[k-2]=arguments[k];return z.prototype[P].apply(H,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(F,z,L){L||(L=0);const H=Array(16);if(typeof z=="string")for(var P=0;P<16;++P)H[P]=z.charCodeAt(L++)|z.charCodeAt(L++)<<8|z.charCodeAt(L++)<<16|z.charCodeAt(L++)<<24;else for(P=0;P<16;++P)H[P]=z[L++]|z[L++]<<8|z[L++]<<16|z[L++]<<24;z=F.g[0],L=F.g[1],P=F.g[2];let I=F.g[3],U;U=z+(I^L&(P^I))+H[0]+3614090360&4294967295,z=L+(U<<7&4294967295|U>>>25),U=I+(P^z&(L^P))+H[1]+3905402710&4294967295,I=z+(U<<12&4294967295|U>>>20),U=P+(L^I&(z^L))+H[2]+606105819&4294967295,P=I+(U<<17&4294967295|U>>>15),U=L+(z^P&(I^z))+H[3]+3250441966&4294967295,L=P+(U<<22&4294967295|U>>>10),U=z+(I^L&(P^I))+H[4]+4118548399&4294967295,z=L+(U<<7&4294967295|U>>>25),U=I+(P^z&(L^P))+H[5]+1200080426&4294967295,I=z+(U<<12&4294967295|U>>>20),U=P+(L^I&(z^L))+H[6]+2821735955&4294967295,P=I+(U<<17&4294967295|U>>>15),U=L+(z^P&(I^z))+H[7]+4249261313&4294967295,L=P+(U<<22&4294967295|U>>>10),U=z+(I^L&(P^I))+H[8]+1770035416&4294967295,z=L+(U<<7&4294967295|U>>>25),U=I+(P^z&(L^P))+H[9]+2336552879&4294967295,I=z+(U<<12&4294967295|U>>>20),U=P+(L^I&(z^L))+H[10]+4294925233&4294967295,P=I+(U<<17&4294967295|U>>>15),U=L+(z^P&(I^z))+H[11]+2304563134&4294967295,L=P+(U<<22&4294967295|U>>>10),U=z+(I^L&(P^I))+H[12]+1804603682&4294967295,z=L+(U<<7&4294967295|U>>>25),U=I+(P^z&(L^P))+H[13]+4254626195&4294967295,I=z+(U<<12&4294967295|U>>>20),U=P+(L^I&(z^L))+H[14]+2792965006&4294967295,P=I+(U<<17&4294967295|U>>>15),U=L+(z^P&(I^z))+H[15]+1236535329&4294967295,L=P+(U<<22&4294967295|U>>>10),U=z+(P^I&(L^P))+H[1]+4129170786&4294967295,z=L+(U<<5&4294967295|U>>>27),U=I+(L^P&(z^L))+H[6]+3225465664&4294967295,I=z+(U<<9&4294967295|U>>>23),U=P+(z^L&(I^z))+H[11]+643717713&4294967295,P=I+(U<<14&4294967295|U>>>18),U=L+(I^z&(P^I))+H[0]+3921069994&4294967295,L=P+(U<<20&4294967295|U>>>12),U=z+(P^I&(L^P))+H[5]+3593408605&4294967295,z=L+(U<<5&4294967295|U>>>27),U=I+(L^P&(z^L))+H[10]+38016083&4294967295,I=z+(U<<9&4294967295|U>>>23),U=P+(z^L&(I^z))+H[15]+3634488961&4294967295,P=I+(U<<14&4294967295|U>>>18),U=L+(I^z&(P^I))+H[4]+3889429448&4294967295,L=P+(U<<20&4294967295|U>>>12),U=z+(P^I&(L^P))+H[9]+568446438&4294967295,z=L+(U<<5&4294967295|U>>>27),U=I+(L^P&(z^L))+H[14]+3275163606&4294967295,I=z+(U<<9&4294967295|U>>>23),U=P+(z^L&(I^z))+H[3]+4107603335&4294967295,P=I+(U<<14&4294967295|U>>>18),U=L+(I^z&(P^I))+H[8]+1163531501&4294967295,L=P+(U<<20&4294967295|U>>>12),U=z+(P^I&(L^P))+H[13]+2850285829&4294967295,z=L+(U<<5&4294967295|U>>>27),U=I+(L^P&(z^L))+H[2]+4243563512&4294967295,I=z+(U<<9&4294967295|U>>>23),U=P+(z^L&(I^z))+H[7]+1735328473&4294967295,P=I+(U<<14&4294967295|U>>>18),U=L+(I^z&(P^I))+H[12]+2368359562&4294967295,L=P+(U<<20&4294967295|U>>>12),U=z+(L^P^I)+H[5]+4294588738&4294967295,z=L+(U<<4&4294967295|U>>>28),U=I+(z^L^P)+H[8]+2272392833&4294967295,I=z+(U<<11&4294967295|U>>>21),U=P+(I^z^L)+H[11]+1839030562&4294967295,P=I+(U<<16&4294967295|U>>>16),U=L+(P^I^z)+H[14]+4259657740&4294967295,L=P+(U<<23&4294967295|U>>>9),U=z+(L^P^I)+H[1]+2763975236&4294967295,z=L+(U<<4&4294967295|U>>>28),U=I+(z^L^P)+H[4]+1272893353&4294967295,I=z+(U<<11&4294967295|U>>>21),U=P+(I^z^L)+H[7]+4139469664&4294967295,P=I+(U<<16&4294967295|U>>>16),U=L+(P^I^z)+H[10]+3200236656&4294967295,L=P+(U<<23&4294967295|U>>>9),U=z+(L^P^I)+H[13]+681279174&4294967295,z=L+(U<<4&4294967295|U>>>28),U=I+(z^L^P)+H[0]+3936430074&4294967295,I=z+(U<<11&4294967295|U>>>21),U=P+(I^z^L)+H[3]+3572445317&4294967295,P=I+(U<<16&4294967295|U>>>16),U=L+(P^I^z)+H[6]+76029189&4294967295,L=P+(U<<23&4294967295|U>>>9),U=z+(L^P^I)+H[9]+3654602809&4294967295,z=L+(U<<4&4294967295|U>>>28),U=I+(z^L^P)+H[12]+3873151461&4294967295,I=z+(U<<11&4294967295|U>>>21),U=P+(I^z^L)+H[15]+530742520&4294967295,P=I+(U<<16&4294967295|U>>>16),U=L+(P^I^z)+H[2]+3299628645&4294967295,L=P+(U<<23&4294967295|U>>>9),U=z+(P^(L|~I))+H[0]+4096336452&4294967295,z=L+(U<<6&4294967295|U>>>26),U=I+(L^(z|~P))+H[7]+1126891415&4294967295,I=z+(U<<10&4294967295|U>>>22),U=P+(z^(I|~L))+H[14]+2878612391&4294967295,P=I+(U<<15&4294967295|U>>>17),U=L+(I^(P|~z))+H[5]+4237533241&4294967295,L=P+(U<<21&4294967295|U>>>11),U=z+(P^(L|~I))+H[12]+1700485571&4294967295,z=L+(U<<6&4294967295|U>>>26),U=I+(L^(z|~P))+H[3]+2399980690&4294967295,I=z+(U<<10&4294967295|U>>>22),U=P+(z^(I|~L))+H[10]+4293915773&4294967295,P=I+(U<<15&4294967295|U>>>17),U=L+(I^(P|~z))+H[1]+2240044497&4294967295,L=P+(U<<21&4294967295|U>>>11),U=z+(P^(L|~I))+H[8]+1873313359&4294967295,z=L+(U<<6&4294967295|U>>>26),U=I+(L^(z|~P))+H[15]+4264355552&4294967295,I=z+(U<<10&4294967295|U>>>22),U=P+(z^(I|~L))+H[6]+2734768916&4294967295,P=I+(U<<15&4294967295|U>>>17),U=L+(I^(P|~z))+H[13]+1309151649&4294967295,L=P+(U<<21&4294967295|U>>>11),U=z+(P^(L|~I))+H[4]+4149444226&4294967295,z=L+(U<<6&4294967295|U>>>26),U=I+(L^(z|~P))+H[11]+3174756917&4294967295,I=z+(U<<10&4294967295|U>>>22),U=P+(z^(I|~L))+H[2]+718787259&4294967295,P=I+(U<<15&4294967295|U>>>17),U=L+(I^(P|~z))+H[9]+3951481745&4294967295,F.g[0]=F.g[0]+z&4294967295,F.g[1]=F.g[1]+(P+(U<<21&4294967295|U>>>11))&4294967295,F.g[2]=F.g[2]+P&4294967295,F.g[3]=F.g[3]+I&4294967295}r.prototype.v=function(F,z){z===void 0&&(z=F.length);const L=z-this.blockSize,H=this.C;let P=this.h,I=0;for(;I<z;){if(P==0)for(;I<=L;)i(this,F,I),I+=this.blockSize;if(typeof F=="string"){for(;I<z;)if(H[P++]=F.charCodeAt(I++),P==this.blockSize){i(this,H),P=0;break}}else for(;I<z;)if(H[P++]=F[I++],P==this.blockSize){i(this,H),P=0;break}}this.h=P,this.o+=z},r.prototype.A=function(){var F=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);F[0]=128;for(var z=1;z<F.length-8;++z)F[z]=0;z=this.o*8;for(var L=F.length-8;L<F.length;++L)F[L]=z&255,z/=256;for(this.v(F),F=Array(16),z=0,L=0;L<4;++L)for(let H=0;H<32;H+=8)F[z++]=this.g[L]>>>H&255;return F};function a(F,z){var L=c;return Object.prototype.hasOwnProperty.call(L,F)?L[F]:L[F]=z(F)}function o(F,z){this.h=z;const L=[];let H=!0;for(let P=F.length-1;P>=0;P--){const I=F[P]|0;H&&I==z||(L[P]=I,H=!1)}this.g=L}var c={};function d(F){return-128<=F&&F<128?a(F,function(z){return new o([z|0],z<0?-1:0)}):new o([F|0],F<0?-1:0)}function h(F){if(isNaN(F)||!isFinite(F))return p;if(F<0)return w(h(-F));const z=[];let L=1;for(let H=0;F>=L;H++)z[H]=F/L|0,L*=4294967296;return new o(z,0)}function f(F,z){if(F.length==0)throw Error("number format error: empty string");if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(F.charAt(0)=="-")return w(f(F.substring(1),z));if(F.indexOf("-")>=0)throw Error('number format error: interior "-" character');const L=h(Math.pow(z,8));let H=p;for(let I=0;I<F.length;I+=8){var P=Math.min(8,F.length-I);const U=parseInt(F.substring(I,I+P),z);P<8?(P=h(Math.pow(z,P)),H=H.j(P).add(h(U))):(H=H.j(L),H=H.add(h(U)))}return H}var p=d(0),x=d(1),g=d(16777216);t=o.prototype,t.m=function(){if(v(this))return-w(this).m();let F=0,z=1;for(let L=0;L<this.g.length;L++){const H=this.i(L);F+=(H>=0?H:4294967296+H)*z,z*=4294967296}return F},t.toString=function(F){if(F=F||10,F<2||36<F)throw Error("radix out of range: "+F);if(b(this))return"0";if(v(this))return"-"+w(this).toString(F);const z=h(Math.pow(F,6));var L=this;let H="";for(;;){const P=D(L,z).g;L=j(L,P.j(z));let I=((L.g.length>0?L.g[0]:L.h)>>>0).toString(F);if(L=P,b(L))return I+H;for(;I.length<6;)I="0"+I;H=I+H}},t.i=function(F){return F<0?0:F<this.g.length?this.g[F]:this.h};function b(F){if(F.h!=0)return!1;for(let z=0;z<F.g.length;z++)if(F.g[z]!=0)return!1;return!0}function v(F){return F.h==-1}t.l=function(F){return F=j(this,F),v(F)?-1:b(F)?0:1};function w(F){const z=F.g.length,L=[];for(let H=0;H<z;H++)L[H]=~F.g[H];return new o(L,~F.h).add(x)}t.abs=function(){return v(this)?w(this):this},t.add=function(F){const z=Math.max(this.g.length,F.g.length),L=[];let H=0;for(let P=0;P<=z;P++){let I=H+(this.i(P)&65535)+(F.i(P)&65535),U=(I>>>16)+(this.i(P)>>>16)+(F.i(P)>>>16);H=U>>>16,I&=65535,U&=65535,L[P]=U<<16|I}return new o(L,L[L.length-1]&-2147483648?-1:0)};function j(F,z){return F.add(w(z))}t.j=function(F){if(b(this)||b(F))return p;if(v(this))return v(F)?w(this).j(w(F)):w(w(this).j(F));if(v(F))return w(this.j(w(F)));if(this.l(g)<0&&F.l(g)<0)return h(this.m()*F.m());const z=this.g.length+F.g.length,L=[];for(var H=0;H<2*z;H++)L[H]=0;for(H=0;H<this.g.length;H++)for(let P=0;P<F.g.length;P++){const I=this.i(H)>>>16,U=this.i(H)&65535,k=F.i(P)>>>16,le=F.i(P)&65535;L[2*H+2*P]+=U*le,E(L,2*H+2*P),L[2*H+2*P+1]+=I*le,E(L,2*H+2*P+1),L[2*H+2*P+1]+=U*k,E(L,2*H+2*P+1),L[2*H+2*P+2]+=I*k,E(L,2*H+2*P+2)}for(F=0;F<z;F++)L[F]=L[2*F+1]<<16|L[2*F];for(F=z;F<2*z;F++)L[F]=0;return new o(L,0)};function E(F,z){for(;(F[z]&65535)!=F[z];)F[z+1]+=F[z]>>>16,F[z]&=65535,z++}function T(F,z){this.g=F,this.h=z}function D(F,z){if(b(z))throw Error("division by zero");if(b(F))return new T(p,p);if(v(F))return z=D(w(F),z),new T(w(z.g),w(z.h));if(v(z))return z=D(F,w(z)),new T(w(z.g),z.h);if(F.g.length>30){if(v(F)||v(z))throw Error("slowDivide_ only works with positive integers.");for(var L=x,H=z;H.l(F)<=0;)L=M(L),H=M(H);var P=J(L,1),I=J(H,1);for(H=J(H,2),L=J(L,2);!b(H);){var U=I.add(H);U.l(F)<=0&&(P=P.add(L),I=U),H=J(H,1),L=J(L,1)}return z=j(F,P.j(z)),new T(P,z)}for(P=p;F.l(z)>=0;){for(L=Math.max(1,Math.floor(F.m()/z.m())),H=Math.ceil(Math.log(L)/Math.LN2),H=H<=48?1:Math.pow(2,H-48),I=h(L),U=I.j(z);v(U)||U.l(F)>0;)L-=H,I=h(L),U=I.j(z);b(I)&&(I=x),P=P.add(I),F=j(F,U)}return new T(P,F)}t.B=function(F){return D(this,F).h},t.and=function(F){const z=Math.max(this.g.length,F.g.length),L=[];for(let H=0;H<z;H++)L[H]=this.i(H)&F.i(H);return new o(L,this.h&F.h)},t.or=function(F){const z=Math.max(this.g.length,F.g.length),L=[];for(let H=0;H<z;H++)L[H]=this.i(H)|F.i(H);return new o(L,this.h|F.h)},t.xor=function(F){const z=Math.max(this.g.length,F.g.length),L=[];for(let H=0;H<z;H++)L[H]=this.i(H)^F.i(H);return new o(L,this.h^F.h)};function M(F){const z=F.g.length+1,L=[];for(let H=0;H<z;H++)L[H]=F.i(H)<<1|F.i(H-1)>>>31;return new o(L,F.h)}function J(F,z){const L=z>>5;z%=32;const H=F.g.length-L,P=[];for(let I=0;I<H;I++)P[I]=z>0?F.i(I+L)>>>z|F.i(I+L+1)<<32-z:F.i(I+L);return new o(P,F.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,AD=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,kh=o}).apply(typeof CC<"u"?CC:typeof self<"u"?self:typeof window<"u"?window:{});var $x=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ED,p0,CD,Iv,zN,TD,kD,ID;(function(){var t,e=Object.defineProperty;function n(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof $x=="object"&&$x];for(var $=0;$<N.length;++$){var Q=N[$];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var r=n(this);function i(N,$){if($)e:{var Q=r;N=N.split(".");for(var pe=0;pe<N.length-1;pe++){var Ue=N[pe];if(!(Ue in Q))break e;Q=Q[Ue]}N=N[N.length-1],pe=Q[N],$=$(pe),$!=pe&&$!=null&&e(Q,N,{configurable:!0,writable:!0,value:$})}}i("Symbol.dispose",function(N){return N||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(N){return N||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(N){return N||function($){var Q=[],pe;for(pe in $)Object.prototype.hasOwnProperty.call($,pe)&&Q.push([pe,$[pe]]);return Q}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(N){var $=typeof N;return $=="object"&&N!=null||$=="function"}function d(N,$,Q){return N.call.apply(N.bind,arguments)}function h(N,$,Q){return h=d,h.apply(null,arguments)}function f(N,$){var Q=Array.prototype.slice.call(arguments,1);return function(){var pe=Q.slice();return pe.push.apply(pe,arguments),N.apply(this,pe)}}function p(N,$){function Q(){}Q.prototype=$.prototype,N.Z=$.prototype,N.prototype=new Q,N.prototype.constructor=N,N.Ob=function(pe,Ue,We){for(var wt=Array(arguments.length-2),ln=2;ln<arguments.length;ln++)wt[ln-2]=arguments[ln];return $.prototype[Ue].apply(pe,wt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?N=>N&&AsyncContext.Snapshot.wrap(N):N=>N;function g(N){const $=N.length;if($>0){const Q=Array($);for(let pe=0;pe<$;pe++)Q[pe]=N[pe];return Q}return[]}function b(N,$){for(let pe=1;pe<arguments.length;pe++){const Ue=arguments[pe];var Q=typeof Ue;if(Q=Q!="object"?Q:Ue?Array.isArray(Ue)?"array":Q:"null",Q=="array"||Q=="object"&&typeof Ue.length=="number"){Q=N.length||0;const We=Ue.length||0;N.length=Q+We;for(let wt=0;wt<We;wt++)N[Q+wt]=Ue[wt]}else N.push(Ue)}}class v{constructor($,Q){this.i=$,this.j=Q,this.h=0,this.g=null}get(){let $;return this.h>0?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function w(N){o.setTimeout(()=>{throw N},0)}function j(){var N=F;let $=null;return N.g&&($=N.g,N.g=N.g.next,N.g||(N.h=null),$.next=null),$}class E{constructor(){this.h=this.g=null}add($,Q){const pe=T.get();pe.set($,Q),this.h?this.h.next=pe:this.g=pe,this.h=pe}}var T=new v(()=>new D,N=>N.reset());class D{constructor(){this.next=this.g=this.h=null}set($,Q){this.h=$,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let M,J=!1,F=new E,z=()=>{const N=Promise.resolve(void 0);M=()=>{N.then(L)}};function L(){for(var N;N=j();){try{N.h.call(N.g)}catch(Q){w(Q)}var $=T;$.j(N),$.h<100&&($.h++,N.next=$.g,$.g=N)}J=!1}function H(){this.u=this.u,this.C=this.C}H.prototype.u=!1,H.prototype.dispose=function(){this.u||(this.u=!0,this.N())},H.prototype[Symbol.dispose]=function(){this.dispose()},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(N,$){this.type=N,this.g=this.target=$,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var N=!1,$=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const Q=()=>{};o.addEventListener("test",Q,$),o.removeEventListener("test",Q,$)}catch{}return N})();function U(N){return/^[\s\xa0]*$/.test(N)}function k(N,$){P.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N&&this.init(N,$)}p(k,P),k.prototype.init=function(N,$){const Q=this.type=N.type,pe=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;this.target=N.target||N.srcElement,this.g=$,$=N.relatedTarget,$||(Q=="mouseover"?$=N.fromElement:Q=="mouseout"&&($=N.toElement)),this.relatedTarget=$,pe?(this.clientX=pe.clientX!==void 0?pe.clientX:pe.pageX,this.clientY=pe.clientY!==void 0?pe.clientY:pe.pageY,this.screenX=pe.screenX||0,this.screenY=pe.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=N.pointerType,this.state=N.state,this.i=N,N.defaultPrevented&&k.Z.h.call(this)},k.prototype.h=function(){k.Z.h.call(this);const N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(N,$,Q,pe,Ue){this.listener=N,this.proxy=null,this.src=$,this.type=Q,this.capture=!!pe,this.ha=Ue,this.key=++G,this.da=this.fa=!1}function ie(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function se(N,$,Q){for(const pe in N)$.call(Q,N[pe],pe,N)}function Se(N,$){for(const Q in N)$.call(void 0,N[Q],Q,N)}function X(N){const $={};for(const Q in N)$[Q]=N[Q];return $}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(N,$){let Q,pe;for(let Ue=1;Ue<arguments.length;Ue++){pe=arguments[Ue];for(Q in pe)N[Q]=pe[Q];for(let We=0;We<O.length;We++)Q=O[We],Object.prototype.hasOwnProperty.call(pe,Q)&&(N[Q]=pe[Q])}}function te(N){this.src=N,this.g={},this.h=0}te.prototype.add=function(N,$,Q,pe,Ue){const We=N.toString();N=this.g[We],N||(N=this.g[We]=[],this.h++);const wt=xe(N,$,pe,Ue);return wt>-1?($=N[wt],Q||($.fa=!1)):($=new W($,this.src,We,!!pe,Ue),$.fa=Q,N.push($)),$};function ee(N,$){const Q=$.type;if(Q in N.g){var pe=N.g[Q],Ue=Array.prototype.indexOf.call(pe,$,void 0),We;(We=Ue>=0)&&Array.prototype.splice.call(pe,Ue,1),We&&(ie($),N.g[Q].length==0&&(delete N.g[Q],N.h--))}}function xe(N,$,Q,pe){for(let Ue=0;Ue<N.length;++Ue){const We=N[Ue];if(!We.da&&We.listener==$&&We.capture==!!Q&&We.ha==pe)return Ue}return-1}var be="closure_lm_"+(Math.random()*1e6|0),oe={};function fe(N,$,Q,pe,Ue){if(Array.isArray($)){for(let We=0;We<$.length;We++)fe(N,$[We],Q,pe,Ue);return null}return Q=he(Q),N&&N[le]?N.J($,Q,c(pe)?!!pe.capture:!1,Ue):Ee(N,$,Q,!1,pe,Ue)}function Ee(N,$,Q,pe,Ue,We){if(!$)throw Error("Invalid event type");const wt=c(Ue)?!!Ue.capture:!!Ue;let ln=ke(N);if(ln||(N[be]=ln=new te(N)),Q=ln.add($,Q,pe,wt,We),Q.proxy)return Q;if(pe=Be(),Q.proxy=pe,pe.src=N,pe.listener=Q,N.addEventListener)I||(Ue=wt),Ue===void 0&&(Ue=!1),N.addEventListener($.toString(),pe,Ue);else if(N.attachEvent)N.attachEvent(q($.toString()),pe);else if(N.addListener&&N.removeListener)N.addListener(pe);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function Be(){function N(Q){return $.call(N.src,N.listener,Q)}const $=ae;return N}function Pe(N,$,Q,pe,Ue){if(Array.isArray($))for(var We=0;We<$.length;We++)Pe(N,$[We],Q,pe,Ue);else pe=c(pe)?!!pe.capture:!!pe,Q=he(Q),N&&N[le]?(N=N.i,We=String($).toString(),We in N.g&&($=N.g[We],Q=xe($,Q,pe,Ue),Q>-1&&(ie($[Q]),Array.prototype.splice.call($,Q,1),$.length==0&&(delete N.g[We],N.h--)))):N&&(N=ke(N))&&($=N.g[$.toString()],N=-1,$&&(N=xe($,Q,pe,Ue)),(Q=N>-1?$[N]:null)&&ct(Q))}function ct(N){if(typeof N!="number"&&N&&!N.da){var $=N.src;if($&&$[le])ee($.i,N);else{var Q=N.type,pe=N.proxy;$.removeEventListener?$.removeEventListener(Q,pe,N.capture):$.detachEvent?$.detachEvent(q(Q),pe):$.addListener&&$.removeListener&&$.removeListener(pe),(Q=ke($))?(ee(Q,N),Q.h==0&&(Q.src=null,$[be]=null)):ie(N)}}}function q(N){return N in oe?oe[N]:oe[N]="on"+N}function ae(N,$){if(N.da)N=!0;else{$=new k($,this);const Q=N.listener,pe=N.ha||N.src;N.fa&&ct(N),N=Q.call(pe,$)}return N}function ke(N){return N=N[be],N instanceof te?N:null}var ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(N){return typeof N=="function"?N:(N[ye]||(N[ye]=function($){return N.handleEvent($)}),N[ye])}function ve(){H.call(this),this.i=new te(this),this.M=this,this.G=null}p(ve,H),ve.prototype[le]=!0,ve.prototype.removeEventListener=function(N,$,Q,pe){Pe(this,N,$,Q,pe)};function De(N,$){var Q,pe=N.G;if(pe)for(Q=[];pe;pe=pe.G)Q.push(pe);if(N=N.M,pe=$.type||$,typeof $=="string")$=new P($,N);else if($ instanceof P)$.target=$.target||N;else{var Ue=$;$=new P(pe,N),K($,Ue)}Ue=!0;let We,wt;if(Q)for(wt=Q.length-1;wt>=0;wt--)We=$.g=Q[wt],Ue=Le(We,pe,!0,$)&&Ue;if(We=$.g=N,Ue=Le(We,pe,!0,$)&&Ue,Ue=Le(We,pe,!1,$)&&Ue,Q)for(wt=0;wt<Q.length;wt++)We=$.g=Q[wt],Ue=Le(We,pe,!1,$)&&Ue}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var N=this.i;for(const $ in N.g){const Q=N.g[$];for(let pe=0;pe<Q.length;pe++)ie(Q[pe]);delete N.g[$],N.h--}}this.G=null},ve.prototype.J=function(N,$,Q,pe){return this.i.add(String(N),$,!1,Q,pe)},ve.prototype.K=function(N,$,Q,pe){return this.i.add(String(N),$,!0,Q,pe)};function Le(N,$,Q,pe){if($=N.i.g[String($)],!$)return!0;$=$.concat();let Ue=!0;for(let We=0;We<$.length;++We){const wt=$[We];if(wt&&!wt.da&&wt.capture==Q){const ln=wt.listener,mr=wt.ha||wt.src;wt.fa&&ee(N.i,wt),Ue=ln.call(mr,pe)!==!1&&Ue}}return Ue&&!pe.defaultPrevented}function Ie(N,$){if(typeof N!="function")if(N&&typeof N.handleEvent=="function")N=h(N.handleEvent,N);else throw Error("Invalid listener argument");return Number($)>2147483647?-1:o.setTimeout(N,$||0)}function Ke(N){N.g=Ie(()=>{N.g=null,N.i&&(N.i=!1,Ke(N))},N.l);const $=N.h;N.h=null,N.m.apply(null,$)}class at extends H{constructor($,Q){super(),this.m=$,this.l=Q,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xe(N){H.call(this),this.h=N,this.g={}}p(Xe,H);var ht=[];function Tt(N){se(N.g,function($,Q){this.g.hasOwnProperty(Q)&&ct($)},N),N.g={}}Xe.prototype.N=function(){Xe.Z.N.call(this),Tt(this)},Xe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bt=o.JSON.stringify,_e=o.JSON.parse,Ze=class{stringify(N){return o.JSON.stringify(N,void 0)}parse(N){return o.JSON.parse(N,void 0)}};function Me(){}function xt(){}var ut={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function st(){P.call(this,"d")}p(st,P);function At(){P.call(this,"c")}p(At,P);var $t={},Ut=null;function un(){return Ut=Ut||new ve}$t.Ia="serverreachability";function rn(N){P.call(this,$t.Ia,N)}p(rn,P);function On(N){const $=un();De($,new rn($))}$t.STAT_EVENT="statevent";function Zn(N,$){P.call(this,$t.STAT_EVENT,N),this.stat=$}p(Zn,P);function Xt(N){const $=un();De($,new Zn($,N))}$t.Ja="timingevent";function Ht(N,$){P.call(this,$t.Ja,N),this.size=$}p(Ht,P);function bn(N,$){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){N()},$)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function lt(N,$,Q,pe,Ue,We){N.info(function(){if(N.g)if(We){var wt="",ln=We.split("&");for(let Sn=0;Sn<ln.length;Sn++){var mr=ln[Sn].split("=");if(mr.length>1){const tr=mr[0];mr=mr[1];const Bi=tr.split("_");wt=Bi.length>=2&&Bi[1]=="type"?wt+(tr+"="+mr+"&"):wt+(tr+"=redacted&")}}}else wt=null;else wt=We;return"XMLHTTP REQ ("+pe+") [attempt "+Ue+"]: "+$+`
`+Q+`
`+wt})}function _t(N,$,Q,pe,Ue,We,wt){N.info(function(){return"XMLHTTP RESP ("+pe+") [ attempt "+Ue+"]: "+$+`
`+Q+`
`+We+" "+wt})}function _n(N,$,Q,pe){N.info(function(){return"XMLHTTP TEXT ("+$+"): "+ai(N,Q)+(pe?" "+pe:"")})}function jt(N,$){N.info(function(){return"TIMEOUT: "+$})}Ci.prototype.info=function(){};function ai(N,$){if(!N.g)return $;if(!$)return null;try{const We=JSON.parse($);if(We){for(N=0;N<We.length;N++)if(Array.isArray(We[N])){var Q=We[N];if(!(Q.length<2)){var pe=Q[1];if(Array.isArray(pe)&&!(pe.length<1)){var Ue=pe[0];if(Ue!="noop"&&Ue!="stop"&&Ue!="close")for(let wt=1;wt<pe.length;wt++)pe[wt]=""}}}}return bt(We)}catch{return $}}var Zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ti={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ji;function Jn(){}p(Jn,Me),Jn.prototype.g=function(){return new XMLHttpRequest},Ji=new Jn;function wr(N){return encodeURIComponent(String(N))}function gi(N){var $=1;N=N.split(":");const Q=[];for(;$>0&&N.length;)Q.push(N.shift()),$--;return N.length&&Q.push(N.join(":")),Q}function Qi(N,$,Q,pe){this.j=N,this.i=$,this.l=Q,this.S=pe||1,this.V=new Xe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fi}function Fi(){this.i=null,this.g="",this.h=!1}var Qn={},hr={};function yi(N,$,Q){N.M=1,N.A=ta(Nn($)),N.u=Q,N.R=!0,ya(N,null)}function ya(N,$){N.F=Date.now(),xa(N),N.B=Nn(N.A);var Q=N.B,pe=N.S;Array.isArray(pe)||(pe=[String(pe)]),Oc(Q.i,"t",pe),N.C=0,Q=N.j.L,N.h=new Fi,N.g=Rt(N.j,Q?$:null,!N.u),N.P>0&&(N.O=new at(h(N.Y,N,N.g),N.P)),$=N.V,Q=N.g,pe=N.ba;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(ht[0]=Ue.toString()),Ue=ht);for(let We=0;We<Ue.length;We++){const wt=fe(Q,Ue[We],pe||$.handleEvent,!1,$.h||$);if(!wt)break;$.g[wt.key]=wt}$=N.J?X(N.J):{},N.u?(N.v||(N.v="POST"),$["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.B,N.v,N.u,$)):(N.v="GET",N.g.ea(N.B,N.v,null,$)),On(),lt(N.i,N.v,N.B,N.l,N.S,N.u)}Qi.prototype.ba=function(N){N=N.target;const $=this.O;$&&qa(N)==3?$.j():this.Y(N)},Qi.prototype.Y=function(N){try{if(N==this.g)e:{const ln=qa(this.g),mr=this.g.ya(),Sn=this.g.ca();if(!(ln<3)&&(ln!=3||this.g&&(this.h.h||this.g.la()||li(this.g)))){this.K||ln!=4||mr==7||(mr==8||Sn<=0?On(3):On(2)),Fa(this);var $=this.g.ca();this.X=$;var Q=ls(this);if(this.o=$==200,_t(this.i,this.v,this.B,this.l,this.S,ln,$),this.o){if(this.U&&!this.L){t:{if(this.g){var pe,Ue=this.g;if((pe=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(pe)){var We=pe;break t}}We=null}if(N=We)_n(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,cs(this,N);else{this.o=!1,this.m=3,Xt(12),Ua(this),ea(this);break e}}if(this.R){N=!0;let tr;for(;!this.K&&this.C<Q.length;)if(tr=Ts(this,Q),tr==hr){ln==4&&(this.m=4,Xt(14),N=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(tr==Qn){this.m=4,Xt(15),_n(this.i,this.l,Q,"[Invalid Chunk]"),N=!1;break}else _n(this.i,this.l,tr,null),cs(this,tr);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ln!=4||Q.length!=0||this.h.h||(this.m=1,Xt(16),N=!1),this.o=this.o&&N,!N)_n(this.i,this.l,Q,"[Invalid Chunked Response]"),Ua(this),ea(this);else if(Q.length>0&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.aa&&!wt.P&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Mc(wt),wt.P=!0,Xt(11))}}else _n(this.i,this.l,Q,null),cs(this,Q);ln==4&&Ua(this),this.o&&!this.K&&(ln==4?Ne(this.j,this):(this.o=!1,xa(this)))}else $a(this.g),$==400&&Q.indexOf("Unknown SID")>0?(this.m=3,Xt(12)):(this.m=0,Xt(13)),Ua(this),ea(this)}}}catch{}finally{}};function ls(N){if(!sl(N))return N.g.la();const $=li(N.g);if($==="")return"";let Q="";const pe=$.length,Ue=qa(N.g)==4;if(!N.h.i){if(typeof TextDecoder>"u")return Ua(N),ea(N),"";N.h.i=new o.TextDecoder}for(let We=0;We<pe;We++)N.h.h=!0,Q+=N.h.i.decode($[We],{stream:!(Ue&&We==pe-1)});return $.length=0,N.h.g+=Q,N.C=0,N.h.g}function sl(N){return N.g?N.v=="GET"&&N.M!=2&&N.j.Aa:!1}function Ts(N,$){var Q=N.C,pe=$.indexOf(`
`,Q);return pe==-1?hr:(Q=Number($.substring(Q,pe)),isNaN(Q)?Qn:(pe+=1,pe+Q>$.length?hr:($=$.slice(pe,pe+Q),N.C=pe+Q,$)))}Qi.prototype.cancel=function(){this.K=!0,Ua(this)};function xa(N){N.T=Date.now()+N.H,Io(N,N.H)}function Io(N,$){if(N.D!=null)throw Error("WatchDog timer not null");N.D=bn(h(N.aa,N),$)}function Fa(N){N.D&&(o.clearTimeout(N.D),N.D=null)}Qi.prototype.aa=function(){this.D=null;const N=Date.now();N-this.T>=0?(jt(this.i,this.B),this.M!=2&&(On(),Xt(17)),Ua(this),this.m=2,ea(this)):Io(this,this.T-N)};function ea(N){N.j.I==0||N.K||Ne(N.j,N)}function Ua(N){Fa(N);var $=N.O;$&&typeof $.dispose=="function"&&$.dispose(),N.O=null,Tt(N.V),N.g&&($=N.g,N.g=null,$.abort(),$.dispose())}function cs(N,$){try{var Q=N.j;if(Q.I!=0&&(Q.g==N||ks(Q.h,N))){if(!N.L&&ks(Q.h,N)&&Q.I==3){try{var pe=Q.Ba.g.parse($)}catch{pe=null}if(Array.isArray(pe)&&pe.length==3){var Ue=pe;if(Ue[0]==0){e:if(!Q.v){if(Q.g)if(Q.g.F+3e3<N.F)ne(Q),io(Q);else break e;Ms(Q),Xt(18)}}else Q.xa=Ue[1],0<Q.xa-Q.K&&Ue[2]<37500&&Q.F&&Q.A==0&&!Q.C&&(Q.C=bn(h(Q.Va,Q),6e3));us(Q.h)<=1&&Q.ta&&(Q.ta=void 0)}else ze(Q,11)}else if((N.L||Q.g==N)&&ne(Q),!U($))for(Ue=Q.Ba.g.parse($),$=0;$<Ue.length;$++){let Sn=Ue[$];const tr=Sn[0];if(!(tr<=Q.K))if(Q.K=tr,Sn=Sn[1],Q.I==2)if(Sn[0]=="c"){Q.M=Sn[1],Q.ba=Sn[2];const Bi=Sn[3];Bi!=null&&(Q.ka=Bi,Q.j.info("VER="+Q.ka));const Na=Sn[4];Na!=null&&(Q.za=Na,Q.j.info("SVER="+Q.za));const Nr=Sn[5];Nr!=null&&typeof Nr=="number"&&Nr>0&&(pe=1.5*Nr,Q.O=pe,Q.j.info("backChannelRequestTimeoutMs_="+pe)),pe=Q;const ra=N.g;if(ra){const zs=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zs){var We=pe.h;We.g||zs.indexOf("spdy")==-1&&zs.indexOf("quic")==-1&&zs.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&($l(We,We.h),We.h=null))}if(pe.G){const ul=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;ul&&(pe.wa=ul,Tn(pe.J,pe.G,ul))}}Q.I=3,Q.l&&Q.l.ra(),Q.aa&&(Q.T=Date.now()-N.F,Q.j.info("Handshake RTT: "+Q.T+"ms")),pe=Q;var wt=N;if(pe.na=gt(pe,pe.L?pe.ba:null,pe.W),wt.L){kc(pe.h,wt);var ln=wt,mr=pe.O;mr&&(ln.H=mr),ln.D&&(Fa(ln),xa(ln)),pe.g=wt}else Iu(pe);Q.i.length>0&&Ds(Q)}else Sn[0]!="stop"&&Sn[0]!="close"||ze(Q,7);else Q.I==3&&(Sn[0]=="stop"||Sn[0]=="close"?Sn[0]=="stop"?ze(Q,7):cl(Q):Sn[0]!="noop"&&Q.l&&Q.l.qa(Sn),Q.A=0)}}On(4)}catch{}}var zr=class{constructor(N,$){this.g=N,this.map=$}};function Tc(N){this.l=N||10,o.PerformanceNavigationTiming?(N=o.performance.getEntriesByType("navigation"),N=N.length>0&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function va(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function us(N){return N.h?1:N.g?N.g.size:0}function ks(N,$){return N.h?N.h==$:N.g?N.g.has($):!1}function $l(N,$){N.g?N.g.add($):N.h=$}function kc(N,$){N.h&&N.h==$?N.h=null:N.g&&N.g.has($)&&N.g.delete($)}Tc.prototype.cancel=function(){if(this.i=Ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function Ic(N){if(N.h!=null)return N.i.concat(N.h.G);if(N.g!=null&&N.g.size!==0){let $=N.i;for(const Q of N.g.values())$=$.concat(Q.G);return $}return g(N.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Po(N,$){if(N){N=N.split("&");for(let Q=0;Q<N.length;Q++){const pe=N[Q].indexOf("=");let Ue,We=null;pe>=0?(Ue=N[Q].substring(0,pe),We=N[Q].substring(pe+1)):Ue=N[Q],$(Ue,We?decodeURIComponent(We.replace(/\+/g," ")):"")}}}function Ba(N){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let $;N instanceof Ba?(this.l=N.l,si(this,N.j),this.o=N.o,this.g=N.g,Ro(this,N.u),this.h=N.h,Is(this,Dc(N.i)),this.m=N.m):N&&($=String(N).match(Su))?(this.l=!1,si(this,$[1]||"",!0),this.o=ba($[2]||""),this.g=ba($[3]||"",!0),Ro(this,$[4]),this.h=ba($[5]||"",!0),Is(this,$[6]||"",!0),this.m=ba($[7]||"")):(this.l=!1,this.i=new Oo(null,this.l))}Ba.prototype.toString=function(){const N=[];var $=this.j;$&&N.push(fr($,Pc,!0),":");var Q=this.g;return(Q||$=="file")&&(N.push("//"),($=this.o)&&N.push(fr($,Pc,!0),"@"),N.push(wr(Q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.u,Q!=null&&N.push(":",String(Q))),(Q=this.h)&&(this.g&&Q.charAt(0)!="/"&&N.push("/"),N.push(fr(Q,Q.charAt(0)=="/"?Au:Ld,!0))),(Q=this.i.toString())&&N.push("?",Q),(Q=this.m)&&N.push("#",fr(Q,Eu)),N.join("")},Ba.prototype.resolve=function(N){const $=Nn(this);let Q=!!N.j;Q?si($,N.j):Q=!!N.o,Q?$.o=N.o:Q=!!N.g,Q?$.g=N.g:Q=N.u!=null;var pe=N.h;if(Q)Ro($,N.u);else if(Q=!!N.h){if(pe.charAt(0)!="/")if(this.g&&!this.h)pe="/"+pe;else{var Ue=$.h.lastIndexOf("/");Ue!=-1&&(pe=$.h.slice(0,Ue+1)+pe)}if(Ue=pe,Ue==".."||Ue==".")pe="";else if(Ue.indexOf("./")!=-1||Ue.indexOf("/.")!=-1){pe=Ue.lastIndexOf("/",0)==0,Ue=Ue.split("/");const We=[];for(let wt=0;wt<Ue.length;){const ln=Ue[wt++];ln=="."?pe&&wt==Ue.length&&We.push(""):ln==".."?((We.length>1||We.length==1&&We[0]!="")&&We.pop(),pe&&wt==Ue.length&&We.push("")):(We.push(ln),pe=!0)}pe=We.join("/")}else pe=Ue}return Q?$.h=pe:Q=N.i.toString()!=="",Q?Is($,Dc(N.i)):Q=!!N.m,Q&&($.m=N.m),$};function Nn(N){return new Ba(N)}function si(N,$,Q){N.j=Q?ba($,!0):$,N.j&&(N.j=N.j.replace(/:$/,""))}function Ro(N,$){if($){if($=Number($),isNaN($)||$<0)throw Error("Bad port number "+$);N.u=$}else N.u=null}function Is(N,$,Q){$ instanceof Oo?(N.i=$,Ps(N.i,N.l)):(Q||($=fr($,na)),N.i=new Oo($,N.l))}function Tn(N,$,Q){N.i.set($,Q)}function ta(N){return Tn(N,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),N}function ba(N,$){return N?$?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function fr(N,$,Q){return typeof N=="string"?(N=encodeURI(N).replace($,Ui),Q&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function Ui(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var Pc=/[#\/\?@]/g,Ld=/[#\?:]/g,Au=/[#\?]/g,na=/[#\?@]/g,Eu=/#/g;function Oo(N,$){this.h=this.g=null,this.i=N||null,this.j=!!$}function oi(N){N.g||(N.g=new Map,N.h=0,N.i&&Po(N.i,function($,Q){N.add(decodeURIComponent($.replace(/\+/g," ")),Q)}))}t=Oo.prototype,t.add=function(N,$){oi(this),this.i=null,N=ds(this,N);let Q=this.g.get(N);return Q||this.g.set(N,Q=[]),Q.push($),this.h+=1,this};function Rc(N,$){oi(N),$=ds(N,$),N.g.has($)&&(N.i=null,N.h-=N.g.get($).length,N.g.delete($))}function Cu(N,$){return oi(N),$=ds(N,$),N.g.has($)}t.forEach=function(N,$){oi(this),this.g.forEach(function(Q,pe){Q.forEach(function(Ue){N.call($,Ue,pe,this)},this)},this)};function Tu(N,$){oi(N);let Q=[];if(typeof $=="string")Cu(N,$)&&(Q=Q.concat(N.g.get(ds(N,$))));else for(N=Array.from(N.g.values()),$=0;$<N.length;$++)Q=Q.concat(N[$]);return Q}t.set=function(N,$){return oi(this),this.i=null,N=ds(this,N),Cu(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[$]),this.h+=1,this},t.get=function(N,$){return N?(N=Tu(this,N),N.length>0?String(N[0]):$):$};function Oc(N,$,Q){Rc(N,$),Q.length>0&&(N.i=null,N.g.set(ds(N,$),g(Q)),N.h+=Q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],$=Array.from(this.g.keys());for(let pe=0;pe<$.length;pe++){var Q=$[pe];const Ue=wr(Q);Q=Tu(this,Q);for(let We=0;We<Q.length;We++){let wt=Ue;Q[We]!==""&&(wt+="="+wr(Q[We])),N.push(wt)}}return this.i=N.join("&")};function Dc(N){const $=new Oo;return $.i=N.i,N.g&&($.g=new Map(N.g),$.h=N.h),$}function ds(N,$){return $=String($),N.j&&($=$.toLowerCase()),$}function Ps(N,$){$&&!N.j&&(oi(N),N.i=null,N.g.forEach(function(Q,pe){const Ue=pe.toLowerCase();pe!=Ue&&(Rc(this,pe),Oc(this,Ue,Q))},N)),N.j=$}function Rs(N,$){const Q=new Ci;if(o.Image){const pe=new Image;pe.onload=f(wa,Q,"TestLoadImage: loaded",!0,$,pe),pe.onerror=f(wa,Q,"TestLoadImage: error",!1,$,pe),pe.onabort=f(wa,Q,"TestLoadImage: abort",!1,$,pe),pe.ontimeout=f(wa,Q,"TestLoadImage: timeout",!1,$,pe),o.setTimeout(function(){pe.ontimeout&&pe.ontimeout()},1e4),pe.src=N}else $(!1)}function Do(N,$){const Q=new Ci,pe=new AbortController,Ue=setTimeout(()=>{pe.abort(),wa(Q,"TestPingServer: timeout",!1,$)},1e4);fetch(N,{signal:pe.signal}).then(We=>{clearTimeout(Ue),We.ok?wa(Q,"TestPingServer: ok",!0,$):wa(Q,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(Ue),wa(Q,"TestPingServer: error",!1,$)})}function wa(N,$,Q,pe,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),pe(Q)}catch{}}function nn(){this.g=new Ze}function to(N){this.i=N.Sb||null,this.h=N.ab||!1}p(to,Me),to.prototype.g=function(){return new Hl(this.i,this.h)};function Hl(N,$){ve.call(this),this.H=N,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Hl,ve),t=Hl.prototype,t.open=function(N,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=N,this.D=$,this.readyState=1,ki(this)},t.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const $={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};N&&($.body=N),(this.H||o).fetch(new Request(this.D,$)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ol(this)),this.readyState=0},t.Pa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lc(this)}else N.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lc(N){N.j.read().then(N.Ma.bind(N)).catch(N.ga.bind(N))}t.Ma=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var $=N.value?N.value:new Uint8Array(0);($=this.B.decode($,{stream:!N.done}))&&(this.response=this.responseText+=$)}N.done?ol(this):ki(this),this.readyState==3&&Lc(this)}},t.Oa=function(N){this.g&&(this.response=this.responseText=N,ol(this))},t.Na=function(N){this.g&&(this.response=N,ol(this))},t.ga=function(){this.g&&ol(this)};function ol(N){N.readyState=4,N.l=null,N.j=null,N.B=null,ki(N)}t.setRequestHeader=function(N,$){this.A.append(N,$)},t.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],$=this.h.entries();for(var Q=$.next();!Q.done;)Q=Q.value,N.push(Q[0]+": "+Q[1]),Q=$.next();return N.join(`\r
`)};function ki(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(Hl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function xi(N){let $="";return se(N,function(Q,pe){$+=pe,$+=":",$+=Q,$+=`\r
`}),$}function Wl(N,$,Q){e:{for(pe in Q){var pe=!1;break e}pe=!0}pe||(Q=xi(Q),typeof N=="string"?Q!=null&&wr(Q):Tn(N,$,Q))}function er(N){ve.call(this),this.headers=new Map,this.L=N||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(er,ve);var Va=/^https?$/i,Gl=["POST","PUT"];t=er.prototype,t.Fa=function(N){this.H=N},t.ea=function(N,$,Q,pe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);$=$?$.toUpperCase():"GET",this.D=N,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ji.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open($,String(N),!0),this.B=!1}catch(We){Os(this,We);return}if(N=Q||"",Q=new Map(this.headers),pe)if(Object.getPrototypeOf(pe)===Object.prototype)for(var Ue in pe)Q.set(Ue,pe[Ue]);else if(typeof pe.keys=="function"&&typeof pe.get=="function")for(const We of pe.keys())Q.set(We,pe.get(We));else throw Error("Unknown input type for opt_headers: "+String(pe));pe=Array.from(Q.keys()).find(We=>We.toLowerCase()=="content-type"),Ue=o.FormData&&N instanceof o.FormData,!(Array.prototype.indexOf.call(Gl,$,void 0)>=0)||pe||Ue||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,wt]of Q)this.g.setRequestHeader(We,wt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(N),this.v=!1}catch(We){Os(this,We)}};function Os(N,$){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=$,N.o=5,ll(N),Lo(N)}function ll(N){N.A||(N.A=!0,De(N,"complete"),De(N,"error"))}t.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=N||7,De(this,"complete"),De(this,"abort"),Lo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lo(this,!0)),er.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?no(this):this.Xa())},t.Xa=function(){no(this)};function no(N){if(N.h&&typeof a<"u"){if(N.v&&qa(N)==4)setTimeout(N.Ca.bind(N),0);else if(De(N,"readystatechange"),qa(N)==4){N.h=!1;try{const We=N.ca();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var Q;if(!(Q=$)){var pe;if(pe=We===0){let wt=String(N.D).match(Su)[1]||null;!wt&&o.self&&o.self.location&&(wt=o.self.location.protocol.slice(0,-1)),pe=!Va.test(wt?wt.toLowerCase():"")}Q=pe}if(Q)De(N,"complete"),De(N,"success");else{N.o=6;try{var Ue=qa(N)>2?N.g.statusText:""}catch{Ue=""}N.l=Ue+" ["+N.ca()+"]",ll(N)}}finally{Lo(N)}}}}function Lo(N,$){if(N.g){N.m&&(clearTimeout(N.m),N.m=null);const Q=N.g;N.g=null,$||De(N,"ready");try{Q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function qa(N){return N.g?N.g.readyState:0}t.ca=function(){try{return qa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(N){if(this.g){var $=this.g.responseText;return N&&$.indexOf(N)==0&&($=$.substring(N.length)),_e($)}};function li(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.F){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function $a(N){const $={};N=(N.g&&qa(N)>=2&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let pe=0;pe<N.length;pe++){if(U(N[pe]))continue;var Q=gi(N[pe]);const Ue=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const We=$[Ue]||[];$[Ue]=We,We.push(Q)}Se($,function(pe){return pe.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(N,$,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[N]||$}function ro(N){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_a("failFast",!1,N),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_a("baseRetryDelayMs",5e3,N),this.Za=_a("retryDelaySeedMs",1e4,N),this.Ta=_a("forwardChannelMaxRetries",2,N),this.va=_a("forwardChannelRequestTimeoutMs",2e4,N),this.ma=N&&N.xmlHttpFactory||void 0,this.Ua=N&&N.Rb||void 0,this.Aa=N&&N.useFetchStreams||!1,this.O=void 0,this.L=N&&N.supportsCrossDomainXhr||!1,this.M="",this.h=new Tc(N&&N.concurrentRequestLimit),this.Ba=new nn,this.S=N&&N.fastHandshake||!1,this.R=N&&N.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=N&&N.Pb||!1,N&&N.ua&&this.j.ua(),N&&N.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&N&&N.detectBufferingProxy||!1,this.ia=void 0,N&&N.longPollingTimeout&&N.longPollingTimeout>0&&(this.ia=N.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ro.prototype,t.ka=8,t.I=1,t.connect=function(N,$,Q,pe){Xt(0),this.W=N,this.H=$||{},Q&&pe!==void 0&&(this.H.OSID=Q,this.H.OAID=pe),this.F=this.X,this.J=gt(this,null,this.W),Ds(this)};function cl(N){if(ao(N),N.I==3){var $=N.V++,Q=Nn(N.J);if(Tn(Q,"SID",N.M),Tn(Q,"RID",$),Tn(Q,"TYPE","terminate"),Ha(N,Q),$=new Qi(N,N.j,$),$.M=2,$.A=ta(Nn(Q)),Q=!1,o.navigator&&o.navigator.sendBeacon)try{Q=o.navigator.sendBeacon($.A.toString(),"")}catch{}!Q&&o.Image&&(new Image().src=$.A,Q=!0),Q||($.g=Rt($.j,null),$.g.ea($.A)),$.F=Date.now(),xa($)}nt(N)}function io(N){N.g&&(Mc(N),N.g.cancel(),N.g=null)}function ao(N){io(N),N.v&&(o.clearTimeout(N.v),N.v=null),ne(N),N.h.cancel(),N.m&&(typeof N.m=="number"&&o.clearTimeout(N.m),N.m=null)}function Ds(N){if(!va(N.h)&&!N.m){N.m=!0;var $=N.Ea;M||z(),J||(M(),J=!0),F.add($,N),N.D=0}}function Yl(N,$){return us(N.h)>=N.h.j-(N.m?1:0)?!1:N.m?(N.i=$.G.concat(N.i),!0):N.I==1||N.I==2||N.D>=(N.Sa?0:N.Ta)?!1:(N.m=bn(h(N.Ea,N,$),Ce(N,N.D)),N.D++,!0)}t.Ea=function(N){if(this.m)if(this.m=null,this.I==1){if(!N){this.V=Math.floor(Math.random()*1e5),N=this.V++;const Ue=new Qi(this,this.j,N);let We=this.o;if(this.U&&(We?(We=X(We),K(We,this.U)):We=this.U),this.u!==null||this.R||(Ue.J=We,We=null),this.S)e:{for(var $=0,Q=0;Q<this.i.length;Q++){t:{var pe=this.i[Q];if("__data__"in pe.map&&(pe=pe.map.__data__,typeof pe=="string")){pe=pe.length;break t}pe=void 0}if(pe===void 0)break;if($+=pe,$>4096){$=Q;break e}if($===4096||Q===this.i.length-1){$=Q+1;break e}}$=1e3}else $=1e3;$=ku(this,Ue,$),Q=Nn(this.J),Tn(Q,"RID",N),Tn(Q,"CVER",22),this.G&&Tn(Q,"X-HTTP-Session-Id",this.G),Ha(this,Q),We&&(this.R?$="headers="+wr(xi(We))+"&"+$:this.u&&Wl(Q,this.u,We)),$l(this.h,Ue),this.Ra&&Tn(Q,"TYPE","init"),this.S?(Tn(Q,"$req",$),Tn(Q,"SID","null"),Ue.U=!0,yi(Ue,Q,null)):yi(Ue,Q,$),this.I=2}}else this.I==3&&(N?Ls(this,N):this.i.length==0||va(this.h)||Ls(this))};function Ls(N,$){var Q;$?Q=$.l:Q=N.V++;const pe=Nn(N.J);Tn(pe,"SID",N.M),Tn(pe,"RID",Q),Tn(pe,"AID",N.K),Ha(N,pe),N.u&&N.o&&Wl(pe,N.u,N.o),Q=new Qi(N,N.j,Q,N.D+1),N.u===null&&(Q.J=N.o),$&&(N.i=$.G.concat(N.i)),$=ku(N,Q,1e3),Q.H=Math.round(N.va*.5)+Math.round(N.va*.5*Math.random()),$l(N.h,Q),yi(Q,pe,$)}function Ha(N,$){N.H&&se(N.H,function(Q,pe){Tn($,pe,Q)}),N.l&&se({},function(Q,pe){Tn($,pe,Q)})}function ku(N,$,Q){Q=Math.min(N.i.length,Q);const pe=N.l?h(N.l.Ka,N.l,N):null;e:{var Ue=N.i;let ln=-1;for(;;){const mr=["count="+Q];ln==-1?Q>0?(ln=Ue[0].g,mr.push("ofs="+ln)):ln=0:mr.push("ofs="+ln);let Sn=!0;for(let tr=0;tr<Q;tr++){var We=Ue[tr].g;const Bi=Ue[tr].map;if(We-=ln,We<0)ln=Math.max(0,Ue[tr].g-100),Sn=!1;else try{We="req"+We+"_"||"";try{var wt=Bi instanceof Map?Bi:Object.entries(Bi);for(const[Na,Nr]of wt){let ra=Nr;c(Nr)&&(ra=bt(Nr)),mr.push(We+Na+"="+encodeURIComponent(ra))}}catch(Na){throw mr.push(We+"type="+encodeURIComponent("_badmap")),Na}}catch{pe&&pe(Bi)}}if(Sn){wt=mr.join("&");break e}}wt=void 0}return N=N.i.splice(0,Q),$.G=N,wt}function Iu(N){if(!N.g&&!N.v){N.Y=1;var $=N.Da;M||z(),J||(M(),J=!0),F.add($,N),N.A=0}}function Ms(N){return N.g||N.v||N.A>=3?!1:(N.Y++,N.v=bn(h(N.Da,N),Ce(N,N.A)),N.A++,!0)}t.Da=function(){if(this.v=null,R(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var N=4*this.T;this.j.info("BP detection timer enabled: "+N),this.B=bn(h(this.Wa,this),N)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Xt(10),io(this),R(this))};function Mc(N){N.B!=null&&(o.clearTimeout(N.B),N.B=null)}function R(N){N.g=new Qi(N,N.j,"rpc",N.Y),N.u===null&&(N.g.J=N.o),N.g.P=0;var $=Nn(N.na);Tn($,"RID","rpc"),Tn($,"SID",N.M),Tn($,"AID",N.K),Tn($,"CI",N.F?"0":"1"),!N.F&&N.ia&&Tn($,"TO",N.ia),Tn($,"TYPE","xmlhttp"),Ha(N,$),N.u&&N.o&&Wl($,N.u,N.o),N.O&&(N.g.H=N.O);var Q=N.g;N=N.ba,Q.M=1,Q.A=ta(Nn($)),Q.u=null,Q.R=!0,ya(Q,N)}t.Va=function(){this.C!=null&&(this.C=null,io(this),Ms(this),Xt(19))};function ne(N){N.C!=null&&(o.clearTimeout(N.C),N.C=null)}function Ne(N,$){var Q=null;if(N.g==$){ne(N),Mc(N),N.g=null;var pe=2}else if(ks(N.h,$))Q=$.G,kc(N.h,$),pe=1;else return;if(N.I!=0){if($.o)if(pe==1){Q=$.u?$.u.length:0,$=Date.now()-$.F;var Ue=N.D;pe=un(),De(pe,new Ht(pe,Q)),Ds(N)}else Iu(N);else if(Ue=$.m,Ue==3||Ue==0&&$.X>0||!(pe==1&&Yl(N,$)||pe==2&&Ms(N)))switch(Q&&Q.length>0&&($=N.h,$.i=$.i.concat(Q)),Ue){case 1:ze(N,5);break;case 4:ze(N,10);break;case 3:ze(N,6);break;default:ze(N,2)}}}function Ce(N,$){let Q=N.Qa+Math.floor(Math.random()*N.Za);return N.isActive()||(Q*=2),Q*$}function ze(N,$){if(N.j.info("Error code "+$),$==2){var Q=h(N.bb,N),pe=N.Ua;const Ue=!pe;pe=new Ba(pe||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||si(pe,"https"),ta(pe),Ue?Rs(pe.toString(),Q):Do(pe.toString(),Q)}else Xt(2);N.I=0,N.l&&N.l.pa($),nt(N),ao(N)}t.bb=function(N){N?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function nt(N){if(N.I=0,N.ja=[],N.l){const $=Ic(N.h);($.length!=0||N.i.length!=0)&&(b(N.ja,$),b(N.ja,N.i),N.h.i.length=0,g(N.i),N.i.length=0),N.l.oa()}}function gt(N,$,Q){var pe=Q instanceof Ba?Nn(Q):new Ba(Q);if(pe.g!="")$&&(pe.g=$+"."+pe.g),Ro(pe,pe.u);else{var Ue=o.location;pe=Ue.protocol,$=$?$+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;const We=new Ba(null);pe&&si(We,pe),$&&(We.g=$),Ue&&Ro(We,Ue),Q&&(We.h=Q),pe=We}return Q=N.G,$=N.wa,Q&&$&&Tn(pe,Q,$),Tn(pe,"VER",N.ka),Ha(N,pe),pe}function Rt(N,$,Q){if($&&!N.L)throw Error("Can't create secondary domain capable XhrIo object.");return $=N.Aa&&!N.ma?new er(new to({ab:Q})):new er(N.ma),$.Fa(N.L),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bt(){}t=Bt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Jt(){}Jt.prototype.g=function(N,$){return new Yt(N,$)};function Yt(N,$){ve.call(this),this.g=new ro($),this.l=N,this.h=$&&$.messageUrlParams||null,N=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(N?N["X-WebChannel-Content-Type"]=$.messageContentType:N={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.sa&&(N?N["X-WebChannel-Client-Profile"]=$.sa:N={"X-WebChannel-Client-Profile":$.sa}),this.g.U=N,(N=$&&$.Qb)&&!U(N)&&(this.g.u=N),this.A=$&&$.supportsCrossDomainXhr||!1,this.v=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!U($)&&(this.g.G=$,N=this.h,N!==null&&$ in N&&(N=this.h,$ in N&&delete N[$])),this.j=new lr(this)}p(Yt,ve),Yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){cl(this.g)},Yt.prototype.o=function(N){var $=this.g;if(typeof N=="string"){var Q={};Q.__data__=N,N=Q}else this.v&&(Q={},Q.__data__=bt(N),N=Q);$.i.push(new zr($.Ya++,N)),$.I==3&&Ds($)},Yt.prototype.N=function(){this.g.l=null,delete this.j,cl(this.g),delete this.g,Yt.Z.N.call(this)};function Dn(N){st.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var $=N.__sm__;if($){e:{for(const Q in $){N=Q;break e}N=void 0}(this.i=N)&&(N=this.i,$=$!==null&&N in $?$[N]:void 0),this.data=$}else this.data=N}p(Dn,st);function _r(){At.call(this),this.status=1}p(_r,At);function lr(N){this.g=N}p(lr,Bt),lr.prototype.ra=function(){De(this.g,"a")},lr.prototype.qa=function(N){De(this.g,new Dn(N))},lr.prototype.pa=function(N){De(this.g,new _r)},lr.prototype.oa=function(){De(this.g,"b")},Jt.prototype.createWebChannel=Jt.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,ID=function(){return new Jt},kD=function(){return un()},TD=$t,zN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Iv=Zi,Ti.COMPLETE="complete",CD=Ti,xt.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",ve.prototype.listen=ve.prototype.J,p0=xt,er.prototype.listenOnce=er.prototype.K,er.prototype.getLastError=er.prototype.Ha,er.prototype.getLastErrorCode=er.prototype.ya,er.prototype.getStatus=er.prototype.ca,er.prototype.getResponseJson=er.prototype.La,er.prototype.getResponseText=er.prototype.la,er.prototype.send=er.prototype.ea,er.prototype.setWithCredentials=er.prototype.Fa,ED=er}).apply(typeof $x<"u"?$x:typeof self<"u"?self:typeof window<"u"?window:{});const TC="@firebase/firestore",kC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ws=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ws.UNAUTHENTICATED=new ws(null),ws.GOOGLE_CREDENTIALS=new ws("google-credentials-uid"),ws.FIRST_PARTY=new ws("first-party-uid"),ws.MOCK_USER=new ws("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf=new xb("@firebase/firestore");function ip(){return Hf.logLevel}function Ot(t,...e){if(Hf.logLevel<=zn.DEBUG){const n=e.map(MS);Hf.debug(`Firestore (${Jp}): ${t}`,...n)}}function bd(t,...e){if(Hf.logLevel<=zn.ERROR){const n=e.map(MS);Hf.error(`Firestore (${Jp}): ${t}`,...n)}}function kp(t,...e){if(Hf.logLevel<=zn.WARN){const n=e.map(MS);Hf.warn(`Firestore (${Jp}): ${t}`,...n)}}function MS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,PD(t,r,n)}function PD(t,e,n){let r=`FIRESTORE (${Jp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bd(r),new Error(r)}function dr(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||PD(e,i,r)}function vn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends rl{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ws.UNAUTHENTICATED)))}shutdown(){}}class jK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class SK{constructor(e){this.t=e,this.currentUser=ws.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){dr(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let a=new ud;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ud,e.enqueueRetryable((()=>i(this.currentUser)))};const o=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ud)}}),0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dr(typeof r.accessToken=="string",31837,{l:r}),new RD(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dr(e===null||typeof e=="string",2055,{h:e}),new ws(e)}}class AK{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ws.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class EK{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new AK(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ws.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CK{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,es(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){dr(this.o===void 0,3512);const r=a=>{a.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const o=a.token!==this.m;return this.m=a.token,Ot("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(dr(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new IC(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=TK(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Fn(t,e){return t<e?-1:t>e?1:0}function FN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),a=e.charAt(r);if(i!==a)return i5(i)===i5(a)?Fn(i,a):i5(i)?1:-1}return Fn(t.length,e.length)}const kK=55296,IK=57343;function i5(t){const e=t.charCodeAt(0);return e>=kK&&e<=IK}function Ip(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="__name__";class eu{constructor(e,n,r){n===void 0?n=0:n>e.length&&cn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&cn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return eu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof eu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=eu.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Fn(e.length,n.length)}static compareSegments(e,n){const r=eu.isNumericId(e),i=eu.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?eu.extractNumericId(e).compare(eu.extractNumericId(n)):FN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kh.fromString(e.substring(4,e.length-2))}}class Lr extends eu{construct(e,n,r){return new Lr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Et(dt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Lr(n)}static emptyPath(){return new Lr([])}}const PK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ts extends eu{construct(e,n,r){return new ts(e,n,r)}static isValidIdentifier(e){return PK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ts.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PC}static keyField(){return new ts([PC])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Et(dt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new Et(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Et(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else c==="`"?(o=!o,i++):c!=="."||o?(r+=c,i++):(a(),i++)}if(a(),o)throw new Et(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ts(n)}static emptyPath(){return new ts([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.path=e}static fromPath(e){return new tn(Lr.fromString(e))}static fromName(e){return new tn(Lr.fromString(e).popFirst(5))}static empty(){return new tn(Lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tn(new Lr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e,n){if(!n)throw new Et(dt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RK(t,e,n,r){if(e===!0&&r===!0)throw new Et(dt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RC(t){if(!tn.isDocumentKey(t))throw new Et(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function OC(t){if(tn.isDocumentKey(t))throw new Et(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function DD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function jb(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":cn(12329,{type:typeof t})}function wc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Et(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jb(t);throw new Et(dt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(t,e){const n={typeString:t};return e&&(n.value=e),n}function Sy(t,e){if(!DD(t))throw new Et(dt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new Et(dt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=-62135596800,LC=1e6;class $r{static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*LC);return new $r(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Et(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<DC)throw new Et(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/LC}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$r._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sy(e,$r._jsonSchema))return new $r(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-DC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$r._jsonSchemaVersion="firestore/timestamp/1.0",$r._jsonSchema={type:Yi("string",$r._jsonSchemaVersion),seconds:Yi("number"),nanoseconds:Yi("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{static fromTimestamp(e){return new pn(e)}static min(){return new pn(new $r(0,0))}static max(){return new pn(new $r(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=-1;function OK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=pn.fromTimestamp(r===1e9?new $r(n+1,0):new $r(n,r));return new Dh(i,tn.empty(),e)}function DK(t){return new Dh(t.readTime,t.key,H0)}class Dh{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Dh(pn.min(),tn.empty(),H0)}static max(){return new Dh(pn.max(),tn.empty(),H0)}}function LK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=tn.comparator(t.documentKey,e.documentKey),n!==0?n:Fn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(t){if(t.code!==dt.FAILED_PRECONDITION||t.message!==MK)throw t;Ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&cn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new pt(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof pt?n:pt.resolve(n)}catch(n){return pt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):pt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):pt.reject(n)}static resolve(e){return new pt(((n,r)=>{n(e)}))}static reject(e){return new pt(((n,r)=>{r(e)}))}static waitFor(e){return new pt(((n,r)=>{let i=0,a=0,o=!1;e.forEach((c=>{++i,c.next((()=>{++a,o&&a===i&&n()}),(d=>r(d)))})),o=!0,a===i&&n()}))}static or(e){let n=pt.resolve(!1);for(const r of e)n=n.next((i=>i?pt.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new pt(((r,i)=>{const a=e.length,o=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;n(e[h]).next((f=>{o[h]=f,++c,c===a&&r(o)}),(f=>i(f)))}}))}static doWhile(e,n){return new pt(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function FK(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eg(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Sb.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=-1;function Ab(t){return t==null}function r1(t){return t===0&&1/t==-1/0}function UK(t){return typeof t=="number"&&Number.isInteger(t)&&!r1(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD="";function BK(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=MC(e)),e=VK(t.get(n),e);return MC(e)}function VK(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case LD:n+="";break;default:n+=a}}return n}function MC(t){return t+LD+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hh(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function MD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,n){this.comparator=e,this.root=n||Ja.EMPTY}insert(e,n){return new mi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ja.BLACK,null,null))}remove(e){return new mi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ja.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hx(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hx(this.root,e,this.comparator,!0)}}class Hx{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ja{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ja.RED,this.left=i??Ja.EMPTY,this.right=a??Ja.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ja(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ja.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ja.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ja.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ja.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw cn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw cn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw cn(27949);return e+(this.isRed()?0:1)}}Ja.EMPTY=null,Ja.RED=!0,Ja.BLACK=!1;Ja.EMPTY=new class{constructor(){this.size=0}get key(){throw cn(57766)}get value(){throw cn(16141)}get color(){throw cn(16727)}get left(){throw cn(29726)}get right(){throw cn(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ja(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.comparator=e,this.data=new mi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FC(this.data.getIterator())}getIteratorFrom(e){return new FC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof ma)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new ma(this.comparator);return n.data=e,n}}class FC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this.fields=e,e.sort(ts.comparator)}static empty(){return new Xo([])}unionWith(e){let n=new ma(ts.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ip(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new zD("Invalid base64 string: "+a):a}})(e);return new as(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let o=0;o<i.length;++o)a+=String.fromCharCode(i[o]);return a})(e);return new as(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}as.EMPTY_BYTE_STRING=new as("");const qK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lh(t){if(dr(!!t,39018),typeof t=="string"){let e=0;const n=qK.exec(t);if(dr(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oi(t.seconds),nanos:Oi(t.nanos)}}function Oi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mh(t){return typeof t=="string"?as.fromBase64String(t):as.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="server_timestamp",UD="__type__",BD="__previous_value__",VD="__local_write_time__";function US(t){return(t?.mapValue?.fields||{})[UD]?.stringValue===FD}function Eb(t){const e=t.mapValue.fields[BD];return US(e)?Eb(e):e}function W0(t){const e=Lh(t.mapValue.fields[VD].timestampValue);return new $r(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $K{constructor(e,n,r,i,a,o,c,d,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=f}}const i1="(default)";class G0{constructor(e,n){this.projectId=e,this.database=n||i1}static empty(){return new G0("","")}get isDefaultDatabase(){return this.database===i1}isEqual(e){return e instanceof G0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD="__type__",HK="__max__",Wx={mapValue:{}},$D="__vector__",a1="value";function zh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?US(t)?4:GK(t)?9007199254740991:WK(t)?10:11:cn(28295,{value:t})}function xu(t,e){if(t===e)return!0;const n=zh(t);if(n!==zh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return W0(t).isEqual(W0(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const o=Lh(i.timestampValue),c=Lh(a.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Mh(i.bytesValue).isEqual(Mh(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Oi(i.geoPointValue.latitude)===Oi(a.geoPointValue.latitude)&&Oi(i.geoPointValue.longitude)===Oi(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Oi(i.integerValue)===Oi(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const o=Oi(i.doubleValue),c=Oi(a.doubleValue);return o===c?r1(o)===r1(c):isNaN(o)&&isNaN(c)}return!1})(t,e);case 9:return Ip(t.arrayValue.values||[],e.arrayValue.values||[],xu);case 10:case 11:return(function(i,a){const o=i.mapValue.fields||{},c=a.mapValue.fields||{};if(zC(o)!==zC(c))return!1;for(const d in o)if(o.hasOwnProperty(d)&&(c[d]===void 0||!xu(o[d],c[d])))return!1;return!0})(t,e);default:return cn(52216,{left:t})}}function Y0(t,e){return(t.values||[]).find((n=>xu(n,e)))!==void 0}function Pp(t,e){if(t===e)return 0;const n=zh(t),r=zh(e);if(n!==r)return Fn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fn(t.booleanValue,e.booleanValue);case 2:return(function(a,o){const c=Oi(a.integerValue||a.doubleValue),d=Oi(o.integerValue||o.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return UC(t.timestampValue,e.timestampValue);case 4:return UC(W0(t),W0(e));case 5:return FN(t.stringValue,e.stringValue);case 6:return(function(a,o){const c=Mh(a),d=Mh(o);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,o){const c=a.split("/"),d=o.split("/");for(let h=0;h<c.length&&h<d.length;h++){const f=Fn(c[h],d[h]);if(f!==0)return f}return Fn(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,o){const c=Fn(Oi(a.latitude),Oi(o.latitude));return c!==0?c:Fn(Oi(a.longitude),Oi(o.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return BC(t.arrayValue,e.arrayValue);case 10:return(function(a,o){const c=a.fields||{},d=o.fields||{},h=c[a1]?.arrayValue,f=d[a1]?.arrayValue,p=Fn(h?.values?.length||0,f?.values?.length||0);return p!==0?p:BC(h,f)})(t.mapValue,e.mapValue);case 11:return(function(a,o){if(a===Wx.mapValue&&o===Wx.mapValue)return 0;if(a===Wx.mapValue)return 1;if(o===Wx.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=o.fields||{},f=Object.keys(h);d.sort(),f.sort();for(let p=0;p<d.length&&p<f.length;++p){const x=FN(d[p],f[p]);if(x!==0)return x;const g=Pp(c[d[p]],h[f[p]]);if(g!==0)return g}return Fn(d.length,f.length)})(t.mapValue,e.mapValue);default:throw cn(23264,{he:n})}}function UC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fn(t,e);const n=Lh(t),r=Lh(e),i=Fn(n.seconds,r.seconds);return i!==0?i:Fn(n.nanos,r.nanos)}function BC(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Pp(n[i],r[i]);if(a)return a}return Fn(n.length,r.length)}function Rp(t){return UN(t)}function UN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Lh(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Mh(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return tn.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=UN(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const o of r)a?a=!1:i+=",",i+=`${o}:${UN(n.fields[o])}`;return i+"}"})(t.mapValue):cn(61005,{value:t})}function Pv(t){switch(zh(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eb(t);return e?16+Pv(e):16;case 5:return 2*t.stringValue.length;case 6:return Mh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,a)=>i+Pv(a)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Hh(r.fields,((a,o)=>{i+=a.length+Pv(o)})),i})(t.mapValue);default:throw cn(13486,{value:t})}}function VC(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function BN(t){return!!t&&"integerValue"in t}function BS(t){return!!t&&"arrayValue"in t}function qC(t){return!!t&&"nullValue"in t}function $C(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rv(t){return!!t&&"mapValue"in t}function WK(t){return(t?.mapValue?.fields||{})[qD]?.stringValue===$D}function E0(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Hh(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=E0(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=E0(t.arrayValue.values[n]);return e}return{...t}}function GK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===HK}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.value=e}static empty(){return new So({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=E0(n)}setAll(e){let n=ts.emptyPath(),r={},i=[];e.forEach(((o,c)=>{if(!n.isImmediateParentOf(c)){const d=this.getFieldsMap(n);this.applyChanges(d,r,i),r={},i=[],n=c.popLast()}o?r[c.lastSegment()]=E0(o):i.push(c.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Rv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xu(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hh(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new So(E0(this.value))}}function HD(t){const e=[];return Hh(t.fields,((n,r)=>{const i=new ts([n]);if(Rv(r)){const a=HD(r.mapValue).fields;if(a.length===0)e.push(i);else for(const o of a)e.push(i.child(o))}else e.push(i)})),new Xo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r,i,a,o,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=c}static newInvalidDocument(e){return new _s(e,0,pn.min(),pn.min(),pn.min(),So.empty(),0)}static newFoundDocument(e,n,r,i){return new _s(e,1,n,pn.min(),r,i,0)}static newNoDocument(e,n){return new _s(e,2,n,pn.min(),pn.min(),So.empty(),0)}static newUnknownDocument(e,n){return new _s(e,3,n,pn.min(),pn.min(),So.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=So.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=So.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _s&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _s(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.position=e,this.inclusive=n}}function HC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],o=t.position[i];if(a.field.isKeyField()?r=tn.comparator(tn.fromName(o.referenceValue),n.key):r=Pp(o,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function WC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xu(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n="asc"){this.field=e,this.dir=n}}function YK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{}class Gi extends WD{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XK(e,n,r):n==="array-contains"?new QK(e,r):n==="in"?new eX(e,r):n==="not-in"?new tX(e,r):n==="array-contains-any"?new nX(e,r):new Gi(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZK(e,r):new JK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Pp(n,this.value)):n!==null&&zh(this.value)===zh(n)&&this.matchesComparison(Pp(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return cn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _c extends WD{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new _c(e,n)}matches(e){return GD(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GD(t){return t.op==="and"}function YD(t){return KK(t)&&GD(t)}function KK(t){for(const e of t.filters)if(e instanceof _c)return!1;return!0}function VN(t){if(t instanceof Gi)return t.field.canonicalString()+t.op.toString()+Rp(t.value);if(YD(t))return t.filters.map((e=>VN(e))).join(",");{const e=t.filters.map((n=>VN(n))).join(",");return`${t.op}(${e})`}}function KD(t,e){return t instanceof Gi?(function(r,i){return i instanceof Gi&&r.op===i.op&&r.field.isEqual(i.field)&&xu(r.value,i.value)})(t,e):t instanceof _c?(function(r,i){return i instanceof _c&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,o,c)=>a&&KD(o,i.filters[c])),!0):!1})(t,e):void cn(19439)}function XD(t){return t instanceof Gi?(function(n){return`${n.field.canonicalString()} ${n.op} ${Rp(n.value)}`})(t):t instanceof _c?(function(n){return n.op.toString()+" {"+n.getFilters().map(XD).join(" ,")+"}"})(t):"Filter"}class XK extends Gi{constructor(e,n,r){super(e,n,r),this.key=tn.fromName(r.referenceValue)}matches(e){const n=tn.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZK extends Gi{constructor(e,n){super(e,"in",n),this.keys=ZD("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JK extends Gi{constructor(e,n){super(e,"not-in",n),this.keys=ZD("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZD(t,e){return(e.arrayValue?.values||[]).map((n=>tn.fromName(n.referenceValue)))}class QK extends Gi{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return BS(n)&&Y0(n.arrayValue,this.value)}}class eX extends Gi{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Y0(this.value.arrayValue,n)}}class tX extends Gi{constructor(e,n){super(e,"not-in",n)}matches(e){if(Y0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Y0(this.value.arrayValue,n)}}class nX extends Gi{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!BS(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Y0(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e,n=null,r=[],i=[],a=null,o=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=c,this.Te=null}}function GC(t,e=null,n=[],r=[],i=null,a=null,o=null){return new rX(t,e,n,r,i,a,o)}function VS(t){const e=vn(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>VN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Ab(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Rp(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Rp(r))).join(",")),e.Te=n}return e.Te}function qS(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KD(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WC(t.startAt,e.startAt)&&WC(t.endAt,e.endAt)}function qN(t){return tn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n=null,r=[],i=[],a=null,o="F",c=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iX(t,e,n,r,i,a,o,c){return new tg(t,e,n,r,i,a,o,c)}function $S(t){return new tg(t)}function YC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JD(t){return t.collectionGroup!==null}function C0(t){const e=vn(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new ma(ts.comparator);return o.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new K0(a,r))})),n.has(ts.keyField().canonicalString())||e.Ie.push(new K0(ts.keyField(),r))}return e.Ie}function cu(t){const e=vn(t);return e.Ee||(e.Ee=aX(e,C0(t))),e.Ee}function aX(t,e){if(t.limitType==="F")return GC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new K0(i.field,a)}));const n=t.endAt?new s1(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new s1(t.startAt.position,t.startAt.inclusive):null;return GC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $N(t,e){const n=t.filters.concat([e]);return new tg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function o1(t,e,n){return new tg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cb(t,e){return qS(cu(t),cu(e))&&t.limitType===e.limitType}function QD(t){return`${VS(cu(t))}|lt:${t.limitType}`}function ap(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>XD(i))).join(", ")}]`),Ab(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(o){return`${o.field.canonicalString()} (${o.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Rp(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Rp(i))).join(",")),`Target(${r})`})(cu(t))}; limitType=${t.limitType})`}function Tb(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):tn.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of C0(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(o,c,d){const h=HC(o,c,d);return o.inclusive?h<=0:h<0})(r.startAt,C0(r),i)||r.endAt&&!(function(o,c,d){const h=HC(o,c,d);return o.inclusive?h>=0:h>0})(r.endAt,C0(r),i))})(t,e)}function sX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eL(t){return(e,n)=>{let r=!1;for(const i of C0(t)){const a=oX(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function oX(t,e,n){const r=t.field.isKeyField()?tn.comparator(e.key,n.key):(function(a,o,c){const d=o.data.field(a),h=c.data.field(a);return d!==null&&h!==null?Pp(d,h):cn(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return cn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hh(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return MD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lX=new mi(tn.comparator);function wd(){return lX}const tL=new mi(tn.comparator);function g0(...t){let e=tL;for(const n of t)e=e.insert(n.key,n);return e}function nL(t){let e=tL;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Sf(){return T0()}function rL(){return T0()}function T0(){return new cm((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cX=new mi(tn.comparator),uX=new ma(tn.comparator);function Un(...t){let e=uX;for(const n of t)e=e.add(n);return e}const dX=new ma(Fn);function hX(){return dX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:r1(e)?"-0":e}}function iL(t){return{integerValue:""+t}}function aL(t,e){return UK(e)?iL(e):HS(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this._=void 0}}function fX(t,e,n){return t instanceof X0?(function(i,a){const o={fields:{[UD]:{stringValue:FD},[VD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&US(a)&&(a=Eb(a)),a&&(o.fields[BD]=a),{mapValue:o}})(n,e):t instanceof Z0?oL(t,e):t instanceof J0?lL(t,e):(function(i,a){const o=sL(i,a),c=KC(o)+KC(i.Ae);return BN(o)&&BN(i.Ae)?iL(c):HS(i.serializer,c)})(t,e)}function mX(t,e,n){return t instanceof Z0?oL(t,e):t instanceof J0?lL(t,e):n}function sL(t,e){return t instanceof Q0?(function(r){return BN(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class X0 extends kb{}class Z0 extends kb{constructor(e){super(),this.elements=e}}function oL(t,e){const n=cL(e);for(const r of t.elements)n.some((i=>xu(i,r)))||n.push(r);return{arrayValue:{values:n}}}class J0 extends kb{constructor(e){super(),this.elements=e}}function lL(t,e){let n=cL(e);for(const r of t.elements)n=n.filter((i=>!xu(i,r)));return{arrayValue:{values:n}}}class Q0 extends kb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function KC(t){return Oi(t.integerValue||t.doubleValue)}function cL(t){return BS(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e,n){this.field=e,this.transform=n}}function pX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Z0&&i instanceof Z0||r instanceof J0&&i instanceof J0?Ip(r.elements,i.elements,xu):r instanceof Q0&&i instanceof Q0?xu(r.Ae,i.Ae):r instanceof X0&&i instanceof X0})(t.transform,e.transform)}class gX{constructor(e,n){this.version=e,this.transformResults=n}}class Il{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Il}static exists(e){return new Il(void 0,e)}static updateTime(e){return new Il(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ov(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ib{}function dL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new WS(t.key,Il.none()):new Ay(t.key,t.data,Il.none());{const n=t.data,r=So.empty();let i=new ma(ts.comparator);for(let a of e.fields)if(!i.has(a)){let o=n.field(a);o===null&&a.length>1&&(a=a.popLast(),o=n.field(a)),o===null?r.delete(a):r.set(a,o),i=i.add(a)}return new Wh(t.key,r,new Xo(i.toArray()),Il.none())}}function yX(t,e,n){t instanceof Ay?(function(i,a,o){const c=i.value.clone(),d=ZC(i.fieldTransforms,a,o.transformResults);c.setAll(d),a.convertToFoundDocument(o.version,c).setHasCommittedMutations()})(t,e,n):t instanceof Wh?(function(i,a,o){if(!Ov(i.precondition,a))return void a.convertToUnknownDocument(o.version);const c=ZC(i.fieldTransforms,a,o.transformResults),d=a.data;d.setAll(hL(i)),d.setAll(c),a.convertToFoundDocument(o.version,d).setHasCommittedMutations()})(t,e,n):(function(i,a,o){a.convertToNoDocument(o.version).setHasCommittedMutations()})(0,e,n)}function k0(t,e,n,r){return t instanceof Ay?(function(a,o,c,d){if(!Ov(a.precondition,o))return c;const h=a.value.clone(),f=JC(a.fieldTransforms,d,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null})(t,e,n,r):t instanceof Wh?(function(a,o,c,d){if(!Ov(a.precondition,o))return c;const h=JC(a.fieldTransforms,d,o),f=o.data;return f.setAll(hL(a)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(a,o,c){return Ov(a.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c})(t,e,n)}function xX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=sL(r.transform,i||null);a!=null&&(n===null&&(n=So.empty()),n.set(r.field,a))}return n||null}function XC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ip(r,i,((a,o)=>pX(a,o)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ay extends Ib{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wh extends Ib{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function hL(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function ZC(t,e,n){const r=new Map;dr(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const a=t[i],o=a.transform,c=e.data.field(a.field);r.set(a.field,mX(o,c,n[i]))}return r}function JC(t,e,n){const r=new Map;for(const i of t){const a=i.transform,o=n.data.field(i.field);r.set(i.field,fX(a,o,e))}return r}class WS extends Ib{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vX extends Ib{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bX{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&yX(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=k0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=k0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rL();return this.mutations.forEach((i=>{const a=e.get(i.key),o=a.overlayedDocument;let c=this.applyToLocalView(o,a.mutatedFields);c=n.has(i.key)?null:c;const d=dL(o,c);d!==null&&r.set(i.key,d),o.isValidDocument()||o.convertToNoDocument(pn.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Un())}isEqual(e){return this.batchId===e.batchId&&Ip(this.mutations,e.mutations,((n,r)=>XC(n,r)))&&Ip(this.baseMutations,e.baseMutations,((n,r)=>XC(n,r)))}}class GS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return cX})();const a=e.mutations;for(let o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new GS(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _X{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hi,Wn;function NX(t){switch(t){case dt.OK:return cn(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return cn(15467,{code:t})}}function fL(t){if(t===void 0)return bd("GRPC error has no .code"),dt.UNKNOWN;switch(t){case Hi.OK:return dt.OK;case Hi.CANCELLED:return dt.CANCELLED;case Hi.UNKNOWN:return dt.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return dt.INTERNAL;case Hi.UNAVAILABLE:return dt.UNAVAILABLE;case Hi.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case Hi.NOT_FOUND:return dt.NOT_FOUND;case Hi.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case Hi.ABORTED:return dt.ABORTED;case Hi.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case Hi.DATA_LOSS:return dt.DATA_LOSS;default:return cn(39323,{code:t})}}(Wn=Hi||(Hi={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jX(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SX=new kh([4294967295,4294967295],0);function QC(t){const e=jX().encode(t),n=new AD;return n.update(e),new Uint8Array(n.digest())}function eT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new kh([n,r],0),new kh([i,a],0)]}class YS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new y0(`Invalid padding: ${n}`);if(r<0)throw new y0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new y0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new y0(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=kh.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(kh.fromNumber(r)));return i.compare(SX)===1&&(i=new kh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=QC(e),[r,i]=eT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),o=new YS(a,i,n);return r.forEach((c=>o.insert(c))),o}insert(e){if(this.ge===0)return;const n=QC(e),[r,i]=eT(n);for(let a=0;a<this.hashCount;a++){const o=this.ye(r,i,a);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class y0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ey.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Pb(pn.min(),i,new mi(Fn),wd(),Un())}}class Ey{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ey(r,n,Un(),Un(),Un())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class mL{constructor(e,n){this.targetId=e,this.Ce=n}}class pL{constructor(e,n,r=as.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tT{constructor(){this.ve=0,this.Fe=nT(),this.Me=as.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Un(),n=Un(),r=Un();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:cn(38017,{changeType:a})}})),new Ey(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=nT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,dr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AX{constructor(e){this.Ge=e,this.ze=new Map,this.je=wd(),this.Je=Gx(),this.He=Gx(),this.Ye=new mi(Fn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:cn(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const a=i.target;if(qN(a))if(r===0){const o=new tn(a.path);this.et(n,o,_s.newNoDocument(o,pn.min()))}else dr(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const c=this.ut(e),d=c?this.ct(c,e,o):1;if(d!==0){this.it(n);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,h)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let o,c;try{o=Mh(r).toUint8Array()}catch(d){if(d instanceof zD)return kp("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new YS(o,i,a)}catch(d){return kp(d instanceof y0?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const o=this.Ge.ht(),c=`projects/${o.projectId}/databases/${o.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(n,a,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((a,o)=>{const c=this.ot(o);if(c){if(a.current&&qN(c.target)){const d=new tn(c.target.path);this.It(d).has(o)||this.Et(o,d)||this.et(o,d,_s.newNoDocument(d,e))}a.Be&&(n.set(o,a.ke()),a.qe())}}));let r=Un();this.He.forEach(((a,o)=>{let c=!0;o.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(a))})),this.je.forEach(((a,o)=>o.setReadTime(e)));const i=new Pb(e,n,this.Ye,this.je,r);return this.je=wd(),this.Je=Gx(),this.He=Gx(),this.Ye=new mi(Fn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new tT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new ma(Fn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new ma(Fn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Ot("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gx(){return new mi(tn.comparator)}function nT(){return new mi(tn.comparator)}const EX={asc:"ASCENDING",desc:"DESCENDING"},CX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},TX={and:"AND",or:"OR"};class kX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function HN(t,e){return t.useProto3Json||Ab(e)?e:{value:e}}function l1(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IX(t,e){return l1(t,e.toTimestamp())}function uu(t){return dr(!!t,49232),pn.fromTimestamp((function(n){const r=Lh(n);return new $r(r.seconds,r.nanos)})(t))}function KS(t,e){return WN(t,e).canonicalString()}function WN(t,e){const n=(function(i){return new Lr(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function yL(t){const e=Lr.fromString(t);return dr(_L(e),10190,{key:e.toString()}),e}function GN(t,e){return KS(t.databaseId,e.path)}function a5(t,e){const n=yL(e);if(n.get(1)!==t.databaseId.projectId)throw new Et(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Et(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new tn(vL(n))}function xL(t,e){return KS(t.databaseId,e)}function PX(t){const e=yL(t);return e.length===4?Lr.emptyPath():vL(e)}function YN(t){return new Lr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vL(t){return dr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rT(t,e,n){return{name:GN(t,e),fields:n.value.mapValue.fields}}function RX(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:cn(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,f){return h.useProto3Json?(dr(f===void 0||typeof f=="string",58123),as.fromBase64String(f||"")):(dr(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),as.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&(function(h){const f=h.code===void 0?dt.UNKNOWN:fL(h.code);return new Et(f,h.message||"")})(o);n=new pL(r,i,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=a5(t,r.document.name),a=uu(r.document.updateTime),o=r.document.createTime?uu(r.document.createTime):pn.min(),c=new So({mapValue:{fields:r.document.fields}}),d=_s.newFoundDocument(i,a,o,c),h=r.targetIds||[],f=r.removedTargetIds||[];n=new Dv(h,f,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=a5(t,r.document),a=r.readTime?uu(r.readTime):pn.min(),o=_s.newNoDocument(i,a),c=r.removedTargetIds||[];n=new Dv([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=a5(t,r.document),a=r.removedTargetIds||[];n=new Dv([],a,i,null)}else{if(!("filter"in e))return cn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,o=new _X(i,a),c=r.targetId;n=new mL(c,o)}}return n}function OX(t,e){let n;if(e instanceof Ay)n={update:rT(t,e.key,e.value)};else if(e instanceof WS)n={delete:GN(t,e.key)};else if(e instanceof Wh)n={update:rT(t,e.key,e.data),updateMask:qX(e.fieldMask)};else{if(!(e instanceof vX))return cn(16599,{Vt:e.type});n={verify:GN(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,o){const c=o.transform;if(c instanceof X0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Z0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof J0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Q0)return{fieldPath:o.field.canonicalString(),increment:c.Ae};throw cn(20930,{transform:o.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:IX(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:cn(27497)})(t,e.precondition)),n}function DX(t,e){return t&&t.length>0?(dr(e!==void 0,14353),t.map((n=>(function(i,a){let o=i.updateTime?uu(i.updateTime):uu(a);return o.isEqual(pn.min())&&(o=uu(a)),new gX(o,i.transformResults||[])})(n,e)))):[]}function LX(t,e){return{documents:[xL(t,e.path)]}}function MX(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=xL(t,i);const a=(function(h){if(h.length!==0)return wL(_c.create(h,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const o=(function(h){if(h.length!==0)return h.map((f=>(function(x){return{field:sp(x.field),direction:UX(x.dir)}})(f)))})(e.orderBy);o&&(n.structuredQuery.orderBy=o);const c=HN(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:n,parent:i}}function zX(t){let e=PX(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dr(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=(function(p){const x=bL(p);return x instanceof _c&&YD(x)?x.getFilters():[x]})(n.where));let o=[];n.orderBy&&(o=(function(p){return p.map((x=>(function(b){return new K0(op(b.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(x)))})(n.orderBy));let c=null;n.limit&&(c=(function(p){let x;return x=typeof p=="object"?p.value:p,Ab(x)?null:x})(n.limit));let d=null;n.startAt&&(d=(function(p){const x=!!p.before,g=p.values||[];return new s1(g,x)})(n.startAt));let h=null;return n.endAt&&(h=(function(p){const x=!p.before,g=p.values||[];return new s1(g,x)})(n.endAt)),iX(e,i,o,a,c,"F",d,h)}function FX(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return cn(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bL(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=op(n.unaryFilter.field);return Gi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=op(n.unaryFilter.field);return Gi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=op(n.unaryFilter.field);return Gi.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=op(n.unaryFilter.field);return Gi.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return cn(61313);default:return cn(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Gi.create(op(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return cn(58110);default:return cn(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return _c.create(n.compositeFilter.filters.map((r=>bL(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return cn(1026)}})(n.compositeFilter.op))})(t):cn(30097,{filter:t})}function UX(t){return EX[t]}function BX(t){return CX[t]}function VX(t){return TX[t]}function sp(t){return{fieldPath:t.canonicalString()}}function op(t){return ts.fromServerFormat(t.fieldPath)}function wL(t){return t instanceof Gi?(function(n){if(n.op==="=="){if($C(n.value))return{unaryFilter:{field:sp(n.field),op:"IS_NAN"}};if(qC(n.value))return{unaryFilter:{field:sp(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($C(n.value))return{unaryFilter:{field:sp(n.field),op:"IS_NOT_NAN"}};if(qC(n.value))return{unaryFilter:{field:sp(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sp(n.field),op:BX(n.op),value:n.value}}})(t):t instanceof _c?(function(n){const r=n.getFilters().map((i=>wL(i)));return r.length===1?r[0]:{compositeFilter:{op:VX(n.op),filters:r}}})(t):cn(54877,{filter:t})}function qX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _L(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r,i,a=pn.min(),o=pn.min(),c=as.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Nh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $X{constructor(e){this.yt=e}}function HX(t){const e=zX({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?o1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WX{constructor(){this.Cn=new GX}addToCollectionParentIndex(e,n){return this.Cn.add(n),pt.resolve()}getCollectionParents(e,n){return pt.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return pt.resolve()}deleteFieldIndex(e,n){return pt.resolve()}deleteAllFieldIndexes(e){return pt.resolve()}createTargetIndexes(e,n){return pt.resolve()}getDocumentsMatchingTarget(e,n){return pt.resolve(null)}getIndexType(e,n){return pt.resolve(0)}getFieldIndexes(e,n){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,n){return pt.resolve(Dh.min())}getMinOffsetFromCollectionGroup(e,n){return pt.resolve(Dh.min())}updateCollectionGroup(e,n,r){return pt.resolve()}updateIndexEntries(e,n){return pt.resolve()}}class GX{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ma(Lr.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ma(Lr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NL=41943040;class No{static withCacheSize(e){return new No(e,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */No.DEFAULT_COLLECTION_PERCENTILE=10,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,No.DEFAULT=new No(NL,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),No.DISABLED=new No(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Op(0)}static cr(){return new Op(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="LruGarbageCollector",YX=1048576;function sT([t,e],[n,r]){const i=Fn(t,n);return i===0?Fn(e,r):i}class KX{constructor(e){this.Ir=e,this.buffer=new ma(sT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XX{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ot(aT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eg(n)?Ot(aT,"Ignoring IndexedDB error during garbage collection: ",n):await Qp(n)}await this.Vr(3e5)}))}}class ZX{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return pt.resolve(Sb.ce);const r=new KX(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(iT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,a,o,c,d,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,c=Date.now(),this.removeTargets(e,r,n)))).next((p=>(a=p,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(h=Date.now(),ip()<=zn.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(c-o)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(h-d)+`ms
Total Duration: ${h-f}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function JX(t,e){return new ZX(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QX{constructor(){this.changes=new cm((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_s.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?pt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tZ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&k0(r.mutation,i,Xo.empty(),$r.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Un()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Un()){const i=Sf();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let o=g0();return a.forEach(((c,d)=>{o=o.insert(c,d.overlayedDocument)})),o}))))}getOverlayedDocuments(e,n){const r=Sf();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Un())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((o,c)=>{n.set(o,c)}))}))}computeViews(e,n,r,i){let a=wd();const o=T0(),c=(function(){return T0()})();return n.forEach(((d,h)=>{const f=r.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Wh)?a=a.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),k0(f.mutation,h,f.mutation.getFieldMask(),$r.now())):o.set(h.key,Xo.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,f)=>o.set(h,f))),n.forEach(((h,f)=>c.set(h,new eZ(f,o.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,n){const r=T0();let i=new mi(((o,c)=>o-c)),a=Un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((o=>{for(const c of o)c.keys().forEach((d=>{const h=n.get(d);if(h===null)return;let f=r.get(d)||Xo.empty();f=c.applyToLocalView(h,f),r.set(d,f);const p=(i.get(c.batchId)||Un()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const o=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,f=d.value,p=rL();f.forEach((x=>{if(!a.has(x)){const g=dL(n.get(x),r.get(x));g!==null&&p.set(x,g),a=a.add(x)}})),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return pt.waitFor(o)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(o){return tn.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const o=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):pt.resolve(Sf());let c=H0,d=a;return o.next((h=>pt.forEach(h,((f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),a.get(f)?pt.resolve():this.remoteDocumentCache.getEntry(e,f).next((x=>{d=d.insert(f,x)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Un()))).next((f=>({batchId:c,changes:nL(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new tn(n)).next((r=>{let i=g0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let o=g0();return this.indexManager.getCollectionParents(e,a).next((c=>pt.forEach(c,(d=>{const h=(function(p,x){return new tg(x,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next((f=>{f.forEach(((p,x)=>{o=o.insert(p,x)}))}))})).next((()=>o))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((o=>(a=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((o=>{a.forEach(((d,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,_s.newInvalidDocument(f)))}));let c=g0();return o.forEach(((d,h)=>{const f=a.get(d);f!==void 0&&k0(f.mutation,h,Xo.empty(),$r.now()),Tb(n,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return pt.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:uu(i.createTime)}})(n)),pt.resolve()}getNamedQuery(e,n){return pt.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:HX(i.bundledQuery),readTime:uu(i.readTime)}})(n)),pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(){this.overlays=new mi(tn.comparator),this.qr=new Map}getOverlay(e,n){return pt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Sf();return pt.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.St(e,n,a)})),pt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),pt.resolve()}getOverlaysForCollection(e,n,r){const i=Sf(),a=n.length+1,o=new tn(n.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>r&&i.set(d.getKey(),d)}return pt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new mi(((h,f)=>h-f));const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let f=a.get(h.largestBatchId);f===null&&(f=Sf(),a=a.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=Sf(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,f)=>c.set(h,f))),!(c.size()>=i)););return pt.resolve(c)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new wX(n,r));let a=this.qr.get(n);a===void 0&&(a=Un(),this.qr.set(n,a)),this.qr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(){this.sessionToken=as.EMPTY_BYTE_STRING}getSessionToken(e){return pt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,pt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.Qr=new ma(ka.$r),this.Ur=new ma(ka.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new ka(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new ka(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new tn(new Lr([])),r=new ka(n,e),i=new ka(n,e+1),a=[];return this.Ur.forEachInRange([r,i],(o=>{this.Gr(o),a.push(o.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new tn(new Lr([])),r=new ka(n,e),i=new ka(n,e+1);let a=Un();return this.Ur.forEachInRange([r,i],(o=>{a=a.add(o.key)})),a}containsKey(e){const n=new ka(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ka{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return tn.comparator(e.key,n.key)||Fn(e.Yr,n.Yr)}static Kr(e,n){return Fn(e.Yr,n.Yr)||tn.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aZ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ma(ka.$r)}checkEmpty(e){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bX(a,n,r,i);this.mutationQueue.push(o);for(const c of i)this.Zr=this.Zr.add(new ka(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return pt.resolve(o)}lookupMutationBatch(e,n){return pt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),a=i<0?0:i;return pt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?FS:this.tr-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ka(n,0),i=new ka(n,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,i],(o=>{const c=this.Xr(o.Yr);a.push(c)})),pt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ma(Fn);return n.forEach((i=>{const a=new ka(i,0),o=new ka(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,o],(c=>{r=r.add(c.Yr)}))})),pt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;tn.isDocumentKey(a)||(a=a.child(""));const o=new ka(new tn(a),0);let c=new ma(Fn);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)}),o),pt.resolve(this.ti(c))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){dr(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return pt.forEach(n.mutations,(i=>{const a=new ka(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new ka(n,0),i=this.Zr.firstAfterOrEqual(r);return pt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pt.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e){this.ri=e,this.docs=(function(){return new mi(tn.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return pt.resolve(r?r.document.mutableCopy():_s.newInvalidDocument(n))}getEntries(e,n){let r=wd();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():_s.newInvalidDocument(i))})),pt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=wd();const o=n.path,c=new tn(o.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:f}}=d.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||LK(DK(f),r)<=0||(i.has(f.key)||Tb(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return pt.resolve(a)}getAllFromCollectionGroup(e,n,r,i){cn(9500)}ii(e,n){return pt.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new oZ(this)}getSize(e){return pt.resolve(this.size)}}class oZ extends QX{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),pt.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(e){this.persistence=e,this.si=new cm((n=>VS(n)),qS),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.oi=0,this._i=new XS,this.targetCount=0,this.ai=Op.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),pt.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Op(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,pt.resolve()}updateTargetData(e,n){return this.Pr(n),pt.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.si.forEach(((o,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.si.delete(o),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),pt.waitFor(a).next((()=>i))}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return pt.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),pt.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((o=>{a.push(i.markPotentiallyOrphaned(e,o))})),pt.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),pt.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return pt.resolve(r)}containsKey(e,n){return pt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.ui={},this.overlays={},this.ci=new Sb(0),this.li=!1,this.li=!0,this.hi=new iZ,this.referenceDelegate=e(this),this.Pi=new lZ(this),this.indexManager=new WX,this.remoteDocumentCache=(function(i){return new sZ(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new $X(n),this.Ii=new nZ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rZ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new aZ(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){Ot("MemoryPersistence","Starting transaction:",e);const i=new cZ(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,n){return pt.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class cZ extends zK{constructor(e){super(),this.currentSequenceNumber=e}}class ZS{constructor(e){this.persistence=e,this.Ri=new XS,this.Vi=null}static mi(e){return new ZS(e)}get fi(){if(this.Vi)return this.Vi;throw cn(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),pt.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),pt.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),pt.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.fi,(r=>{const i=tn.fromPath(r);return this.gi(e,i).next((a=>{a||n.removeEntry(i,pn.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return pt.or([()=>pt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class c1{constructor(e,n){this.persistence=e,this.pi=new cm((r=>BK(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=JX(this,n)}static mi(e,n){return new c1(e,n)}Ei(){}di(e){return pt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return pt.forEach(this.pi,((r,i)=>this.br(e,r,i).next((a=>a?pt.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(o=>this.br(e,o,n).next((c=>{c||(r++,a.removeEntry(o,pn.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),pt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),pt.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),pt.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),pt.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pv(e.data.value)),n}br(e,n,r){return pt.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return pt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Un(),i=Un();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new JS(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gH()?8:FK(Cs())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.ys(e,n).next((o=>{a.result=o})).next((()=>{if(!a.result)return this.ws(e,n,i,r).next((o=>{a.result=o}))})).next((()=>{if(a.result)return;const o=new uZ;return this.Ss(e,n,o).next((c=>{if(a.result=c,this.Vs)return this.bs(e,n,o,c.size)}))})).next((()=>a.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(ip()<=zn.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",ap(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pt.resolve()):(ip()<=zn.DEBUG&&Ot("QueryEngine","Query:",ap(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(ip()<=zn.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",ap(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cu(n))):pt.resolve())}ys(e,n){if(YC(n))return pt.resolve(null);let r=cu(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=o1(n,null,"F"),r=cu(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const o=Un(...a);return this.ps.getDocuments(e,o).next((c=>this.indexManager.getMinOffset(e,r).next((d=>{const h=this.Ds(n,c);return this.Cs(n,h,o,d.readTime)?this.ys(e,o1(n,null,"F")):this.vs(e,h,n,d)}))))})))))}ws(e,n,r,i){return YC(n)||i.isEqual(pn.min())?pt.resolve(null):this.ps.getDocuments(e,r).next((a=>{const o=this.Ds(n,a);return this.Cs(n,o,r,i)?pt.resolve(null):(ip()<=zn.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ap(n)),this.vs(e,o,n,OK(i,H0)).next((c=>c)))}))}Ds(e,n){let r=new ma(eL(e));return n.forEach(((i,a)=>{Tb(e,a)&&(r=r.add(a))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,n,r){return ip()<=zn.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",ap(n)),this.ps.getDocumentsMatchingQuery(e,n,Dh.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((o=>{a=a.insert(o.key,o)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="LocalStore",hZ=3e8;class fZ{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new mi(Fn),this.xs=new cm((a=>VS(a)),qS),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tZ(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mZ(t,e,n,r){return new fZ(t,e,n,r)}async function SL(t,e){const n=vn(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const o=[],c=[];let d=Un();for(const h of i){o.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return n.localDocuments.getDocuments(r,d).next((h=>({Ls:h,removedBatchIds:o,addedBatchIds:c})))}))}))}function pZ(t,e){const n=vn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,f){const p=h.batch,x=p.keys();let g=pt.resolve();return x.forEach((b=>{g=g.next((()=>f.getEntry(d,b))).next((v=>{const w=h.docVersions.get(b);dr(w!==null,48541),v.version.compareTo(w)<0&&(p.applyToRemoteDocument(v,h),v.isValidDocument()&&(v.setReadTime(h.commitVersion),f.addEntry(v)))}))})),g.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let d=Un();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function AL(t){const e=vn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function gZ(t,e){const n=vn(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const c=[];e.targetChanges.forEach(((f,p)=>{const x=i.get(p);if(!x)return;c.push(n.Pi.removeMatchingKeys(a,f.removedDocuments,p).next((()=>n.Pi.addMatchingKeys(a,f.addedDocuments,p))));let g=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(as.EMPTY_BYTE_STRING,pn.min()).withLastLimboFreeSnapshotVersion(pn.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,r)),i=i.insert(p,g),(function(v,w,j){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=hZ?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,g,f)&&c.push(n.Pi.updateTargetData(a,g))}));let d=wd(),h=Un();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))})),c.push(yZ(a,o,e.documentUpdates).next((f=>{d=f.ks,h=f.qs}))),!r.isEqual(pn.min())){const f=n.Pi.getLastRemoteSnapshotVersion(a).next((p=>n.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));c.push(f)}return pt.waitFor(c).next((()=>o.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(n.Ms=i,a)))}function yZ(t,e,n){let r=Un(),i=Un();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let o=wd();return n.forEach(((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(pn.min())?(e.removeEntry(c,d.readTime),o=o.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),o=o.insert(c,d)):Ot(QS,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:o,qs:i}}))}function xZ(t,e){const n=vn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=FS),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function vZ(t,e){const n=vn(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((a=>a?(i=a,pt.resolve(i)):n.Pi.allocateTargetId(r).next((o=>(i=new Nh(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function KN(t,e,n){const r=vn(t),i=r.Ms.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!eg(o))throw o;Ot(QS,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function oT(t,e,n){const r=vn(t);let i=pn.min(),a=Un();return r.persistence.runTransaction("Execute query","readwrite",(o=>(function(d,h,f){const p=vn(d),x=p.xs.get(f);return x!==void 0?pt.resolve(p.Ms.get(x)):p.Pi.getTargetData(h,f)})(r,o,cu(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,c.targetId).next((d=>{a=d}))})).next((()=>r.Fs.getDocumentsMatchingQuery(o,e,n?i:pn.min(),n?a:Un()))).next((c=>(bZ(r,sX(e),c),{documents:c,Qs:a})))))}function bZ(t,e,n){let r=t.Os.get(e)||pn.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t.Os.set(e,r)}class lT{constructor(){this.activeTargetIds=hX()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wZ{constructor(){this.Mo=new lT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="ConnectivityMonitor";class uT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ot(cT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ot(cT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yx=null;function XN(){return Yx===null?Yx=(function(){return 268435456+Math.round(2147483648*Math.random())})():Yx++,"0x"+Yx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="RestConnection",NZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class jZ{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===i1?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,a){const o=XN(),c=this.zo(e,n.toUriEncodedString());Ot(s5,`Sending RPC '${e}' ${o}:`,c,r);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:h}=new URL(c),f=Nu(h);return this.Jo(e,c,d,r,f).then((p=>(Ot(s5,`Received RPC '${e}' ${o}: `,p),p)),(p=>{throw kp(s5,`RPC '${e}' ${o} failed with error: `,p,"url: ",c,"request:",r),p}))}Ho(e,n,r,i,a,o){return this.Go(e,n,r,i,a)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,a)=>e[a]=i)),r&&r.headers.forEach(((i,a)=>e[a]=i))}zo(e,n){const r=NZ[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="WebChannelConnection";class AZ extends jZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,a){const o=XN();return new Promise(((c,d)=>{const h=new ED;h.setWithCredentials(!0),h.listenOnce(CD.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Iv.NO_ERROR:const p=h.getResponseJson();Ot(ps,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),c(p);break;case Iv.TIMEOUT:Ot(ps,`RPC '${e}' ${o} timed out`),d(new Et(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Iv.HTTP_ERROR:const x=h.getStatus();if(Ot(ps,`RPC '${e}' ${o} failed with status:`,x,"response text:",h.getResponseText()),x>0){let g=h.getResponseJson();Array.isArray(g)&&(g=g[0]);const b=g?.error;if(b&&b.status&&b.message){const v=(function(j){const E=j.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(E)>=0?E:dt.UNKNOWN})(b.status);d(new Et(v,b.message))}else d(new Et(dt.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new Et(dt.UNAVAILABLE,"Connection failed."));break;default:cn(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ot(ps,`RPC '${e}' ${o} completed.`)}}));const f=JSON.stringify(i);Ot(ps,`RPC '${e}' ${o} sending request:`,i),h.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=XN(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ID(),c=kD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const f=a.join("");Ot(ps,`Creating RPC '${e}' stream ${i}: ${f}`,d);const p=o.createWebChannel(f,d);this.I_(p);let x=!1,g=!1;const b=new SZ({Yo:w=>{g?Ot(ps,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(x||(Ot(ps,`Opening RPC '${e}' stream ${i} transport.`),p.open(),x=!0),Ot(ps,`RPC '${e}' stream ${i} sending:`,w),p.send(w))},Zo:()=>p.close()}),v=(w,j,E)=>{w.listen(j,(T=>{try{E(T)}catch(D){setTimeout((()=>{throw D}),0)}}))};return v(p,p0.EventType.OPEN,(()=>{g||(Ot(ps,`RPC '${e}' stream ${i} transport opened.`),b.o_())})),v(p,p0.EventType.CLOSE,(()=>{g||(g=!0,Ot(ps,`RPC '${e}' stream ${i} transport closed`),b.a_(),this.E_(p))})),v(p,p0.EventType.ERROR,(w=>{g||(g=!0,kp(ps,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),b.a_(new Et(dt.UNAVAILABLE,"The operation could not be completed")))})),v(p,p0.EventType.MESSAGE,(w=>{if(!g){const j=w.data[0];dr(!!j,16349);const E=j,T=E?.error||E[0]?.error;if(T){Ot(ps,`RPC '${e}' stream ${i} received error:`,T);const D=T.status;let M=(function(z){const L=Hi[z];if(L!==void 0)return fL(L)})(D),J=T.message;M===void 0&&(M=dt.INTERNAL,J="Unknown error status: "+D+" with message "+T.message),g=!0,b.a_(new Et(M,J)),p.close()}else Ot(ps,`RPC '${e}' stream ${i} received:`,j),b.u_(j)}})),v(c,TD.STAT_EVENT,(w=>{w.stat===zN.PROXY?Ot(ps,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===zN.NOPROXY&&Ot(ps,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function o5(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t){return new kX(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="PersistentStream";class CL{constructor(e,n,r,i,a,o,c,d){this.Mi=e,this.S_=r,this.b_=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EL(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===dt.RESOURCE_EXHAUSTED?(bd(n.toString()),bd("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Et(dt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ot(dT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(Ot(dT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EZ extends CL{constructor(e,n,r,i,a,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=RX(this.serializer,e),r=(function(a){if(!("targetChange"in a))return pn.min();const o=a.targetChange;return o.targetIds&&o.targetIds.length?pn.min():o.readTime?uu(o.readTime):pn.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=YN(this.serializer),n.addTarget=(function(a,o){let c;const d=o.target;if(c=qN(d)?{documents:LX(a,d)}:{query:MX(a,d).ft},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=gL(a,o.resumeToken);const h=HN(a,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(pn.min())>0){c.readTime=l1(a,o.snapshotVersion.toTimestamp());const h=HN(a,o.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const r=FX(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=YN(this.serializer),n.removeTarget=e,this.q_(n)}}class CZ extends CL{constructor(e,n,r,i,a,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return dr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,dr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){dr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=DX(e.writeResults,e.commitTime),r=uu(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=YN(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>OX(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{}class kZ extends TZ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Et(dt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Go(e,WN(n,r),i,a,o))).catch((a=>{throw a.name==="FirebaseError"?(a.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Et(dt.UNKNOWN,a.toString())}))}Ho(e,n,r,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Ho(e,WN(n,r),i,o,c,a))).catch((o=>{throw o.name==="FirebaseError"?(o.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Et(dt.UNKNOWN,o.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class IZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bd(n),this.aa=!1):Ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="RemoteStore";class PZ{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((o=>{r.enqueueAndForget((async()=>{um(this)&&(Ot(Wf,"Restarting streams for network reachability change."),await(async function(d){const h=vn(d);h.Ea.add(4),await Cy(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Ob(h)})(this))}))})),this.Ra=new IZ(r,i)}}async function Ob(t){if(um(t))for(const e of t.da)await e(!0)}async function Cy(t){for(const e of t.da)await e(!1)}function TL(t,e){const n=vn(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rA(n)?nA(n):ng(n).O_()&&tA(n,e))}function eA(t,e){const n=vn(t),r=ng(n);n.Ia.delete(e),r.O_()&&kL(n,e),n.Ia.size===0&&(r.O_()?r.L_():um(n)&&n.Ra.set("Unknown"))}function tA(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ng(t).Y_(e)}function kL(t,e){t.Va.Ue(e),ng(t).Z_(e)}function nA(t){t.Va=new AX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ng(t).start(),t.Ra.ua()}function rA(t){return um(t)&&!ng(t).x_()&&t.Ia.size>0}function um(t){return vn(t).Ea.size===0}function IL(t){t.Va=void 0}async function RZ(t){t.Ra.set("Online")}async function OZ(t){t.Ia.forEach(((e,n)=>{tA(t,e)}))}async function DZ(t,e){IL(t),rA(t)?(t.Ra.ha(e),nA(t)):t.Ra.set("Unknown")}async function LZ(t,e,n){if(t.Ra.set("Online"),e instanceof pL&&e.state===2&&e.cause)try{await(async function(i,a){const o=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,o),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(r){Ot(Wf,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await u1(t,r)}else if(e instanceof Dv?t.Va.Ze(e):e instanceof mL?t.Va.st(e):t.Va.tt(e),!n.isEqual(pn.min()))try{const r=await AL(t.localStore);n.compareTo(r)>=0&&await(function(a,o){const c=a.Va.Tt(o);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const f=a.Ia.get(h);f&&a.Ia.set(h,f.withResumeToken(d.resumeToken,o))}})),c.targetMismatches.forEach(((d,h)=>{const f=a.Ia.get(d);if(!f)return;a.Ia.set(d,f.withResumeToken(as.EMPTY_BYTE_STRING,f.snapshotVersion)),kL(a,d);const p=new Nh(f.target,d,h,f.sequenceNumber);tA(a,p)})),a.remoteSyncer.applyRemoteEvent(c)})(t,n)}catch(r){Ot(Wf,"Failed to raise snapshot:",r),await u1(t,r)}}async function u1(t,e,n){if(!eg(e))throw e;t.Ea.add(1),await Cy(t),t.Ra.set("Offline"),n||(n=()=>AL(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ot(Wf,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Ob(t)}))}function PL(t,e){return e().catch((n=>u1(t,n,e)))}async function Db(t){const e=vn(t),n=Fh(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:FS;for(;MZ(e);)try{const i=await xZ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,zZ(e,i)}catch(i){await u1(e,i)}RL(e)&&OL(e)}function MZ(t){return um(t)&&t.Ta.length<10}function zZ(t,e){t.Ta.push(e);const n=Fh(t);n.O_()&&n.X_&&n.ea(e.mutations)}function RL(t){return um(t)&&!Fh(t).x_()&&t.Ta.length>0}function OL(t){Fh(t).start()}async function FZ(t){Fh(t).ra()}async function UZ(t){const e=Fh(t);for(const n of t.Ta)e.ea(n.mutations)}async function BZ(t,e,n){const r=t.Ta.shift(),i=GS.from(r,e,n);await PL(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Db(t)}async function VZ(t,e){e&&Fh(t).X_&&await(async function(r,i){if((function(o){return NX(o)&&o!==dt.ABORTED})(i.code)){const a=r.Ta.shift();Fh(r).B_(),await PL(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await Db(r)}})(t,e),RL(t)&&OL(t)}async function hT(t,e){const n=vn(t);n.asyncQueue.verifyOperationInProgress(),Ot(Wf,"RemoteStore received new credentials");const r=um(n);n.Ea.add(3),await Cy(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ob(n)}async function qZ(t,e){const n=vn(t);e?(n.Ea.delete(2),await Ob(n)):e||(n.Ea.add(2),await Cy(n),n.Ra.set("Unknown"))}function ng(t){return t.ma||(t.ma=(function(n,r,i){const a=vn(n);return a.sa(),new EZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:RZ.bind(null,t),t_:OZ.bind(null,t),r_:DZ.bind(null,t),H_:LZ.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),rA(t)?nA(t):t.Ra.set("Unknown")):(await t.ma.stop(),IL(t))}))),t.ma}function Fh(t){return t.fa||(t.fa=(function(n,r,i){const a=vn(n);return a.sa(),new CZ(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:FZ.bind(null,t),r_:VZ.bind(null,t),ta:UZ.bind(null,t),na:BZ.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Db(t)):(await t.fa.stop(),t.Ta.length>0&&(Ot(Wf,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ud,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((o=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const o=Date.now()+r,c=new iA(e,n,o,i,a);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Et(dt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aA(t,e){if(bd("AsyncQueue",`${e}: ${t}`),eg(t))return new Et(dt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static emptySet(e){return new xp(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||tn.comparator(n.key,r.key):(n,r)=>tn.comparator(n.key,r.key),this.keyedMap=g0(),this.sortedSet=new mi(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xp)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xp;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.ga=new mi(tn.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):cn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Dp{constructor(e,n,r,i,a,o,c,d,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,a){const o=[];return n.forEach((c=>{o.push({type:0,doc:c})})),new Dp(e,n,xp.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class HZ{constructor(){this.queries=mT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=vn(n),a=i.queries;i.queries=mT(),a.forEach(((o,c)=>{for(const d of c.Sa)d.onError(r)}))})(this,new Et(dt.ABORTED,"Firestore shutting down"))}}function mT(){return new cm((t=>QD(t)),Cb)}async function DL(t,e){const n=vn(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.ba()&&e.Da()&&(r=2):(a=new $Z,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const c=aA(o,`Initialization of query '${ap(e.query)}' failed`);return void e.onError(c)}n.queries.set(i,a),a.Sa.push(e),e.va(n.onlineState),a.wa&&e.Fa(a.wa)&&sA(n)}async function LL(t,e){const n=vn(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const o=a.Sa.indexOf(e);o>=0&&(a.Sa.splice(o,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function WZ(t,e){const n=vn(t);let r=!1;for(const i of e){const a=i.query,o=n.queries.get(a);if(o){for(const c of o.Sa)c.Fa(i)&&(r=!0);o.wa=i}}r&&sA(n)}function GZ(t,e,n){const r=vn(t),i=r.queries.get(e);if(i)for(const a of i.Sa)a.onError(n);r.queries.delete(e)}function sA(t){t.Ca.forEach((e=>{e.next()}))}var ZN,pT;(pT=ZN||(ZN={})).Ma="default",pT.Cache="cache";class ML{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Dp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Dp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ZN.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.key=e}}class FL{constructor(e){this.key=e}}class YZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Un(),this.mutatedKeys=Un(),this.eu=eL(e),this.tu=new xp(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new fT,i=n?n.tu:this.tu;let a=n?n.mutatedKeys:this.mutatedKeys,o=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const x=i.get(f),g=Tb(this.query,p)?p:null,b=!!x&&this.mutatedKeys.has(x.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;x&&g?x.data.isEqual(g.data)?b!==v&&(r.track({type:3,doc:g}),w=!0):this.su(x,g)||(r.track({type:2,doc:g}),w=!0,(d&&this.eu(g,d)>0||h&&this.eu(g,h)<0)&&(c=!0)):!x&&g?(r.track({type:0,doc:g}),w=!0):x&&!g&&(r.track({type:1,doc:x}),w=!0,(d||h)&&(c=!0)),w&&(g?(o=o.add(g),a=v?a.add(f):a.delete(f)):(o=o.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{tu:o,iu:r,Cs:c,mutatedKeys:a}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort(((f,p)=>(function(g,b){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cn(20277,{Rt:w})}};return v(g)-v(b)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(r),i=i??!1;const c=n&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,o.length!==0||h?{snapshot:new Dp(this.query,e.tu,a,o,e.mutatedKeys,d===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Un(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new FL(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new zL(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Un();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Dp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oA="SyncEngine";class KZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class XZ{constructor(e){this.key=e,this.hu=!1}}class ZZ{constructor(e,n,r,i,a,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new cm((c=>QD(c)),Cb),this.Iu=new Map,this.Eu=new Set,this.du=new mi(tn.comparator),this.Au=new Map,this.Ru=new XS,this.Vu={},this.mu=new Map,this.fu=Op.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function JZ(t,e,n=!0){const r=HL(t);let i;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await UL(r,e,n,!0),i}async function QZ(t,e){const n=HL(t);await UL(n,e,!0,!1)}async function UL(t,e,n,r){const i=await vZ(t.localStore,cu(e)),a=i.targetId,o=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await eJ(t,e,a,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&TL(t.remoteStore,i),c}async function eJ(t,e,n,r,i){t.pu=(p,x,g)=>(async function(v,w,j,E){let T=w.view.ru(j);T.Cs&&(T=await oT(v.localStore,w.query,!1).then((({documents:F})=>w.view.ru(F,T))));const D=E&&E.targetChanges.get(w.targetId),M=E&&E.targetMismatches.get(w.targetId)!=null,J=w.view.applyChanges(T,v.isPrimaryClient,D,M);return yT(v,w.targetId,J.au),J.snapshot})(t,p,x,g);const a=await oT(t.localStore,e,!0),o=new YZ(e,a.Qs),c=o.ru(a.documents),d=Ey.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=o.applyChanges(c,t.isPrimaryClient,d);yT(t,n,h.au);const f=new KZ(e,n,o);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),h.snapshot}async function tJ(t,e,n){const r=vn(t),i=r.Tu.get(e),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((o=>!Cb(o,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await KN(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&eA(r.remoteStore,i.targetId),JN(r,i.targetId)})).catch(Qp)):(JN(r,i.targetId),await KN(r.localStore,i.targetId,!0))}async function nJ(t,e){const n=vn(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),eA(n.remoteStore,r.targetId))}async function rJ(t,e,n){const r=uJ(t);try{const i=await(function(o,c){const d=vn(o),h=$r.now(),f=c.reduce(((g,b)=>g.add(b.key)),Un());let p,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let b=wd(),v=Un();return d.Ns.getEntries(g,f).next((w=>{b=w,b.forEach(((j,E)=>{E.isValidDocument()||(v=v.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(g,b))).next((w=>{p=w;const j=[];for(const E of c){const T=xX(E,p.get(E.key).overlayedDocument);T!=null&&j.push(new Wh(E.key,T,HD(T.value.mapValue),Il.exists(!0)))}return d.mutationQueue.addMutationBatch(g,h,j,c)})).next((w=>{x=w;const j=w.applyToLocalDocumentSet(p,v);return d.documentOverlayCache.saveOverlays(g,w.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:nL(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(o,c,d){let h=o.Vu[o.currentUser.toKey()];h||(h=new mi(Fn)),h=h.insert(c,d),o.Vu[o.currentUser.toKey()]=h})(r,i.batchId,n),await Ty(r,i.changes),await Db(r.remoteStore)}catch(i){const a=aA(i,"Failed to persist write");n.reject(a)}}async function BL(t,e){const n=vn(t);try{const r=await gZ(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const o=n.Au.get(a);o&&(dr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?dr(o.hu,14607):i.removedDocuments.size>0&&(dr(o.hu,42227),o.hu=!1))})),await Ty(n,r,e)}catch(r){await Qp(r)}}function gT(t,e,n){const r=vn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((a,o)=>{const c=o.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(o,c){const d=vn(o);d.onlineState=c;let h=!1;d.queries.forEach(((f,p)=>{for(const x of p.Sa)x.va(c)&&(h=!0)})),h&&sA(d)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iJ(t,e,n){const r=vn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),a=i&&i.key;if(a){let o=new mi(tn.comparator);o=o.insert(a,_s.newNoDocument(a,pn.min()));const c=Un().add(a),d=new Pb(pn.min(),new Map,new mi(Fn),o,c);await BL(r,d),r.du=r.du.remove(a),r.Au.delete(e),lA(r)}else await KN(r.localStore,e,!1).then((()=>JN(r,e,n))).catch(Qp)}async function aJ(t,e){const n=vn(t),r=e.batch.batchId;try{const i=await pZ(n.localStore,e);qL(n,r,null),VL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ty(n,i)}catch(i){await Qp(i)}}async function sJ(t,e,n){const r=vn(t);try{const i=await(function(o,c){const d=vn(o);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return d.mutationQueue.lookupMutationBatch(h,c).next((p=>(dr(p!==null,37113),f=p.keys(),d.mutationQueue.removeMutationBatch(h,p)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,f,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>d.localDocuments.getDocuments(h,f)))}))})(r.localStore,e);qL(r,e,n),VL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ty(r,i)}catch(i){await Qp(i)}}function VL(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function qL(t,e,n){const r=vn(t);let i=r.Vu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function JN(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||$L(t,r)}))}function $L(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(eA(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),lA(t))}function yT(t,e,n){for(const r of n)r instanceof zL?(t.Ru.addReference(r.key,e),oJ(t,r)):r instanceof FL?(Ot(oA,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||$L(t,r.key)):cn(19791,{wu:r})}function oJ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(Ot(oA,"New document in limbo: "+n),t.Eu.add(r),lA(t))}function lA(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new tn(Lr.fromString(e)),r=t.fu.next();t.Au.set(r,new XZ(n)),t.du=t.du.insert(n,r),TL(t.remoteStore,new Nh(cu($S(n.path)),r,"TargetPurposeLimboResolution",Sb.ce))}}async function Ty(t,e,n){const r=vn(t),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,d)=>{o.push(r.pu(d,e,n).then((h=>{if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:n?.targetChanges.get(d.targetId)?.current;r.sharedClientState.updateQueryState(d.targetId,f?"current":"not-current")}if(h){i.push(h);const f=JS.As(d.targetId,h);a.push(f)}})))})),await Promise.all(o),r.Pu.H_(i),await(async function(d,h){const f=vn(d);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>pt.forEach(h,(x=>pt.forEach(x.Es,(g=>f.persistence.referenceDelegate.addReference(p,x.targetId,g))).next((()=>pt.forEach(x.ds,(g=>f.persistence.referenceDelegate.removeReference(p,x.targetId,g)))))))))}catch(p){if(!eg(p))throw p;Ot(QS,"Failed to update sequence numbers: "+p)}for(const p of h){const x=p.targetId;if(!p.fromCache){const g=f.Ms.get(x),b=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(x,v)}}})(r.localStore,a))}async function lJ(t,e){const n=vn(t);if(!n.currentUser.isEqual(e)){Ot(oA,"User change. New user:",e.toKey());const r=await SL(n.localStore,e);n.currentUser=e,(function(a,o){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new Et(dt.CANCELLED,o))}))})),a.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ty(n,r.Ls)}}function cJ(t,e){const n=vn(t),r=n.Au.get(e);if(r&&r.hu)return Un().add(r.key);{let i=Un();const a=n.Iu.get(e);if(!a)return i;for(const o of a){const c=n.Tu.get(o);i=i.unionWith(c.view.nu)}return i}}function HL(t){const e=vn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=BL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iJ.bind(null,e),e.Pu.H_=WZ.bind(null,e.eventManager),e.Pu.yu=GZ.bind(null,e.eventManager),e}function uJ(t){const e=vn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sJ.bind(null,e),e}class d1{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mZ(this.persistence,new dZ,e.initialUser,this.serializer)}Cu(e){return new jL(ZS.mi,this.serializer)}Du(e){return new wZ}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}d1.provider={build:()=>new d1};class dJ extends d1{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){dr(this.persistence.referenceDelegate instanceof c1,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new XX(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?No.withCacheSize(this.cacheSizeBytes):No.DEFAULT;return new jL((r=>c1.mi(r,n)),this.serializer)}}class QN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lJ.bind(null,this.syncEngine),await qZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new HZ})()}createDatastore(e){const n=Rb(e.databaseInfo.databaseId),r=(function(a){return new AZ(a)})(e.databaseInfo);return(function(a,o,c,d){return new kZ(a,o,c,d)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,o,c){return new PZ(r,i,a,o,c)})(this.localStore,this.datastore,e.asyncQueue,(n=>gT(this.syncEngine,n,0)),(function(){return uT.v()?new uT:new _Z})())}createSyncEngine(e,n){return(function(i,a,o,c,d,h,f){const p=new ZZ(i,a,o,c,d,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=vn(n);Ot(Wf,"RemoteStore shutting down."),r.Ea.add(5),await Cy(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}QN.provider={build:()=>new QN};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bd("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="FirestoreClient";class hJ{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ws.UNAUTHENTICATED,this.clientId=zS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async o=>{Ot(Uh,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,(o=>(Ot(Uh,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ud;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aA(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function l5(t,e){t.asyncQueue.verifyOperationInProgress(),Ot(Uh,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await SL(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function xT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fJ(t);Ot(Uh,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>hT(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>hT(e.remoteStore,i))),t._onlineComponents=e}async function fJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ot(Uh,"Using user provided OfflineComponentProvider");try{await l5(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===dt.FAILED_PRECONDITION||i.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;kp("Error using user provided cache. Falling back to memory cache: "+n),await l5(t,new d1)}}else Ot(Uh,"Using default OfflineComponentProvider"),await l5(t,new dJ(void 0));return t._offlineComponents}async function GL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ot(Uh,"Using user provided OnlineComponentProvider"),await xT(t,t._uninitializedComponentsProvider._online)):(Ot(Uh,"Using default OnlineComponentProvider"),await xT(t,new QN))),t._onlineComponents}function mJ(t){return GL(t).then((e=>e.syncEngine))}async function YL(t){const e=await GL(t),n=e.eventManager;return n.onListen=JZ.bind(null,e.syncEngine),n.onUnlisten=tJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nJ.bind(null,e.syncEngine),n}function pJ(t,e,n={}){const r=new ud;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const f=new WL({next:x=>{f.Nu(),o.enqueueAndForget((()=>LL(a,p)));const g=x.docs.has(c);!g&&x.fromCache?h.reject(new Et(dt.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&x.fromCache&&d&&d.source==="server"?h.reject(new Et(dt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),p=new ML($S(c.path),f,{includeMetadataChanges:!0,qa:!0});return DL(a,p)})(await YL(t),t.asyncQueue,e,n,r))),r.promise}function gJ(t,e,n={}){const r=new ud;return t.asyncQueue.enqueueAndForget((async()=>(function(a,o,c,d,h){const f=new WL({next:x=>{f.Nu(),o.enqueueAndForget((()=>LL(a,p))),x.fromCache&&d.source==="server"?h.reject(new Et(dt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),p=new ML(c,f,{includeMetadataChanges:!0,qa:!0});return DL(a,p)})(await YL(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL="firestore.googleapis.com",bT=!0;class wT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Et(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XL,this.ssl=bT}else this.host=e.host,this.ssl=e.ssl??bT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YX)throw new Et(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RK("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KL(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Et(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Et(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Et(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lb{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Et(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Et(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new NK;switch(r.type){case"firstParty":return new EK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Et(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=vT.get(n);r&&(Ot("ComponentProvider","Removing Datastore"),vT.delete(n),r.terminate())})(this),Promise.resolve()}}function yJ(t,e,n,r={}){t=wc(t,Lb);const i=Nu(e),a=t._getSettings(),o={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${n}`;i&&(gb(`https://${c}`),yb("Firestore",!0)),a.host!==XL&&a.host!==c&&kp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:r};if(!Oh(d,o)&&(t._setSettings(d),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=ws.MOCK_USER;else{h=IO(r.mockUserToken,t._app?.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Et(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ws(p)}t._authCredentials=new jK(new RD(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Gh(this.firestore,e,this._query)}}class zi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ih(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zi(this.firestore,e,this._key)}toJSON(){return{type:zi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Sy(n,zi._jsonSchema))return new zi(e,r||null,new tn(Lr.fromString(n.referencePath)))}}zi._jsonSchemaVersion="firestore/documentReference/1.0",zi._jsonSchema={type:Yi("string",zi._jsonSchemaVersion),referencePath:Yi("string")};class Ih extends Gh{constructor(e,n,r){super(e,n,$S(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zi(this.firestore,null,new tn(e))}withConverter(e){return new Ih(this.firestore,e,this._path)}}function Pl(t,e,...n){if(t=Rn(t),OD("collection","path",e),t instanceof Lb){const r=Lr.fromString(e,...n);return OC(r),new Ih(t,null,r)}{if(!(t instanceof zi||t instanceof Ih))throw new Et(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lr.fromString(e,...n));return OC(r),new Ih(t.firestore,null,r)}}function fa(t,e,...n){if(t=Rn(t),arguments.length===1&&(e=zS.newId()),OD("doc","path",e),t instanceof Lb){const r=Lr.fromString(e,...n);return RC(r),new zi(t,null,new tn(r))}{if(!(t instanceof zi||t instanceof Ih))throw new Et(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lr.fromString(e,...n));return RC(r),new zi(t.firestore,t instanceof Ih?t.converter:null,new tn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="AsyncQueue";class NT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EL(this,"async_queue_retry"),this._c=()=>{const r=o5();r&&Ot(_T,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=o5();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=o5();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ud;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!eg(e))throw e;Ot(_T,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bd("INTERNAL UNHANDLED ERROR: ",jT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=iA.createAndSchedule(this,e,n,r,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&cn(47125,{Pc:jT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function jT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class dm extends Lb{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new NT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NT(e),this._firestoreClient=void 0,await e}}}function xJ(t,e){const n=typeof t=="object"?t:by(),r=typeof t=="string"?t:i1,i=Cd(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=xS("firestore");a&&yJ(i,...a)}return i}function cA(t){if(t._terminated)throw new Et(dt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||vJ(t),t._firestoreClient}function vJ(t){const e=t._freezeSettings(),n=(function(i,a,o,c){return new $K(i,a,o,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,KL(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hJ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Al(as.fromBase64String(e))}catch(n){throw new Et(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Al(as.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Al._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sy(e,Al._jsonSchema))return Al.fromBase64String(e.bytes)}}Al._jsonSchemaVersion="firestore/bytes/1.0",Al._jsonSchema={type:Yi("string",Al._jsonSchemaVersion),bytes:Yi("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Et(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ts(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Et(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Et(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:du._jsonSchemaVersion}}static fromJSON(e){if(Sy(e,du._jsonSchema))return new du(e.latitude,e.longitude)}}du._jsonSchemaVersion="firestore/geoPoint/1.0",du._jsonSchema={type:Yi("string",du._jsonSchemaVersion),latitude:Yi("number"),longitude:Yi("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sy(e,hu._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hu(e.vectorValues);throw new Et(dt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hu._jsonSchemaVersion="firestore/vectorValue/1.0",hu._jsonSchema={type:Yi("string",hu._jsonSchemaVersion),vectorValues:Yi("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bJ=/^__.*__$/;class wJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wh(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ay(e,this.data,n,this.fieldTransforms)}}class ZL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wh(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function JL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cn(40011,{Ac:t})}}class uA{constructor(e,n,r,i,a,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new uA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return h1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JL(this.Ac)&&bJ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _J{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Rb(e)}Cc(e,n,r,i=!1){return new uA({Ac:e,methodName:n,Dc:r,path:ts.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zb(t){const e=t._freezeSettings(),n=Rb(t._databaseId);return new _J(t._databaseId,!!e.ignoreUndefinedProperties,n)}function QL(t,e,n,r,i,a={}){const o=t.Cc(a.merge||a.mergeFields?2:0,e,n,i);fA("Data must be an object, but it was:",o,r);const c=eM(r,o);let d,h;if(a.merge)d=new Xo(o.fieldMask),h=o.fieldTransforms;else if(a.mergeFields){const f=[];for(const p of a.mergeFields){const x=ej(e,p,n);if(!o.contains(x))throw new Et(dt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);nM(f,x)||f.push(x)}d=new Xo(f),h=o.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,h=o.fieldTransforms;return new wJ(new So(c),d,h)}class Fb extends ky{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Fb}}class dA extends ky{_toFieldTransform(e){return new uL(e.path,new X0)}isEqual(e){return e instanceof dA}}class hA extends ky{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Q0(e.serializer,aL(e.serializer,this.Fc));return new uL(e.path,n)}isEqual(e){return e instanceof hA&&this.Fc===e.Fc}}function NJ(t,e,n,r){const i=t.Cc(1,e,n);fA("Data must be an object, but it was:",i,r);const a=[],o=So.empty();Hh(r,((d,h)=>{const f=mA(e,d,n);h=Rn(h);const p=i.yc(f);if(h instanceof Fb)a.push(f);else{const x=Iy(h,p);x!=null&&(a.push(f),o.set(f,x))}}));const c=new Xo(a);return new ZL(o,c,i.fieldTransforms)}function jJ(t,e,n,r,i,a){const o=t.Cc(1,e,n),c=[ej(e,r,n)],d=[i];if(a.length%2!=0)throw new Et(dt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)c.push(ej(e,a[x])),d.push(a[x+1]);const h=[],f=So.empty();for(let x=c.length-1;x>=0;--x)if(!nM(h,c[x])){const g=c[x];let b=d[x];b=Rn(b);const v=o.yc(g);if(b instanceof Fb)h.push(g);else{const w=Iy(b,v);w!=null&&(h.push(g),f.set(g,w))}}const p=new Xo(h);return new ZL(f,p,o.fieldTransforms)}function SJ(t,e,n,r=!1){return Iy(n,t.Cc(r?4:3,e))}function Iy(t,e){if(tM(t=Rn(t)))return fA("Unsupported field value:",e,t),eM(t,e);if(t instanceof ky)return(function(r,i){if(!JL(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const a=[];let o=0;for(const c of r){let d=Iy(c,i.wc(o));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),o++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=Rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=$r.fromDate(r);return{timestampValue:l1(i.serializer,a)}}if(r instanceof $r){const a=new $r(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:l1(i.serializer,a)}}if(r instanceof du)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Al)return{bytesValue:gL(i.serializer,r._byteString)};if(r instanceof zi){const a=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(a))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:KS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hu)return(function(o,c){return{mapValue:{fields:{[qD]:{stringValue:$D},[a1]:{arrayValue:{values:o.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return HS(c.serializer,h)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${jb(r)}`)})(t,e)}function eM(t,e){const n={};return MD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hh(t,((r,i)=>{const a=Iy(i,e.mc(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function tM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $r||t instanceof du||t instanceof Al||t instanceof zi||t instanceof ky||t instanceof hu)}function fA(t,e,n){if(!tM(n)||!DD(n)){const r=jb(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ej(t,e,n){if((e=Rn(e))instanceof Mb)return e._internalPath;if(typeof e=="string")return mA(t,e);throw h1("Field path arguments must be of type string or ",t,!1,void 0,n)}const AJ=new RegExp("[~\\*/\\[\\]]");function mA(t,e,n){if(e.search(AJ)>=0)throw h1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mb(...e.split("."))._internalPath}catch{throw h1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function h1(t,e,n,r,i){const a=r&&!r.isEmpty(),o=i!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||o)&&(d+=" (found",a&&(d+=` in field ${r}`),o&&(d+=` in document ${i}`),d+=")"),new Et(dt.INVALID_ARGUMENT,c+t+d)}function nM(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new zi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ub("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EJ extends rM{data(){return super.data()}}function Ub(t,e){return typeof e=="string"?mA(t,e):e instanceof Mb?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CJ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Et(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pA{}class gA extends pA{}function fu(t,e,...n){let r=[];e instanceof pA&&r.push(e),r=r.concat(n),(function(a){const o=a.filter((d=>d instanceof yA)).length,c=a.filter((d=>d instanceof Bb)).length;if(o>1||o>0&&c>0)throw new Et(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Bb extends gA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Bb(e,n,r)}_apply(e){const n=this._parse(e);return iM(e._query,n),new Gh(e.firestore,e.converter,$N(e._query,n))}_parse(e){const n=zb(e.firestore);return(function(a,o,c,d,h,f,p){let x;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Et(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){AT(p,f);const b=[];for(const v of p)b.push(ST(d,a,v));x={arrayValue:{values:b}}}else x=ST(d,a,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||AT(p,f),x=SJ(c,o,p,f==="in"||f==="not-in");return Gi.create(h,f,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hs(t,e,n){const r=e,i=Ub("where",t);return Bb._create(i,r,n)}class yA extends pA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new yA(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:_c.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let o=i;const c=a.getFlattenedFilters();for(const d of c)iM(o,d),o=$N(o,d)})(e._query,n),new Gh(e.firestore,e.converter,$N(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xA extends gA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new xA(e,n)}_apply(e){const n=(function(i,a,o){if(i.startAt!==null)throw new Et(dt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Et(dt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new K0(a,o)})(e._query,this._field,this._direction);return new Gh(e.firestore,e.converter,(function(i,a){const o=i.explicitOrderBy.concat([a]);return new tg(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function f1(t,e="asc"){const n=e,r=Ub("orderBy",t);return xA._create(r,n)}class vA extends gA{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new vA(e,n,r)}_apply(e){return new Gh(e.firestore,e.converter,o1(e._query,this._limit,this._limitType))}}function TJ(t){return vA._create("limit",t,"F")}function ST(t,e,n){if(typeof(n=Rn(n))=="string"){if(n==="")throw new Et(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JD(e)&&n.indexOf("/")!==-1)throw new Et(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lr.fromString(n));if(!tn.isDocumentKey(r))throw new Et(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VC(t,new tn(r))}if(n instanceof zi)return VC(t,n._key);throw new Et(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jb(n)}.`)}function AT(t,e){if(!Array.isArray(t)||t.length===0)throw new Et(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iM(t,e){const n=(function(i,a){for(const o of i)for(const c of o.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Et(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Et(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class kJ{convertValue(e,n="none"){switch(zh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw cn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hh(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertVectorValue(e){const n=e.fields?.[a1].arrayValue?.values?.map((r=>Oi(r.doubleValue)));return new hu(n)}convertGeoPoint(e){return new du(Oi(e.latitude),Oi(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Eb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(W0(e));default:return null}}convertTimestamp(e){const n=Lh(e);return new $r(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lr.fromString(e);dr(_L(r),9688,{name:e});const i=new G0(r.get(1),r.get(3)),a=new tn(r.popFirst(5));return i.isEqual(n)||bd(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class x0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rf extends rM{constructor(e,n,r,i,a,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Lv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ub("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(dt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Rf._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Rf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Rf._jsonSchema={type:Yi("string",Rf._jsonSchemaVersion),bundleSource:Yi("string","DocumentSnapshot"),bundleName:Yi("string"),bundle:Yi("string")};class Lv extends Rf{data(e={}){return super.data(e)}}class vp{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new x0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Lv(this._firestore,this._userDataWriter,r.key,r,new x0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map((c=>{const d=new Lv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new x0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:o++}}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new Lv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new x0(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:IJ(c.type),doc:d,oldIndex:h,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Et(dt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vp._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(n.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function IJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cn(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){t=wc(t,zi);const e=wc(t.firestore,dm);return pJ(cA(e),t._key).then((n=>RJ(e,t,n)))}vp._jsonSchemaVersion="firestore/querySnapshot/1.0",vp._jsonSchema={type:Yi("string",vp._jsonSchemaVersion),bundleSource:Yi("string","QuerySnapshot"),bundleName:Yi("string"),bundle:Yi("string")};class sM extends kJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Al(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zi(this.firestore,null,n)}}function mu(t){t=wc(t,Gh);const e=wc(t.firestore,dm),n=cA(e),r=new sM(e);return CJ(t._query),gJ(n,t._query).then((i=>new vp(e,r,t,i)))}function v0(t,e,n){t=wc(t,zi);const r=wc(t.firestore,dm),i=aM(t.converter,e,n);return Vb(r,[QL(zb(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Il.none())])}function Lp(t,e,n,...r){t=wc(t,zi);const i=wc(t.firestore,dm),a=zb(i);let o;return o=typeof(e=Rn(e))=="string"||e instanceof Mb?jJ(a,"updateDoc",t._key,e,n,r):NJ(a,"updateDoc",t._key,e),Vb(i,[o.toMutation(t._key,Il.exists(!0))])}function PJ(t){return Vb(wc(t.firestore,dm),[new WS(t._key,Il.none())])}function oM(t,e){const n=wc(t.firestore,dm),r=fa(t),i=aM(t.converter,e);return Vb(n,[QL(zb(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Il.exists(!1))]).then((()=>r))}function Vb(t,e){return(function(r,i){const a=new ud;return r.asyncQueue.enqueueAndForget((async()=>rJ(await mJ(r),i,a))),a.promise})(cA(t),e)}function RJ(t,e,n){const r=n.docs.get(e._key),i=new sM(t);return new Rf(t,i,e._key,r,new x0(n.hasPendingWrites,n.fromCache),e.converter)}function OJ(){return new dA("serverTimestamp")}function ET(t){return new hA("increment",t)}(function(e,n=!0){(function(i){Jp=i})(om),Dl(new tl("firestore",((r,{instanceIdentifier:i,options:a})=>{const o=r.getProvider("app").getImmediate(),c=new dm(new SK(r.getProvider("auth-internal")),new CK(o,r.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Et(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new G0(h.options.projectId,f)})(o,i),o);return a={useFetchStreams:n,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),As(TC,kC,e),As(TC,kC,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ="type.googleapis.com/google.protobuf.Int64Value",LJ="type.googleapis.com/google.protobuf.UInt64Value";function lM(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function m1(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>m1(e));if(typeof t=="function"||typeof t=="object")return lM(t,e=>m1(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Mp(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case DJ:case LJ:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Mp(e)):typeof t=="function"||typeof t=="object"?lM(t,e=>Mp(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ao extends rl{constructor(e,n,r){super(`${bA}/${e}`,n||""),this.details=r,Object.setPrototypeOf(this,Ao.prototype)}}function MJ(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function p1(t,e){let n=MJ(t),r=n,i;try{const a=e&&e.error;if(a){const o=a.status;if(typeof o=="string"){if(!CT[o])return new Ao("internal","internal");n=CT[o],r=o}const c=a.message;typeof c=="string"&&(r=c),i=a.details,i!==void 0&&(i=Mp(i))}}catch{}return n==="ok"?null:new Ao(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,es(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(a=>this.auth=a,()=>{}),this.messaging||r.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="us-central1",FJ=/^data: (.*?)(?:\n|$)/;function UJ(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new Ao("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class BJ{constructor(e,n,r,i,a=tj,o=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new zJ(e,n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=tj}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function VJ(t,e,n){const r=Nu(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(gb(t.emulatorOrigin+"/backends"),yb("Functions",!0))}function qJ(t,e,n){const r=i=>HJ(t,e,i,{});return r.stream=(i,a)=>GJ(t,e,i,a),r}function cM(t){return t.emulatorOrigin&&Nu(t.emulatorOrigin)?"include":void 0}async function $J(t,e,n,r,i){n["Content-Type"]="application/json";let a;try{a=await r(t,{method:"POST",body:JSON.stringify(e),headers:n,credentials:cM(i)})}catch{return{status:0,json:null}}let o=null;try{o=await a.json()}catch{}return{status:a.status,json:o}}async function uM(t,e){const n={},r=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return r.authToken&&(n.Authorization="Bearer "+r.authToken),r.messagingToken&&(n["Firebase-Instance-ID-Token"]=r.messagingToken),r.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=r.appCheckToken),n}function HJ(t,e,n,r){const i=t._url(e);return WJ(t,i,n,r)}async function WJ(t,e,n,r){n=m1(n);const i={data:n},a=await uM(t,r),o=r.timeout||7e4,c=UJ(o),d=await Promise.race([$J(e,i,a,t.fetchImpl,t),c.promise,t.cancelAllRequests]);if(c.cancel(),!d)throw new Ao("cancelled","Firebase Functions instance was deleted.");const h=p1(d.status,d.json);if(h)throw h;if(!d.json)throw new Ao("internal","Response is not valid JSON object.");let f=d.json.data;if(typeof f>"u"&&(f=d.json.result),typeof f>"u")throw new Ao("internal","Response is missing data field.");return{data:Mp(f)}}function GJ(t,e,n,r){const i=t._url(e);return YJ(t,i,n,r||{})}async function YJ(t,e,n,r){n=m1(n);const i={data:n},a=await uM(t,r);a["Content-Type"]="application/json",a.Accept="text/event-stream";let o;try{o=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:r?.signal,credentials:cM(t)})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const b=new Ao("cancelled","Request was cancelled.");return{data:Promise.reject(b),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(b)}}}}}}const g=p1(0,null);return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}let c,d;const h=new Promise((x,g)=>{c=x,d=g});r?.signal?.addEventListener("abort",()=>{const x=new Ao("cancelled","Request was cancelled.");d(x)});const f=o.body.getReader(),p=KJ(f,c,d,r?.signal);return{stream:{[Symbol.asyncIterator](){const x=p.getReader();return{async next(){const{value:g,done:b}=await x.read();return{value:g,done:b}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:h}}function KJ(t,e,n,r){const i=(o,c)=>{const d=o.match(FJ);if(!d)return;const h=d[1];try{const f=JSON.parse(h);if("result"in f){e(Mp(f.result));return}if("message"in f){c.enqueue(Mp(f.message));return}if("error"in f){const p=p1(0,f);c.error(p),n(p);return}}catch(f){if(f instanceof Ao){c.error(f),n(f);return}}},a=new TextDecoder;return new ReadableStream({start(o){let c="";return d();async function d(){if(r?.aborted){const h=new Ao("cancelled","Request was cancelled");return o.error(h),n(h),Promise.resolve()}try{const{value:h,done:f}=await t.read();if(f){c.trim()&&i(c.trim(),o),o.close();return}if(r?.aborted){const x=new Ao("cancelled","Request was cancelled");o.error(x),n(x),await t.cancel();return}c+=a.decode(h,{stream:!0});const p=c.split(`
`);c=p.pop()||"";for(const x of p)x.trim()&&i(x.trim(),o);return d()}catch(h){const f=h instanceof Ao?h:p1(0,null);o.error(f),n(f)}}},cancel(){return t.cancel()}})}const TT="@firebase/functions",kT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ="auth-internal",ZJ="app-check-internal",JJ="messaging-internal";function QJ(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),a=n.getProvider(XJ),o=n.getProvider(JJ),c=n.getProvider(ZJ);return new BJ(i,a,o,c,r)};Dl(new tl(bA,e,"PUBLIC").setMultipleInstances(!0)),As(TT,kT,t),As(TT,kT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t=by(),e=tj){const r=Cd(Rn(t),bA).getImmediate({identifier:e}),i=xS("functions");return i&&eQ(r,...i),r}function eQ(t,e,n){VJ(Rn(t),e,n)}function En(t,e,n){return qJ(Rn(t),e)}QJ();var tQ="firebase",nQ="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */As(tQ,nQ,"app");const dM="@firebase/installations",wA="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM=1e4,fM=`w:${wA}`,mM="FIS_v2",rQ="https://firebaseinstallations.googleapis.com/v1",iQ=3600*1e3,aQ="installations",sQ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Yf=new sm(aQ,sQ,oQ);function pM(t){return t instanceof rl&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM({projectId:t}){return`${rQ}/projects/${t}/installations`}function yM(t){return{token:t.token,requestStatus:2,expiresIn:cQ(t.expiresIn),creationTime:Date.now()}}async function xM(t,e){const r=(await e.json()).error;return Yf.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function vM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lQ(t,{refreshToken:e}){const n=vM(t);return n.append("Authorization",uQ(e)),n}async function bM(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cQ(t){return Number(t.replace("s","000"))}function uQ(t){return`${mM} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dQ({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=gM(t),i=vM(t),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={fid:n,authVersion:mM,appId:t.appId,sdkVersion:fM},c={method:"POST",headers:i,body:JSON.stringify(o)},d=await bM(()=>fetch(r,c));if(d.ok){const h=await d.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:yM(h.authToken)}}else throw await xM("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wM(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hQ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fQ=/^[cdef][\w-]{21}$/,nj="";function mQ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=pQ(t);return fQ.test(n)?n:nj}catch{return nj}}function pQ(t){return hQ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=new Map;function NM(t,e){const n=qb(t);jM(n,e),gQ(n,e)}function jM(t,e){const n=_M.get(t);if(n)for(const r of n)r(e)}function gQ(t,e){const n=yQ();n&&n.postMessage({key:t,fid:e}),xQ()}let Af=null;function yQ(){return!Af&&"BroadcastChannel"in self&&(Af=new BroadcastChannel("[Firebase] FID Change"),Af.onmessage=t=>{jM(t.data.key,t.data.fid)}),Af}function xQ(){_M.size===0&&Af&&(Af.close(),Af=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ="firebase-installations-database",bQ=1,Kf="firebase-installations-store";let c5=null;function _A(){return c5||(c5=MO(vQ,bQ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Kf)}}})),c5}async function g1(t,e){const n=qb(t),i=(await _A()).transaction(Kf,"readwrite"),a=i.objectStore(Kf),o=await a.get(n);return await a.put(e,n),await i.done,(!o||o.fid!==e.fid)&&NM(t,e.fid),e}async function SM(t){const e=qb(t),r=(await _A()).transaction(Kf,"readwrite");await r.objectStore(Kf).delete(e),await r.done}async function $b(t,e){const n=qb(t),i=(await _A()).transaction(Kf,"readwrite"),a=i.objectStore(Kf),o=await a.get(n),c=e(o);return c===void 0?await a.delete(n):await a.put(c,n),await i.done,c&&(!o||o.fid!==c.fid)&&NM(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NA(t){let e;const n=await $b(t.appConfig,r=>{const i=wQ(r),a=_Q(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===nj?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function wQ(t){const e=t||{fid:mQ(),registrationStatus:0};return AM(e)}function _Q(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Yf.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=NQ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jQ(t)}:{installationEntry:e}}async function NQ(t,e){try{const n=await dQ(t,e);return g1(t.appConfig,n)}catch(n){throw pM(n)&&n.customData.serverCode===409?await SM(t.appConfig):await g1(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jQ(t){let e=await IT(t.appConfig);for(;e.registrationStatus===1;)await wM(100),e=await IT(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await NA(t);return r||n}return e}function IT(t){return $b(t,e=>{if(!e)throw Yf.create("installation-not-found");return AM(e)})}function AM(t){return SQ(t)?{fid:t.fid,registrationStatus:0}:t}function SQ(t){return t.registrationStatus===1&&t.registrationTime+hM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AQ({appConfig:t,heartbeatServiceProvider:e},n){const r=EQ(t,n),i=lQ(t,n),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const o={installation:{sdkVersion:fM,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(o)},d=await bM(()=>fetch(r,c));if(d.ok){const h=await d.json();return yM(h)}else throw await xM("Generate Auth Token",d)}function EQ(t,{fid:e}){return`${gM(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jA(t,e=!1){let n;const r=await $b(t.appConfig,a=>{if(!EM(a))throw Yf.create("not-registered");const o=a.authToken;if(!e&&kQ(o))return a;if(o.requestStatus===1)return n=CQ(t,e),a;{if(!navigator.onLine)throw Yf.create("app-offline");const c=PQ(a);return n=TQ(t,c),c}});return n?await n:r.authToken}async function CQ(t,e){let n=await PT(t.appConfig);for(;n.authToken.requestStatus===1;)await wM(100),n=await PT(t.appConfig);const r=n.authToken;return r.requestStatus===0?jA(t,e):r}function PT(t){return $b(t,e=>{if(!EM(e))throw Yf.create("not-registered");const n=e.authToken;return RQ(n)?{...e,authToken:{requestStatus:0}}:e})}async function TQ(t,e){try{const n=await AQ(t,e),r={...e,authToken:n};return await g1(t.appConfig,r),n}catch(n){if(pM(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await SM(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await g1(t.appConfig,r)}throw n}}function EM(t){return t!==void 0&&t.registrationStatus===2}function kQ(t){return t.requestStatus===2&&!IQ(t)}function IQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+iQ}function PQ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function RQ(t){return t.requestStatus===1&&t.requestTime+hM<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OQ(t){const e=t,{installationEntry:n,registrationPromise:r}=await NA(e);return r?r.catch(console.error):jA(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DQ(t,e=!1){const n=t;return await LQ(n),(await jA(n,e)).token}async function LQ(t){const{registrationPromise:e}=await NA(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MQ(t){if(!t||!t.options)throw u5("App Configuration");if(!t.name)throw u5("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw u5(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function u5(t){return Yf.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="installations",zQ="installations-internal",FQ=t=>{const e=t.getProvider("app").getImmediate(),n=MQ(e),r=Cd(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},UQ=t=>{const e=t.getProvider("app").getImmediate(),n=Cd(e,CM).getImmediate();return{getId:()=>OQ(n),getToken:i=>DQ(n,i)}};function BQ(){Dl(new tl(CM,FQ,"PUBLIC")),Dl(new tl(zQ,UQ,"PRIVATE"))}BQ();As(dM,wA);As(dM,wA,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="analytics",VQ="firebase_id",qQ="origin",$Q=60*1e3,HQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",SA="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new xb("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Qo=new sm("analytics","Analytics",WQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(t){if(!t.startsWith(SA)){const e=Qo.create("invalid-gtag-resource",{gtagURL:t});return Es.warn(e.message),""}return t}function TM(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function YQ(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function KQ(t,e){const n=YQ("firebase-js-sdk-policy",{createScriptURL:GQ}),r=document.createElement("script"),i=`${SA}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function XQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ZQ(t,e,n,r,i,a){const o=r[i];try{if(o)await e[o];else{const d=(await TM(n)).find(h=>h.measurementId===i);d&&await e[d.appId]}}catch(c){Es.error(c)}t("config",i,a)}async function JQ(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const c=await TM(n);for(const d of o){const h=c.find(p=>p.measurementId===d),f=h&&e[h.appId];if(f)a.push(f);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",r,i||{})}catch(a){Es.error(a)}}function QQ(t,e,n,r){async function i(a,...o){try{if(a==="event"){const[c,d]=o;await JQ(t,e,n,c,d)}else if(a==="config"){const[c,d]=o;await ZQ(t,e,n,r,c,d)}else if(a==="consent"){const[c,d]=o;t("consent",c,d)}else if(a==="get"){const[c,d,h]=o;t("get",c,d,h)}else if(a==="set"){const[c]=o;t("set",c)}else t(a,...o)}catch(c){Es.error(c)}}return i}function eee(t,e,n,r,i){let a=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=QQ(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}function tee(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(SA)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nee=30,ree=1e3;class iee{constructor(e={},n=ree){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const kM=new iee;function aee(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function see(t){const{appId:e,apiKey:n}=t,r={method:"GET",headers:aee(n)},i=HQ.replace("{app-id}",e),a=await fetch(i,r);if(a.status!==200&&a.status!==304){let o="";try{const c=await a.json();c.error?.message&&(o=c.error.message)}catch{}throw Qo.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function oee(t,e=kM,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Qo.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Qo.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new uee;return setTimeout(async()=>{c.abort()},$Q),IM({appId:r,apiKey:i,measurementId:a},o,c,e)}async function IM(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=kM){const{appId:a,measurementId:o}=t;try{await lee(r,e)}catch(c){if(o)return Es.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:o};throw c}try{const c=await see(t);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!cee(d)){if(i.deleteThrottleMetadata(a),o)return Es.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:o};throw c}const h=Number(d?.customData?.httpStatus)===503?XE(n,i.intervalMillis,nee):XE(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(a,f),Es.debug(`Calling attemptFetch again in ${h} millis`),IM(t,f,r,i)}}function lee(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Qo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cee(t){if(!(t instanceof rl)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uee{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dee(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const a=await e,o={...r,send_to:a};t("event",n,o)}}async function hee(t,e,n,r){{const i=await e;t("config",i,{update:!0,user_id:n})}}async function fee(t,e,n,r){if(r&&r.global){const i={};for(const a of Object.keys(n))i[`user_properties.${a}`]=n[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mee(){if(RO())try{await OO()}catch(t){return Es.warn(Qo.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Es.warn(Qo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pee(t,e,n,r,i,a,o){const c=oee(t);c.then(x=>{n[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Es.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Es.error(x)),e.push(c);const d=mee().then(x=>{if(x)return r.getId()}),[h,f]=await Promise.all([c,d]);tee(a)||KQ(a,h.measurementId),i("js",new Date);const p=o?.config??{};return p[qQ]="firebase",p.update=!0,f!=null&&(p[VQ]=f),i("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e){this.app=e}_delete(){return delete Of[this.app.options.appId],Promise.resolve()}}let Of={},RT=[];const OT={};let d5="dataLayer",yee="gtag",DT,Hb,LT=!1;function xee(){const t=[];if(PO()&&t.push("This is a browser extension environment."),yH()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Qo.create("invalid-analytics-context",{errorInfo:e});Es.warn(n.message)}}function vee(t,e,n){xee();const r=t.options.appId;if(!r)throw Qo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Es.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Qo.create("no-api-key");if(Of[r]!=null)throw Qo.create("already-exists",{id:r});if(!LT){XQ(d5);const{wrappedGtag:a,gtagCore:o}=eee(Of,RT,OT,d5,yee);Hb=a,DT=o,LT=!0}return Of[r]=pee(t,RT,OT,e,DT,d5,n),new gee(t)}function bee(t=by()){t=Rn(t);const e=Cd(t,y1);return e.isInitialized()?e.getImmediate():wee(t)}function wee(t,e={}){const n=Cd(t,y1);if(n.isInitialized()){const i=n.getImmediate();if(Oh(e,n.getOptions()))return i;throw Qo.create("already-initialized")}return n.initialize({options:e})}function _ee(t,e,n){t=Rn(t),hee(Hb,Of[t.app.options.appId],e).catch(r=>Es.error(r))}function PM(t,e,n){t=Rn(t),fee(Hb,Of[t.app.options.appId],e,n).catch(r=>Es.error(r))}function RM(t,e,n,r){t=Rn(t),dee(Hb,Of[t.app.options.appId],e,n,r).catch(i=>Es.error(i))}const MT="@firebase/analytics",zT="0.10.19";function Nee(){Dl(new tl(y1,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return vee(r,i,n)},"PUBLIC")),Dl(new tl("analytics-internal",t,"PRIVATE")),As(MT,zT),As(MT,zT,"esm2020");function t(e){try{const n=e.getProvider(y1).getImmediate();return{logEvent:(r,i,a)=>RM(n,r,i,a),setUserProperties:(r,i)=>PM(n,r,i)}}catch(n){throw Qo.create("interop-component-reg-failed",{reason:n})}}}Nee();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM="firebasestorage.googleapis.com",DM="storageBucket",jee=120*1e3,See=600*1e3,Aee=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends rl{constructor(e,n,r=0){super(h5(e),`Firebase Storage: ${n} (${h5(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return h5(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Wr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Wr||(Wr={}));function h5(t){return"storage/"+t}function AA(){const t="An unknown error occurred, please check the error payload for server response.";return new pi(Wr.UNKNOWN,t)}function Eee(t){return new pi(Wr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Cee(t){return new pi(Wr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Tee(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pi(Wr.UNAUTHENTICATED,t)}function kee(){return new pi(Wr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Iee(t){return new pi(Wr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function LM(){return new pi(Wr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MM(){return new pi(Wr.CANCELED,"User canceled the upload/download.")}function Pee(t){return new pi(Wr.INVALID_URL,"Invalid URL '"+t+"'.")}function Ree(t){return new pi(Wr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Oee(){return new pi(Wr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+DM+"' property when initializing the app?")}function zM(){return new pi(Wr.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Dee(){return new pi(Wr.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Lee(){return new pi(Wr.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Mee(t){return new pi(Wr.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function rj(t){return new pi(Wr.INVALID_ARGUMENT,t)}function FM(){return new pi(Wr.APP_DELETED,"The Firebase app was deleted.")}function zee(t){return new pi(Wr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function I0(t,e){return new pi(Wr.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function n0(t){throw new pi(Wr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zo.makeFromUrl(e,n)}catch{return new Zo(e,"")}if(r.path==="")return r;throw Ree(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const o="(/(.*))?$",c=new RegExp("^gs://"+i+o,"i"),d={bucket:1,path:3};function h(D){D.path_=decodeURIComponent(D.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",g=new RegExp(`^https?://${p}/${f}/b/${i}/o${x}`,"i"),b={bucket:1,path:3},v=n===OM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",j=new RegExp(`^https?://${v}/${i}/${w}`,"i"),T=[{regex:c,indices:d,postModify:a},{regex:g,indices:b,postModify:h},{regex:j,indices:{bucket:1,path:2},postModify:h}];for(let D=0;D<T.length;D++){const M=T[D],J=M.regex.exec(e);if(J){const F=J[M.indices.bucket];let z=J[M.indices.path];z||(z=""),r=new Zo(F,z),M.postModify(r);break}}if(r==null)throw Pee(e);return r}}class Fee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uee(t,e,n){let r=1,i=null,a=null,o=!1,c=0;function d(){return c===2}let h=!1;function f(...w){h||(h=!0,e.apply(null,w))}function p(w){i=setTimeout(()=>{i=null,t(g,d())},w)}function x(){a&&clearTimeout(a)}function g(w,...j){if(h){x();return}if(w){x(),f.call(null,w,...j);return}if(d()||o){x(),f.call(null,w,...j);return}r<64&&(r*=2);let T;c===1?(c=2,T=0):T=(r+Math.random())*1e3,p(T)}let b=!1;function v(w){b||(b=!0,x(),!h&&(i!==null?(w||(c=2),clearTimeout(i),p(0)):w||(c=1)))}return p(0),a=setTimeout(()=>{o=!0,v(!0)},n),v}function Bee(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vee(t){return t!==void 0}function qee(t){return typeof t=="function"}function $ee(t){return typeof t=="object"&&!Array.isArray(t)}function Wb(t){return typeof t=="string"||t instanceof String}function FT(t){return EA()&&t instanceof Blob}function EA(){return typeof Blob<"u"}function UT(t,e,n,r){if(r<e)throw rj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw rj(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function UM(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Df;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Df||(Df={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,n,r,i,a,o,c,d,h,f,p,x=!0,g=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=x,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,v)=>{this.resolve_=b,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Kx(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const o=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(o),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(o),this.pendingConnection_=null;const c=a.getErrorCode()===Df.NO_ERROR,d=a.getStatus();if(!c||BM(d,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===Df.ABORT;r(!1,new Kx(!1,null,f));return}const h=this.successCodes_.indexOf(d)!==-1;r(!0,new Kx(h,a))})},n=(r,i)=>{const a=this.resolve_,o=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());Vee(d)?a(d):a()}catch(d){o(d)}else if(c!==null){const d=AA();d.serverResponse=c.getErrorText(),this.errorCallback_?o(this.errorCallback_(c,d)):o(d)}else if(i.canceled){const d=this.appDelete_?FM():MM();o(d)}else{const d=LM();o(d)}};this.canceled_?n(!1,new Kx(!1,null,!0)):this.backoffId_=Uee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Bee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Kx{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Wee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Gee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Yee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Kee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Xee(t,e,n,r,i,a,o=!0,c=!1){const d=UM(t.urlParams),h=t.url+d,f=Object.assign({},t.headers);return Yee(f,e),Wee(f,n),Gee(f,a),Kee(f,r),new Hee(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zee(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Jee(...t){const e=Zee();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(EA())return new Blob(t);throw new pi(Wr.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Qee(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ete(t){if(typeof atob>"u")throw Mee("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class f5{constructor(e,n){this.data=e,this.contentType=n||null}}function tte(t,e){switch(t){case iu.RAW:return new f5(VM(e));case iu.BASE64:case iu.BASE64URL:return new f5(qM(t,e));case iu.DATA_URL:return new f5(rte(e),ite(e))}throw AA()}function VM(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,o=t.charCodeAt(++n);r=65536|(a&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function nte(t){let e;try{e=decodeURIComponent(t)}catch{throw I0(iu.DATA_URL,"Malformed data URL.")}return VM(e)}function qM(t,e){switch(t){case iu.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw I0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case iu.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw I0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ete(e)}catch(i){throw i.message.includes("polyfill")?i:I0(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class $M{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw I0(iu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ate(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function rte(t){const e=new $M(t);return e.base64?qM(iu.BASE64,e.rest):nte(e.rest)}function ite(t){return new $M(t).contentType}function ate(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){let r=0,i="";FT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(FT(this.data_)){const r=this.data_,i=Qee(r,e,n);return i===null?null:new bh(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new bh(r,!0)}}static getBlob(...e){if(EA()){const n=e.map(r=>r instanceof bh?r.data_:r);return new bh(Jee.apply(null,n))}else{const n=e.map(o=>Wb(o)?tte(iu.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(o=>{for(let c=0;c<o.length;c++)i[a++]=o[c]}),new bh(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t){let e;try{e=JSON.parse(t)}catch{return null}return $ee(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ste(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ote(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function WM(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(t,e){return e}class qs{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||lte}}let Xx=null;function cte(t){return!Wb(t)||t.length<2?t:WM(t)}function GM(){if(Xx)return Xx;const t=[];t.push(new qs("bucket")),t.push(new qs("generation")),t.push(new qs("metageneration")),t.push(new qs("name","fullPath",!0));function e(a,o){return cte(o)}const n=new qs("name");n.xform=e,t.push(n);function r(a,o){return o!==void 0?Number(o):o}const i=new qs("size");return i.xform=r,t.push(i),t.push(new qs("timeCreated")),t.push(new qs("updated")),t.push(new qs("md5Hash",null,!0)),t.push(new qs("cacheControl",null,!0)),t.push(new qs("contentDisposition",null,!0)),t.push(new qs("contentEncoding",null,!0)),t.push(new qs("contentLanguage",null,!0)),t.push(new qs("contentType",null,!0)),t.push(new qs("metadata","customMetadata",!0)),Xx=t,Xx}function ute(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Zo(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function dte(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const o=n[a];r[o.local]=o.xform(r,e[o.server])}return ute(r,t),r}function YM(t,e,n){const r=HM(e);return r===null?null:dte(t,r,n)}function hte(t,e,n,r){const i=HM(e);if(i===null||!Wb(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const o=encodeURIComponent;return a.split(",").map(h=>{const f=t.bucket,p=t.fullPath,x="/b/"+o(f)+"/o/"+o(p),g=Py(x,n,r),b=UM({alt:"media",token:h});return g+b})[0]}function KM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class rg{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(t){if(!t)throw AA()}function CA(t,e){function n(r,i){const a=YM(t,i,e);return dd(a!==null),a}return n}function fte(t,e){function n(r,i){const a=YM(t,i,e);return dd(a!==null),hte(a,i,t.host,t._protocol)}return n}function Ry(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=kee():i=Tee():n.getStatus()===402?i=Cee(t.bucket):n.getStatus()===403?i=Iee(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function XM(t){const e=Ry(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=Eee(t.path)),a.serverResponse=i.serverResponse,a}return n}function mte(t,e,n){const r=e.fullServerUrl(),i=Py(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new rg(i,a,CA(t,n),o);return c.errorHandler=XM(e),c}function pte(t,e,n){const r=e.fullServerUrl(),i=Py(r,t.host,t._protocol),a="GET",o=t.maxOperationRetryTime,c=new rg(i,a,fte(t,n),o);return c.errorHandler=XM(e),c}function gte(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=gte(null,e)),r}function yte(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function c(){let T="";for(let D=0;D<2;D++)T=T+Math.random().toString().slice(2);return T}const d=c();o["Content-Type"]="multipart/related; boundary="+d;const h=ZM(e,r,i),f=KM(h,n),p="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,x=`\r
--`+d+"--",g=bh.getBlob(p,r,x);if(g===null)throw zM();const b={name:h.fullPath},v=Py(a,t.host,t._protocol),w="POST",j=t.maxUploadRetryTime,E=new rg(v,w,CA(t,n),j);return E.urlParams=b,E.headers=o,E.body=g.uploadData(),E.errorHandler=Ry(e),E}class x1{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function TA(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{dd(!1)}return dd(!!n&&(e||["active"]).indexOf(n)!==-1),n}function xte(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),o=ZM(e,r,i),c={name:o.fullPath},d=Py(a,t.host,t._protocol),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},p=KM(o,n),x=t.maxUploadRetryTime;function g(v){TA(v);let w;try{w=v.getResponseHeader("X-Goog-Upload-URL")}catch{dd(!1)}return dd(Wb(w)),w}const b=new rg(d,h,g,x);return b.urlParams=c,b.headers=f,b.body=p,b.errorHandler=Ry(e),b}function vte(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function a(h){const f=TA(h,["active","final"]);let p=null;try{p=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{dd(!1)}p||dd(!1);const x=Number(p);return dd(!isNaN(x)),new x1(x,r.size(),f==="final")}const o="POST",c=t.maxUploadRetryTime,d=new rg(n,o,a,c);return d.headers=i,d.errorHandler=Ry(e),d}const BT=256*1024;function bte(t,e,n,r,i,a,o,c){const d=new x1(0,0);if(o?(d.current=o.current,d.total=o.total):(d.current=0,d.total=r.size()),r.size()!==d.total)throw Dee();const h=d.total-d.current;let f=h;i>0&&(f=Math.min(f,i));const p=d.current,x=p+f;let g="";f===0?g="finalize":h===f?g="upload, finalize":g="upload";const b={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${d.current}`},v=r.slice(p,x);if(v===null)throw zM();function w(D,M){const J=TA(D,["active","final"]),F=d.current+f,z=r.size();let L;return J==="final"?L=CA(e,a)(D,M):L=null,new x1(F,z,J==="final",L)}const j="POST",E=e.maxUploadRetryTime,T=new rg(n,j,w,E);return T.headers=b,T.body=v.uploadData(),T.progressCallback=c||null,T.errorHandler=Ry(t),T}const jo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function m5(t){switch(t){case"running":case"pausing":case"canceling":return jo.RUNNING;case"paused":return jo.PAUSED;case"success":return jo.SUCCESS;case"canceled":return jo.CANCELED;case"error":return jo.ERROR;default:return jo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{constructor(e,n,r){if(qee(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class _te{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Df.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Df.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Df.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,a){if(this.sent_)throw n0("cannot .send() more than once");if(Nu(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),a!==void 0)for(const o in a)a.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,a[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw n0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw n0("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw n0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw n0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Nte extends _te{initXhr(){this.xhr_.responseType="text"}}function lp(){return new Nte}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=GM(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Wr.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(BM(i.status,[]))if(a)i=LM();else{this.sleepTime=Math.max(this.sleepTime*2,Aee),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Wr.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=xte(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,lp,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=vte(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,lp,n,r);this._request=a,a.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=BT*this._chunkMultiplier,n=new x1(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let o;try{o=bte(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const c=this._ref.storage._makeRequest(o,lp,i,a,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){BT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=mte(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,lp,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=yte(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,lp,e,n);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=MM(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=m5(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const a=new wte(n||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(m5(this._state)){case jo.SUCCESS:Qm(this._resolve.bind(null,this.snapshot))();break;case jo.CANCELED:case jo.ERROR:const n=this._reject;Qm(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(m5(this._state)){case jo.RUNNING:case jo.PAUSED:e.next&&Qm(e.next.bind(e,this.snapshot))();break;case jo.SUCCESS:e.complete&&Qm(e.complete.bind(e))();break;case jo.CANCELED:case jo.ERROR:e.error&&Qm(e.error.bind(e,this._error))();break;default:e.error&&Qm(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this._service=e,n instanceof Zo?this._location=n:this._location=Zo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xf(e,n)}get root(){const e=new Zo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WM(this._location.path)}get storage(){return this._service}get parent(){const e=ste(this._location.path);if(e===null)return null;const n=new Zo(this._location.bucket,e);return new Xf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zee(e)}}function Ste(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new jte(t,new bh(e),n)}function Ate(t){t._throwIfRoot("getDownloadURL");const e=pte(t.storage,t._location,GM());return t.storage.makeRequestWithTokens(e,lp).then(n=>{if(n===null)throw Lee();return n})}function Ete(t,e){const n=ote(t._location.path,e),r=new Zo(t._location.bucket,n);return new Xf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cte(t){return/^[A-Za-z]+:\/\//.test(t)}function Tte(t,e){return new Xf(t,e)}function JM(t,e){if(t instanceof kA){const n=t;if(n._bucket==null)throw Oee();const r=new Xf(n,n._bucket);return e!=null?JM(r,e):r}else return e!==void 0?Ete(t,e):t}function kte(t,e){if(e&&Cte(e)){if(t instanceof kA)return Tte(t,e);throw rj("To use ref(service, url), the first argument must be a Storage instance.")}else return JM(t,e)}function VT(t,e){const n=e?.[DM];return n==null?null:Zo.makeFromBucketSpec(n,t)}function Ite(t,e,n,r={}){t.host=`${e}:${n}`;const i=Nu(e);i&&(gb(`https://${t.host}/b`),yb("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=r;a&&(t._overrideAuthToken=typeof a=="string"?a:IO(a,t.app.options.projectId))}class kA{constructor(e,n,r,i,a,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=o,this._bucket=null,this._host=OM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jee,this._maxUploadRetryTime=See,this._requests=new Set,i!=null?this._bucket=Zo.makeFromBucketSpec(i,this._host):this._bucket=VT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zo.makeFromBucketSpec(this._url,e):this._bucket=VT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(es(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xf(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Fee(FM());{const o=Xee(e,this._appId,r,i,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const qT="@firebase/storage",$T="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="storage";function Pte(t,e,n){return t=Rn(t),Ste(t,e,n)}function Rte(t){return t=Rn(t),Ate(t)}function Ote(t,e){return t=Rn(t),kte(t,e)}function Dte(t=by(),e){t=Rn(t);const r=Cd(t,QM).getImmediate({identifier:e}),i=xS("storage");return i&&Lte(r,...i),r}function Lte(t,e,n,r={}){Ite(t,e,n,r)}function Mte(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new kA(n,r,i,e,om)}function zte(){Dl(new tl(QM,Mte,"PUBLIC").setMultipleInstances(!0)),As(qT,$T,""),As(qT,$T,"esm2020")}zte();const Fte={apiKey:"AIzaSyCSMYG08Nf7TUtV5HfGEHIM-9yPz5nioC0",authDomain:"cvsift-3dff8.firebaseapp.com",projectId:"cvsift-3dff8",storageBucket:"cvsift-3dff8.firebasestorage.app",messagingSenderId:"796887835619",appId:"1:796887835619:web:db0557cb12ec69b637f6d6",measurementId:"G-LY1RPH3S11"},Oy=zO(Fte);let zp=null;try{zp=bee(Oy)}catch(t){console.warn("Analytics not available:",t.message)}const da=wK(Oy),cr=xJ(Oy),Ute=Dte(Oy),Lf=Mr(Oy,"us-central1"),e7=V.createContext();function Ei(){const t=V.useContext(e7);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function Bte({children:t}){const[e,n]=V.useState(null),[r,i]=V.useState(!0),[a,o]=V.useState(null);async function c(v,w,j){try{o(null);const E=await $G(da,v,w);return await mD(E.user,{displayName:j}),await v0(fa(cr,"users",E.user.uid),{uid:E.user.uid,email:E.user.email,displayName:j,role:"user",plan:"free",cvUploadsThisMonth:0,cvUploadLimit:10,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()}),E.user}catch(E){throw o(E.message),E}}async function d(v,w){try{o(null);const j=await HG(da,v,w);await v0(fa(cr,"users",j.user.uid),{lastLogin:new Date().toISOString()},{merge:!0});try{const E=Mr(),D=await En(E,"initializeMasterAccount")();console.log("Master account check:",D.data);const M=await x(j.user.uid);M&&n({...j.user,userData:M})}catch(E){console.log("Master account check failed:",E.message)}return j.user}catch(j){throw j.code!=="auth/multi-factor-auth-required"&&o(j.message),j}}async function h(){try{o(null);const v=new nu,w=await CY(da,v);(await Gf(fa(cr,"users",w.user.uid))).exists()?await v0(fa(cr,"users",w.user.uid),{lastLogin:new Date().toISOString()},{merge:!0}):await v0(fa(cr,"users",w.user.uid),{uid:w.user.uid,email:w.user.email,displayName:w.user.displayName,photoURL:w.user.photoURL,role:"user",plan:"free",cvUploadsThisMonth:0,cvUploadLimit:10,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()});try{const E=Mr(),D=await En(E,"initializeMasterAccount")();console.log("Master account check:",D.data);const M=await x(w.user.uid);M&&n({...w.user,userData:M})}catch(E){console.log("Master account check failed:",E.message)}return w.user}catch(v){throw v.code!=="auth/multi-factor-auth-required"&&o(v.message),v}}async function f(){try{o(null),await JG(da)}catch(v){throw o(v.message),v}}async function p(v){try{o(null),await qG(da,v)}catch(w){throw o(w.message),w}}async function x(v){try{const w=await Gf(fa(cr,"users",v));if(w.exists()){const j=w.data();try{const E=Mr(),D=await En(E,"checkTeamAccess")();j.teamAccess={isTeamOwner:D.data.isTeamOwner||!1,isTeamMember:D.data.isTeamMember||!1,teamOwnerId:D.data.teamOwnerId||null,role:D.data.role||null},D.data.isTeamMember&&D.data.ownerPlan&&(j.plan=D.data.ownerPlan,console.log("Team member inheriting owner plan:",D.data.ownerPlan))}catch(E){console.log("Team access check failed:",E.message),j.teamAccess={isTeamOwner:!1,isTeamMember:!1,teamOwnerId:null,role:null}}return j}return null}catch(w){return console.error("Error getting user data:",w),null}}async function g(){if(e){const v=await x(e.uid);n({...e,userData:v})}}V.useEffect(()=>ZG(da,async w=>{if(w){const j=await x(w.uid);n({...w,userData:j})}else n(null);i(!1)}),[]);const b={currentUser:e,userData:e?.userData,signup:c,signin:d,signInWithGoogle:h,logout:f,resetPassword:p,getUserData:x,refreshUserData:g,error:a,setError:o};return s.jsx(e7.Provider,{value:b,children:!r&&t})}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qte=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),HT=t=>{const e=qte(t);return e.charAt(0).toUpperCase()+e.slice(1)},t7=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),$te=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:o,...c},d)=>V.createElement("svg",{ref:d,...Hte,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:t7("lucide",i),...!a&&!$te(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>V.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=(t,e)=>{const n=V.forwardRef(({className:r,...i},a)=>V.createElement(Wte,{ref:a,iconNode:e,className:t7(`lucide-${Vte(HT(t))}`,`lucide-${t}`,r),...i}));return n.displayName=HT(t),n};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hc=St("activity",Gte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Kte=St("archive",Yte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Qs=St("arrow-left",Xte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jte=St("arrow-right",Zte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Bh=St("award",Qte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tne=St("book-open",ene);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],p5=St("bot",nne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fc=St("briefcase",rne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],_d=St("calendar",ine);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],WT=St("camera",ane);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jh=St("chart-column",sne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],lne=St("chart-pie",one);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pt=St("check",cne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vc=St("chevron-down",une);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],v1=St("chevron-right",dne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hne=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Sh=St("chevron-up",hne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ur=St("circle-alert",fne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],xr=St("circle-check",mne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pne=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ws=St("circle-check-big",pne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gne=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],b1=St("circle-x",gne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yne=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Gb=St("clock",yne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xne=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],vne=St("code",xne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bne=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],wne=St("credit-card",bne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ne=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],GT=St("crown",_ne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nne=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],jne=St("dollar-sign",Nne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sne=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fp=St("download",Sne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ane=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],YT=St("external-link",Ane);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ene=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Mv=St("eye-off",Ene);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cne=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bp=St("eye",Cne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],kne=St("file-chart-column-increasing",Tne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ine=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],Pne=St("file-search",Ine);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rne=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ss=St("file-text",Rne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const One=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Dne=St("folder",One);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lne=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ef=St("funnel",Lne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mne=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],IA=St("graduation-cap",Mne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zne=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Fne=St("hash",zne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Une=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],PA=St("info",Une);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bne=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Vne=St("linkedin",Bne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qne=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],hd=St("list",qne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ne=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],rs=St("loader-circle",$ne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hne=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Wne=St("log-out",Hne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gne=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ey=St("lock",Gne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yne=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],bc=St("mail",Yne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kne=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Yb=St("map-pin",Kne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xne=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Zne=St("menu",Xne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jne=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],n7=St("message-circle",Jne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qne=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],KT=St("message-square",Qne);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],w1=St("package",ere);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],XT=St("pen-line",tre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nre=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],RA=St("pen",nre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rre=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ire=St("phone",rre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const are=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mf=St("plus",are);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sre=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],ZT=St("power",sre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ore=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ty=St("refresh-cw",ore);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lre=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],P0=St("save",lre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cre=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],r7=St("search",cre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ure=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],i7=St("send",ure);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dre=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],a7=St("settings",dre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hre=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],dc=St("shield",hre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fre=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],JT=St("sliders-horizontal",fre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mre=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],R0=St("smartphone",mre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pre=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ns=St("sparkles",pre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gre=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yre=St("square-check-big",gre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xre=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],QT=St("star",xre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vre=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],s7=St("target",vre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bre=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],ek=St("text-align-start",bre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wre=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ys=St("trash-2",wre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _re=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Nre=St("trending-down",_re);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Zf=St("trending-up",jre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],_1=St("triangle-alert",Sre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],o7=St("type",Are);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Gs=St("upload",Ere);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],N1=St("user-plus",Cre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ks=St("users",Tre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Cl=St("user",kre);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Wt=St("x",Ire);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Rre=St("zap",Pre),l7=V.createContext();function Td(){const t=V.useContext(l7);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function Ore({children:t}){const[e,n]=V.useState([]),r=V.useCallback((o,c="info",d=4e3)=>{const h=Math.random().toString(36).substring(7),f={id:h,message:o,type:c,duration:d};return n(p=>[...p,f]),d>0&&setTimeout(()=>{i(h)},d),h},[]),i=V.useCallback(o=>{n(c=>c.filter(d=>d.id!==o))},[]),a={success:(o,c)=>r(o,"success",c),error:(o,c)=>r(o,"error",c),info:(o,c)=>r(o,"info",c),warning:(o,c)=>r(o,"warning",c)};return s.jsxs(l7.Provider,{value:a,children:[t,s.jsx(Dre,{toasts:e,removeToast:i})]})}function Dre({toasts:t,removeToast:e}){return t.length===0?null:s.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 max-w-md",children:t.map(n=>s.jsx(Lre,{toast:n,onClose:()=>e(n.id)},n.id))})}function Lre({toast:t,onClose:e}){const r=(()=>{switch(t.type){case"success":return{icon:xr,bgGradient:"from-green-50 to-green-100",iconBg:"from-green-500 to-green-600",border:"border-green-200",textColor:"text-green-900"};case"error":return{icon:ur,bgGradient:"from-red-50 to-red-100",iconBg:"from-red-500 to-red-600",border:"border-red-200",textColor:"text-red-900"};case"warning":return{icon:_1,bgGradient:"from-orange-50 to-orange-100",iconBg:"from-orange-500 to-orange-600",border:"border-orange-200",textColor:"text-orange-900"};case"info":default:return{icon:PA,bgGradient:"from-blue-50 to-blue-100",iconBg:"from-blue-500 to-blue-600",border:"border-blue-200",textColor:"text-blue-900"}}})(),i=r.icon;return s.jsxs("div",{className:`bg-gradient-to-r ${r.bgGradient} border ${r.border} rounded-2xl shadow-2xl p-4 flex items-start gap-3 min-w-[320px] max-w-md animate-slideInRight`,children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${r.iconBg} rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg`,children:s.jsx(i,{className:"text-white",size:20})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:`${r.textColor} font-semibold text-sm leading-relaxed`,children:t.message})}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 hover:bg-white/50 rounded-lg p-1.5 transition-all flex-shrink-0",children:s.jsx(Wt,{size:16})})]})}/*!
* CookieConsent 3.1.0
* https://github.com/orestbida/cookieconsent
* Author Orest Bida
* Released under the MIT License
*/const c7="opt-in",b0="opt-out",u7="show--consent",d7="show--preferences",tk="disable--interaction",j1="data-category",Xn="div",mc="button",pc="aria-hidden",O0="btn-group",Ns="click",wp="data-role",OA="consentModal",DA="preferencesModal";let Mre=class{constructor(){this.t={mode:c7,revision:0,autoShow:!0,lazyHtmlGeneration:!0,autoClearCookies:!0,manageScriptTags:!0,hideFromBots:!0,cookie:{name:"cc_cookie",expiresAfterDays:182,domain:"",path:"/",secure:!0,sameSite:"Lax"}},this.o={i:{},l:"",_:{},u:{},p:{},m:[],v:!1,h:null,C:null,S:null,M:"",D:!0,T:!1,k:!1,A:!1,N:!1,H:[],V:!1,I:!0,L:[],j:!1,F:"",P:!1,O:[],R:[],B:[],$:[],G:!1,J:!1,U:!1,q:[],K:[],W:[],X:{},Y:{},Z:{},ee:{},te:{},oe:[]},this.ne={ae:{},se:{}},this.ce={},this.re={ie:"cc:onFirstConsent",le:"cc:onConsent",de:"cc:onChange",fe:"cc:onModalShow",_e:"cc:onModalHide",ue:"cc:onModalReady"}}};const yt=new Mre,h7=(t,e)=>t.indexOf(e),Tr=(t,e)=>h7(t,e)!==-1,Kb=t=>Array.isArray(t),ig=t=>typeof t=="string",ij=t=>!!t&&typeof t=="object"&&!Kb(t),tu=t=>typeof t=="function",zf=t=>Object.keys(t),f7=t=>Array.from(new Set(t)),S1=()=>document.activeElement,dp=t=>t.preventDefault(),LA=(t,e)=>t.querySelectorAll(e),Mt=t=>{const e=document.createElement(t);return t===mc&&(e.type=t),e},mn=(t,e,n)=>t.setAttribute(e,n),g5=(t,e,n)=>{t.removeAttribute(n?"data-"+e:e)},zv=(t,e,n)=>t.getAttribute(n?"data-"+e:e),Dt=(t,e)=>t.appendChild(e),Or=(t,e)=>t.classList.add(e),$s=(t,e)=>Or(t,"cm__"+e),Gn=(t,e)=>Or(t,"pm__"+e),Ph=(t,e)=>t.classList.remove(e),Ah=t=>{if(typeof t!="object")return t;if(t instanceof Date)return new Date(t.getTime());let e=Array.isArray(t)?[]:{};for(let n in t){let r=t[n];e[n]=Ah(r)}return e},nk=(t,e)=>dispatchEvent(new CustomEvent(t,{detail:e})),fi=(t,e,n,r)=>{t.addEventListener(e,n),r&&yt.o.m.push({pe:t,ge:e,me:n})},zre=()=>{const t=yt.t.cookie.expiresAfterDays;return tu(t)?t(yt.o.F):t},y5=(t,e)=>{const n=t||[],r=e||[];return n.filter((i=>!Tr(r,i))).concat(r.filter((i=>!Tr(n,i))))},m7=t=>{yt.o.R=f7(t),yt.o.F=(()=>{let e="custom";const{R:n,O:r,B:i}=yt.o,a=n.length;return a===r.length?e="all":a===i.length&&(e="necessary"),e})()},p7=(t,e,n,r)=>{const i="accept-",{show:a,showPreferences:o,hide:c,hidePreferences:d,acceptCategory:h}=e,f=t||document,p=T=>LA(f,`[data-cc="${T}"]`),x=(T,D)=>{dp(T),h(D),d(),c()},g=p("show-preferencesModal"),b=p("show-consentModal"),v=p(i+"all"),w=p(i+"necessary"),j=p(i+"custom"),E=yt.t.lazyHtmlGeneration;for(const T of g)mn(T,"aria-haspopup","dialog"),fi(T,Ns,(D=>{dp(D),o()})),E&&(fi(T,"mouseenter",(D=>{dp(D),yt.o.N||n(e,r)}),!0),fi(T,"focus",(()=>{yt.o.N||n(e,r)})));for(let T of b)mn(T,"aria-haspopup","dialog"),fi(T,Ns,(D=>{dp(D),a(!0)}),!0);for(let T of v)fi(T,Ns,(D=>{x(D,"all")}),!0);for(let T of j)fi(T,Ns,(D=>{x(D)}),!0);for(let T of w)fi(T,Ns,(D=>{x(D,[])}),!0)},pu=(t,e)=>{t&&(e&&(t.tabIndex=-1),t.focus(),e&&t.removeAttribute("tabindex"))},g7=(t,e)=>{const n=r=>{r.target.removeEventListener("transitionend",n),r.propertyName==="opacity"&&getComputedStyle(t).opacity==="1"&&pu((i=>i===1?yt.ne.be:yt.ne.ve)(e))};fi(t,"transitionend",n)};let rk;const y7=t=>{clearTimeout(rk),t?Or(yt.ne.ye,tk):rk=setTimeout((()=>{Ph(yt.ne.ye,tk)}),500)},Fre=["M 19.5 4.5 L 4.5 19.5 M 4.5 4.501 L 19.5 19.5","M 3.572 13.406 L 8.281 18.115 L 20.428 5.885","M 21.999 6.94 L 11.639 17.18 L 2.001 6.82 "],ny=(t=0,e=1.5)=>`<svg viewBox="0 0 24 24" stroke-width="${e}"><path d="${Fre[t]}"/></svg>`,x7=t=>{const e=yt.ne,n=yt.o;(r=>{const i=r===e.he,a=n.i.disablePageInteraction?e.ye:i?e.Ce:e.ye;fi(a,"keydown",(o=>{if(o.key!=="Tab"||!(i?n.k&&!n.A:n.A))return;const c=S1(),d=i?n.q:n.K;d.length!==0&&(o.shiftKey?c!==d[0]&&r.contains(c)||(dp(o),pu(d[1])):c!==d[1]&&r.contains(c)||(dp(o),pu(d[0])))}),!0)})(t)},Ure=["[href]",mc,"input","details","[tabindex]"].map((t=>t+':not([tabindex="-1"])')).join(","),v7=t=>{const{o:e,ne:n}=yt,r=(i,a)=>{const o=LA(i,Ure);a[0]=o[0],a[1]=o[o.length-1]};t===1&&e.T&&r(n.he,e.q),t===2&&e.N&&r(n.we,e.K)},gu=(t,e,n)=>{const{de:r,le:i,ie:a,_e:o,ue:c,fe:d}=yt.ce,h=yt.re;if(e){const p={modalName:e};return t===h.fe?tu(d)&&d(p):t===h._e?tu(o)&&o(p):(p.modal=n,tu(c)&&c(p)),nk(t,p)}const f={cookie:yt.o.p};t===h.ie?tu(a)&&a(Ah(f)):t===h.le?tu(i)&&i(Ah(f)):(f.changedCategories=yt.o.L,f.changedServices=yt.o.ee,tu(r)&&r(Ah(f))),nk(t,Ah(f))},A1=(t,e)=>{try{return t()}catch(n){return!e&&console.warn("CookieConsent:",n),!1}},aj=t=>{const{Y:e,ee:n,O:r,X:i,oe:a,p:o,L:c}=yt.o;for(const p of r){const x=n[p]||e[p]||[];for(const g of x){const b=i[p][g];if(!b)continue;const{onAccept:v,onReject:w}=b;!b.Se&&Tr(e[p],g)?(b.Se=!0,tu(v)&&v()):b.Se&&!Tr(e[p],g)&&(b.Se=!1,tu(w)&&w())}}if(!yt.t.manageScriptTags)return;const d=a,h=t||o.categories||[],f=(p,x)=>{if(x>=p.length)return;const g=a[x];if(g.xe)return f(p,x+1);const b=g.Me,v=g.De,w=g.Te,j=Tr(h,v),E=!!w&&Tr(e[v],w);if(!w&&!g.ke&&j||!w&&g.ke&&!j&&Tr(c,v)||w&&!g.ke&&E||w&&g.ke&&!E&&Tr(n[v]||[],w)){g.xe=!0;const T=zv(b,"type",!0);g5(b,"type",!!T),g5(b,j1);let D=zv(b,"src",!0);D&&g5(b,"src",!0);const M=Mt("script");M.textContent=b.innerHTML;for(const{nodeName:F}of b.attributes)mn(M,F,b[F]||zv(b,F));T&&(M.type=T),D?M.src=D:D=b.src;const J=!!D&&(!T||["text/javascript","module"].includes(T));if(J&&(M.onload=M.onerror=()=>{f(p,++x)}),b.replaceWith(M),J)return}f(p,++x)};f(d,0)},Fv="bottom",sj="left",b7="center",MA="right",x5="inline",w7="wide",_7="pm--",v5=["middle","top",Fv],ik=[sj,b7,MA],Bre={box:{Ee:[w7,x5],Ae:v5,Ne:ik,He:Fv,Ve:MA},cloud:{Ee:[x5],Ae:v5,Ne:ik,He:Fv,Ve:b7},bar:{Ee:[x5],Ae:v5.slice(1),Ne:[],He:Fv,Ve:""}},Vre={box:{Ee:[],Ae:[],Ne:[],He:"",Ve:""},bar:{Ee:[w7],Ae:[],Ne:[sj,MA],He:"",Ve:sj}},N7=t=>{const e=yt.o.i.guiOptions,n=e&&e.consentModal,r=e&&e.preferencesModal;t===0&&ak(yt.ne.he,Bre,n,"cm--","box","cm"),t===1&&ak(yt.ne.we,Vre,r,_7,"box","pm")},ak=(t,e,n,r,i,a)=>{t.className=a;const o=n&&n.layout,c=n&&n.position,d=n&&n.flipButtons,h=!n||n.equalWeightButtons!==!1,f=o&&o.split(" ")||[],p=f[0],x=f[1],g=p in e?p:i,b=e[g],v=Tr(b.Ee,x)&&x,w=c&&c.split(" ")||[],j=w[0],E=r===_7?w[0]:w[1],T=Tr(b.Ae,j)?j:b.He,D=Tr(b.Ne,E)?E:b.Ve,M=F=>{F&&Or(t,r+F)};M(g),M(v),M(T),M(D),d&&M("flip");const J=a+"__btn--secondary";if(a==="cm"){const{Ie:F,Le:z}=yt.ne;F&&(h?Ph(F,J):Or(F,J)),z&&(h?Ph(z,J):Or(z,J))}else{const{je:F}=yt.ne;F&&(h?Ph(F,J):Or(F,J))}},ry=(t,e)=>{const n=yt.o,r=yt.ne,{hide:i,hidePreferences:a,acceptCategory:o}=t,c=D=>{o(D),a(),i()},d=n.u&&n.u.preferencesModal;if(!d)return;const h=d.title,f=d.closeIconLabel,p=d.acceptAllBtn,x=d.acceptNecessaryBtn,g=d.savePreferencesBtn,b=d.sections||[],v=p||x||g;if(r.Fe)r.Pe=Mt(Xn),Gn(r.Pe,"body");else{r.Fe=Mt(Xn),Or(r.Fe,"pm-wrapper");const D=Mt("div");Or(D,"pm-overlay"),Dt(r.Fe,D),fi(D,Ns,a),r.we=Mt(Xn),Or(r.we,"pm"),mn(r.we,"role","dialog"),mn(r.we,pc,!0),mn(r.we,"aria-modal",!0),mn(r.we,"aria-labelledby","pm__title"),fi(r.ye,"keydown",(M=>{M.keyCode===27&&a()}),!0),r.Oe=Mt(Xn),Gn(r.Oe,"header"),r.Re=Mt("h2"),Gn(r.Re,"title"),r.Re.id="pm__title",r.Be=Mt(mc),Gn(r.Be,"close-btn"),mn(r.Be,"aria-label",d.closeIconLabel||""),fi(r.Be,Ns,a),r.$e=Mt("span"),r.$e.innerHTML=ny(),Dt(r.Be,r.$e),r.Ge=Mt(Xn),Gn(r.Ge,"body"),r.Je=Mt(Xn),Gn(r.Je,"footer");var w=Mt(Xn);Or(w,"btns");var j=Mt(Xn),E=Mt(Xn);Gn(j,O0),Gn(E,O0),Dt(r.Je,j),Dt(r.Je,E),Dt(r.Oe,r.Re),Dt(r.Oe,r.Be),r.ve=Mt(Xn),mn(r.ve,"tabIndex",-1),Dt(r.we,r.ve),Dt(r.we,r.Oe),Dt(r.we,r.Ge),v&&Dt(r.we,r.Je),Dt(r.Fe,r.we)}let T;h&&(r.Re.innerHTML=h,f&&mn(r.Be,"aria-label",f)),b.forEach(((D,M)=>{const J=D.title,F=D.description,z=D.linkedCategory,L=z&&n.P[z],H=D.cookieTable,P=H&&H.body,I=H&&H.caption,U=P&&P.length>0,k=!!L,le=k&&n.X[z],G=ij(le)&&zf(le)||[],W=k&&(!!F||!!U||zf(le).length>0);var ie=Mt(Xn);if(Gn(ie,"section"),W||F){var se=Mt(Xn);Gn(se,"section-desc-wrapper")}let Se=G.length;if(W&&Se>0){const xe=Mt(Xn);Gn(xe,"section-services");for(const be of G){const oe=le[be],fe=oe&&oe.label||be,Ee=Mt(Xn),Be=Mt(Xn),Pe=Mt(Xn),ct=Mt(Xn);Gn(Ee,"service"),Gn(ct,"service-title"),Gn(Be,"service-header"),Gn(Pe,"service-icon");const q=sk(fe,be,L,!0,z);ct.innerHTML=fe,Dt(Be,Pe),Dt(Be,ct),Dt(Ee,Be),Dt(Ee,q),Dt(xe,Ee)}Dt(se,xe)}if(J){var X=Mt(Xn),O=Mt(k?mc:Xn);if(Gn(X,"section-title-wrapper"),Gn(O,"section-title"),O.innerHTML=J,Dt(X,O),k){const xe=Mt("span");xe.innerHTML=ny(2,3.5),Gn(xe,"section-arrow"),Dt(X,xe),ie.className+="--toggle";const be=sk(J,z,L);let oe=d.serviceCounterLabel;if(Se>0&&ig(oe)){let fe=Mt("span");Gn(fe,"badge"),Gn(fe,"service-counter"),mn(fe,pc,!0),mn(fe,"data-servicecounter",Se),oe&&(oe=oe.split("|"),oe=oe.length>1&&Se>1?oe[1]:oe[0],mn(fe,"data-counterlabel",oe)),fe.innerHTML=Se+(oe?" "+oe:""),Dt(O,fe)}if(W){Gn(ie,"section--expandable");var K=z+"-desc";mn(O,"aria-expanded",!1),mn(O,"aria-controls",K)}Dt(X,be)}else mn(O,"role","heading"),mn(O,"aria-level","3");Dt(ie,X)}if(F){var te=Mt("p");Gn(te,"section-desc"),te.innerHTML=F,Dt(se,te)}if(W&&(mn(se,pc,"true"),se.id=K,((xe,be,oe)=>{fi(O,Ns,(()=>{be.classList.contains("is-expanded")?(Ph(be,"is-expanded"),mn(oe,"aria-expanded","false"),mn(xe,pc,"true")):(Or(be,"is-expanded"),mn(oe,"aria-expanded","true"),mn(xe,pc,"false"))}))})(se,ie,O),U)){const xe=Mt("table"),be=Mt("thead"),oe=Mt("tbody");if(I){const q=Mt("caption");Gn(q,"table-caption"),q.innerHTML=I,xe.appendChild(q)}Gn(xe,"section-table"),Gn(be,"table-head"),Gn(oe,"table-body");const fe=H.headers,Ee=zf(fe),Be=r.Ue.createDocumentFragment(),Pe=Mt("tr");for(const q of Ee){const ae=fe[q],ke=Mt("th");ke.id="cc__row-"+ae+M,mn(ke,"scope","col"),Gn(ke,"table-th"),ke.innerHTML=ae,Dt(Be,ke)}Dt(Pe,Be),Dt(be,Pe);const ct=r.Ue.createDocumentFragment();for(const q of P){const ae=Mt("tr");Gn(ae,"table-tr");for(const ke of Ee){const ye=fe[ke],he=q[ke],ve=Mt("td"),De=Mt(Xn);Gn(ve,"table-td"),mn(ve,"data-column",ye),mn(ve,"headers","cc__row-"+ye+M),De.insertAdjacentHTML("beforeend",he),Dt(ve,De),Dt(ae,ve)}Dt(ct,ae)}Dt(oe,ct),Dt(xe,be),Dt(xe,oe),Dt(se,xe)}(W||F)&&Dt(ie,se);const ee=r.Pe||r.Ge;k?(T||(T=Mt(Xn),Gn(T,"section-toggles")),T.appendChild(ie)):T=null,Dt(ee,T||ie)})),p&&(r.ze||(r.ze=Mt(mc),Gn(r.ze,"btn"),mn(r.ze,wp,"all"),Dt(j,r.ze),fi(r.ze,Ns,(()=>c("all")))),r.ze.innerHTML=p),x&&(r.je||(r.je=Mt(mc),Gn(r.je,"btn"),mn(r.je,wp,"necessary"),Dt(j,r.je),fi(r.je,Ns,(()=>c([])))),r.je.innerHTML=x),g&&(r.qe||(r.qe=Mt(mc),Gn(r.qe,"btn"),Gn(r.qe,"btn--secondary"),mn(r.qe,wp,"save"),Dt(E,r.qe),fi(r.qe,Ns,(()=>c()))),r.qe.innerHTML=g),r.Pe&&(r.we.replaceChild(r.Pe,r.Ge),r.Ge=r.Pe),N7(1),n.N||(n.N=!0,gu(yt.re.ue,DA,r.we),e(t),Dt(r.Ce,r.Fe),x7(r.we),setTimeout((()=>Or(r.Fe,"cc--anim")),100)),v7(2)};function sk(t,e,n,r,i){const a=yt.o,o=yt.ne,c=Mt("label"),d=Mt("input"),h=Mt("span"),f=Mt("span"),p=Mt("span"),x=Mt("span"),g=Mt("span");if(x.innerHTML=ny(1,3),g.innerHTML=ny(0,3),d.type="checkbox",Or(c,"section__toggle-wrapper"),Or(d,"section__toggle"),Or(x,"toggle__icon-on"),Or(g,"toggle__icon-off"),Or(h,"toggle__icon"),Or(f,"toggle__icon-circle"),Or(p,"toggle__label"),mn(h,pc,"true"),r?(Or(c,"toggle-service"),mn(d,j1,i),o.se[i][e]=d):o.ae[e]=d,r?(b=>{fi(d,"change",(()=>{const v=o.se[b],w=o.ae[b];a.Z[b]=[];for(let j in v){const E=v[j];E.checked&&a.Z[b].push(E.value)}w.checked=a.Z[b].length>0}))})(i):(b=>{fi(d,Ns,(()=>{const v=o.se[b],w=d.checked;a.Z[b]=[];for(let j in v)v[j].checked=w,w&&a.Z[b].push(j)}))})(e),d.value=e,p.textContent=t.replace(/<.*>.*<\/.*>/gm,""),Dt(f,g),Dt(f,x),Dt(h,f),a.D)(n.readOnly||n.enabled)&&(d.checked=!0);else if(r){const b=a.Y[i];d.checked=n.readOnly||Tr(b,e)}else Tr(a.R,e)&&(d.checked=!0);return n.readOnly&&(d.disabled=!0),Dt(c,d),Dt(c,h),Dt(c,p),c}const b5=()=>{const t=Mt("span");return yt.ne.Ke||(yt.ne.Ke=t),t},j7=(t,e)=>{const n=yt.o,r=yt.ne,{hide:i,showPreferences:a,acceptCategory:o}=t,c=n.u&&n.u.consentModal;if(!c)return;const d=c.acceptAllBtn,h=c.acceptNecessaryBtn,f=c.showPreferencesBtn,p=c.closeIconLabel,x=c.footer,g=c.label,b=c.title,v=j=>{i(),o(j)};if(!r.Qe){r.Qe=Mt(Xn),r.he=Mt(Xn),r.We=Mt(Xn),r.Xe=Mt(Xn),r.Ye=Mt(Xn),Or(r.Qe,"cm-wrapper"),Or(r.he,"cm"),$s(r.We,"body"),$s(r.Xe,"texts"),$s(r.Ye,"btns"),mn(r.he,"role","dialog"),mn(r.he,"aria-modal","true"),mn(r.he,pc,"false"),mn(r.he,"aria-describedby","cm__desc"),g?mn(r.he,"aria-label",g):b&&mn(r.he,"aria-labelledby","cm__title");const j="box",E=n.i.guiOptions,T=E&&E.consentModal,D=(T&&T.layout||j).split(" ")[0]===j;b&&p&&D&&(r.Le||(r.Le=Mt(mc),r.Le.innerHTML=ny(),$s(r.Le,"btn"),$s(r.Le,"btn--close"),fi(r.Le,Ns,(()=>{v([])})),Dt(r.We,r.Le)),mn(r.Le,"aria-label",p)),Dt(r.We,r.Xe),(d||h||f)&&Dt(r.We,r.Ye),r.be=Mt(Xn),mn(r.be,"tabIndex",-1),Dt(r.he,r.be),Dt(r.he,r.We),Dt(r.Qe,r.he)}b&&(r.Ze||(r.Ze=Mt("h2"),r.Ze.className=r.Ze.id="cm__title",Dt(r.Xe,r.Ze)),r.Ze.innerHTML=b);let w=c.description;if(w&&(n.V&&(w=w.replace("{{revisionMessage}}",n.I?"":c.revisionMessage||"")),r.et||(r.et=Mt("p"),r.et.className=r.et.id="cm__desc",Dt(r.Xe,r.et)),r.et.innerHTML=w),d&&(r.tt||(r.tt=Mt(mc),Dt(r.tt,b5()),$s(r.tt,"btn"),mn(r.tt,wp,"all"),fi(r.tt,Ns,(()=>{v("all")}))),r.tt.firstElementChild.innerHTML=d),h&&(r.Ie||(r.Ie=Mt(mc),Dt(r.Ie,b5()),$s(r.Ie,"btn"),mn(r.Ie,wp,"necessary"),fi(r.Ie,Ns,(()=>{v([])}))),r.Ie.firstElementChild.innerHTML=h),f&&(r.ot||(r.ot=Mt(mc),Dt(r.ot,b5()),$s(r.ot,"btn"),$s(r.ot,"btn--secondary"),mn(r.ot,wp,"show"),fi(r.ot,"mouseenter",(()=>{n.N||ry(t,e)})),fi(r.ot,Ns,a)),r.ot.firstElementChild.innerHTML=f),r.nt||(r.nt=Mt(Xn),$s(r.nt,O0),d&&Dt(r.nt,r.tt),h&&Dt(r.nt,r.Ie),(d||h)&&Dt(r.We,r.nt),Dt(r.Ye,r.nt)),r.ot&&!r.st&&(r.st=Mt(Xn),r.Ie&&r.tt?($s(r.st,O0),Dt(r.st,r.ot),Dt(r.Ye,r.st)):(Dt(r.nt,r.ot),$s(r.nt,O0+"--uneven"))),x){if(!r.ct){let j=Mt(Xn),E=Mt(Xn);r.ct=Mt(Xn),$s(j,"footer"),$s(E,"links"),$s(r.ct,"link-group"),Dt(E,r.ct),Dt(j,E),Dt(r.he,j)}r.ct.innerHTML=x}N7(0),n.T||(n.T=!0,gu(yt.re.ue,OA,r.he),e(t),Dt(r.Ce,r.Qe),x7(r.he),setTimeout((()=>Or(r.Qe,"cc--anim")),100)),v7(1),p7(r.We,t,ry,e)},S7=t=>{if(!ig(t))return null;if(t in yt.o._)return t;let e=t.slice(0,2);return e in yt.o._?e:null},A7=()=>yt.o.l||yt.o.i.language.default,E7=t=>{t&&(yt.o.l=t)},qre=async t=>{const e=yt.o;let n=S7(t)?t:A7(),r=e._[n];if(ig(r)?r=await(async i=>{try{return await(await fetch(i)).json()}catch(a){return console.error(a),!1}})(r):tu(r)&&(r=await r()),!r)throw`Could not load translation for the '${n}' language`;return e.u=r,E7(n),!0},$re=()=>{let t=yt.o.i.language.rtl,e=yt.ne.Ce;t&&e&&(Kb(t)||(t=[t]),Tr(t,yt.o.l)?Or(e,"cc--rtl"):Ph(e,"cc--rtl"))},D0=()=>{const t=yt.ne;if(t.Ce)return;t.Ce=Mt(Xn),t.Ce.id="cc-main",t.Ce.setAttribute("data-nosnippet",""),$re();let e=yt.o.i.root;e&&ig(e)&&(e=document.querySelector(e)),(e||t.Ue.body).appendChild(t.Ce)},Hre=t=>A1((()=>localStorage.removeItem(t))),ok=(t,e)=>{if(e instanceof RegExp)return t.filter((n=>e.test(n)));{const n=h7(t,e);return n>-1?[t[n]]:[]}},Wre=t=>{const{hostname:e,protocol:n}=location,{name:r,path:i,domain:a,sameSite:o,useLocalStorage:c,secure:d}=yt.t.cookie,h=864e5*zre(),f=new Date;f.setTime(f.getTime()+h),yt.o.p.expirationTime=f.getTime();const p=JSON.stringify(yt.o.p);let x=r+"="+encodeURIComponent(p)+(h!==0?"; expires="+f.toUTCString():"")+"; Path="+i+"; SameSite="+o;Tr(e,".")&&(x+="; Domain="+a),d&&n==="https:"&&(x+="; Secure"),c?((g,b)=>{A1((()=>localStorage.setItem(g,b)))})(r,p):document.cookie=x,yt.o.p},lk=(t,e,n)=>{if(t.length===0)return;const r=n||yt.t.cookie.domain,i=e||yt.t.cookie.path,a=r.slice(0,4)==="www.",o=a&&r.substring(4),c=(d,h)=>{h&&h.slice(0,1)!=="."&&(h="."+h),document.cookie=d+"=; path="+i+(h?"; domain="+h:"")+"; expires=Thu, 01 Jan 1970 00:00:01 GMT;"};for(const d of t)c(d,n),n||c(d,r),a&&c(d,o)},C7=t=>{const e=yt.t.cookie.name,n=yt.t.cookie.useLocalStorage;return((i,a)=>{let o;return o=A1((()=>JSON.parse(a?i:decodeURIComponent(i))),!0)||{},o})(n?(r=e,A1((()=>localStorage.getItem(r)))||""):Gre(e),n);var r},Gre=(t,e)=>{const n=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return n?n.pop():""},Yre=t=>{const e=document.cookie.split(/;\s*/),n=[];for(const r of e){let i=r.split("=")[0];n.push(i)}return n},Kre=(t,e=[])=>{((n,r)=>{const{O:i,R:a,B:o,N:c,Z:d,$:h,X:f}=yt.o;let p=[];if(n){Kb(n)?p.push(...n):ig(n)&&(p=n==="all"?i:[n]);for(const x of i)d[x]=Tr(p,x)?zf(f[x]):[]}else p=[...a,...h],c&&(p=(()=>{const x=yt.ne.ae;if(!x)return[];let g=[];for(let b in x)x[b].checked&&g.push(b);return g})());p=p.filter((x=>!Tr(i,x)||!Tr(r,x))),p.push(...o),m7(p)})(t,e),(()=>{const n=yt.o,{Z:r,B:i,Y:a,X:o,O:c}=n,d=c;n.te=Ah(a);for(const h of d){const f=o[h],p=zf(f),x=r[h]&&r[h].length>0,g=Tr(i,h);if(p.length!==0){if(a[h]=[],g)a[h].push(...p);else if(x){const b=r[h];a[h].push(...b)}else a[h]=n.Z[h];a[h]=f7(a[h])}}})(),(()=>{const n=yt.o;n.L=yt.t.mode===b0&&n.D?y5(n.$,n.R):y5(n.R,n.p.categories);let r=n.L.length>0,i=!1;for(const d of n.O)n.ee[d]=y5(n.Y[d],n.te[d]),n.ee[d].length>0&&(i=!0);const a=yt.ne.ae;for(const d in a)a[d].checked=Tr(n.R,d);for(const d of n.O){const h=yt.ne.se[d],f=n.Y[d];for(const p in h)h[p].checked=Tr(f,p)}n.C||(n.C=new Date),n.M||(n.M=("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,(d=>(d^crypto.getRandomValues(new Uint8Array(1))[0]&15>>d/4).toString(16)))),n.p={categories:Ah(n.R),revision:yt.t.revision,data:n.h,consentTimestamp:n.C.toISOString(),consentId:n.M,services:Ah(n.Y),languageCode:yt.o.l},n.S&&(n.p.lastConsentTimestamp=n.S.toISOString());let o=!1;const c=r||i;(n.D||c)&&(n.D&&(n.D=!1,o=!0),n.S=n.S?new Date:n.C,n.p.lastConsentTimestamp=n.S.toISOString(),Wre(),yt.t.autoClearCookies&&(o||c)&&(d=>{const h=yt.o,f=Yre(),p=(x=>{const g=yt.o;return(x?g.O:g.L).filter((b=>{const v=g.P[b];return!!v&&!v.readOnly&&!!v.autoClear}))})(d);for(const x in h.ee)for(const g of h.ee[x]){const b=h.X[x][g].cookies;if(!Tr(h.Y[x],g)&&b)for(const v of b){const w=ok(f,v.name);lk(w,v.path,v.domain)}}for(const x of p){const g=h.P[x].autoClear,b=g&&g.cookies||[],v=Tr(h.L,x),w=!Tr(h.R,x),j=v&&w;if(d?w:j){g.reloadPage&&j&&(h.j=!0);for(const E of b){const T=ok(f,E.name);lk(T,E.path,E.domain)}}}})(o),aj()),o&&(gu(yt.re.ie),gu(yt.re.le),yt.t.mode===c7)||(c&&gu(yt.re.de),n.j&&(n.j=!1,location.reload()))})()},Xre=t=>{const e=yt.o.D?[]:yt.o.R;return Tr(e,t)},Zre=(t,e)=>{const n=yt.o.D?[]:yt.o.Y[e]||[];return Tr(n,t)},T7=t=>{const{ne:e,o:n}=yt;if(!n.k){if(!n.T){if(!t)return;j7(zA,D0)}n.k=!0,n.J=S1(),n.v&&y7(!0),g7(e.he,1),Or(e.ye,u7),mn(e.he,pc,"false"),setTimeout((()=>{pu(yt.ne.be)}),100),gu(yt.re.fe,OA)}},Jre=()=>{const{ne:t,o:e,re:n}=yt;e.k&&(e.k=!1,e.v&&y7(),pu(t.Ke,!0),Ph(t.ye,u7),mn(t.he,pc,"true"),pu(e.J),e.J=null,gu(n._e,OA))},Qre=()=>{const t=yt.o;t.A||(t.N||ry(zA,D0),t.A=!0,t.k?t.U=S1():t.J=S1(),g7(yt.ne.we,2),Or(yt.ne.ye,d7),mn(yt.ne.we,pc,"false"),setTimeout((()=>{pu(yt.ne.ve)}),100),gu(yt.re.fe,DA))},eie=()=>{const t=yt.o;t.A&&(t.A=!1,(()=>{const e=I7(),n=yt.o.P,r=yt.ne.ae,i=yt.ne.se,a=o=>Tr(yt.o.$,o);for(const o in r){const c=!!n[o].readOnly;r[o].checked=c||(e?Xre(o):a(o));for(const d in i[o])i[o][d].checked=c||(e?Zre(d,o):a(o))}})(),pu(yt.ne.$e,!0),Ph(yt.ne.ye,d7),mn(yt.ne.we,pc,"true"),t.k?(pu(t.U),t.U=null):(pu(t.J),t.J=null),gu(yt.re._e,DA))};var zA={show:T7,hide:Jre,showPreferences:Qre,hidePreferences:eie,acceptCategory:Kre};const k7=(t,e)=>C7(),I7=()=>!yt.o.D,tie=async t=>{const{o:e,t:n,re:r}=yt,i=window;if(!i._ccRun){if(i._ccRun=!0,(c=>{const{ne:d,t:h,o:f}=yt,p=h,x=f,{cookie:g}=p,b=yt.ce,v=c.cookie,w=c.categories,j=zf(w)||[],E=navigator,T=document;d.Ue=T,d.ye=T.documentElement,g.domain=location.hostname,x.i=c,x.P=w,x.O=j,x._=c.language.translations,x.v=!!c.disablePageInteraction,b.ie=c.onFirstConsent,b.le=c.onConsent,b.de=c.onChange,b._e=c.onModalHide,b.fe=c.onModalShow,b.ue=c.onModalReady;const{mode:D,autoShow:M,lazyHtmlGeneration:J,autoClearCookies:F,revision:z,manageScriptTags:L,hideFromBots:H}=c;D===b0&&(p.mode=D),typeof F=="boolean"&&(p.autoClearCookies=F),typeof L=="boolean"&&(p.manageScriptTags=L),typeof z=="number"&&z>=0&&(p.revision=z,x.V=!0),typeof M=="boolean"&&(p.autoShow=M),typeof J=="boolean"&&(p.lazyHtmlGeneration=J),H===!1&&(p.hideFromBots=!1),p.hideFromBots===!0&&E&&(x.G=E.userAgent&&/bot|crawl|spider|slurp|teoma/i.test(E.userAgent)||E.webdriver),ij(v)&&(p.cookie={...g,...v}),p.autoClearCookies,x.V,p.manageScriptTags,(P=>{const{P:I,X:U,Y:k,Z:le,B:G}=yt.o;for(let W of P){const ie=I[W],se=ie.services||{},Se=ij(se)&&zf(se)||[];U[W]={},k[W]=[],le[W]=[],ie.readOnly&&(G.push(W),k[W]=Se),yt.ne.se[W]={};for(let X of Se){const O=se[X];O.Se=!1,U[W][X]=O}}})(j),(()=>{if(!yt.t.manageScriptTags)return;const P=yt.o,I=LA(document,"script["+j1+"]");for(const U of I){let k=zv(U,j1),le=U.dataset.service||"",G=!1;if(k&&k.charAt(0)==="!"&&(k=k.slice(1),G=!0),le.charAt(0)==="!"&&(le=le.slice(1),G=!0),Tr(P.O,k)&&(P.oe.push({Me:U,xe:!1,ke:G,De:k,Te:le}),le)){const W=P.X[k];W[le]||(W[le]={Se:!1})}}})(),E7((()=>{const P=yt.o.i.language.autoDetect;if(P){const I={browser:navigator.language,document:document.documentElement.lang},U=S7(I[P]);if(U)return U}return A7()})())})(t),e.G)return;(()=>{const c=yt.o,d=yt.t,h=C7(),{categories:f,services:p,consentId:x,consentTimestamp:g,lastConsentTimestamp:b,data:v,revision:w}=h,j=Kb(f);c.p=h,c.M=x;const E=!!x&&ig(x);c.C=g,c.C&&(c.C=new Date(g)),c.S=b,c.S&&(c.S=new Date(b)),c.h=v!==void 0?v:null,c.V&&E&&w!==d.revision&&(c.I=!1),c.D=!(E&&c.I&&c.C&&c.S&&j),d.cookie.useLocalStorage&&!c.D&&(c.D=new Date().getTime()>(h.expirationTime||0),c.D&&Hre(d.cookie.name)),c.D,(()=>{const T=yt.o;for(const D of T.O){const M=T.P[D];if(M.readOnly||M.enabled){T.$.push(D);const J=T.X[D]||{};for(let F in J)T.Z[D].push(F),T.i.mode===b0&&T.Y[D].push(F)}}})(),c.D?d.mode===b0&&(c.R=[...c.$]):(c.Y={...c.Y,...p},c.Z={...c.Y},m7([...c.B,...f]))})();const o=I7();if(!await qre())return!1;if(p7(null,a=zA,ry,D0),yt.o.D&&j7(a,D0),yt.t.lazyHtmlGeneration||ry(a,D0),n.autoShow&&!o&&T7(!0),o)return aj(),gu(r.le);n.mode===b0&&aj(e.$)}var a},FA=()=>zp!=null,nie=()=>{try{return k7()?.categories?.includes("analytics")||!1}catch{return!1}},La=(t,e={})=>{if(!FA()){console.warn("Analytics not available. Event not logged:",t);return}if(!nie()){console.log(" Analytics consent not granted. Event not logged:",t);return}try{RM(zp,t,{...e,timestamp:new Date().toISOString(),app_version:"1.1.0"}),console.log(" Analytics Event:",t,e)}catch(n){console.error("Error logging analytics event:",n)}},P7=t=>{if(FA())try{_ee(zp,t),console.log(" Analytics User ID set:",t)}catch(e){console.error("Error setting user ID:",e)}},rie=t=>{if(FA())try{PM(zp,t),console.log(" Analytics User Properties set:",t)}catch(e){console.error("Error setting user properties:",e)}},ck=(t="email")=>{La("sign_up",{method:t})},uk=(t="email")=>{La("login",{method:t})},iie=(t,e,n="pending")=>{La("cv_upload",{file_size_kb:Math.round(t/1024),file_type:e,parse_status:n})},aie=(t,e)=>{La("cv_bulk_upload",{cv_count:t,total_size_mb:e})},dk=t=>{La("cv_view",{cv_id:t})},sie=(t,e)=>{La("cv_download",{cv_id:t,file_name:e})},R7=t=>{La("cv_delete",{cv_id:t})},oie=t=>{La("cv_bulk_delete",{delete_count:t})},lie=(t,e,n)=>{La("cv_list_filter",{filter_types:t.join(","),total_cvs:e,filtered_cvs:n,filter_count:t.length})},cie=t=>{La("cv_retry_parsing",{cv_id:t})},uie=(t,e)=>{La("cv_summary_view",{cv_id:t,action:e})},die=t=>{La("linkedin_click",{cv_id:t})},hie=(t,e,n)=>{La("job_spec_create",{skill_count:t,required_years_min:e,required_years_max:n})},fie=(t,e,n)=>{La("job_spec_update",{skill_count:t,required_years_min:e,required_years_max:n})},mie=()=>{La("job_spec_delete")},pie=(t,e,n)=>{La("begin_checkout",{value:t,currency:"ZAR",payment_type:e,plan_name:n})},gie=(t,e)=>{La("page_view",{page_name:t,page_url:e})},Ll=(t,e,n)=>{La("error_occurred",{error_type:t,error_message:e,error_location:n})},yie=t=>{if(!t)return;const e=r=>{if(!r)return null;try{if(r?.toDate&&typeof r.toDate=="function")return r.toDate().toISOString().split("T")[0];if(r?.seconds)return new Date(r.seconds*1e3).toISOString().split("T")[0];const i=new Date(r);return isNaN(i.getTime())?null:i.toISOString().split("T")[0]}catch(i){return console.error("Error converting date for analytics:",i),null}},n={plan:t.plan||"free",cv_upload_limit:t.cvUploadLimit||0,cv_count:t.cvCount||0,team_member:t.teamAccess?.isTeamMember?"true":"false",master_account:t.isMasterAccount?"true":"false",account_created:e(t.createdAt)};rie(n)},xie=()=>{const t=_u();V.useEffect(()=>{const e=wie(t.pathname);gie(e,t.pathname)},[t])},vie=()=>{const{currentUser:t,userData:e}=Ei();V.useEffect(()=>{t&&(P7(t.uid),e&&yie(e))},[t,e])},bie=()=>{xie(),vie()},wie=t=>{const e={"/":"Landing Page","/dashboard":"Dashboard","/upload":"Upload CV","/cvs":"CV List","/cvs/:id":"CV Detail","/job-specs":"Job Specs","/job-specs/:id":"Job Spec Detail","/analytics":"Analytics","/pricing":"Pricing","/account-settings":"Account Settings","/sign-in":"Sign In","/sign-up":"Sign Up","/about":"About Us","/contact":"Contact","/terms":"Terms of Service","/privacy":"Privacy Policy","/chatbot":"AI Chatbot","/master-dashboard":"Master Dashboard","/accept-invite":"Accept Team Invite"};if(e[t])return e[t];for(const[n,r]of Object.entries(e))if(n.includes(":")&&_ie(t,n))return r;return t.replace("/"," ").trim()||"Home"},_ie=(t,e)=>{const n=t.split("/").filter(Boolean),r=e.split("/").filter(Boolean);return n.length!==r.length?!1:r.every((i,a)=>i.startsWith(":")||i===n[a])};function Nie({language:t="en",privacyPolicyUrl:e="/privacy"}){return V.useEffect(()=>{tie({guiOptions:{consentModal:{layout:"box inline",position:"bottom right",equalWeightButtons:!1,flipButtons:!1},preferencesModal:{layout:"box",position:"right",equalWeightButtons:!1,flipButtons:!1}},categories:{necessary:{enabled:!0,readOnly:!0},analytics:{enabled:!1,readOnly:!1,autoClear:{cookies:[{name:/^(_ga|_gid)/}]},services:{ga:{label:"Google Analytics",onAccept:()=>{window.gtag&&window.gtag("consent","update",{analytics_storage:"granted"})},onReject:()=>{window.gtag&&window.gtag("consent","update",{analytics_storage:"denied"})}}}},advertising:{enabled:!1,readOnly:!1,services:{adsense:{label:"Google AdSense",onAccept:()=>{window.gtag&&window.gtag("consent","update",{ad_storage:"granted",ad_user_data:"granted",ad_personalization:"granted"})},onReject:()=>{window.gtag&&window.gtag("consent","update",{ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied"})}}}}},language:{default:t,autoDetect:"browser",translations:{en:{consentModal:{title:"Cookie Preferences",description:"CVSift uses cookies to keep you securely logged in, analyze how recruiters use our platform, and display relevant ads to Free plan users. Your privacy matters to us - you have full control over your preferences.",acceptAllBtn:"Accept all",acceptNecessaryBtn:"Reject all",showPreferencesBtn:"Manage preferences",footer:`
                <a href="${e}">Privacy Policy</a>
              `},preferencesModal:{title:"Cookie Preferences",acceptAllBtn:"Accept all",acceptNecessaryBtn:"Reject all",savePreferencesBtn:"Save preferences",closeIconLabel:"Close",serviceCounterLabel:"Service|Services",sections:[{title:"How CVSift Uses Cookies",description:'CVSift uses cookies to provide our AI-powered CV screening platform. Essential cookies keep you logged in and protect your recruitment data. Optional cookies help us improve the platform and show relevant content. By clicking "Accept All", you consent to our use of cookies as described below.'},{title:'Strictly Necessary Cookies <span class="pm__badge">Always Enabled</span>',description:"These cookies are essential for CVSift to function. They enable secure authentication to your account, protect your CV data and job specifications, and maintain your active recruitment sessions. Without these cookies, you cannot access the platform.",linkedCategory:"necessary",cookieTable:{headers:{name:"Cookie",domain:"Domain",description:"Description",expiration:"Expiration"},body:[{name:"cc_cookie",domain:".cvsift-3dff8.web.app",description:"Stores your cookie consent preferences",expiration:"6 months"},{name:"Firebase Auth",domain:".firebaseapp.com",description:"Maintains your secure login session",expiration:"Session/Persistent"},{name:"localStorage",domain:"Browser storage",description:"Temporarily stores payment transaction IDs during checkout",expiration:"Until cleared"}]}},{title:"Analytics Cookies",description:"Analytics cookies help us understand how recruiters and hiring managers use CVSift. We collect anonymous data about feature usage, CV upload patterns, and matching performance to improve our AI algorithms and user experience. This data is never linked to specific candidates or CVs.",linkedCategory:"analytics",cookieTable:{headers:{name:"Cookie",domain:"Domain",description:"Description",expiration:"Expiration"},body:[{name:"_ga",domain:".cvsift-3dff8.web.app",description:"Tracks anonymous usage patterns to improve CVSift features",expiration:"2 years"},{name:"_gid",domain:".cvsift-3dff8.web.app",description:"Tracks session-based interactions with the platform",expiration:"24 hours"},{name:"Firebase Analytics",domain:".firebaseapp.com",description:"Tracks CV uploads, matching performance, and feature usage",expiration:"Varies"}]}},{title:"Advertising Cookies",description:"Advertising cookies enable us to offer CVSift for free to users on our Free plan. These cookies help display relevant recruitment and HR-related ads, measure ad effectiveness, and keep CVSift accessible to small businesses and startups. Paid plan users never see ads.",linkedCategory:"advertising",cookieTable:{headers:{name:"Cookie",domain:"Domain",description:"Description"},body:[{name:"Google AdSense",domain:".google.com",description:"Displays recruitment-relevant ads to Free plan users only"}]}},{title:"More Information",description:`For complete details about how CVSift protects your recruitment data and candidate privacy, please read our <a href="${e}" target="_blank">Privacy Policy</a>. If you have questions, contact us at emma@automore.co.za.`}]}}}}})},[t,e]),null}const Jf={ZAR:{symbol:"R",name:"South African Rand",flag:""},USD:{symbol:"$",name:"US Dollar",flag:""},EUR:{symbol:"",name:"Euro",flag:""},GBP:{symbol:"",name:"British Pound",flag:""},AUD:{symbol:"A$",name:"Australian Dollar",flag:""},CAD:{symbol:"C$",name:"Canadian Dollar",flag:""},INR:{symbol:"",name:"Indian Rupee",flag:""},NGN:{symbol:"",name:"Nigerian Naira",flag:""},KES:{symbol:"KSh",name:"Kenyan Shilling",flag:""}},jie="ZAR";let w5=null,_5=null;const Sie=1e3*60*60;async function Aie(){try{if(w5&&_5&&Date.now()-_5<Sie)return console.log(" Using cached exchange rates"),w5;console.log(" Fetching fresh exchange rates...");const t=await fetch(`https://api.frankfurter.dev/v1/latest?base=${jie}`);if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=(await t.json()).rates;if(n.USD){const r=n.USD,i=1550,a=135;n.NGN=r*i,n.KES=r*a}return w5=n,_5=Date.now(),console.log(" Exchange rates updated:",n),n}catch(t){return console.error("Error fetching exchange rates:",t),{USD:.055,EUR:.051,GBP:.043,AUD:.084,CAD:.075,INR:4.5,NGN:85.25,KES:7.425,ZAR:1}}}function Qu(t,e="ZAR"){const n=Jf[e];if(!n)return`${t.toFixed(2)} ${e}`;const r=["NGN","KES","INR"].includes(e);let i;return r?i=Math.round(t).toLocaleString("en-US"):i=t.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),`${n.symbol}${i}`}function Eie(){try{const t=navigator.language||navigator.userLanguage,e={"en-US":"USD","en-GB":"GBP","en-AU":"AUD","en-CA":"CAD","en-IN":"INR","en-ZA":"ZAR","af-ZA":"ZAR","zu-ZA":"ZAR","en-NG":"NGN","en-KE":"KES"};if(e[t])return e[t];const n=t.split("-")[1],r={US:"USD",GB:"GBP",AU:"AUD",CA:"CAD",IN:"INR",ZA:"ZAR",NG:"NGN",KE:"KES"};if(n&&r[n])return r[n];const i=Intl.DateTimeFormat().resolvedOptions().timeZone;if(i){if(i.includes("Africa/Johannesburg")||i.includes("Africa/Cape_Town"))return"ZAR";if(i.includes("America/New_York")||i.includes("America/Chicago"))return"USD";if(i.includes("Europe/London"))return"GBP";if(i.includes("Europe/"))return"EUR";if(i.includes("Australia/"))return"AUD";if(i.includes("Asia/Kolkata"))return"INR";if(i.includes("Africa/Lagos"))return"NGN";if(i.includes("Africa/Nairobi"))return"KES"}return"ZAR"}catch(t){return console.error("Error detecting currency:",t),"ZAR"}}function UA(){try{const t=localStorage.getItem("preferredCurrency");if(t&&Jf[t])return t}catch(t){console.error("Error reading currency from localStorage:",t)}return Eie()}function O7(t){try{Jf[t]&&(localStorage.setItem("preferredCurrency",t),console.log(` Currency preference saved: ${t}`))}catch(e){console.error("Error saving currency to localStorage:",e)}}function D7(){return Object.keys(Jf).map(t=>({code:t,...Jf[t]}))}function Xb(){const[t,e]=V.useState("ZAR"),[n,r]=V.useState(null),[i,a]=V.useState(!0),[o,c]=V.useState(null);V.useEffect(()=>{async function g(){try{a(!0);const w=UA();e(w);const j=await Aie();r(j),c(null)}catch(w){console.error("Error loading exchange rates:",w),c("Failed to load exchange rates")}finally{a(!1)}}g();const b=w=>{w.key==="preferredCurrency"&&w.newValue&&e(w.newValue)},v=w=>{w.detail&&w.detail.currency&&e(w.detail.currency)};return window.addEventListener("storage",b),window.addEventListener("currencyChanged",v),()=>{window.removeEventListener("storage",b),window.removeEventListener("currencyChanged",v)}},[]);const d=g=>{if(g==null)return null;if(t==="ZAR"||!n)return g;const b=n[t];return b?g*b:g},h=(g,b=null)=>g===null?"Custom":Qu(g,b||t),f=g=>{const b=d(g);return h(b)},p=g=>{Jf[g]&&e(g)},x=Jf[t];return{currency:t,currencyInfo:x,rates:n,loading:i,error:o,convertPrice:d,formatPrice:h,convertAndFormat:f,changeCurrency:p}}function hk({onCurrencyChange:t,className:e=""}){const[n,r]=V.useState("ZAR"),[i,a]=V.useState(!1),o=D7();V.useEffect(()=>{const h=UA();r(h)},[]);const c=h=>{r(h),O7(h),a(!1),window.dispatchEvent(new CustomEvent("currencyChanged",{detail:{currency:h}})),t&&t(h)},d=o.find(h=>h.code===n);return s.jsxs("div",{className:`currency-selector relative ${e}`,children:[s.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors","aria-label":"Select currency",children:[s.jsx("span",{className:"text-xl",children:d?.flag}),s.jsx("span",{className:"font-medium",children:n}),s.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(!1)}),s.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-20 max-h-96 overflow-y-auto",children:s.jsxs("div",{className:"p-2",children:[s.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase px-3 py-2",children:"Select Currency"}),o.map(h=>s.jsxs("button",{onClick:()=>c(h.code),className:`w-full flex items-center gap-3 px-3 py-2 rounded-md transition-colors ${n===h.code?"bg-orange-50 text-orange-600":"hover:bg-gray-50"}`,children:[s.jsx("span",{className:"text-2xl",children:h.flag}),s.jsxs("div",{className:"flex-1 text-left",children:[s.jsx("div",{className:"font-medium",children:h.code}),s.jsx("div",{className:"text-xs text-gray-500",children:h.name})]}),n===h.code&&s.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},h.code))]})})]})]})}function BA({onCurrencyChange:t,className:e=""}){const[n,r]=V.useState("ZAR"),i=D7();V.useEffect(()=>{const o=UA();r(o)},[]);const a=o=>{const c=o.target.value;r(c),O7(c),window.dispatchEvent(new CustomEvent("currencyChanged",{detail:{currency:c}})),t&&t(c)};return s.jsx("div",{className:`compact-currency-selector ${e}`,children:s.jsx("select",{value:n,onChange:a,className:"px-3 py-2 pr-8 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:i.map(o=>s.jsxs("option",{value:o.code,children:[o.flag," ",o.code," - ",o.symbol]},o.code))})})}function Cie(){const[t,e]=V.useState(!1),[n,r]=V.useState(null),[i,a]=V.useState(!1),[o,c]=V.useState([]),[d,h]=V.useState(!1),[f,p]=V.useState([]),[x,g]=V.useState(null),[b,v]=V.useState(!1),[w,j]=V.useState(!1),[E,T]=V.useState(!1),D=ii(),{convertAndFormat:M,loading:J}=Xb();V.useEffect(()=>{const W=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",W),T(!0),()=>window.removeEventListener("scroll",W)},[]);const F=W=>{W.preventDefault(),a(!0)},z=W=>{W.preventDefault(),a(!1)},L=W=>{W.preventDefault(),a(!1);const ie=[{name:"CV_John_Doe.pdf",status:"uploading"},{name:"CV_Jane_Smith.docx",status:"uploading"},{name:"CV_Mike_Johnson.pdf",status:"uploading"}];c(ie),h(!0),ie.forEach((se,Se)=>{setTimeout(()=>{c(X=>X.map((O,K)=>K===Se?{...O,status:"completed"}:O)),Se===ie.length-1&&setTimeout(()=>{h(!1),p([1])},1e3)},(Se+1)*800)})},H=()=>{!d&&o.length===0&&L({preventDefault:()=>{}})};V.useEffect(()=>{if(f.includes(1)&&!f.includes(2)){const W=setTimeout(()=>{p([1,2])},2500);return()=>clearTimeout(W)}},[f]);const P=W=>{f.includes(2)&&!f.includes(3)&&(g(W),v(!0),setTimeout(()=>{p([1,2,3])},1e3))},I=()=>{c([]),h(!1),p([]),g(null),v(!1)},U=[{name:"Free",priceZAR:0,period:"forever",cvLimit:"10 CVs",description:"Perfect for small teams getting started",features:["Basic filtering (skills, location)","Email support","Advanced analytics"],cta:"Get Started Free",popular:!1,color:"gray"},{name:"Starter",priceZAR:199,period:"per month",cvLimit:"50 CVs",description:"For small teams with regular hiring",features:["Basic + advanced filtering","Email support","Bulk upload","Job spec creation","Email notifications","Advanced analytics"],cta:"Get Started",popular:!1,color:"blue"},{name:"Basic",priceZAR:399,period:"per month",cvLimit:"150 CVs",description:"For growing teams with regular hiring needs",features:["All filtering options","Priority email support","Advanced analytics","Bulk upload","Email notifications","Match CVs to job specs"],cta:"Get Started",popular:!0,color:"orange"},{name:"Professional",priceZAR:999,period:"per month",cvLimit:"600 CVs",description:"For scaling organizations",features:["Everything in Basic","AI Chatbot Assistant","API access","Team collaboration (3 users)","Custom fields","Priority support"],cta:"Get Started",popular:!1,color:"purple"},{name:"Business",priceZAR:1999,period:"per month",cvLimit:"1500 CVs",description:"For high-volume recruitment",features:["Everything in Professional","Higher volume (1,500 CVs)","Team collaboration (10 users)","Custom integrations","Priority support"],cta:"Get Started",popular:!1,color:"indigo"},{name:"Enterprise",priceZAR:null,period:"tailored pricing",cvLimit:"Unlimited",description:"For large organizations with complex needs",features:["Everything in Business","Unlimited CV processing","Custom integrations","Dedicated account manager","SSO & advanced security","White-label option","SLA guarantee"],cta:"Contact Sales",popular:!1,color:"lime"}],k=[{icon:Gs,title:"Intelligent Upload",description:"Drag and drop hundreds of CVs at once. Supports PDF, Word, Pages, and text formats with automatic parsing."},{icon:ns,title:"AI-Powered Extraction",description:"Claude AI automatically extracts skills, experience, education, and contact details with 98% accuracy."},{icon:Ef,title:"Advanced Filtering",description:"Filter by skills, experience, location, education, salary expectations, and custom criteria instantly."},{icon:jh,title:"Smart Analytics",description:"Visualize candidate pools with interactive charts, skill distributions, and hiring insights."},{icon:dc,title:"Enterprise Security",description:"Bank-level encryption, GDPR compliance, and SOC 2 certification to protect sensitive candidate data."},{icon:Gb,title:"Save 20+ Hours/Week",description:"Automate the screening process and reduce time-to-hire by up to 70% with intelligent automation."}],le=[{value:"10,000+",label:"CVs Processed Daily"},{value:"500+",label:"Companies Trust Us"},{value:"70%",label:"Faster Hiring"},{value:"98%",label:"Accuracy Rate"}],G=[{quote:"CVSift reduced our time-to-hire from 6 weeks to just 2 weeks. The AI filtering is incredibly accurate."},{quote:"We processed 2,000 CVs in under an hour. This tool is a game-changer for high-volume recruitment."},{quote:"The analytics dashboard gives us insights we never had before. We can now make data-driven hiring decisions."},{quote:"The automated screening saved our team countless hours. We can now focus on interviewing the right candidates."},{quote:"Implementation was seamless and the ROI was evident within the first month. Highly recommend!"},{quote:"The skill extraction accuracy is phenomenal. It picks up technical skills we would have missed manually."},{quote:"We've increased our candidate quality significantly while reducing screening time by 80%."},{quote:"The best investment we've made in our recruitment process. The AI understands context remarkably well."},{quote:"Customer support is exceptional and the platform is incredibly intuitive to use."},{quote:"Finally, a tool that actually delivers on its promises. Our hiring pipeline has never been more efficient."},{quote:"The filtering capabilities are exactly what we needed for our high-volume recruitment campaigns."},{quote:"Game-changing technology. We've cut our cost-per-hire in half while improving candidate quality."}];return s.jsxs("div",{className:"min-h-screen overflow-x-hidden text-gray-900 bg-white",children:[s.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/95 backdrop-blur-lg shadow-sm":"bg-transparent"}`,children:[s.jsx("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[s.jsx("div",{className:"flex items-center justify-center shadow-lg w-9 h-9 lg:w-10 lg:h-10 bg-gradient-to-br from-orange-500 via-orange-600 to-orange-700 rounded-xl",children:s.jsx("span",{className:"text-lg font-bold text-white lg:text-xl",children:"CV"})}),s.jsx("span",{className:"text-xl font-bold text-transparent lg:text-2xl bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text",children:"Sift"})]}),s.jsxs("div",{className:"hidden text-xs text-gray-400 sm:block",children:["by"," ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 transition-colors hover:text-orange-600",children:"Automore"})]})]}),s.jsxs("div",{className:"items-center hidden space-x-8 lg:flex",children:[s.jsx("a",{href:"#features",className:"text-sm font-medium text-gray-600 transition-colors hover:text-orange-600",children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-gray-600 transition-colors hover:text-orange-600",children:"How It Works"}),s.jsx("a",{href:"#pricing",className:"text-sm font-medium text-gray-600 transition-colors hover:text-orange-600",children:"Pricing"}),s.jsx("a",{href:"#testimonials",className:"text-sm font-medium text-gray-600 transition-colors hover:text-orange-600",children:"Testimonials"})]}),s.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[s.jsx("button",{onClick:()=>D("/signin"),className:"hidden text-sm font-medium text-gray-700 transition-colors sm:block hover:text-orange-600 lg:text-base",children:"Sign In"}),s.jsx("button",{onClick:()=>D("/signup"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-4 lg:px-6 py-2 lg:py-2.5 rounded-lg font-medium transition-all hover:shadow-lg hover:shadow-orange-500/30 text-sm lg:text-base",children:"Get Started"}),s.jsx("button",{onClick:()=>j(!w),className:"p-2 text-gray-600 lg:hidden hover:text-orange-600",children:w?s.jsx(Wt,{size:24}):s.jsx(Zne,{size:24})})]})]})}),w&&s.jsx("div",{className:"bg-white border-t border-gray-100 shadow-lg lg:hidden",children:s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx("a",{href:"#features",className:"block py-2 font-medium text-gray-600 hover:text-orange-600",onClick:()=>j(!1),children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"block py-2 font-medium text-gray-600 hover:text-orange-600",onClick:()=>j(!1),children:"How It Works"}),s.jsx("a",{href:"#pricing",className:"block py-2 font-medium text-gray-600 hover:text-orange-600",onClick:()=>j(!1),children:"Pricing"}),s.jsx("a",{href:"#testimonials",className:"block py-2 font-medium text-gray-600 hover:text-orange-600",onClick:()=>j(!1),children:"Testimonials"}),s.jsx("button",{onClick:()=>D("/signin"),className:"block w-full py-2 font-medium text-left text-gray-700 hover:text-orange-600",children:"Sign In"})]})})]}),s.jsx("section",{className:"px-4 pt-24 pb-16 lg:pt-32 lg:pb-24 sm:px-6 lg:px-8 bg-gradient-to-b from-orange-50/30 via-white to-white",children:s.jsx("div",{className:"mx-auto max-w-7xl",children:s.jsxs("div",{className:`text-center max-w-4xl mx-auto transition-all duration-1000 ${E?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 mb-6 space-x-2 text-orange-700 border rounded-full bg-gradient-to-r from-orange-100 to-orange-50 lg:mb-8 border-orange-200/50",children:[s.jsx(ns,{size:16,className:"animate-pulse"}),s.jsx("span",{className:"text-xs font-semibold lg:text-sm",children:"Powered by Claude AI"})]}),s.jsxs("h1",{className:"mb-4 text-4xl font-bold leading-tight sm:text-5xl lg:text-7xl lg:mb-6",children:["Screen ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Thousands"})," of CVs",s.jsx("br",{className:"hidden sm:block"})," in"," ",s.jsxs("span",{className:"relative inline-block",children:[s.jsx("span",{className:"relative z-10",children:"Minutes"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 -rotate-1 rounded-xl opacity-20 blur-sm"})]})]}),s.jsx("p",{className:"px-4 mb-8 text-lg leading-relaxed text-gray-600 sm:text-xl lg:text-2xl lg:mb-12",children:"AI-powered CV screening that saves you 20+ hours per week. Upload, filter, and hire the best candidates faster."}),s.jsx("div",{className:"flex flex-col items-center justify-center gap-4 mb-12 sm:flex-row lg:mb-16",children:s.jsxs("button",{onClick:()=>D("/signup"),className:"flex items-center justify-center w-full px-8 py-4 space-x-2 text-base font-semibold text-white transition-all shadow-xl sm:w-auto bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 rounded-xl lg:text-lg hover:scale-105 shadow-orange-500/30",children:[s.jsx("span",{children:"Get Started Free"}),s.jsx(v1,{size:20})]})}),s.jsx("div",{className:"grid grid-cols-2 gap-4 mb-12 lg:grid-cols-4 lg:gap-8 lg:mb-16",children:le.map((W,ie)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900 lg:text-3xl",children:W.value}),s.jsx("div",{className:"text-xs text-gray-600 lg:text-sm",children:W.label})]},ie))}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"p-4 border shadow-2xl bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl lg:rounded-3xl lg:p-8 border-gray-200/50",children:s.jsxs("div",{className:"p-4 bg-white shadow-inner rounded-xl lg:rounded-2xl lg:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-red-400 rounded-full"}),s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-yellow-400 rounded-full"}),s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-green-400 rounded-full"})]}),s.jsx("div",{className:"text-xs font-medium text-gray-400 lg:text-sm",children:"CVSift Dashboard"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"w-3/4 h-3 rounded-full lg:h-4 bg-gradient-to-r from-gray-200 to-gray-100 animate-pulse"}),s.jsx("div",{className:"w-1/2 h-3 rounded-full lg:h-4 bg-gradient-to-r from-orange-200 to-orange-100 animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2/3 h-3 rounded-full lg:h-4 bg-gradient-to-r from-purple-200 to-purple-100 animate-pulse",style:{animationDelay:"300ms"}}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-6 lg:gap-4",children:[s.jsx("div",{className:"h-20 shadow-sm lg:h-24 bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl"}),s.jsx("div",{className:"h-20 shadow-sm lg:h-24 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl"}),s.jsx("div",{className:"h-20 shadow-sm lg:h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl"})]})]})]})}),s.jsx("div",{className:"absolute w-24 h-24 bg-orange-400 rounded-full -top-4 -right-4 blur-3xl opacity-40 animate-pulse"}),s.jsx("div",{className:"absolute w-24 h-24 bg-purple-400 rounded-full -bottom-4 -left-4 blur-3xl opacity-40 animate-pulse",style:{animationDelay:"1s"}})]})]})})}),s.jsx("section",{id:"features",className:"py-16 lg:py-24 bg-gradient-to-b from-white to-gray-50",children:s.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-12 text-center lg:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 mb-4 space-x-2 text-orange-700 bg-orange-100 rounded-full",children:[s.jsx(QT,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"Powerful Features"})]}),s.jsxs("h2",{className:"mb-4 text-3xl font-bold lg:text-5xl lg:mb-6",children:["Everything You Need for"," ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Smarter Hiring"})]}),s.jsx("p",{className:"max-w-2xl mx-auto text-lg text-gray-600 lg:text-xl",children:"Built for modern recruitment teams who want to move fast without compromising quality"})]}),s.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 lg:gap-8",children:k.map((W,ie)=>s.jsxs("div",{className:"p-6 transition-all duration-300 bg-white border border-gray-100 shadow-sm group lg:p-8 rounded-2xl hover:shadow-2xl hover:-translate-y-2 hover:border-orange-200",children:[s.jsx("div",{className:"flex items-center justify-center w-12 h-12 mb-4 transition-transform duration-300 shadow-sm lg:w-14 lg:h-14 bg-gradient-to-br from-orange-100 to-orange-50 rounded-xl lg:mb-6 group-hover:scale-110",children:s.jsx(W.icon,{className:"text-orange-600",size:24})}),s.jsx("h3",{className:"mb-2 text-lg font-bold text-gray-900 lg:text-xl lg:mb-3",children:W.title}),s.jsx("p",{className:"text-sm leading-relaxed text-gray-600 lg:text-base",children:W.description})]},ie))})]})}),s.jsx("section",{id:"how-it-works",className:"py-16 bg-white lg:py-24",children:s.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-12 text-center lg:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 mb-4 space-x-2 text-purple-700 bg-purple-100 rounded-full",children:[s.jsx(Rre,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"Interactive Demo"})]}),s.jsxs("h2",{className:"mb-4 text-3xl font-bold lg:text-5xl lg:mb-6",children:["See ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"CVSift"})," in Action"]}),s.jsx("p",{className:"max-w-2xl mx-auto mb-4 text-lg text-gray-600 lg:text-xl",children:"Try our interactive demo - drag the folder to Step 1 to begin"}),f.length>0&&s.jsx("button",{onClick:I,className:"text-sm font-semibold text-orange-600 underline hover:text-orange-700",children:"Reset Demo"})]}),o.length===0&&s.jsx("div",{className:"flex justify-center mb-8 lg:mb-12",children:s.jsxs("div",{draggable:"true",onDragStart:W=>W.dataTransfer.effectAllowed="move",className:"p-6 transition-all duration-300 border-2 border-orange-300 shadow-xl cursor-move bg-gradient-to-br from-orange-100 to-orange-200 lg:p-8 rounded-2xl hover:scale-110 animate-pulse",children:[s.jsx(Dne,{size:48,className:"mx-auto mb-2 text-orange-600"}),s.jsx("p",{className:"text-sm font-bold text-center text-orange-700",children:"CVs Folder"}),s.jsx("p",{className:"mt-1 text-xs text-center text-orange-600",children:"Drag me to Step 1!"})]})}),s.jsxs("div",{className:"grid gap-6 lg:grid-cols-4 lg:gap-8",children:[s.jsxs("div",{className:`relative transition-all duration-300 ${f.includes(1)?"opacity-60":""}`,onMouseEnter:()=>r(0),onMouseLeave:()=>r(null),children:[s.jsxs("div",{className:`bg-gradient-to-br from-orange-50 to-orange-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${f.includes(1)?"border-green-400":"border-orange-200"}`,children:[(n===0||d)&&s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-400 rounded-full blur-3xl opacity-40 animate-pulse"}),f.includes(1)&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(xr,{size:24,className:"text-green-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-orange-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${n===0||d?"scale-110 rotate-6":""}`,children:s.jsx(Gs,{className:"text-white",size:28})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"px-3 py-1 text-xs font-bold text-orange-600 bg-orange-200 rounded-full lg:text-sm",children:"Step 1"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-gray-900 lg:text-2xl lg:mb-3",children:"Upload CVs"}),s.jsx("p",{className:"mb-4 text-sm leading-relaxed text-gray-600 lg:text-base",children:"Bulk upload hundreds of CVs instantly"}),!d&&o.length===0?s.jsxs("div",{className:`mt-6 border-2 border-dashed rounded-xl p-4 lg:p-6 text-center cursor-pointer transition-all duration-300 ${i?"border-orange-500 bg-orange-100 scale-105":"border-orange-300 bg-white hover:border-orange-400 hover:bg-orange-50"}`,onDragOver:F,onDragLeave:z,onDrop:L,onClick:H,children:[s.jsx(Gs,{size:28,className:`mx-auto mb-3 transition-colors ${i?"text-orange-600":"text-orange-400"}`}),s.jsx("p",{className:"mb-1 text-xs font-semibold text-gray-700 lg:text-sm",children:i?"Drop here!":"Drop folder here"}),s.jsx("p",{className:"text-xs text-gray-500",children:"or click to try"})]}):s.jsx("div",{className:"mt-6 space-y-2",children:o.map((W,ie)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 text-xs text-gray-700 bg-white rounded-lg shadow-sm lg:text-sm animate-fadeIn",style:{animationDelay:`${ie*100}ms`},children:[s.jsx(Ss,{size:14,className:"flex-shrink-0 text-orange-500"}),s.jsx("span",{className:"flex-1 truncate",children:W.name}),W.status==="completed"?s.jsx(xr,{size:14,className:"flex-shrink-0 text-green-500"}):s.jsx("div",{className:"w-12 h-1.5 bg-orange-200 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("div",{className:"h-full bg-orange-500 animate-progress"})})]},ie))})]})]}),s.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${f.includes(1)?"bg-green-500":"bg-orange-500"} ${n===0||d?"scale-125":""}`,children:"1"})]}),f.includes(1)&&s.jsxs("div",{className:`relative transition-all duration-300 animate-fadeIn ${f.includes(2)?"opacity-60":""}`,onMouseEnter:()=>r(1),onMouseLeave:()=>r(null),children:[s.jsxs("div",{className:`bg-gradient-to-br from-purple-50 to-purple-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${f.includes(2)?"border-green-400":"border-purple-200"}`,children:[!f.includes(2)&&s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-400 rounded-full blur-3xl opacity-40 animate-pulse"}),f.includes(2)&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(xr,{size:24,className:"text-green-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-purple-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${f.includes(2)?"":"scale-110 rotate-12 animate-pulse"}`,children:s.jsx(ns,{className:"text-white",size:28})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"px-3 py-1 text-xs font-bold text-purple-600 bg-purple-200 rounded-full lg:text-sm",children:"Step 2"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-gray-900 lg:text-2xl lg:mb-3",children:"AI Processing"}),s.jsx("p",{className:"mb-4 text-sm leading-relaxed text-gray-600 lg:text-base",children:"Claude AI extracts data automatically"}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3 text-xs text-gray-600",children:[!f.includes(2)&&s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-ping"}),s.jsx(ns,{size:14,className:"text-purple-500"}),s.jsx("span",{className:`font-semibold ${f.includes(2)?"":"animate-pulse"}`,children:f.includes(2)?"Complete":"Analyzing..."})]}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",children:[s.jsx(xr,{size:12,className:"flex-shrink-0 text-green-500"}),s.jsxs("span",{className:"text-gray-700",children:[s.jsx("strong",{children:"Skills:"})," React, Node.js"]})]}),s.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",style:{animationDelay:"150ms"},children:[s.jsx(xr,{size:12,className:"flex-shrink-0 text-green-500"}),s.jsxs("span",{className:"text-gray-700",children:[s.jsx("strong",{children:"Experience:"})," 5 years"]})]}),s.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",style:{animationDelay:"300ms"},children:[s.jsx(xr,{size:12,className:"flex-shrink-0 text-green-500"}),s.jsxs("span",{className:"text-gray-700",children:[s.jsx("strong",{children:"Education:"})," BSc CS"]})]})]})]})})]})]}),s.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${f.includes(2)?"bg-green-500":"bg-purple-500 animate-pulse"}`,children:"2"})]}),f.includes(2)&&s.jsxs("div",{className:`relative transition-all duration-300 animate-fadeIn ${f.includes(3)?"opacity-60":""}`,onMouseEnter:()=>r(2),onMouseLeave:()=>r(null),children:[s.jsxs("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${f.includes(3)?"border-green-400":"border-blue-200"}`,children:[!f.includes(3)&&s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-400 rounded-full blur-3xl opacity-40 animate-pulse"}),f.includes(3)&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(xr,{size:24,className:"text-green-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-blue-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${f.includes(3)?"":"scale-110 -rotate-6"}`,children:s.jsx(r7,{className:"text-white",size:28})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"px-3 py-1 text-xs font-bold text-blue-600 bg-blue-200 rounded-full lg:text-sm",children:"Step 3"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-gray-900 lg:text-2xl lg:mb-3",children:"Filter & Match"}),s.jsx("p",{className:"mb-4 text-sm leading-relaxed text-gray-600 lg:text-base",children:"Apply filters or job specifications"}),s.jsx("div",{className:"mt-6 space-y-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white p-2.5 rounded-lg shadow-md border-2 border-blue-400 animate-fadeIn",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Ef,{size:14,className:"flex-shrink-0 text-blue-500"}),s.jsxs("span",{className:"font-semibold",children:["Applied: ",x]}),s.jsx(xr,{size:14,className:"ml-auto text-green-500"})]})}),b&&s.jsx("div",{className:"mt-4 text-center animate-fadeIn",children:s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 text-xs font-bold text-green-700 scale-110 rounded-full shadow-lg bg-gradient-to-r from-green-100 to-emerald-100",children:[s.jsx(Ks,{size:16}),s.jsx("span",{className:"animate-pulse",children:"47 matches!"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"mb-2 text-xs font-semibold text-gray-600",children:"Click to apply:"}),s.jsx("button",{onClick:()=>P("skills"),className:"w-full bg-white p-2.5 rounded-lg shadow-sm border-2 border-blue-200 hover:border-blue-400 hover:scale-105 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Ef,{size:14,className:"flex-shrink-0 text-blue-500"}),s.jsx("span",{className:"font-semibold",children:"Skills:"}),s.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-medium",children:"React"})]})}),s.jsx("button",{onClick:()=>P("experience"),className:"w-full bg-white p-2.5 rounded-lg shadow-sm border-2 border-blue-200 hover:border-blue-400 hover:scale-105 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Ef,{size:14,className:"flex-shrink-0 text-blue-500"}),s.jsx("span",{className:"font-semibold",children:"Experience:"}),s.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-medium",children:"3+ years"})]})}),s.jsx("button",{onClick:()=>P("jobspec"),className:"w-full bg-gradient-to-r from-purple-50 to-purple-100 p-2.5 rounded-lg shadow-sm border-2 border-purple-300 hover:border-purple-400 hover:scale-105 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(ns,{size:14,className:"flex-shrink-0 text-purple-500"}),s.jsx("span",{className:"font-semibold text-purple-700",children:"Job Match"})]})})]})})]})]}),s.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${f.includes(3)?"bg-green-500":"bg-blue-500 animate-pulse"}`,children:"3"})]}),f.includes(3)&&s.jsxs("div",{className:"relative transition-all duration-300 animate-fadeIn",onMouseEnter:()=>r(3),onMouseLeave:()=>r(null),children:[s.jsxs("div",{className:"relative h-full p-6 overflow-hidden border-2 border-green-200 bg-gradient-to-br from-green-50 to-green-100 lg:p-8 rounded-2xl",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-400 rounded-full blur-3xl opacity-40 animate-pulse"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"flex items-center justify-center mb-4 scale-110 bg-green-500 shadow-lg w-14 h-14 lg:w-16 lg:h-16 rounded-2xl lg:mb-6 rotate-6 animate-pulse",children:s.jsx(Fp,{className:"text-white",size:28})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"px-3 py-1 text-xs font-bold text-green-600 bg-green-200 rounded-full lg:text-sm",children:"Step 4"})}),s.jsx("h3",{className:"mb-2 text-xl font-bold text-gray-900 lg:text-2xl lg:mb-3",children:"Export & Hire"}),s.jsx("p",{className:"mb-4 text-sm leading-relaxed text-gray-600 lg:text-base",children:"Export and analyze results"}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white py-2.5 rounded-lg text-sm font-bold transition-all shadow-lg flex items-center justify-center gap-2 scale-105",children:[s.jsx(Fp,{size:16}),s.jsx("span",{children:"Downloading..."}),s.jsx(xr,{size:16,className:"animate-fadeIn"})]}),s.jsxs("div",{className:"p-3 bg-white rounded-lg shadow-md animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3 text-xs",children:[s.jsx("span",{className:"font-semibold text-gray-700",children:"Skills Distribution"}),s.jsx(jh,{size:14,className:"text-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700 w-14",children:"React"}),s.jsx("div",{className:"flex-1 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-700 w-[85%]"})}),s.jsx("span",{className:"w-8 text-xs text-right text-gray-600",children:"85%"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs font-medium text-gray-700 w-14",children:"Node.js"}),s.jsx("div",{className:"flex-1 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-400 rounded-full transition-all duration-700 w-[70%]"})}),s.jsx("span",{className:"w-8 text-xs text-right text-gray-600",children:"70%"})]})]})]})]})]})]}),s.jsx("div",{className:"absolute z-20 flex items-center justify-center w-10 h-10 text-sm font-bold text-white transform scale-125 -translate-x-1/2 bg-green-500 rounded-full shadow-lg -bottom-2 left-1/2 lg:w-12 lg:h-12 animate-pulse lg:text-base",children:"4"})]})]})]})}),s.jsx("section",{id:"testimonials",className:"py-16 overflow-hidden lg:py-24 bg-gradient-to-b from-gray-50 to-white",children:s.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-12 text-center lg:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 mb-4 space-x-2 text-green-700 bg-green-100 rounded-full",children:[s.jsx(Zf,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"Loved by HR Teams"})]}),s.jsxs("h2",{className:"mb-4 text-3xl font-bold lg:text-5xl lg:mb-6",children:["Trusted by ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"500+"})," Companies"]}),s.jsx("p",{className:"max-w-2xl mx-auto text-lg text-gray-600 lg:text-xl",children:"See what recruitment teams are saying about CVSift"})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"testimonial-ticker",children:s.jsx("div",{className:"testimonial-track",children:[...G,...G].map((W,ie)=>s.jsxs("div",{className:"flex-shrink-0 p-6 bg-white border border-gray-100 shadow-sm testimonial-card rounded-2xl",children:[s.jsx("div",{className:"flex mb-3",children:[...Array(5)].map((se,Se)=>s.jsx(QT,{size:16,className:"text-yellow-400 fill-yellow-400"},Se))}),s.jsxs("p",{className:"italic leading-relaxed text-gray-700",children:['"',W.quote,'"']})]},ie))})})})]})}),s.jsx("section",{id:"pricing",className:"py-16 bg-white lg:py-24",children:s.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-12 text-center lg:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center px-4 py-2 mb-4 space-x-2 text-blue-700 bg-blue-100 rounded-full",children:[s.jsx(xr,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"Flexible Plans"})]}),s.jsxs("h2",{className:"mb-4 text-3xl font-bold lg:text-5xl lg:mb-6",children:["Simple, ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Transparent"})," Pricing"]}),s.jsx("p",{className:"max-w-2xl mx-auto mb-6 text-lg text-gray-600 lg:text-xl",children:"Choose the perfect plan for your team. Start free and upgrade anytime."}),s.jsx("div",{className:"flex justify-center",children:s.jsx(BA,{})})]}),s.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:U.filter(W=>W.name!=="Enterprise").map((W,ie)=>s.jsxs("div",{className:`relative bg-white rounded-xl p-6 border transition-all hover:shadow-xl ${W.popular?"border-orange-500 shadow-lg ring-2 ring-orange-500 ring-opacity-50":"border-gray-200"}`,children:[W.popular&&s.jsx("div",{className:"absolute px-3 py-1 text-xs font-bold text-white bg-orange-500 rounded-full -top-3 left-6",children:"MOST POPULAR"}),s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:W.name}),s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"flex items-baseline justify-center",children:J?s.jsx("span",{className:"text-3xl font-bold text-gray-400",children:"Loading..."}):s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:W.priceZAR===null?"Custom":M(W.priceZAR)}),W.period==="per month"&&s.jsx("span",{className:"ml-2 text-gray-500",children:"/mo"})]})})}),s.jsx("div",{className:"inline-block px-4 py-1.5 bg-orange-50 border border-orange-200 rounded-full",children:s.jsxs("span",{className:"text-sm font-bold text-orange-700",children:[W.cvLimit,"/month"]})})]}),s.jsxs("ul",{className:"mb-6 space-y-2.5 min-h-[120px]",children:[W.features.slice(0,3).map((se,Se)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx(xr,{className:"text-orange-500 flex-shrink-0 mt-0.5",size:16}),s.jsx("span",{className:"text-sm text-gray-700",children:se})]},Se)),W.features.length>3&&s.jsxs("li",{className:"text-sm text-gray-500 italic",children:["+ ",W.features.length-3," more features"]})]}),s.jsx("button",{onClick:()=>D("/signup"),className:`w-full py-2.5 rounded-lg font-semibold transition-all ${W.popular?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-900 text-white hover:bg-gray-800"}`,children:W.cta}),W.priceZAR!==0&&s.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Billed monthly. Cancel anytime."})]},ie))}),U.filter(W=>W.name==="Enterprise").map((W,ie)=>s.jsx("div",{className:"max-w-4xl mx-auto mt-12",children:s.jsx("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-8 text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:W.name}),s.jsx("p",{className:"text-gray-300 mb-4",children:"For large organizations with complex needs"}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Unlimited CVs"}),s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Custom Integrations"}),s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Dedicated Support"})]})]}),s.jsx("button",{onClick:()=>window.location.href="mailto:sales@cvsift.com",className:"px-8 py-3 bg-white text-gray-900 rounded-lg font-bold hover:bg-gray-100 transition-all",children:W.cta})]})})},ie)),s.jsx("div",{className:"mt-8 text-center lg:mt-12",children:s.jsxs("p",{className:"text-sm text-gray-600 lg:text-base",children:["Need help choosing a plan? ",s.jsx("button",{onClick:()=>D("/signup"),className:"font-semibold text-orange-600 hover:underline",children:"Get started"})," or ",s.jsx("a",{href:"mailto:sales@cvsift.com",className:"font-semibold text-orange-600 hover:underline",children:"contact sales"})]})})]})}),s.jsxs("section",{className:"relative py-16 overflow-hidden text-white lg:py-24 bg-gradient-to-br from-orange-500 via-orange-600 to-orange-700",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLW9wYWNpdHk9Ii4xIi8+PC9nPjwvc3ZnPg==')] opacity-10"}),s.jsxs("div",{className:"relative z-10 max-w-4xl px-4 mx-auto text-center sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"mb-4 text-3xl font-bold lg:text-5xl lg:mb-6",children:"Ready to Hire Smarter?"}),s.jsx("p",{className:"mb-8 text-lg lg:text-xl lg:mb-12 opacity-90",children:"Join 500+ companies using CVSift to find top talent faster. Get started today."}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("button",{onClick:()=>D("/signup"),className:"px-8 py-4 text-base font-semibold text-orange-600 transition-all bg-white shadow-2xl rounded-xl lg:text-lg hover:scale-105 hover:shadow-white/50",children:"Start Free"})}),s.jsx("p",{className:"mt-6 text-sm opacity-80",children:"Free plan included  No credit card required  Upgrade anytime"})]})]}),s.jsx("footer",{className:"py-12 text-gray-400 bg-gray-900 lg:py-16",children:s.jsxs("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-8 md:grid-cols-4 lg:gap-12 lg:mb-12",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsxs("div",{className:"flex items-center mb-4 space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-lg shadow-lg bg-gradient-to-br from-orange-500 to-orange-600",children:s.jsx("span",{className:"text-sm font-bold text-white",children:"CV"})}),s.jsx("span",{className:"text-xl font-bold text-white",children:"Sift"})]}),s.jsx("p",{className:"mb-4 text-sm leading-relaxed",children:"Making hiring faster and smarter with AI-powered CV screening."}),s.jsxs("p",{className:"mb-2 text-xs text-gray-500",children:["Support: ",s.jsx("a",{href:"mailto:emma@automore.co.za",className:"font-semibold text-orange-500 transition-colors hover:text-orange-400",children:"emma@automore.co.za"})]}),s.jsxs("p",{className:"mb-4 text-xs text-gray-500",children:["Developed and designed by"," ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"font-semibold text-orange-500 transition-colors hover:text-orange-400",children:"Automore"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("a",{href:"#",className:"flex items-center justify-center w-8 h-8 transition-colors bg-gray-800 rounded-lg hover:bg-orange-600",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),s.jsxs("a",{href:"#",className:"flex items-center justify-center w-8 h-8 transition-colors bg-gray-800 rounded-lg hover:bg-orange-600",children:[s.jsx("span",{className:"sr-only",children:"LinkedIn"}),s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-sm font-semibold text-white",children:"Product"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#features",className:"transition-colors hover:text-orange-500",children:"Features"})}),s.jsx("li",{children:s.jsx("a",{href:"#pricing",className:"transition-colors hover:text-orange-500",children:"Pricing"})}),s.jsx("li",{children:s.jsx("a",{href:"#how-it-works",className:"transition-colors hover:text-orange-500",children:"How It Works"})}),s.jsx("li",{children:s.jsx("a",{href:"#testimonials",className:"transition-colors hover:text-orange-500",children:"Testimonials"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-sm font-semibold text-white",children:"Company"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/about",className:"transition-colors hover:text-orange-500",children:"About Us"})}),s.jsx("li",{children:s.jsx("a",{href:"/blog",className:"transition-colors hover:text-orange-500",children:"Blog"})}),s.jsx("li",{children:s.jsx("a",{href:"/contact",className:"transition-colors hover:text-orange-500",children:"Contact"})}),s.jsx("li",{children:s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"transition-colors hover:text-orange-500",children:"About Automore"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"mb-4 text-sm font-semibold text-white",children:"Legal"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"transition-colors hover:text-orange-500",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-of-service",className:"transition-colors hover:text-orange-500",children:"Terms of Service"})})]})]})]}),s.jsxs("div",{className:"flex flex-col items-center justify-between pt-8 border-t border-gray-800 md:flex-row",children:[s.jsx("p",{className:"mb-4 text-sm text-center md:text-left md:mb-0",children:" 2025 CVSift. All rights reserved."}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[s.jsx("a",{href:"/privacy-policy",className:"transition-colors hover:text-orange-500",children:"Privacy Policy"}),s.jsx("a",{href:"/terms-of-service",className:"transition-colors hover:text-orange-500",children:"Terms of Service"}),s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"transition-colors hover:text-orange-500",children:"About Automore"})]})]})]})}),s.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes progress {
          from {
            width: 0;
          }
          to {
            width: 100%;
          }
        }

        @keyframes scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-progress {
          animation: progress 1.5s ease-out forwards;
        }

        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }

        @keyframes ping {
          75%, 100% {
            transform: scale(2);
            opacity: 0;
          }
        }

        .animate-pulse {
          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .animate-ping {
          animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
        }

        .testimonial-ticker {
          overflow: hidden;
          width: 100%;
          position: relative;
        }

        .testimonial-track {
          display: flex;
          gap: 1.5rem;
          animation: scroll 60s linear infinite;
          width: fit-content;
        }

        .testimonial-track:hover {
          animation-play-state: paused;
        }

        .testimonial-card {
          width: 400px;
          max-width: 400px;
          min-height: 180px;
        }

        @media (max-width: 768px) {
          .testimonial-card {
            width: 320px;
            max-width: 320px;
          }
        }

        html {
          scroll-behavior: smooth;
        }
      `})]})}function Tie(){const[t,e]=V.useState({displayName:"",email:"",password:"",confirmPassword:""}),[n,r]=V.useState({}),[i,a]=V.useState(!1),[o,c]=V.useState(!1),[d,h]=V.useState(!1),{signup:f,signInWithGoogle:p}=Ei(),x=ii(),g=j=>{e({...t,[j.target.name]:j.target.value}),n[j.target.name]&&r({...n,[j.target.name]:""})},b=()=>{const j={};return t.displayName.trim()||(j.displayName="Name is required"),t.email.trim()?t.email.includes("@")?t.email.includes(".")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(j.email="Please enter a valid email address"):j.email="Email must contain a domain (e.g., .com, .co.za)":j.email="Email must contain @":j.email="Email is required",t.password?t.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",t.password!==t.confirmPassword&&(j.confirmPassword="Passwords do not match"),r(j),Object.keys(j).length===0},v=async j=>{if(j.preventDefault(),!!b()){a(!0),r({});try{const E=await f(t.email,t.password,t.displayName);ck("email"),P7(E.user.uid),c(!0),setTimeout(()=>{x("/dashboard")},2e3)}catch(E){Ll("signup_failed",E.message,"SignUp"),r({submit:E.message||"Failed to create account. Please try again."})}finally{a(!1)}}},w=async()=>{h(!0),r({});try{await p(),ck("google"),x("/dashboard")}catch(j){Ll("google_signup_failed",j.message,"SignUp"),r({submit:j.message||"Failed to sign in with Google. Please try again."})}finally{h(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),s.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),s.jsx("p",{className:"text-gray-600",children:"Start filtering CVs in seconds"})]}),o&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start space-x-3",children:[s.jsx(xr,{className:"text-green-500 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Account created successfully!"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Redirecting to dashboard..."})]})]}),n.submit&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(ur,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-red-800 text-sm",children:n.submit})]}),s.jsxs("form",{onSubmit:v,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",id:"displayName",name:"displayName",value:t.displayName,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.displayName?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"})]}),n.displayName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.displayName})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com"})]}),n.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.password?"border-red-500":"border-gray-300"}`,placeholder:""})]}),n.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:""})]}),n.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.confirmPassword})]}),s.jsx("button",{type:"submit",disabled:i||o||d,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:i?"Creating Account...":"Create Account"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),s.jsxs("button",{onClick:w,disabled:i||o||d,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d?"Signing in...":"Sign up with Google"]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",s.jsx("a",{href:"/signin",className:"text-orange-500 font-semibold hover:text-orange-600",children:"Sign In"})]})})]}),s.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["By signing up, you agree to our"," ",s.jsx("a",{href:"#",className:"text-orange-500 hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-orange-500 hover:underline",children:"Privacy Policy"})]})]})})}function kie(){const[t,e]=V.useState({email:"",password:""}),[n,r]=V.useState({}),[i,a]=V.useState(!1),[o,c]=V.useState(!1),[d,h]=V.useState(!1),[f,p]=V.useState(!1),[x,g]=V.useState(null),[b,v]=V.useState(""),[w,j]=V.useState(!1),[E,T]=V.useState(""),D=V.useRef(null),{signin:M,signInWithGoogle:J}=Ei(),F=ii();V.useEffect(()=>(f&&!D.current&&setTimeout(()=>{try{const k=document.getElementById("mfa-recaptcha-container");if(!k)return;k.innerHTML="";const le=new ND(da,"mfa-recaptcha-container",{size:"invisible"});le.render().then(()=>{D.current=le}).catch(G=>{console.error("Error rendering reCAPTCHA:",G)})}catch(k){console.error("Error initializing reCAPTCHA:",k)}},100),()=>{if(D.current&&!f)try{D.current.clear(),D.current=null}catch(k){console.error("Error clearing reCAPTCHA:",k)}}),[f]);const z=k=>{e({...t,[k.target.name]:k.target.value}),n[k.target.name]&&r({...n,[k.target.name]:""})},L=()=>{const k={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(k.email="Email is invalid"):k.email="Email is required",t.password||(k.password="Password is required"),r(k),Object.keys(k).length===0},H=async k=>{if(k.preventDefault(),!!L()){a(!0),r({});try{await M(t.email.trim(),t.password),uk("email"),F("/dashboard")}catch(le){if(Ll("login_failed",le.message,"SignIn"),le.code==="auth/multi-factor-auth-required"){const W=gC(da,le);g(W),p(!0),a(!1),setTimeout(()=>{I(W)},500);return}let G="Failed to sign in. Please try again.";le.code==="auth/user-not-found"||le.code==="auth/wrong-password"?G="Invalid email or password":le.code==="auth/too-many-requests"?G="Too many failed attempts. Please try again later.":le.code==="auth/invalid-credential"?G="Invalid email or password. If you recently enabled MFA, please reset your password.":le.message&&(G=le.message),r({submit:G}),a(!1)}}},P=async()=>{c(!0),r({});try{await J(),uk("google"),F("/dashboard")}catch(k){if(Ll("login_failed",k.message,"SignIn"),k.code==="auth/multi-factor-auth-required"){const le=gC(da,k);g(le),p(!0),c(!1),setTimeout(()=>{I(le)},500);return}r({submit:k.message||"Failed to sign in with Google. Please try again."}),c(!1)}},I=async k=>{if(!D.current){setTimeout(()=>I(k),500);return}j(!0);try{const le={multiFactorHint:k.hints[0],session:k.session},W=await new lu(da).verifyPhoneNumber(le,D.current);T(W)}catch(le){r({submit:`Failed to send verification code: ${le.message}`})}finally{j(!1)}},U=async()=>{if(!b||b.length!==6){r({submit:"Please enter a valid 6-digit code"});return}j(!0),r({});try{const k=lu.credential(E,b),le=LS.assertion(k);await x.resolveSignIn(le);try{const G=Mr(),W=En(G,"logSmsVerification"),ie=x.hints[0]?.phoneNumber||"unknown";await W({phoneNumber:ie,purpose:"mfa_signin"})}catch(G){console.error("Failed to log SMS verification:",G)}F("/dashboard")}catch(k){k.code==="auth/invalid-verification-code"?r({submit:"Invalid verification code. Please try again."}):k.code==="auth/code-expired"?r({submit:"Verification code expired. Please request a new code."}):r({submit:"Failed to verify code. Please try again."})}finally{j(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),s.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:f?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(R0,{className:"text-orange-500",size:32})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 text-center",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-gray-600 text-center",children:"Enter the 6-digit code sent to your phone"})]}),n.submit&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(ur,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-red-800 text-sm",children:n.submit})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700 mb-2 text-center",children:"Verification Code"}),s.jsx("input",{type:"text",id:"verificationCode",value:b,onChange:k=>v(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",maxLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none text-center text-2xl tracking-widest"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 text-center",children:"Enter the 6-digit code sent to your phone"})]}),s.jsx("button",{onClick:U,disabled:w||b.length!==6,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:w?"Verifying...":"Verify & Sign In"}),s.jsx("button",{onClick:()=>{p(!1),v(""),r({})},disabled:w,className:"w-full text-gray-600 hover:text-gray-900 py-3 font-medium transition-colors disabled:opacity-50",children:"Back to Sign In"})]}),s.jsx("div",{id:"mfa-recaptcha-container"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to your CVSift account"})]}),n.submit&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(ur,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-red-800 text-sm",children:n.submit})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:z,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com"})]}),n.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx(yS,{to:"/reset-password",className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"Forgot?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(ey,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:d?"text":"password",id:"password",name:"password",value:t.password,onChange:z,className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.password?"border-red-500":"border-gray-300"}`,placeholder:""}),s.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":d?"Hide password":"Show password",children:d?s.jsx(Mv,{size:20}):s.jsx(bp,{size:20})})]}),n.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.password})]}),s.jsx("button",{onClick:H,disabled:i||o,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:i?"Signing In...":"Sign In"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),s.jsxs("button",{onClick:P,disabled:i||o,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),o?"Signing in...":"Sign in with Google"]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx("a",{href:"/signup",className:"text-orange-500 font-semibold hover:text-orange-600",children:"Sign Up"})]})})]})}),s.jsxs("div",{className:"text-center text-sm text-gray-500 mt-6 space-y-2",children:[s.jsx("p",{children:"Protected by enterprise-grade security"}),s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsx("a",{href:"/privacy-policy",className:"hover:text-orange-500 transition-colors",children:"Privacy Policy"}),s.jsx("span",{children:""}),s.jsx("a",{href:"/terms-of-service",className:"hover:text-orange-500 transition-colors",children:"Terms of Service"})]})]})]})})}function Iie(){const[t,e]=V.useState(""),[n,r]=V.useState({}),[i,a]=V.useState(!1),[o,c]=V.useState(!1),{resetPassword:d}=Ei(),h=x=>{e(x.target.value),n.email&&r({})},f=()=>{const x={};return t.trim()?/\S+@\S+\.\S+/.test(t)||(x.email="Email is invalid"):x.email="Email is required",r(x),Object.keys(x).length===0},p=async x=>{if(x.preventDefault(),!!f()){a(!0),r({});try{await d(t),c(!0)}catch(g){let b="Failed to send reset email. Please try again.";g.code==="auth/user-not-found"?b="No account found with this email address":g.code==="auth/invalid-email"?b="Invalid email address":g.code==="auth/too-many-requests"&&(b="Too many requests. Please try again later."),r({submit:b})}finally{a(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),s.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:o?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ws,{className:"text-green-600",size:32})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Check Your Email"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"We've sent a password reset link to:"}),s.jsx("p",{className:"text-gray-900 font-semibold mb-6",children:t}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("a",{href:"/signin",className:"block w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02]",children:"Back to Sign In"}),s.jsx("button",{onClick:()=>{c(!1),e("")},className:"block w-full text-orange-500 hover:text-orange-600 py-2 font-medium transition-colors",children:"Send Another Link"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),n.submit&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(ur,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-red-800 text-sm",children:n.submit})]}),s.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(bc,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:h,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${n.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com",autoFocus:!0})]}),n.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email})]}),s.jsx("button",{type:"submit",disabled:i,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:i?"Sending...":"Send Reset Link"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("a",{href:"/signin",className:"inline-flex items-center text-sm text-gray-600 hover:text-orange-500 font-medium transition-colors",children:[s.jsx(Qs,{size:16,className:"mr-1"}),"Back to Sign In"]})})]})}),s.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Protected by enterprise-grade security"})]})})}const ed={FREE:"free",STARTER:"starter",BASIC:"basic",PROFESSIONAL:"professional",BUSINESS:"business",ENTERPRISE:"enterprise"},Rl={[ed.FREE]:{name:"Free",cvLimit:10,jobSpecLimit:0,price:0,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:7,emailSupport:!0,jobSpecCreation:!1,advancedFiltering:!1,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!1,emailNotifications:!1,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["Basic filtering (skills, location)","7-day data retention","Email support","Export to CSV"]},[ed.STARTER]:{name:"Starter",cvLimit:50,jobSpecLimit:3,price:199,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:30,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!1,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["Basic + advanced filtering","30-day data retention","Email support","Bulk upload","Job spec creation","Email notifications"]},[ed.BASIC]:{name:"Basic",cvLimit:150,jobSpecLimit:10,price:399,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:90,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["All filtering options","90-day data retention","Priority email support","Advanced export options","Bulk upload","Email notifications"]},[ed.PROFESSIONAL]:{name:"Professional",cvLimit:600,jobSpecLimit:30,price:999,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:365,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:3,customFields:!0,prioritySupport:!0,advancedAnalytics:!0},description:["Everything in Basic","AI Chatbot Assistant","Predictive Analytics","API access","1-year data retention","Team collaboration (3 users)","Custom fields","Priority support"]},[ed.BUSINESS]:{name:"Business",cvLimit:1500,jobSpecLimit:100,price:1999,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:365,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:10,customFields:!0,prioritySupport:!0,advancedAnalytics:!0,customIntegrations:!0,dedicatedAccountManager:!1,ssoSecurity:!1},description:["Everything in Professional","Higher volume (1,500 CVs)","Team collaboration (10 users)","Custom integrations","Priority support","Advanced analytics"]},[ed.ENTERPRISE]:{name:"Enterprise",cvLimit:-1,jobSpecLimit:-1,price:null,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:-1,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:-1,customFields:!0,prioritySupport:!0,customIntegrations:!0,dedicatedAccountManager:!0,ssoSecurity:!0,whiteLabel:!0,slaGuarantee:!0,advancedAnalytics:!0},description:["Everything in Professional","Custom Analytics Reports","Custom integrations","Dedicated account manager","SSO & advanced security","White-label option","Custom data retention","SLA guarantee","Unlimited users"]}};function ag(t,e){return!t||!Rl[t]?Rl[ed.FREE].features[e]||!1:Rl[t].features[e]||!1}function Zx(t){return!t||!Rl[t]?Rl[ed.FREE].cvLimit:Rl[t].cvLimit}function _p(t){return ag(t,"jobSpecCreation")}function oj(t){return ag(t,"aiChatbot")}function N5(t){return!t||!Rl[t]?Rl[ed.FREE].jobSpecLimit:Rl[t].jobSpecLimit}const Pie={SMALL:{id:"cv_pack_small",name:"Small Pack",cvCount:25,price:99,currency:"ZAR",description:"Add 25 extra CVs to your account",popular:!1},MEDIUM:{id:"cv_pack_medium",name:"Medium Pack",cvCount:75,price:249,currency:"ZAR",description:"Add 75 extra CVs to your account",savings:"16% savings",popular:!0},LARGE:{id:"cv_pack_large",name:"Large Pack",cvCount:200,price:599,currency:"ZAR",description:"Add 200 extra CVs to your account",savings:"25% savings",popular:!1},JUMBO:{id:"cv_pack_jumbo",name:"Jumbo Pack",cvCount:500,price:1299,currency:"ZAR",description:"Add 500 extra CVs to your account",savings:"35% savings",popular:!1}};function Rie(){return Object.values(Pie)}const Oie="1.1.0",Die="2025-10-29",Lie="Enhanced Intelligence Release",j5={version:Oie,releaseDate:Die,releaseName:Lie};function Mie({className:t="",position:e="bottom-right"}){const n={"bottom-right":"fixed bottom-4 right-4","bottom-left":"fixed bottom-4 left-4","top-right":"fixed top-4 right-4","top-left":"fixed top-4 left-4",inline:"inline-block"};return s.jsx("div",{className:`${n[e]} ${t}`,title:`CV-Sift ${j5.releaseName} - Released ${j5.releaseDate}`,children:s.jsx("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:s.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["v",j5.version]})})})}function zie(){const{currentUser:t,logout:e,userData:n}=Ei(),r=ii(),[i,a]=V.useState([]),[o,c]=V.useState(!0),[d,h]=V.useState(!1),[f,p]=V.useState(null);V.useEffect(()=>{g(),x()},[t,n]);const x=async()=>{if(!(!t||!n))try{const M=n?.teamAccess;if(M?.isTeamMember&&M?.teamOwnerId){console.log("Dashboard: Fetching team owner data for display");const J=Mr(),z=await En(J,"getTeamOwnerData")();z.data.success?p(z.data.ownerData):p(n)}else p(n)}catch(M){console.error("Error loading display user data:",M),p(n)}},g=async()=>{if(t)try{c(!0);const M=n?.teamAccess;if(M?.isTeamMember&&M?.teamOwnerId){console.log("Dashboard: Fetching team CVs via Cloud Function for owner:",M.teamOwnerId);const J=Mr(),z=await En(J,"getTeamCVs")();if(z.data.success){const H=z.data.cvs.map(P=>({...P,uploadedAt:P.uploadedAt?.toDate?P.uploadedAt.toDate():P.uploadedAt?._seconds?new Date(P.uploadedAt._seconds*1e3):new Date})).slice(0,5);console.log("Dashboard: Team CVs fetched:",H.length),a(H)}else throw new Error("Failed to fetch team CVs")}else{console.log("Dashboard: Fetching own CVs for user:",t.uid);const J=fu(Pl(cr,"cvs"),Hs("userId","==",t.uid),f1("uploadedAt","desc"),TJ(5)),z=(await mu(J)).docs.map(L=>({id:L.id,...L.data()}));a(z)}c(!1)}catch(M){console.error("Error loading recent activity:",M),c(!1)}},b=async()=>{try{await e(),r("/")}catch(M){console.error("Failed to log out:",M)}},v=M=>M==="completed"?s.jsx(Ws,{className:"text-green-500",size:18}):M==="error"?s.jsx(ur,{className:"text-red-500",size:18}):s.jsx(Gb,{className:"text-orange-500",size:18}),w=M=>M==="completed"?"Parsed successfully":M==="error"?"Parsing failed":"Processing...",j=M=>{if(!M)return"Unknown";const J=M.toDate?M.toDate():new Date(M),z=Math.floor((new Date-J)/1e3);return z<60?"Just now":z<3600?`${Math.floor(z/60)}m ago`:z<86400?`${Math.floor(z/3600)}h ago`:`${Math.floor(z/86400)}d ago`},E=(f?.cvUploadsThisMonth||0)/(f?.cvUploadLimit||10)*100,T=t?.userData?.plan||"free",D=T==="professional"||T==="enterprise";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"CV"})}),s.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]}),s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-lime-50 to-lime-100 border border-lime-200 rounded-lg",children:[s.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Plan:"}),s.jsx("span",{className:"text-sm font-bold text-gray-900 capitalize",children:T}),D&&s.jsx(Ws,{size:14,className:"text-green-600"}),!D&&s.jsx("button",{onClick:()=>r("/pricing"),className:"text-xs text-orange-600 hover:text-orange-700 font-medium ml-1",children:"Upgrade"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[n?.role==="master"&&s.jsxs("button",{onClick:()=>r("/master-dashboard"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg transition-all shadow-sm hover:shadow-md",title:"Master Account Dashboard",children:[s.jsx(Zf,{size:18}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Master Dashboard"})]}),oj(T)&&s.jsxs("button",{onClick:()=>r("/chatbot"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg transition-all shadow-sm hover:shadow-md",title:"AI Assistant",children:[s.jsx(n7,{size:18}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"AI Assistant"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!d),className:"flex items-center space-x-3 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[t?.photoURL?s.jsx("img",{src:t.photoURL,alt:t.displayName,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-bold",children:t?.displayName?.charAt(0).toUpperCase()||"U"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:t?.displayName||t?.email?.split("@")[0]}),s.jsx(vc,{size:16,className:"text-gray-600"})]}),d&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[s.jsxs("button",{onClick:()=>{h(!1),r("/settings")},className:"w-full flex items-center space-x-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:[s.jsx(a7,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:"Account Settings"})]}),s.jsx("div",{className:"border-t border-gray-200 my-2"}),s.jsxs("button",{onClick:()=>{h(!1),b()},className:"w-full flex items-center space-x-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(Wne,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t?.displayName?.split(" ")[0]||"User","! "]}),s.jsx("p",{className:"text-gray-600",children:"Manage your CVs, create job specifications, and find the perfect candidates."})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("button",{onClick:()=>r("/upload"),className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:s.jsx(Gs,{className:"text-white",size:28})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Upload CVs"}),s.jsx("p",{className:"text-orange-100 text-sm",children:"Add new candidate CVs to your library"})]})]}),s.jsxs("button",{onClick:()=>r("/job-specs"),className:"group relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:s.jsx(fc,{className:"text-white",size:28})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Job Specs"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Create job specs and match CVs"})]})]}),s.jsxs("button",{onClick:()=>r("/cvs"),className:"group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:s.jsx(Pne,{className:"text-white",size:28})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Browse CVs"}),s.jsx("p",{className:"text-purple-100 text-sm",children:"Search, filter, and view your CV library"})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Gs,{className:"text-orange-500",size:24})}),s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"This Month"})]}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:f?.cvUploadsThisMonth||0}),s.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["CVs Uploaded",T!=="enterprise"?` / ${f?.cvUploadLimit||10}`:""]}),T!=="enterprise"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all",style:{width:`${Math.min(E,100)}%`}})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:E>=100?"Limit reached":`${Math.round(100-E)}% remaining`})]}),T==="enterprise"&&s.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center",children:[s.jsx(Zf,{size:14,className:"mr-1"}),"Unlimited uploads"]})]}),(f?.cvPackBalance||0)>0&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 shadow-sm border-2 border-purple-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(w1,{className:"text-white",size:24})}),s.jsx("span",{className:"text-sm font-medium text-purple-700",children:"CV Packs"})]}),s.jsx("h3",{className:"text-3xl font-bold text-purple-900 mb-1",children:f?.cvPackBalance||0}),s.jsx("p",{className:"text-purple-700 text-sm mb-2",children:"Bonus CVs Available"}),s.jsx("p",{className:"text-xs text-purple-600",children:"These CVs never expire and are used automatically when your monthly limit is reached"})]}),s.jsx("button",{onClick:()=>r("/analytics"),className:"w-full bg-gradient-to-br from-lime-50 to-lime-100 rounded-xl p-6 shadow-sm border-2 border-lime-200 hover:shadow-md transition-all hover:-translate-y-1 text-left",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-lime-600 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(jh,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"View Analytics"}),s.jsx("p",{className:"text-sm text-gray-600",children:"See insights & trends"})]})]})})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl p-8 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Activity"}),s.jsx("button",{onClick:()=>r("/cvs"),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"View All"})]}),o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading activity..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ss,{className:"text-gray-400",size:32})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No CVs uploaded yet"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start by uploading your first batch of CVs to begin filtering and finding the perfect candidates"}),s.jsx("button",{onClick:()=>r("/upload"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:"Upload Your First CV"})]}):s.jsx("div",{className:"space-y-3",children:i.map(M=>s.jsxs("div",{onClick:()=>r(`/cv/${M.id}`),className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Ss,{className:"text-orange-500",size:18})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 truncate group-hover:text-orange-500 transition-colors",children:M.metadata?.name||M.fileName||"Unknown CV"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[v(M.status),s.jsx("span",{className:"text-sm text-gray-500",children:w(M.status)})]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j(M.uploadedAt)}),s.jsx("p",{className:"text-xs text-gray-400",children:M.uploadedAt?.toDate?M.uploadedAt.toDate().toLocaleDateString():"Unknown date"})]})]},M.id))})]})]}),!D&&s.jsx("div",{className:"mt-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-8 shadow-lg text-white",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-6",children:[s.jsxs("div",{className:"flex-1 min-w-[280px]",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Ready to unlock more features?"}),s.jsx("p",{className:"text-orange-100 mb-4",children:"Upgrade to Professional for higher CV limits, AI assistance, and advanced analytics."}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(Ws,{size:16,className:"mr-2 flex-shrink-0"}),s.jsx("span",{children:"600+ CVs per month (or 1,500 with Business plan)"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(Ws,{size:16,className:"mr-2 flex-shrink-0"}),s.jsx("span",{children:"AI chatbot assistant & advanced analytics"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(Ws,{size:16,className:"mr-2 flex-shrink-0"}),s.jsx("span",{children:"Add CV packs anytime for extra capacity"})]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("button",{onClick:()=>r("/pricing"),className:"bg-white text-orange-500 px-8 py-4 rounded-xl font-bold hover:bg-gray-50 transition-all hover:scale-105 shadow-lg",children:"View Plans & Pricing"})})]})})]}),s.jsx(Mie,{position:"bottom-right"})]})}function Jx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var S5={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var fk;function Fie(){return fk||(fk=1,(function(t,e){(function(n){t.exports=n()})(function(){return(function n(r,i,a){function o(h,f){if(!i[h]){if(!r[h]){var p=typeof Jx=="function"&&Jx;if(!f&&p)return p(h,!0);if(c)return c(h,!0);var x=new Error("Cannot find module '"+h+"'");throw x.code="MODULE_NOT_FOUND",x}var g=i[h]={exports:{}};r[h][0].call(g.exports,function(b){var v=r[h][1][b];return o(v||b)},g,g.exports,n,r,i,a)}return i[h].exports}for(var c=typeof Jx=="function"&&Jx,d=0;d<a.length;d++)o(a[d]);return o})({1:[function(n,r,i){var a=n("./utils"),o=n("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var h,f,p,x,g,b,v,w=[],j=0,E=d.length,T=E,D=a.getTypeOf(d)!=="string";j<d.length;)T=E-j,p=D?(h=d[j++],f=j<E?d[j++]:0,j<E?d[j++]:0):(h=d.charCodeAt(j++),f=j<E?d.charCodeAt(j++):0,j<E?d.charCodeAt(j++):0),x=h>>2,g=(3&h)<<4|f>>4,b=1<T?(15&f)<<2|p>>6:64,v=2<T?63&p:64,w.push(c.charAt(x)+c.charAt(g)+c.charAt(b)+c.charAt(v));return w.join("")},i.decode=function(d){var h,f,p,x,g,b,v=0,w=0,j="data:";if(d.substr(0,j.length)===j)throw new Error("Invalid base64 input, it looks like a data url.");var E,T=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&T--,d.charAt(d.length-2)===c.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=o.uint8array?new Uint8Array(0|T):new Array(0|T);v<d.length;)h=c.indexOf(d.charAt(v++))<<2|(x=c.indexOf(d.charAt(v++)))>>4,f=(15&x)<<4|(g=c.indexOf(d.charAt(v++)))>>2,p=(3&g)<<6|(b=c.indexOf(d.charAt(v++))),E[w++]=h,g!==64&&(E[w++]=f),b!==64&&(E[w++]=p);return E}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),o=n("./stream/DataWorker"),c=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function h(f,p,x,g,b){this.compressedSize=f,this.uncompressedSize=p,this.crc32=x,this.compression=g,this.compressedContent=b}h.prototype={getContentWorker:function(){var f=new o(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,p,x){return f.pipe(new c).pipe(new d("uncompressedSize")).pipe(p.compressWorker(x)).pipe(new d("compressedSize")).withStreamInfo("compression",p)},r.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),o=(function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d})();r.exports=function(c,d){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?(function(h,f,p,x){var g=o,b=x+p;h^=-1;for(var v=x;v<b;v++)h=h>>>8^g[255&(h^f[v])];return-1^h})(0|d,c,c.length,0):(function(h,f,p,x){var g=o,b=x+p;h^=-1;for(var v=x;v<b;v++)h=h>>>8^g[255&(h^f.charCodeAt(v))];return-1^h})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),c=n("./utils"),d=n("./stream/GenericWorker"),h=a?"uint8array":"array";function f(p,x){d.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=x,this.meta={}}i.magic="\b\0",c.inherits(f,d),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,p.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(x){p.push({data:x,meta:p.meta})}},i.compressWorker=function(p){return new f("Deflate",p)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(g,b){var v,w="";for(v=0;v<b;v++)w+=String.fromCharCode(255&g),g>>>=8;return w}function o(g,b,v,w,j,E){var T,D,M=g.file,J=g.compression,F=E!==h.utf8encode,z=c.transformTo("string",E(M.name)),L=c.transformTo("string",h.utf8encode(M.name)),H=M.comment,P=c.transformTo("string",E(H)),I=c.transformTo("string",h.utf8encode(H)),U=L.length!==M.name.length,k=I.length!==H.length,le="",G="",W="",ie=M.dir,se=M.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};b&&!v||(Se.crc32=g.crc32,Se.compressedSize=g.compressedSize,Se.uncompressedSize=g.uncompressedSize);var X=0;b&&(X|=8),F||!U&&!k||(X|=2048);var O=0,K=0;ie&&(O|=16),j==="UNIX"?(K=798,O|=(function(ee,xe){var be=ee;return ee||(be=xe?16893:33204),(65535&be)<<16})(M.unixPermissions,ie)):(K=20,O|=(function(ee){return 63&(ee||0)})(M.dosPermissions)),T=se.getUTCHours(),T<<=6,T|=se.getUTCMinutes(),T<<=5,T|=se.getUTCSeconds()/2,D=se.getUTCFullYear()-1980,D<<=4,D|=se.getUTCMonth()+1,D<<=5,D|=se.getUTCDate(),U&&(G=a(1,1)+a(f(z),4)+L,le+="up"+a(G.length,2)+G),k&&(W=a(1,1)+a(f(P),4)+I,le+="uc"+a(W.length,2)+W);var te="";return te+=`
\0`,te+=a(X,2),te+=J.magic,te+=a(T,2),te+=a(D,2),te+=a(Se.crc32,4),te+=a(Se.compressedSize,4),te+=a(Se.uncompressedSize,4),te+=a(z.length,2),te+=a(le.length,2),{fileRecord:p.LOCAL_FILE_HEADER+te+z+le,dirRecord:p.CENTRAL_FILE_HEADER+a(K,2)+te+a(P.length,2)+"\0\0\0\0"+a(O,4)+a(w,4)+z+le+P}}var c=n("../utils"),d=n("../stream/GenericWorker"),h=n("../utf8"),f=n("../crc32"),p=n("../signature");function x(g,b,v,w){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=v,this.encodeFileName=w,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(x,d),x.prototype.push=function(g){var b=g.meta.percent||0,v=this.entriesCount,w=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,d.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:v?(b+100*(v-w-1))/v:100}}))},x.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var b=this.streamFiles&&!g.file.dir;if(b){var v=o(g,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(g){this.accumulate=!1;var b=this.streamFiles&&!g.file.dir,v=o(g,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),b)this.push({data:(function(w){return p.DATA_DESCRIPTOR+a(w.crc32,4)+a(w.compressedSize,4)+a(w.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var g=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var v=this.bytesWritten-g,w=(function(j,E,T,D,M){var J=c.transformTo("string",M(D));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(j,2)+a(j,2)+a(E,4)+a(T,4)+a(J.length,2)+J})(this.dirRecords.length,v,g,this.zipComment,this.encodeFileName);this.push({data:w,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(g){this._sources.push(g);var b=this;return g.on("data",function(v){b.processChunk(v)}),g.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),g.on("error",function(v){b.error(v)}),this},x.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(g){var b=this._sources;if(!d.prototype.error.call(this,g))return!1;for(var v=0;v<b.length;v++)try{b[v].error(g)}catch{}return!0},x.prototype.lock=function(){d.prototype.lock.call(this);for(var g=this._sources,b=0;b<g.length;b++)g[b].lock()},r.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(c,d,h){var f=new o(d.streamFiles,h,d.platform,d.encodeFileName),p=0;try{c.forEach(function(x,g){p++;var b=(function(E,T){var D=E||T,M=a[D];if(!M)throw new Error(D+" is not a valid compression method !");return M})(g.options.compression,d.compression),v=g.options.compressionOptions||d.compressionOptions||{},w=g.dir,j=g.date;g._compressWorker(b,v).withStreamInfo("file",{name:x,dir:w,date:j,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(x){f.error(x)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new a;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(o,c){return new a().loadAsync(o,c)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),o=n("./external"),c=n("./utf8"),d=n("./zipEntries"),h=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function p(x){return new o.Promise(function(g,b){var v=x.decompressed.getContentWorker().pipe(new h);v.on("error",function(w){b(w)}).on("end",function(){v.streamInfo.crc32!==x.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}r.exports=function(x,g){var b=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(x)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",x,!0,g.optimizedBinaryString,g.base64).then(function(v){var w=new d(g);return w.load(v),w}).then(function(v){var w=[o.Promise.resolve(v)],j=v.files;if(g.checkCRC32)for(var E=0;E<j.length;E++)w.push(p(j[E]));return o.Promise.all(w)}).then(function(v){for(var w=v.shift(),j=w.files,E=0;E<j.length;E++){var T=j[E],D=T.fileNameStr,M=a.resolve(T.fileNameStr);b.file(M,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:g.createFolders}),T.dir||(b.file(M).unsafeOriginalName=D)}return w.zipComment.length&&(b.comment=w.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),o=n("../stream/GenericWorker");function c(d,h){o.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}a.inherits(c,o),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function o(c,d,h){a.call(this,d),this._helper=c;var f=this;c.on("data",function(p,x){f.push(p)||f._helper.pause(),h&&h(x)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}n("../utils").inherits(o,a),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,o);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,o)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var o=new Buffer(a);return o.fill(0),o},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(M,J,F){var z,L=c.getTypeOf(J),H=c.extend(F||{},f);H.date=H.date||new Date,H.compression!==null&&(H.compression=H.compression.toUpperCase()),typeof H.unixPermissions=="string"&&(H.unixPermissions=parseInt(H.unixPermissions,8)),H.unixPermissions&&16384&H.unixPermissions&&(H.dir=!0),H.dosPermissions&&16&H.dosPermissions&&(H.dir=!0),H.dir&&(M=j(M)),H.createFolders&&(z=w(M))&&E.call(this,z,!0);var P=L==="string"&&H.binary===!1&&H.base64===!1;F&&F.binary!==void 0||(H.binary=!P),(J instanceof p&&J.uncompressedSize===0||H.dir||!J||J.length===0)&&(H.base64=!1,H.binary=!0,J="",H.compression="STORE",L="string");var I=null;I=J instanceof p||J instanceof d?J:b.isNode&&b.isStream(J)?new v(M,J):c.prepareContent(M,J,H.binary,H.optimizedBinaryString,H.base64);var U=new x(M,I,H);this.files[M]=U}var o=n("./utf8"),c=n("./utils"),d=n("./stream/GenericWorker"),h=n("./stream/StreamHelper"),f=n("./defaults"),p=n("./compressedObject"),x=n("./zipObject"),g=n("./generate"),b=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),w=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var J=M.lastIndexOf("/");return 0<J?M.substring(0,J):""},j=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},E=function(M,J){return J=J!==void 0?J:f.createFolders,M=j(M),this.files[M]||a.call(this,M,null,{dir:!0,createFolders:J}),this.files[M]};function T(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var J,F,z;for(J in this.files)z=this.files[J],(F=J.slice(this.root.length,J.length))&&J.slice(0,this.root.length)===this.root&&M(F,z)},filter:function(M){var J=[];return this.forEach(function(F,z){M(F,z)&&J.push(z)}),J},file:function(M,J,F){if(arguments.length!==1)return M=this.root+M,a.call(this,M,J,F),this;if(T(M)){var z=M;return this.filter(function(H,P){return!P.dir&&z.test(H)})}var L=this.files[this.root+M];return L&&!L.dir?L:null},folder:function(M){if(!M)return this;if(T(M))return this.filter(function(L,H){return H.dir&&M.test(L)});var J=this.root+M,F=E.call(this,J),z=this.clone();return z.root=F.name,z},remove:function(M){M=this.root+M;var J=this.files[M];if(J||(M.slice(-1)!=="/"&&(M+="/"),J=this.files[M]),J&&!J.dir)delete this.files[M];else for(var F=this.filter(function(L,H){return H.name.slice(0,M.length)===M}),z=0;z<F.length;z++)delete this.files[F[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var J,F={};try{if((F=c.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=F.type.toLowerCase(),F.compression=F.compression.toUpperCase(),F.type==="binarystring"&&(F.type="string"),!F.type)throw new Error("No output type specified.");c.checkSupport(F.type),F.platform!=="darwin"&&F.platform!=="freebsd"&&F.platform!=="linux"&&F.platform!=="sunos"||(F.platform="UNIX"),F.platform==="win32"&&(F.platform="DOS");var z=F.comment||this.comment||"";J=g.generateWorker(this,F,z)}catch(L){(J=new d("error")).error(L)}return new h(J,F.type||"string",F.mimeType)},generateAsync:function(M,J){return this.generateInternalStream(M).accumulate(J)},generateNodeStream:function(M,J){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(J)}};r.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function o(c){a.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}n("../utils").inherits(o,a),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===d&&this.data[x+1]===h&&this.data[x+2]===f&&this.data[x+3]===p)return x-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),x=this.readData(4);return d===x[0]&&h===x[1]&&f===x[2]&&p===x[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function o(c){a.call(this,c)}n("../utils").inherits(o,a),o.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function o(c){a.call(this,c)}n("../utils").inherits(o,a),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function o(c){a.call(this,c)}n("../utils").inherits(o,a),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),o=n("../support"),c=n("./ArrayReader"),d=n("./StringReader"),h=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(p){var x=a.getTypeOf(p);return a.checkSupport(x),x!=="string"||o.uint8array?x==="nodebuffer"?new h(p):o.uint8array?new f(a.transformTo("uint8array",p)):new c(a.transformTo("array",p)):new d(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),o=n("../utils");function c(d){a.call(this,"ConvertWorker to "+d),this.destType=d}o.inherits(c,a),c.prototype.processChunk=function(d){this.push({data:o.transformTo(this.destType,d.data),meta:d.meta})},r.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),o=n("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(c,a),c.prototype.processChunk=function(d){this.streamInfo.crc32=o(d.data,this.streamInfo.crc32||0),this.push(d)},r.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function c(d){o.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(c,o),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}o.prototype.processChunk.call(this,d)},r.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),o=n("./GenericWorker");function c(d){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=a.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}a.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var d=0;d<this._listeners[o].length;d++)this._listeners[o][d].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(d){c.processChunk(d)}),o.on("end",function(){c.end()}),o.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),o=n("./ConvertWorker"),c=n("./GenericWorker"),d=n("../base64"),h=n("../support"),f=n("../external"),p=null;if(h.nodestream)try{p=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(b,v){return new f.Promise(function(w,j){var E=[],T=b._internalType,D=b._outputType,M=b._mimeType;b.on("data",function(J,F){E.push(J),v&&v(F)}).on("error",function(J){E=[],j(J)}).on("end",function(){try{var J=(function(F,z,L){switch(F){case"blob":return a.newBlob(a.transformTo("arraybuffer",z),L);case"base64":return d.encode(z);default:return a.transformTo(F,z)}})(D,(function(F,z){var L,H=0,P=null,I=0;for(L=0;L<z.length;L++)I+=z[L].length;switch(F){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(P=new Uint8Array(I),L=0;L<z.length;L++)P.set(z[L],H),H+=z[L].length;return P;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+F+"'")}})(T,E),M);w(J)}catch(F){j(F)}E=[]}).resume()})}function g(b,v,w){var j=v;switch(v){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=v,this._mimeType=w,a.checkSupport(j),this._worker=b.pipe(new o(j)),b.lock()}catch(E){this._worker=new c("error"),this._worker.error(E)}}g.prototype={accumulate:function(b){return x(this,b)},on:function(b,v){var w=this;return b==="data"?this._worker.on(b,function(j){v.call(w,j.data,j.meta)}):this._worker.on(b,function(){a.delay(v,arguments,w)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(a),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),o=n("./support"),c=n("./nodejsUtils"),d=n("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function p(){d.call(this,"utf-8 decode"),this.leftOver=null}function x(){d.call(this,"utf-8 encode")}i.utf8encode=function(g){return o.nodebuffer?c.newBufferFrom(g,"utf-8"):(function(b){var v,w,j,E,T,D=b.length,M=0;for(E=0;E<D;E++)(64512&(w=b.charCodeAt(E)))==55296&&E+1<D&&(64512&(j=b.charCodeAt(E+1)))==56320&&(w=65536+(w-55296<<10)+(j-56320),E++),M+=w<128?1:w<2048?2:w<65536?3:4;for(v=o.uint8array?new Uint8Array(M):new Array(M),E=T=0;T<M;E++)(64512&(w=b.charCodeAt(E)))==55296&&E+1<D&&(64512&(j=b.charCodeAt(E+1)))==56320&&(w=65536+(w-55296<<10)+(j-56320),E++),w<128?v[T++]=w:(w<2048?v[T++]=192|w>>>6:(w<65536?v[T++]=224|w>>>12:(v[T++]=240|w>>>18,v[T++]=128|w>>>12&63),v[T++]=128|w>>>6&63),v[T++]=128|63&w);return v})(g)},i.utf8decode=function(g){return o.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):(function(b){var v,w,j,E,T=b.length,D=new Array(2*T);for(v=w=0;v<T;)if((j=b[v++])<128)D[w++]=j;else if(4<(E=h[j]))D[w++]=65533,v+=E-1;else{for(j&=E===2?31:E===3?15:7;1<E&&v<T;)j=j<<6|63&b[v++],E--;1<E?D[w++]=65533:j<65536?D[w++]=j:(j-=65536,D[w++]=55296|j>>10&1023,D[w++]=56320|1023&j)}return D.length!==w&&(D.subarray?D=D.subarray(0,w):D.length=w),a.applyFromCharCode(D)})(g=a.transformTo(o.uint8array?"uint8array":"array",g))},a.inherits(p,d),p.prototype.processChunk=function(g){var b=a.transformTo(o.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var v=b;(b=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),b.set(v,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var w=(function(E,T){var D;for((T=T||E.length)>E.length&&(T=E.length),D=T-1;0<=D&&(192&E[D])==128;)D--;return D<0||D===0?T:D+h[E[D]]>T?D:T})(b),j=b;w!==b.length&&(o.uint8array?(j=b.subarray(0,w),this.leftOver=b.subarray(w,b.length)):(j=b.slice(0,w),this.leftOver=b.slice(w,b.length))),this.push({data:i.utf8decode(j),meta:g.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,a.inherits(x,d),x.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),o=n("./base64"),c=n("./nodejsUtils"),d=n("./external");function h(v){return v}function f(v,w){for(var j=0;j<v.length;++j)w[j]=255&v.charCodeAt(j);return w}n("setimmediate"),i.newBlob=function(v,w){i.checkSupport("blob");try{return new Blob([v],{type:w})}catch{try{var j=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return j.append(v),j.getBlob(w)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(v,w,j){var E=[],T=0,D=v.length;if(D<=j)return String.fromCharCode.apply(null,v);for(;T<D;)w==="array"||w==="nodebuffer"?E.push(String.fromCharCode.apply(null,v.slice(T,Math.min(T+j,D)))):E.push(String.fromCharCode.apply(null,v.subarray(T,Math.min(T+j,D)))),T+=j;return E.join("")},stringifyByChar:function(v){for(var w="",j=0;j<v.length;j++)w+=String.fromCharCode(v[j]);return w},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function x(v){var w=65536,j=i.getTypeOf(v),E=!0;if(j==="uint8array"?E=p.applyCanBeUsed.uint8array:j==="nodebuffer"&&(E=p.applyCanBeUsed.nodebuffer),E)for(;1<w;)try{return p.stringifyByChunk(v,j,w)}catch{w=Math.floor(w/2)}return p.stringifyByChar(v)}function g(v,w){for(var j=0;j<v.length;j++)w[j]=v[j];return w}i.applyFromCharCode=x;var b={};b.string={string:h,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return b.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,c.allocBuffer(v.length))}},b.array={string:x,array:h,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(v)}},b.arraybuffer={string:function(v){return x(new Uint8Array(v))},array:function(v){return g(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:h,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(new Uint8Array(v))}},b.uint8array={string:x,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:h,nodebuffer:function(v){return c.newBufferFrom(v)}},b.nodebuffer={string:x,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return b.nodebuffer.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:h},i.transformTo=function(v,w){if(w=w||"",!v)return w;i.checkSupport(v);var j=i.getTypeOf(w);return b[j][v](w)},i.resolve=function(v){for(var w=v.split("/"),j=[],E=0;E<w.length;E++){var T=w[E];T==="."||T===""&&E!==0&&E!==w.length-1||(T===".."?j.pop():j.push(T))}return j.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var w,j,E="";for(j=0;j<(v||"").length;j++)E+="\\x"+((w=v.charCodeAt(j))<16?"0":"")+w.toString(16).toUpperCase();return E},i.delay=function(v,w,j){setImmediate(function(){v.apply(j||null,w||[])})},i.inherits=function(v,w){function j(){}j.prototype=w.prototype,v.prototype=new j},i.extend=function(){var v,w,j={};for(v=0;v<arguments.length;v++)for(w in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],w)&&j[w]===void 0&&(j[w]=arguments[v][w]);return j},i.prepareContent=function(v,w,j,E,T){return d.Promise.resolve(w).then(function(D){return a.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new d.Promise(function(M,J){var F=new FileReader;F.onload=function(z){M(z.target.result)},F.onerror=function(z){J(z.target.error)},F.readAsArrayBuffer(D)}):D}).then(function(D){var M=i.getTypeOf(D);return M?(M==="arraybuffer"?D=i.transformTo("uint8array",D):M==="string"&&(T?D=o.decode(D):j&&E!==!0&&(D=(function(J){return f(J,a.uint8array?new Uint8Array(J.length):new Array(J.length))})(D))),D):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),c=n("./signature"),d=n("./zipEntry"),h=n("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(x)+", expected "+o.pretty(p)+")")}},isSignature:function(p,x){var g=this.reader.index;this.reader.setIndex(p);var b=this.reader.readString(4)===x;return this.reader.setIndex(g),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),x=h.uint8array?"uint8array":"array",g=o.transformTo(x,p);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,x,g,b=this.zip64EndOfCentralSize-44;0<b;)p=this.reader.readInt(2),x=this.reader.readInt(4),g=this.reader.readData(x),this.zip64ExtensibleData[p]={id:p,length:x,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,x;for(p=0;p<this.files.length;p++)x=this.files[p],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(p=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var x=p;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var b=x-g;if(0<b)this.isSignature(x,c.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(p){this.reader=a(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),o=n("./utils"),c=n("./compressedObject"),d=n("./crc32"),h=n("./utf8"),f=n("./compressions"),p=n("./support");function x(g,b){this.options=g,this.loadOptions=b}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var b,v;if(g.skip(22),this.fileNameLength=g.readInt(2),v=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(w){for(var j in f)if(Object.prototype.hasOwnProperty.call(f,j)&&f[j].magic===w)return f[j];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,b,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var b=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(b),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var b,v,w,j=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<j;)b=g.readInt(2),v=g.readInt(2),w=g.readData(v),this.extraFields[b]={id:b,length:v,value:w};g.setIndex(j)},handleUTF8:function(){var g=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var v=o.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var w=this.findExtraFieldUnicodeComment();if(w!==null)this.fileCommentStr=w;else{var j=o.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(j)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var b=a(g.value);return b.readInt(1)!==1||d(this.fileName)!==b.readInt(4)?null:h.utf8decode(b.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var b=a(g.value);return b.readInt(1)!==1||d(this.fileComment)!==b.readInt(4)?null:h.utf8decode(b.readData(g.length-5))}return null}},r.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(b,v,w){this.name=b,this.dir=w.dir,this.date=w.date,this.comment=w.comment,this.unixPermissions=w.unixPermissions,this.dosPermissions=w.dosPermissions,this._data=v,this._dataBinary=w.binary,this.options={compression:w.compression,compressionOptions:w.compressionOptions}}var o=n("./stream/StreamHelper"),c=n("./stream/DataWorker"),d=n("./utf8"),h=n("./compressedObject"),f=n("./stream/GenericWorker");a.prototype={internalStream:function(b){var v=null,w="string";try{if(!b)throw new Error("No output type specified.");var j=(w=b.toLowerCase())==="string"||w==="text";w!=="binarystring"&&w!=="text"||(w="string"),v=this._decompressWorker();var E=!this._dataBinary;E&&!j&&(v=v.pipe(new d.Utf8EncodeWorker)),!E&&j&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(T){(v=new f("error")).error(T)}return new o(v,w,"")},async:function(b,v){return this.internalStream(b).accumulate(v)},nodeStream:function(b,v){return this.internalStream(b||"nodebuffer").toNodejsStream(v)},_compressWorker:function(b,v){if(this._data instanceof h&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var w=this._decompressWorker();return this._dataBinary||(w=w.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(w,b,v)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<p.length;g++)a.prototype[p[g]]=x;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var o,c,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var h=0,f=new d(b),p=a.document.createTextNode("");f.observe(p,{characterData:!0}),o=function(){p.data=h=++h%2}}else if(a.setImmediate||a.MessageChannel===void 0)o="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){b(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(b,0)};else{var x=new a.MessageChannel;x.port1.onmessage=b,o=function(){x.port2.postMessage(0)}}var g=[];function b(){var v,w;c=!0;for(var j=g.length;j;){for(w=g,g=[],v=-1;++v<j;)w[v]();j=g.length}c=!1}r.exports=function(v){g.push(v)!==1||c||o()}}).call(this,typeof Bx<"u"?Bx:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function o(){}var c={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function p(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,j!==o&&v(this,j)}function x(j,E,T){this.promise=j,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function g(j,E,T){a(function(){var D;try{D=E(T)}catch(M){return c.reject(j,M)}D===j?c.reject(j,new TypeError("Cannot resolve promise with itself")):c.resolve(j,D)})}function b(j){var E=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof E=="function")return function(){E.apply(j,arguments)}}function v(j,E){var T=!1;function D(F){T||(T=!0,c.reject(j,F))}function M(F){T||(T=!0,c.resolve(j,F))}var J=w(function(){E(M,D)});J.status==="error"&&D(J.value)}function w(j,E){var T={};try{T.value=j(E),T.status="success"}catch(D){T.status="error",T.value=D}return T}(r.exports=p).prototype.finally=function(j){if(typeof j!="function")return this;var E=this.constructor;return this.then(function(T){return E.resolve(j()).then(function(){return T})},function(T){return E.resolve(j()).then(function(){throw T})})},p.prototype.catch=function(j){return this.then(null,j)},p.prototype.then=function(j,E){if(typeof j!="function"&&this.state===h||typeof E!="function"&&this.state===d)return this;var T=new this.constructor(o);return this.state!==f?g(T,this.state===h?j:E,this.outcome):this.queue.push(new x(T,j,E)),T},x.prototype.callFulfilled=function(j){c.resolve(this.promise,j)},x.prototype.otherCallFulfilled=function(j){g(this.promise,this.onFulfilled,j)},x.prototype.callRejected=function(j){c.reject(this.promise,j)},x.prototype.otherCallRejected=function(j){g(this.promise,this.onRejected,j)},c.resolve=function(j,E){var T=w(b,E);if(T.status==="error")return c.reject(j,T.value);var D=T.value;if(D)v(j,D);else{j.state=h,j.outcome=E;for(var M=-1,J=j.queue.length;++M<J;)j.queue[M].callFulfilled(E)}return j},c.reject=function(j,E){j.state=d,j.outcome=E;for(var T=-1,D=j.queue.length;++T<D;)j.queue[T].callRejected(E);return j},p.resolve=function(j){return j instanceof this?j:c.resolve(new this(o),j)},p.reject=function(j){var E=new this(o);return c.reject(E,j)},p.all=function(j){var E=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=j.length,D=!1;if(!T)return this.resolve([]);for(var M=new Array(T),J=0,F=-1,z=new this(o);++F<T;)L(j[F],F);return z;function L(H,P){E.resolve(H).then(function(I){M[P]=I,++J!==T||D||(D=!0,c.resolve(z,M))},function(I){D||(D=!0,c.reject(z,I))})}},p.race=function(j){var E=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=j.length,D=!1;if(!T)return this.resolve([]);for(var M=-1,J=new this(o);++M<T;)F=j[M],E.resolve(F).then(function(z){D||(D=!0,c.resolve(J,z))},function(z){D||(D=!0,c.reject(J,z))});var F;return J}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),o=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/messages"),h=n("./zlib/zstream"),f=Object.prototype.toString,p=0,x=-1,g=0,b=8;function v(j){if(!(this instanceof v))return new v(j);this.options=o.assign({level:x,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},j||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var T=a.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(T!==p)throw new Error(d[T]);if(E.header&&a.deflateSetHeader(this.strm,E.header),E.dictionary){var D;if(D=typeof E.dictionary=="string"?c.string2buf(E.dictionary):f.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(T=a.deflateSetDictionary(this.strm,D))!==p)throw new Error(d[T]);this._dict_set=!0}}function w(j,E){var T=new v(E);if(T.push(j,!0),T.err)throw T.msg||d[T.err];return T.result}v.prototype.push=function(j,E){var T,D,M=this.strm,J=this.options.chunkSize;if(this.ended)return!1;D=E===~~E?E:E===!0?4:0,typeof j=="string"?M.input=c.string2buf(j):f.call(j)==="[object ArrayBuffer]"?M.input=new Uint8Array(j):M.input=j,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new o.Buf8(J),M.next_out=0,M.avail_out=J),(T=a.deflate(M,D))!==1&&T!==p)return this.onEnd(T),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(M.output,M.next_out))):this.onData(o.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&T!==1);return D===4?(T=a.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===p):D!==2||(this.onEnd(p),!(M.avail_out=0))},v.prototype.onData=function(j){this.chunks.push(j)},v.prototype.onEnd=function(j){j===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},i.Deflate=v,i.deflate=w,i.deflateRaw=function(j,E){return(E=E||{}).raw=!0,w(j,E)},i.gzip=function(j,E){return(E=E||{}).gzip=!0,w(j,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),o=n("./utils/common"),c=n("./utils/strings"),d=n("./zlib/constants"),h=n("./zlib/messages"),f=n("./zlib/zstream"),p=n("./zlib/gzheader"),x=Object.prototype.toString;function g(v){if(!(this instanceof g))return new g(v);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},v||{});var w=this.options;w.raw&&0<=w.windowBits&&w.windowBits<16&&(w.windowBits=-w.windowBits,w.windowBits===0&&(w.windowBits=-15)),!(0<=w.windowBits&&w.windowBits<16)||v&&v.windowBits||(w.windowBits+=32),15<w.windowBits&&w.windowBits<48&&(15&w.windowBits)==0&&(w.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var j=a.inflateInit2(this.strm,w.windowBits);if(j!==d.Z_OK)throw new Error(h[j]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function b(v,w){var j=new g(w);if(j.push(v,!0),j.err)throw j.msg||h[j.err];return j.result}g.prototype.push=function(v,w){var j,E,T,D,M,J,F=this.strm,z=this.options.chunkSize,L=this.options.dictionary,H=!1;if(this.ended)return!1;E=w===~~w?w:w===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?F.input=c.binstring2buf(v):x.call(v)==="[object ArrayBuffer]"?F.input=new Uint8Array(v):F.input=v,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(z),F.next_out=0,F.avail_out=z),(j=a.inflate(F,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&L&&(J=typeof L=="string"?c.string2buf(L):x.call(L)==="[object ArrayBuffer]"?new Uint8Array(L):L,j=a.inflateSetDictionary(this.strm,J)),j===d.Z_BUF_ERROR&&H===!0&&(j=d.Z_OK,H=!1),j!==d.Z_STREAM_END&&j!==d.Z_OK)return this.onEnd(j),!(this.ended=!0);F.next_out&&(F.avail_out!==0&&j!==d.Z_STREAM_END&&(F.avail_in!==0||E!==d.Z_FINISH&&E!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=c.utf8border(F.output,F.next_out),D=F.next_out-T,M=c.buf2string(F.output,T),F.next_out=D,F.avail_out=z-D,D&&o.arraySet(F.output,F.output,T,D,0),this.onData(M)):this.onData(o.shrinkBuf(F.output,F.next_out)))),F.avail_in===0&&F.avail_out===0&&(H=!0)}while((0<F.avail_in||F.avail_out===0)&&j!==d.Z_STREAM_END);return j===d.Z_STREAM_END&&(E=d.Z_FINISH),E===d.Z_FINISH?(j=a.inflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===d.Z_OK):E!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(F.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=g,i.inflate=b,i.inflateRaw=function(v,w){return(w=w||{}).raw=!0,b(v,w)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])}}return d},i.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var o={arraySet:function(d,h,f,p,x){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+p),x);else for(var g=0;g<p;g++)d[x+g]=h[f+g]},flattenChunks:function(d){var h,f,p,x,g,b;for(h=p=0,f=d.length;h<f;h++)p+=d[h].length;for(b=new Uint8Array(p),h=x=0,f=d.length;h<f;h++)g=d[h],b.set(g,x),x+=g.length;return b}},c={arraySet:function(d,h,f,p,x){for(var g=0;g<p;g++)d[x+g]=h[f+g]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new a.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(p,x){if(x<65537&&(p.subarray&&c||!p.subarray&&o))return String.fromCharCode.apply(null,a.shrinkBuf(p,x));for(var g="",b=0;b<x;b++)g+=String.fromCharCode(p[b]);return g}d[254]=d[254]=1,i.string2buf=function(p){var x,g,b,v,w,j=p.length,E=0;for(v=0;v<j;v++)(64512&(g=p.charCodeAt(v)))==55296&&v+1<j&&(64512&(b=p.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),v++),E+=g<128?1:g<2048?2:g<65536?3:4;for(x=new a.Buf8(E),v=w=0;w<E;v++)(64512&(g=p.charCodeAt(v)))==55296&&v+1<j&&(64512&(b=p.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),v++),g<128?x[w++]=g:(g<2048?x[w++]=192|g>>>6:(g<65536?x[w++]=224|g>>>12:(x[w++]=240|g>>>18,x[w++]=128|g>>>12&63),x[w++]=128|g>>>6&63),x[w++]=128|63&g);return x},i.buf2binstring=function(p){return f(p,p.length)},i.binstring2buf=function(p){for(var x=new a.Buf8(p.length),g=0,b=x.length;g<b;g++)x[g]=p.charCodeAt(g);return x},i.buf2string=function(p,x){var g,b,v,w,j=x||p.length,E=new Array(2*j);for(g=b=0;g<j;)if((v=p[g++])<128)E[b++]=v;else if(4<(w=d[v]))E[b++]=65533,g+=w-1;else{for(v&=w===2?31:w===3?15:7;1<w&&g<j;)v=v<<6|63&p[g++],w--;1<w?E[b++]=65533:v<65536?E[b++]=v:(v-=65536,E[b++]=55296|v>>10&1023,E[b++]=56320|1023&v)}return f(E,b)},i.utf8border=function(p,x){var g;for((x=x||p.length)>p.length&&(x=p.length),g=x-1;0<=g&&(192&p[g])==128;)g--;return g<0||g===0?x:g+d[p[g]]>x?g:x}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,o,c,d){for(var h=65535&a|0,f=a>>>16&65535|0,p=0;c!==0;){for(c-=p=2e3<c?2e3:c;f=f+(h=h+o[d++]|0)|0,--p;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=(function(){for(var o,c=[],d=0;d<256;d++){o=d;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[d]=o}return c})();r.exports=function(o,c,d,h){var f=a,p=h+d;o^=-1;for(var x=h;x<p;x++)o=o>>>8^f[255&(o^c[x])];return-1^o}},{}],46:[function(n,r,i){var a,o=n("../utils/common"),c=n("./trees"),d=n("./adler32"),h=n("./crc32"),f=n("./messages"),p=0,x=4,g=0,b=-2,v=-1,w=4,j=2,E=8,T=9,D=286,M=30,J=19,F=2*D+1,z=15,L=3,H=258,P=H+L+1,I=42,U=113,k=1,le=2,G=3,W=4;function ie(q,ae){return q.msg=f[ae],ae}function se(q){return(q<<1)-(4<q?9:0)}function Se(q){for(var ae=q.length;0<=--ae;)q[ae]=0}function X(q){var ae=q.state,ke=ae.pending;ke>q.avail_out&&(ke=q.avail_out),ke!==0&&(o.arraySet(q.output,ae.pending_buf,ae.pending_out,ke,q.next_out),q.next_out+=ke,ae.pending_out+=ke,q.total_out+=ke,q.avail_out-=ke,ae.pending-=ke,ae.pending===0&&(ae.pending_out=0))}function O(q,ae){c._tr_flush_block(q,0<=q.block_start?q.block_start:-1,q.strstart-q.block_start,ae),q.block_start=q.strstart,X(q.strm)}function K(q,ae){q.pending_buf[q.pending++]=ae}function te(q,ae){q.pending_buf[q.pending++]=ae>>>8&255,q.pending_buf[q.pending++]=255&ae}function ee(q,ae){var ke,ye,he=q.max_chain_length,ve=q.strstart,De=q.prev_length,Le=q.nice_match,Ie=q.strstart>q.w_size-P?q.strstart-(q.w_size-P):0,Ke=q.window,at=q.w_mask,Xe=q.prev,ht=q.strstart+H,Tt=Ke[ve+De-1],bt=Ke[ve+De];q.prev_length>=q.good_match&&(he>>=2),Le>q.lookahead&&(Le=q.lookahead);do if(Ke[(ke=ae)+De]===bt&&Ke[ke+De-1]===Tt&&Ke[ke]===Ke[ve]&&Ke[++ke]===Ke[ve+1]){ve+=2,ke++;do;while(Ke[++ve]===Ke[++ke]&&Ke[++ve]===Ke[++ke]&&Ke[++ve]===Ke[++ke]&&Ke[++ve]===Ke[++ke]&&Ke[++ve]===Ke[++ke]&&Ke[++ve]===Ke[++ke]&&Ke[++ve]===Ke[++ke]&&Ke[++ve]===Ke[++ke]&&ve<ht);if(ye=H-(ht-ve),ve=ht-H,De<ye){if(q.match_start=ae,Le<=(De=ye))break;Tt=Ke[ve+De-1],bt=Ke[ve+De]}}while((ae=Xe[ae&at])>Ie&&--he!=0);return De<=q.lookahead?De:q.lookahead}function xe(q){var ae,ke,ye,he,ve,De,Le,Ie,Ke,at,Xe=q.w_size;do{if(he=q.window_size-q.lookahead-q.strstart,q.strstart>=Xe+(Xe-P)){for(o.arraySet(q.window,q.window,Xe,Xe,0),q.match_start-=Xe,q.strstart-=Xe,q.block_start-=Xe,ae=ke=q.hash_size;ye=q.head[--ae],q.head[ae]=Xe<=ye?ye-Xe:0,--ke;);for(ae=ke=Xe;ye=q.prev[--ae],q.prev[ae]=Xe<=ye?ye-Xe:0,--ke;);he+=Xe}if(q.strm.avail_in===0)break;if(De=q.strm,Le=q.window,Ie=q.strstart+q.lookahead,Ke=he,at=void 0,at=De.avail_in,Ke<at&&(at=Ke),ke=at===0?0:(De.avail_in-=at,o.arraySet(Le,De.input,De.next_in,at,Ie),De.state.wrap===1?De.adler=d(De.adler,Le,at,Ie):De.state.wrap===2&&(De.adler=h(De.adler,Le,at,Ie)),De.next_in+=at,De.total_in+=at,at),q.lookahead+=ke,q.lookahead+q.insert>=L)for(ve=q.strstart-q.insert,q.ins_h=q.window[ve],q.ins_h=(q.ins_h<<q.hash_shift^q.window[ve+1])&q.hash_mask;q.insert&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[ve+L-1])&q.hash_mask,q.prev[ve&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=ve,ve++,q.insert--,!(q.lookahead+q.insert<L)););}while(q.lookahead<P&&q.strm.avail_in!==0)}function be(q,ae){for(var ke,ye;;){if(q.lookahead<P){if(xe(q),q.lookahead<P&&ae===p)return k;if(q.lookahead===0)break}if(ke=0,q.lookahead>=L&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+L-1])&q.hash_mask,ke=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),ke!==0&&q.strstart-ke<=q.w_size-P&&(q.match_length=ee(q,ke)),q.match_length>=L)if(ye=c._tr_tally(q,q.strstart-q.match_start,q.match_length-L),q.lookahead-=q.match_length,q.match_length<=q.max_lazy_match&&q.lookahead>=L){for(q.match_length--;q.strstart++,q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+L-1])&q.hash_mask,ke=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart,--q.match_length!=0;);q.strstart++}else q.strstart+=q.match_length,q.match_length=0,q.ins_h=q.window[q.strstart],q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+1])&q.hash_mask;else ye=c._tr_tally(q,0,q.window[q.strstart]),q.lookahead--,q.strstart++;if(ye&&(O(q,!1),q.strm.avail_out===0))return k}return q.insert=q.strstart<L-1?q.strstart:L-1,ae===x?(O(q,!0),q.strm.avail_out===0?G:W):q.last_lit&&(O(q,!1),q.strm.avail_out===0)?k:le}function oe(q,ae){for(var ke,ye,he;;){if(q.lookahead<P){if(xe(q),q.lookahead<P&&ae===p)return k;if(q.lookahead===0)break}if(ke=0,q.lookahead>=L&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+L-1])&q.hash_mask,ke=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),q.prev_length=q.match_length,q.prev_match=q.match_start,q.match_length=L-1,ke!==0&&q.prev_length<q.max_lazy_match&&q.strstart-ke<=q.w_size-P&&(q.match_length=ee(q,ke),q.match_length<=5&&(q.strategy===1||q.match_length===L&&4096<q.strstart-q.match_start)&&(q.match_length=L-1)),q.prev_length>=L&&q.match_length<=q.prev_length){for(he=q.strstart+q.lookahead-L,ye=c._tr_tally(q,q.strstart-1-q.prev_match,q.prev_length-L),q.lookahead-=q.prev_length-1,q.prev_length-=2;++q.strstart<=he&&(q.ins_h=(q.ins_h<<q.hash_shift^q.window[q.strstart+L-1])&q.hash_mask,ke=q.prev[q.strstart&q.w_mask]=q.head[q.ins_h],q.head[q.ins_h]=q.strstart),--q.prev_length!=0;);if(q.match_available=0,q.match_length=L-1,q.strstart++,ye&&(O(q,!1),q.strm.avail_out===0))return k}else if(q.match_available){if((ye=c._tr_tally(q,0,q.window[q.strstart-1]))&&O(q,!1),q.strstart++,q.lookahead--,q.strm.avail_out===0)return k}else q.match_available=1,q.strstart++,q.lookahead--}return q.match_available&&(ye=c._tr_tally(q,0,q.window[q.strstart-1]),q.match_available=0),q.insert=q.strstart<L-1?q.strstart:L-1,ae===x?(O(q,!0),q.strm.avail_out===0?G:W):q.last_lit&&(O(q,!1),q.strm.avail_out===0)?k:le}function fe(q,ae,ke,ye,he){this.good_length=q,this.max_lazy=ae,this.nice_length=ke,this.max_chain=ye,this.func=he}function Ee(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*F),this.dyn_dtree=new o.Buf16(2*(2*M+1)),this.bl_tree=new o.Buf16(2*(2*J+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(z+1),this.heap=new o.Buf16(2*D+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*D+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Be(q){var ae;return q&&q.state?(q.total_in=q.total_out=0,q.data_type=j,(ae=q.state).pending=0,ae.pending_out=0,ae.wrap<0&&(ae.wrap=-ae.wrap),ae.status=ae.wrap?I:U,q.adler=ae.wrap===2?0:1,ae.last_flush=p,c._tr_init(ae),g):ie(q,b)}function Pe(q){var ae=Be(q);return ae===g&&(function(ke){ke.window_size=2*ke.w_size,Se(ke.head),ke.max_lazy_match=a[ke.level].max_lazy,ke.good_match=a[ke.level].good_length,ke.nice_match=a[ke.level].nice_length,ke.max_chain_length=a[ke.level].max_chain,ke.strstart=0,ke.block_start=0,ke.lookahead=0,ke.insert=0,ke.match_length=ke.prev_length=L-1,ke.match_available=0,ke.ins_h=0})(q.state),ae}function ct(q,ae,ke,ye,he,ve){if(!q)return b;var De=1;if(ae===v&&(ae=6),ye<0?(De=0,ye=-ye):15<ye&&(De=2,ye-=16),he<1||T<he||ke!==E||ye<8||15<ye||ae<0||9<ae||ve<0||w<ve)return ie(q,b);ye===8&&(ye=9);var Le=new Ee;return(q.state=Le).strm=q,Le.wrap=De,Le.gzhead=null,Le.w_bits=ye,Le.w_size=1<<Le.w_bits,Le.w_mask=Le.w_size-1,Le.hash_bits=he+7,Le.hash_size=1<<Le.hash_bits,Le.hash_mask=Le.hash_size-1,Le.hash_shift=~~((Le.hash_bits+L-1)/L),Le.window=new o.Buf8(2*Le.w_size),Le.head=new o.Buf16(Le.hash_size),Le.prev=new o.Buf16(Le.w_size),Le.lit_bufsize=1<<he+6,Le.pending_buf_size=4*Le.lit_bufsize,Le.pending_buf=new o.Buf8(Le.pending_buf_size),Le.d_buf=1*Le.lit_bufsize,Le.l_buf=3*Le.lit_bufsize,Le.level=ae,Le.strategy=ve,Le.method=ke,Pe(q)}a=[new fe(0,0,0,0,function(q,ae){var ke=65535;for(ke>q.pending_buf_size-5&&(ke=q.pending_buf_size-5);;){if(q.lookahead<=1){if(xe(q),q.lookahead===0&&ae===p)return k;if(q.lookahead===0)break}q.strstart+=q.lookahead,q.lookahead=0;var ye=q.block_start+ke;if((q.strstart===0||q.strstart>=ye)&&(q.lookahead=q.strstart-ye,q.strstart=ye,O(q,!1),q.strm.avail_out===0)||q.strstart-q.block_start>=q.w_size-P&&(O(q,!1),q.strm.avail_out===0))return k}return q.insert=0,ae===x?(O(q,!0),q.strm.avail_out===0?G:W):(q.strstart>q.block_start&&(O(q,!1),q.strm.avail_out),k)}),new fe(4,4,8,4,be),new fe(4,5,16,8,be),new fe(4,6,32,32,be),new fe(4,4,16,16,oe),new fe(8,16,32,32,oe),new fe(8,16,128,128,oe),new fe(8,32,128,256,oe),new fe(32,128,258,1024,oe),new fe(32,258,258,4096,oe)],i.deflateInit=function(q,ae){return ct(q,ae,E,15,8,0)},i.deflateInit2=ct,i.deflateReset=Pe,i.deflateResetKeep=Be,i.deflateSetHeader=function(q,ae){return q&&q.state?q.state.wrap!==2?b:(q.state.gzhead=ae,g):b},i.deflate=function(q,ae){var ke,ye,he,ve;if(!q||!q.state||5<ae||ae<0)return q?ie(q,b):b;if(ye=q.state,!q.output||!q.input&&q.avail_in!==0||ye.status===666&&ae!==x)return ie(q,q.avail_out===0?-5:b);if(ye.strm=q,ke=ye.last_flush,ye.last_flush=ae,ye.status===I)if(ye.wrap===2)q.adler=0,K(ye,31),K(ye,139),K(ye,8),ye.gzhead?(K(ye,(ye.gzhead.text?1:0)+(ye.gzhead.hcrc?2:0)+(ye.gzhead.extra?4:0)+(ye.gzhead.name?8:0)+(ye.gzhead.comment?16:0)),K(ye,255&ye.gzhead.time),K(ye,ye.gzhead.time>>8&255),K(ye,ye.gzhead.time>>16&255),K(ye,ye.gzhead.time>>24&255),K(ye,ye.level===9?2:2<=ye.strategy||ye.level<2?4:0),K(ye,255&ye.gzhead.os),ye.gzhead.extra&&ye.gzhead.extra.length&&(K(ye,255&ye.gzhead.extra.length),K(ye,ye.gzhead.extra.length>>8&255)),ye.gzhead.hcrc&&(q.adler=h(q.adler,ye.pending_buf,ye.pending,0)),ye.gzindex=0,ye.status=69):(K(ye,0),K(ye,0),K(ye,0),K(ye,0),K(ye,0),K(ye,ye.level===9?2:2<=ye.strategy||ye.level<2?4:0),K(ye,3),ye.status=U);else{var De=E+(ye.w_bits-8<<4)<<8;De|=(2<=ye.strategy||ye.level<2?0:ye.level<6?1:ye.level===6?2:3)<<6,ye.strstart!==0&&(De|=32),De+=31-De%31,ye.status=U,te(ye,De),ye.strstart!==0&&(te(ye,q.adler>>>16),te(ye,65535&q.adler)),q.adler=1}if(ye.status===69)if(ye.gzhead.extra){for(he=ye.pending;ye.gzindex<(65535&ye.gzhead.extra.length)&&(ye.pending!==ye.pending_buf_size||(ye.gzhead.hcrc&&ye.pending>he&&(q.adler=h(q.adler,ye.pending_buf,ye.pending-he,he)),X(q),he=ye.pending,ye.pending!==ye.pending_buf_size));)K(ye,255&ye.gzhead.extra[ye.gzindex]),ye.gzindex++;ye.gzhead.hcrc&&ye.pending>he&&(q.adler=h(q.adler,ye.pending_buf,ye.pending-he,he)),ye.gzindex===ye.gzhead.extra.length&&(ye.gzindex=0,ye.status=73)}else ye.status=73;if(ye.status===73)if(ye.gzhead.name){he=ye.pending;do{if(ye.pending===ye.pending_buf_size&&(ye.gzhead.hcrc&&ye.pending>he&&(q.adler=h(q.adler,ye.pending_buf,ye.pending-he,he)),X(q),he=ye.pending,ye.pending===ye.pending_buf_size)){ve=1;break}ve=ye.gzindex<ye.gzhead.name.length?255&ye.gzhead.name.charCodeAt(ye.gzindex++):0,K(ye,ve)}while(ve!==0);ye.gzhead.hcrc&&ye.pending>he&&(q.adler=h(q.adler,ye.pending_buf,ye.pending-he,he)),ve===0&&(ye.gzindex=0,ye.status=91)}else ye.status=91;if(ye.status===91)if(ye.gzhead.comment){he=ye.pending;do{if(ye.pending===ye.pending_buf_size&&(ye.gzhead.hcrc&&ye.pending>he&&(q.adler=h(q.adler,ye.pending_buf,ye.pending-he,he)),X(q),he=ye.pending,ye.pending===ye.pending_buf_size)){ve=1;break}ve=ye.gzindex<ye.gzhead.comment.length?255&ye.gzhead.comment.charCodeAt(ye.gzindex++):0,K(ye,ve)}while(ve!==0);ye.gzhead.hcrc&&ye.pending>he&&(q.adler=h(q.adler,ye.pending_buf,ye.pending-he,he)),ve===0&&(ye.status=103)}else ye.status=103;if(ye.status===103&&(ye.gzhead.hcrc?(ye.pending+2>ye.pending_buf_size&&X(q),ye.pending+2<=ye.pending_buf_size&&(K(ye,255&q.adler),K(ye,q.adler>>8&255),q.adler=0,ye.status=U)):ye.status=U),ye.pending!==0){if(X(q),q.avail_out===0)return ye.last_flush=-1,g}else if(q.avail_in===0&&se(ae)<=se(ke)&&ae!==x)return ie(q,-5);if(ye.status===666&&q.avail_in!==0)return ie(q,-5);if(q.avail_in!==0||ye.lookahead!==0||ae!==p&&ye.status!==666){var Le=ye.strategy===2?(function(Ie,Ke){for(var at;;){if(Ie.lookahead===0&&(xe(Ie),Ie.lookahead===0)){if(Ke===p)return k;break}if(Ie.match_length=0,at=c._tr_tally(Ie,0,Ie.window[Ie.strstart]),Ie.lookahead--,Ie.strstart++,at&&(O(Ie,!1),Ie.strm.avail_out===0))return k}return Ie.insert=0,Ke===x?(O(Ie,!0),Ie.strm.avail_out===0?G:W):Ie.last_lit&&(O(Ie,!1),Ie.strm.avail_out===0)?k:le})(ye,ae):ye.strategy===3?(function(Ie,Ke){for(var at,Xe,ht,Tt,bt=Ie.window;;){if(Ie.lookahead<=H){if(xe(Ie),Ie.lookahead<=H&&Ke===p)return k;if(Ie.lookahead===0)break}if(Ie.match_length=0,Ie.lookahead>=L&&0<Ie.strstart&&(Xe=bt[ht=Ie.strstart-1])===bt[++ht]&&Xe===bt[++ht]&&Xe===bt[++ht]){Tt=Ie.strstart+H;do;while(Xe===bt[++ht]&&Xe===bt[++ht]&&Xe===bt[++ht]&&Xe===bt[++ht]&&Xe===bt[++ht]&&Xe===bt[++ht]&&Xe===bt[++ht]&&Xe===bt[++ht]&&ht<Tt);Ie.match_length=H-(Tt-ht),Ie.match_length>Ie.lookahead&&(Ie.match_length=Ie.lookahead)}if(Ie.match_length>=L?(at=c._tr_tally(Ie,1,Ie.match_length-L),Ie.lookahead-=Ie.match_length,Ie.strstart+=Ie.match_length,Ie.match_length=0):(at=c._tr_tally(Ie,0,Ie.window[Ie.strstart]),Ie.lookahead--,Ie.strstart++),at&&(O(Ie,!1),Ie.strm.avail_out===0))return k}return Ie.insert=0,Ke===x?(O(Ie,!0),Ie.strm.avail_out===0?G:W):Ie.last_lit&&(O(Ie,!1),Ie.strm.avail_out===0)?k:le})(ye,ae):a[ye.level].func(ye,ae);if(Le!==G&&Le!==W||(ye.status=666),Le===k||Le===G)return q.avail_out===0&&(ye.last_flush=-1),g;if(Le===le&&(ae===1?c._tr_align(ye):ae!==5&&(c._tr_stored_block(ye,0,0,!1),ae===3&&(Se(ye.head),ye.lookahead===0&&(ye.strstart=0,ye.block_start=0,ye.insert=0))),X(q),q.avail_out===0))return ye.last_flush=-1,g}return ae!==x?g:ye.wrap<=0?1:(ye.wrap===2?(K(ye,255&q.adler),K(ye,q.adler>>8&255),K(ye,q.adler>>16&255),K(ye,q.adler>>24&255),K(ye,255&q.total_in),K(ye,q.total_in>>8&255),K(ye,q.total_in>>16&255),K(ye,q.total_in>>24&255)):(te(ye,q.adler>>>16),te(ye,65535&q.adler)),X(q),0<ye.wrap&&(ye.wrap=-ye.wrap),ye.pending!==0?g:1)},i.deflateEnd=function(q){var ae;return q&&q.state?(ae=q.state.status)!==I&&ae!==69&&ae!==73&&ae!==91&&ae!==103&&ae!==U&&ae!==666?ie(q,b):(q.state=null,ae===U?ie(q,-3):g):b},i.deflateSetDictionary=function(q,ae){var ke,ye,he,ve,De,Le,Ie,Ke,at=ae.length;if(!q||!q.state||(ve=(ke=q.state).wrap)===2||ve===1&&ke.status!==I||ke.lookahead)return b;for(ve===1&&(q.adler=d(q.adler,ae,at,0)),ke.wrap=0,at>=ke.w_size&&(ve===0&&(Se(ke.head),ke.strstart=0,ke.block_start=0,ke.insert=0),Ke=new o.Buf8(ke.w_size),o.arraySet(Ke,ae,at-ke.w_size,ke.w_size,0),ae=Ke,at=ke.w_size),De=q.avail_in,Le=q.next_in,Ie=q.input,q.avail_in=at,q.next_in=0,q.input=ae,xe(ke);ke.lookahead>=L;){for(ye=ke.strstart,he=ke.lookahead-(L-1);ke.ins_h=(ke.ins_h<<ke.hash_shift^ke.window[ye+L-1])&ke.hash_mask,ke.prev[ye&ke.w_mask]=ke.head[ke.ins_h],ke.head[ke.ins_h]=ye,ye++,--he;);ke.strstart=ye,ke.lookahead=L-1,xe(ke)}return ke.strstart+=ke.lookahead,ke.block_start=ke.strstart,ke.insert=ke.lookahead,ke.lookahead=0,ke.match_length=ke.prev_length=L-1,ke.match_available=0,q.next_in=Le,q.input=Ie,q.avail_in=De,ke.wrap=ve,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,o){var c,d,h,f,p,x,g,b,v,w,j,E,T,D,M,J,F,z,L,H,P,I,U,k,le;c=a.state,d=a.next_in,k=a.input,h=d+(a.avail_in-5),f=a.next_out,le=a.output,p=f-(o-a.avail_out),x=f+(a.avail_out-257),g=c.dmax,b=c.wsize,v=c.whave,w=c.wnext,j=c.window,E=c.hold,T=c.bits,D=c.lencode,M=c.distcode,J=(1<<c.lenbits)-1,F=(1<<c.distbits)-1;e:do{T<15&&(E+=k[d++]<<T,T+=8,E+=k[d++]<<T,T+=8),z=D[E&J];t:for(;;){if(E>>>=L=z>>>24,T-=L,(L=z>>>16&255)===0)le[f++]=65535&z;else{if(!(16&L)){if((64&L)==0){z=D[(65535&z)+(E&(1<<L)-1)];continue t}if(32&L){c.mode=12;break e}a.msg="invalid literal/length code",c.mode=30;break e}H=65535&z,(L&=15)&&(T<L&&(E+=k[d++]<<T,T+=8),H+=E&(1<<L)-1,E>>>=L,T-=L),T<15&&(E+=k[d++]<<T,T+=8,E+=k[d++]<<T,T+=8),z=M[E&F];n:for(;;){if(E>>>=L=z>>>24,T-=L,!(16&(L=z>>>16&255))){if((64&L)==0){z=M[(65535&z)+(E&(1<<L)-1)];continue n}a.msg="invalid distance code",c.mode=30;break e}if(P=65535&z,T<(L&=15)&&(E+=k[d++]<<T,(T+=8)<L&&(E+=k[d++]<<T,T+=8)),g<(P+=E&(1<<L)-1)){a.msg="invalid distance too far back",c.mode=30;break e}if(E>>>=L,T-=L,(L=f-p)<P){if(v<(L=P-L)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break e}if(U=j,(I=0)===w){if(I+=b-L,L<H){for(H-=L;le[f++]=j[I++],--L;);I=f-P,U=le}}else if(w<L){if(I+=b+w-L,(L-=w)<H){for(H-=L;le[f++]=j[I++],--L;);if(I=0,w<H){for(H-=L=w;le[f++]=j[I++],--L;);I=f-P,U=le}}}else if(I+=w-L,L<H){for(H-=L;le[f++]=j[I++],--L;);I=f-P,U=le}for(;2<H;)le[f++]=U[I++],le[f++]=U[I++],le[f++]=U[I++],H-=3;H&&(le[f++]=U[I++],1<H&&(le[f++]=U[I++]))}else{for(I=f-P;le[f++]=le[I++],le[f++]=le[I++],le[f++]=le[I++],2<(H-=3););H&&(le[f++]=le[I++],1<H&&(le[f++]=le[I++]))}break}}break}}while(d<h&&f<x);d-=H=T>>3,E&=(1<<(T-=H<<3))-1,a.next_in=d,a.next_out=f,a.avail_in=d<h?h-d+5:5-(d-h),a.avail_out=f<x?x-f+257:257-(f-x),c.hold=E,c.bits=T}},{}],49:[function(n,r,i){var a=n("../utils/common"),o=n("./adler32"),c=n("./crc32"),d=n("./inffast"),h=n("./inftrees"),f=1,p=2,x=0,g=-2,b=1,v=852,w=592;function j(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(I){var U;return I&&I.state?(U=I.state,I.total_in=I.total_out=U.total=0,I.msg="",U.wrap&&(I.adler=1&U.wrap),U.mode=b,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new a.Buf32(v),U.distcode=U.distdyn=new a.Buf32(w),U.sane=1,U.back=-1,x):g}function D(I){var U;return I&&I.state?((U=I.state).wsize=0,U.whave=0,U.wnext=0,T(I)):g}function M(I,U){var k,le;return I&&I.state?(le=I.state,U<0?(k=0,U=-U):(k=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?g:(le.window!==null&&le.wbits!==U&&(le.window=null),le.wrap=k,le.wbits=U,D(I))):g}function J(I,U){var k,le;return I?(le=new E,(I.state=le).window=null,(k=M(I,U))!==x&&(I.state=null),k):g}var F,z,L=!0;function H(I){if(L){var U;for(F=new a.Buf32(512),z=new a.Buf32(32),U=0;U<144;)I.lens[U++]=8;for(;U<256;)I.lens[U++]=9;for(;U<280;)I.lens[U++]=7;for(;U<288;)I.lens[U++]=8;for(h(f,I.lens,0,288,F,0,I.work,{bits:9}),U=0;U<32;)I.lens[U++]=5;h(p,I.lens,0,32,z,0,I.work,{bits:5}),L=!1}I.lencode=F,I.lenbits=9,I.distcode=z,I.distbits=5}function P(I,U,k,le){var G,W=I.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new a.Buf8(W.wsize)),le>=W.wsize?(a.arraySet(W.window,U,k-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(le<(G=W.wsize-W.wnext)&&(G=le),a.arraySet(W.window,U,k-le,G,W.wnext),(le-=G)?(a.arraySet(W.window,U,k-le,le,0),W.wnext=le,W.whave=W.wsize):(W.wnext+=G,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=G))),0}i.inflateReset=D,i.inflateReset2=M,i.inflateResetKeep=T,i.inflateInit=function(I){return J(I,15)},i.inflateInit2=J,i.inflate=function(I,U){var k,le,G,W,ie,se,Se,X,O,K,te,ee,xe,be,oe,fe,Ee,Be,Pe,ct,q,ae,ke,ye,he=0,ve=new a.Buf8(4),De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return g;(k=I.state).mode===12&&(k.mode=13),ie=I.next_out,G=I.output,Se=I.avail_out,W=I.next_in,le=I.input,se=I.avail_in,X=k.hold,O=k.bits,K=se,te=Se,ae=x;e:for(;;)switch(k.mode){case b:if(k.wrap===0){k.mode=13;break}for(;O<16;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if(2&k.wrap&&X===35615){ve[k.check=0]=255&X,ve[1]=X>>>8&255,k.check=c(k.check,ve,2,0),O=X=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&X)<<8)+(X>>8))%31){I.msg="incorrect header check",k.mode=30;break}if((15&X)!=8){I.msg="unknown compression method",k.mode=30;break}if(O-=4,q=8+(15&(X>>>=4)),k.wbits===0)k.wbits=q;else if(q>k.wbits){I.msg="invalid window size",k.mode=30;break}k.dmax=1<<q,I.adler=k.check=1,k.mode=512&X?10:12,O=X=0;break;case 2:for(;O<16;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if(k.flags=X,(255&k.flags)!=8){I.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){I.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=X>>8&1),512&k.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,k.check=c(k.check,ve,2,0)),O=X=0,k.mode=3;case 3:for(;O<32;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}k.head&&(k.head.time=X),512&k.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,ve[2]=X>>>16&255,ve[3]=X>>>24&255,k.check=c(k.check,ve,4,0)),O=X=0,k.mode=4;case 4:for(;O<16;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}k.head&&(k.head.xflags=255&X,k.head.os=X>>8),512&k.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,k.check=c(k.check,ve,2,0)),O=X=0,k.mode=5;case 5:if(1024&k.flags){for(;O<16;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}k.length=X,k.head&&(k.head.extra_len=X),512&k.flags&&(ve[0]=255&X,ve[1]=X>>>8&255,k.check=c(k.check,ve,2,0)),O=X=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(se<(ee=k.length)&&(ee=se),ee&&(k.head&&(q=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,le,W,ee,q)),512&k.flags&&(k.check=c(k.check,le,ee,W)),se-=ee,W+=ee,k.length-=ee),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(se===0)break e;for(ee=0;q=le[W+ee++],k.head&&q&&k.length<65536&&(k.head.name+=String.fromCharCode(q)),q&&ee<se;);if(512&k.flags&&(k.check=c(k.check,le,ee,W)),se-=ee,W+=ee,q)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(se===0)break e;for(ee=0;q=le[W+ee++],k.head&&q&&k.length<65536&&(k.head.comment+=String.fromCharCode(q)),q&&ee<se;);if(512&k.flags&&(k.check=c(k.check,le,ee,W)),se-=ee,W+=ee,q)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;O<16;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if(X!==(65535&k.check)){I.msg="header crc mismatch",k.mode=30;break}O=X=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),I.adler=k.check=0,k.mode=12;break;case 10:for(;O<32;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}I.adler=k.check=j(X),O=X=0,k.mode=11;case 11:if(k.havedict===0)return I.next_out=ie,I.avail_out=Se,I.next_in=W,I.avail_in=se,k.hold=X,k.bits=O,2;I.adler=k.check=1,k.mode=12;case 12:if(U===5||U===6)break e;case 13:if(k.last){X>>>=7&O,O-=7&O,k.mode=27;break}for(;O<3;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}switch(k.last=1&X,O-=1,3&(X>>>=1)){case 0:k.mode=14;break;case 1:if(H(k),k.mode=20,U!==6)break;X>>>=2,O-=2;break e;case 2:k.mode=17;break;case 3:I.msg="invalid block type",k.mode=30}X>>>=2,O-=2;break;case 14:for(X>>>=7&O,O-=7&O;O<32;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if((65535&X)!=(X>>>16^65535)){I.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&X,O=X=0,k.mode=15,U===6)break e;case 15:k.mode=16;case 16:if(ee=k.length){if(se<ee&&(ee=se),Se<ee&&(ee=Se),ee===0)break e;a.arraySet(G,le,W,ee,ie),se-=ee,W+=ee,Se-=ee,ie+=ee,k.length-=ee;break}k.mode=12;break;case 17:for(;O<14;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if(k.nlen=257+(31&X),X>>>=5,O-=5,k.ndist=1+(31&X),X>>>=5,O-=5,k.ncode=4+(15&X),X>>>=4,O-=4,286<k.nlen||30<k.ndist){I.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;O<3;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}k.lens[De[k.have++]]=7&X,X>>>=3,O-=3}for(;k.have<19;)k.lens[De[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,ke={bits:k.lenbits},ae=h(0,k.lens,0,19,k.lencode,0,k.work,ke),k.lenbits=ke.bits,ae){I.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;fe=(he=k.lencode[X&(1<<k.lenbits)-1])>>>16&255,Ee=65535&he,!((oe=he>>>24)<=O);){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if(Ee<16)X>>>=oe,O-=oe,k.lens[k.have++]=Ee;else{if(Ee===16){for(ye=oe+2;O<ye;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if(X>>>=oe,O-=oe,k.have===0){I.msg="invalid bit length repeat",k.mode=30;break}q=k.lens[k.have-1],ee=3+(3&X),X>>>=2,O-=2}else if(Ee===17){for(ye=oe+3;O<ye;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}O-=oe,q=0,ee=3+(7&(X>>>=oe)),X>>>=3,O-=3}else{for(ye=oe+7;O<ye;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}O-=oe,q=0,ee=11+(127&(X>>>=oe)),X>>>=7,O-=7}if(k.have+ee>k.nlen+k.ndist){I.msg="invalid bit length repeat",k.mode=30;break}for(;ee--;)k.lens[k.have++]=q}}if(k.mode===30)break;if(k.lens[256]===0){I.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,ke={bits:k.lenbits},ae=h(f,k.lens,0,k.nlen,k.lencode,0,k.work,ke),k.lenbits=ke.bits,ae){I.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,ke={bits:k.distbits},ae=h(p,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,ke),k.distbits=ke.bits,ae){I.msg="invalid distances set",k.mode=30;break}if(k.mode=20,U===6)break e;case 20:k.mode=21;case 21:if(6<=se&&258<=Se){I.next_out=ie,I.avail_out=Se,I.next_in=W,I.avail_in=se,k.hold=X,k.bits=O,d(I,te),ie=I.next_out,G=I.output,Se=I.avail_out,W=I.next_in,le=I.input,se=I.avail_in,X=k.hold,O=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;fe=(he=k.lencode[X&(1<<k.lenbits)-1])>>>16&255,Ee=65535&he,!((oe=he>>>24)<=O);){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if(fe&&(240&fe)==0){for(Be=oe,Pe=fe,ct=Ee;fe=(he=k.lencode[ct+((X&(1<<Be+Pe)-1)>>Be)])>>>16&255,Ee=65535&he,!(Be+(oe=he>>>24)<=O);){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}X>>>=Be,O-=Be,k.back+=Be}if(X>>>=oe,O-=oe,k.back+=oe,k.length=Ee,fe===0){k.mode=26;break}if(32&fe){k.back=-1,k.mode=12;break}if(64&fe){I.msg="invalid literal/length code",k.mode=30;break}k.extra=15&fe,k.mode=22;case 22:if(k.extra){for(ye=k.extra;O<ye;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}k.length+=X&(1<<k.extra)-1,X>>>=k.extra,O-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;fe=(he=k.distcode[X&(1<<k.distbits)-1])>>>16&255,Ee=65535&he,!((oe=he>>>24)<=O);){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if((240&fe)==0){for(Be=oe,Pe=fe,ct=Ee;fe=(he=k.distcode[ct+((X&(1<<Be+Pe)-1)>>Be)])>>>16&255,Ee=65535&he,!(Be+(oe=he>>>24)<=O);){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}X>>>=Be,O-=Be,k.back+=Be}if(X>>>=oe,O-=oe,k.back+=oe,64&fe){I.msg="invalid distance code",k.mode=30;break}k.offset=Ee,k.extra=15&fe,k.mode=24;case 24:if(k.extra){for(ye=k.extra;O<ye;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}k.offset+=X&(1<<k.extra)-1,X>>>=k.extra,O-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){I.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(Se===0)break e;if(ee=te-Se,k.offset>ee){if((ee=k.offset-ee)>k.whave&&k.sane){I.msg="invalid distance too far back",k.mode=30;break}xe=ee>k.wnext?(ee-=k.wnext,k.wsize-ee):k.wnext-ee,ee>k.length&&(ee=k.length),be=k.window}else be=G,xe=ie-k.offset,ee=k.length;for(Se<ee&&(ee=Se),Se-=ee,k.length-=ee;G[ie++]=be[xe++],--ee;);k.length===0&&(k.mode=21);break;case 26:if(Se===0)break e;G[ie++]=k.length,Se--,k.mode=21;break;case 27:if(k.wrap){for(;O<32;){if(se===0)break e;se--,X|=le[W++]<<O,O+=8}if(te-=Se,I.total_out+=te,k.total+=te,te&&(I.adler=k.check=k.flags?c(k.check,G,te,ie-te):o(k.check,G,te,ie-te)),te=Se,(k.flags?X:j(X))!==k.check){I.msg="incorrect data check",k.mode=30;break}O=X=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;O<32;){if(se===0)break e;se--,X+=le[W++]<<O,O+=8}if(X!==(4294967295&k.total)){I.msg="incorrect length check",k.mode=30;break}O=X=0}k.mode=29;case 29:ae=1;break e;case 30:ae=-3;break e;case 31:return-4;case 32:default:return g}return I.next_out=ie,I.avail_out=Se,I.next_in=W,I.avail_in=se,k.hold=X,k.bits=O,(k.wsize||te!==I.avail_out&&k.mode<30&&(k.mode<27||U!==4))&&P(I,I.output,I.next_out,te-I.avail_out)?(k.mode=31,-4):(K-=I.avail_in,te-=I.avail_out,I.total_in+=K,I.total_out+=te,k.total+=te,k.wrap&&te&&(I.adler=k.check=k.flags?c(k.check,G,te,I.next_out-te):o(k.check,G,te,I.next_out-te)),I.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(K==0&&te===0||U===4)&&ae===x&&(ae=-5),ae)},i.inflateEnd=function(I){if(!I||!I.state)return g;var U=I.state;return U.window&&(U.window=null),I.state=null,x},i.inflateGetHeader=function(I,U){var k;return I&&I.state?(2&(k=I.state).wrap)==0?g:((k.head=U).done=!1,x):g},i.inflateSetDictionary=function(I,U){var k,le=U.length;return I&&I.state?(k=I.state).wrap!==0&&k.mode!==11?g:k.mode===11&&o(1,U,le,0)!==k.check?-3:P(I,U,le,le)?(k.mode=31,-4):(k.havedict=1,x):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,p,x,g,b,v,w,j){var E,T,D,M,J,F,z,L,H,P=j.bits,I=0,U=0,k=0,le=0,G=0,W=0,ie=0,se=0,Se=0,X=0,O=null,K=0,te=new a.Buf16(16),ee=new a.Buf16(16),xe=null,be=0;for(I=0;I<=15;I++)te[I]=0;for(U=0;U<g;U++)te[p[x+U]]++;for(G=P,le=15;1<=le&&te[le]===0;le--);if(le<G&&(G=le),le===0)return b[v++]=20971520,b[v++]=20971520,j.bits=1,0;for(k=1;k<le&&te[k]===0;k++);for(G<k&&(G=k),I=se=1;I<=15;I++)if(se<<=1,(se-=te[I])<0)return-1;if(0<se&&(f===0||le!==1))return-1;for(ee[1]=0,I=1;I<15;I++)ee[I+1]=ee[I]+te[I];for(U=0;U<g;U++)p[x+U]!==0&&(w[ee[p[x+U]]++]=U);if(F=f===0?(O=xe=w,19):f===1?(O=o,K-=257,xe=c,be-=257,256):(O=d,xe=h,-1),I=k,J=v,ie=U=X=0,D=-1,M=(Se=1<<(W=G))-1,f===1&&852<Se||f===2&&592<Se)return 1;for(;;){for(z=I-ie,H=w[U]<F?(L=0,w[U]):w[U]>F?(L=xe[be+w[U]],O[K+w[U]]):(L=96,0),E=1<<I-ie,k=T=1<<W;b[J+(X>>ie)+(T-=E)]=z<<24|L<<16|H|0,T!==0;);for(E=1<<I-1;X&E;)E>>=1;if(E!==0?(X&=E-1,X+=E):X=0,U++,--te[I]==0){if(I===le)break;I=p[x+w[U]]}if(G<I&&(X&M)!==D){for(ie===0&&(ie=G),J+=k,se=1<<(W=I-ie);W+ie<le&&!((se-=te[W+ie])<=0);)W++,se<<=1;if(Se+=1<<W,f===1&&852<Se||f===2&&592<Se)return 1;b[D=X&M]=G<<24|W<<16|J-v|0}}return X!==0&&(b[J+X]=I-ie<<24|64<<16|0),j.bits=G,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),o=0,c=1;function d(he){for(var ve=he.length;0<=--ve;)he[ve]=0}var h=0,f=29,p=256,x=p+1+f,g=30,b=19,v=2*x+1,w=15,j=16,E=7,T=256,D=16,M=17,J=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],L=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],P=new Array(2*(x+2));d(P);var I=new Array(2*g);d(I);var U=new Array(512);d(U);var k=new Array(256);d(k);var le=new Array(f);d(le);var G,W,ie,se=new Array(g);function Se(he,ve,De,Le,Ie){this.static_tree=he,this.extra_bits=ve,this.extra_base=De,this.elems=Le,this.max_length=Ie,this.has_stree=he&&he.length}function X(he,ve){this.dyn_tree=he,this.max_code=0,this.stat_desc=ve}function O(he){return he<256?U[he]:U[256+(he>>>7)]}function K(he,ve){he.pending_buf[he.pending++]=255&ve,he.pending_buf[he.pending++]=ve>>>8&255}function te(he,ve,De){he.bi_valid>j-De?(he.bi_buf|=ve<<he.bi_valid&65535,K(he,he.bi_buf),he.bi_buf=ve>>j-he.bi_valid,he.bi_valid+=De-j):(he.bi_buf|=ve<<he.bi_valid&65535,he.bi_valid+=De)}function ee(he,ve,De){te(he,De[2*ve],De[2*ve+1])}function xe(he,ve){for(var De=0;De|=1&he,he>>>=1,De<<=1,0<--ve;);return De>>>1}function be(he,ve,De){var Le,Ie,Ke=new Array(w+1),at=0;for(Le=1;Le<=w;Le++)Ke[Le]=at=at+De[Le-1]<<1;for(Ie=0;Ie<=ve;Ie++){var Xe=he[2*Ie+1];Xe!==0&&(he[2*Ie]=xe(Ke[Xe]++,Xe))}}function oe(he){var ve;for(ve=0;ve<x;ve++)he.dyn_ltree[2*ve]=0;for(ve=0;ve<g;ve++)he.dyn_dtree[2*ve]=0;for(ve=0;ve<b;ve++)he.bl_tree[2*ve]=0;he.dyn_ltree[2*T]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function fe(he){8<he.bi_valid?K(he,he.bi_buf):0<he.bi_valid&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function Ee(he,ve,De,Le){var Ie=2*ve,Ke=2*De;return he[Ie]<he[Ke]||he[Ie]===he[Ke]&&Le[ve]<=Le[De]}function Be(he,ve,De){for(var Le=he.heap[De],Ie=De<<1;Ie<=he.heap_len&&(Ie<he.heap_len&&Ee(ve,he.heap[Ie+1],he.heap[Ie],he.depth)&&Ie++,!Ee(ve,Le,he.heap[Ie],he.depth));)he.heap[De]=he.heap[Ie],De=Ie,Ie<<=1;he.heap[De]=Le}function Pe(he,ve,De){var Le,Ie,Ke,at,Xe=0;if(he.last_lit!==0)for(;Le=he.pending_buf[he.d_buf+2*Xe]<<8|he.pending_buf[he.d_buf+2*Xe+1],Ie=he.pending_buf[he.l_buf+Xe],Xe++,Le===0?ee(he,Ie,ve):(ee(he,(Ke=k[Ie])+p+1,ve),(at=F[Ke])!==0&&te(he,Ie-=le[Ke],at),ee(he,Ke=O(--Le),De),(at=z[Ke])!==0&&te(he,Le-=se[Ke],at)),Xe<he.last_lit;);ee(he,T,ve)}function ct(he,ve){var De,Le,Ie,Ke=ve.dyn_tree,at=ve.stat_desc.static_tree,Xe=ve.stat_desc.has_stree,ht=ve.stat_desc.elems,Tt=-1;for(he.heap_len=0,he.heap_max=v,De=0;De<ht;De++)Ke[2*De]!==0?(he.heap[++he.heap_len]=Tt=De,he.depth[De]=0):Ke[2*De+1]=0;for(;he.heap_len<2;)Ke[2*(Ie=he.heap[++he.heap_len]=Tt<2?++Tt:0)]=1,he.depth[Ie]=0,he.opt_len--,Xe&&(he.static_len-=at[2*Ie+1]);for(ve.max_code=Tt,De=he.heap_len>>1;1<=De;De--)Be(he,Ke,De);for(Ie=ht;De=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Be(he,Ke,1),Le=he.heap[1],he.heap[--he.heap_max]=De,he.heap[--he.heap_max]=Le,Ke[2*Ie]=Ke[2*De]+Ke[2*Le],he.depth[Ie]=(he.depth[De]>=he.depth[Le]?he.depth[De]:he.depth[Le])+1,Ke[2*De+1]=Ke[2*Le+1]=Ie,he.heap[1]=Ie++,Be(he,Ke,1),2<=he.heap_len;);he.heap[--he.heap_max]=he.heap[1],(function(bt,_e){var Ze,Me,xt,ut,st,At,$t=_e.dyn_tree,Ut=_e.max_code,un=_e.stat_desc.static_tree,rn=_e.stat_desc.has_stree,On=_e.stat_desc.extra_bits,Zn=_e.stat_desc.extra_base,Xt=_e.stat_desc.max_length,Ht=0;for(ut=0;ut<=w;ut++)bt.bl_count[ut]=0;for($t[2*bt.heap[bt.heap_max]+1]=0,Ze=bt.heap_max+1;Ze<v;Ze++)Xt<(ut=$t[2*$t[2*(Me=bt.heap[Ze])+1]+1]+1)&&(ut=Xt,Ht++),$t[2*Me+1]=ut,Ut<Me||(bt.bl_count[ut]++,st=0,Zn<=Me&&(st=On[Me-Zn]),At=$t[2*Me],bt.opt_len+=At*(ut+st),rn&&(bt.static_len+=At*(un[2*Me+1]+st)));if(Ht!==0){do{for(ut=Xt-1;bt.bl_count[ut]===0;)ut--;bt.bl_count[ut]--,bt.bl_count[ut+1]+=2,bt.bl_count[Xt]--,Ht-=2}while(0<Ht);for(ut=Xt;ut!==0;ut--)for(Me=bt.bl_count[ut];Me!==0;)Ut<(xt=bt.heap[--Ze])||($t[2*xt+1]!==ut&&(bt.opt_len+=(ut-$t[2*xt+1])*$t[2*xt],$t[2*xt+1]=ut),Me--)}})(he,ve),be(Ke,Tt,he.bl_count)}function q(he,ve,De){var Le,Ie,Ke=-1,at=ve[1],Xe=0,ht=7,Tt=4;for(at===0&&(ht=138,Tt=3),ve[2*(De+1)+1]=65535,Le=0;Le<=De;Le++)Ie=at,at=ve[2*(Le+1)+1],++Xe<ht&&Ie===at||(Xe<Tt?he.bl_tree[2*Ie]+=Xe:Ie!==0?(Ie!==Ke&&he.bl_tree[2*Ie]++,he.bl_tree[2*D]++):Xe<=10?he.bl_tree[2*M]++:he.bl_tree[2*J]++,Ke=Ie,Tt=(Xe=0)===at?(ht=138,3):Ie===at?(ht=6,3):(ht=7,4))}function ae(he,ve,De){var Le,Ie,Ke=-1,at=ve[1],Xe=0,ht=7,Tt=4;for(at===0&&(ht=138,Tt=3),Le=0;Le<=De;Le++)if(Ie=at,at=ve[2*(Le+1)+1],!(++Xe<ht&&Ie===at)){if(Xe<Tt)for(;ee(he,Ie,he.bl_tree),--Xe!=0;);else Ie!==0?(Ie!==Ke&&(ee(he,Ie,he.bl_tree),Xe--),ee(he,D,he.bl_tree),te(he,Xe-3,2)):Xe<=10?(ee(he,M,he.bl_tree),te(he,Xe-3,3)):(ee(he,J,he.bl_tree),te(he,Xe-11,7));Ke=Ie,Tt=(Xe=0)===at?(ht=138,3):Ie===at?(ht=6,3):(ht=7,4)}}d(se);var ke=!1;function ye(he,ve,De,Le){te(he,(h<<1)+(Le?1:0),3),(function(Ie,Ke,at,Xe){fe(Ie),K(Ie,at),K(Ie,~at),a.arraySet(Ie.pending_buf,Ie.window,Ke,at,Ie.pending),Ie.pending+=at})(he,ve,De)}i._tr_init=function(he){ke||((function(){var ve,De,Le,Ie,Ke,at=new Array(w+1);for(Ie=Le=0;Ie<f-1;Ie++)for(le[Ie]=Le,ve=0;ve<1<<F[Ie];ve++)k[Le++]=Ie;for(k[Le-1]=Ie,Ie=Ke=0;Ie<16;Ie++)for(se[Ie]=Ke,ve=0;ve<1<<z[Ie];ve++)U[Ke++]=Ie;for(Ke>>=7;Ie<g;Ie++)for(se[Ie]=Ke<<7,ve=0;ve<1<<z[Ie]-7;ve++)U[256+Ke++]=Ie;for(De=0;De<=w;De++)at[De]=0;for(ve=0;ve<=143;)P[2*ve+1]=8,ve++,at[8]++;for(;ve<=255;)P[2*ve+1]=9,ve++,at[9]++;for(;ve<=279;)P[2*ve+1]=7,ve++,at[7]++;for(;ve<=287;)P[2*ve+1]=8,ve++,at[8]++;for(be(P,x+1,at),ve=0;ve<g;ve++)I[2*ve+1]=5,I[2*ve]=xe(ve,5);G=new Se(P,F,p+1,x,w),W=new Se(I,z,0,g,w),ie=new Se(new Array(0),L,0,b,E)})(),ke=!0),he.l_desc=new X(he.dyn_ltree,G),he.d_desc=new X(he.dyn_dtree,W),he.bl_desc=new X(he.bl_tree,ie),he.bi_buf=0,he.bi_valid=0,oe(he)},i._tr_stored_block=ye,i._tr_flush_block=function(he,ve,De,Le){var Ie,Ke,at=0;0<he.level?(he.strm.data_type===2&&(he.strm.data_type=(function(Xe){var ht,Tt=4093624447;for(ht=0;ht<=31;ht++,Tt>>>=1)if(1&Tt&&Xe.dyn_ltree[2*ht]!==0)return o;if(Xe.dyn_ltree[18]!==0||Xe.dyn_ltree[20]!==0||Xe.dyn_ltree[26]!==0)return c;for(ht=32;ht<p;ht++)if(Xe.dyn_ltree[2*ht]!==0)return c;return o})(he)),ct(he,he.l_desc),ct(he,he.d_desc),at=(function(Xe){var ht;for(q(Xe,Xe.dyn_ltree,Xe.l_desc.max_code),q(Xe,Xe.dyn_dtree,Xe.d_desc.max_code),ct(Xe,Xe.bl_desc),ht=b-1;3<=ht&&Xe.bl_tree[2*H[ht]+1]===0;ht--);return Xe.opt_len+=3*(ht+1)+5+5+4,ht})(he),Ie=he.opt_len+3+7>>>3,(Ke=he.static_len+3+7>>>3)<=Ie&&(Ie=Ke)):Ie=Ke=De+5,De+4<=Ie&&ve!==-1?ye(he,ve,De,Le):he.strategy===4||Ke===Ie?(te(he,2+(Le?1:0),3),Pe(he,P,I)):(te(he,4+(Le?1:0),3),(function(Xe,ht,Tt,bt){var _e;for(te(Xe,ht-257,5),te(Xe,Tt-1,5),te(Xe,bt-4,4),_e=0;_e<bt;_e++)te(Xe,Xe.bl_tree[2*H[_e]+1],3);ae(Xe,Xe.dyn_ltree,ht-1),ae(Xe,Xe.dyn_dtree,Tt-1)})(he,he.l_desc.max_code+1,he.d_desc.max_code+1,at+1),Pe(he,he.dyn_ltree,he.dyn_dtree)),oe(he),Le&&fe(he)},i._tr_tally=function(he,ve,De){return he.pending_buf[he.d_buf+2*he.last_lit]=ve>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&ve,he.pending_buf[he.l_buf+he.last_lit]=255&De,he.last_lit++,ve===0?he.dyn_ltree[2*De]++:(he.matches++,ve--,he.dyn_ltree[2*(k[De]+p+1)]++,he.dyn_dtree[2*O(ve)]++),he.last_lit===he.lit_bufsize-1},i._tr_align=function(he){te(he,2,3),ee(he,T,P),(function(ve){ve.bi_valid===16?(K(ve,ve.bi_buf),ve.bi_buf=0,ve.bi_valid=0):8<=ve.bi_valid&&(ve.pending_buf[ve.pending++]=255&ve.bi_buf,ve.bi_buf>>=8,ve.bi_valid-=8)})(he)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(o,c){if(!o.setImmediate){var d,h,f,p,x=1,g={},b=!1,v=o.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(o);w=w&&w.setTimeout?w:o,d={}.toString.call(o.process)==="[object process]"?function(D){process.nextTick(function(){E(D)})}:(function(){if(o.postMessage&&!o.importScripts){var D=!0,M=o.onmessage;return o.onmessage=function(){D=!1},o.postMessage("","*"),o.onmessage=M,D}})()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",T,!1):o.attachEvent("onmessage",T),function(D){o.postMessage(p+D,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(D){E(D.data)},function(D){f.port2.postMessage(D)}):v&&"onreadystatechange"in v.createElement("script")?(h=v.documentElement,function(D){var M=v.createElement("script");M.onreadystatechange=function(){E(D),M.onreadystatechange=null,h.removeChild(M),M=null},h.appendChild(M)}):function(D){setTimeout(E,0,D)},w.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var M=new Array(arguments.length-1),J=0;J<M.length;J++)M[J]=arguments[J+1];var F={callback:D,args:M};return g[x]=F,d(x),x++},w.clearImmediate=j}function j(D){delete g[D]}function E(D){if(b)setTimeout(E,0,D);else{var M=g[D];if(M){b=!0;try{(function(J){var F=J.callback,z=J.args;switch(z.length){case 0:F();break;case 1:F(z[0]);break;case 2:F(z[0],z[1]);break;case 3:F(z[0],z[1],z[2]);break;default:F.apply(c,z)}})(M)}finally{j(D),b=!1}}}}function T(D){D.source===o&&typeof D.data=="string"&&D.data.indexOf(p)===0&&E(+D.data.slice(p.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Bx<"u"?Bx:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(S5)),S5.exports}var Uie=Fie();const Bie=wu(Uie);function Vie(){const{currentUser:t,refreshUserData:e,userData:n}=Ei(),r=ii(),i=V.useRef(null),[a,o]=V.useState([]),[c,d]=V.useState(!1),[h,f]=V.useState(!1),[p,x]=V.useState({}),[g,b]=V.useState([]),[v,w]=V.useState(!1),j=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.apple.pages","application/x-iwork-pages-sffpages"],E=["application/zip","application/x-zip-compressed"],T=5*1024*1024,D=50*1024*1024,M=50,J=G=>{G.preventDefault(),G.stopPropagation(),d(!0)},F=G=>{G.preventDefault(),G.stopPropagation(),d(!1)},z=G=>{G.preventDefault(),G.stopPropagation()},L=G=>{G.preventDefault(),G.stopPropagation(),d(!1);const W=Array.from(G.dataTransfer.files);I(W)},H=G=>{const W=Array.from(G.target.files);I(W)},P=async G=>{w(!0);const W=[],ie=[];try{const Se=await new Bie().loadAsync(G);for(const[X,O]of Object.entries(Se.files)){if(O.dir||X.startsWith("__MACOSX/")||X.startsWith("."))continue;const K=X.split(".").pop().toLowerCase();if(!["pdf","doc","docx","pages"].includes(K)){W.push(`${X}: Skipped (not a supported document format)`);continue}const te=await O.async("blob");let ee="application/pdf";K==="doc"&&(ee="application/msword"),K==="docx"&&(ee="application/vnd.openxmlformats-officedocument.wordprocessingml.document"),K==="pages"&&(ee="application/vnd.apple.pages");const xe=new File([te],X,{type:ee});if(xe.size>T){W.push(`${X}: File too large (max 5MB)`);continue}ie.push(xe)}ie.length===0&&W.push(`${G.name}: No valid CV files found in ZIP`)}catch(se){W.push(`${G.name}: Failed to extract ZIP file`),console.error("ZIP extraction error:",se)}return w(!1),{extractedFiles:ie,newErrors:W}},I=async G=>{const W=[],ie=[],se=t?.userData?.plan||"free",Se=Zx(se),X=t?.userData?.cvUploadsThisMonth||0,O=t?.userData?.cvPackBalance||0;if(Se!==-1&&X>=Se&&O===0){b([`You have reached your monthly upload limit of ${Se} CVs. Purchase a CV Pack or upgrade your plan to upload more CVs.`]);return}for(const K of G)if(E.includes(K.type)||K.name.toLowerCase().endsWith(".zip")){if(K.size>D){ie.push(`${K.name}: ZIP file too large. Maximum size is 50MB.`);continue}const{extractedFiles:te,newErrors:ee}=await P(K);ie.push(...ee);for(const xe of te){if(a.some(be=>be.name===xe.name&&be.size===xe.size)){ie.push(`${xe.name}: File already added.`);continue}W.push({file:xe,id:Math.random().toString(36).substring(7),status:"pending",progress:0,error:null,fromZip:!0})}}else{const te=K.name.split(".").pop().toLowerCase();if(!(j.includes(K.type)||te==="pages")){ie.push(`${K.name}: Invalid file type. Only PDF, Word, and Pages documents are allowed.`);continue}if(K.size>T){ie.push(`${K.name}: File too large. Maximum size is 5MB.`);continue}if(a.some(xe=>xe.name===K.name&&xe.size===K.size)){ie.push(`${K.name}: File already added.`);continue}W.push({file:K,id:Math.random().toString(36).substring(7),status:"pending",progress:0,error:null})}if(a.length+W.length>M){ie.push(`Total files exceed maximum of ${M} files`),b(ie);return}if(Se!==-1&&X+W.length>Se){const K=Se-X;ie.push(`Adding ${W.length} file(s) would exceed your monthly limit. You can upload ${K} more CV(s) this month.`),b(ie);return}o([...a,...W]),ie.length>0&&b(ie)},U=G=>{o(a.filter(W=>W.id!==G))},k=async G=>{const{file:W,id:ie}=G;try{const se=n?.teamAccess,Se=se?.isTeamMember&&se?.teamOwnerId?se.teamOwnerId:t.uid;console.log("Uploading CV for user:",Se,"(Team member:",se?.isTeamMember,")");const X=Ote(Ute,`cvs/${Se}/${Date.now()}_${W.name}`),O=Pte(X,W);return new Promise((K,te)=>{O.on("state_changed",ee=>{const xe=ee.bytesTransferred/ee.totalBytes*100;x(be=>({...be,[ie]:xe}))},ee=>{console.error("Upload error:",ee),te(ee)},async()=>{try{const ee=await Rte(O.snapshot.ref),xe={userId:Se,uploadedBy:t.uid,uploadedByEmail:t.email,uploadedByName:t.displayName||t.email,fileName:W.name,fileSize:W.size,fileType:W.type,downloadURL:ee,storagePath:O.snapshot.ref.fullPath,uploadedAt:OJ(),status:"processing",parsed:!1,metadata:{name:null,email:null,phone:null,skills:[],experience:[],education:[]}},be=await oM(Pl(cr,"cvs"),xe);console.log("CV document created with ID:",be.id,"for user:",Se),iie(W.size,W.type,"processing");const oe=fa(cr,"users",Se),fe=t?.userData?.plan||"free",Ee=Zx(fe),Be=t?.userData?.cvUploadsThisMonth||0,Pe=t?.userData?.cvPackBalance||0;Ee!==-1&&Be>=Ee&&Pe>0?(await Lp(oe,{cvPackBalance:ET(-1)}),console.log("Deducted 1 CV from pack balance")):(await Lp(oe,{cvUploadsThisMonth:ET(1)}),console.log("User counter incremented successfully")),K({id:ie,docId:be.id,downloadURL:ee})}catch(ee){te(ee)}})})}catch(se){throw se}},le=async()=>{const G=a.filter(O=>O.status==="pending");if(G.length===0)return;const W=t?.userData?.plan||"free",ie=Zx(W),se=t?.userData?.cvUploadsThisMonth||0;if(ie!==-1&&se+G.length>ie){const O=ie-se;b([`You can only upload ${O} more CV(s) this month. Please upgrade your plan for more uploads.`]);return}if(f(!0),G.length>1){const O=G.reduce((K,te)=>K+te.file.size,0)/1048576;aie(G.length,O.toFixed(2))}const Se=[];for(const O of G){const K=k(O).then(te=>{o(ee=>ee.map(xe=>xe.id===te.id?{...xe,status:"success",downloadURL:te.downloadURL}:xe))}).catch(te=>{Ll("cv_upload_failed",te.message,"UploadCV"),o(ee=>ee.map(xe=>xe.id===O.id?{...xe,status:"error",error:te.message}:xe))});Se.push(K)}await Promise.all(Se),f(!1),await e(),a.every(O=>O.status==="success")&&setTimeout(()=>{r("/dashboard")},2e3)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Gs,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Upload CVs"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Bulk Upload Manager"})]})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(Gs,{size:28})}),"Upload CVs"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Upload PDF, Word, or Apple Pages documents individually, or upload a ZIP file containing multiple CVs for bulk processing"})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Ss,{className:"w-24 h-24 text-white/20"})})]})}),(()=>{const G=t?.userData?.plan||"free",W=Zx(G),ie=t?.userData?.cvUploadsThisMonth||0,se=t?.userData?.cvPackBalance||0,Se=W===-1,X=!Se&&ie>=W*.8&&se===0,O=!Se&&ie>=W&&se===0,K=Se?0:ie/W*100;return s.jsx("div",{className:`mb-6 rounded-2xl p-5 shadow-lg border ${O?"bg-red-50 border-red-200":X?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${O?"bg-red-100":X?"bg-orange-100":"bg-blue-100"}`,children:s.jsx(Gs,{className:O?"text-red-500":X?"text-orange-500":"text-blue-500",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-bold ${O?"text-red-900":X?"text-orange-900":"text-blue-900"}`,children:Se?"Unlimited Uploads":`${ie} / ${W} CVs Uploaded This Month`}),s.jsx("p",{className:`text-sm ${O?"text-red-700":X?"text-orange-700":"text-blue-700"}`,children:Se?"Enterprise plan with unlimited CV uploads":O?"Upload limit reached. Purchase a CV Pack or upgrade your plan to continue.":se>0?`${W-ie} monthly uploads + ${se} CV pack credits`:`${W-ie} upload(s) remaining`})]})]}),!Se&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-48 bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all ${O?"bg-red-500":X?"bg-orange-500":"bg-blue-500"}`,style:{width:`${Math.min(K,100)}%`}})}),(O||X)&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>r("/settings?tab=cvpacks"),className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg font-semibold text-sm transition-all hover:scale-105 shadow-lg",children:"Buy CV Pack"}),s.jsx("button",{onClick:()=>r("/pricing"),className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-semibold text-sm transition-all hover:scale-105 shadow-lg",children:"Upgrade Plan"})]})]})]})})})(),g.length>0&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-5 shadow-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(ur,{className:"text-red-500",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-red-900 font-bold mb-2 flex items-center gap-2",children:"Upload Errors"}),s.jsx("ul",{className:"space-y-1",children:g.map((G,W)=>s.jsxs("li",{className:"text-sm text-red-700",children:[" ",G]},W))})]}),s.jsx("button",{onClick:()=>b([]),className:"text-red-500 hover:text-red-700 transition-colors p-2 hover:bg-red-100 rounded-lg",children:s.jsx(Wt,{size:20})})]})}),s.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-12 text-center transition-all shadow-lg ${c?"border-orange-500 bg-gradient-to-br from-orange-50 to-orange-100 scale-105":"border-gray-300 bg-white hover:border-orange-400 hover:shadow-xl"}`,onDragEnter:J,onDragOver:z,onDragLeave:F,onDrop:L,children:[s.jsx("div",{className:`w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg ${c?"scale-110":""} transition-transform`,children:s.jsx(Gs,{className:"text-white",size:40})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Drag and drop your CVs or ZIP files here"}),s.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:v?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(rs,{className:"animate-spin text-orange-500",size:20}),s.jsx("span",{className:"font-semibold text-orange-600",children:"Extracting ZIP file..."})]}):"or click the button below to browse files"}),s.jsx("input",{ref:i,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.pages,.zip",onChange:H,className:"hidden"}),s.jsx("button",{onClick:()=>i.current?.click(),disabled:h||v,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:v?"Extracting ZIP...":"Browse Files"}),s.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ss,{size:14}),s.jsx("span",{children:"PDF, DOC, DOCX, PAGES, ZIP"})]}),s.jsx("span",{children:""}),s.jsx("span",{children:"Max 5MB per CV, 50MB per ZIP"})]})]}),a.length>0&&a.every(G=>G.status==="success")&&s.jsx("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-2xl p-6 shadow-xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(xr,{className:"text-white",size:28})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-green-900 font-bold text-xl mb-2",children:"All files uploaded successfully!"}),s.jsx("p",{className:"text-green-700 font-medium",children:"Your CVs are now being processed. Redirecting to dashboard..."})]})]})}),a.length>0&&s.jsxs("div",{className:"mt-8 bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-lg",children:[s.jsxs("div",{className:"px-6 py-5 bg-gradient-to-r from-gray-50 to-orange-50/30 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Ss,{className:"text-white",size:20})}),s.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Selected Files (",a.length,")"]})]}),!h&&a.some(G=>G.status==="pending")&&s.jsxs("button",{onClick:le,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-2.5 rounded-xl font-bold transition-all hover:scale-105 flex items-center gap-2 shadow-lg shadow-orange-500/30",children:[s.jsx(Gs,{size:18}),s.jsx("span",{children:"Upload All"})]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:a.map((G,W)=>s.jsxs("div",{className:"px-6 py-5 flex items-center gap-4 hover:bg-gradient-to-r hover:from-gray-50 hover:to-orange-50/30 transition-all group",style:{animationDelay:`${W*50}ms`},children:[s.jsxs("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0 relative shadow-md transition-transform group-hover:scale-110 ${G.status==="success"?"bg-gradient-to-br from-green-500 to-green-600":G.status==="error"?"bg-gradient-to-br from-red-500 to-red-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:[G.status==="success"?s.jsx(xr,{className:"text-white",size:28}):G.status==="error"?s.jsx(ur,{className:"text-white",size:28}):s.jsx(Ss,{className:"text-white",size:28}),G.fromZip&&s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-md",title:"Extracted from ZIP",children:s.jsx(Kte,{className:"text-white",size:14})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:G.file.name}),s.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:[(G.file.size/1024).toFixed(1)," KB"]}),G.status==="pending"&&h&&s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-3 rounded-full transition-all shadow-sm flex items-center justify-end pr-2",style:{width:`${p[G.id]||0}%`},children:p[G.id]>10&&s.jsxs("span",{className:"text-xs text-white font-bold",children:[Math.round(p[G.id]),"%"]})})}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1 font-semibold",children:[Math.round(p[G.id]||0),"% uploaded"]})]}),G.status==="error"&&s.jsxs("p",{className:"text-sm text-red-600 mt-2 font-semibold flex items-center gap-1",children:[s.jsx(ur,{size:14}),G.error]}),G.status==="success"&&s.jsxs("p",{className:"text-sm text-green-600 mt-2 font-semibold flex items-center gap-1",children:[s.jsx(xr,{size:14}),"Upload complete!"]})]}),s.jsx("div",{className:"flex-shrink-0",children:G.status==="pending"&&h?s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:s.jsx(rs,{className:"text-orange-500 animate-spin",size:24})}):h?null:s.jsx("button",{onClick:()=>U(G.id),className:"w-10 h-10 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all flex items-center justify-center",children:s.jsx(Wt,{size:22})})})]},G.id))})]})]})]})}function El({isOpen:t,onClose:e,onConfirm:n,title:r,message:i,confirmText:a="Confirm",cancelText:o="Cancel",type:c="warning",icon:d,confirmLoading:h=!1}){if(!t)return null;const f=()=>{if(d)return d;switch(c){case"danger":return Ys;case"success":return Ws;case"info":return PA;case"warning":default:return _1}},p=()=>{switch(c){case"danger":return{iconBg:"from-red-500 to-red-600",iconContainer:"bg-red-100",button:"from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 shadow-red-500/30",border:"border-red-200"};case"success":return{iconBg:"from-green-500 to-green-600",iconContainer:"bg-green-100",button:"from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-green-500/30",border:"border-green-200"};case"info":return{iconBg:"from-blue-500 to-blue-600",iconContainer:"bg-blue-100",button:"from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-blue-500/30",border:"border-blue-200"};case"warning":default:return{iconBg:"from-orange-500 to-orange-600",iconContainer:"bg-orange-100",button:"from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 shadow-orange-500/30",border:"border-orange-200"}}},x=f(),g=p(),b=v=>{v.target===v.currentTarget&&e()};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:b,children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl animate-slideUp",children:[s.jsx("div",{className:`p-6 border-b ${g.border} bg-gradient-to-r from-gray-50 to-orange-50/20`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-14 h-14 ${g.iconContainer} rounded-xl flex items-center justify-center`,children:s.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${g.iconBg} rounded-lg flex items-center justify-center shadow-lg`,children:s.jsx(x,{className:"text-white",size:24})})}),s.jsx("div",{children:s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r})})]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-all",disabled:h,children:s.jsx(Wt,{size:20})})]})}),s.jsx("div",{className:"p-6",children:s.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:i})}),s.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[s.jsx("button",{onClick:e,disabled:h,className:"flex-1 px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50 hover:border-gray-400 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:o}),s.jsx("button",{onClick:n,disabled:h,className:`flex-1 px-6 py-3 bg-gradient-to-r ${g.button} text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2`,children:h?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"Processing..."})]}):a})]})]})})}function qie({cv:t,jobSpec:e,matchScore:n,onClose:r}){if(!t||!e)return null;const i=()=>{const g=(t.metadata?.skills||[]).map(T=>T.toLowerCase()),b=(e.requiredSkills||[]).map(T=>T.toLowerCase()),v=(e.preferredSkills||[]).map(T=>T.toLowerCase()),w=b.filter(T=>g.some(D=>D.includes(T)||T.includes(D))),j=v.filter(T=>g.some(D=>D.includes(T)||T.includes(D))),E=b.filter(T=>!w.includes(T));return{matchedRequired:w,matchedPreferred:j,missingRequired:E,requiredTotal:b.length,preferredTotal:v.length,requiredScore:b.length>0?w.length/b.length*100:100}},a=()=>{const b=(t.metadata?.experience||[]).reduce((D,M)=>{const J=M.duration?o(M.duration):1;return D+J},0),v=parseInt(e.minExperience)||0,w=parseInt(e.maxExperience)||999,j=b>=v&&b<=w,E=b<v,T=b>w;return{totalYears:b,minRequired:v,maxRequired:w,meetsRequirement:j,isUnderqualified:E,isOverqualified:T,difference:Math.abs(b-v)}},o=g=>{const b=g.match(/(\d+)\s*(?:year|yr)/i);if(b)return parseInt(b[1]);const v=g.match(/\b(19|20)\d{2}\b/g);return v&&v.length>=2?parseInt(v[v.length-1])-parseInt(v[0]):1},c=()=>{const g=(t.metadata?.education||[]).map(E=>(E.degree||"").toLowerCase()),b=(e.education||"").toLowerCase();if(!b)return{matches:!0,details:"No specific requirement"};const v={phd:6,doctorate:6,masters:5,master:5,mba:5,honours:4,bachelor:3,degree:3,diploma:2,certificate:1},w=Object.entries(v).find(([E])=>b.includes(E))?.[1]||0,j=Math.max(...g.map(E=>Object.entries(v).find(([D])=>E.includes(D))?.[1]||0),0);return{matches:j>=w,cvLevel:j,requiredLevel:w,details:j>=w?"Meets requirement":"Below requirement"}},d=()=>{const g=(t.metadata?.location||"").toLowerCase(),b=(e.location||"").toLowerCase();if(!b||e.locationType==="remote")return{matches:!0,details:e.locationType==="remote"?"Remote position":"No location requirement"};const v=g.includes(b)||b.includes(g);return{matches:v,details:v?"Location matches":"Different location"}},h=i(),f=a(),p=c(),x=d();return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full my-8 shadow-2xl",children:[s.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-t-2xl",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-3",children:[s.jsx(Bh,{size:28}),"Match Breakdown Report"]}),s.jsxs("p",{className:"text-orange-100",children:["Detailed analysis: ",t.metadata?.name||t.fileName,"  ",e.title]})]}),s.jsx("button",{onClick:r,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:s.jsx(Wt,{size:24})})]})}),s.jsxs("div",{className:"p-6 max-h-[calc(100vh-16rem)] overflow-y-auto",children:[s.jsx("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Overall Match Score"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive fit assessment"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-4xl font-bold ${n>=80?"text-green-600":n>=60?"text-blue-600":n>=40?"text-yellow-600":"text-red-600"}`,children:[n,"%"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:n>=80?"Excellent Match":n>=60?"Good Match":n>=40?"Fair Match":"Poor Match"})]})]})}),s.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(Bh,{className:"text-white",size:16})}),"Skills Analysis"]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-700",children:"Required Skills"}),s.jsxs("span",{className:`px-3 py-1 rounded-lg text-sm font-bold ${h.requiredScore===100?"bg-green-100 text-green-700":h.requiredScore>=70?"bg-blue-100 text-blue-700":h.requiredScore>=40?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[h.matchedRequired.length," / ",h.requiredTotal," matched"]})]}),h.matchedRequired.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("p",{className:"text-xs font-semibold text-green-700 mb-2 flex items-center gap-1",children:[s.jsx(Ws,{size:14})," Matched Required Skills:"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.matchedRequired.map((g,b)=>s.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-lg text-sm border border-green-200",children:g},b))})]}),h.missingRequired.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs font-semibold text-red-700 mb-2 flex items-center gap-1",children:[s.jsx(b1,{size:14})," Missing Required Skills:"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.missingRequired.map((g,b)=>s.jsx("span",{className:"px-3 py-1 bg-red-50 text-red-700 rounded-lg text-sm border border-red-200",children:g},b))})]})]}),h.preferredTotal>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-700",children:"Preferred Skills"}),s.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-bold",children:[h.matchedPreferred.length," / ",h.preferredTotal," matched"]})]}),h.matchedPreferred.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:h.matchedPreferred.map((g,b)=>s.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-sm border border-blue-200",children:g},b))})]})]}),s.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx(fc,{className:"text-white",size:16})}),"Experience Analysis"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Candidate Experience:"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[f.totalYears," years"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Required Experience:"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[f.minRequired,f.maxRequired<999?` - ${f.maxRequired}`:"+"," years"]})]}),s.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${f.meetsRequirement?"bg-green-50 border border-green-200":f.isUnderqualified?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"}`,children:f.meetsRequirement?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Meets experience requirement"})]}):f.isUnderqualified?s.jsxs(s.Fragment,{children:[s.jsx(ur,{className:"text-yellow-600",size:20}),s.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:["Underqualified by ",f.difference," years"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(ur,{className:"text-blue-600",size:20}),s.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:["Overqualified by ",f.totalYears-f.maxRequired," years"]})]})})]})]}),s.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(IA,{className:"text-white",size:16})}),"Education Analysis"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Required:"}),s.jsx("span",{className:"font-bold text-gray-900",children:e.education||"Not specified"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Candidate:"}),s.jsx("span",{className:"font-bold text-gray-900",children:t.metadata?.education?.[0]?.degree||"Not specified"})]}),s.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${p.matches?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:p.matches?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:p.details})]}):s.jsxs(s.Fragment,{children:[s.jsx(b1,{className:"text-red-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-red-700",children:p.details})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:s.jsx(Yb,{className:"text-white",size:16})}),"Location Analysis"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Job Location:"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[e.location||"Not specified",e.locationType&&` (${e.locationType})`]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Candidate Location:"}),s.jsx("span",{className:"font-bold text-gray-900",children:t.metadata?.location||"Not specified"})]}),s.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${x.matches?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:x.matches?s.jsxs(s.Fragment,{children:[s.jsx(Ws,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:x.details})]}):s.jsxs(s.Fragment,{children:[s.jsx(ur,{className:"text-yellow-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-yellow-700",children:x.details})]})})]})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-2xl border-t border-gray-200",children:s.jsx("button",{onClick:r,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-3 rounded-xl font-bold transition-all hover:scale-105",children:"Close Report"})})]})})}function $ie(t){if(!t.duration&&!t.startDate&&!t.endDate)return 0;try{const e=t.duration||`${t.startDate||""} - ${t.endDate||""}`,n=e.match(/\b(19|20)\d{2}\b/g);if(n&&n.length>=2){const r=parseInt(n[0]);let i=parseInt(n[n.length-1]);return(e.toLowerCase().includes("present")||e.toLowerCase().includes("current"))&&(i=new Date().getFullYear()),Math.max(0,i-r)}return n&&n.length===1?1:0}catch(e){return console.warn("Error calculating experience years:",e),0}}function hh({value:t,onChange:e,options:n,placeholder:r="Select...",className:i=""}){const[a,o]=V.useState(!1),c=V.useRef(null);V.useEffect(()=>{function h(f){c.current&&!c.current.contains(f.target)&&o(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=n.find(h=>h.value===t);return s.jsxs("div",{ref:c,className:`relative ${i}`,style:{zIndex:a?1e3:"auto"},children:[s.jsxs("button",{type:"button",onClick:()=>o(!a),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg flex items-center justify-between hover:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[s.jsx("span",{className:`text-sm ${t==="all"||!t?"text-gray-500":"text-gray-900 font-medium"}`,children:d?.label||r}),s.jsx(vc,{size:16,className:`text-gray-400 transition-transform ${a?"transform rotate-180":""}`})]}),a&&s.jsx("div",{className:"absolute z-[1001] w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-auto",children:n.map(h=>s.jsxs("button",{type:"button",onClick:()=>{e(h.value),o(!1)},className:`w-full px-4 py-2.5 text-left text-sm hover:bg-orange-50 transition-colors flex items-center justify-between ${t===h.value?"bg-orange-50 text-orange-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:h.label}),t===h.value&&s.jsx(Pt,{size:16,className:"text-orange-600"})]},h.value))})]})}function Hie(){const{currentUser:t,userData:e}=Ei(),n=ii(),r=Td(),[i,a]=V.useState([]),[o,c]=V.useState([]),[d,h]=V.useState(!0),[f,p]=V.useState(""),[x,g]=V.useState([]),[b,v]=V.useState(!1),[w,j]=V.useState(!1),[E,T]=V.useState({demographic:!1,professional:!1,advanced:!1,custom:!1}),[D,M]=V.useState([]),[J,F]=V.useState(null),[z,L]=V.useState(!1),[H,P]=V.useState(!1),[I,U]=V.useState({isOpen:!1,cvId:null,isBulk:!1}),[k,le]=V.useState(!1),[G,W]=V.useState(null),[ie,se]=V.useState([]),[Se,X]=V.useState([]),[O,K]=V.useState({}),te=V.useRef(null),ee=V.useRef(null),xe=e?.plan||"free",be=e?ag(xe,"customFields"):!1,[oe,fe]=V.useState({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0});V.useEffect(()=>{!t||!e||(Ee(),Pe(),be&&Be())},[t,e,be]),V.useEffect(()=>{t&&ye()},[i,f,oe,J,O,t]),V.useEffect(()=>{const _e=()=>{if(te.current&&ee.current){const Me=te.current.querySelector("table");if(Me){const xt=ee.current.querySelector("div");xt&&(xt.style.width=`${Me.scrollWidth}px`)}}};_e();const Ze=new ResizeObserver(_e);return te.current&&Ze.observe(te.current),()=>Ze.disconnect()},[o,Se,J]);const Ee=async()=>{try{h(!0),console.log("Fetching CVs for user:",t.uid);const _e=e?.teamAccess;if(_e?.isTeamMember&&_e?.teamOwnerId){console.log("Fetching team CVs via Cloud Function for owner:",_e.teamOwnerId);const Ze=Mr(),xt=await En(Ze,"getTeamCVs")();if(xt.data.success){const ut=xt.data.cvs.map(st=>({...st,uploadedAt:st.uploadedAt?.toDate?st.uploadedAt.toDate():st.uploadedAt?._seconds?new Date(st.uploadedAt._seconds*1e3):new Date}));console.log("Team CVs fetched:",ut.length),a(ut),c(ut)}else throw new Error("Failed to fetch team CVs")}else{console.log("Fetching own CVs for user:",t.uid);const Ze=fu(Pl(cr,"cvs"),Hs("userId","==",t.uid),f1("uploadedAt","desc")),Me=await mu(Ze);console.log("Query successful. Found documents:",Me.docs.length);const xt=Me.docs.map(ut=>({id:ut.id,...ut.data(),uploadedAt:ut.data().uploadedAt?.toDate()||new Date}));console.log("CVs data:",xt),a(xt),c(xt)}}catch(_e){console.error("Error fetching CVs:",_e),console.error("Error code:",_e.code),console.error("Error message:",_e.message),(_e.code==="failed-precondition"||_e.message?.includes("index"))&&(console.error("FIRESTORE INDEX REQUIRED!"),console.error("Create a composite index for: userId (Ascending) + uploadedAt (Descending)"))}finally{h(!1)}},Be=async()=>{if(t)try{const _e=fa(cr,"customFieldConfigs",t.uid),Ze=await Gf(_e);if(Ze.exists()){const Me=Ze.data().fields||[];se(Me);const xt={};Me.forEach(ut=>{xt[ut.name]=""}),K(xt)}else se([]),K({})}catch(_e){console.error("Error loading custom field configs:",_e),se([]),K({})}},Pe=async()=>{try{if(e?.teamAccess?.isTeamMember){const Me=Mr(),ut=await En(Me,"getTeamJobSpecs")();if(ut.data.success){const st=ut.data.jobSpecs.map(At=>({id:At.id,...At,createdAt:At.createdAt?._seconds?new Date(At.createdAt._seconds*1e3):new Date(At.createdAt)}));st.sort((At,$t)=>new Date($t.createdAt)-new Date(At.createdAt)),M(st)}else M([])}else{const Me=fu(Pl(cr,"jobSpecs"),Hs("userId","==",t.uid),Hs("isActive","==",!0),f1("createdAt","desc")),ut=(await mu(Me)).docs.map(st=>({id:st.id,...st.data()}));M(ut)}}catch(_e){if(_e.code==="failed-precondition"||_e.message.includes("index"))try{const Ze=fu(Pl(cr,"jobSpecs"),Hs("userId","==",t.uid),Hs("isActive","==",!0)),xt=(await mu(Ze)).docs.map(ut=>({id:ut.id,...ut.data()}));xt.sort((ut,st)=>new Date(st.createdAt)-new Date(ut.createdAt)),M(xt)}catch(Ze){console.error("Error fetching job specs (retry):",Ze)}else console.error("Error fetching job specs:",_e)}},ct=async _e=>{if(!_p(e?.plan)){P(!0);return}if(!_e){F(null);return}F(_e),await q(_e)},q=async _e=>{L(!0);try{const Ze=Mr(),Me=En(Ze,"batchCalculateMatches"),xt=i.map(st=>st.id);(await Me({cvIds:xt,jobSpecId:_e})).data.success&&await Ee()}catch(Ze){console.error("Error calculating matches:",Ze),console.error("Error details:",{message:Ze.message,code:Ze.code,details:Ze.details,stack:Ze.stack,name:Ze.name});let Me="Failed to calculate match scores. ";Ze.code==="functions/internal"?Me+="There was an internal error in the matching function. Please check the Firebase Functions logs for details.":Ze.code==="functions/unauthenticated"?Me+="You must be logged in to use this feature.":Ze.code==="functions/permission-denied"?Me+="You do not have permission to perform this action.":Ze.message?Me+=Ze.message:Me+="An unknown error occurred.",alert(Me+`

Please check the browser console for more details.`)}finally{L(!1)}},ae=_e=>!J||!_e.matchScores?null:_e.matchScores[J]?.score||null,ke=_e=>{if(_e==null)return s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:"No Match"});let Ze="bg-red-100 text-red-700",Me="Poor Match";return _e>=80?(Ze="bg-green-100 text-green-700",Me="Excellent"):_e>=60?(Ze="bg-blue-100 text-blue-700",Me="Good"):_e>=40&&(Ze="bg-yellow-100 text-yellow-700",Me="Fair"),s.jsxs("span",{className:`px-2 py-1 text-xs ${Ze} rounded-full font-medium flex items-center gap-1`,children:[s.jsx(s7,{size:12}),_e,"% ",Me]})},ye=()=>{let _e=[...i];if(oe.onlyParsed&&(_e=_e.filter(Me=>Me.parsed&&Me.status==="completed")),f&&(_e=_e.filter(Me=>Me.metadata?.name?.toLowerCase().includes(f.toLowerCase())||Me.metadata?.email?.toLowerCase().includes(f.toLowerCase())||Me.metadata?.phone?.toLowerCase().includes(f.toLowerCase())||Me.metadata?.location?.toLowerCase().includes(f.toLowerCase()))),oe.status!=="all"&&(_e=_e.filter(Me=>Me.status===oe.status)),oe.fileType!=="all"&&(_e=_e.filter(Me=>Me.fileType.includes(oe.fileType))),oe.dateFrom){const Me=new Date(oe.dateFrom);_e=_e.filter(xt=>xt.uploadedAt>=Me)}if(oe.dateTo){const Me=new Date(oe.dateTo);Me.setHours(23,59,59),_e=_e.filter(xt=>xt.uploadedAt<=Me)}if(oe.gender!=="all"&&(_e=_e.filter(Me=>Me.metadata?.gender?Me.metadata.gender.toLowerCase()===oe.gender.toLowerCase():oe.includeUnknown)),oe.ageMin&&(_e=_e.filter(Me=>Me.metadata?.age?Me.metadata.age>=parseInt(oe.ageMin):oe.includeUnknown)),oe.ageMax&&(_e=_e.filter(Me=>Me.metadata?.age?Me.metadata.age<=parseInt(oe.ageMax):oe.includeUnknown)),oe.race!=="all"&&(_e=_e.filter(Me=>Me.metadata?.race?Me.metadata.race.toLowerCase()===oe.race.toLowerCase():oe.includeUnknown)),oe.location&&(_e=_e.filter(Me=>Me.metadata?.location?Me.metadata.location.toLowerCase().includes(oe.location.toLowerCase()):!1)),oe.skills){const Me=oe.skills.toLowerCase().split(",").map(xt=>xt.trim());_e=_e.filter(xt=>xt.metadata?.skills&&xt.metadata.skills.length>0?xt.metadata.skills.some(st=>Me.some(At=>st.toLowerCase().includes(At))):!1)}if(oe.experienceYears!=="all"&&(_e=_e.filter(Me=>{if(!(Me.metadata?.experience&&Me.metadata.experience.length>0))return!1;let ut=0;switch(Me.metadata.experience.forEach(st=>{const At=$ie(st);ut+=At}),ut===0&&(ut=Me.metadata.experience.length*1.5),oe.experienceYears){case"0-2":return ut<=2;case"3-5":return ut>=3&&ut<=5;case"6-10":return ut>=6&&ut<=10;case"10+":return ut>10;default:return!0}})),be&&ie.length>0&&O&&ie.forEach(Me=>{const xt=O[Me.name];xt&&xt!==""&&(_e=_e.filter(ut=>{const st=ut.customFields?.[Me.name];return Me.type==="boolean"?st===(xt==="true"):Me.type==="select"||Me.type==="text"?st?String(st).toLowerCase().includes(String(xt).toLowerCase()):!1:Me.type==="number"?st?st===Number(xt):!1:Me.type==="date"?st?st===xt:!1:!0}))}),J&&_e.sort((Me,xt)=>{const ut=ae(Me)||0;return(ae(xt)||0)-ut}),c(_e),f||oe.status!=="all"||oe.fileType!=="all"||oe.gender!=="all"||oe.race!=="all"||oe.location||oe.skills||oe.ageMin||oe.ageMax||oe.dateFrom||oe.dateTo||J){const Me=[];f&&Me.push("search"),oe.status!=="all"&&Me.push("status"),oe.fileType!=="all"&&Me.push("fileType"),oe.gender!=="all"&&Me.push("gender"),oe.race!=="all"&&Me.push("race"),oe.location&&Me.push("location"),oe.skills&&Me.push("skills"),(oe.ageMin||oe.ageMax)&&Me.push("age"),(oe.dateFrom||oe.dateTo)&&Me.push("date"),J&&Me.push("jobSpec"),lie(Me,i.length,_e.length)}},he=_e=>{g(Ze=>Ze.includes(_e)?Ze.filter(Me=>Me!==_e):[...Ze,_e])},ve=()=>{x.length===o.length?g([]):g(o.map(_e=>_e.id))},De=async _e=>{try{le(!0);const Ze=Mr(),xt=await En(Ze,"deleteCV")({cvId:_e});if(xt.data.success)R7(),a(ut=>ut.filter(st=>st.id!==_e)),g(ut=>ut.filter(st=>st!==_e)),r.success("CV deleted successfully");else throw new Error(xt.data.message||"Failed to delete CV")}catch(Ze){console.error("Error deleting CV:",Ze),r.error("Failed to delete CV. Please try again."),Ll("cv_delete_failed",Ze.message,"CVList")}finally{le(!1),U({isOpen:!1,cvId:null,isBulk:!1})}},Le=async()=>{if(x.length!==0)try{le(!0);const _e=Mr(),Ze=En(_e,"deleteCV");let Me=0,xt=0;for(const ut of x)try{(await Ze({cvId:ut})).data.success?Me++:xt++}catch(st){console.error("Error deleting CV:",ut,st),xt++}Me>0&&oie(Me),a(ut=>ut.filter(st=>!x.includes(st.id))),xt===0?r.success(`${Me} CV(s) deleted successfully`):r.warning(`${Me} CV(s) deleted, ${xt} failed`),g([])}catch(_e){console.error("Error deleting CVs:",_e),r.error("Failed to delete some CVs. Please try again."),Ll("cv_bulk_delete_failed",_e.message,"CVList")}finally{le(!1),U({isOpen:!1,cvId:null,isBulk:!1})}},Ie=(_e=null,Ze=!1)=>{U({isOpen:!0,cvId:_e,isBulk:Ze})},Ke=async()=>{I.isBulk?await Le():await De(I.cvId)},at=_e=>{if(_e===0)return"0 Bytes";const Ze=1024,Me=["Bytes","KB","MB"],xt=Math.floor(Math.log(_e)/Math.log(Ze));return Math.round(_e/Math.pow(Ze,xt)*100)/100+" "+Me[xt]},Xe=_e=>new Date(_e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ht=()=>{let _e=0;return oe.status!=="all"&&_e++,oe.fileType!=="all"&&_e++,oe.dateFrom&&_e++,oe.dateTo&&_e++,oe.gender!=="all"&&_e++,oe.ageMin&&_e++,oe.ageMax&&_e++,oe.race!=="all"&&_e++,oe.location&&_e++,oe.skills&&_e++,oe.experienceYears!=="all"&&_e++,oe.onlyParsed&&_e++,oe.includeUnknown||_e++,O&&Object.values(O).forEach(Ze=>{Ze&&Ze!==""&&_e++}),_e},Tt=_e=>{T(Ze=>({...Ze,[_e]:!Ze[_e]}))},bt=_e=>{const Ze={processing:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Processing"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},error:{bg:"bg-red-100",text:"text-red-800",label:"Error"}},Me=Ze[_e]||Ze.processing;return s.jsx("span",{className:`${Me.bg} ${Me.text} text-xs font-medium px-2.5 py-1 rounded-full`,children:Me.label})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Ss,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CV Library"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Document Manager"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(Ss,{size:28})}),"CV Library"]}),s.jsxs("p",{className:"text-orange-100 text-lg",children:[o.length," ",o.length===1?"CV":"CVs"," found",ht()>0&&`  ${ht()} filter${ht()>1?"s":""} active`]}),e?.teamAccess?.isTeamMember&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-white/20 backdrop-blur rounded-full border border-white/30",children:[s.jsx(Ks,{size:14}),s.jsx("span",{children:"Team Member View"})]}),s.jsx("span",{className:"text-orange-100 text-xs",children:"Viewing team owner's CVs"})]})]}),s.jsxs("button",{onClick:()=>n("/upload"),className:"hidden lg:flex items-center gap-2 px-6 py-3 bg-white/20 backdrop-blur hover:bg-white/30 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg",children:[s.jsx(Gs,{size:20}),"Upload CVs"]})]})}),s.jsxs("button",{onClick:()=>n("/upload"),className:"lg:hidden w-full mb-6 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[s.jsx(Gs,{size:20}),"Upload CVs"]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6 shadow-lg",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(r7,{className:"text-white",size:18})}),s.jsx("input",{type:"text",placeholder:"Search by filename, name, or email...",value:f,onChange:_e=>p(_e.target.value),className:"w-full pl-16 pr-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all"})]}),s.jsxs("button",{onClick:()=>v(!b),className:`flex items-center gap-2 px-6 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-md relative ${b?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-orange-500/30":"border-2 border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(JT,{size:20}),s.jsx("span",{children:"Filters"}),ht()>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-br from-red-500 to-red-600 text-white text-xs font-bold rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:ht()})]}),be&&ie&&ie.length>0&&s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>j(!w),className:`flex items-center gap-2 px-6 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-md relative ${w?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-purple-500/30":"border-2 border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(hd,{size:20}),s.jsx("span",{children:"Columns"}),Se.length>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-br from-purple-500 to-purple-600 text-white text-xs font-bold rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:Se.length})]}),w&&s.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white border-2 border-purple-200 rounded-xl shadow-2xl z-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(hd,{size:18,className:"text-purple-500"}),"Custom Columns"]}),s.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Wt,{size:18})})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select which custom fields to show as columns in the table"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:ie.map(_e=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-purple-50 p-2 rounded-lg transition-colors group",children:[s.jsx("input",{type:"checkbox",checked:Se.includes(_e.name),onChange:Ze=>{Ze.target.checked?X([...Se,_e.name]):X(Se.filter(Me=>Me!==_e.name))},className:"w-4 h-4 text-purple-500 border-gray-300 rounded focus:ring-purple-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-purple-600",children:_e.label}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",_e.type,")"]})]})]},_e.id))}),Se.length>0&&s.jsx("button",{onClick:()=>X([]),className:"mt-3 w-full text-xs text-purple-600 hover:text-purple-700 font-medium",children:"Clear all"})]})]})]}),(_p(e?.plan)||D.length>0)&&s.jsxs("div",{className:"mt-6 pt-6 border-t-2 border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(fc,{size:18,className:"text-white"})}),s.jsx("label",{className:"text-sm font-bold text-gray-900",children:"Match to Job Spec:"})]}),s.jsx("div",{className:"flex-1 min-w-[280px]",children:z?s.jsxs("div",{className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(rs,{size:16,className:"animate-spin text-orange-500"}),s.jsx("span",{children:"Calculating matches..."})]}):s.jsx(hh,{value:J||"",onChange:_e=>ct(_e),options:[{value:"",label:"No job spec selected"},...D.map(_e=>({value:_e.id,label:`${_e.title}${_e.department?` - ${_e.department}`:""}`}))],placeholder:"Select a job specification..."})}),D.length===0&&_p(e?.plan)&&s.jsx("button",{onClick:()=>n("/job-specs"),className:"text-sm text-orange-500 hover:text-orange-600 font-medium whitespace-nowrap flex items-center gap-1",children:"Create Job Spec "})]}),J&&!z&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600 bg-blue-50 px-3 py-2 rounded-lg",children:[s.jsx(Zf,{size:16,className:"text-blue-600"}),s.jsx("span",{children:"CVs are sorted by match score (highest first)"})]})]}),H&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(Bh,{className:"text-orange-500",size:24})}),s.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Wt,{size:20})})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"CV matching with job specifications is a premium feature. Upgrade your plan to unlock this powerful tool."}),s.jsx("button",{onClick:()=>n("/pricing"),className:"w-full py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"View Plans"})]})}),ht()>0&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),oe.status!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full",children:["Status: ",oe.status,s.jsx("button",{onClick:()=>fe({...oe,status:"all"}),className:"hover:bg-orange-200 rounded-full p-0.5",children:s.jsx(Wt,{size:12})})]}),oe.race!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:["Race: ",oe.race,s.jsx("button",{onClick:()=>fe({...oe,race:"all"}),className:"hover:bg-purple-200 rounded-full p-0.5",children:s.jsx(Wt,{size:12})})]}),oe.gender!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Gender: ",oe.gender,s.jsx("button",{onClick:()=>fe({...oe,gender:"all"}),className:"hover:bg-blue-200 rounded-full p-0.5",children:s.jsx(Wt,{size:12})})]}),oe.location&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:["Location: ",oe.location,s.jsx("button",{onClick:()=>fe({...oe,location:""}),className:"hover:bg-green-200 rounded-full p-0.5",children:s.jsx(Wt,{size:12})})]}),oe.skills&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:["Skills: ",oe.skills,s.jsx("button",{onClick:()=>fe({...oe,skills:""}),className:"hover:bg-indigo-200 rounded-full p-0.5",children:s.jsx(Wt,{size:12})})]}),ht()>1&&s.jsx("button",{onClick:()=>fe({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0}),className:"text-xs text-gray-600 hover:text-orange-500 underline",children:"Clear all"})]}),b&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:[s.jsx("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Showing ",o.length," of ",i.length," CVs"]}),s.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:ht()>0?`${ht()} filter${ht()>1?"s":""} active`:"No filters applied"})]}),s.jsx(Ef,{className:"text-orange-500",size:24})]})}),s.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-xl shadow-sm",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(a7,{size:18,className:"text-orange-500"}),"Quick Filters"]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsx(hh,{value:oe.status,onChange:_e=>fe({...oe,status:_e}),options:[{value:"all",label:"All Status"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"error",label:"Error"}]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Type"}),s.jsx(hh,{value:oe.fileType,onChange:_e=>fe({...oe,fileType:_e}),options:[{value:"all",label:"All Types"},{value:"pdf",label:"PDF"},{value:"word",label:"Word"}]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date From"}),s.jsx("input",{type:"date",value:oe.dateFrom,onChange:_e=>fe({...oe,dateFrom:_e.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date To"}),s.jsx("input",{type:"date",value:oe.dateTo,onChange:_e=>fe({...oe,dateTo:_e.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"})]})]})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.demographic?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{onClick:()=>Tt("demographic"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ks,{size:16,className:"text-purple-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Demographic Filters"}),(oe.gender!=="all"||oe.ageMin||oe.ageMax||oe.race!=="all")&&s.jsx("span",{className:"bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),E.demographic?s.jsx(Sh,{size:20}):s.jsx(vc,{size:20})]}),E.demographic&&s.jsx("div",{className:"p-6 bg-white",children:s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),s.jsx(hh,{value:oe.gender,onChange:_e=>fe({...oe,gender:_e}),options:[{value:"all",label:"All Genders"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-Binary"},{value:"prefer-not-to-say",label:"Prefer Not to Say"}]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Min"}),s.jsx("input",{type:"number",placeholder:"Min age",value:oe.ageMin,onChange:_e=>fe({...oe,ageMin:_e.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm",min:"18",max:"99"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Max"}),s.jsx("input",{type:"number",placeholder:"Max age",value:oe.ageMax,onChange:_e=>fe({...oe,ageMax:_e.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm",min:"18",max:"99"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Race/Ethnicity"}),s.jsx(hh,{value:oe.race,onChange:_e=>fe({...oe,race:_e}),options:[{value:"all",label:"All Races"},{value:"african",label:"African"},{value:"coloured",label:"Coloured"},{value:"indian",label:"Indian"},{value:"white",label:"White"},{value:"asian",label:"Asian"},{value:"other",label:"Other"}]})]})]})})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.professional?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{onClick:()=>Tt("professional"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fc,{size:16,className:"text-green-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Professional Filters"}),(oe.location||oe.skills||oe.experienceYears!=="all")&&s.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),E.professional?s.jsx(Sh,{size:20}):s.jsx(vc,{size:20})]}),E.professional&&s.jsx("div",{className:"p-6 bg-white",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),s.jsx("input",{type:"text",placeholder:"e.g., Cape Town, Johannesburg",value:oe.location,onChange:_e=>fe({...oe,location:_e.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),s.jsx("input",{type:"text",placeholder:"e.g., React, Python, Java",value:oe.skills,onChange:_e=>fe({...oe,skills:_e.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Separate multiple skills with commas"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),s.jsx(hh,{value:oe.experienceYears,onChange:_e=>fe({...oe,experienceYears:_e}),options:[{value:"all",label:"All Experience Levels"},{value:"0-2",label:"Entry Level (0-2 years)"},{value:"3-5",label:"Mid Level (3-5 years)"},{value:"6-10",label:"Senior (6-10 years)"},{value:"10+",label:"Expert (10+ years)"}]})]})]})})]}),be&&ie&&ie.length>0&&s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.custom?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{onClick:()=>Tt("custom"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hd,{size:16,className:"text-purple-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Custom Fields"}),O&&Object.values(O).some(_e=>_e!=="")&&s.jsx("span",{className:"bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),E.custom?s.jsx(Sh,{size:20}):s.jsx(vc,{size:20})]}),E.custom&&s.jsx("div",{className:"p-6 bg-white",children:s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:ie.map(_e=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[_e.label,s.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",_e.type,")"]})]}),_e.type==="boolean"?s.jsx(hh,{value:O&&O[_e.name]||"",onChange:Ze=>K({...O||{},[_e.name]:Ze}),options:[{value:"",label:"All"},{value:"true",label:"Yes"},{value:"false",label:"No"}]}):_e.type==="select"?s.jsx(hh,{value:O&&O[_e.name]||"",onChange:Ze=>K({...O||{},[_e.name]:Ze}),options:[{value:"",label:"All"},...(_e.options||[]).map(Ze=>({value:Ze,label:Ze}))]}):_e.type==="date"?s.jsx("input",{type:"date",value:O&&O[_e.name]||"",onChange:Ze=>K({...O||{},[_e.name]:Ze.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"}):s.jsx("input",{type:_e.type==="number"?"number":"text",value:O&&O[_e.name]||"",onChange:Ze=>K({...O||{},[_e.name]:Ze.target.value}),placeholder:`Filter by ${_e.label.toLowerCase()}`,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"})]},_e.id))})})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.advanced?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{onClick:()=>Tt("advanced"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(JT,{size:16,className:"text-blue-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Advanced Options"}),(oe.onlyParsed||!oe.includeUnknown)&&s.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),E.advanced?s.jsx(Sh,{size:20}):s.jsx(vc,{size:20})]}),E.advanced&&s.jsx("div",{className:"p-4 bg-white",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:oe.onlyParsed,onChange:_e=>fe({...oe,onlyParsed:_e.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-orange-500 transition-colors",children:"Only show successfully parsed CVs"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Exclude CVs that are still processing or failed to parse"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:oe.includeUnknown,onChange:_e=>fe({...oe,includeUnknown:_e.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-orange-500 transition-colors",children:"Include CVs with missing demographic data"}),s.jsx("p",{className:"text-xs text-gray-500",children:"When filtering by race/gender/age, also show CVs where this info wasn't found"})]})]}),s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(ur,{className:"text-blue-500 flex-shrink-0 mt-0.5",size:14}),s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("strong",{children:"Tip:"}),' Turn off "Include missing data" to see only CVs with complete demographic information for compliance reporting.']})]})})]})})]})]})]}),x.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl p-6 mb-6 flex items-center justify-between shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Pt,{className:"text-white",size:24})}),s.jsxs("span",{className:"text-orange-900 font-bold text-lg",children:[x.length," CV",x.length>1?"s":""," selected"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("button",{onClick:()=>Ie(null,!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-red-500/30",children:[s.jsx(Ys,{size:18}),s.jsx("span",{children:"Delete Selected"})]}),s.jsx("button",{onClick:()=>g([]),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-semibold hover:scale-105",children:"Cancel"})]})]}),d&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(rs,{className:"text-orange-500 animate-spin",size:48})}),!d&&i.length===0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ss,{className:"text-gray-400",size:32})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No CVs uploaded yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start by uploading your first batch of CVs"}),s.jsx("button",{onClick:()=>n("/upload"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Upload CVs"})]}),!d&&i.length>0&&o.length===0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-12 text-center shadow-lg",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-400 to-gray-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(ur,{className:"text-white",size:40})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No CVs found"}),s.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Try adjusting your search or filters"}),s.jsxs("button",{onClick:()=>{p(""),fe({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0}),F(null),K({})},className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[s.jsx(Wt,{size:20}),"Clear all filters"]})]}),!d&&o.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:[s.jsx("div",{ref:ee,className:"overflow-x-auto overflow-y-hidden scrollbar-thin",style:{height:"8px",scrollbarWidth:"thin",scrollbarColor:"#ff6d38 transparent"},onScroll:_e=>{te.current&&(te.current.scrollLeft=_e.target.scrollLeft)},children:s.jsx("div",{style:{width:"fit-content",minWidth:"100%",height:"1px"}})}),s.jsx("div",{ref:te,className:"overflow-x-auto table-container-no-scrollbar",onScroll:_e=>{ee.current&&(ee.current.scrollLeft=_e.target.scrollLeft)},children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-orange-50/30 border-b-2 border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left border-r border-gray-200",children:s.jsx("input",{type:"checkbox",checked:x.length===o.length,onChange:ve,className:"w-5 h-5 text-orange-500 rounded-lg focus:ring-orange-500 focus:ring-2"})}),s.jsx("th",{className:"sticky left-[72px] z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-200 min-w-[280px]",children:"File Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Uploaded"}),J&&s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Match Score"}),Se.map(_e=>{const Ze=ie.find(Me=>Me.name===_e);return Ze?s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-purple-700 uppercase tracking-wider min-w-[180px]",children:Ze.label},_e):null}),s.jsx("th",{className:"sticky right-0 z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-l border-gray-200 min-w-[140px]",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:o.map(_e=>s.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-orange-50/30 transition-all group",children:[s.jsx("td",{className:"sticky left-0 z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-r border-gray-100",children:s.jsx("input",{type:"checkbox",checked:x.includes(_e.id),onChange:()=>he(_e.id),className:"w-4 h-4 text-orange-500 rounded focus:ring-orange-500"})}),s.jsx("td",{className:"sticky left-[72px] z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-r border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Ss,{className:"text-orange-500",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:_e.fileName}),_e.metadata?.name&&s.jsx("p",{className:"text-sm text-gray-500",children:_e.metadata.name})]})]})}),s.jsx("td",{className:"px-6 py-4",children:bt(_e.status)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:at(_e.fileSize)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_d,{size:16,className:"text-gray-400"}),s.jsx("span",{children:Xe(_e.uploadedAt)})]})}),J&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[ke(ae(_e)),ae(_e)!==null&&s.jsx("button",{onClick:()=>W(_e),className:"p-1.5 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"View Match Breakdown",children:s.jsx(kne,{size:16})})]})}),Se.map(Ze=>{const Me=ie.find(ut=>ut.name===Ze);if(!Me)return null;const xt=_e.customFields?.[Ze];return s.jsx("td",{className:"px-6 py-4 text-sm",children:xt!=null&&xt!==""?Me?.type==="boolean"?s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${xt?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:xt?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{size:12,className:"mr-1"}),"Yes"]}):s.jsxs(s.Fragment,{children:[s.jsx(Wt,{size:12,className:"mr-1"}),"No"]})}):Me?.type==="date"?s.jsx("span",{className:"text-gray-700",children:new Date(xt).toLocaleDateString()}):s.jsx("span",{className:"text-gray-700 font-medium",children:String(xt)}):s.jsx("span",{className:"text-gray-400 italic text-xs",children:"-"})},Ze)}),s.jsx("td",{className:"sticky right-0 z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-l border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>n(`/cv/${_e.id}`),className:"p-2 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(bp,{size:18})}),s.jsx("a",{href:_e.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Fp,{size:18})}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsx("button",{onClick:()=>Ie(_e.id,!1),className:"p-2 text-gray-600 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:s.jsx(Ys,{size:18})})]})})]},_e.id))})]})})]})]}),s.jsx(El,{isOpen:I.isOpen,onClose:()=>U({isOpen:!1,cvId:null,isBulk:!1}),onConfirm:Ke,title:I.isBulk?"Delete Multiple CVs":"Delete CV",message:I.isBulk?`Are you sure you want to delete ${x.length} CV(s)? This action cannot be undone.`:"Are you sure you want to delete this CV? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:k}),G&&J&&s.jsx(qie,{cv:G,jobSpec:D.find(_e=>_e.id===J),matchScore:ae(G),onClose:()=>W(null)})]})}function Wie(){const{id:t}=r$(),e=ii(),{currentUser:n,userData:r}=Ei(),i=Td(),[a,o]=V.useState(null),[c,d]=V.useState(!0),[h,f]=V.useState(null),[p,x]=V.useState(!1),[g,b]=V.useState(!1),[v,w]=V.useState(!1),[j,E]=V.useState(!1),[T,D]=V.useState(!1),[M,J]=V.useState([]),[F,z]=V.useState({}),[L,H]=V.useState(!1),[P,I]=V.useState(!1),U=r?.plan||"free",k=ag(U,"customFields");V.useEffect(()=>{le(),k&&G()},[t,k]);const le=async()=>{try{if(d(!0),r?.teamAccess?.isTeamMember){const ee=await En(Lf,"getTeamCV")({cvId:t});if(ee.data.success&&ee.data.cv){const xe={...ee.data.cv,uploadedAt:ee.data.cv.uploadedAt?.toDate?.()||(ee.data.cv.uploadedAt?._seconds?new Date(ee.data.cv.uploadedAt._seconds*1e3):new Date)};o(xe),dk(xe.status),xe.customFields&&z(xe.customFields)}else f("CV not found")}else{const te=await Gf(fa(cr,"cvs",t));if(te.exists()){const ee={id:te.id,...te.data(),uploadedAt:te.data().uploadedAt?.toDate()||new Date};o(ee),dk(ee.status),ee.customFields&&z(ee.customFields)}else f("CV not found")}}catch(K){console.error("Error fetching CV:",K),f("Failed to load CV details")}finally{d(!1)}},G=async()=>{if(n)try{const K=await Gf(fa(cr,"customFieldConfigs",n.uid));K.exists()&&J(K.data().fields||[])}catch(K){console.error("Error loading custom field configs:",K)}},W=async()=>{try{I(!0),await Lp(fa(cr,"cvs",t),{customFields:F}),o(K=>({...K,customFields:F})),i.success("Custom fields saved successfully"),H(!1)}catch(K){console.error("Error saving custom fields:",K),i.error("Failed to save custom fields")}finally{I(!1)}},ie=(K,te)=>{z(ee=>({...ee,[K]:te}))},se=async()=>{try{x(!0);const te=await En(Lf,"deleteCV")({cvId:t});if(te.data.success)R7(),i.success("CV deleted successfully"),setTimeout(()=>{e("/cvs")},1e3);else throw new Error(te.data.message||"Failed to delete CV")}catch(K){console.error("Error deleting CV:",K),i.error("Failed to delete CV. Please try again."),Ll("cv_delete_failed",K.message,"CVDetail"),x(!1),w(!1)}},Se=async()=>{try{b(!0),E(!1),cie(t);const te=await En(Lf,"retryParsing")({cvId:t});console.log("Retry result:",te.data),i.success("CV reprocessing initiated! Refreshing data..."),setTimeout(()=>{le(),b(!1)},2e3)}catch(K){console.error("Error retrying CV parsing:",K),i.error("Failed to retry parsing. Please try again."),Ll("cv_retry_parsing_failed",K.message,"CVDetail"),b(!1)}},X=K=>new Date(K).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),O=K=>{if(K===0)return"0 Bytes";const te=1024,ee=["Bytes","KB","MB"],xe=Math.floor(Math.log(K)/Math.log(te));return Math.round(K/Math.pow(te,xe)*100)/100+" "+ee[xe]};return c?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(rs,{className:"text-orange-500 animate-spin",size:48})}):h?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ur,{className:"text-red-500 mx-auto mb-4",size:48}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:h}),s.jsx("button",{onClick:()=>e("/cvs"),className:"text-orange-500 hover:text-orange-600 font-medium",children:" Back to CV List"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/cvs"),className:"flex items-center space-x-2 text-gray-600 hover:text-orange-500 transition-colors",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-medium",children:"Back to CV List"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"CV"})}),s.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(Ss,{className:"text-orange-500",size:32})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.fileName}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(_d,{size:16}),s.jsx("span",{children:X(a.uploadedAt)})]}),s.jsx("span",{children:""}),s.jsx("span",{children:O(a.fileSize)}),s.jsx("span",{children:""}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.status||"Processing"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("a",{href:a.downloadURL,target:"_blank",rel:"noopener noreferrer",onClick:()=>sie(a.fileName),className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Fp,{size:18}),s.jsx("span",{className:"font-medium",children:"Download"})]}),(a.status==="error"||!a.parsed&&a.status!=="processing")&&s.jsx("button",{onClick:()=>E(!0),disabled:g,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?s.jsxs(s.Fragment,{children:[s.jsx(rs,{size:18,className:"animate-spin"}),s.jsx("span",{children:"Retrying..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(ty,{size:18}),s.jsx("span",{children:"Retry Parsing"})]})}),(!r?.teamAccess?.isTeamMember||r?.teamAccess?.role==="admin")&&s.jsx("button",{onClick:()=>w(!0),disabled:p,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx(rs,{size:18,className:"animate-spin"}),s.jsx("span",{children:"Deleting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ys,{size:18}),s.jsx("span",{children:"Delete"})]})})]})]}),s.jsxs("a",{href:a.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 text-orange-500 hover:text-orange-600 font-medium",children:[s.jsx(YT,{size:16}),s.jsx("span",{children:"View Original Document"})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.metadata&&(a.metadata.name||a.metadata.email||a.metadata.phone)&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(Cl,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Personal Information"})]}),s.jsxs("div",{className:"space-y-3",children:[a.metadata.name&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Cl,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),s.jsx("p",{className:"text-gray-900 font-medium",children:a.metadata.name})]})]}),a.metadata.email&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(bc,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),s.jsx("a",{href:`mailto:${a.metadata.email}`,className:"text-gray-900 font-medium hover:text-orange-500",children:a.metadata.email})]})]}),a.metadata.phone&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ire,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),s.jsx("a",{href:`tel:${a.metadata.phone}`,className:"text-gray-900 font-medium hover:text-orange-500",children:a.metadata.phone})]})]}),a.metadata.location&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Yb,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),s.jsx("p",{className:"text-gray-900 font-medium",children:a.metadata.location})]})]}),a.metadata.linkedin&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Vne,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"LinkedIn"}),s.jsxs("a",{href:a.metadata.linkedin,target:"_blank",rel:"noopener noreferrer",onClick:()=>die(t),className:"text-gray-900 font-medium hover:text-orange-500 flex items-center space-x-1",children:[s.jsx("span",{children:a.metadata.linkedin}),s.jsx(YT,{size:14})]})]})]})]})]}),a.metadata?.skills&&a.metadata.skills.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(Bh,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Skills"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.metadata.skills.map((K,te)=>s.jsx("span",{className:"px-3 py-1.5 bg-orange-50 text-orange-700 rounded-lg text-sm font-medium",children:K},te))})]}),a.metadata?.experience&&a.metadata.experience.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(fc,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Work Experience"})]}),s.jsx("div",{className:"space-y-4",children:a.metadata.experience.map((K,te)=>s.jsxs("div",{className:"pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:K.title||K.position}),s.jsx("p",{className:"text-gray-700 mb-1",children:K.company}),K.duration&&s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:K.duration}),K.description&&s.jsx("p",{className:"text-sm text-gray-600",children:K.description})]},te))})]}),a.metadata?.education&&a.metadata.education.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(IA,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Education"})]}),s.jsx("div",{className:"space-y-4",children:a.metadata.education.map((K,te)=>s.jsxs("div",{className:"pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:K.degree||K.qualification}),s.jsx("p",{className:"text-gray-700 mb-1",children:K.institution||K.school}),K.year&&s.jsx("p",{className:"text-sm text-gray-500",children:K.year})]},te))})]}),a.status==="error"&&a.errorMessage&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ur,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-red-900 mb-2",children:"Processing Error"}),s.jsx("p",{className:"text-sm text-red-800 mb-3 whitespace-pre-wrap",children:a.errorMessage}),a.errorMessage.includes("Pages format")&&s.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-red-200",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-900 mb-1",children:"How to fix this:"}),s.jsxs("ol",{className:"text-xs text-gray-700 space-y-1 list-decimal list-inside",children:[s.jsx("li",{children:"Open your CV in Apple Pages"}),s.jsxs("li",{children:["Go to ",s.jsx("strong",{children:"File  Export To  PDF"})]}),s.jsx("li",{children:"Save the PDF and upload it to CVSift"})]})]})]})]})}),a.status!=="error"&&(!a.metadata||!a.metadata.name&&!a.metadata.email&&!a.metadata.skills?.length&&!a.metadata.experience?.length&&!a.metadata.education?.length)&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ur,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-yellow-900 mb-1",children:"CV Processing"}),s.jsx("p",{className:"text-sm text-yellow-800",children:"This CV is still being processed. Extracted information will appear here once processing is complete."})]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"File Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"File Type"}),s.jsx("p",{className:"text-gray-900 font-medium uppercase",children:a.fileType?.split("/")[1]||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"File Size"}),s.jsx("p",{className:"text-gray-900 font-medium",children:O(a.fileSize)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"Uploaded"}),s.jsx("p",{className:"text-gray-900 font-medium",children:X(a.uploadedAt)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"Status"}),s.jsx("p",{className:"text-gray-900 font-medium capitalize",children:a.status||"Processing"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"Parsed"}),s.jsx("p",{className:"text-gray-900 font-medium",children:a.parsed?"Yes":"No"})]})]})]}),k&&M.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center space-x-2",children:[s.jsx(hd,{size:20,className:"text-purple-500"}),s.jsx("span",{children:"Custom Fields"})]}),L?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>{H(!1),z(a.customFields||{})},className:"text-sm text-gray-500 hover:text-gray-700 font-medium flex items-center space-x-1",children:[s.jsx(Wt,{size:16}),s.jsx("span",{children:"Cancel"})]}),s.jsxs("button",{onClick:W,disabled:P,className:"text-sm text-orange-500 hover:text-orange-600 font-medium flex items-center space-x-1 disabled:opacity-50",children:[P?s.jsx(rs,{size:16,className:"animate-spin"}):s.jsx(P0,{size:16}),s.jsx("span",{children:"Save"})]})]}):s.jsxs("button",{onClick:()=>H(!0),className:"text-sm text-orange-500 hover:text-orange-600 font-medium flex items-center space-x-1",children:[s.jsx(RA,{size:16}),s.jsx("span",{children:"Edit"})]})]}),s.jsx("div",{className:"space-y-3",children:M.map(K=>K.conditionalOn&&F[K.conditionalOn]!==K.conditionalValue?null:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:[K.label,K.required&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),L?s.jsxs(s.Fragment,{children:[K.type==="text"&&s.jsx("input",{type:"text",value:F[K.name]||"",onChange:te=>ie(K.name,te.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Enter ${K.label.toLowerCase()}`}),K.type==="number"&&s.jsx("input",{type:"number",value:F[K.name]||"",onChange:te=>ie(K.name,te.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Enter ${K.label.toLowerCase()}`}),K.type==="date"&&s.jsx("input",{type:"date",value:F[K.name]||"",onChange:te=>ie(K.name,te.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),K.type==="boolean"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:F[K.name]===!0,onChange:te=>ie(K.name,te.target.checked),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:F[K.name]?"Yes":"No"})]}),K.type==="select"&&s.jsxs("select",{value:F[K.name]||"",onChange:te=>ie(K.name,te.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsxs("option",{value:"",children:["Select ",K.label.toLowerCase()]}),K.options?.map((te,ee)=>s.jsx("option",{value:te,children:te},ee))]})]}):s.jsx("p",{className:"text-gray-900 font-medium text-sm",children:F[K.name]!==void 0&&F[K.name]!==null&&F[K.name]!==""?K.type==="boolean"?F[K.name]?"Yes":"No":F[K.name]:s.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]},K.id))})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl border-2 border-orange-200 p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2",children:[a.metadata?.summary&&s.jsxs("button",{onClick:()=>{const K=!T;D(K),uie(t,K?"show":"hide")},className:"flex items-center justify-center space-x-2 w-full px-4 py-2 bg-white border border-orange-300 rounded-lg hover:bg-orange-50 transition-colors",children:[s.jsx(ek,{size:18}),s.jsx("span",{className:"font-medium",children:T?"Hide Summary":"View Summary"})]}),s.jsxs("button",{onClick:()=>e("/cvs"),className:"flex items-center justify-center space-x-2 w-full px-4 py-2 bg-white border border-orange-300 rounded-lg hover:bg-orange-50 transition-colors",children:[s.jsx(Ss,{size:18}),s.jsx("span",{className:"font-medium",children:"View All CVs"})]})]})]}),T&&a.metadata?.summary&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(ek,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Professional Summary"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.metadata.summary})]})]})]})]}),s.jsx(El,{isOpen:v,onClose:()=>w(!1),onConfirm:se,title:"Delete CV",message:"Are you sure you want to delete this CV? This action cannot be undone and will permanently remove all associated data.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:p}),s.jsx(El,{isOpen:j,onClose:()=>E(!1),onConfirm:Se,title:"Retry CV Parsing",message:"This will reprocess the CV document with Claude AI. The process may take a few moments. Do you want to continue?",confirmText:"Retry Parsing",cancelText:"Cancel",type:"info",icon:ty,confirmLoading:g})]})}function Gie(){const{currentUser:t}=Ei(),e=ii(),[n,r]=V.useState(null),[i,a]=V.useState(null),{convertAndFormat:o,loading:c}=Xb(),d=[{id:"free",name:"Free",price:0,currency:"ZAR",cvLimit:10,features:["Basic filtering (skills, location)","Email support","Advanced analytics"],current:t?.userData?.plan==="free",disabled:t?.userData?.plan==="free"},{id:"starter",name:"Starter",price:199,currency:"ZAR",cvLimit:50,features:["Basic + advanced filtering","Email support","Bulk upload","Job spec creation","Email notifications","Advanced analytics"],popular:!1,current:t?.userData?.plan==="starter"},{id:"basic",name:"Basic",price:399,currency:"ZAR",cvLimit:150,features:["All filtering options","Priority email support","Advanced analytics","Bulk upload","Email notifications","Match CVs to job specs"],popular:!0,current:t?.userData?.plan==="basic"},{id:"professional",name:"Professional",price:999,currency:"ZAR",cvLimit:600,features:["Everything in Basic","AI Chatbot Assistant","API access","Team collaboration (3 users)","Custom fields","Priority support"],current:t?.userData?.plan==="professional"},{id:"business",name:"Business",price:1999,currency:"ZAR",cvLimit:1500,features:["Everything in Professional","Higher volume (1,500 CVs)","Team collaboration (10 users)","Custom integrations","Priority support"],current:t?.userData?.plan==="business"},{id:"enterprise",name:"Enterprise",price:null,currency:"ZAR",cvLimit:"Unlimited",features:["Everything in Business","Unlimited CV processing","Custom integrations","Dedicated account manager","SSO & advanced security","White-label option","SLA guarantee"],contact:!0,current:t?.userData?.plan==="enterprise"}],h=async f=>{if(!t){e("/signup");return}if(f.contact){window.location.href="mailto:sales@cvsift.com";return}if(!(f.id==="free"||f.disabled))try{r(f.id),a(null);const x=await En(Lf,"createPayment")({plan:f.id,amount:f.price,itemName:`CVSift ${f.name} Plan - Monthly Subscription`}),{paymentUrl:g,paymentData:b,paymentId:v}=x.data;pie(f.id,f.price),localStorage.setItem("pendingPaymentId",v);const w=document.createElement("form");w.method="POST",w.action=g,Object.keys(b).forEach(j=>{const E=document.createElement("input");E.type="hidden",E.name=j,E.value=b[j],w.appendChild(E)}),document.body.appendChild(w),w.submit()}catch(p){console.error("Payment error:",p),a(p.message||"Failed to initiate payment. Please try again."),r(null),Ll("payment_initiation_failed",p.message,"Pricing")}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"px-6 py-4 mx-auto max-w-7xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center space-x-2 text-gray-600 transition-colors hover:text-orange-500",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-medium",children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"CV"})}),s.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]})]})})}),s.jsxs("div",{className:"px-6 py-12 mx-auto max-w-7xl",children:[s.jsxs("div",{className:"mb-12 text-center",children:[s.jsxs("h1",{className:"mb-4 text-4xl font-bold text-gray-900 md:text-5xl",children:["Choose Your ",s.jsx("span",{className:"text-orange-500",children:"Plan"})]}),s.jsx("p",{className:"max-w-2xl mx-auto text-xl text-gray-600",children:"Upgrade your account to unlock more features and increase your CV upload limit"}),t?.userData?.plan&&s.jsxs("div",{className:"mt-4 flex flex-col items-center gap-3",children:[s.jsxs("span",{className:"inline-block px-4 py-2 text-sm font-medium text-orange-800 bg-orange-100 rounded-full",children:["Current Plan: ",s.jsx("span",{className:"capitalize",children:t.userData.plan})]}),s.jsx(hk,{})]}),!t?.userData?.plan&&s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsx(hk,{})})]}),i&&s.jsx("div",{className:"max-w-3xl p-4 mx-auto mb-6 border border-red-200 rounded-lg bg-red-50",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ur,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"font-medium text-red-800",children:i})}),s.jsx("button",{onClick:()=>a(null),className:"text-red-500 hover:text-red-700",children:""})]})}),s.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:d.filter(f=>f.id!=="enterprise").map(f=>s.jsxs("div",{className:`relative bg-white rounded-xl p-6 border transition-all hover:shadow-xl ${f.popular?"border-orange-500 shadow-lg ring-2 ring-orange-500 ring-opacity-50":f.current?"border-green-500":"border-gray-200"}`,children:[f.popular&&s.jsx("div",{className:"absolute px-3 py-1 text-xs font-bold text-white bg-orange-500 rounded-full -top-3 left-6",children:"MOST POPULAR"}),f.current&&s.jsx("div",{className:"absolute px-3 py-1 text-xs font-bold text-white bg-green-500 rounded-full -top-3 left-6",children:"CURRENT"}),s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:f.name}),s.jsx("div",{className:"mb-4",children:f.price!==null?s.jsxs("div",{className:"flex items-baseline justify-center",children:[s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:c?"Loading...":o(f.price)}),s.jsx("span",{className:"ml-2 text-gray-500",children:"/mo"})]}):s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"Custom"})}),s.jsx("div",{className:"inline-block px-4 py-1.5 bg-orange-50 border border-orange-200 rounded-full",children:s.jsxs("span",{className:"text-sm font-bold text-orange-700",children:[f.cvLimit," CVs/month"]})})]}),s.jsxs("ul",{className:"mb-6 space-y-2.5 min-h-[120px]",children:[f.features.slice(0,3).map((p,x)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx(xr,{className:"text-orange-500 flex-shrink-0 mt-0.5",size:16}),s.jsx("span",{className:"text-sm text-gray-700",children:p})]},x)),f.features.length>3&&s.jsxs("li",{className:"text-sm text-gray-500 italic",children:["+ ",f.features.length-3," more features"]})]}),s.jsx("button",{onClick:()=>h(f),disabled:n===f.id||f.disabled,className:`w-full py-2.5 rounded-lg font-semibold transition-all ${f.current?"bg-green-500 text-white cursor-default":f.popular?"bg-orange-500 text-white hover:bg-orange-600":f.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"} ${n===f.id?"opacity-50 cursor-wait":""}`,children:n===f.id?s.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[s.jsx(rs,{size:16,className:"animate-spin"}),s.jsx("span",{children:"Processing..."})]}):f.current?"Current Plan":f.contact?"Contact Sales":"Get Started"}),!f.current&&!f.contact&&f.price!==null&&s.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Billed monthly. Cancel anytime."})]},f.id))}),d.filter(f=>f.id==="enterprise").map(f=>s.jsx("div",{className:"max-w-4xl mx-auto mt-12",children:s.jsx("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-8 text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:f.name}),s.jsx("p",{className:"text-gray-300 mb-4",children:"For large organizations with complex needs"}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Unlimited CVs"}),s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Custom Integrations"}),s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Dedicated Support"})]})]}),s.jsx("button",{onClick:()=>h(f),className:"px-8 py-3 bg-white text-gray-900 rounded-lg font-bold hover:bg-gray-100 transition-all",children:"Contact Sales"})]})})},f.id)),s.jsxs("div",{className:"mt-16 max-w-6xl mx-auto",children:[s.jsxs("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:["Compare ",s.jsx("span",{className:"text-orange-500",children:"Plans"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900",children:"Features"}),d.map(f=>s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:`text-sm font-bold ${f.popular?"text-orange-500":"text-gray-900"}`,children:f.name}),f.price!==null?s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[c?"...":o(f.price),"/mo"]}):s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Custom"})]})},f.id))]})}),s.jsxs("tbody",{className:"divide-y divide-gray-100",children:[s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:d.length+1,children:"CV Processing"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Monthly CV limit"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"10"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"50"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"150"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"600"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"1,500"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-orange-600",children:"Unlimited"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Bulk upload"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:d.length+1,children:"Filtering & Search"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Advanced filtering (skills, location, etc.)"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Match job specs to CVs"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Custom fields"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:d.length+1,children:"Features & Tools"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Job spec creation"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"AI Chatbot Assistant"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Email notifications"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Advanced analytics"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Ads displayed"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Minimal ads"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-green-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-green-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-green-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-green-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-green-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"API access"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:d.length+1,children:"Collaboration & Security"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Team collaboration"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"3 users"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"10 users"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Unlimited"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Custom integrations"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"SSO & advanced security"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"White-label option"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:d.length+1,children:"Support"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Email support"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Dedicated"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Dedicated account manager"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"SLA guarantee"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Wt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]})]})]})})})]}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("p",{className:"mb-4 text-gray-600",children:"Start with our free plan. Upgrade anytime as your needs grow."}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Need help choosing? ",s.jsx("a",{href:"mailto:support@cvsift.com",className:"text-orange-500 hover:underline",children:"Contact our sales team"})]})]})]})]})}function Yie(){const t=ii(),{currentUser:e,refreshUserData:n}=Ei(),[r,i]=V.useState("checking"),[a,o]=V.useState(null),[c,d]=V.useState(5);if(V.useEffect(()=>{const f=localStorage.getItem("pendingPaymentId");if(!f){i("complete");return}let p=0;const x=20,g=async()=>{try{const b=Mr(),w=await En(b,"getPaymentStatus")({paymentId:f});if(w.data.payment){const j=w.data.payment;if(o(j),j.status==="COMPLETE")return i("complete"),localStorage.removeItem("pendingPaymentId"),n&&await n(),!0;if(j.status==="CANCELLED")return i("error"),localStorage.removeItem("pendingPaymentId"),!0;i("pending")}return p++,p>=x?(i("pending"),!0):!1}catch(b){return console.error("Error checking payment status:",b),p++,p>=x?(i("error"),!0):!1}};g().then(b=>{if(b)return;const v=setInterval(async()=>{await g()&&clearInterval(v)},2e3);return()=>clearInterval(v)})},[e]),V.useEffect(()=>{if(r==="complete"){const f=setInterval(()=>{d(p=>p<=1?(t("/dashboard"),0):p-1)},1e3);return()=>clearInterval(f)}},[r,t]),r==="checking"||r==="pending")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center px-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Gb,{className:"text-blue-500 animate-pulse",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Processing Your Payment"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"We're confirming your payment with PayFast. This usually takes just a few moments..."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:s.jsx("p",{className:"text-sm text-blue-800",children:"Please don't close this window. Your account will be updated automatically once payment is confirmed."})}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})});if(r==="error")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center px-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(ur,{className:"text-red-500",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Issue"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"We encountered an issue confirming your payment. Please contact support if this issue persists."}),s.jsx("button",{onClick:()=>t("/pricing"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Return to Pricing"})]})});const h=a?.purchaseType==="cv_pack";return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center px-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(xr,{className:"text-green-500",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-600 mb-8",children:h?`Thank you for your purchase! ${a?.cvCount||""} CVs have been added to your account.`:"Thank you for upgrading your CVSift plan. Your account has been updated and you can now enjoy all the premium features."}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-8",children:s.jsx("p",{className:"text-sm text-green-800",children:h?"Your CV pack has been added to your account. These CVs never expire and will be used automatically when your monthly limit is reached.":"Your monthly subscription is now active. You will receive a confirmation email shortly."})}),s.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Go to Dashboard"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Redirecting automatically in ",c," seconds..."]})]})})}function Kie(){const t=ii();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center px-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(b1,{className:"text-red-500",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Cancelled"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Your payment was cancelled. No charges have been made to your account. You can try again whenever you're ready."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>t("/pricing"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"View Pricing Plans"}),s.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full border-2 border-gray-300 hover:border-orange-500 text-gray-700 px-6 py-3 rounded-lg font-semibold transition-all",children:"Back to Dashboard"})]})]})})}function L7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=L7(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Gr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=L7(t))&&(r&&(r+=" "),r+=e);return r}var A5={},E5={},mk;function Xie(){return mk||(mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(E5)),E5}var C5={},pk;function M7(){return pk||(pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(C5)),C5}var T5={},gk;function VA(){return gk||(gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(T5)),T5}var k5={},I5={},yk;function Zie(){return yk||(yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(I5)),I5}var xk;function qA(){return xk||(xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zie(),n=VA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],o=i.length;if(o===0)return a;let c=0,d="",h="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<o;){const p=i[c];h?p==="\\"&&c+1<o?(c++,d+=i[c]):p===h?h="":d+=p:f?p==='"'||p==="'"?h=p:p==="]"?(f=!1,a.push(d),d=""):d+=p:p==="["?(f=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,c++}return d&&a.push(d),a}t.toPath=r})(k5)),k5}var vk;function $A(){return vk||(vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xie(),n=M7(),r=VA(),i=qA();function a(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const f=c[d];return f===void 0?n.isDeepKey(d)?a(c,i.toPath(d),h):h:f}case"number":case"symbol":{typeof d=="number"&&(d=r.toKey(d));const f=c[d];return f===void 0?h:f}default:{if(Array.isArray(d))return o(c,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const f=c[d];return f===void 0?h:f}}}function o(c,d,h){if(d.length===0)return h;let f=c;for(let p=0;p<d.length;p++){if(f==null||e.isUnsafeProperty(d[p]))return h;f=f[d[p]]}return f===void 0?h:f}t.get=a})(A5)),A5}var P5,bk;function Jie(){return bk||(bk=1,P5=$A().get),P5}var Qie=Jie();const Zb=wu(Qie);var Tl=t=>t===0?0:t>0?1:-1,Ml=t=>typeof t=="number"&&t!=+t,Cf=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,fn=t=>(typeof t=="number"||t instanceof Number)&&!Ml(t),vu=t=>fn(t)||typeof t=="string",eae=0,iy=t=>{var e=++eae;return"".concat(t||"").concat(e)},Vh=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!fn(e)&&typeof e!="string")return r;var a;if(Cf(e)){if(n==null)return r;var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return Ml(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},z7=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function nd(t,e,n){return fn(t)&&fn(e)?t+n*(e-t):e}function F7(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Zb(r,e))===n)}var Ra=t=>t===null||typeof t>"u",HA=t=>Ra(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),tae=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function WA(t){if(typeof t!="string")return!1;var e=tae;return e.includes(t)}var nae=["viewBox","children"],wk=["points","pathLength"],R5={svg:nae,polygon:wk,polyline:wk},GA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(V.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{WA(i)&&(r[i]=(a=>n[i](n,a)))}),r},rae=(t,e,n)=>r=>(t(e,n,r),null),iae=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];WA(i)&&typeof a=="function"&&(r||(r={}),r[i]=rae(a,e,n))}),r},aae=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function U7(t){if(typeof t!="string")return!1;var e=aae;return e.includes(t)}function hm(t){var e=Object.entries(t).filter(n=>{var[r]=n;return U7(r)});return Object.fromEntries(e)}var B7=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,sae=(t,e,n,r)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=r&&R5?.[r])!==null&&i!==void 0?i:[],o=e.startsWith("data-"),c=typeof t!="function"&&(!!r&&a.includes(e)||U7(e)),d=!!n&&WA(e);return o||c||d},ss=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(V.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(a=>{var o;sae((o=r)===null||o===void 0?void 0:o[a],a,e,n)&&(i[a]=r[a])}),i},oae=["children","width","height","viewBox","className","style","title","desc"];function lj(){return lj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lj.apply(null,arguments)}function lae(t,e){if(t==null)return{};var n,r,i=cae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var V7=V.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:o,style:c,title:d,desc:h}=t,f=lae(t,oae),p=a||{width:r,height:i,x:0,y:0},x=Gr("recharts-surface",o);return V.createElement("svg",lj({},ss(f,!0,"svg"),{className:x,width:r,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),V.createElement("title",null,d),V.createElement("desc",null,h),n)}),uae=["children","className"];function cj(){return cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cj.apply(null,arguments)}function dae(t,e){if(t==null)return{};var n,r,i=hae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var sg=V.forwardRef((t,e)=>{var{children:n,className:r}=t,i=dae(t,uae),a=Gr("recharts-layer",r);return V.createElement("g",cj({className:a},ss(i,!0),{ref:e}),n)}),fae=V.createContext(null);function Si(t){return function(){return t}}const uj=Math.PI,dj=2*uj,vf=1e-6,mae=dj-vf;function q7(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function pae(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return q7;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gae{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?q7:pae(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,c=this._y1,d=r-e,h=i-n,f=o-e,p=c-n,x=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(x>vf)if(!(Math.abs(p*d-h*f)>vf)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,b=i-c,v=d*d+h*h,w=g*g+b*b,j=Math.sqrt(v),E=Math.sqrt(x),T=a*Math.tan((uj-Math.acos((v+x-w)/(2*j*E)))/2),D=T/E,M=T/j;Math.abs(D-1)>vf&&this._append`L${e+D*f},${n+D*p}`,this._append`A${a},${a},0,0,${+(p*g>f*b)},${this._x1=e+M*d},${this._y1=n+M*h}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(i),d=r*Math.sin(i),h=e+c,f=n+d,p=1^o,x=o?i-a:a-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>vf||Math.abs(this._y1-f)>vf)&&this._append`L${h},${f}`,r&&(x<0&&(x=x%dj+dj),x>mae?this._append`A${r},${r},0,1,${p},${e-c},${n-d}A${r},${r},0,1,${p},${this._x1=h},${this._y1=f}`:x>vf&&this._append`A${r},${r},0,${+(x>=uj)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function $7(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new gae(e)}function YA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function H7(t){this._context=t}H7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Jb(t){return new H7(t)}function W7(t){return t[0]}function G7(t){return t[1]}function Y7(t,e){var n=Si(!0),r=null,i=Jb,a=null,o=$7(c);t=typeof t=="function"?t:t===void 0?W7:Si(t),e=typeof e=="function"?e:e===void 0?G7:Si(e);function c(d){var h,f=(d=YA(d)).length,p,x=!1,g;for(r==null&&(a=i(g=o())),h=0;h<=f;++h)!(h<f&&n(p=d[h],h,d))===x&&((x=!x)?a.lineStart():a.lineEnd()),x&&a.point(+t(p,h,d),+e(p,h,d));if(g)return a=null,g+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Si(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Si(+d),c):e},c.defined=function(d){return arguments.length?(n=typeof d=="function"?d:Si(!!d),c):n},c.curve=function(d){return arguments.length?(i=d,r!=null&&(a=i(r)),c):i},c.context=function(d){return arguments.length?(d==null?r=a=null:a=i(r=d),c):r},c}function Qx(t,e,n){var r=null,i=Si(!0),a=null,o=Jb,c=null,d=$7(h);t=typeof t=="function"?t:t===void 0?W7:Si(+t),e=typeof e=="function"?e:Si(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?G7:Si(+n);function h(p){var x,g,b,v=(p=YA(p)).length,w,j=!1,E,T=new Array(v),D=new Array(v);for(a==null&&(c=o(E=d())),x=0;x<=v;++x){if(!(x<v&&i(w=p[x],x,p))===j)if(j=!j)g=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),b=x-1;b>=g;--b)c.point(T[b],D[b]);c.lineEnd(),c.areaEnd()}j&&(T[x]=+t(w,x,p),D[x]=+e(w,x,p),c.point(r?+r(w,x,p):T[x],n?+n(w,x,p):D[x]))}if(E)return c=null,E+""||null}function f(){return Y7().defined(i).curve(o).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:Si(+p),r=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Si(+p),h):t},h.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Si(+p),h):r},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:Si(+p),n=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Si(+p),h):e},h.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Si(+p),h):n},h.lineX0=h.lineY0=function(){return f().x(t).y(e)},h.lineY1=function(){return f().x(t).y(n)},h.lineX1=function(){return f().x(r).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Si(!!p),h):i},h.curve=function(p){return arguments.length?(o=p,a!=null&&(c=o(a)),h):o},h.context=function(p){return arguments.length?(p==null?a=c=null:c=o(a=p),h):a},h}class K7{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yae(t){return new K7(t,!0)}function xae(t){return new K7(t,!1)}function E1(){}function C1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function X7(t){this._context=t}X7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:C1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:C1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function vae(t){return new X7(t)}function Z7(t){this._context=t}Z7.prototype={areaStart:E1,areaEnd:E1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:C1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function bae(t){return new Z7(t)}function J7(t){this._context=t}J7.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:C1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function wae(t){return new J7(t)}function Q7(t){this._context=t}Q7.prototype={areaStart:E1,areaEnd:E1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function _ae(t){return new Q7(t)}function _k(t){return t<0?-1:1}function Nk(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),c=(a*i+o*r)/(r+i);return(_k(a)+_k(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(c))||0}function jk(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function O5(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,c=(a-r)/3;t._context.bezierCurveTo(r+c,i+c*e,a-c,o-c*n,a,o)}function T1(t){this._context=t}T1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:O5(this,this._t0,jk(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,O5(this,jk(this,n=Nk(this,t,e)),n);break;default:O5(this,this._t0,n=Nk(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function e9(t){this._context=new t9(t)}(e9.prototype=Object.create(T1.prototype)).point=function(t,e){T1.prototype.point.call(this,e,t)};function t9(t){this._context=t}t9.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function Nae(t){return new T1(t)}function jae(t){return new e9(t)}function n9(t){this._context=t}n9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Sk(t),i=Sk(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Sk(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Sae(t){return new n9(t)}function Qb(t,e){this._context=t,this._t=e}Qb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Aae(t){return new Qb(t,.5)}function Eae(t){return new Qb(t,0)}function Cae(t){return new Qb(t,1)}function Up(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,c=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<c;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function hj(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Tae(t,e){return t[e]}function kae(t){const e=[];return e.key=t,e}function Iae(){var t=Si([]),e=hj,n=Up,r=Tae;function i(a){var o=Array.from(t.apply(this,arguments),kae),c,d=o.length,h=-1,f;for(const p of a)for(c=0,++h;c<d;++c)(o[c][h]=[0,+r(p,o[c].key,h,a)]).data=p;for(c=0,f=YA(e(o));c<d;++c)o[f[c]].index=c;return n(o,f),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Si(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Si(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?hj:typeof a=="function"?a:Si(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Up,i):n},i}function Pae(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Up(t,e)}}function Rae(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,c=0;o<i;++o)c+=t[o][n][1]||0;r[n][1]+=r[n][0]=-c/2}Up(t,e)}}function Oae(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var c=0,d=0,h=0;c<o;++c){for(var f=t[e[c]],p=f[r][1]||0,x=f[r-1][1]||0,g=(p-x)/2,b=0;b<c;++b){var v=t[e[b]],w=v[r][1]||0,j=v[r-1][1]||0;g+=w-j}d+=p,h+=g*p}i[r-1][1]+=i[r-1][0]=n,d&&(n-=h/d)}i[r-1][1]+=i[r-1][0]=n,Up(t,e)}}var D5={},L5={},Ak;function Dae(){return Ak||(Ak=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const o=n[a],c=r(o);i.has(c)||i.set(c,o)}return Array.from(i.values())}t.uniqBy=e})(L5)),L5}var M5={},Ek;function r9(){return Ek||(Ek=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(M5)),M5}var z5={},F5={},U5={},Ck;function Lae(){return Ck||(Ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(U5)),U5}var Tk;function KA(){return Tk||(Tk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lae();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(F5)),F5}var B5={},kk;function Mae(){return kk||(kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(B5)),B5}var Ik;function zae(){return Ik||(Ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KA(),n=Mae();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(z5)),z5}var V5={},q5={},Pk;function Fae(){return Pk||(Pk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$A();function n(r){return function(i){return e.get(i,r)}}t.property=n})(q5)),q5}var $5={},H5={},W5={},G5={},Rk;function i9(){return Rk||(Rk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(G5)),G5}var Y5={},Ok;function a9(){return Ok||(Ok=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Y5)),Y5}var K5={},Dk;function s9(){return Dk||(Dk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(K5)),K5}var Lk;function Uae(){return Lk||(Lk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XA(),n=i9(),r=a9(),i=s9();function a(p,x,g){return typeof g!="function"?e.isMatch(p,x):o(p,x,function b(v,w,j,E,T,D){const M=g(v,w,j,E,T,D);return M!==void 0?!!M:o(v,w,b,D)},new Map)}function o(p,x,g,b){if(x===p)return!0;switch(typeof x){case"object":return c(p,x,g,b);case"function":return Object.keys(x).length>0?o(p,{...x},g,b):i.eq(p,x);default:return n.isObject(p)?typeof x=="string"?x==="":!0:i.eq(p,x)}}function c(p,x,g,b){if(x==null)return!0;if(Array.isArray(x))return h(p,x,g,b);if(x instanceof Map)return d(p,x,g,b);if(x instanceof Set)return f(p,x,g,b);const v=Object.keys(x);if(p==null)return v.length===0;if(v.length===0)return!0;if(b&&b.has(x))return b.get(x)===p;b&&b.set(x,p);try{for(let w=0;w<v.length;w++){const j=v[w];if(!r.isPrimitive(p)&&!(j in p)||x[j]===void 0&&p[j]!==void 0||x[j]===null&&p[j]!==null||!g(p[j],x[j],j,p,x,b))return!1}return!0}finally{b&&b.delete(x)}}function d(p,x,g,b){if(x.size===0)return!0;if(!(p instanceof Map))return!1;for(const[v,w]of x.entries()){const j=p.get(v);if(g(j,w,v,p,x,b)===!1)return!1}return!0}function h(p,x,g,b){if(x.length===0)return!0;if(!Array.isArray(p))return!1;const v=new Set;for(let w=0;w<x.length;w++){const j=x[w];let E=!1;for(let T=0;T<p.length;T++){if(v.has(T))continue;const D=p[T];let M=!1;if(g(D,j,w,p,x,b)&&(M=!0),M){v.add(T),E=!0;break}}if(!E)return!1}return!0}function f(p,x,g,b){return x.size===0?!0:p instanceof Set?h([...p],[...x],g,b):!1}t.isMatchWith=a,t.isSetMatch=f})(W5)),W5}var Mk;function XA(){return Mk||(Mk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Uae();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(H5)),H5}var X5={},Z5={},J5={},zk;function Bae(){return zk||(zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(J5)),J5}var Q5={},Fk;function o9(){return Fk||(Fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Q5)),Q5}var e_={},Uk;function l9(){return Uk||(Uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",o="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",f="[object Array]",p="[object Function]",x="[object ArrayBuffer]",g="[object Object]",b="[object Error]",v="[object DataView]",w="[object Uint8Array]",j="[object Uint8ClampedArray]",E="[object Uint16Array]",T="[object Uint32Array]",D="[object BigUint64Array]",M="[object Int8Array]",J="[object Int16Array]",F="[object Int32Array]",z="[object BigInt64Array]",L="[object Float32Array]",H="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=x,t.arrayTag=f,t.bigInt64ArrayTag=z,t.bigUint64ArrayTag=D,t.booleanTag=i,t.dataViewTag=v,t.dateTag=c,t.errorTag=b,t.float32ArrayTag=L,t.float64ArrayTag=H,t.functionTag=p,t.int16ArrayTag=J,t.int32ArrayTag=F,t.int8ArrayTag=M,t.mapTag=d,t.numberTag=r,t.objectTag=g,t.regexpTag=e,t.setTag=h,t.stringTag=n,t.symbolTag=o,t.uint16ArrayTag=E,t.uint32ArrayTag=T,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=j})(e_)),e_}var t_={},Bk;function Vae(){return Bk||(Bk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(t_)),t_}var Vk;function c9(){return Vk||(Vk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bae(),n=o9(),r=l9(),i=a9(),a=Vae();function o(f,p){return c(f,void 0,f,new Map,p)}function c(f,p,x,g=new Map,b=void 0){const v=b?.(f,p,x,g);if(v!==void 0)return v;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const w=new Array(f.length);g.set(f,w);for(let j=0;j<f.length;j++)w[j]=c(f[j],j,x,g,b);return Object.hasOwn(f,"index")&&(w.index=f.index),Object.hasOwn(f,"input")&&(w.input=f.input),w}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const w=new RegExp(f.source,f.flags);return w.lastIndex=f.lastIndex,w}if(f instanceof Map){const w=new Map;g.set(f,w);for(const[j,E]of f)w.set(j,c(E,j,x,g,b));return w}if(f instanceof Set){const w=new Set;g.set(f,w);for(const j of f)w.add(c(j,void 0,x,g,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const w=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,w);for(let j=0;j<f.length;j++)w[j]=c(f[j],j,x,g,b);return w}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const w=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,w),d(w,f,x,g,b),w}if(typeof File<"u"&&f instanceof File){const w=new File([f],f.name,{type:f.type});return g.set(f,w),d(w,f,x,g,b),w}if(typeof Blob<"u"&&f instanceof Blob){const w=new Blob([f],{type:f.type});return g.set(f,w),d(w,f,x,g,b),w}if(f instanceof Error){const w=new f.constructor;return g.set(f,w),w.message=f.message,w.name=f.name,w.stack=f.stack,w.cause=f.cause,d(w,f,x,g,b),w}if(f instanceof Boolean){const w=new Boolean(f.valueOf());return g.set(f,w),d(w,f,x,g,b),w}if(f instanceof Number){const w=new Number(f.valueOf());return g.set(f,w),d(w,f,x,g,b),w}if(f instanceof String){const w=new String(f.valueOf());return g.set(f,w),d(w,f,x,g,b),w}if(typeof f=="object"&&h(f)){const w=Object.create(Object.getPrototypeOf(f));return g.set(f,w),d(w,f,x,g,b),w}return f}function d(f,p,x=f,g,b){const v=[...Object.keys(p),...e.getSymbols(p)];for(let w=0;w<v.length;w++){const j=v[w],E=Object.getOwnPropertyDescriptor(f,j);(E==null||E.writable)&&(f[j]=c(p[j],j,x,g,b))}}function h(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=o,t.cloneDeepWithImpl=c,t.copyProperties=d})(Z5)),Z5}var qk;function qae(){return qk||(qk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c9();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(X5)),X5}var $k;function $ae(){return $k||($k=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XA(),n=qae();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})($5)),$5}var n_={},r_={},i_={},Hk;function Hae(){return Hk||(Hk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c9(),n=l9();function r(i,a){return e.cloneDeepWith(i,(o,c,d,h)=>{const f=a?.(o,c,d,h);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case n.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=r})(i_)),i_}var Wk;function Wae(){return Wk||(Wk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hae();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(r_)),r_}var a_={},s_={},Gk;function u9(){return Gk||(Gk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(s_)),s_}var o_={},Yk;function Gae(){return Yk||(Yk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=o9();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(o_)),o_}var Kk;function Yae(){return Kk||(Kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M7(),n=u9(),r=Gae(),i=qA();function a(o,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&o?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let h=o;for(let f=0;f<d.length;f++){const p=d[f];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(a_)),a_}var Xk;function Kae(){return Xk||(Xk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XA(),n=VA(),r=Wae(),i=$A(),a=Yae();function o(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=n.toKey(c);break}}return d=r.cloneDeep(d),function(h){const f=i.get(h,c);return f===void 0?a.has(h,c):d===void 0?f===void 0:e.isMatch(f,d)}}t.matchesProperty=o})(n_)),n_}var Zk;function Xae(){return Zk||(Zk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r9(),n=Fae(),r=$ae(),i=Kae();function a(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?i.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}t.iteratee=a})(V5)),V5}var Jk;function Zae(){return Jk||(Jk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dae(),n=r9(),r=zae(),i=Xae();function a(o,c=n.identity){return r.isArrayLikeObject(o)?e.uniqBy(Array.from(o),i.iteratee(c)):[]}t.uniqBy=a})(D5)),D5}var l_,Qk;function Jae(){return Qk||(Qk=1,l_=Zae().uniqBy),l_}var Qae=Jae();const eI=wu(Qae);function ese(t,e,n){return e===!0?eI(t,n):typeof e=="function"?eI(t,e):t}var c_={exports:{}},u_={},d_={exports:{}},h_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function tse(){if(tI)return h_;tI=1;var t=Gp();function e(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function c(p,x){var g=x(),b=r({inst:{value:g,getSnapshot:x}}),v=b[0].inst,w=b[1];return a(function(){v.value=g,v.getSnapshot=x,d(v)&&w({inst:v})},[p,g,x]),i(function(){return d(v)&&w({inst:v}),p(function(){d(v)&&w({inst:v})})},[p]),o(g),g}function d(p){var x=p.getSnapshot;p=p.value;try{var g=x();return!n(p,g)}catch{return!0}}function h(p,x){return x()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return h_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,h_}var nI;function nse(){return nI||(nI=1,d_.exports=tse()),d_.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function rse(){if(rI)return u_;rI=1;var t=Gp(),e=nse();function n(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,o=t.useEffect,c=t.useMemo,d=t.useDebugValue;return u_.useSyncExternalStoreWithSelector=function(h,f,p,x,g){var b=a(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=c(function(){function j(J){if(!E){if(E=!0,T=J,J=x(J),g!==void 0&&v.hasValue){var F=v.value;if(g(F,J))return D=F}return D=J}if(F=D,r(T,J))return F;var z=x(J);return g!==void 0&&g(F,z)?(T=J,F):(T=J,D=z)}var E=!1,T,D,M=p===void 0?null:p;return[function(){return j(f())},M===null?void 0:function(){return j(M())}]},[f,p,x,g]);var w=i(h,b[0],b[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),d(w),w},u_}var iI;function ise(){return iI||(iI=1,c_.exports=rse()),c_.exports}var ase=ise(),ZA=V.createContext(null),sse=t=>t,eo=()=>{var t=V.useContext(ZA);return t?t.store.dispatch:sse},Uv=()=>{},ose=()=>Uv,lse=(t,e)=>t===e;function sn(t){var e=V.useContext(ZA);return ase.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:ose,e?e.store.getState:Uv,e?e.store.getState:Uv,e?t:Uv,lse)}function cse(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function use(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function dse(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var aI=t=>Array.isArray(t)?t:[t];function hse(t){const e=Array.isArray(t[0])?t[0]:t;return dse(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function fse(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var mse=class{constructor(t){this.value=t}deref(){return this.value}},pse=typeof WeakRef<"u"?WeakRef:mse,gse=0,sI=1;function ev(){return{s:gse,v:void 0,o:null,p:null}}function d9(t,e={}){let n=ev();const{resultEqualityCheck:r}=e;let i,a=0;function o(){let c=n;const{length:d}=arguments;for(let p=0,x=d;p<x;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=c.o;b===null&&(c.o=b=new WeakMap);const v=b.get(g);v===void 0?(c=ev(),b.set(g,c)):c=v}else{let b=c.p;b===null&&(c.p=b=new Map);const v=b.get(g);v===void 0?(c=ev(),b.set(g,c)):c=v}}const h=c;let f;if(c.s===sI)f=c.v;else if(f=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,f)&&(f=p,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new pse(f):f}return h.s=sI,h.v=f,f}return o.clearCache=()=>{n=ev(),o.resetResultsCount()},o.resultsCount=()=>a,o.resetResultsCount=()=>{a=0},o}function yse(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,o=0,c,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),cse(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...n,...d},{memoize:p,memoizeOptions:x=[],argsMemoize:g=d9,argsMemoizeOptions:b=[]}=f,v=aI(x),w=aI(b),j=hse(i),E=p(function(){return a++,h.apply(null,arguments)},...v),T=g(function(){o++;const M=fse(j,arguments);return c=E.apply(null,M),c},...w);return Object.assign(T,{resultFunc:h,memoizedResultFunc:E,dependencies:j,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var tt=yse(d9),xse=Object.assign((t,e=tt)=>{use(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((o,c,d)=>(o[n[d]]=c,o),{}))},{withTypes:()=>xse}),f_={},m_={},p_={},oI;function vse(){return oI||(oI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const o=e(r),c=e(i);if(o===c&&o===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?c-o:o-c}return 0};t.compareValues=n})(p_)),p_}var g_={},y_={},lI;function h9(){return lI||(lI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(y_)),y_}var cI;function bse(){return cI||(cI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,o){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||o!=null&&Object.hasOwn(o,a)}t.isKey=i})(g_)),g_}var uI;function wse(){return uI||(uI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vse(),n=bse(),r=qA();function i(a,o,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(g=>String(g));const h=(g,b)=>{let v=g;for(let w=0;w<b.length&&v!=null;++w)v=v[b[w]];return v},f=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:h(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?h(b,g):typeof b=="object"?b[g]:b,p=o.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||n.isKey(g)?g:{key:g,path:r.toPath(g)}));return a.map(g=>({original:g,criteria:p.map(b=>f(b,g))})).slice().sort((g,b)=>{for(let v=0;v<p.length;v++){const w=e.compareValues(g.criteria[v],b.criteria[v],c[v]);if(w!==0)return w}return 0}).map(g=>g.original)}t.orderBy=i})(m_)),m_}var x_={},dI;function _se(){return dI||(dI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),o=(c,d)=>{for(let h=0;h<c.length;h++){const f=c[h];Array.isArray(f)&&d<a?o(f,d+1):i.push(f)}};return o(n,0),i}t.flatten=e})(x_)),x_}var v_={},hI;function f9(){return hI||(hI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u9(),n=KA(),r=i9(),i=s9();function a(o,c,d){return r.isObject(d)&&(typeof c=="number"&&n.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],o):!1}t.isIterateeCall=a})(v_)),v_}var fI;function Nse(){return fI||(fI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wse(),n=_se(),r=f9();function i(a,...o){const c=o.length;return c>1&&r.isIterateeCall(a,o[0],o[1])?o=[]:c>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(a,n.flatten(o),["asc"])}t.sortBy=i})(f_)),f_}var b_,mI;function jse(){return mI||(mI=1,b_=Nse().sortBy),b_}var Sse=jse();const e2=wu(Sse);var m9=t=>t.legend.settings,Ase=t=>t.legend.size,Ese=t=>t.legend.payload;tt([Ese,m9],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?e2(r,n):r});var tv=1;function Cse(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=V.useState({height:0,left:0,top:0,width:0}),r=V.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),o={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(o.height-e.height)>tv||Math.abs(o.left-e.left)>tv||Math.abs(o.top-e.top)>tv||Math.abs(o.width-e.width)>tv)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Za(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tse=typeof Symbol=="function"&&Symbol.observable||"@@observable",pI=Tse,w_=()=>Math.random().toString(36).substring(7).split("").join("."),kse={INIT:`@@redux/INIT${w_()}`,REPLACE:`@@redux/REPLACE${w_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${w_()}`},k1=kse;function JA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function p9(t,e,n){if(typeof t!="function")throw new Error(Za(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Za(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Za(1));return n(p9)(t,e)}let r=t,i=e,a=new Map,o=a,c=0,d=!1;function h(){o===a&&(o=new Map,a.forEach((w,j)=>{o.set(j,w)}))}function f(){if(d)throw new Error(Za(3));return i}function p(w){if(typeof w!="function")throw new Error(Za(4));if(d)throw new Error(Za(5));let j=!0;h();const E=c++;return o.set(E,w),function(){if(j){if(d)throw new Error(Za(6));j=!1,h(),o.delete(E),a=null}}}function x(w){if(!JA(w))throw new Error(Za(7));if(typeof w.type>"u")throw new Error(Za(8));if(typeof w.type!="string")throw new Error(Za(17));if(d)throw new Error(Za(9));try{d=!0,i=r(i,w)}finally{d=!1}return(a=o).forEach(E=>{E()}),w}function g(w){if(typeof w!="function")throw new Error(Za(10));r=w,x({type:k1.REPLACE})}function b(){const w=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Za(11));function E(){const D=j;D.next&&D.next(f())}return E(),{unsubscribe:w(E)}},[pI](){return this}}}return x({type:k1.INIT}),{dispatch:x,subscribe:p,getState:f,replaceReducer:g,[pI]:b}}function Ise(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:k1.INIT})>"u")throw new Error(Za(12));if(typeof n(void 0,{type:k1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Za(13))})}function g9(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const o=e[a];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{Ise(n)}catch(a){i=a}return function(o={},c){if(i)throw i;let d=!1;const h={};for(let f=0;f<r.length;f++){const p=r[f],x=n[p],g=o[p],b=x(g,c);if(typeof b>"u")throw c&&c.type,new Error(Za(14));h[p]=b,d=d||b!==g}return d=d||r.length!==Object.keys(o).length,d?h:o}}function I1(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Pse(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(Za(15))};const o={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},c=t.map(d=>d(o));return a=I1(...c)(i.dispatch),{...i,dispatch:a}}}function y9(t){return JA(t)&&"type"in t&&typeof t.type=="string"}var x9=Symbol.for("immer-nothing"),gI=Symbol.for("immer-draftable"),nl=Symbol.for("immer-state");function gc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bp=Object.getPrototypeOf;function Qf(t){return!!t&&!!t[nl]}function Nd(t){return t?v9(t)||Array.isArray(t)||!!t[gI]||!!t.constructor?.[gI]||Dy(t)||n2(t):!1}var Rse=Object.prototype.constructor.toString();function v9(t){if(!t||typeof t!="object")return!1;const e=Bp(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Rse}function P1(t,e){t2(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function t2(t){const e=t[nl];return e?e.type_:Array.isArray(t)?1:Dy(t)?2:n2(t)?3:0}function fj(t,e){return t2(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function b9(t,e,n){const r=t2(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ose(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Dy(t){return t instanceof Map}function n2(t){return t instanceof Set}function bf(t){return t.copy_||t.base_}function mj(t,e){if(Dy(t))return new Map(t);if(n2(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=v9(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[nl];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const o=i[a],c=r[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[o]})}return Object.create(Bp(t),r)}else{const r=Bp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function QA(t,e=!1){return r2(t)||Qf(t)||!Nd(t)||(t2(t)>1&&Object.defineProperties(t,{set:{value:nv},add:{value:nv},clear:{value:nv},delete:{value:nv}}),Object.freeze(t),e&&Object.values(t).forEach(n=>QA(n,!0))),t}function nv(){gc(2)}function r2(t){return Object.isFrozen(t)}var Dse={};function em(t){const e=Dse[t];return e||gc(0,t),e}var ay;function w9(){return ay}function Lse(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yI(t,e){e&&(em("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function pj(t){gj(t),t.drafts_.forEach(Mse),t.drafts_=null}function gj(t){t===ay&&(ay=t.parent_)}function xI(t){return ay=Lse(ay,t)}function Mse(t){const e=t[nl];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function vI(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[nl].modified_&&(pj(e),gc(4)),Nd(t)&&(t=R1(e,t),e.parent_||O1(e,t)),e.patches_&&em("Patches").generateReplacementPatches_(n[nl].base_,t,e.patches_,e.inversePatches_)):t=R1(e,n,[]),pj(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==x9?t:void 0}function R1(t,e,n){if(r2(e))return e;const r=e[nl];if(!r)return P1(e,(i,a)=>bI(t,r,e,i,a,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return O1(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,o=!1;r.type_===3&&(a=new Set(i),i.clear(),o=!0),P1(a,(c,d)=>bI(t,r,i,c,d,n,o)),O1(t,i,!1),n&&t.patches_&&em("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function bI(t,e,n,r,i,a,o){if(Qf(i)){const c=a&&e&&e.type_!==3&&!fj(e.assigned_,r)?a.concat(r):void 0,d=R1(t,i,c);if(b9(n,r,d),Qf(d))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(Nd(i)&&!r2(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;R1(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Dy(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&O1(t,i)}}function O1(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&QA(e,n)}function zse(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:w9(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=e4;n&&(i=[r],a=sy);const{revoke:o,proxy:c}=Proxy.revocable(i,a);return r.draft_=c,r.revoke_=o,c}var e4={get(t,e){if(e===nl)return t;const n=bf(t);if(!fj(n,e))return Fse(t,n,e);const r=n[e];return t.finalized_||!Nd(r)?r:r===__(t.base_,e)?(N_(t),t.copy_[e]=xj(r,t)):r},has(t,e){return e in bf(t)},ownKeys(t){return Reflect.ownKeys(bf(t))},set(t,e,n){const r=_9(bf(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=__(bf(t),e),a=i?.[nl];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ose(n,i)&&(n!==void 0||fj(t.base_,e)))return!0;N_(t),yj(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return __(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,N_(t),yj(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=bf(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){gc(11)},getPrototypeOf(t){return Bp(t.base_)},setPrototypeOf(){gc(12)}},sy={};P1(e4,(t,e)=>{sy[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});sy.deleteProperty=function(t,e){return sy.set.call(this,t,e,void 0)};sy.set=function(t,e,n){return e4.set.call(this,t[0],e,n,t[0])};function __(t,e){const n=t[nl];return(n?bf(n):t)[e]}function Fse(t,e,n){const r=_9(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function _9(t,e){if(!(e in t))return;let n=Bp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Bp(n)}}function yj(t){t.modified_||(t.modified_=!0,t.parent_&&yj(t.parent_))}function N_(t){t.copy_||(t.copy_=mj(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Use=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const o=this;return function(d=a,...h){return o.produce(d,f=>n.call(this,f,...h))}}typeof n!="function"&&gc(6),r!==void 0&&typeof r!="function"&&gc(7);let i;if(Nd(e)){const a=xI(this),o=xj(e,void 0);let c=!0;try{i=n(o),c=!1}finally{c?pj(a):gj(a)}return yI(a,r),vI(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===x9&&(i=void 0),this.autoFreeze_&&QA(i,!0),r){const a=[],o=[];em("Patches").generateReplacementPatches_(e,i,a,o),r(a,o)}return i}else gc(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,d=>e(d,...c));let r,i;return[this.produce(e,n,(o,c)=>{r=o,i=c}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Nd(t)||gc(8),Qf(t)&&(t=fd(t));const e=xI(this),n=xj(t,void 0);return n[nl].isManual_=!0,gj(e),n}finishDraft(t,e){const n=t&&t[nl];(!n||!n.isManual_)&&gc(9);const{scope_:r}=n;return yI(r,e),vI(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=em("Patches").applyPatches_;return Qf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function xj(t,e){const n=Dy(t)?em("MapSet").proxyMap_(t,e):n2(t)?em("MapSet").proxySet_(t,e):zse(t,e);return(e?e.scope_:w9()).drafts_.push(n),n}function fd(t){return Qf(t)||gc(10,t),N9(t)}function N9(t){if(!Nd(t)||r2(t))return t;const e=t[nl];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=mj(t,e.scope_.immer_.useStrictShallowCopy_)}else n=mj(t,!0);return P1(n,(r,i)=>{b9(n,r,N9(i))}),e&&(e.finalized_=!1),n}var Bse=new Use,j9=Bse.produce;function S9(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var Vse=S9(),qse=S9,$se=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?I1:I1.apply(null,arguments)};function zl(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(el(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>y9(r)&&r.type===t,n}var A9=class w0 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,w0.prototype)}static get[Symbol.species](){return w0}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new w0(...e[0].concat(this)):new w0(...e.concat(this))}};function wI(t){return Nd(t)?j9(t,()=>{}):t}function rv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Hse(t){return typeof t=="boolean"}var Wse=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let o=new A9;return n&&(Hse(n)?o.push(Vse):o.push(qse(n.extraArgument))),o},Gse="RTK_autoBatch",_I=t=>e=>{setTimeout(e,t)},Yse=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,o=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:_I(10):t.type==="callback"?t.queueNotification:_I(t.timeout),h=()=>{o=!1,a&&(a=!1,c.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const p=()=>i&&f(),x=r.subscribe(p);return c.add(f),()=>{x(),c.delete(f)}},dispatch(f){try{return i=!f?.meta?.[Gse],a=!i,a&&(o||(o=!0,d(h))),r.dispatch(f)}finally{i=!0}}})},Kse=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new A9(t);return r&&i.push(Yse(typeof r=="object"?r:void 0)),i};function Xse(t){const e=Wse(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:o=void 0}=t||{};let c;if(typeof n=="function")c=n;else if(JA(n))c=g9(n);else throw new Error(el(1));let d;typeof r=="function"?d=r(e):d=e();let h=I1;i&&(h=$se({trace:!1,...typeof i=="object"&&i}));const f=Pse(...d),p=Kse(f);let x=typeof o=="function"?o(p):p();const g=h(...x);return p9(c,a,g)}function E9(t){const e={},n=[];let r;const i={addCase(a,o){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(el(28));if(c in e)throw new Error(el(29));return e[c]=o,i},addAsyncThunk(a,o){return o.pending&&(e[a.pending.type]=o.pending),o.rejected&&(e[a.rejected.type]=o.rejected),o.fulfilled&&(e[a.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:a.settled,reducer:o.settled}),i},addMatcher(a,o){return n.push({matcher:a,reducer:o}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function Zse(t){return typeof t=="function"}function Jse(t,e){let[n,r,i]=E9(e),a;if(Zse(t))a=()=>wI(t());else{const c=wI(t);a=()=>c}function o(c=a(),d){let h=[n[d.type],...r.filter(({matcher:f})=>f(d)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[i]),h.reduce((f,p)=>{if(p)if(Qf(f)){const g=p(f,d);return g===void 0?f:g}else{if(Nd(f))return j9(f,x=>p(x,d));{const x=p(f,d);if(x===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return f},c)}return o.getInitialState=a,o}var Qse="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",eoe=(t=21)=>{let e="",n=t;for(;n--;)e+=Qse[Math.random()*64|0];return e},toe=Symbol.for("rtk-slice-createasyncthunk");function noe(t,e){return`${t}/${e}`}function roe({creators:t}={}){const e=t?.asyncThunk?.[toe];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(el(11));const o=(typeof r.reducers=="function"?r.reducers(aoe()):r.reducers)||{},c=Object.keys(o),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(T,D){const M=typeof T=="string"?T:T.type;if(!M)throw new Error(el(12));if(M in d.sliceCaseReducersByType)throw new Error(el(13));return d.sliceCaseReducersByType[M]=D,h},addMatcher(T,D){return d.sliceMatchers.push({matcher:T,reducer:D}),h},exposeAction(T,D){return d.actionCreators[T]=D,h},exposeCaseReducer(T,D){return d.sliceCaseReducersByName[T]=D,h}};c.forEach(T=>{const D=o[T],M={reducerName:T,type:noe(i,T),createNotation:typeof r.reducers=="function"};ooe(D)?coe(M,D,h,e):soe(M,D,h)});function f(){const[T={},D=[],M=void 0]=typeof r.extraReducers=="function"?E9(r.extraReducers):[r.extraReducers],J={...T,...d.sliceCaseReducersByType};return Jse(r.initialState,F=>{for(let z in J)F.addCase(z,J[z]);for(let z of d.sliceMatchers)F.addMatcher(z.matcher,z.reducer);for(let z of D)F.addMatcher(z.matcher,z.reducer);M&&F.addDefaultCase(M)})}const p=T=>T,x=new Map,g=new WeakMap;let b;function v(T,D){return b||(b=f()),b(T,D)}function w(){return b||(b=f()),b.getInitialState()}function j(T,D=!1){function M(F){let z=F[T];return typeof z>"u"&&D&&(z=rv(g,M,w)),z}function J(F=p){const z=rv(x,D,()=>new WeakMap);return rv(z,F,()=>{const L={};for(const[H,P]of Object.entries(r.selectors??{}))L[H]=ioe(P,F,()=>rv(g,F,w),D);return L})}return{reducerPath:T,getSelectors:J,get selectors(){return J(M)},selectSlice:M}}const E={name:i,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:w,...j(a),injectInto(T,{reducerPath:D,...M}={}){const J=D??a;return T.inject({reducerPath:J,reducer:v},M),{...E,...j(J,!0)}}};return E}}function ioe(t,e,n,r){function i(a,...o){let c=e(a);return typeof c>"u"&&r&&(c=n()),t(c,...o)}return i.unwrapped=t,i}var al=roe();function aoe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function soe({type:t,reducerName:e,createNotation:n},r,i){let a,o;if("reducer"in r){if(n&&!loe(r))throw new Error(el(17));a=r.reducer,o=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,o?zl(t,o):zl(t))}function ooe(t){return t._reducerDefinitionType==="asyncThunk"}function loe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function coe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(el(18));const{payloadCreator:a,fulfilled:o,pending:c,rejected:d,settled:h,options:f}=n,p=i(t,a,f);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),c&&r.addCase(p.pending,c),d&&r.addCase(p.rejected,d),h&&r.addMatcher(p.settled,h),r.exposeCaseReducer(e,{fulfilled:o||iv,pending:c||iv,rejected:d||iv,settled:h||iv})}function iv(){}var uoe="task",C9="listener",T9="completed",t4="cancelled",doe=`task-${t4}`,hoe=`task-${T9}`,vj=`${C9}-${t4}`,foe=`${C9}-${T9}`,i2=class{constructor(t){this.code=t,this.message=`${uoe} ${t4} (reason: ${t})`}name="TaskAbortError";message},n4=(t,e)=>{if(typeof t!="function")throw new TypeError(el(32))},D1=()=>{},k9=(t,e=D1)=>(t.catch(e),t),I9=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Ff=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},Uf=t=>{if(t.aborted){const{reason:e}=t;throw new i2(e)}};function P9(t,e){let n=D1;return new Promise((r,i)=>{const a=()=>i(new i2(t.reason));if(t.aborted){a();return}n=I9(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=D1})}var moe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof i2?"cancelled":"rejected",error:n}}finally{e?.()}},L1=t=>e=>k9(P9(t,e).then(n=>(Uf(t),n))),R9=t=>{const e=L1(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Np}=Object,NI={},a2="listenerMiddleware",poe=(t,e)=>{const n=r=>I9(t,()=>Ff(r,t.reason));return(r,i)=>{n4(r);const a=new AbortController;n(a);const o=moe(async()=>{Uf(t),Uf(a.signal);const c=await r({pause:L1(a.signal),delay:R9(a.signal),signal:a.signal});return Uf(a.signal),c},()=>Ff(a,hoe));return i?.autoJoin&&e.push(o.catch(D1)),{result:L1(t)(o),cancel(){Ff(a,doe)}}}},goe=(t,e)=>{const n=async(r,i)=>{Uf(e);let a=()=>{};const c=[new Promise((d,h)=>{let f=t({predicate:r,effect:(p,x)=>{x.unsubscribe(),d([p,x.getState(),x.getOriginalState()])}});a=()=>{f(),h()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await P9(e,Promise.race(c));return Uf(e),d}finally{a()}};return(r,i)=>k9(n(r,i))},O9=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=zl(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(el(21));return n4(a),{predicate:i,type:e,effect:a}},D9=Np(t=>{const{type:e,predicate:n,effect:r}=O9(t);return{id:eoe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(el(22))}}},{withTypes:()=>D9}),jI=(t,e)=>{const{type:n,effect:r,predicate:i}=O9(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},bj=t=>{t.pending.forEach(e=>{Ff(e,vj)})},yoe=t=>()=>{t.forEach(bj),t.clear()},SI=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},L9=Np(zl(`${a2}/add`),{withTypes:()=>L9}),xoe=zl(`${a2}/removeAll`),M9=Np(zl(`${a2}/remove`),{withTypes:()=>M9}),voe=(...t)=>{console.error(`${a2}/error`,...t)},Ly=(t={})=>{const e=new Map,{extra:n,onError:r=voe}=t;n4(r);const i=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),p=>{f.unsubscribe(),p?.cancelActive&&bj(f)}),a=f=>{const p=jI(e,f)??D9(f);return i(p)};Np(a,{withTypes:()=>a});const o=f=>{const p=jI(e,f);return p&&(p.unsubscribe(),f.cancelActive&&bj(p)),!!p};Np(o,{withTypes:()=>o});const c=async(f,p,x,g)=>{const b=new AbortController,v=goe(a,b.signal),w=[];try{f.pending.add(b),await Promise.resolve(f.effect(p,Np({},x,{getOriginalState:g,condition:(j,E)=>v(j,E).then(Boolean),take:v,delay:R9(b.signal),pause:L1(b.signal),extra:n,signal:b.signal,fork:poe(b.signal,w),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((j,E,T)=>{j!==b&&(Ff(j,vj),T.delete(j))})},cancel:()=>{Ff(b,vj),f.pending.delete(b)},throwIfCancelled:()=>{Uf(b.signal)}})))}catch(j){j instanceof i2||SI(r,j,{raisedBy:"effect"})}finally{await Promise.all(w),Ff(b,foe),f.pending.delete(b)}},d=yoe(e);return{middleware:f=>p=>x=>{if(!y9(x))return p(x);if(L9.match(x))return a(x.payload);if(xoe.match(x)){d();return}if(M9.match(x))return o(x.payload);let g=f.getState();const b=()=>{if(g===NI)throw new Error(el(23));return g};let v;try{if(v=p(x),e.size>0){const w=f.getState(),j=Array.from(e.values());for(const E of j){let T=!1;try{T=E.predicate(x,w,g)}catch(D){T=!1,SI(r,D,{raisedBy:"predicate"})}T&&c(E,x,f,b)}}}finally{g=NI}return v},startListening:a,stopListening:o,clearListeners:d}};function el(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var boe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},z9=al({name:"chartLayout",initialState:boe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:woe,setLayout:_oe,setChartSize:Noe,setScale:joe}=z9.actions,Soe=z9.reducer;function AI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(n),!0).forEach(function(r){Aoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Aoe(t,e,n){return(e=Eoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eoe(t){var e=Coe(t,"string");return typeof e=="symbol"?e:e+""}function Coe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M1=Math.PI/180,Toe=t=>t*180/Math.PI,is=(t,e,n,r)=>({x:t+Math.cos(-M1*r)*n,y:e+Math.sin(-M1*r)*n}),koe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Ioe=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},Poe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,o=Ioe({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o,angle:0};var c=(n-i)/o,d=Math.acos(c);return r>a&&(d=2*Math.PI-d),{radius:o,angle:Toe(d),angleInRadian:d}},Roe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},Ooe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return t+o*360},Doe=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:a}=Poe({x:n,y:r},e),{innerRadius:o,outerRadius:c}=e;if(i<o||i>c||i===0)return null;var{startAngle:d,endAngle:h}=Roe(e),f=a,p;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=d}return p?EI(EI({},e),{},{radius:i,angle:Ooe(f,e)}):null};function F9(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function CI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CI(Object(n),!0).forEach(function(r){Loe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Loe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=zoe(t,"string");return typeof e=="symbol"?e:e+""}function zoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Js(t,e,n){return Ra(t)||Ra(e)?n:vu(e)?Zb(t,e,n):typeof e=="function"?e(t):n}var Foe=(t,e,n,r,i)=>{var a,o=-1,c=(a=e?.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?n[d-1].coordinate:n[c-1].coordinate,f=n[d].coordinate,p=d>=c-1?n[0].coordinate:n[d+1].coordinate,x=void 0;if(Tl(f-h)!==Tl(p-f)){var g=[];if(Tl(p-f)===Tl(i[1]-i[0])){x=p;var b=f+i[1]-i[0];g[0]=Math.min(b,(b+h)/2),g[1]=Math.max(b,(b+h)/2)}else{x=h;var v=p+i[1]-i[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var w=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(t>w[0]&&t<=w[1]||t>=g[0]&&t<=g[1]){({index:o}=n[d]);break}}else{var j=Math.min(h,p),E=Math.max(h,p);if(t>(j+f)/2&&t<=(E+f)/2){({index:o}=n[d]);break}}}else if(e){for(var T=0;T<c;T++)if(T===0&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T>0&&T<c-1&&t>(e[T].coordinate+e[T-1].coordinate)/2&&t<=(e[T].coordinate+e[T+1].coordinate)/2||T===c-1&&t>(e[T].coordinate+e[T-1].coordinate)/2){({index:o}=e[T]);break}}return o},Uoe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:o,layout:c}=e;if((c==="vertical"||c==="horizontal"&&o==="middle")&&a!=="center"&&fn(t[a]))return Sl(Sl({},t),{},{[a]:t[a]+(r||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&o!=="middle"&&fn(t[o]))return Sl(Sl({},t),{},{[o]:t[o]+(i||0)})}return t},Yh=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",U9=(t,e,n,r)=>{if(r)return t.map(c=>c.coordinate);var i,a,o=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===n&&(a=!0),c.coordinate));return i||o.push(e),a||o.push(n),o},B9=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:o,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:f,ticks:p,niceTicks:x,axisType:g}=t;if(!o)return null;var b=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=i==="category"&&o.bandwidth?o.bandwidth()/b:0;if(v=g==="angleAxis"&&a&&a.length>=2?Tl(a[0]-a[1])*2*v:v,p||x){var w=(p||x||[]).map((j,E)=>{var T=r?r.indexOf(j):j;return{coordinate:o(T)+v,value:j,offset:v,index:E}});return w.filter(j=>!Ml(j.coordinate))}return d&&h?h.map((j,E)=>({coordinate:o(j)+v,value:j,index:E,offset:v})):o.ticks&&f!=null?o.ticks(f).map((j,E)=>({coordinate:o(j)+v,value:j,offset:v,index:E})):o.domain().map((j,E)=>({coordinate:o(j)+v,value:r?r[j]:j,index:E,offset:v}))},TI=1e-4,Boe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-TI,a=Math.max(r[0],r[1])+TI,o=t(e[0]),c=t(e[n-1]);(o<i||o>a||c<i||c>a)&&t.domain([e[0],e[n-1]])}},Voe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0,o=0;o<e;++o){var c=Ml(t[o][n][1])?t[o][n][0]:t[o][n][1];c>=0?(t[o][n][0]=i,t[o][n][1]=i+c,i=t[o][n][1]):(t[o][n][0]=a,t[o][n][1]=a+c,a=t[o][n][1])}},qoe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,a=0;a<e;++a){var o=Ml(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=0,t[a][n][1]=0)}},$oe={sign:Voe,expand:Pae,none:Up,silhouette:Rae,wiggle:Oae,positive:qoe},Hoe=(t,e,n)=>{var r=$oe[n],i=Iae().keys(e).value((a,o)=>+Js(a,o,0)).order(hj).offset(r);return i(t)};function kI(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:o}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ra(i[e.dataKey])){var c=F7(n,"value",i[e.dataKey]);if(c)return c.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var d=Js(i,Ra(o)?e.dataKey:o);return Ra(d)?null:e.scale(d)}var Woe=t=>{var e=t.flat(2).filter(fn);return[Math.min(...e),Math.max(...e)]},Goe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Yoe=(t,e,n)=>{if(t!=null)return Goe(Object.keys(t).reduce((r,i)=>{var a=t[i],{stackedData:o}=a,c=o.reduce((d,h)=>{var f=F9(h,e,n),p=Woe(f);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],r[0]),Math.max(c[1],r[1])]},[1/0,-1/0]))},II=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wj=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=e2(e,f=>f.coordinate),a=1/0,o=1,c=i.length;o<c;o++){var d=i[o],h=i[o-1];a=Math.min((d.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function RI(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Sl(Sl({},e),{},{dataKey:n,payload:r,value:i,name:a})}function V9(t,e){if(t)return String(t);if(typeof e=="string")return e}function Koe(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return r?Doe({x:t,y:e},r):null}var Xoe=(t,e,n,r)=>{var i=e.find(h=>h&&h.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:o}=r;return Sl(Sl(Sl({},r),is(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var c=i.coordinate,{angle:d}=r;return Sl(Sl(Sl({},r),is(r.cx,r.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},Zoe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,kd=t=>t.layout.width,Id=t=>t.layout.height,Joe=t=>t.layout.scale,q9=t=>t.layout.margin,s2=tt(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),o2=tt(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Qoe="data-recharts-item-index",ele="data-recharts-item-data-key",My=60;function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tle(t,e,n){return(e=nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nle(t){var e=rle(t,"string");return typeof e=="symbol"?e:e+""}function rle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ile=t=>t.brush.height;function ale(t){var e=o2(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:My;return n+i}return n},0)}function sle(t){var e=o2(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:My;return n+i}return n},0)}function ole(t){var e=s2(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function lle(t){var e=s2(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var os=tt([kd,Id,q9,ile,ale,sle,ole,lle,m9,Ase],(t,e,n,r,i,a,o,c,d,h)=>{var f={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+o,bottom:(n.bottom||0)+c},x=av(av({},p),f),g=x.bottom;x.bottom+=r,x=Uoe(x,d,h);var b=t-x.left-x.right,v=e-x.top-x.bottom;return av(av({brushBottom:g},x),{},{width:Math.max(b,0),height:Math.max(v,0)})}),cle=tt(os,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),$9=tt(kd,Id,(t,e)=>({x:0,y:0,width:t,height:e})),ule=V.createContext(null),Bl=()=>V.useContext(ule)!=null,l2=t=>t.brush,c2=tt([l2,os,q9],(t,e,n)=>({height:t.height,x:fn(t.x)?t.x:e.left,y:fn(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:fn(t.width)?t.width:e.width})),r4=()=>{var t,e=Bl(),n=sn(cle),r=sn(c2),i=(t=sn(l2))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},dle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},H9=()=>{var t;return(t=sn(os))!==null&&t!==void 0?t:dle},W9=()=>sn(kd),G9=()=>sn(Id),Yr=t=>t.layout.layoutType,i4=()=>sn(Yr),hle={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Y9=al({name:"legend",initialState:hle,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=fd(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:X2e,setLegendSettings:Z2e,addLegendPayload:fle,removeLegendPayload:mle}=Y9.actions,ple=Y9.reducer;function _j(){return _j=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_j.apply(null,arguments)}function DI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DI(Object(n),!0).forEach(function(r){gle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gle(t,e,n){return(e=yle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yle(t){var e=xle(t,"string");return typeof e=="symbol"?e:e+""}function xle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vle(t){return Array.isArray(t)&&vu(t[0])&&vu(t[1])?t.join(" ~ "):t}var ble=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:o,itemSorter:c,wrapperClassName:d,labelClassName:h,label:f,labelFormatter:p,accessibilityLayer:x=!1}=t,g=()=>{if(a&&a.length){var M={padding:0,margin:0},J=(c?e2(a,c):a).map((F,z)=>{if(F.type==="none")return null;var L=F.formatter||o||vle,{value:H,name:P}=F,I=H,U=P;if(L){var k=L(H,P,F,z,a);if(Array.isArray(k))[I,U]=k;else if(k!=null)I=k;else return null}var le=j_({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},r);return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:le},vu(U)?V.createElement("span",{className:"recharts-tooltip-item-name"},U):null,vu(U)?V.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,V.createElement("span",{className:"recharts-tooltip-item-value"},I),V.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:M},J)}return null},b=j_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=j_({margin:0},i),w=!Ra(f),j=w?f:"",E=Gr("recharts-default-tooltip",d),T=Gr("recharts-tooltip-label",h);w&&p&&a!==void 0&&a!==null&&(j=p(f,a));var D=x?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",_j({className:E,style:b},D),V.createElement("p",{className:T,style:v},V.isValidElement(j)?j:"".concat(j)),g())},r0="recharts-tooltip-wrapper",wle={visibility:"hidden"};function _le(t){var{coordinate:e,translateX:n,translateY:r}=t;return Gr(r0,{["".concat(r0,"-right")]:fn(n)&&e&&fn(e.x)&&n>=e.x,["".concat(r0,"-left")]:fn(n)&&e&&fn(e.x)&&n<e.x,["".concat(r0,"-bottom")]:fn(r)&&e&&fn(e.y)&&r>=e.y,["".concat(r0,"-top")]:fn(r)&&e&&fn(e.y)&&r<e.y})}function LI(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:o,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=t;if(a&&fn(a[r]))return a[r];var f=n[r]-c-(i>0?i:0),p=n[r]+i;if(e[r])return o[r]?f:p;var x=d[r];if(x==null)return 0;if(o[r]){var g=f,b=x;return g<b?Math.max(p,x):Math.max(f,x)}if(h==null)return 0;var v=p+c,w=x+h;return v>w?Math.max(f,x):Math.max(p,x)}function Nle(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jle(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:d}=t,h,f,p;return o.height>0&&o.width>0&&n?(f=LI({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=LI({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),h=Nle({translateX:f,translateY:p,useTranslate3d:c})):h=wle,{cssProperties:h,cssClasses:_le({translateX:f,translateY:p,coordinate:n})}}function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){Nj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nj(t,e,n){return(e=Sle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sle(t){var e=Ale(t,"string");return typeof e=="symbol"?e:e+""}function Ale(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Ele extends V.PureComponent{constructor(){super(...arguments),Nj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Nj(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:o,hasPayload:c,isAnimationActive:d,offset:h,position:f,reverseDirection:p,useTranslate3d:x,viewBox:g,wrapperStyle:b,lastBoundingBox:v,innerRef:w,hasPortalFromProps:j}=this.props,{cssClasses:E,cssProperties:T}=jle({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:h,position:f,reverseDirection:p,tooltipBox:{height:v.height,width:v.width},useTranslate3d:x,viewBox:g}),D=j?{}:sv(sv({transition:d&&e?"transform ".concat(r,"ms ").concat(i):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),M=sv(sv({},D),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},b);return V.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:M,ref:w},a)}}var Cle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),og={devToolsEnabled:!1,isSsr:Cle()},K9=()=>sn(t=>t.rootProps.accessibilityLayer);function Nc(t){return Number.isFinite(t)}function z1(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function jj(){return jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jj.apply(null,arguments)}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){Tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tle(t,e,n){return(e=kle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kle(t){var e=Ile(t,"string");return typeof e=="symbol"?e:e+""}function Ile(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UI={curveBasisClosed:bae,curveBasisOpen:wae,curveBasis:vae,curveBumpX:yae,curveBumpY:xae,curveLinearClosed:_ae,curveLinear:Jb,curveMonotoneX:Nae,curveMonotoneY:jae,curveNatural:Sae,curveStep:Aae,curveStepAfter:Cae,curveStepBefore:Eae},ov=t=>Nc(t.x)&&Nc(t.y),i0=t=>t.x,a0=t=>t.y,Ple=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(HA(t));return(n==="curveMonotone"||n==="curveBump")&&e?UI["".concat(n).concat(e==="vertical"?"Y":"X")]:UI[n]||Jb},Rle=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=t,o=Ple(e,i),c=a?n.filter(ov):n,d;if(Array.isArray(r)){var h=a?r.filter(p=>ov(p)):r,f=c.map((p,x)=>FI(FI({},p),{},{base:h[x]}));return i==="vertical"?d=Qx().y(a0).x1(i0).x0(p=>p.base.x):d=Qx().x(i0).y1(a0).y0(p=>p.base.y),d.defined(ov).curve(o),d(f)}return i==="vertical"&&fn(r)?d=Qx().y(a0).x1(i0).x0(r):fn(r)?d=Qx().x(i0).y1(a0).y0(r):d=Y7().x(i0).y(a0),d.defined(ov).curve(o),d(c)},X9=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var a=n&&n.length?Rle(t):r;return V.createElement("path",jj({},hm(t),GA(t),{className:Gr("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Ole=["x","y","top","left","width","height","className"];function Sj(){return Sj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sj.apply(null,arguments)}function BI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dle(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(n),!0).forEach(function(r){Lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lle(t,e,n){return(e=Mle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mle(t){var e=zle(t,"string");return typeof e=="symbol"?e:e+""}function zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fle(t,e){if(t==null)return{};var n,r,i=Ule(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ule(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ble=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),Vle=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:o=0,className:c}=t,d=Fle(t,Ole),h=Dle({x:e,y:n,top:r,left:i,width:a,height:o},d);return!fn(e)||!fn(n)||!fn(a)||!fn(o)||!fn(r)||!fn(i)?null:V.createElement("path",Sj({},ss(h,!0),{className:Gr("recharts-cross",c),d:Ble(e,n,a,o,r,i)}))};function qle(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function VI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VI(Object(n),!0).forEach(function(r){Hle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hle(t,e,n){return(e=Wle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wle(t){var e=Gle(t,"string");return typeof e=="symbol"?e:e+""}function Gle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vl(t,e){var n=$le({},t),r=e,i=Object.keys(e),a=i.reduce((o,c)=>(o[c]===void 0&&r[c]!==void 0&&(o[c]=r[c]),o),n);return a}function Yle(){}function qI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $I(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(n),!0).forEach(function(r){Kle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kle(t,e,n){return(e=Xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xle(t){var e=Zle(t,"string");return typeof e=="symbol"?e:e+""}function Zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jle=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Qle=(t,e,n)=>t.map(r=>"".concat(Jle(r)," ").concat(e,"ms ").concat(n)).join(","),ece=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),oy=(t,e)=>Object.keys(e).reduce((n,r)=>$I($I({},n),{},{[r]:t(r,e[r])}),{});function HI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HI(Object(n),!0).forEach(function(r){tce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tce(t,e,n){return(e=nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nce(t){var e=rce(t,"string");return typeof e=="symbol"?e:e+""}function rce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F1=(t,e,n)=>t+(e-t)*n,Aj=t=>{var{from:e,to:n}=t;return e!==n},Z9=(t,e,n)=>{var r=oy((i,a)=>{if(Aj(a)){var[o,c]=t(a.from,a.to,a.velocity);return Qa(Qa({},a),{},{from:o,velocity:c})}return a},e);return n<1?oy((i,a)=>Aj(a)?Qa(Qa({},a),{},{velocity:F1(a.velocity,r[i].velocity,n),from:F1(a.from,r[i].from,n)}):a,e):Z9(t,r,n-1)};function ice(t,e,n,r,i,a){var o,c=r.reduce((x,g)=>Qa(Qa({},x),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),d=()=>oy((x,g)=>g.from,c),h=()=>!Object.values(c).filter(Aj).length,f=null,p=x=>{o||(o=x);var g=x-o,b=g/n.dt;c=Z9(n,c,b),i(Qa(Qa(Qa({},t),e),d())),o=x,h()||(f=a.setTimeout(p))};return()=>(f=a.setTimeout(p),()=>{f()})}function ace(t,e,n,r,i,a,o){var c=null,d=i.reduce((p,x)=>Qa(Qa({},p),{},{[x]:[t[x],e[x]]}),{}),h,f=p=>{h||(h=p);var x=(p-h)/r,g=oy((v,w)=>F1(...w,n(x)),d);if(a(Qa(Qa(Qa({},t),e),g)),x<1)c=o.setTimeout(f);else{var b=oy((v,w)=>F1(...w,n(1)),d);a(Qa(Qa(Qa({},t),e),b))}};return()=>(c=o.setTimeout(f),()=>{c()})}const sce=(t,e,n,r,i,a)=>{var o=ece(t,e);return n.isStepper===!0?ice(t,e,n,o,i,a):ace(t,e,n,r,o,i,a)};var U1=1e-4,J9=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Q9=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),WI=(t,e)=>n=>{var r=J9(t,e);return Q9(r,n)},oce=(t,e)=>n=>{var r=J9(t,e),i=[...r.map((a,o)=>a*o).slice(1),0];return Q9(i,n)},GI=function(){for(var e,n,r,i,a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];if(o.length===1)switch(o[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var d=o[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,r,n,i]=d[1].split(")")[0].split(",").map(b=>parseFloat(b)))}}else o.length===4&&([e,r,n,i]=o);var h=WI(e,n),f=WI(r,i),p=oce(e,n),x=b=>b>1?1:b<0?0:b,g=b=>{for(var v=b>1?1:b,w=v,j=0;j<8;++j){var E=h(w)-v,T=p(w);if(Math.abs(E-v)<U1||T<U1)return f(w);w=x(w-E/T)}return f(w)};return g.isStepper=!1,g},lce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(o,c,d)=>{var h=-(o-c)*n,f=d*r,p=d+(h-f)*i/1e3,x=d*i/1e3+o;return Math.abs(x-c)<U1&&Math.abs(p)<U1?[c,0]:[x,p]};return a.isStepper=!0,a.dt=i,a},cce=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return GI(t);case"spring":return lce();default:if(t.split("(")[0]==="cubic-bezier")return GI(t)}return typeof t=="function"?t:null};function uce(t){var e,n=()=>null,r=!1,i=null,a=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var c=o,[d,...h]=c;if(typeof d=="number"){i=t.setTimeout(a.bind(null,h),d);return}a(d),i=t.setTimeout(a.bind(null,h));return}typeof o=="string"&&(e=o,n(e)),typeof o=="object"&&(e=o,n(e)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,i&&(i(),i=null),a(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>t}}class dce{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=o=>{o-r>=n?e(o):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function hce(){return uce(new dce)}var fce=V.createContext(hce);function mce(t,e){var n=V.useContext(fce);return V.useMemo(()=>e??n(t),[t,e,n])}var pce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},YI={t:0},S_={t:1};function ez(t){var e=Vl(t,pce),{isActive:n,canBegin:r,duration:i,easing:a,begin:o,onAnimationEnd:c,onAnimationStart:d,children:h}=e,f=mce(e.animationId,e.animationManager),[p,x]=V.useState(n?YI:S_),g=V.useRef(null);return V.useEffect(()=>{n||x(S_)},[n]),V.useEffect(()=>{if(!n||!r)return Yle;var b=sce(YI,S_,cce(a),i,x,f.getTimeoutController()),v=()=>{g.current=b()};return f.start([d,o,v,i,c]),()=>{f.stop(),g.current&&g.current(),c()}},[n,r,i,a,o,d,c,f]),h(p.t)}function tz(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=V.useRef(iy(e)),r=V.useRef(t);return r.current!==t&&(n.current=iy(e),r.current=t),n.current}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){gce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gce(t,e,n){return(e=yce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yce(t){var e=xce(t,"string");return typeof e=="symbol"?e:e+""}function xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B1(){return B1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B1.apply(null,arguments)}var ZI=(t,e,n,r,i)=>{var a=Math.min(Math.abs(n)/2,Math.abs(r)/2),o=r>=0?1:-1,c=n>=0?1:-1,d=r>=0&&n>=0||r<0&&n<0?1:0,h;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,x=4;p<x;p++)f[p]=i[p]>a?a:i[p];h="M".concat(t,",").concat(e+o*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(e)),h+="L ".concat(t+n-c*f[1],",").concat(e),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+n,",").concat(e+o*f[1])),h+="L ".concat(t+n,",").concat(e+r-o*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+n-c*f[2],",").concat(e+r)),h+="L ".concat(t+c*f[3],",").concat(e+r),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+r-o*f[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var g=Math.min(a,i);h="M ".concat(t,",").concat(e+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(e,`
            L `).concat(t+n-c*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+n,",").concat(e+o*g,`
            L `).concat(t+n,",").concat(e+r-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+n-c*g,",").concat(e+r,`
            L `).concat(t+c*g,",").concat(e+r,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(e+r-o*g," Z")}else h="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},vce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bce=t=>{var e=Vl(t,vce),n=V.useRef(null),[r,i]=V.useState(-1);V.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&i(k)}catch{}},[]);var{x:a,y:o,width:c,height:d,radius:h,className:f}=e,{animationEasing:p,animationDuration:x,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:v}=e,w=V.useRef(c),j=V.useRef(d),E=V.useRef(a),T=V.useRef(o),D=V.useMemo(()=>({x:a,y:o,width:c,height:d,radius:h}),[a,o,c,d,h]),M=tz(D,"rectangle-");if(a!==+a||o!==+o||c!==+c||d!==+d||c===0||d===0)return null;var J=Gr("recharts-rectangle",f);if(!v)return V.createElement("path",B1({},ss(e,!0),{className:J,d:ZI(a,o,c,d,h)}));var F=w.current,z=j.current,L=E.current,H=T.current,P="0px ".concat(r===-1?1:r,"px"),I="".concat(r,"px 0px"),U=Qle(["strokeDasharray"],x,typeof p=="string"?p:void 0);return V.createElement(ez,{animationId:M,key:M,canBegin:r>0,duration:x,easing:p,isActive:v,begin:g},k=>{var le=nd(F,c,k),G=nd(z,d,k),W=nd(L,a,k),ie=nd(H,o,k);n.current&&(w.current=le,j.current=G,E.current=W,T.current=ie);var se;return b?k>0?se={transition:U,strokeDasharray:I}:se={strokeDasharray:P}:se={strokeDasharray:I},V.createElement("path",B1({},ss(e,!0),{className:J,d:ZI(W,ie,le,G,h),ref:n,style:XI(XI({},se),e.style)}))})};function nz(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,o=is(e,n,r,i),c=is(e,n,r,a);return{points:[o,c],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Ej(){return Ej=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ej.apply(null,arguments)}var wce=(t,e)=>{var n=Tl(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},lv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:o,cornerRadius:c,cornerIsExternal:d}=t,h=c*(o?1:-1)+r,f=Math.asin(c/h)/M1,p=d?i:i+a*f,x=is(e,n,h,p),g=is(e,n,r,p),b=d?i-a*f:i,v=is(e,n,h*Math.cos(f*M1),b);return{center:x,circleTangency:g,lineTangency:v,theta:f}},rz=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:o}=t,c=wce(a,o),d=a+c,h=is(e,n,i,a),f=is(e,n,i,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(r>0){var x=is(e,n,r,a),g=is(e,n,r,d);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(e,",").concat(n," Z");return p},_ce=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:h}=t,f=Tl(h-d),{circleTangency:p,lineTangency:x,theta:g}=lv({cx:e,cy:n,radius:i,angle:d,sign:f,cornerRadius:a,cornerIsExternal:c}),{circleTangency:b,lineTangency:v,theta:w}=lv({cx:e,cy:n,radius:i,angle:h,sign:-f,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(d-h):Math.abs(d-h)-g-w;if(j<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):rz({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:d,endAngle:h});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(r>0){var{circleTangency:T,lineTangency:D,theta:M}=lv({cx:e,cy:n,radius:r,angle:d,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:J,lineTangency:F,theta:z}=lv({cx:e,cy:n,radius:r,angle:h,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),L=c?Math.abs(d-h):Math.abs(d-h)-M-z;if(L<0&&a===0)return"".concat(E,"L").concat(e,",").concat(n,"Z");E+="L".concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(J.x,",").concat(J.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(L>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else E+="L".concat(e,",").concat(n,"Z");return E},Nce={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jce=t=>{var e=Vl(t,Nce),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f,className:p}=e;if(a<i||h===f)return null;var x=Gr("recharts-sector",p),g=a-i,b=Vh(o,g,0,!0),v;return b>0&&Math.abs(h-f)<360?v=_ce({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}):v=rz({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:h,endAngle:f}),V.createElement("path",Ej({},ss(e,!0),{className:x,d:v}))};function Sce(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:d,innerRadius:h,outerRadius:f,angle:p}=e,x=is(c,d,h,p),g=is(c,d,f,p);r=x.x,i=x.y,a=g.x,o=g.y}else return nz(e);return[{x:r,y:i},{x:a,y:o}]}var A_={},E_={},C_={},JI;function Ace(){return JI||(JI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h9();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(C_)),C_}var QI;function Ece(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ace();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(E_)),E_}var eP;function Cce(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f9(),n=Ece();function r(i,a,o){o&&typeof o!="number"&&e.isIterateeCall(i,a,o)&&(a=o=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),o=o===void 0?i<a?1:-1:n.toFinite(o);const c=Math.max(Math.ceil((a-i)/(o||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=i,i+=o;return d}t.range=r})(A_)),A_}var T_,tP;function Tce(){return tP||(tP=1,T_=Cce().range),T_}var kce=Tce();const iz=wu(kce);function Rh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ice(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function a4(t){let e,n,r;t.length!==2?(e=Rh,n=(c,d)=>Rh(t(c),d),r=(c,d)=>t(c)-d):(e=t===Rh||t===Ice?t:Pce,n=t,r=t);function i(c,d,h=0,f=c.length){if(h<f){if(e(d,d)!==0)return f;do{const p=h+f>>>1;n(c[p],d)<0?h=p+1:f=p}while(h<f)}return h}function a(c,d,h=0,f=c.length){if(h<f){if(e(d,d)!==0)return f;do{const p=h+f>>>1;n(c[p],d)<=0?h=p+1:f=p}while(h<f)}return h}function o(c,d,h=0,f=c.length){const p=i(c,d,h,f-1);return p>h&&r(c[p-1],d)>-r(c[p],d)?p-1:p}return{left:i,center:o,right:a}}function Pce(){return 0}function az(t){return t===null?NaN:+t}function*Rce(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Oce=a4(Rh),zy=Oce.right;a4(az).center;class nP extends Map{constructor(e,n=Mce){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(rP(this,e))}has(e){return super.has(rP(this,e))}set(e,n){return super.set(Dce(this,e),n)}delete(e){return super.delete(Lce(this,e))}}function rP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Dce({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Lce({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Mce(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zce(t=Rh){if(t===Rh)return sz;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function sz(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fce=Math.sqrt(50),Uce=Math.sqrt(10),Bce=Math.sqrt(2);function V1(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Fce?10:a>=Uce?5:a>=Bce?2:1;let c,d,h;return i<0?(h=Math.pow(10,-i)/o,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*o,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=n&&n<2?V1(t,e,n*2):[c,d,h]}function Cj(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?V1(e,t,n):V1(t,e,n);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(r)if(o<0)for(let h=0;h<c;++h)d[h]=(a-h)/-o;else for(let h=0;h<c;++h)d[h]=(a-h)*o;else if(o<0)for(let h=0;h<c;++h)d[h]=(i+h)/-o;else for(let h=0;h<c;++h)d[h]=(i+h)*o;return d}function Tj(t,e,n){return e=+e,t=+t,n=+n,V1(t,e,n)[2]}function kj(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Tj(e,t,n):Tj(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function iP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function aP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function oz(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?sz:zce(i);r>n;){if(r-n>600){const d=r-n+1,h=e-n+1,f=Math.log(d),p=.5*Math.exp(2*f/3),x=.5*Math.sqrt(f*p*(d-p)/d)*(h-d/2<0?-1:1),g=Math.max(n,Math.floor(e-h*p/d+x)),b=Math.min(r,Math.floor(e+(d-h)*p/d+x));oz(t,e,g,b,i)}const a=t[e];let o=n,c=r;for(s0(t,n,e),i(t[r],a)>0&&s0(t,n,r);o<c;){for(s0(t,o,c),++o,--c;i(t[o],a)<0;)++o;for(;i(t[c],a)>0;)--c}i(t[n],a)===0?s0(t,n,c):(++c,s0(t,c,r)),c<=e&&(n=c+1),e<=c&&(r=c-1)}return t}function s0(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Vce(t,e,n){if(t=Float64Array.from(Rce(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return aP(t);if(e>=1)return iP(t);var r,i=(r-1)*e,a=Math.floor(i),o=iP(oz(t,a).subarray(0,a+1)),c=aP(t.subarray(a+1));return o+(c-o)*(i-a)}}function qce(t,e,n=az){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),c=+n(t[a+1],a+1,t);return o+(c-o)*(i-a)}}function $ce(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ql(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Ij=Symbol("implicit");function s4(){var t=new nP,e=[],n=[],r=Ij;function i(a){let o=t.get(a);if(o===void 0){if(r!==Ij)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new nP;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return s4(e,n).unknown(r)},ql.apply(i,arguments),i}function o4(){var t=s4().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,c=!1,d=0,h=0,f=.5;delete t.unknown;function p(){var x=e().length,g=i<r,b=g?i:r,v=g?r:i;a=(v-b)/Math.max(1,x-d+h*2),c&&(a=Math.floor(a)),b+=(v-b-a*(x-d))*f,o=a*(1-d),c&&(b=Math.round(b),o=Math.round(o));var w=$ce(x).map(function(j){return b+a*j});return n(g?w.reverse():w)}return t.domain=function(x){return arguments.length?(e(x),p()):e()},t.range=function(x){return arguments.length?([r,i]=x,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(x){return[r,i]=x,r=+r,i=+i,c=!0,p()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(x){return arguments.length?(c=!!x,p()):c},t.padding=function(x){return arguments.length?(d=Math.min(1,h=+x),p()):d},t.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),p()):d},t.paddingOuter=function(x){return arguments.length?(h=+x,p()):h},t.align=function(x){return arguments.length?(f=Math.max(0,Math.min(1,x)),p()):f},t.copy=function(){return o4(e(),[r,i]).round(c).paddingInner(d).paddingOuter(h).align(f)},ql.apply(p(),arguments)}function lz(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lz(e())},t}function Hce(){return lz(o4.apply(null,arguments).paddingInner(1))}function l4(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function cz(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fy(){}var ly=.7,q1=1/ly,jp="\\s*([+-]?\\d+)\\s*",cy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wce=/^#([0-9a-f]{3,8})$/,Gce=new RegExp(`^rgb\\(${jp},${jp},${jp}\\)$`),Yce=new RegExp(`^rgb\\(${yu},${yu},${yu}\\)$`),Kce=new RegExp(`^rgba\\(${jp},${jp},${jp},${cy}\\)$`),Xce=new RegExp(`^rgba\\(${yu},${yu},${yu},${cy}\\)$`),Zce=new RegExp(`^hsl\\(${cy},${yu},${yu}\\)$`),Jce=new RegExp(`^hsla\\(${cy},${yu},${yu},${cy}\\)$`),sP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l4(Fy,uy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oP,formatHex:oP,formatHex8:Qce,formatHsl:eue,formatRgb:lP,toString:lP});function oP(){return this.rgb().formatHex()}function Qce(){return this.rgb().formatHex8()}function eue(){return uz(this).formatHsl()}function lP(){return this.rgb().formatRgb()}function uy(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wce.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?cP(e):n===3?new Eo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?cv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?cv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Gce.exec(t))?new Eo(e[1],e[2],e[3],1):(e=Yce.exec(t))?new Eo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Kce.exec(t))?cv(e[1],e[2],e[3],e[4]):(e=Xce.exec(t))?cv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Zce.exec(t))?hP(e[1],e[2]/100,e[3]/100,1):(e=Jce.exec(t))?hP(e[1],e[2]/100,e[3]/100,e[4]):sP.hasOwnProperty(t)?cP(sP[t]):t==="transparent"?new Eo(NaN,NaN,NaN,0):null}function cP(t){return new Eo(t>>16&255,t>>8&255,t&255,1)}function cv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Eo(t,e,n,r)}function tue(t){return t instanceof Fy||(t=uy(t)),t?(t=t.rgb(),new Eo(t.r,t.g,t.b,t.opacity)):new Eo}function Pj(t,e,n,r){return arguments.length===1?tue(t):new Eo(t,e,n,r??1)}function Eo(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}l4(Eo,Pj,cz(Fy,{brighter(t){return t=t==null?q1:Math.pow(q1,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?ly:Math.pow(ly,t),new Eo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Eo(Bf(this.r),Bf(this.g),Bf(this.b),$1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uP,formatHex:uP,formatHex8:nue,formatRgb:dP,toString:dP}));function uP(){return`#${Tf(this.r)}${Tf(this.g)}${Tf(this.b)}`}function nue(){return`#${Tf(this.r)}${Tf(this.g)}${Tf(this.b)}${Tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function dP(){const t=$1(this.opacity);return`${t===1?"rgb(":"rgba("}${Bf(this.r)}, ${Bf(this.g)}, ${Bf(this.b)}${t===1?")":`, ${t})`}`}function $1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tf(t){return t=Bf(t),(t<16?"0":"")+t.toString(16)}function hP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new yc(t,e,n,r)}function uz(t){if(t instanceof yc)return new yc(t.h,t.s,t.l,t.opacity);if(t instanceof Fy||(t=uy(t)),!t)return new yc;if(t instanceof yc)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,c=a-i,d=(a+i)/2;return c?(e===a?o=(n-r)/c+(n<r)*6:n===a?o=(r-e)/c+2:o=(e-n)/c+4,c/=d<.5?a+i:2-a-i,o*=60):c=d>0&&d<1?0:o,new yc(o,c,d,t.opacity)}function rue(t,e,n,r){return arguments.length===1?uz(t):new yc(t,e,n,r??1)}function yc(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}l4(yc,rue,cz(Fy,{brighter(t){return t=t==null?q1:Math.pow(q1,t),new yc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?ly:Math.pow(ly,t),new yc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Eo(k_(t>=240?t-240:t+120,i,r),k_(t,i,r),k_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new yc(fP(this.h),uv(this.s),uv(this.l),$1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$1(this.opacity);return`${t===1?"hsl(":"hsla("}${fP(this.h)}, ${uv(this.s)*100}%, ${uv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fP(t){return t=(t||0)%360,t<0?t+360:t}function uv(t){return Math.max(0,Math.min(1,t||0))}function k_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const c4=t=>()=>t;function iue(t,e){return function(n){return t+n*e}}function aue(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function sue(t){return(t=+t)==1?dz:function(e,n){return n-e?aue(e,n,t):c4(isNaN(e)?n:e)}}function dz(t,e){var n=e-t;return n?iue(t,n):c4(isNaN(t)?e:t)}const mP=(function t(e){var n=sue(e);function r(i,a){var o=n((i=Pj(i)).r,(a=Pj(a)).r),c=n(i.g,a.g),d=n(i.b,a.b),h=dz(i.opacity,a.opacity);return function(f){return i.r=o(f),i.g=c(f),i.b=d(f),i.opacity=h(f),i+""}}return r.gamma=t,r})(1);function oue(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function lue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function cue(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=lg(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(c){for(o=0;o<r;++o)a[o]=i[o](c);return a}}function uue(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function H1(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function due(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=lg(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Rj=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I_=new RegExp(Rj.source,"g");function hue(t){return function(){return t}}function fue(t){return function(e){return t(e)+""}}function mue(t,e){var n=Rj.lastIndex=I_.lastIndex=0,r,i,a,o=-1,c=[],d=[];for(t=t+"",e=e+"";(r=Rj.exec(t))&&(i=I_.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),c[o]?c[o]+=a:c[++o]=a),(r=r[0])===(i=i[0])?c[o]?c[o]+=i:c[++o]=i:(c[++o]=null,d.push({i:o,x:H1(r,i)})),n=I_.lastIndex;return n<e.length&&(a=e.slice(n),c[o]?c[o]+=a:c[++o]=a),c.length<2?d[0]?fue(d[0].x):hue(e):(e=d.length,function(h){for(var f=0,p;f<e;++f)c[(p=d[f]).i]=p.x(h);return c.join("")})}function lg(t,e){var n=typeof e,r;return e==null||n==="boolean"?c4(e):(n==="number"?H1:n==="string"?(r=uy(e))?(e=r,mP):mue:e instanceof uy?mP:e instanceof Date?uue:lue(e)?oue:Array.isArray(e)?cue:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?due:H1)(t,e)}function u4(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function pue(t,e){e===void 0&&(e=t,t=lg);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var c=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[c](o-c)}}function gue(t){return function(){return t}}function W1(t){return+t}var pP=[0,1];function Xs(t){return t}function Oj(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:gue(isNaN(e)?NaN:.5)}function yue(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function xue(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=Oj(i,r),a=n(o,a)):(r=Oj(r,i),a=n(a,o)),function(c){return a(r(c))}}function vue(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Oj(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(c){var d=zy(t,c,1,r)-1;return a[d](i[d](c))}}function Uy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function u2(){var t=pP,e=pP,n=lg,r,i,a,o=Xs,c,d,h;function f(){var x=Math.min(t.length,e.length);return o!==Xs&&(o=yue(t[0],t[x-1])),c=x>2?vue:xue,d=h=null,p}function p(x){return x==null||isNaN(x=+x)?a:(d||(d=c(t.map(r),e,n)))(r(o(x)))}return p.invert=function(x){return o(i((h||(h=c(e,t.map(r),H1)))(x)))},p.domain=function(x){return arguments.length?(t=Array.from(x,W1),f()):t.slice()},p.range=function(x){return arguments.length?(e=Array.from(x),f()):e.slice()},p.rangeRound=function(x){return e=Array.from(x),n=u4,f()},p.clamp=function(x){return arguments.length?(o=x?!0:Xs,f()):o!==Xs},p.interpolate=function(x){return arguments.length?(n=x,f()):n},p.unknown=function(x){return arguments.length?(a=x,p):a},function(x,g){return r=x,i=g,f()}}function d4(){return u2()(Xs,Xs)}function bue(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function G1(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Vp(t){return t=G1(Math.abs(t)),t?t[1]:NaN}function wue(t,e){return function(n,r){for(var i=n.length,a=[],o=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>r&&(c=Math.max(1,r-d)),a.push(n.substring(i-=c,i+c)),!((d+=c+1)>r));)c=t[o=(o+1)%t.length];return a.reverse().join(e)}}function _ue(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Nue=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dy(t){if(!(e=Nue.exec(t)))throw new Error("invalid format: "+t);var e;return new h4({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}dy.prototype=h4.prototype;function h4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}h4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jue(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var hz;function Sue(t,e){var n=G1(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(hz=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+G1(t,Math.max(0,e+a-1))[0]}function gP(t,e){var n=G1(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const yP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bue,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gP(t*100,e),r:gP,s:Sue,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xP(t){return t}var vP=Array.prototype.map,bP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Aue(t){var e=t.grouping===void 0||t.thousands===void 0?xP:wue(vP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?xP:_ue(vP.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p){p=dy(p);var x=p.fill,g=p.align,b=p.sign,v=p.symbol,w=p.zero,j=p.width,E=p.comma,T=p.precision,D=p.trim,M=p.type;M==="n"?(E=!0,M="g"):yP[M]||(T===void 0&&(T=12),D=!0,M="g"),(w||x==="0"&&g==="=")&&(w=!0,x="0",g="=");var J=v==="$"?n:v==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",F=v==="$"?r:/[%p]/.test(M)?o:"",z=yP[M],L=/[defgprs%]/.test(M);T=T===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function H(P){var I=J,U=F,k,le,G;if(M==="c")U=z(P)+U,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?d:z(Math.abs(P),T),D&&(P=jue(P)),W&&+P==0&&b!=="+"&&(W=!1),I=(W?b==="("?b:c:b==="-"||b==="("?"":b)+I,U=(M==="s"?bP[8+hz/3]:"")+U+(W&&b==="("?")":""),L){for(k=-1,le=P.length;++k<le;)if(G=P.charCodeAt(k),48>G||G>57){U=(G===46?i+P.slice(k+1):P.slice(k))+U,P=P.slice(0,k);break}}}E&&!w&&(P=e(P,1/0));var ie=I.length+P.length+U.length,se=ie<j?new Array(j-ie+1).join(x):"";switch(E&&w&&(P=e(se+P,se.length?j-U.length:1/0),se=""),g){case"<":P=I+P+U+se;break;case"=":P=I+se+P+U;break;case"^":P=se.slice(0,ie=se.length>>1)+I+P+U+se.slice(ie);break;default:P=se+I+P+U;break}return a(P)}return H.toString=function(){return p+""},H}function f(p,x){var g=h((p=dy(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(Vp(x)/3)))*3,v=Math.pow(10,-b),w=bP[8+b/3];return function(j){return g(v*j)+w}}return{format:h,formatPrefix:f}}var dv,f4,fz;Eue({thousands:",",grouping:[3],currency:["$",""]});function Eue(t){return dv=Aue(t),f4=dv.format,fz=dv.formatPrefix,dv}function Cue(t){return Math.max(0,-Vp(Math.abs(t)))}function Tue(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vp(e)/3)))*3-Vp(Math.abs(t)))}function kue(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Vp(e)-Vp(t))+1}function mz(t,e,n,r){var i=kj(t,e,n),a;switch(r=dy(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=Tue(i,o))&&(r.precision=a),fz(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=kue(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=Cue(i))&&(r.precision=a-(r.type==="%")*2);break}}return f4(r)}function Kh(t){var e=t.domain;return t.ticks=function(n){var r=e();return Cj(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return mz(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],c=r[a],d,h,f=10;for(c<o&&(h=o,o=c,c=h,h=i,i=a,a=h);f-- >0;){if(h=Tj(o,c,n),h===d)return r[i]=o,r[a]=c,e(r);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function pz(){var t=d4();return t.copy=function(){return Uy(t,pz())},ql.apply(t,arguments),Kh(t)}function gz(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,W1),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return gz(t).unknown(e)},t=arguments.length?Array.from(t,W1):[0,1],Kh(n)}function yz(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function wP(t){return Math.log(t)}function _P(t){return Math.exp(t)}function Iue(t){return-Math.log(-t)}function Pue(t){return-Math.exp(-t)}function Rue(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Oue(t){return t===10?Rue:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Due(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function NP(t){return(e,n)=>-t(-e,n)}function m4(t){const e=t(wP,_P),n=e.domain;let r=10,i,a;function o(){return i=Due(r),a=Oue(r),n()[0]<0?(i=NP(i),a=NP(a),t(Iue,Pue)):t(wP,_P),e}return e.base=function(c){return arguments.length?(r=+c,o()):r},e.domain=function(c){return arguments.length?(n(c),o()):n()},e.ticks=c=>{const d=n();let h=d[0],f=d[d.length-1];const p=f<h;p&&([h,f]=[f,h]);let x=i(h),g=i(f),b,v;const w=c==null?10:+c;let j=[];if(!(r%1)&&g-x<w){if(x=Math.floor(x),g=Math.ceil(g),h>0){for(;x<=g;++x)for(b=1;b<r;++b)if(v=x<0?b/a(-x):b*a(x),!(v<h)){if(v>f)break;j.push(v)}}else for(;x<=g;++x)for(b=r-1;b>=1;--b)if(v=x>0?b/a(-x):b*a(x),!(v<h)){if(v>f)break;j.push(v)}j.length*2<w&&(j=Cj(h,f,w))}else j=Cj(x,g,Math.min(g-x,w)).map(a);return p?j.reverse():j},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=dy(d)).precision==null&&(d.trim=!0),d=f4(d)),c===1/0)return d;const h=Math.max(1,r*c/e.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*r<r-.5&&(p*=r),p<=h?d(f):""}},e.nice=()=>n(yz(n(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function xz(){const t=m4(u2()).domain([1,10]);return t.copy=()=>Uy(t,xz()).base(t.base()),ql.apply(t,arguments),t}function jP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function SP(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function p4(t){var e=1,n=t(jP(e),SP(e));return n.constant=function(r){return arguments.length?t(jP(e=+r),SP(e)):e},Kh(n)}function vz(){var t=p4(u2());return t.copy=function(){return Uy(t,vz()).constant(t.constant())},ql.apply(t,arguments)}function AP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Lue(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Mue(t){return t<0?-t*t:t*t}function g4(t){var e=t(Xs,Xs),n=1;function r(){return n===1?t(Xs,Xs):n===.5?t(Lue,Mue):t(AP(n),AP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Kh(e)}function y4(){var t=g4(u2());return t.copy=function(){return Uy(t,y4()).exponent(t.exponent())},ql.apply(t,arguments),t}function zue(){return y4.apply(null,arguments).exponent(.5)}function EP(t){return Math.sign(t)*t*t}function Fue(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bz(){var t=d4(),e=[0,1],n=!1,r;function i(a){var o=Fue(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(EP(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,W1)).map(EP)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return bz(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ql.apply(i,arguments),Kh(i)}function wz(){var t=[],e=[],n=[],r;function i(){var o=0,c=Math.max(1,e.length);for(n=new Array(c-1);++o<c;)n[o-1]=qce(t,o/c);return a}function a(o){return o==null||isNaN(o=+o)?r:e[zy(n,o)]}return a.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?n[c-1]:t[0],c<n.length?n[c]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let c of o)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(Rh),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return wz().domain(t).range(e).unknown(r)},ql.apply(a,arguments)}function _z(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(d){return d!=null&&d<=d?i[zy(r,d,0,n)]:a}function c(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*e-(d-n)*t)/(n+1);return o}return o.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},o.range=function(d){return arguments.length?(n=(i=Array.from(d)).length-1,c()):i.slice()},o.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,r[0]]:h>=n?[r[n-1],e]:[r[h-1],r[h]]},o.unknown=function(d){return arguments.length&&(a=d),o},o.thresholds=function(){return r.slice()},o.copy=function(){return _z().domain([t,e]).range(i).unknown(a)},ql.apply(Kh(o),arguments)}function Nz(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[zy(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Nz().domain(t).range(e).unknown(n)},ql.apply(i,arguments)}const P_=new Date,R_=new Date;function pa(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),c=i.ceil(a);return a-o<c-a?o:c},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<o)||!(c>0))return d;let h;do d.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<o);return d},i.filter=a=>pa(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!a(o););else for(;--c>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(P_.setTime(+a),R_.setTime(+o),t(P_),t(R_),Math.floor(n(P_,R_))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Y1=pa(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Y1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pa(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Y1);Y1.range;const sd=1e3,kl=sd*60,od=kl*60,jd=od*24,x4=jd*7,CP=jd*30,O_=jd*365,kf=pa(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sd)},(t,e)=>(e-t)/sd,t=>t.getUTCSeconds());kf.range;const v4=pa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sd)},(t,e)=>{t.setTime(+t+e*kl)},(t,e)=>(e-t)/kl,t=>t.getMinutes());v4.range;const b4=pa(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*kl)},(t,e)=>(e-t)/kl,t=>t.getUTCMinutes());b4.range;const w4=pa(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sd-t.getMinutes()*kl)},(t,e)=>{t.setTime(+t+e*od)},(t,e)=>(e-t)/od,t=>t.getHours());w4.range;const _4=pa(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*od)},(t,e)=>(e-t)/od,t=>t.getUTCHours());_4.range;const By=pa(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*kl)/jd,t=>t.getDate()-1);By.range;const d2=pa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jd,t=>t.getUTCDate()-1);d2.range;const jz=pa(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jd,t=>Math.floor(t/jd));jz.range;function fm(t){return pa(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*kl)/x4)}const h2=fm(0),K1=fm(1),Uue=fm(2),Bue=fm(3),qp=fm(4),Vue=fm(5),que=fm(6);h2.range;K1.range;Uue.range;Bue.range;qp.range;Vue.range;que.range;function mm(t){return pa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/x4)}const f2=mm(0),X1=mm(1),$ue=mm(2),Hue=mm(3),$p=mm(4),Wue=mm(5),Gue=mm(6);f2.range;X1.range;$ue.range;Hue.range;$p.range;Wue.range;Gue.range;const N4=pa(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());N4.range;const j4=pa(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());j4.range;const Sd=pa(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Sd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pa(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Sd.range;const Ad=pa(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ad.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ad.range;function Sz(t,e,n,r,i,a){const o=[[kf,1,sd],[kf,5,5*sd],[kf,15,15*sd],[kf,30,30*sd],[a,1,kl],[a,5,5*kl],[a,15,15*kl],[a,30,30*kl],[i,1,od],[i,3,3*od],[i,6,6*od],[i,12,12*od],[r,1,jd],[r,2,2*jd],[n,1,x4],[e,1,CP],[e,3,3*CP],[t,1,O_]];function c(h,f,p){const x=f<h;x&&([h,f]=[f,h]);const g=p&&typeof p.range=="function"?p:d(h,f,p),b=g?g.range(h,+f+1):[];return x?b.reverse():b}function d(h,f,p){const x=Math.abs(f-h)/p,g=a4(([,,w])=>w).right(o,x);if(g===o.length)return t.every(kj(h/O_,f/O_,p));if(g===0)return Y1.every(Math.max(kj(h,f,p),1));const[b,v]=o[x/o[g-1][2]<o[g][2]/x?g-1:g];return b.every(v)}return[c,d]}const[Yue,Kue]=Sz(Ad,j4,f2,jz,_4,b4),[Xue,Zue]=Sz(Sd,N4,h2,By,w4,v4);function D_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function L_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function o0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Jue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,c=t.months,d=t.shortMonths,h=l0(i),f=c0(i),p=l0(a),x=c0(a),g=l0(o),b=c0(o),v=l0(c),w=c0(c),j=l0(d),E=c0(d),T={a:W,A:ie,b:se,B:Se,c:null,d:OP,e:OP,f:wde,g:Ide,G:Rde,H:xde,I:vde,j:bde,L:Az,m:_de,M:Nde,p:X,q:O,Q:MP,s:zP,S:jde,u:Sde,U:Ade,V:Ede,w:Cde,W:Tde,x:null,X:null,y:kde,Y:Pde,Z:Ode,"%":LP},D={a:K,A:te,b:ee,B:xe,c:null,d:DP,e:DP,f:zde,g:Yde,G:Xde,H:Dde,I:Lde,j:Mde,L:Cz,m:Fde,M:Ude,p:be,q:oe,Q:MP,s:zP,S:Bde,u:Vde,U:qde,V:$de,w:Hde,W:Wde,x:null,X:null,y:Gde,Y:Kde,Z:Zde,"%":LP},M={a:H,A:P,b:I,B:U,c:k,d:PP,e:PP,f:mde,g:IP,G:kP,H:RP,I:RP,j:ude,L:fde,m:cde,M:dde,p:L,q:lde,Q:gde,s:yde,S:hde,u:rde,U:ide,V:ade,w:nde,W:sde,x:le,X:G,y:IP,Y:kP,Z:ode,"%":pde};T.x=J(n,T),T.X=J(r,T),T.c=J(e,T),D.x=J(n,D),D.X=J(r,D),D.c=J(e,D);function J(fe,Ee){return function(Be){var Pe=[],ct=-1,q=0,ae=fe.length,ke,ye,he;for(Be instanceof Date||(Be=new Date(+Be));++ct<ae;)fe.charCodeAt(ct)===37&&(Pe.push(fe.slice(q,ct)),(ye=TP[ke=fe.charAt(++ct)])!=null?ke=fe.charAt(++ct):ye=ke==="e"?" ":"0",(he=Ee[ke])&&(ke=he(Be,ye)),Pe.push(ke),q=ct+1);return Pe.push(fe.slice(q,ct)),Pe.join("")}}function F(fe,Ee){return function(Be){var Pe=o0(1900,void 0,1),ct=z(Pe,fe,Be+="",0),q,ae;if(ct!=Be.length)return null;if("Q"in Pe)return new Date(Pe.Q);if("s"in Pe)return new Date(Pe.s*1e3+("L"in Pe?Pe.L:0));if(Ee&&!("Z"in Pe)&&(Pe.Z=0),"p"in Pe&&(Pe.H=Pe.H%12+Pe.p*12),Pe.m===void 0&&(Pe.m="q"in Pe?Pe.q:0),"V"in Pe){if(Pe.V<1||Pe.V>53)return null;"w"in Pe||(Pe.w=1),"Z"in Pe?(q=L_(o0(Pe.y,0,1)),ae=q.getUTCDay(),q=ae>4||ae===0?X1.ceil(q):X1(q),q=d2.offset(q,(Pe.V-1)*7),Pe.y=q.getUTCFullYear(),Pe.m=q.getUTCMonth(),Pe.d=q.getUTCDate()+(Pe.w+6)%7):(q=D_(o0(Pe.y,0,1)),ae=q.getDay(),q=ae>4||ae===0?K1.ceil(q):K1(q),q=By.offset(q,(Pe.V-1)*7),Pe.y=q.getFullYear(),Pe.m=q.getMonth(),Pe.d=q.getDate()+(Pe.w+6)%7)}else("W"in Pe||"U"in Pe)&&("w"in Pe||(Pe.w="u"in Pe?Pe.u%7:"W"in Pe?1:0),ae="Z"in Pe?L_(o0(Pe.y,0,1)).getUTCDay():D_(o0(Pe.y,0,1)).getDay(),Pe.m=0,Pe.d="W"in Pe?(Pe.w+6)%7+Pe.W*7-(ae+5)%7:Pe.w+Pe.U*7-(ae+6)%7);return"Z"in Pe?(Pe.H+=Pe.Z/100|0,Pe.M+=Pe.Z%100,L_(Pe)):D_(Pe)}}function z(fe,Ee,Be,Pe){for(var ct=0,q=Ee.length,ae=Be.length,ke,ye;ct<q;){if(Pe>=ae)return-1;if(ke=Ee.charCodeAt(ct++),ke===37){if(ke=Ee.charAt(ct++),ye=M[ke in TP?Ee.charAt(ct++):ke],!ye||(Pe=ye(fe,Be,Pe))<0)return-1}else if(ke!=Be.charCodeAt(Pe++))return-1}return Pe}function L(fe,Ee,Be){var Pe=h.exec(Ee.slice(Be));return Pe?(fe.p=f.get(Pe[0].toLowerCase()),Be+Pe[0].length):-1}function H(fe,Ee,Be){var Pe=g.exec(Ee.slice(Be));return Pe?(fe.w=b.get(Pe[0].toLowerCase()),Be+Pe[0].length):-1}function P(fe,Ee,Be){var Pe=p.exec(Ee.slice(Be));return Pe?(fe.w=x.get(Pe[0].toLowerCase()),Be+Pe[0].length):-1}function I(fe,Ee,Be){var Pe=j.exec(Ee.slice(Be));return Pe?(fe.m=E.get(Pe[0].toLowerCase()),Be+Pe[0].length):-1}function U(fe,Ee,Be){var Pe=v.exec(Ee.slice(Be));return Pe?(fe.m=w.get(Pe[0].toLowerCase()),Be+Pe[0].length):-1}function k(fe,Ee,Be){return z(fe,e,Ee,Be)}function le(fe,Ee,Be){return z(fe,n,Ee,Be)}function G(fe,Ee,Be){return z(fe,r,Ee,Be)}function W(fe){return o[fe.getDay()]}function ie(fe){return a[fe.getDay()]}function se(fe){return d[fe.getMonth()]}function Se(fe){return c[fe.getMonth()]}function X(fe){return i[+(fe.getHours()>=12)]}function O(fe){return 1+~~(fe.getMonth()/3)}function K(fe){return o[fe.getUTCDay()]}function te(fe){return a[fe.getUTCDay()]}function ee(fe){return d[fe.getUTCMonth()]}function xe(fe){return c[fe.getUTCMonth()]}function be(fe){return i[+(fe.getUTCHours()>=12)]}function oe(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ee=J(fe+="",T);return Ee.toString=function(){return fe},Ee},parse:function(fe){var Ee=F(fe+="",!1);return Ee.toString=function(){return fe},Ee},utcFormat:function(fe){var Ee=J(fe+="",D);return Ee.toString=function(){return fe},Ee},utcParse:function(fe){var Ee=F(fe+="",!0);return Ee.toString=function(){return fe},Ee}}}var TP={"-":"",_:" ",0:"0"},Ma=/^\s*\d+/,Que=/^%/,ede=/[\\^$*+?|[\]().{}]/g;function ir(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function tde(t){return t.replace(ede,"\\$&")}function l0(t){return new RegExp("^(?:"+t.map(tde).join("|")+")","i")}function c0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function nde(t,e,n){var r=Ma.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function rde(t,e,n){var r=Ma.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function ide(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ade(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function sde(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function kP(t,e,n){var r=Ma.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function IP(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ode(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lde(t,e,n){var r=Ma.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function cde(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function PP(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ude(t,e,n){var r=Ma.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function RP(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function dde(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hde(t,e,n){var r=Ma.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fde(t,e,n){var r=Ma.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function mde(t,e,n){var r=Ma.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function pde(t,e,n){var r=Que.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function gde(t,e,n){var r=Ma.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yde(t,e,n){var r=Ma.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function OP(t,e){return ir(t.getDate(),e,2)}function xde(t,e){return ir(t.getHours(),e,2)}function vde(t,e){return ir(t.getHours()%12||12,e,2)}function bde(t,e){return ir(1+By.count(Sd(t),t),e,3)}function Az(t,e){return ir(t.getMilliseconds(),e,3)}function wde(t,e){return Az(t,e)+"000"}function _de(t,e){return ir(t.getMonth()+1,e,2)}function Nde(t,e){return ir(t.getMinutes(),e,2)}function jde(t,e){return ir(t.getSeconds(),e,2)}function Sde(t){var e=t.getDay();return e===0?7:e}function Ade(t,e){return ir(h2.count(Sd(t)-1,t),e,2)}function Ez(t){var e=t.getDay();return e>=4||e===0?qp(t):qp.ceil(t)}function Ede(t,e){return t=Ez(t),ir(qp.count(Sd(t),t)+(Sd(t).getDay()===4),e,2)}function Cde(t){return t.getDay()}function Tde(t,e){return ir(K1.count(Sd(t)-1,t),e,2)}function kde(t,e){return ir(t.getFullYear()%100,e,2)}function Ide(t,e){return t=Ez(t),ir(t.getFullYear()%100,e,2)}function Pde(t,e){return ir(t.getFullYear()%1e4,e,4)}function Rde(t,e){var n=t.getDay();return t=n>=4||n===0?qp(t):qp.ceil(t),ir(t.getFullYear()%1e4,e,4)}function Ode(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+ir(e/60|0,"0",2)+ir(e%60,"0",2)}function DP(t,e){return ir(t.getUTCDate(),e,2)}function Dde(t,e){return ir(t.getUTCHours(),e,2)}function Lde(t,e){return ir(t.getUTCHours()%12||12,e,2)}function Mde(t,e){return ir(1+d2.count(Ad(t),t),e,3)}function Cz(t,e){return ir(t.getUTCMilliseconds(),e,3)}function zde(t,e){return Cz(t,e)+"000"}function Fde(t,e){return ir(t.getUTCMonth()+1,e,2)}function Ude(t,e){return ir(t.getUTCMinutes(),e,2)}function Bde(t,e){return ir(t.getUTCSeconds(),e,2)}function Vde(t){var e=t.getUTCDay();return e===0?7:e}function qde(t,e){return ir(f2.count(Ad(t)-1,t),e,2)}function Tz(t){var e=t.getUTCDay();return e>=4||e===0?$p(t):$p.ceil(t)}function $de(t,e){return t=Tz(t),ir($p.count(Ad(t),t)+(Ad(t).getUTCDay()===4),e,2)}function Hde(t){return t.getUTCDay()}function Wde(t,e){return ir(X1.count(Ad(t)-1,t),e,2)}function Gde(t,e){return ir(t.getUTCFullYear()%100,e,2)}function Yde(t,e){return t=Tz(t),ir(t.getUTCFullYear()%100,e,2)}function Kde(t,e){return ir(t.getUTCFullYear()%1e4,e,4)}function Xde(t,e){var n=t.getUTCDay();return t=n>=4||n===0?$p(t):$p.ceil(t),ir(t.getUTCFullYear()%1e4,e,4)}function Zde(){return"+0000"}function LP(){return"%"}function MP(t){return+t}function zP(t){return Math.floor(+t/1e3)}var ep,kz,Iz;Jde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jde(t){return ep=Jue(t),kz=ep.format,ep.parse,Iz=ep.utcFormat,ep.utcParse,ep}function Qde(t){return new Date(t)}function ehe(t){return t instanceof Date?+t:+new Date(+t)}function S4(t,e,n,r,i,a,o,c,d,h){var f=d4(),p=f.invert,x=f.domain,g=h(".%L"),b=h(":%S"),v=h("%I:%M"),w=h("%I %p"),j=h("%a %d"),E=h("%b %d"),T=h("%B"),D=h("%Y");function M(J){return(d(J)<J?g:c(J)<J?b:o(J)<J?v:a(J)<J?w:r(J)<J?i(J)<J?j:E:n(J)<J?T:D)(J)}return f.invert=function(J){return new Date(p(J))},f.domain=function(J){return arguments.length?x(Array.from(J,ehe)):x().map(Qde)},f.ticks=function(J){var F=x();return t(F[0],F[F.length-1],J??10)},f.tickFormat=function(J,F){return F==null?M:h(F)},f.nice=function(J){var F=x();return(!J||typeof J.range!="function")&&(J=e(F[0],F[F.length-1],J??10)),J?x(yz(F,J)):f},f.copy=function(){return Uy(f,S4(t,e,n,r,i,a,o,c,d,h))},f}function the(){return ql.apply(S4(Xue,Zue,Sd,N4,h2,By,w4,v4,kf,kz).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nhe(){return ql.apply(S4(Yue,Kue,Ad,j4,f2,d2,_4,b4,kf,Iz).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function m2(){var t=0,e=1,n,r,i,a,o=Xs,c=!1,d;function h(p){return p==null||isNaN(p=+p)?d:o(i===0?.5:(p=(a(p)-n)*i,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),h):[t,e]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(o=p,h):o};function f(p){return function(x){var g,b;return arguments.length?([g,b]=x,o=p(g,b),h):[o(0),o(1)]}}return h.range=f(lg),h.rangeRound=f(u4),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),h}}function Xh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Pz(){var t=Kh(m2()(Xs));return t.copy=function(){return Xh(t,Pz())},Pd.apply(t,arguments)}function Rz(){var t=m4(m2()).domain([1,10]);return t.copy=function(){return Xh(t,Rz()).base(t.base())},Pd.apply(t,arguments)}function Oz(){var t=p4(m2());return t.copy=function(){return Xh(t,Oz()).constant(t.constant())},Pd.apply(t,arguments)}function A4(){var t=g4(m2());return t.copy=function(){return Xh(t,A4()).exponent(t.exponent())},Pd.apply(t,arguments)}function rhe(){return A4.apply(null,arguments).exponent(.5)}function Dz(){var t=[],e=Xs;function n(r){if(r!=null&&!isNaN(r=+r))return e((zy(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Rh),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Vce(t,a/r))},n.copy=function(){return Dz(e).domain(t)},Pd.apply(n,arguments)}function p2(){var t=0,e=.5,n=1,r=1,i,a,o,c,d,h=Xs,f,p=!1,x;function g(v){return isNaN(v=+v)?x:(v=.5+((v=+f(v))-a)*(r*v<r*a?c:d),h(p?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=f(t=+t),a=f(e=+e),o=f(n=+n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(p=!!v,g):p},g.interpolator=function(v){return arguments.length?(h=v,g):h};function b(v){return function(w){var j,E,T;return arguments.length?([j,E,T]=w,h=pue(v,[j,E,T]),g):[h(0),h(.5),h(1)]}}return g.range=b(lg),g.rangeRound=b(u4),g.unknown=function(v){return arguments.length?(x=v,g):x},function(v){return f=v,i=v(t),a=v(e),o=v(n),c=i===a?0:.5/(a-i),d=a===o?0:.5/(o-a),r=a<i?-1:1,g}}function Lz(){var t=Kh(p2()(Xs));return t.copy=function(){return Xh(t,Lz())},Pd.apply(t,arguments)}function Mz(){var t=m4(p2()).domain([.1,1,10]);return t.copy=function(){return Xh(t,Mz()).base(t.base())},Pd.apply(t,arguments)}function zz(){var t=p4(p2());return t.copy=function(){return Xh(t,zz()).constant(t.constant())},Pd.apply(t,arguments)}function E4(){var t=g4(p2());return t.copy=function(){return Xh(t,E4()).exponent(t.exponent())},Pd.apply(t,arguments)}function ihe(){return E4.apply(null,arguments).exponent(.5)}const _0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:o4,scaleDiverging:Lz,scaleDivergingLog:Mz,scaleDivergingPow:E4,scaleDivergingSqrt:ihe,scaleDivergingSymlog:zz,scaleIdentity:gz,scaleImplicit:Ij,scaleLinear:pz,scaleLog:xz,scaleOrdinal:s4,scalePoint:Hce,scalePow:y4,scaleQuantile:wz,scaleQuantize:_z,scaleRadial:bz,scaleSequential:Pz,scaleSequentialLog:Rz,scaleSequentialPow:A4,scaleSequentialQuantile:Dz,scaleSequentialSqrt:rhe,scaleSequentialSymlog:Oz,scaleSqrt:zue,scaleSymlog:vz,scaleThreshold:Nz,scaleTime:the,scaleUtc:nhe,tickFormat:mz},Symbol.toStringTag,{value:"Module"}));var Zh=t=>t.chartData,ahe=tt([Zh],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),C4=(t,e,n,r)=>r?ahe(t):Zh(t);function Hp(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Nc(e)&&Nc(n))return!0}return!1}function FP(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function she(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Nc(n))i=n;else if(typeof n=="function")return;if(Nc(r))a=r;else if(typeof r=="function")return;var o=[i,a];if(Hp(o))return o}}function ohe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Hp(r))return FP(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,o,c;if(i==="auto")e!=null&&(o=Math.min(...e));else if(fn(i))o=i;else if(typeof i=="function")try{e!=null&&(o=i(e?.[0]))}catch{}else if(typeof i=="string"&&II.test(i)){var d=II.exec(i);if(d==null||e==null)o=void 0;else{var h=+d[1];o=e[0]-h}}else o=e?.[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(fn(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e?.[1]))}catch{}else if(typeof a=="string"&&PI.test(a)){var f=PI.exec(a);if(f==null||e==null)c=void 0;else{var p=+f[1];c=e[1]+p}}else c=e?.[1];var x=[o,c];if(Hp(x))return e==null?x:FP(x,e,n)}}}var cg=1e9,lhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},k4,ni=!0,Fl="[DecimalError] ",Vf=Fl+"Invalid argument: ",T4=Fl+"Exponent out of range: ",ug=Math.floor,wf=Math.pow,che=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ko,Ia=1e7,qr=7,Fz=9007199254740991,Z1=ug(Fz/qr),zt={};zt.absoluteValue=zt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};zt.comparedTo=zt.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};zt.decimalPlaces=zt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*qr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};zt.dividedBy=zt.div=function(t){return md(this,new this.constructor(t))};zt.dividedToIntegerBy=zt.idiv=function(t){var e=this,n=e.constructor;return Dr(md(e,new n(t),0,1),n.precision)};zt.equals=zt.eq=function(t){return!this.cmp(t)};zt.exponent=function(){return Ki(this)};zt.greaterThan=zt.gt=function(t){return this.cmp(t)>0};zt.greaterThanOrEqualTo=zt.gte=function(t){return this.cmp(t)>=0};zt.isInteger=zt.isint=function(){return this.e>this.d.length-2};zt.isNegative=zt.isneg=function(){return this.s<0};zt.isPositive=zt.ispos=function(){return this.s>0};zt.isZero=function(){return this.s===0};zt.lessThan=zt.lt=function(t){return this.cmp(t)<0};zt.lessThanOrEqualTo=zt.lte=function(t){return this.cmp(t)<1};zt.logarithm=zt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ko))throw Error(Fl+"NaN");if(n.s<1)throw Error(Fl+(n.s?"NaN":"-Infinity"));return n.eq(Ko)?new r(0):(ni=!1,e=md(hy(n,a),hy(t,a),a),ni=!0,Dr(e,i))};zt.minus=zt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Vz(e,t):Uz(e,(t.s=-t.s,t))};zt.modulo=zt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Fl+"NaN");return n.s?(ni=!1,e=md(n,t,0,1).times(t),ni=!0,n.minus(e)):Dr(new r(n),i)};zt.naturalExponential=zt.exp=function(){return Bz(this)};zt.naturalLogarithm=zt.ln=function(){return hy(this)};zt.negated=zt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};zt.plus=zt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Uz(e,t):Vz(e,(t.s=-t.s,t))};zt.precision=zt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Vf+t);if(e=Ki(i)+1,r=i.d.length-1,n=r*qr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};zt.squareRoot=zt.sqrt=function(){var t,e,n,r,i,a,o,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Fl+"NaN")}for(t=Ki(c),ni=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=au(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=ug((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new d(e)):r=new d(i.toString()),n=d.precision,i=o=n+3;;)if(a=r,r=a.plus(md(c,a,o+2)).times(.5),au(a.d).slice(0,o)===(e=au(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Dr(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;o+=4}return ni=!0,Dr(r,n)};zt.times=zt.mul=function(t){var e,n,r,i,a,o,c,d,h,f=this,p=f.constructor,x=f.d,g=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,n=f.e+t.e,d=x.length,h=g.length,d<h&&(a=x,x=g,g=a,o=d,d=h,h=o),a=[],o=d+h,r=o;r--;)a.push(0);for(r=h;--r>=0;){for(e=0,i=d+r;i>r;)c=a[i]+g[r]*x[i-r-1]+e,a[i--]=c%Ia|0,e=c/Ia|0;a[i]=(a[i]+e)%Ia|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ni?Dr(t,p.precision):t};zt.toDecimalPlaces=zt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(bu(t,0,cg),e===void 0?e=r.rounding:bu(e,0,8),Dr(n,t+Ki(n)+1,e))};zt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=tm(r,!0):(bu(t,0,cg),e===void 0?e=i.rounding:bu(e,0,8),r=Dr(new i(r),t+1,e),n=tm(r,!0,t+1)),n};zt.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?tm(i):(bu(t,0,cg),e===void 0?e=a.rounding:bu(e,0,8),r=Dr(new a(i),t+Ki(i)+1,e),n=tm(r.abs(),!1,t+Ki(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};zt.toInteger=zt.toint=function(){var t=this,e=t.constructor;return Dr(new e(t),Ki(t)+1,e.rounding)};zt.toNumber=function(){return+this};zt.toPower=zt.pow=function(t){var e,n,r,i,a,o,c=this,d=c.constructor,h=12,f=+(t=new d(t));if(!t.s)return new d(Ko);if(c=new d(c),!c.s){if(t.s<1)throw Error(Fl+"Infinity");return c}if(c.eq(Ko))return c;if(r=d.precision,t.eq(Ko))return Dr(c,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=c.s,o){if((n=f<0?-f:f)<=Fz){for(i=new d(Ko),e=Math.ceil(r/qr+4),ni=!1;n%2&&(i=i.times(c),BP(i.d,e)),n=ug(n/2),n!==0;)c=c.times(c),BP(c.d,e);return ni=!0,t.s<0?new d(Ko).div(i):Dr(i,r)}}else if(a<0)throw Error(Fl+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,ni=!1,i=t.times(hy(c,r+h)),ni=!0,i=Bz(i),i.s=a,i};zt.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=Ki(i),r=tm(i,n<=a.toExpNeg||n>=a.toExpPos)):(bu(t,1,cg),e===void 0?e=a.rounding:bu(e,0,8),i=Dr(new a(i),t,e),n=Ki(i),r=tm(i,t<=n||n<=a.toExpNeg,t)),r};zt.toSignificantDigits=zt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(bu(t,1,cg),e===void 0?e=r.rounding:bu(e,0,8)),Dr(new r(n),t,e)};zt.toString=zt.valueOf=zt.val=zt.toJSON=zt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ki(t),n=t.constructor;return tm(t,e<=n.toExpNeg||e>=n.toExpPos)};function Uz(t,e){var n,r,i,a,o,c,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ni?Dr(e,p):e;if(d=t.d,h=e.d,o=t.e,i=e.e,d=d.slice(),a=o-i,a){for(a<0?(r=d,a=-a,c=h.length):(r=h,i=o,c=d.length),o=Math.ceil(p/qr),c=o>c?o+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=d.length,a=h.length,c-a<0&&(a=c,r=h,h=d,d=r),n=0;a;)n=(d[--a]=d[a]+h[a]+n)/Ia|0,d[a]%=Ia;for(n&&(d.unshift(n),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,ni?Dr(e,p):e}function bu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Vf+t)}function au(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=qr-r.length,n&&(a+=ph(n)),a+=r;o=t[e],r=o+"",n=qr-r.length,n&&(a+=ph(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var md=(function(){function t(r,i){var a,o=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+o,r[c]=a%Ia|0,o=a/Ia|0;return o&&r.unshift(o),r}function e(r,i,a,o){var c,d;if(a!=o)d=a>o?1:-1;else for(c=d=0;c<a;c++)if(r[c]!=i[c]){d=r[c]>i[c]?1:-1;break}return d}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*Ia+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var c,d,h,f,p,x,g,b,v,w,j,E,T,D,M,J,F,z,L=r.constructor,H=r.s==i.s?1:-1,P=r.d,I=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Fl+"Division by zero");for(d=r.e-i.e,F=I.length,M=P.length,g=new L(H),b=g.d=[],h=0;I[h]==(P[h]||0);)++h;if(I[h]>(P[h]||0)&&--d,a==null?E=a=L.precision:o?E=a+(Ki(r)-Ki(i))+1:E=a,E<0)return new L(0);if(E=E/qr+2|0,h=0,F==1)for(f=0,I=I[0],E++;(h<M||f)&&E--;h++)T=f*Ia+(P[h]||0),b[h]=T/I|0,f=T%I|0;else{for(f=Ia/(I[0]+1)|0,f>1&&(I=t(I,f),P=t(P,f),F=I.length,M=P.length),D=F,v=P.slice(0,F),w=v.length;w<F;)v[w++]=0;z=I.slice(),z.unshift(0),J=I[0],I[1]>=Ia/2&&++J;do f=0,c=e(I,v,F,w),c<0?(j=v[0],F!=w&&(j=j*Ia+(v[1]||0)),f=j/J|0,f>1?(f>=Ia&&(f=Ia-1),p=t(I,f),x=p.length,w=v.length,c=e(p,v,x,w),c==1&&(f--,n(p,F<x?z:I,x))):(f==0&&(c=f=1),p=I.slice()),x=p.length,x<w&&p.unshift(0),n(v,p,w),c==-1&&(w=v.length,c=e(I,v,F,w),c<1&&(f++,n(v,F<w?z:I,w))),w=v.length):c===0&&(f++,v=[0]),b[h++]=f,c&&v[0]?v[w++]=P[D]||0:(v=[P[D]],w=1);while((D++<M||v[0]!==void 0)&&E--)}return b[0]||b.shift(),g.e=d,Dr(g,o?a+Ki(g)+1:a)}})();function Bz(t,e){var n,r,i,a,o,c,d=0,h=0,f=t.constructor,p=f.precision;if(Ki(t)>16)throw Error(T4+Ki(t));if(!t.s)return new f(Ko);for(ni=!1,c=p,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),h+=5;for(r=Math.log(wf(2,h))/Math.LN10*2+5|0,c+=r,n=i=a=new f(Ko),f.precision=c;;){if(i=Dr(i.times(t),c),n=n.times(++d),o=a.plus(md(i,n,c)),au(o.d).slice(0,c)===au(a.d).slice(0,c)){for(;h--;)a=Dr(a.times(a),c);return f.precision=p,e==null?(ni=!0,Dr(a,p)):a}a=o}}function Ki(t){for(var e=t.e*qr,n=t.d[0];n>=10;n/=10)e++;return e}function M_(t,e,n){if(e>t.LN10.sd())throw ni=!0,n&&(t.precision=n),Error(Fl+"LN10 precision limit exceeded");return Dr(new t(t.LN10),e)}function ph(t){for(var e="";t--;)e+="0";return e}function hy(t,e){var n,r,i,a,o,c,d,h,f,p=1,x=10,g=t,b=g.d,v=g.constructor,w=v.precision;if(g.s<1)throw Error(Fl+(g.s?"NaN":"-Infinity"));if(g.eq(Ko))return new v(0);if(e==null?(ni=!1,h=w):h=e,g.eq(10))return e==null&&(ni=!0),M_(v,h);if(h+=x,v.precision=h,n=au(b),r=n.charAt(0),a=Ki(g),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=au(g.d),r=n.charAt(0),p++;a=Ki(g),r>1?(g=new v("0."+n),a++):g=new v(r+"."+n.slice(1))}else return d=M_(v,h+2,w).times(a+""),g=hy(new v(r+"."+n.slice(1)),h-x).plus(d),v.precision=w,e==null?(ni=!0,Dr(g,w)):g;for(c=o=g=md(g.minus(Ko),g.plus(Ko),h),f=Dr(g.times(g),h),i=3;;){if(o=Dr(o.times(f),h),d=c.plus(md(o,new v(i),h)),au(d.d).slice(0,h)===au(c.d).slice(0,h))return c=c.times(2),a!==0&&(c=c.plus(M_(v,h+2,w).times(a+""))),c=md(c,new v(p),h),v.precision=w,e==null?(ni=!0,Dr(c,w)):c;c=d,i+=2}}function UP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=ug(n/qr),t.d=[],r=(n+1)%qr,n<0&&(r+=qr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=qr;r<i;)t.d.push(+e.slice(r,r+=qr));e=e.slice(r),r=qr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ni&&(t.e>Z1||t.e<-Z1))throw Error(T4+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dr(t,e,n){var r,i,a,o,c,d,h,f,p=t.d;for(o=1,a=p[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=qr,i=e,h=p[f=0];else{if(f=Math.ceil((r+1)/qr),a=p.length,f>=a)return t;for(h=a=p[f],o=1;a>=10;a/=10)o++;r%=qr,i=r-qr+o}if(n!==void 0&&(a=wf(10,o-i-1),c=h/a%10|0,d=e<0||p[f+1]!==void 0||h%a,d=n<4?(c||d)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||d||n==6&&(r>0?i>0?h/wf(10,o-i):0:p[f-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return d?(a=Ki(t),p.length=1,e=e-a-1,p[0]=wf(10,(qr-e%qr)%qr),t.e=ug(-e/qr)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=f,a=1,f--):(p.length=f+1,a=wf(10,qr-r),p[f]=i>0?(h/wf(10,o-i)%wf(10,i)|0)*a:0),d)for(;;)if(f==0){(p[0]+=a)==Ia&&(p[0]=1,++t.e);break}else{if(p[f]+=a,p[f]!=Ia)break;p[f--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(ni&&(t.e>Z1||t.e<-Z1))throw Error(T4+Ki(t));return t}function Vz(t,e){var n,r,i,a,o,c,d,h,f,p,x=t.constructor,g=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),ni?Dr(e,g):e;if(d=t.d,p=e.d,r=e.e,h=t.e,d=d.slice(),o=h-r,o){for(f=o<0,f?(n=d,o=-o,c=p.length):(n=p,r=h,c=d.length),i=Math.max(Math.ceil(g/qr),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=d.length,c=p.length,f=i<c,f&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){f=d[i]<p[i];break}o=0}for(f&&(n=d,d=p,p=n,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>o;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=Ia-1;--d[a],d[i]+=Ia}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=r,ni?Dr(e,g):e):new x(0)}function tm(t,e,n){var r,i=Ki(t),a=au(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+ph(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ph(-i-1)+a,n&&(r=n-o)>0&&(a+=ph(r))):i>=o?(a+=ph(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+ph(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=ph(r))),t.s<0?"-"+a:a}function BP(t,e){if(t.length>e)return t.length=e,!0}function qz(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vf+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return UP(o,a.toString())}else if(typeof a!="string")throw Error(Vf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,che.test(a))UP(o,a);else throw Error(Vf+a)}if(i.prototype=zt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qz,i.config=i.set=uhe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function uhe(t){if(!t||typeof t!="object")throw Error(Fl+"Object expected");var e,n,r,i=["precision",1,cg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(ug(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Vf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vf+n+": "+r);return this}var k4=qz(lhe);Ko=new k4(1);const vr=k4;var dhe=t=>t,$z={},Hz=t=>t===$z,VP=t=>function e(){return arguments.length===0||arguments.length===1&&Hz(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Wz=(t,e)=>t===1?e:VP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(o=>o!==$z).length;return a>=t?e(...r):Wz(t-a,VP(function(){for(var o=arguments.length,c=new Array(o),d=0;d<o;d++)c[d]=arguments[d];var h=r.map(f=>Hz(f)?c.shift():f);return e(...h,...c)}))}),g2=t=>Wz(t.length,t),Dj=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},hhe=g2((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),fhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return dhe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce((c,d)=>d(c),a(...arguments))}},Lj=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Gz=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e&&i.every((o,c)=>{var d;return o===((d=e)===null||d===void 0?void 0:d[c])})||(e=i,n=t(...i)),n}};function Yz(t){var e;return t===0?e=1:e=Math.floor(new vr(t).abs().log(10).toNumber())+1,e}function Kz(t,e,n){for(var r=new vr(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}g2((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});g2((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});g2((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var Xz=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},Zz=(t,e,n)=>{if(t.lte(0))return new vr(0);var r=Yz(t.toNumber()),i=new vr(10).pow(r),a=t.div(i),o=r!==1?.05:.1,c=new vr(Math.ceil(a.div(o).toNumber())).add(n).mul(o),d=c.mul(i);return e?new vr(d.toNumber()):new vr(Math.ceil(d.toNumber()))},mhe=(t,e,n)=>{var r=new vr(1),i=new vr(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new vr(10).pow(Yz(t)-1),i=new vr(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new vr(Math.floor(t)))}else t===0?i=new vr(Math.floor((e-1)/2)):n||(i=new vr(Math.floor(t)));var o=Math.floor((e-1)/2),c=fhe(hhe(d=>i.add(new vr(d-o).mul(r)).toNumber()),Dj);return c(0,e)},Jz=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new vr(0),tickMin:new vr(0),tickMax:new vr(0)};var o=Zz(new vr(n).sub(e).div(r-1),i,a),c;e<=0&&n>=0?c=new vr(0):(c=new vr(e).add(n).div(2),c=c.sub(new vr(c).mod(o)));var d=Math.ceil(c.sub(e).div(o).toNumber()),h=Math.ceil(new vr(n).sub(c).div(o).toNumber()),f=d+h+1;return f>r?Jz(e,n,r,i,a+1):(f<r&&(h=n>0?h+(r-f):h,d=n>0?d:d+(r-f)),{step:o,tickMin:c.sub(new vr(d).mul(o)),tickMax:c.add(new vr(h).mul(o))})};function phe(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(r,2),[o,c]=Xz([e,n]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...Dj(0,r-1).map(()=>1/0)]:[...Dj(0,r-1).map(()=>-1/0),c];return e>n?Lj(d):d}if(o===c)return mhe(o,r,i);var{step:h,tickMin:f,tickMax:p}=Jz(o,c,a,i,0),x=Kz(f,p.add(new vr(.1).mul(h)),h);return e>n?Lj(x):x}function ghe(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=Xz([n,r]);if(a===-1/0||o===1/0)return[n,r];if(a===o)return[a];var c=Math.max(e,2),d=Zz(new vr(o).sub(a).div(c-1),i,0),h=[...Kz(new vr(a),new vr(o),d),o];return i===!1&&(h=h.map(f=>Math.round(f))),n>r?Lj(h):h}var yhe=Gz(phe),xhe=Gz(ghe),vhe=t=>t.rootProps.barCategoryGap,y2=t=>t.rootProps.stackOffset,I4=t=>t.options.chartName,P4=t=>t.rootProps.syncId,Qz=t=>t.rootProps.syncMethod,R4=t=>t.options.eventEmitter,rd={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Go={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},x2=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},bhe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:rd.angleAxisId,includeHidden:!1,name:void 0,reversed:rd.reversed,scale:rd.scale,tick:rd.tick,tickCount:void 0,ticks:void 0,type:rd.type,unit:void 0},whe={allowDataOverflow:Go.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Go.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Go.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Go.scale,tick:Go.tick,tickCount:Go.tickCount,ticks:void 0,type:Go.type,unit:void 0},_he={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:rd.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rd.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rd.scale,tick:rd.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Nhe={allowDataOverflow:Go.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Go.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Go.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Go.scale,tick:Go.tick,tickCount:Go.tickCount,ticks:void 0,type:"category",unit:void 0},O4=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?_he:bhe,D4=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Nhe:whe,v2=t=>t.polarOptions,L4=tt([kd,Id,os],koe),eF=tt([v2,L4],(t,e)=>{if(t!=null)return Vh(t.innerRadius,e,0)}),tF=tt([v2,L4],(t,e)=>{if(t!=null)return Vh(t.outerRadius,e,e*.8)}),jhe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},nF=tt([v2],jhe);tt([O4,nF],x2);var rF=tt([L4,eF,tF],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});tt([D4,rF],x2);var iF=tt([Yr,v2,eF,tF,kd,Id],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:o,cy:c,startAngle:d,endAngle:h}=e;return{cx:Vh(o,i,i/2),cy:Vh(c,a,a/2),innerRadius:n,outerRadius:r,startAngle:d,endAngle:h,clockWise:!1}}}),Xi=(t,e)=>e,b2=(t,e,n)=>n;function aF(t){return t?.id}var ga=t=>{var e=Yr(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},dg=t=>t.tooltip.settings.axisId,za=t=>{var e=ga(t),n=dg(t);return Vy(t,e,n)},sF=tt([za],t=>t?.dataKey);function oF(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,o=new Map;return t.forEach(c=>{var d,h=(d=c.data)!==null&&d!==void 0?d:r;if(!(h==null||h.length===0)){var f=aF(c);h.forEach((p,x)=>{var g=a==null||i?x:String(Js(p,a,null)),b=Js(p,c.dataKey,0),v;o.has(g)?v=o.get(g):v={},Object.assign(v,{[f]:b}),o.set(g,v)})}}),Array.from(o.values())}function M4(t){return t.stackId!=null&&t.dataKey!=null}function qP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qP(Object(n),!0).forEach(function(r){She(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function She(t,e,n){return(e=Ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mj=[0,"auto"],Ho={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lF=(t,e)=>t.cartesianAxis.xAxis[e],Rd=(t,e)=>{var n=lF(t,e);return n??Ho},Wo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Mj,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:My},cF=(t,e)=>t.cartesianAxis.yAxis[e],Od=(t,e)=>{var n=cF(t,e);return n??Wo},Che={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},z4=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Che},To=(t,e,n)=>{switch(e){case"xAxis":return Rd(t,n);case"yAxis":return Od(t,n);case"zAxis":return z4(t,n);case"angleAxis":return O4(t,n);case"radiusAxis":return D4(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},The=(t,e,n)=>{switch(e){case"xAxis":return Rd(t,n);case"yAxis":return Od(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Vy=(t,e,n)=>{switch(e){case"xAxis":return Rd(t,n);case"yAxis":return Od(t,n);case"angleAxis":return O4(t,n);case"radiusAxis":return D4(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uF=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function dF(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var hF=t=>t.graphicalItems.cartesianItems,khe=tt([Xi,b2],dF),fF=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),qy=tt([hF,To,khe],fF),mF=tt([qy],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(M4)),pF=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),gF=tt([qy],pF),yF=t=>t.map(e=>e.data).filter(Boolean).flat(1),Ihe=tt([qy],yF),xF=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},F4=tt([Ihe,C4],xF),vF=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Js(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Js(i,r)}))):t.map(r=>({value:r})),w2=tt([F4,To,qy],vF);function bF(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function pm(t){return t.filter(e=>vu(e)||e instanceof Date).map(Number).filter(e=>Ml(e)===!1)}function Phe(t,e,n){return!n||typeof e!="number"||Ml(e)?[]:n.length?pm(n.flatMap(r=>{var i=Js(t,r.dataKey),a,o;if(Array.isArray(i)?[a,o]=i:a=o=i,!(!Nc(a)||!Nc(o)))return[e-a,e+o]})):[]}var Rhe=tt([mF,C4,za],oF),wF=(t,e,n)=>{var r={},i=e.reduce((a,o)=>(o.stackId==null||(a[o.stackId]==null&&(a[o.stackId]=[]),a[o.stackId].push(o)),a),r);return Object.fromEntries(Object.entries(i).map(a=>{var[o,c]=a,d=c.map(aF);return[o,{stackedData:Hoe(t,d,n),graphicalItems:c}]}))},Ohe=tt([Rhe,mF,y2],wF),_F=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var a=Yoe(t,r,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Dhe=tt([Ohe,Zh,Xi],_F),NF=(t,e,n,r,i)=>n.length>0?t.flatMap(a=>n.flatMap(o=>{var c,d,h=(c=r[o.id])===null||c===void 0?void 0:c.filter(p=>bF(i,p)),f=Js(a,(d=e.dataKey)!==null&&d!==void 0?d:o.dataKey);return{value:f,errorDomain:Phe(a,f,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:Js(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),_2=t=>t.errorBars,jF=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>bF(n,r));tt([gF,_2,Xi],jF);var Lhe=tt([F4,To,gF,_2,Xi],NF);function Mhe(t){var{value:e}=t;if(vu(e)||e instanceof Date)return e}var $P=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=pm(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},zhe=(t,e,n)=>{var r=t.map(Mhe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&z7(r))?iz(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},U4=t=>{var e;if(t==null||!("domain"in t))return Mj;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=pm(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:Mj},Q1=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),o=Math.min(...a),c=Math.max(...a);return[o,c]}},SF=t=>t.referenceElements.dots,hg=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Fhe=tt([SF,Xi,b2],hg),AF=t=>t.referenceElements.areas,Uhe=tt([AF,Xi,b2],hg),EF=t=>t.referenceElements.lines,Bhe=tt([EF,Xi,b2],hg),CF=(t,e)=>{var n=pm(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Vhe=tt(Fhe,Xi,CF),TF=(t,e)=>{var n=pm(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},qhe=tt([Uhe,Xi],TF),kF=(t,e)=>{var n=pm(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},$he=tt(Bhe,Xi,kF),Hhe=tt(Vhe,$he,qhe,(t,e,n)=>Q1(t,n,e)),Whe=tt([To],U4),IF=(t,e,n,r,i,a,o)=>{var c=she(e,t.allowDataOverflow);if(c!=null)return c;var d=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",h=d?Q1(n,i,$P(r)):Q1(i,$P(r));return ohe(e,h,t.allowDataOverflow)},Ghe=tt([To,Whe,Dhe,Lhe,Hhe,Yr,Xi],IF),Yhe=[0,1],PF=(t,e,n,r,i,a,o)=>{if(!((t==null||n==null||n.length===0)&&o===void 0)){var{dataKey:c,type:d}=t,h=Yh(e,a);return h&&c==null?iz(0,n.length):d==="category"?zhe(r,t,h):i==="expand"?Yhe:o}},B4=tt([To,Yr,F4,w2,y2,Xi,Ghe],PF),RF=(t,e,n,r,i)=>{if(t!=null){var{scale:a,type:o}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(HA(a));return c in _0?c:"point"}}},$y=tt([To,Yr,uF,I4,Xi],RF);function Khe(t){if(t!=null){if(t in _0)return _0[t]();var e="scale".concat(HA(t));if(e in _0)return _0[e]()}}function V4(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Khe(e);if(i!=null){var a=i.domain(n).range(r);return Boe(a),a}}}var OF=(t,e,n)=>{var r=U4(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Hp(t))return yhe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Hp(t))return xhe(t,e.tickCount,e.allowDecimals)}},q4=tt([B4,Vy,$y],OF),DF=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Hp(e)&&Array.isArray(n)&&n.length>0){var i=e[0],a=n[0],o=e[1],c=n[n.length-1];return[Math.min(i,a),Math.max(o,c)]}return e},Xhe=tt([To,B4,q4,Xi],DF),Zhe=tt(w2,To,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(pm(t.map(c=>c.value))).sort((c,d)=>c-d);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var a=0;a<r.length-1;a++){var o=r[a+1]-r[a];n=Math.min(n,o)}return n/i}}),LF=tt(Zhe,Yr,vhe,os,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Nc(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var o=Vh(n,t*a),c=t*a/2;return c-o-(c-o)/a*o}return 0}),Jhe=(t,e)=>{var n=Rd(t,e);return n==null||typeof n.padding!="string"?0:LF(t,"xAxis",e,n.padding)},Qhe=(t,e)=>{var n=Od(t,e);return n==null||typeof n.padding!="string"?0:LF(t,"yAxis",e,n.padding)},efe=tt(Rd,Jhe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),tfe=tt(Od,Qhe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),nfe=tt([os,efe,c2,l2,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),rfe=tt([os,Yr,tfe,c2,l2,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:o}=i;return a?[r.height-o.bottom,o.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Hy=(t,e,n,r)=>{var i;switch(e){case"xAxis":return nfe(t,n,r);case"yAxis":return rfe(t,n,r);case"zAxis":return(i=z4(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return nF(t);case"radiusAxis":return rF(t,n);default:return}},MF=tt([To,Hy],x2),fg=tt([To,$y,Xhe,MF],V4);tt([qy,_2,Xi],jF);function zF(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var N2=(t,e)=>e,j2=(t,e,n)=>n,ife=tt(s2,N2,j2,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zF)),afe=tt(o2,N2,j2,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(zF)),FF=(t,e)=>({width:t.width,height:e.height}),sfe=(t,e)=>{var n=typeof e.width=="number"?e.width:My;return{width:n,height:t.height}},ofe=tt(os,Rd,FF),lfe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},cfe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},ufe=tt(Id,os,ife,N2,j2,(t,e,n,r,i)=>{var a={},o;return n.forEach(c=>{var d=FF(e,c);o==null&&(o=lfe(e,r,t));var h=r==="top"&&!i||r==="bottom"&&i;a[c.id]=o-Number(h)*d.height,o+=(h?-1:1)*d.height}),a}),dfe=tt(kd,os,afe,N2,j2,(t,e,n,r,i)=>{var a={},o;return n.forEach(c=>{var d=sfe(e,c);o==null&&(o=cfe(e,r,t));var h=r==="left"&&!i||r==="right"&&i;a[c.id]=o-Number(h)*d.width,o+=(h?-1:1)*d.width}),a}),hfe=(t,e)=>{var n=Rd(t,e);if(n!=null)return ufe(t,n.orientation,n.mirror)},ffe=tt([os,Rd,hfe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),mfe=(t,e)=>{var n=Od(t,e);if(n!=null)return dfe(t,n.orientation,n.mirror)},pfe=tt([os,Od,mfe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),gfe=tt(os,Od,(t,e)=>{var n=typeof e.width=="number"?e.width:My;return{width:n,height:t.height}}),UF=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:o}=n,c=Yh(t,r),d=e.map(h=>h.value);if(o&&c&&a==="category"&&i&&z7(d))return d}},$4=tt([Yr,w2,To,Xi],UF),BF=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,o=Yh(t,r);if(o&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},H4=tt([Yr,w2,Vy,Xi],BF),HP=tt([Yr,The,$y,fg,$4,H4,Hy,q4,Xi],(t,e,n,r,i,a,o,c,d)=>{if(e==null)return null;var h=Yh(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:c,range:o,realScaleType:n,scale:r}}),yfe=(t,e,n,r,i,a,o,c,d)=>{if(!(e==null||r==null)){var h=Yh(t,d),{type:f,ticks:p,tickCount:x}=e,g=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=f==="category"&&r.bandwidth?r.bandwidth()/g:0;b=d==="angleAxis"&&a!=null&&a.length>=2?Tl(a[0]-a[1])*2*b:b;var v=p||i;if(v){var w=v.map((j,E)=>{var T=o?o.indexOf(j):j;return{index:E,coordinate:r(T)+b,value:j,offset:b}});return w.filter(j=>!Ml(j.coordinate))}return h&&c?c.map((j,E)=>({coordinate:r(j)+b,value:j,index:E,offset:b})):r.ticks?r.ticks(x).map(j=>({coordinate:r(j)+b,value:j,offset:b})):r.domain().map((j,E)=>({coordinate:r(j)+b,value:o?o[j]:j,index:E,offset:b}))}},VF=tt([Yr,Vy,$y,fg,q4,Hy,$4,H4,Xi],yfe),xfe=(t,e,n,r,i,a,o)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var c=Yh(t,o),{tickCount:d}=e,h=0;return h=o==="angleAxis"&&r?.length>=2?Tl(r[0]-r[1])*2*h:h,c&&a?a.map((f,p)=>({coordinate:n(f)+h,value:f,index:p,offset:h})):n.ticks?n.ticks(d).map(f=>({coordinate:n(f)+h,value:f,offset:h})):n.domain().map((f,p)=>({coordinate:n(f)+h,value:i?i[f]:f,index:p,offset:h}))}},qF=tt([Yr,Vy,fg,Hy,$4,H4,Xi],xfe),$F=tt(To,fg,(t,e)=>{if(!(t==null||e==null))return J1(J1({},t),{},{scale:e})}),vfe=tt([To,$y,B4,MF],V4);tt((t,e,n)=>z4(t,n),vfe,(t,e)=>{if(!(t==null||e==null))return J1(J1({},t),{},{scale:e})});var bfe=tt([Yr,s2,o2],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),HF=t=>t.options.defaultTooltipEventType,WF=t=>t.options.validateTooltipEventTypes;function GF(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function W4(t,e){var n=HF(t),r=WF(t);return GF(e,n,r)}function wfe(t){return sn(e=>W4(e,t))}var YF=(t,e)=>{var n,r=Number(e);if(!(Ml(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},_fe=t=>t.tooltip.settings,wh={active:!1,index:null,dataKey:void 0,coordinate:void 0},Nfe={itemInteraction:{click:wh,hover:wh},axisInteraction:{click:wh,hover:wh},keyboardInteraction:wh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},KF=al({name:"tooltip",initialState:Nfe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=fd(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:jfe,removeTooltipEntrySettings:Sfe,setTooltipSettingsState:Afe,setActiveMouseOverItemIndex:Efe,mouseLeaveItem:J2e,mouseLeaveChart:XF,setActiveClickItemIndex:Q2e,setMouseOverAxisIndex:ZF,setMouseClickAxisIndex:Cfe,setSyncInteraction:zj,setKeyboardInteraction:Fj}=KF.actions,Tfe=KF.reducer;function WP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WP(Object(n),!0).forEach(function(r){kfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kfe(t,e,n){return(e=Ife(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Pfe(t,"string");return typeof e=="symbol"?e:e+""}function Pfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rfe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Ofe(t){return t.index!=null}var JF=(t,e,n,r)=>{if(e==null)return wh;var i=Rfe(t,e,n);if(i==null)return wh;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Ofe(i)){if(a)return hv(hv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return hv(hv({},wh),{},{coordinate:i.coordinate})},G4=(t,e)=>{var n=t?.index;if(n==null)return null;var r=Number(n);if(!Nc(r))return n;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(r,a)))},QF=(t,e,n,r,i,a,o,c)=>{if(!(a==null||c==null)){var d=o[0],h=d==null?void 0:c(d.positions,a);if(h!=null)return h;var f=i?.[Number(a)];if(f)switch(n){case"horizontal":return{x:f.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:f.coordinate}}}},eU=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.dataKey)===i})},Wy=t=>t.options.tooltipPayloadSearcher,mg=t=>t.tooltip;function GP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GP(Object(n),!0).forEach(function(r){Dfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dfe(t,e,n){return(e=Lfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lfe(t){var e=Mfe(t,"string");return typeof e=="symbol"?e:e+""}function Mfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zfe(t,e){return t??e}var tU=(t,e,n,r,i,a,o)=>{if(!(e==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:f}=n,p=[];return t.reduce((x,g)=>{var b,{dataDefinedOnItem:v,settings:w}=g,j=zfe(v,c),E=Array.isArray(j)?F9(j,h,f):j,T=(b=w?.dataKey)!==null&&b!==void 0?b:r,D=w?.nameKey,M;if(r&&Array.isArray(E)&&!Array.isArray(E[0])&&o==="axis"?M=F7(E,r,i):M=a(E,e,d,D),Array.isArray(M))M.forEach(F=>{var z=YP(YP({},w),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});x.push(RI({tooltipEntrySettings:z,dataKey:F.dataKey,payload:F.payload,value:Js(F.payload,F.dataKey),name:F.name}))});else{var J;x.push(RI({tooltipEntrySettings:w,dataKey:T,payload:M,value:Js(M,T),name:(J=Js(M,D))!==null&&J!==void 0?J:w?.name}))}return x},p)}},Y4=tt([za,Yr,uF,I4,ga],RF),Ffe=tt([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Ufe=tt([ga,dg],dF),Gy=tt([Ffe,za,Ufe],fF),Bfe=tt([Gy],t=>t.filter(M4)),Vfe=tt([Gy],yF),pg=tt([Vfe,Zh],xF),qfe=tt([Bfe,Zh,za],oF),K4=tt([pg,za,Gy],vF),$fe=tt([za],U4),Hfe=tt([Gy],t=>t.filter(M4)),Wfe=tt([qfe,Hfe,y2],wF),Gfe=tt([Wfe,Zh,ga],_F),Yfe=tt([Gy],pF),Kfe=tt([pg,za,Yfe,_2,ga],NF),Xfe=tt([SF,ga,dg],hg),Zfe=tt([Xfe,ga],CF),Jfe=tt([AF,ga,dg],hg),Qfe=tt([Jfe,ga],TF),eme=tt([EF,ga,dg],hg),tme=tt([eme,ga],kF),nme=tt([Zfe,tme,Qfe],Q1),rme=tt([za,$fe,Gfe,Kfe,nme,Yr,ga],IF),nU=tt([za,Yr,pg,K4,y2,ga,rme],PF),ime=tt([nU,za,Y4],OF),ame=tt([za,nU,ime,ga],DF),rU=t=>{var e=ga(t),n=dg(t),r=!1;return Hy(t,e,n,r)},iU=tt([za,rU],x2),aU=tt([za,Y4,ame,iU],V4),sme=tt([Yr,K4,za,ga],UF),ome=tt([Yr,K4,za,ga],BF),lme=(t,e,n,r,i,a,o,c)=>{if(e){var{type:d}=e,h=Yh(t,c);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/f:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?Tl(i[0]-i[1])*2*p:p,h&&o?o.map((x,g)=>({coordinate:r(x)+p,value:x,index:g,offset:p})):r.domain().map((x,g)=>({coordinate:r(x)+p,value:a?a[x]:x,index:g,offset:p}))}}},Dd=tt([Yr,za,Y4,aU,rU,sme,ome,ga],lme),X4=tt([HF,WF,_fe],(t,e,n)=>GF(n.shared,t,e)),sU=t=>t.tooltip.settings.trigger,Z4=t=>t.tooltip.settings.defaultIndex,S2=tt([mg,X4,sU,Z4],JF),fy=tt([S2,pg],G4),oU=tt([Dd,fy],YF),cme=tt([S2],t=>{if(t)return t.dataKey}),lU=tt([mg,X4,sU,Z4],eU),ume=tt([kd,Id,Yr,os,Dd,Z4,lU,Wy],QF),dme=tt([S2,ume],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),hme=tt([S2],t=>t.active),fme=tt([lU,fy,Zh,sF,oU,Wy,X4],tU),mme=tt([fme],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function KP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XP(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KP(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return(e=gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=yme(t,"string");return typeof e=="symbol"?e:e+""}function yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xme=()=>sn(za),vme=()=>{var t=xme(),e=sn(Dd),n=sn(aU);return wj(XP(XP({},t),{},{scale:n}),e)},bme=()=>sn(I4),J4=(t,e)=>e,cU=(t,e,n)=>n,Q4=(t,e,n,r)=>r,wme=tt(Dd,t=>e2(t,e=>e.coordinate)),e3=tt([mg,J4,cU,Q4],JF),uU=tt([e3,pg],G4),_me=(t,e,n)=>{if(e!=null){var r=mg(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},dU=tt([mg,J4,cU,Q4],eU),eb=tt([kd,Id,Yr,os,Dd,Q4,dU,Wy],QF),Nme=tt([e3,eb],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),hU=tt(Dd,uU,YF),jme=tt([dU,uU,Zh,sF,hU,Wy,J4],tU),Sme=tt([e3],t=>({isActive:t.active,activeIndex:t.index})),Ame=(t,e,n,r,i,a,o,c)=>{if(!(!t||!e||!r||!i||!a)){var d=Koe(t.chartX,t.chartY,e,n,c);if(d){var h=Zoe(d,e),f=Foe(h,o,a,r,i),p=Xoe(e,a,f,d);return{activeIndex:String(f),activeCoordinate:p}}}};function Uj(){return Uj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uj.apply(null,arguments)}function ZP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZP(Object(n),!0).forEach(function(r){Eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eme(t,e,n){return(e=Cme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cme(t){var e=Tme(t,"string");return typeof e=="symbol"?e:e+""}function Tme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kme(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:a,layout:o,cursor:c,tooltipEventType:d,chartName:h}=t,f=e,p=n,x=r;if(!c||!f||h!=="ScatterChart"&&d!=="axis")return null;var g,b;if(h==="ScatterChart")g=f,b=Vle;else if(h==="BarChart")g=qle(o,f,i,a),b=bce;else if(o==="radial"){var{cx:v,cy:w,radius:j,startAngle:E,endAngle:T}=nz(f);g={cx:v,cy:w,startAngle:E,endAngle:T,innerRadius:j,outerRadius:j},b=jce}else g={points:Sce(o,f,i)},b=X9;var D=typeof c=="object"&&"className"in c?c.className:void 0,M=fv(fv(fv(fv({stroke:"#ccc",pointerEvents:"none"},i),g),ss(c,!1)),{},{payload:p,payloadIndex:x,className:Gr("recharts-tooltip-cursor",D)});return V.isValidElement(c)?V.cloneElement(c,M):V.createElement(b,M)}function Ime(t){var e=vme(),n=H9(),r=i4(),i=bme();return V.createElement(kme,Uj({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var fU=V.createContext(null),Pme=()=>V.useContext(fU),z_={exports:{}},JP;function Rme(){return JP||(JP=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(d,h,f){this.fn=d,this.context=h,this.once=f||!1}function a(d,h,f,p,x){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||d,x),b=n?n+h:h;return d._events[b]?d._events[b].fn?d._events[b]=[d._events[b],g]:d._events[b].push(g):(d._events[b]=g,d._eventsCount++),d}function o(d,h){--d._eventsCount===0?d._events=new r:delete d._events[h]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)e.call(f,p)&&h.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=n?n+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,g=p.length,b=new Array(g);x<g;x++)b[x]=p[x].fn;return b},c.prototype.listenerCount=function(h){var f=n?n+h:h,p=this._events[f];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,f,p,x,g,b){var v=n?n+h:h;if(!this._events[v])return!1;var w=this._events[v],j=arguments.length,E,T;if(w.fn){switch(w.once&&this.removeListener(h,w.fn,void 0,!0),j){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,p),!0;case 4:return w.fn.call(w.context,f,p,x),!0;case 5:return w.fn.call(w.context,f,p,x,g),!0;case 6:return w.fn.call(w.context,f,p,x,g,b),!0}for(T=1,E=new Array(j-1);T<j;T++)E[T-1]=arguments[T];w.fn.apply(w.context,E)}else{var D=w.length,M;for(T=0;T<D;T++)switch(w[T].once&&this.removeListener(h,w[T].fn,void 0,!0),j){case 1:w[T].fn.call(w[T].context);break;case 2:w[T].fn.call(w[T].context,f);break;case 3:w[T].fn.call(w[T].context,f,p);break;case 4:w[T].fn.call(w[T].context,f,p,x);break;default:if(!E)for(M=1,E=new Array(j-1);M<j;M++)E[M-1]=arguments[M];w[T].fn.apply(w[T].context,E)}}return!0},c.prototype.on=function(h,f,p){return a(this,h,f,p,!1)},c.prototype.once=function(h,f,p){return a(this,h,f,p,!0)},c.prototype.removeListener=function(h,f,p,x){var g=n?n+h:h;if(!this._events[g])return this;if(!f)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===f&&(!x||b.once)&&(!p||b.context===p)&&o(this,g);else{for(var v=0,w=[],j=b.length;v<j;v++)(b[v].fn!==f||x&&!b[v].once||p&&b[v].context!==p)&&w.push(b[v]);w.length?this._events[g]=w.length===1?w[0]:w:o(this,g)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=n?n+h:h,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(z_)),z_.exports}var Ome=Rme();const Dme=wu(Ome);var my=new Dme,Bj="recharts.syncEvent.tooltip",QP="recharts.syncEvent.brush";function Lme(t,e){if(e){var n=Number.parseInt(e,10);if(!Ml(n))return t?.[n]}}var Mme={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},mU=al({name:"options",initialState:Mme,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),zme=mU.reducer,{createEventEmitter:Fme}=mU.actions;function Ume(t){return t.tooltip.syncInteraction}var Bme={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},pU=al({name:"chartData",initialState:Bme,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:e8,setDataStartEndIndexes:Vme,setComputedData:ewe}=pU.actions,qme=pU.reducer,$me=["x","y"];function t8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t8(Object(n),!0).forEach(function(r){Hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hme(t,e,n){return(e=Wme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wme(t){var e=Gme(t,"string");return typeof e=="symbol"?e:e+""}function Gme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yme(t,e){if(t==null)return{};var n,r,i=Kme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Kme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gU=()=>{};function Xme(){var t=sn(P4),e=sn(R4),n=eo(),r=sn(Qz),i=sn(Dd),a=i4(),o=r4(),c=sn(d=>d.rootProps.className);V.useEffect(()=>{if(t==null)return gU;var d=(h,f,p)=>{if(e!==p&&t===h){if(r==="index"){var x;if(o&&f!==null&&f!==void 0&&(x=f.payload)!==null&&x!==void 0&&x.coordinate){var g=f.payload.coordinate,{x:b,y:v}=g,w=Yme(g,$me),j=gf(gf(gf({},w),typeof b=="number"&&{x:Math.max(o.x,Math.min(b,o.x+o.width))}),typeof v=="number"&&{y:Math.max(o.y,Math.min(v,o.y+o.height))}),E=gf(gf({},f),{},{payload:gf(gf({},f.payload),{},{coordinate:j})});n(E)}else n(f);return}if(i!=null){var T;if(typeof r=="function"){var D={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},M=r(i,D);T=i[M]}else r==="value"&&(T=i.find(U=>String(U.value)===f.payload.label));var{coordinate:J}=f.payload;if(T==null||f.payload.active===!1||J==null||o==null){n(zj({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:F,y:z}=J,L=Math.min(F,o.x+o.width),H=Math.min(z,o.y+o.height),P={x:a==="horizontal"?T.coordinate:L,y:a==="horizontal"?H:T.coordinate},I=zj({active:f.payload.active,coordinate:P,dataKey:f.payload.dataKey,index:String(T.index),label:f.payload.label});n(I)}}};return my.on(Bj,d),()=>{my.off(Bj,d)}},[c,n,e,t,r,i,a,o])}function Zme(){var t=sn(P4),e=sn(R4),n=eo();V.useEffect(()=>{if(t==null)return gU;var r=(i,a,o)=>{e!==o&&t===i&&n(Vme(a))};return my.on(QP,r),()=>{my.off(QP,r)}},[n,e,t])}function Jme(){var t=eo();V.useEffect(()=>{t(Fme())},[t]),Xme(),Zme()}function Qme(t,e,n,r,i,a){var o=sn(x=>_me(x,t,e)),c=sn(R4),d=sn(P4),h=sn(Qz),f=sn(Ume),p=f?.active;V.useEffect(()=>{if(!p&&d!=null&&c!=null){var x=zj({active:a,coordinate:n,dataKey:o,index:i,label:typeof r=="number"?String(r):r});my.emit(Bj,d,x,c)}},[p,n,o,i,r,c,d,h,a])}function n8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n8(Object(n),!0).forEach(function(r){epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e,n){return(e=tpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t){var e=npe(t,"string");return typeof e=="symbol"?e:e+""}function npe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rpe(t){return t.dataKey}function ipe(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(ble,e)}var i8=[],ape={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!og.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function spe(t){var e=Vl(t,ape),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:a,content:o,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:x,useTranslate3d:g,wrapperStyle:b,cursor:v,shared:w,trigger:j,defaultIndex:E,portal:T,axisId:D}=e,M=eo(),J=typeof E=="number"?String(E):E;V.useEffect(()=>{M(Afe({shared:w,trigger:j,axisId:D,active:n,defaultIndex:J}))},[M,w,j,D,n,J]);var F=r4(),z=K9(),L=wfe(w),{activeIndex:H,isActive:P}=sn(ee=>Sme(ee,L,j,J)),I=sn(ee=>jme(ee,L,j,J)),U=sn(ee=>hU(ee,L,j,J)),k=sn(ee=>Nme(ee,L,j,J)),le=I,G=Pme(),W=n??P,[ie,se]=Cse([le,W]),Se=L==="axis"?U:void 0;Qme(L,j,k,Se,H,W);var X=T??G;if(X==null)return null;var O=le??i8;W||(O=i8),c&&O.length&&(O=ese(le.filter(ee=>ee.value!=null&&(ee.hide!==!0||e.includeHidden)),f,rpe));var K=O.length>0,te=V.createElement(Ele,{allowEscapeViewBox:r,animationDuration:i,animationEasing:a,isAnimationActive:d,active:W,coordinate:k,hasPayload:K,offset:h,position:p,reverseDirection:x,useTranslate3d:g,viewBox:F,wrapperStyle:b,lastBoundingBox:ie,innerRef:se,hasPortalFromProps:!!T},ipe(o,r8(r8({},e),{},{payload:O,label:Se,active:W,coordinate:k,accessibilityLayer:z})));return V.createElement(V.Fragment,null,Q$.createPortal(te,X),W&&V.createElement(Ime,{cursor:v,tooltipEventType:L,coordinate:k,payload:le,index:H}))}var F_={},U_={},B_={},a8;function ope(){return a8||(a8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let o,c=null;const d=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),f=()=>{c!==null&&(n.apply(o,c),o=void 0,c=null)},p=()=>{h&&f(),v()};let x=null;const g=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,p()},r)},b=()=>{x!==null&&(clearTimeout(x),x=null)},v=()=>{b(),o=void 0,c=null},w=()=>{f()},j=function(...E){if(i?.aborted)return;o=this,c=E;const T=x==null;g(),d&&T&&f()};return j.schedule=g,j.cancel=v,j.flush=w,i?.addEventListener("abort",v,{once:!0}),j}t.debounce=e})(B_)),B_}var s8;function lpe(){return s8||(s8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ope();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:o=!1,trailing:c=!0,maxWait:d}=a,h=Array(2);o&&(h[0]="leading"),c&&(h[1]="trailing");let f,p=null;const x=e.debounce(function(...v){f=r.apply(this,v),p=null},i,{edges:h}),g=function(...v){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(f=r.apply(this,v),p=Date.now(),x.cancel(),x.schedule(),f):(x.apply(this,v),f)},b=()=>(x.flush(),f);return g.cancel=x.cancel,g.flush=b,g}t.debounce=n})(U_)),U_}var o8;function cpe(){return o8||(o8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lpe();function n(r,i=0,a={}){const{leading:o=!0,trailing:c=!0}=a;return e.debounce(r,i,{leading:o,maxWait:i,trailing:c})}t.throttle=n})(F_)),F_}var V_,l8;function upe(){return l8||(l8=1,V_=cpe().throttle),V_}var dpe=upe();const hpe=wu(dpe);var L0=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function c8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(r){fpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fpe(t,e,n){return(e=mpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mpe(t){var e=ppe(t,"string");return typeof e=="symbol"?e:e+""}function ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gpe=V.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:o=0,minHeight:c,maxHeight:d,children:h,debounce:f=0,id:p,className:x,onResize:g,style:b={}}=t,v=V.useRef(null),w=V.useRef();w.current=g,V.useImperativeHandle(e,()=>v.current);var[j,E]=V.useState({containerWidth:r.width,containerHeight:r.height}),T=V.useCallback((M,J)=>{E(F=>{var z=Math.round(M),L=Math.round(J);return F.containerWidth===z&&F.containerHeight===L?F:{containerWidth:z,containerHeight:L}})},[]);V.useEffect(()=>{var M=L=>{var H,{width:P,height:I}=L[0].contentRect;T(P,I),(H=w.current)===null||H===void 0||H.call(w,P,I)};f>0&&(M=hpe(M,f,{trailing:!0,leading:!1}));var J=new ResizeObserver(M),{width:F,height:z}=v.current.getBoundingClientRect();return T(F,z),J.observe(v.current),()=>{J.disconnect()}},[T,f]);var D=V.useMemo(()=>{var{containerWidth:M,containerHeight:J}=j;if(M<0||J<0)return null;L0(Cf(i)||Cf(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),L0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Cf(i)?M:i,z=Cf(a)?J:a;return n&&n>0&&(F?z=F/n:z&&(F=z*n),d&&z>d&&(z=d)),L0(F>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,z,i,a,o,c,n),V.Children.map(h,L=>V.cloneElement(L,{width:F,height:z,style:q_({width:F,height:z},L.props.style)}))},[n,h,a,d,c,o,j,i]);return V.createElement("div",{id:p?"".concat(p):void 0,className:Gr("recharts-responsive-container",x),style:q_(q_({},b),{},{width:i,height:a,minWidth:o,minHeight:c,maxHeight:d}),ref:v},V.createElement("div",{style:{width:0,height:0,overflow:"visible"}},D))});function ype(t,e,n){return(e=xpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xpe(t){var e=vpe(t,"string");return typeof e=="symbol"?e:e+""}function vpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class bpe{constructor(e){ype(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function u8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wpe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u8(Object(n),!0).forEach(function(r){_pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _pe(t,e,n){return(e=Npe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Npe(t){var e=jpe(t,"string");return typeof e=="symbol"?e:e+""}function jpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Spe={cacheSize:2e3,enableCache:!0},yU=wpe({},Spe),d8=new bpe(yU.cacheSize),Ape={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},h8="recharts_measurement_span";function Epe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",o=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(o,"|").concat(c)}var f8=(t,e)=>{try{var n=document.getElementById(h8);n||(n=document.createElement("span"),n.setAttribute("id",h8),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ape,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},M0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||og.isSsr)return{width:0,height:0};if(!yU.enableCache)return f8(e,n);var r=Epe(e,n),i=d8.get(r);if(i)return i;var a=f8(e,n);return d8.set(r,a),a},m8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,p8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Cpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Tpe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kpe=Object.keys(xU),hp="NaN";function Ipe(t,e){return t*xU[e]}class _o{static parse(e){var n,[,r,i]=(n=Tpe.exec(e))!==null&&n!==void 0?n:[];return new _o(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ml(e)&&(this.unit=""),n!==""&&!Cpe.test(n)&&(this.num=NaN,this.unit=""),kpe.includes(n)&&(this.num=Ipe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new _o(NaN,""):new _o(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _o(NaN,""):new _o(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _o(NaN,""):new _o(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _o(NaN,""):new _o(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ml(this.num)}}function vU(t){if(t.includes(hp))return hp;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=m8.exec(e))!==null&&n!==void 0?n:[],o=_o.parse(r??""),c=_o.parse(a??""),d=i==="*"?o.multiply(c):o.divide(c);if(d.isNaN())return hp;e=e.replace(m8,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,f,p,x]=(h=p8.exec(e))!==null&&h!==void 0?h:[],g=_o.parse(f??""),b=_o.parse(x??""),v=p==="+"?g.add(b):g.subtract(b);if(v.isNaN())return hp;e=e.replace(p8,v.toString())}return e}var g8=/\(([^()]*)\)/;function Ppe(t){for(var e=t,n;(n=g8.exec(e))!=null;){var[,r]=n;e=e.replace(g8,vU(r))}return e}function Rpe(t){var e=t.replace(/\s+/g,"");return e=Ppe(e),e=vU(e),e}function Ope(t){try{return Rpe(t)}catch{return hp}}function $_(t){var e=Ope(t.slice(5,-1));return e===hp?"":e}var Dpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Lpe=["dx","dy","angle","className","breakAll"];function Vj(){return Vj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vj.apply(null,arguments)}function y8(t,e){if(t==null)return{};var n,r,i=Mpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bU=/[ \f\n\r\t\v\u2028\u2029]+/,wU=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Ra(e)||(n?i=e.toString().split(""):i=e.toString().split(bU));var a=i.map(c=>({word:c,width:M0(c,r).width})),o=n?0:M0("",r).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},zpe=(t,e,n,r,i)=>{var{maxLines:a,children:o,style:c,breakAll:d}=t,h=fn(a),f=o,p=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((I,U)=>{var{word:k,width:le}=U,G=I[I.length-1];if(G&&(r==null||i||G.width+le+n<Number(r)))G.words.push(k),G.width+=le+n;else{var W={words:[k],width:le};I.push(W)}return I},[])},x=p(e),g=H=>H.reduce((P,I)=>P.width>I.width?P:I);if(!h||i)return x;var b=x.length>a||g(x).width>Number(r);if(!b)return x;for(var v="",w=H=>{var P=f.slice(0,H),I=wU({breakAll:d,style:c,children:P+v}).wordsWithComputedWidth,U=p(I),k=U.length>a||g(U).width>Number(r);return[k,U]},j=0,E=f.length-1,T=0,D;j<=E&&T<=f.length-1;){var M=Math.floor((j+E)/2),J=M-1,[F,z]=w(J),[L]=w(M);if(!F&&!L&&(j=M+1),F&&L&&(E=M-1),!F&&L){D=z;break}T++}return D||x},x8=t=>{var e=Ra(t)?[]:t.toString().split(bU);return[{words:e}]},Fpe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:o}=t;if((e||n)&&!og.isSsr){var c,d,h=wU({breakAll:a,children:r,style:i});if(h){var{wordsWithComputedWidth:f,spaceWidth:p}=h;c=f,d=p}else return x8(r);return zpe({breakAll:a,children:r,maxLines:o,style:i},c,d,e,n)}return x8(r)},v8="#808080",t3=V.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:o=!1,textAnchor:c="start",verticalAnchor:d="end",fill:h=v8}=t,f=y8(t,Dpe),p=V.useMemo(()=>Fpe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:o,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,o,f.style,f.width]),{dx:x,dy:g,angle:b,className:v,breakAll:w}=f,j=y8(f,Lpe);if(!vu(n)||!vu(r)||p.length===0)return null;var E=n+(fn(x)?x:0),T=r+(fn(g)?g:0),D;switch(d){case"start":D=$_("calc(".concat(a,")"));break;case"middle":D=$_("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:D=$_("calc(".concat(p.length-1," * -").concat(i,")"));break}var M=[];if(o){var J=p[0].width,{width:F}=f;M.push("scale(".concat(fn(F)?F/J:1,")"))}return b&&M.push("rotate(".concat(b,", ").concat(E,", ").concat(T,")")),M.length&&(j.transform=M.join(" ")),V.createElement("text",Vj({},ss(j,!0),{ref:e,x:E,y:T,className:Gr("recharts-text",v),textAnchor:c,fill:h.includes("url")?v8:h}),p.map((z,L)=>{var H=z.words.join(w?"":" ");return V.createElement("tspan",{x:E,dy:L===0?D:i,key:"".concat(H,"-").concat(L)},H)}))});t3.displayName="Text";var Upe=["labelRef"];function Bpe(t,e){if(t==null)return{};var n,r,i=Vpe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function b8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(n),!0).forEach(function(r){qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qpe(t,e,n){return(e=$pe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $pe(t){var e=Hpe(t,"string");return typeof e=="symbol"?e:e+""}function Hpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},id.apply(null,arguments)}var _U=V.createContext(null),Wpe=t=>{var{x:e,y:n,width:r,height:i,children:a}=t,o=V.useMemo(()=>({x:e,y:n,width:r,height:i}),[e,n,r,i]);return V.createElement(_U.Provider,{value:o},a)},NU=()=>{var t=V.useContext(_U),e=r4();return t||e},Gpe=V.createContext(null),Ype=()=>{var t=V.useContext(Gpe),e=sn(iF);return t||e},Kpe=t=>{var{value:e,formatter:n}=t,r=Ra(t.children)?e:t.children;return typeof n=="function"?n(r):r},n3=t=>t!=null&&typeof t=="function",Xpe=(t,e)=>{var n=Tl(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Zpe=(t,e,n,r,i)=>{var{offset:a,className:o}=t,{cx:c,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:x,clockWise:g}=i,b=(h+f)/2,v=Xpe(p,x),w=v>=0?1:-1,j,E;switch(e){case"insideStart":j=p+w*a,E=g;break;case"insideEnd":j=x-w*a,E=!g;break;case"end":j=x+w*a,E=g;break;default:throw new Error("Unsupported position ".concat(e))}E=v<=0?E:!E;var T=is(c,d,b,j),D=is(c,d,b,j+(E?1:-1)*359),M="M".concat(T.x,",").concat(T.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(D.x,",").concat(D.y),J=Ra(t.id)?iy("recharts-radial-line-"):t.id;return V.createElement("text",id({},r,{dominantBaseline:"central",className:Gr("recharts-radial-bar-label",o)}),V.createElement("defs",null,V.createElement("path",{id:J,d:M})),V.createElement("textPath",{xlinkHref:"#".concat(J)},n))},Jpe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:d}=t,h=(c+d)/2;if(n==="outside"){var{x:f,y:p}=is(r,i,o+e,h);return{x:f,y:p,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(a+o)/2,{x:g,y:b}=is(r,i,x,h);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},jU=t=>"cx"in t&&fn(t.cx),Qpe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,a;n!=null&&!jU(n)&&(a=n);var{x:o,y:c,width:d,height:h}=e,f=h>=0?1:-1,p=f*r,x=f>0?"end":"start",g=f>0?"start":"end",b=d>=0?1:-1,v=b*r,w=b>0?"end":"start",j=b>0?"start":"end";if(i==="top"){var E={x:o+d/2,y:c-f*r,textAnchor:"middle",verticalAnchor:x};return Ri(Ri({},E),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var T={x:o+d/2,y:c+h+p,textAnchor:"middle",verticalAnchor:g};return Ri(Ri({},T),a?{height:Math.max(a.y+a.height-(c+h),0),width:d}:{})}if(i==="left"){var D={x:o-v,y:c+h/2,textAnchor:w,verticalAnchor:"middle"};return Ri(Ri({},D),a?{width:Math.max(D.x-a.x,0),height:h}:{})}if(i==="right"){var M={x:o+d+v,y:c+h/2,textAnchor:j,verticalAnchor:"middle"};return Ri(Ri({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:h}:{})}var J=a?{width:d,height:h}:{};return i==="insideLeft"?Ri({x:o+v,y:c+h/2,textAnchor:j,verticalAnchor:"middle"},J):i==="insideRight"?Ri({x:o+d-v,y:c+h/2,textAnchor:w,verticalAnchor:"middle"},J):i==="insideTop"?Ri({x:o+d/2,y:c+p,textAnchor:"middle",verticalAnchor:g},J):i==="insideBottom"?Ri({x:o+d/2,y:c+h-p,textAnchor:"middle",verticalAnchor:x},J):i==="insideTopLeft"?Ri({x:o+v,y:c+p,textAnchor:j,verticalAnchor:g},J):i==="insideTopRight"?Ri({x:o+d-v,y:c+p,textAnchor:w,verticalAnchor:g},J):i==="insideBottomLeft"?Ri({x:o+v,y:c+h-p,textAnchor:j,verticalAnchor:x},J):i==="insideBottomRight"?Ri({x:o+d-v,y:c+h-p,textAnchor:w,verticalAnchor:x},J):i&&typeof i=="object"&&(fn(i.x)||Cf(i.x))&&(fn(i.y)||Cf(i.y))?Ri({x:o+Vh(i.x,d),y:c+Vh(i.y,h),textAnchor:"end",verticalAnchor:"end"},J):Ri({x:o+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},J)},ege={offset:5};function gh(t){var e=Vl(t,ege),{viewBox:n,position:r,value:i,children:a,content:o,className:c="",textBreakAll:d,labelRef:h}=e,f=Ype(),p=NU(),x=r==="center"?p:f??p,g=n||x;if(!g||Ra(i)&&Ra(a)&&!V.isValidElement(o)&&typeof o!="function")return null;var b=Ri(Ri({},e),{},{viewBox:g});if(V.isValidElement(o)){var{labelRef:v}=b,w=Bpe(b,Upe);return V.cloneElement(o,w)}var j;if(typeof o=="function"){if(j=V.createElement(o,b),V.isValidElement(j))return j}else j=Kpe(e);var E=jU(g),T=ss(e,!0);if(E&&(r==="insideStart"||r==="insideEnd"||r==="end"))return Zpe(e,r,j,T,g);var D=E?Jpe(g,e.offset,e.position):Qpe(e,g);return V.createElement(t3,id({ref:h,className:Gr("recharts-label",c)},T,D,{breakAll:d}),j)}gh.displayName="Label";var tge=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?V.createElement(gh,id({key:"label-implicit"},r)):vu(t)?V.createElement(gh,id({key:"label-implicit",value:t},r)):V.isValidElement(t)?t.type===gh?V.cloneElement(t,Ri({key:"label-implicit"},r)):V.createElement(gh,id({key:"label-implicit",content:t},r)):n3(t)?V.createElement(gh,id({key:"label-implicit",content:t},r)):t&&typeof t=="object"?V.createElement(gh,id({},t,{key:"label-implicit"},r)):null};function nge(t){var{label:e}=t,n=NU();return tge(e,n)||null}var H_={},W_={},w8;function rge(){return w8||(w8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(W_)),W_}var G_={},_8;function ige(){return _8||(_8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(G_)),G_}var N8;function age(){return N8||(N8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rge(),n=ige(),r=KA();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(H_)),H_}var Y_,j8;function sge(){return j8||(j8=1,Y_=age().last),Y_}var oge=sge();const lge=wu(oge);var cge=["valueAccessor"],uge=["dataKey","clockWise","id","textBreakAll"];function tb(){return tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tb.apply(null,arguments)}function S8(t,e){if(t==null)return{};var n,r,i=dge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hge=t=>Array.isArray(t.value)?lge(t.value):t.value,SU=V.createContext(void 0),fge=SU.Provider,AU=V.createContext(void 0);AU.Provider;function mge(){return V.useContext(SU)}function pge(){return V.useContext(AU)}function Bv(t){var{valueAccessor:e=hge}=t,n=S8(t,cge),{dataKey:r,clockWise:i,id:a,textBreakAll:o}=n,c=S8(n,uge),d=mge(),h=pge(),f=d||h;return!f||!f.length?null:V.createElement(sg,{className:"recharts-label-list"},f.map((p,x)=>{var g,b=Ra(r)?e(p,x):Js(p&&p.payload,r),v=Ra(a)?{}:{id:"".concat(a,"-").concat(x)};return V.createElement(gh,tb({},ss(p,!0),c,v,{fill:(g=n.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:o,viewBox:p.viewBox,key:"label-".concat(x),index:x}))}))}Bv.displayName="LabelList";function gge(t){var{label:e}=t;return e?e===!0?V.createElement(Bv,{key:"labelList-implicit"}):V.isValidElement(e)||n3(e)?V.createElement(Bv,{key:"labelList-implicit",content:e}):typeof e=="object"?V.createElement(Bv,tb({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function qj(){return qj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qj.apply(null,arguments)}var EU=t=>{var{cx:e,cy:n,r,className:i}=t,a=Gr("recharts-dot",i);return e===+e&&n===+n&&r===+r?V.createElement("circle",qj({},hm(t),GA(t),{className:a,cx:e,cy:n,r})):null},yge={radiusAxis:{},angleAxis:{}},CU=al({name:"polarAxis",initialState:yge,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:twe,removeRadiusAxis:nwe,addAngleAxis:rwe,removeAngleAxis:iwe}=CU.actions,xge=CU.reducer;function vge(t){var{fn:e,args:n}=t,r=eo(),i=Bl();return V.useEffect(()=>{if(!i){var a=e(n);return r(jfe(a)),()=>{r(Sfe(a))}}},[e,n,r,i]),null}var bge=()=>{};function wge(t){var{legendPayload:e}=t,n=eo(),r=Bl();return V.useEffect(()=>r?bge:(n(fle(e)),()=>{n(mle(e))}),[n,r,e]),null}var K_,_ge=()=>{var[t]=V.useState(()=>iy("uid-"));return t},Nge=(K_=bq.useId)!==null&&K_!==void 0?K_:_ge;function jge(t,e){var n=Nge();return e||(t?"".concat(t,"-").concat(n):n)}var Sge=V.createContext(void 0),Age=t=>{var{id:e,type:n,children:r}=t,i=jge("recharts-".concat(n),e);return V.createElement(Sge.Provider,{value:i},r(i))},Ege={cartesianItems:[],polarItems:[]},TU=al({name:"graphicalItems",initialState:Ege,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=fd(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=fd(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=fd(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Cge,replaceCartesianGraphicalItem:Tge,removeCartesianGraphicalItem:kge,addPolarGraphicalItem:awe,removePolarGraphicalItem:swe}=TU.actions,Ige=TU.reducer;function Pge(t){var e=eo(),n=V.useRef(null);return V.useEffect(()=>{n.current===null?e(Cge(t)):n.current!==t&&e(Tge({prev:n.current,next:t})),n.current=t},[e,t]),V.useEffect(()=>()=>{n.current&&(e(kge(n.current)),n.current=null)},[e]),null}function A8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(n),!0).forEach(function(r){Rge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rge(t,e,n){return(e=Oge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oge(t){var e=Dge(t,"string");return typeof e=="symbol"?e:e+""}function Dge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Lge={xAxis:{},yAxis:{},zAxis:{}},kU=al({name:"cartesianAxis",initialState:Lge,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=E8(E8({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:Mge,removeXAxis:zge,addYAxis:Fge,removeYAxis:Uge,addZAxis:owe,removeZAxis:lwe,updateYAxisWidth:Bge}=kU.actions,Vge=kU.reducer,qge=tt([os],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),$ge=tt([qge,kd,Id],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),r3=()=>sn($ge),Hge=()=>sn(mme);function C8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function T8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C8(Object(n),!0).forEach(function(r){Wge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wge(t,e,n){return(e=Gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gge(t){var e=Yge(t,"string");return typeof e=="symbol"?e:e+""}function Yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kge=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o=T8(T8({index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},ss(i,!1)),GA(i)),c;return V.isValidElement(i)?c=V.cloneElement(i,o):typeof i=="function"?c=i(o):c=V.createElement(EU,o),V.createElement(sg,{className:"recharts-active-dot"},c)};function Xge(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i}=t,a=sn(fy),o=Hge();if(e==null||o==null)return null;var c=e.find(d=>o.includes(d.payload));return Ra(c)?null:Kge({point:c,childIndex:Number(a),mainColor:n,dataKey:i,activeDot:r})}var Zge={},IU=al({name:"errorBars",initialState:Zge,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:cwe,replaceErrorBar:uwe,removeErrorBar:dwe}=IU.actions,Jge=IU.reducer,Qge=["children"];function e0e(t,e){if(t==null)return{};var n,r,i=t0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function t0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var n0e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},r0e=V.createContext(n0e);function i0e(t){var{children:e}=t,n=e0e(t,Qge);return V.createElement(r0e.Provider,{value:n},e)}function PU(t,e){var n,r,i=sn(h=>Rd(h,t)),a=sn(h=>Od(h,e)),o=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:Ho.allowDataOverflow,c=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:Wo.allowDataOverflow,d=o||c;return{needClip:d,needClipX:o,needClipY:c}}function a0e(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=r3(),{needClipX:a,needClipY:o,needClip:c}=PU(e,n);if(!c)return null;var{x:d,y:h,width:f,height:p}=i;return V.createElement("clipPath",{id:"clipPath-".concat(r)},V.createElement("rect",{x:a?d:d-f/2,y:o?h:h-p/2,width:a?f:f*2,height:o?p:p*2}))}var s0e=t=>{var{chartData:e}=t,n=eo(),r=Bl();return V.useEffect(()=>r?()=>{}:(n(e8(e)),()=>{n(e8(void 0))}),[e,n,r]),null},k8={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RU=al({name:"brush",initialState:k8,reducers:{setBrushSettings(t,e){return e.payload==null?k8:e.payload}}}),{setBrushSettings:hwe}=RU.actions,o0e=RU.reducer;function l0e(t,e,n){return(e=c0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c0e(t){var e=u0e(t,"string");return typeof e=="symbol"?e:e+""}function u0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class i3{static create(e){return new i3(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(r)switch(r){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?e>=r&&e<=i:e>=i&&e<=r}}l0e(i3,"EPS",1e-4);function d0e(t){return(t%180+180)%180}var h0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=d0e(i),o=a*Math.PI/180,c=Math.atan(r/n),d=o>c&&o<Math.PI-c?r/Math.sin(o):n/Math.cos(o);return Math.abs(d)},f0e={dots:[],areas:[],lines:[]},OU=al({name:"referenceElements",initialState:f0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=fd(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=fd(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=fd(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:fwe,removeDot:mwe,addArea:pwe,removeArea:gwe,addLine:ywe,removeLine:xwe}=OU.actions,m0e=OU.reducer,p0e=V.createContext(void 0),g0e=t=>{var{children:e}=t,[n]=V.useState("".concat(iy("recharts"),"-clip")),r=r3();if(r==null)return null;var{x:i,y:a,width:o,height:c}=r;return V.createElement(p0e.Provider,{value:n},V.createElement("defs",null,V.createElement("clipPath",{id:n},V.createElement("rect",{x:i,y:a,height:c,width:o}))),e)};function Wp(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function DU(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function y0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return h0e(r,n)}function x0e(t,e,n){var r=n==="width",{x:i,y:a,width:o,height:c}=t;return e===1?{start:r?i:a,end:r?i+o:a+c}:{start:r?i+o:a+c,end:r?i:a}}function nb(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function v0e(t,e){return DU(t,e+1)}function b0e(t,e,n,r,i){for(var a=(r||[]).slice(),{start:o,end:c}=e,d=0,h=1,f=o,p=function(){var b=r?.[d];if(b===void 0)return{v:DU(r,h)};var v=d,w,j=()=>(w===void 0&&(w=n(b,v)),w),E=b.coordinate,T=d===0||nb(t,E,j,f,c);T||(d=0,f=o,h+=1),T&&(f=E+t*(j()/2+i),d+=h)},x;h<=a.length;)if(x=p(),x)return x.v;return[]}function I8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(n),!0).forEach(function(r){w0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e,n){return(e=_0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _0e(t){var e=N0e(t,"string");return typeof e=="symbol"?e:e+""}function N0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j0e(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,{start:c}=e,{end:d}=e,h=function(x){var g=a[x],b,v=()=>(b===void 0&&(b=n(g,x)),b);if(x===o-1){var w=t*(g.coordinate+t*v()/2-d);a[x]=g=bs(bs({},g),{},{tickCoord:w>0?g.coordinate-w*t:g.coordinate})}else a[x]=g=bs(bs({},g),{},{tickCoord:g.coordinate});var j=nb(t,g.tickCoord,v,c,d);j&&(d=g.tickCoord-t*(v()/2+i),a[x]=bs(bs({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)h(f);return a}function S0e(t,e,n,r,i,a){var o=(r||[]).slice(),c=o.length,{start:d,end:h}=e;if(a){var f=r[c-1],p=n(f,c-1),x=t*(f.coordinate+t*p/2-h);o[c-1]=f=bs(bs({},f),{},{tickCoord:x>0?f.coordinate-x*t:f.coordinate});var g=nb(t,f.tickCoord,()=>p,d,h);g&&(h=f.tickCoord-t*(p/2+i),o[c-1]=bs(bs({},f),{},{isShow:!0}))}for(var b=a?c-1:c,v=function(E){var T=o[E],D,M=()=>(D===void 0&&(D=n(T,E)),D);if(E===0){var J=t*(T.coordinate-t*M()/2-d);o[E]=T=bs(bs({},T),{},{tickCoord:J<0?T.coordinate-J*t:T.coordinate})}else o[E]=T=bs(bs({},T),{},{tickCoord:T.coordinate});var F=nb(t,T.tickCoord,M,d,h);F&&(d=T.tickCoord+t*(M()/2+i),o[E]=bs(bs({},T),{},{isShow:!0}))},w=0;w<b;w++)v(w);return o}function a3(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:o,orientation:c,interval:d,tickFormatter:h,unit:f,angle:p}=t;if(!i||!i.length||!r)return[];if(fn(d)||og.isSsr){var x;return(x=v0e(i,fn(d)?d:0))!==null&&x!==void 0?x:[]}var g=[],b=c==="top"||c==="bottom"?"width":"height",v=f&&b==="width"?M0(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},w=(T,D)=>{var M=typeof h=="function"?h(T.value,D):T.value;return b==="width"?y0e(M0(M,{fontSize:e,letterSpacing:n}),v,p):M0(M,{fontSize:e,letterSpacing:n})[b]},j=i.length>=2?Tl(i[1].coordinate-i[0].coordinate):1,E=x0e(a,j,b);return d==="equidistantPreserveStart"?b0e(j,E,w,i,o):(d==="preserveStart"||d==="preserveStartEnd"?g=S0e(j,E,w,i,o,d==="preserveStartEnd"):g=j0e(j,E,w,i,o),g.filter(T=>T.isShow))}var A0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,o=0;if(e){e.forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=n?n.getBoundingClientRect().width:0,d=i+a,h=o+d+c+(n?r:0);return Math.round(h)}return 0},E0e=["axisLine","width","height","className","hide","ticks"],C0e=["viewBox"],T0e=["viewBox"];function $j(t,e){if(t==null)return{};var n,r,i=k0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nm(){return nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nm.apply(null,arguments)}function P8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ha(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(n),!0).forEach(function(r){I0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I0e(t,e,n){return(e=P0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P0e(t){var e=R0e(t,"string");return typeof e=="symbol"?e:e+""}function R0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s3={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function O0e(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:o,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var h=ha(ha(ha({},d),ss(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!o||a==="bottom"&&o);h=ha(ha({},h),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var p=+(a==="left"&&!o||a==="right"&&o);h=ha(ha({},h),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return V.createElement("line",nm({},h,{className:Gr("recharts-cartesian-axis-line",Zb(c,"className"))}))}function D0e(t,e,n,r,i,a,o,c,d){var h,f,p,x,g,b,v=c?-1:1,w=t.tickSize||o,j=fn(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=f=t.coordinate,x=n+ +!c*i,p=x-v*w,b=p-v*d,g=j;break;case"left":p=x=t.coordinate,f=e+ +!c*r,h=f-v*w,g=h-v*d,b=j;break;case"right":p=x=t.coordinate,f=e+ +c*r,h=f+v*w,g=h+v*d,b=j;break;default:h=f=t.coordinate,x=n+ +c*i,p=x+v*w,b=p+v*d,g=j;break}return{line:{x1:h,y1:p,x2:f,y2:x},tick:{x:g,y:b}}}function L0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function M0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function z0e(t){var{option:e,tickProps:n,value:r}=t,i,a=Gr(n.className,"recharts-cartesian-axis-tick-value");if(V.isValidElement(e))i=V.cloneElement(e,ha(ha({},n),{},{className:a}));else if(typeof e=="function")i=e(ha(ha({},n),{},{className:a}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=Gr(o,e?.className)),i=V.createElement(t3,nm({},n,{className:o}),r)}return i}function F0e(t){var{ticks:e=[],tick:n,tickLine:r,stroke:i,tickFormatter:a,unit:o,padding:c,tickTextProps:d,orientation:h,mirror:f,x:p,y:x,width:g,height:b,tickSize:v,tickMargin:w,fontSize:j,letterSpacing:E,getTicksConfig:T,events:D}=t,M=a3(ha(ha({},T),{},{ticks:e}),j,E),J=L0e(h,f),F=M0e(h,f),z=hm(T),L=ss(n,!1),H=ha(ha({},z),{},{fill:"none"},ss(r,!1)),P=M.map((I,U)=>{var{line:k,tick:le}=D0e(I,p,x,g,b,h,v,f,w),G=ha(ha(ha(ha({textAnchor:J,verticalAnchor:F},z),{},{stroke:"none",fill:i},L),le),{},{index:U,payload:I,visibleTicksCount:M.length,tickFormatter:a,padding:c},d);return V.createElement(sg,nm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},iae(D,I,U)),r&&V.createElement("line",nm({},H,k,{className:Gr("recharts-cartesian-axis-tick-line",Zb(r,"className"))})),n&&V.createElement(z0e,{option:n,tickProps:G,value:"".concat(typeof a=="function"?a(I.value,U):I.value).concat(o||"")}))});return P.length>0?V.createElement("g",{className:"recharts-cartesian-axis-ticks"},P):null}var U0e=V.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:o,ticks:c}=t,d=$j(t,E0e),[h,f]=V.useState(""),[p,x]=V.useState(""),g=V.useRef([]);V.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var v;return A0e({ticks:g.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=V.useCallback(v=>{if(v){var w=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=Array.from(w);var j=w[0];if(j){var E=window.getComputedStyle(j),T=E.fontSize,D=E.letterSpacing;(T!==h||D!==p)&&(f(T),x(D))}}},[h,p]);return o||r!=null&&r<=0||i!=null&&i<=0?null:V.createElement(sg,{className:Gr("recharts-cartesian-axis",a),ref:b},V.createElement(O0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:hm(t)}),V.createElement(F0e,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:p,getTicksConfig:t,events:d}),V.createElement(Wpe,{x:t.x,y:t.y,width:t.width,height:t.height},V.createElement(nge,{label:t.label}),t.children))}),B0e=V.memo(U0e,(t,e)=>{var{viewBox:n}=t,r=$j(t,C0e),{viewBox:i}=e,a=$j(e,T0e);return Wp(n,i)&&Wp(r,a)}),o3=V.forwardRef((t,e)=>{var n=Vl(t,s3);return V.createElement(B0e,nm({},n,{ref:e}))});o3.displayName="CartesianAxis";var V0e=["x1","y1","x2","y2","key"],q0e=["offset"],$0e=["xAxisId","yAxisId"],H0e=["xAxisId","yAxisId"];function R8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function js(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(n),!0).forEach(function(r){W0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W0e(t,e,n){return(e=G0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function G0e(t){var e=Y0e(t,"string");return typeof e=="symbol"?e:e+""}function Y0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},If.apply(null,arguments)}function rb(t,e){if(t==null)return{};var n,r,i=K0e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function K0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var X0e=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:o,ry:c}=t;return V.createElement("rect",{x:r,y:i,ry:c,width:a,height:o,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function LU(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var{x1:r,y1:i,x2:a,y2:o,key:c}=e,d=rb(e,V0e),h=hm(d),{offset:f}=h,p=rb(h,q0e);n=V.createElement("line",If({},p,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:c}))}return n}function Z0e(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=rb(t,$0e),d=i.map((h,f)=>{var p=js(js({},c),{},{x1:e,y1:h,x2:e+n,y2:h,key:"line-".concat(f),index:f});return LU(r,p)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function J0e(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:o}=t,c=rb(t,H0e),d=i.map((h,f)=>{var p=js(js({},c),{},{x1:h,y1:e,x2:h,y2:e+n,key:"line-".concat(f),index:f});return LU(r,p)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function Q0e(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:o,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var h=c.map(p=>Math.round(p+i-i)).sort((p,x)=>p-x);i!==h[0]&&h.unshift(0);var f=h.map((p,x)=>{var g=!h[x+1],b=g?i+o-p:h[x+1]-p;if(b<=0)return null;var v=x%e.length;return V.createElement("rect",{key:"react-".concat(x),y:p,x:r,height:b,width:a,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function eye(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:o,height:c,verticalPoints:d}=t;if(!e||!n||!n.length)return null;var h=d.map(p=>Math.round(p+i-i)).sort((p,x)=>p-x);i!==h[0]&&h.unshift(0);var f=h.map((p,x)=>{var g=!h[x+1],b=g?i+o-p:h[x+1]-p;if(b<=0)return null;var v=x%n.length;return V.createElement("rect",{key:"react-".concat(x),x:p,y:a,width:b,height:c,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var tye=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return U9(a3(js(js(js({},s3),n),{},{ticks:B9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},nye=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return U9(a3(js(js(js({},s3),n),{},{ticks:B9(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},rye={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function MU(t){var e=W9(),n=G9(),r=H9(),i=js(js({},Vl(t,rye)),{},{x:fn(t.x)?t.x:r.left,y:fn(t.y)?t.y:r.top,width:fn(t.width)?t.width:r.width,height:fn(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:o,x:c,y:d,width:h,height:f,syncWithTicks:p,horizontalValues:x,verticalValues:g}=i,b=Bl(),v=sn(L=>HP(L,"xAxis",a,b)),w=sn(L=>HP(L,"yAxis",o,b));if(!fn(h)||h<=0||!fn(f)||f<=0||!fn(c)||c!==+c||!fn(d)||d!==+d)return null;var j=i.verticalCoordinatesGenerator||tye,E=i.horizontalCoordinatesGenerator||nye,{horizontalPoints:T,verticalPoints:D}=i;if((!T||!T.length)&&typeof E=="function"){var M=x&&x.length,J=E({yAxis:w?js(js({},w),{},{ticks:M?x:w.ticks}):void 0,width:e,height:n,offset:r},M?!0:p);L0(Array.isArray(J),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof J,"]")),Array.isArray(J)&&(T=J)}if((!D||!D.length)&&typeof j=="function"){var F=g&&g.length,z=j({xAxis:v?js(js({},v),{},{ticks:F?g:v.ticks}):void 0,width:e,height:n,offset:r},F?!0:p);L0(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(D=z)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(X0e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),V.createElement(Q0e,If({},i,{horizontalPoints:T})),V.createElement(eye,If({},i,{verticalPoints:D})),V.createElement(Z0e,If({},i,{offset:r,horizontalPoints:T,xAxis:v,yAxis:w})),V.createElement(J0e,If({},i,{offset:r,verticalPoints:D,xAxis:v,yAxis:w})))}MU.displayName="CartesianGrid";var zU=(t,e,n,r)=>$F(t,"xAxis",e,r),FU=(t,e,n,r)=>qF(t,"xAxis",e,r),UU=(t,e,n,r)=>$F(t,"yAxis",n,r),BU=(t,e,n,r)=>qF(t,"yAxis",n,r),iye=tt([Yr,zU,UU,FU,BU],(t,e,n,r,i)=>Yh(t,"xAxis")?wj(e,r,!1):wj(n,i,!1)),aye=(t,e,n,r,i)=>i;function sye(t){return t.type==="line"}var oye=tt([hF,aye],(t,e)=>t.filter(sye).find(n=>n.id===e)),lye=tt([Yr,zU,UU,FU,BU,oye,iye,C4],(t,e,n,r,i,a,o,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=c;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{dataKey:p,data:x}=a,g;if(x!=null&&x.length>0?g=x:g=d?.slice(h,f+1),g!=null)return kye({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:o,displayedData:g})}}),cye=["id"],uye=["type","layout","connectNulls","needClip"],dye=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function O8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(n),!0).forEach(function(r){hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hye(t,e,n){return(e=fye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fye(t){var e=mye(t,"string");return typeof e=="symbol"?e:e+""}function mye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l3(t,e){if(t==null)return{};var n,r,i=pye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rm.apply(null,arguments)}var gye=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:V9(n,e),payload:t}]};function yye(t){var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:o,hide:c,unit:d}=t;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:V9(o,e),hide:c,type:t.tooltipType,color:t.stroke,unit:d}}}var VU=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function xye(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var vye=(t,e,n)=>{var r=n.reduce((p,x)=>p+x);if(!r)return VU(e,t);for(var i=Math.floor(t/r),a=t%r,o=e-t,c=[],d=0,h=0;d<n.length;h+=n[d],++d)if(h+n[d]>a){c=[...n.slice(0,d),a-h];break}var f=c.length%2===0?[0,o]:[o];return[...xye(n,i),...c,...f].map(p=>"".concat(p,"px")).join(", ")};function bye(t,e){var n;if(V.isValidElement(t))n=V.cloneElement(t,e);else if(typeof t=="function")n=t(e);else{var r=Gr("recharts-line-dot",typeof t!="boolean"?t.className:"");n=V.createElement(EU,rm({},e,{className:r}))}return n}function wye(t,e){return t==null?!1:e?!0:t.length===1}function _ye(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:o}=r;if(!wye(n,i))return null;var{id:c}=r,d=l3(r,cye),h=B7(i),f=hm(d),p=ss(i,!0),x=n.map((b,v)=>{var w=Yo(Yo(Yo({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:b.x,cy:b.y,dataKey:a,value:b.value,payload:b.payload,points:n});return bye(i,w)}),g={clipPath:o?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return V.createElement(sg,rm({className:"recharts-line-dots",key:"dots"},g),x)}function Nye(t){var{showLabels:e,children:n,points:r}=t,i=V.useMemo(()=>r?.map(a=>{var o={x:a.x,y:a.y,width:0,height:0};return Yo(Yo({},o),{},{value:a.value,payload:a.payload,viewBox:o,parentViewBox:void 0,fill:void 0})}),[r]);return V.createElement(fge,{value:e?i:null},n)}function D8(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:o,layout:c,connectNulls:d,needClip:h}=a,f=l3(a,uye),p=Yo(Yo({},ss(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:r,type:o,layout:c,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return V.createElement(V.Fragment,null,r?.length>1&&V.createElement(X9,rm({},p,{pathRef:n})),V.createElement(_ye,{points:r,clipPathId:e,props:a}))}function jye(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Sye(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:o,strokeDasharray:c,isAnimationActive:d,animationBegin:h,animationDuration:f,animationEasing:p,animateNewValues:x,width:g,height:b,onAnimationEnd:v,onAnimationStart:w}=n,j=i.current,E=tz(n,"recharts-line-"),[T,D]=V.useState(!1),M=!T,J=V.useCallback(()=>{typeof v=="function"&&v(),D(!1)},[v]),F=V.useCallback(()=>{typeof w=="function"&&w(),D(!0)},[w]),z=jye(r.current),L=a.current;return V.createElement(Nye,{points:o,showLabels:M},n.children,V.createElement(ez,{animationId:E,begin:h,duration:f,isActive:d,easing:p,onAnimationEnd:J,onAnimationStart:F,key:E},H=>{var P=nd(L,z+L,H),I=Math.min(P,z),U;if(d)if(c){var k="".concat(c).split(/[,\s]+/gim).map(W=>parseFloat(W));U=vye(I,z,k)}else U=VU(z,I);else U=c==null?void 0:String(c);if(j){var le=j.length/o.length,G=H===1?o:o.map((W,ie)=>{var se=Math.floor(ie*le);if(j[se]){var Se=j[se];return Yo(Yo({},W),{},{x:nd(Se.x,W.x,H),y:nd(Se.y,W.y,H)})}return x?Yo(Yo({},W),{},{x:nd(g*2,W.x,H),y:nd(b/2,W.y,H)}):Yo(Yo({},W),{},{x:W.x,y:W.y})});return i.current=G,V.createElement(D8,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:U})}return H>0&&z>0&&(i.current=o,a.current=I),V.createElement(D8,{props:n,points:o,clipPathId:e,pathRef:r,strokeDasharray:U})}),V.createElement(gge,{label:n.label}))}function Aye(t){var{clipPathId:e,props:n}=t,r=V.useRef(null),i=V.useRef(0),a=V.useRef(null);return V.createElement(Sye,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Eye=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:Js(t.payload,e)});class Cye extends V.Component{render(){var e,{hide:n,dot:r,points:i,className:a,xAxisId:o,yAxisId:c,top:d,left:h,width:f,height:p,id:x,needClip:g}=this.props;if(n)return null;var b=Gr("recharts-line",a),v=x,{r:w=3,strokeWidth:j=2}=(e=ss(r,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},E=B7(r),T=w*2+j;return V.createElement(V.Fragment,null,V.createElement(sg,{className:b},g&&V.createElement("defs",null,V.createElement(a0e,{clipPathId:v,xAxisId:o,yAxisId:c}),!E&&V.createElement("clipPath",{id:"clipPath-dots-".concat(v)},V.createElement("rect",{x:h-T/2,y:d-T/2,width:f+T,height:p+T}))),V.createElement(i0e,{xAxisId:o,yAxisId:c,data:i,dataPointFormatter:Eye,errorBarOffset:0},V.createElement(Aye,{props:this.props,clipPathId:v}))),V.createElement(Xge,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var qU={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!og.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Tye(t){var e=Vl(t,qU),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,connectNulls:c,dot:d,hide:h,isAnimationActive:f,label:p,legendType:x,xAxisId:g,yAxisId:b,id:v}=e,w=l3(e,dye),{needClip:j}=PU(g,b),E=r3(),T=i4(),D=Bl(),M=sn(H=>lye(H,g,b,D,v));if(T!=="horizontal"&&T!=="vertical"||M==null||E==null)return null;var{height:J,width:F,x:z,y:L}=E;return V.createElement(Cye,rm({},w,{id:v,connectNulls:c,dot:d,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:o,isAnimationActive:f,hide:h,label:p,legendType:x,xAxisId:g,yAxisId:b,points:M,layout:T,height:J,width:F,left:z,top:L,needClip:j}))}function kye(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:o,bandSize:c,displayedData:d}=t;return d.map((h,f)=>{var p=Js(h,o);if(e==="horizontal"){var x=kI({axis:n,ticks:i,bandSize:c,entry:h,index:f}),g=Ra(p)?null:r.scale(p);return{x,y:g,value:p,payload:h}}var b=Ra(p)?null:n.scale(p),v=kI({axis:r,ticks:a,bandSize:c,entry:h,index:f});return b==null||v==null?null:{x:b,y:v,value:p,payload:h}}).filter(Boolean)}function Iye(t){var e=Vl(t,qU),n=Bl();return V.createElement(Age,{id:e.id,type:"line"},r=>V.createElement(V.Fragment,null,V.createElement(wge,{legendPayload:gye(e)}),V.createElement(vge,{fn:yye,args:e}),V.createElement(Pge,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),V.createElement(Tye,rm({},e,{id:r}))))}var $U=V.memo(Iye);$U.displayName="Line";var Pye=["dangerouslySetInnerHTML","ticks"],Rye=["id"],Oye=["domain"],Dye=["domain"];function Hj(){return Hj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hj.apply(null,arguments)}function ib(t,e){if(t==null)return{};var n,r,i=Lye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Mye(t){var e=eo();return V.useEffect(()=>(e(Mge(t)),()=>{e(zge(t))}),[t,e]),null}var zye=t=>{var{xAxisId:e,className:n}=t,r=sn($9),i=Bl(),a="xAxis",o=sn(w=>fg(w,a,e,i)),c=sn(w=>VF(w,a,e,i)),d=sn(w=>ofe(w,e)),h=sn(w=>ffe(w,e)),f=sn(w=>lF(w,e));if(d==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:x}=t,g=ib(t,Pye),{id:b}=f,v=ib(f,Rye);return V.createElement(o3,Hj({},g,v,{scale:o,x:h.x,y:h.y,width:d.width,height:d.height,className:Gr("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:c}))},Fye={allowDataOverflow:Ho.allowDataOverflow,allowDecimals:Ho.allowDecimals,allowDuplicatedCategory:Ho.allowDuplicatedCategory,height:Ho.height,hide:!1,mirror:Ho.mirror,orientation:Ho.orientation,padding:Ho.padding,reversed:Ho.reversed,scale:Ho.scale,tickCount:Ho.tickCount,type:Ho.type,xAxisId:0},Uye=t=>{var e,n,r,i,a,o=Vl(t,Fye);return V.createElement(V.Fragment,null,V.createElement(Mye,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.xAxisId,scale:o.scale,type:o.type,padding:o.padding,allowDataOverflow:o.allowDataOverflow,domain:o.domain,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,height:o.height,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),V.createElement(zye,o))},Bye=(t,e)=>{var{domain:n}=t,r=ib(t,Oye),{domain:i}=e,a=ib(e,Dye);return Wp(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Wp({domain:n},{domain:i}):!1},HU=V.memo(Uye,Bye);HU.displayName="XAxis";var Vye=["dangerouslySetInnerHTML","ticks"],qye=["id"],$ye=["domain"],Hye=["domain"];function Wj(){return Wj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wj.apply(null,arguments)}function ab(t,e){if(t==null)return{};var n,r,i=Wye(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Gye(t){var e=eo();return V.useEffect(()=>(e(Fge(t)),()=>{e(Uge(t))}),[t,e]),null}var Yye=t=>{var{yAxisId:e,className:n,width:r,label:i}=t,a=V.useRef(null),o=V.useRef(null),c=sn($9),d=Bl(),h=eo(),f="yAxis",p=sn(M=>fg(M,f,e,d)),x=sn(M=>gfe(M,e)),g=sn(M=>pfe(M,e)),b=sn(M=>VF(M,f,e,d)),v=sn(M=>cF(M,e));if(V.useLayoutEffect(()=>{if(!(r!=="auto"||!x||n3(i)||V.isValidElement(i)||v==null)){var M=a.current;if(M){var J=M.getCalculatedWidth();Math.round(x.width)!==Math.round(J)&&h(Bge({id:e,width:J}))}}},[b,x,h,i,e,r,v]),x==null||g==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:j}=t,E=ab(t,Vye),{id:T}=v,D=ab(v,qye);return V.createElement(o3,Wj({},E,D,{ref:a,labelRef:o,scale:p,x:g.x,y:g.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:x.width,height:x.height,className:Gr("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:b}))},Kye={allowDataOverflow:Wo.allowDataOverflow,allowDecimals:Wo.allowDecimals,allowDuplicatedCategory:Wo.allowDuplicatedCategory,hide:!1,mirror:Wo.mirror,orientation:Wo.orientation,padding:Wo.padding,reversed:Wo.reversed,scale:Wo.scale,tickCount:Wo.tickCount,type:Wo.type,width:Wo.width,yAxisId:0},Xye=t=>{var e,n,r,i,a,o=Vl(t,Kye);return V.createElement(V.Fragment,null,V.createElement(Gye,{interval:(e=o.interval)!==null&&e!==void 0?e:"preserveEnd",id:o.yAxisId,scale:o.scale,type:o.type,domain:o.domain,allowDataOverflow:o.allowDataOverflow,dataKey:o.dataKey,allowDuplicatedCategory:o.allowDuplicatedCategory,allowDecimals:o.allowDecimals,tickCount:o.tickCount,padding:o.padding,includeHidden:(n=o.includeHidden)!==null&&n!==void 0?n:!1,reversed:o.reversed,ticks:o.ticks,width:o.width,orientation:o.orientation,mirror:o.mirror,hide:o.hide,unit:o.unit,name:o.name,angle:(r=o.angle)!==null&&r!==void 0?r:0,minTickGap:(i=o.minTickGap)!==null&&i!==void 0?i:5,tick:(a=o.tick)!==null&&a!==void 0?a:!0,tickFormatter:o.tickFormatter}),V.createElement(Yye,o))},Zye=(t,e)=>{var{domain:n}=t,r=ab(t,$ye),{domain:i}=e,a=ab(e,Hye);return Wp(r,a)?Array.isArray(n)&&n.length===2&&Array.isArray(i)&&i.length===2?n[0]===i[0]&&n[1]===i[1]:Wp({domain:n},{domain:i}):!1},WU=V.memo(Xye,Zye);WU.displayName="YAxis";var X_={exports:{}},Z_={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L8;function Jye(){if(L8)return Z_;L8=1;var t=Gp();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return Z_.useSyncExternalStoreWithSelector=function(d,h,f,p,x){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=o(function(){function w(M){if(!j){if(j=!0,E=M,M=p(M),x!==void 0&&b.hasValue){var J=b.value;if(x(J,M))return T=J}return T=M}if(J=T,n(E,M))return J;var F=p(M);return x!==void 0&&x(J,F)?(E=M,J):(E=M,T=F)}var j=!1,E,T,D=f===void 0?null:f;return[function(){return w(h())},D===null?void 0:function(){return w(D())}]},[h,f,p,x]);var v=r(d,g[0],g[1]);return a(function(){b.hasValue=!0,b.value=v},[v]),c(v),v},Z_}var M8;function Qye(){return M8||(M8=1,X_.exports=Jye()),X_.exports}Qye();function exe(t){t()}function txe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){exe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var z8={notify(){},get:()=>[]};function nxe(t,e){let n,r=z8,i=0,a=!1;function o(v){f();const w=r.subscribe(v);let j=!1;return()=>{j||(j=!0,w(),p())}}function c(){r.notify()}function d(){b.onStateChange&&b.onStateChange()}function h(){return a}function f(){i++,n||(n=t.subscribe(d),r=txe())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=z8)}function x(){a||(a=!0,f())}function g(){a&&(a=!1,p())}const b={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:x,tryUnsubscribe:g,getListeners:()=>r};return b}var rxe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ixe=rxe(),axe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",sxe=axe(),oxe=()=>ixe||sxe?V.useLayoutEffect:V.useEffect,lxe=oxe(),cxe=Symbol.for("react-redux-context"),uxe=typeof globalThis<"u"?globalThis:{};function dxe(){if(!V.createContext)return{};const t=uxe[cxe]??=new Map;let e=t.get(V.createContext);return e||(e=V.createContext(null),t.set(V.createContext,e)),e}var hxe=dxe();function fxe(t){const{children:e,context:n,serverState:r,store:i}=t,a=V.useMemo(()=>{const d=nxe(i);return{store:i,subscription:d,getServerState:r?()=>r:void 0}},[i,r]),o=V.useMemo(()=>i.getState(),[i]);lxe(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),o!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,o]);const c=n||hxe;return V.createElement(c.Provider,{value:a},e)}var mxe=fxe,pxe=(t,e)=>e,c3=tt([pxe,Yr,iF,ga,iU,Dd,wme,os],Ame),u3=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},GU=zl("mouseClick"),YU=Ly();YU.startListening({actionCreator:GU,effect:(t,e)=>{var n=t.payload,r=c3(e.getState(),u3(n));r?.activeIndex!=null&&e.dispatch(Cfe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Gj=zl("mouseMove"),KU=Ly();KU.startListening({actionCreator:Gj,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=W4(r,r.tooltip.settings.shared),a=c3(r,u3(n));i==="axis"&&(a?.activeIndex!=null?e.dispatch(ZF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(XF()))}});var F8={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},XU=al({name:"rootProps",initialState:F8,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:F8.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),gxe=XU.reducer,{updateOptions:yxe}=XU.actions,ZU=al({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:vwe}=ZU.actions,xxe=ZU.reducer,JU=zl("keyDown"),QU=zl("focus"),d3=Ly();d3.startListening({actionCreator:JU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var o=Number(G4(i,pg(n))),c=Dd(n);if(a==="Enter"){var d=eb(n,"axis","hover",String(i.index));e.dispatch(Fj({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=bfe(n),f=h==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,x=o+p*f;if(!(c==null||x>=c.length||x<0)){var g=eb(n,"axis","hover",String(x));e.dispatch(Fj({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});d3.startListening({actionCreator:QU,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",o=eb(n,"axis","hover",String(a));e.dispatch(Fj({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:o}))}}}});var jl=zl("externalEvent"),eB=Ly();eB.startListening({actionCreator:jl,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:dme(n),activeDataKey:cme(n),activeIndex:fy(n),activeLabel:oU(n),activeTooltipIndex:fy(n),isTooltipActive:hme(n)};t.payload.handler(r,t.payload.reactEvent)}}});var vxe=tt([mg],t=>t.tooltipItemPayloads),bxe=tt([vxe,Wy,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(c=>c.settings.dataKey===r);if(i!=null){var{positions:a}=i;if(a!=null){var o=e(a,n);return o}}}),tB=zl("touchMove"),nB=Ly();nB.startListening({actionCreator:tB,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=W4(r,r.tooltip.settings.shared);if(i==="axis"){var a=c3(r,u3({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(ZF({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(Qoe),f=(o=d.getAttribute(ele))!==null&&o!==void 0?o:void 0,p=bxe(e.getState(),h,f);e.dispatch(Efe({activeDataKey:f,activeIndex:h,activeCoordinate:p}))}}});var wxe=g9({brush:o0e,cartesianAxis:Vge,chartData:qme,errorBars:Jge,graphicalItems:Ige,layout:Soe,legend:ple,options:zme,polarAxis:xge,polarOptions:xxe,referenceElements:m0e,rootProps:gxe,tooltip:Tfe}),_xe=function(e){return Xse({reducer:wxe,preloadedState:e,middleware:n=>n({serializableCheck:!1}).concat([YU.middleware,KU.middleware,d3.middleware,eB.middleware,nB.middleware]),devTools:og.devToolsEnabled})};function Nxe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Bl(),a=V.useRef(null);if(i)return n;a.current==null&&(a.current=_xe(e));var o=ZA;return V.createElement(mxe,{context:o,store:a.current},n)}function jxe(t){var{layout:e,width:n,height:r,margin:i}=t,a=eo(),o=Bl();return V.useEffect(()=>{o||(a(_oe(e)),a(Noe({width:n,height:r})),a(woe(i)))},[a,o,e,n,r,i]),null}function Sxe(t){var e=eo();return V.useEffect(()=>{e(yxe(t))},[e,t]),null}var Axe=["children"];function Exe(t,e){if(t==null)return{};var n,r,i=Cxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sb(){return sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sb.apply(null,arguments)}var Txe={width:"100%",height:"100%"},kxe=V.forwardRef((t,e)=>{var n=W9(),r=G9(),i=K9();if(!z1(n)||!z1(r))return null;var{children:a,otherAttributes:o,title:c,desc:d}=t,h,f;return typeof o.tabIndex=="number"?h=o.tabIndex:h=i?0:void 0,typeof o.role=="string"?f=o.role:f=i?"application":void 0,V.createElement(V7,sb({},o,{title:c,desc:d,role:f,tabIndex:h,width:n,height:r,style:Txe,ref:e}),a)}),Ixe=t=>{var{children:e}=t,n=sn(c2);if(!n)return null;var{width:r,height:i,y:a,x:o}=n;return V.createElement(V7,{width:r,height:i,x:o,y:a},e)},U8=V.forwardRef((t,e)=>{var{children:n}=t,r=Exe(t,Axe),i=Bl();return i?V.createElement(Ixe,null,n):V.createElement(kxe,sb({ref:e},r),n)});function Pxe(){var t=eo(),[e,n]=V.useState(null),r=sn(Joe);return V.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Nc(a)&&a!==r&&t(joe(a))}},[e,t,r]),n}function B8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rxe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B8(Object(n),!0).forEach(function(r){Oxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oxe(t,e,n){return(e=Dxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dxe(t){var e=Lxe(t,"string");return typeof e=="symbol"?e:e+""}function Lxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mxe=V.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:o,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:f,onMouseMove:p,onMouseUp:x,onTouchEnd:g,onTouchMove:b,onTouchStart:v,style:w,width:j}=t,E=eo(),[T,D]=V.useState(null),[M,J]=V.useState(null);Jme();var F=Pxe(),z=V.useCallback(O=>{F(O),typeof e=="function"&&e(O),D(O),J(O)},[F,e,D,J]),L=V.useCallback(O=>{E(GU(O)),E(jl({handler:a,reactEvent:O}))},[E,a]),H=V.useCallback(O=>{E(Gj(O)),E(jl({handler:h,reactEvent:O}))},[E,h]),P=V.useCallback(O=>{E(XF()),E(jl({handler:f,reactEvent:O}))},[E,f]),I=V.useCallback(O=>{E(Gj(O)),E(jl({handler:p,reactEvent:O}))},[E,p]),U=V.useCallback(()=>{E(QU())},[E]),k=V.useCallback(O=>{E(JU(O.key))},[E]),le=V.useCallback(O=>{E(jl({handler:o,reactEvent:O}))},[E,o]),G=V.useCallback(O=>{E(jl({handler:c,reactEvent:O}))},[E,c]),W=V.useCallback(O=>{E(jl({handler:d,reactEvent:O}))},[E,d]),ie=V.useCallback(O=>{E(jl({handler:x,reactEvent:O}))},[E,x]),se=V.useCallback(O=>{E(jl({handler:v,reactEvent:O}))},[E,v]),Se=V.useCallback(O=>{E(tB(O)),E(jl({handler:b,reactEvent:O}))},[E,b]),X=V.useCallback(O=>{E(jl({handler:g,reactEvent:O}))},[E,g]);return V.createElement(fU.Provider,{value:T},V.createElement(fae.Provider,{value:M},V.createElement("div",{className:Gr("recharts-wrapper",r),style:Rxe({position:"relative",cursor:"default",width:j,height:i},w),onClick:L,onContextMenu:le,onDoubleClick:G,onFocus:U,onKeyDown:k,onMouseDown:W,onMouseEnter:H,onMouseLeave:P,onMouseMove:I,onMouseUp:ie,onTouchEnd:X,onTouchMove:Se,onTouchStart:se,ref:z},n)))}),zxe=["children","className","width","height","style","compact","title","desc"];function Fxe(t,e){if(t==null)return{};var n,r,i=Uxe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Uxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bxe=V.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:a,style:o,compact:c,title:d,desc:h}=t,f=Fxe(t,zxe),p=hm(f);return c?V.createElement(U8,{otherAttributes:p,title:d,desc:h},n):V.createElement(Mxe,{className:r,style:o,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},V.createElement(U8,{otherAttributes:p,title:d,desc:h,ref:e},V.createElement(g0e,null,n)))}),Vxe=["width","height"];function Yj(){return Yj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yj.apply(null,arguments)}function qxe(t,e){if(t==null)return{};var n,r,i=$xe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $xe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hxe={top:5,right:5,bottom:5,left:5},Wxe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Hxe,reverseStackOrder:!1,syncMethod:"index"},Gxe=V.forwardRef(function(e,n){var r,i=Vl(e.categoricalChartProps,Wxe),{width:a,height:o}=i,c=qxe(i,Vxe);if(!z1(a)||!z1(o))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:x}=e,g={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return V.createElement(Nxe,{preloadedState:{options:g},reduxStoreName:(r=x.id)!==null&&r!==void 0?r:d},V.createElement(s0e,{chartData:x.data}),V.createElement(jxe,{width:a,height:o,layout:i.layout,margin:i.margin}),V.createElement(Sxe,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),V.createElement(Bxe,Yj({},c,{width:a,height:o,ref:n})))}),Yxe=["axis"],Kxe=V.forwardRef((t,e)=>V.createElement(Gxe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yxe,tooltipPayloadSearcher:Lme,categoricalChartProps:t,ref:e}));function Xxe(t){if(!t.duration&&!t.startDate&&!t.endDate)return 0;try{const e=t.duration||`${t.startDate||""} - ${t.endDate||""}`,n=e.match(/\b(19|20)\d{2}\b/g);if(n&&n.length>=2){const r=parseInt(n[0]);let i=parseInt(n[n.length-1]);return(e.toLowerCase().includes("present")||e.toLowerCase().includes("current"))&&(i=new Date().getFullYear()),Math.max(0,i-r)}return n&&n.length===1?1:0}catch(e){return console.warn("Error calculating experience years:",e),0}}function yf(t){if(!t)return new Date(0);if(t instanceof Date)return t;if(t.toDate&&typeof t.toDate=="function")return t.toDate();if(t._seconds)return new Date(t._seconds*1e3);const e=new Date(t);return isNaN(e.getTime())?new Date(0):e}function Zxe(){const{currentUser:t,userData:e}=Ei(),n=ii(),[r,i]=V.useState(!0),[a,o]=V.useState({totalUploads:0,uploadsThisMonth:0,uploadsLastMonth:0,monthlySpend:0,monthlySpendBreakdown:{subscription:0,cvPacks:0},averageUploadSize:0,recentActivity:[],uploadTrend:0,spendTrend:0,dailyUploads:[],topSkills:[],experienceLevels:{junior:0,mid:0,senior:0,unknown:0},topLocations:[],averageCompleteness:0,completenessDistribution:{excellent:0,good:0,fair:0,poor:0},educationDistribution:[],parsingSuccessRate:0,parsedCVs:0,failedCVs:0});V.useEffect(()=>{if(console.log("Analytics useEffect triggered"),console.log("currentUser:",t?.uid),console.log("userData:",e),console.log("userData.teamAccess:",e?.teamAccess),!t||!e){console.log("Skipping analytics load - missing currentUser or userData");return}console.log("Loading analytics..."),c()},[t,e]);const c=async()=>{if(t)try{i(!0);const h=new Date,f=new Date(h.getFullYear(),h.getMonth(),1),p=new Date(h.getFullYear(),h.getMonth()-1,1),x=new Date(h.getFullYear(),h.getMonth(),0),g=e?.teamAccess,b=g?.isTeamMember&&g?.teamOwnerId?g.teamOwnerId:t.uid;console.log("Loading CVs for user:",b,"(Team member:",g?.isTeamMember,")");let v=[];if(g?.isTeamMember&&g?.teamOwnerId){console.log("Fetching team CVs via Cloud Function");const be=Mr(),fe=await En(be,"getTeamCVs")();fe.data.success&&(v=fe.data.cvs.map(Ee=>({...Ee,id:Ee.id,uploadedAt:yf(Ee.uploadedAt)})),console.log("Team CVs fetched:",v.length))}else{console.log("Current user ID:",t.uid);const be=fu(Pl(cr,"cvs"),Hs("userId","==",t.uid));console.log("Executing Firestore query...");const oe=await mu(be);console.log("Query completed. Documents found:",oe.docs.length),v=oe.docs.map(fe=>({id:fe.id,...fe.data()}))}v=v.sort((be,oe)=>{const fe=yf(be.uploadedAt);return yf(oe.uploadedAt)-fe}),v.length===0&&(console.warn(" No CVs found for user:",b),console.warn("Check Firestore console to verify CVs exist with correct userId")),console.log("CVs data:",v),console.log("Sample CV metadata:",v[0]?.metadata),console.log("Sample CV fields:",Object.keys(v[0]||{}));const w=v.length;console.log("Total uploads:",w);const j={};v.forEach(be=>{const oe=be.metadata?.skills||[];oe.length>0&&console.log("CV has skills:",oe),oe.forEach(fe=>{j[fe]=(j[fe]||0)+1})}),console.log("Skills map:",j);const E=Object.entries(j).sort((be,oe)=>oe[1]-be[1]).slice(0,10).map(([be,oe])=>({skill:be,count:oe,percentage:w>0?(oe/w*100).toFixed(1):0})),T={junior:0,mid:0,senior:0,unknown:0};v.forEach(be=>{const oe=be.metadata?.experience||[];if(oe.length===0)T.unknown++;else{let fe=0;oe.forEach(Ee=>{const Be=Xxe(Ee);fe+=Be}),fe===0&&(fe=oe.length*1.5),fe<=2?T.junior++:fe>=3&&fe<=5?T.mid++:fe>=6&&T.senior++}});const D={};v.forEach(be=>{const oe=be.metadata?.location||"Unknown";D[oe]=(D[oe]||0)+1});const M=Object.entries(D).sort((be,oe)=>oe[1]-be[1]).slice(0,8).map(([be,oe])=>({location:be,count:oe,percentage:w>0?(oe/w*100).toFixed(1):0}));let J=0;const F={excellent:0,good:0,fair:0,poor:0};v.forEach(be=>{const oe=be.metadata||{};let fe=0;oe.name&&(fe+=15),oe.email&&(fe+=15),oe.phone&&(fe+=10),oe.location&&(fe+=10),oe.skills?.length>0&&(fe+=20),oe.experience?.length>0&&(fe+=20),oe.education?.length>0&&(fe+=10),J+=fe,fe>=90?F.excellent++:fe>=70?F.good++:fe>=50?F.fair++:F.poor++});const z=w>0?(J/w).toFixed(1):0,L={};v.forEach(be=>{const oe=be.metadata?.education||[];if(oe.length===0)L["Not Specified"]=(L["Not Specified"]||0)+1;else{const fe=oe[0]?.degree||"Unknown";L[fe]=(L[fe]||0)+1}});const H=Object.entries(L).sort((be,oe)=>oe[1]-be[1]).slice(0,6).map(([be,oe])=>({degree:be,count:oe,percentage:w>0?(oe/w*100).toFixed(1):0})),P=v.filter(be=>be.parsed===!0).length,I=v.filter(be=>be.status==="error").length,U=w>0?(P/w*100).toFixed(1):0,k=v.filter(be=>yf(be.uploadedAt)>=f).length;let le=0,G=0,W=0;const ie=e?.plan||"free";Rl[ie]&&Rl[ie].price&&(G=Rl[ie].price);try{const be=fu(Pl(cr,"payments"),Hs("userId","==",b),Hs("status","==","complete"),Hs("purchaseType","==","cv_pack"));(await mu(be)).docs.forEach(fe=>{const Ee=fe.data(),Be=Ee.completedAt?.toDate()||Ee.createdAt?.toDate();Be&&Be>=f&&(W+=parseFloat(Ee.amount)||0)})}catch(be){console.log("Could not fetch CV pack purchases:",be)}le=G+W;const se=G,Se=se>0?((le-se)/se*100).toFixed(1):le>0?100:0,X=v.filter(be=>{const oe=yf(be.uploadedAt);return oe>=p&&oe<=x}).length,O=X>0?((k-X)/X*100).toFixed(1):k>0?100:0,K=v.slice(0,10).map(be=>({id:be.id,name:be.fileName||"Unknown",date:yf(be.uploadedAt),action:"Uploaded CV"})),te={},ee=new Date;ee.setDate(ee.getDate()-30);for(let be=29;be>=0;be--){const oe=new Date;oe.setDate(oe.getDate()-be);const fe=oe.toLocaleDateString("en-US",{month:"short",day:"numeric"});te[fe]=0}v.forEach(be=>{const oe=yf(be.uploadedAt);if(oe&&oe>=ee){const fe=oe.toLocaleDateString("en-US",{month:"short",day:"numeric"});te.hasOwnProperty(fe)&&te[fe]++}});const xe=Object.entries(te).map(([be,oe])=>({date:be,uploads:oe}));o({totalUploads:w,uploadsThisMonth:k,uploadsLastMonth:X,monthlySpend:le,monthlySpendBreakdown:{subscription:G,cvPacks:W},averageUploadSize:w>0?(k/w*100).toFixed(1):0,recentActivity:K,uploadTrend:O,spendTrend:Se,dailyUploads:xe,topSkills:E,experienceLevels:T,topLocations:M,averageCompleteness:z,completenessDistribution:F,educationDistribution:H,parsingSuccessRate:U,parsedCVs:P,failedCVs:I}),i(!1)}catch(h){console.error("Error loading analytics:",h),console.error("Error details:",h.message),console.error("Error code:",h.code),(h.code==="failed-precondition"||h.message?.includes("index"))&&(console.error("FIRESTORE INDEX ERROR: You need to create a composite index."),console.error("Click the link in the error below or create an index for:"),console.error("Collection: cvs"),console.error("Fields: userId (Ascending), uploadedAt (Descending)")),i(!1)}},d=({title:h,value:f,subtitle:p,icon:x,trend:g,color:b="orange"})=>{const v={orange:"from-orange-500 to-orange-600",purple:"from-purple-500 to-purple-600",lime:"from-lime-500 to-lime-600",blue:"from-blue-500 to-blue-600"};return s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-all hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${v[b]} rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform`,children:s.jsx(x,{size:24,className:"text-white"})}),g!==void 0&&s.jsxs("div",{className:`flex items-center gap-1 text-sm font-bold px-3 py-1.5 rounded-full ${g>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[g>=0?s.jsx(Zf,{size:14}):s.jsx(Nre,{size:14}),Math.abs(g),"%"]})]}),s.jsx("h3",{className:"text-4xl font-bold text-gray-900 mb-2",children:f}),s.jsx("p",{className:"text-gray-700 font-semibold text-sm",children:h}),p&&s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:p})]})};return r?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(hc,{className:"w-12 h-12 text-orange-500 animate-pulse mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(jh,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Analytics"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Performance Insights"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(jh,{size:28})}),"Analytics Dashboard"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Track your CV filtering performance and gain actionable insights"})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(hc,{className:"w-24 h-24 text-white/20"})})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(d,{title:"Total CVs Uploaded",value:a.totalUploads,subtitle:"All time",icon:Gs,color:"orange"}),s.jsx(d,{title:"Uploads This Month",value:a.uploadsThisMonth,subtitle:t?.userData?.plan==="enterprise"||t?.userData?.cvUploadLimit===-1?"Unlimited uploads":`Out of ${t?.userData?.cvUploadLimit||10} limit`,icon:Zf,trend:a.uploadTrend,color:"purple"}),s.jsx(d,{title:"Monthly Spend",value:`R${a.monthlySpend.toFixed(0)}`,subtitle:`Subscription: R${a.monthlySpendBreakdown.subscription} | Packs: R${a.monthlySpendBreakdown.cvPacks}`,icon:jh,trend:a.spendTrend,color:"lime"}),s.jsx(d,{title:"Last Month",value:a.uploadsLastMonth,subtitle:"Previous period",icon:_d,color:"blue"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx(jh,{className:"text-white",size:16})}),"Upload Trend"]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Last 30 Days"})]}),a.dailyUploads.length>0&&a.dailyUploads.some(h=>h.uploads>0)?s.jsx(gpe,{width:"100%",height:250,children:s.jsxs(Kxe,{data:a.dailyUploads,children:[s.jsx(MU,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(HU,{dataKey:"date",tick:{fontSize:12},interval:"preserveStartEnd",angle:-45,textAnchor:"end",height:60}),s.jsx(WU,{tick:{fontSize:12}}),s.jsx(spe,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}}),s.jsx($U,{type:"monotone",dataKey:"uploads",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",r:4},activeDot:{r:6}})]})}):s.jsx("div",{className:"h-64 flex items-center justify-center bg-gradient-to-br from-gray-50 to-orange-50 rounded-xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(lne,{className:"w-10 h-10 text-gray-300"})}),s.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:"No upload data yet"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Start uploading CVs to see trends"})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(hc,{className:"text-white",size:16})}),"Usage Overview"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-5 border border-orange-100",children:[s.jsxs("div",{className:"flex justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Monthly Upload Limit"}),s.jsx("span",{className:"text-lg font-bold text-orange-600",children:t?.userData?.plan==="enterprise"||t?.userData?.cvUploadLimit===-1?`${a.uploadsThisMonth} (Unlimited)`:`${a.uploadsThisMonth} / ${t?.userData?.cvUploadLimit||10}`})]}),t?.userData?.plan!=="enterprise"&&t?.userData?.cvUploadLimit!==-1&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-4 rounded-full transition-all shadow-sm flex items-center justify-end pr-2",style:{width:`${Math.min(a.uploadsThisMonth/(t?.userData?.cvUploadLimit||10)*100,100)}%`},children:a.uploadsThisMonth>0&&s.jsxs("span",{className:"text-xs text-white font-bold",children:[Math.round(a.uploadsThisMonth/(t?.userData?.cvUploadLimit||10)*100),"%"]})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded flex items-center justify-center",children:s.jsx(hc,{className:"text-blue-600",size:12})}),"Quick Stats"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average daily uploads"}),s.jsx("span",{className:"text-sm font-bold text-gray-900 px-3 py-1 bg-white rounded-lg shadow-sm",children:(a.uploadsThisMonth/new Date().getDate()).toFixed(1)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current plan"}),s.jsx("span",{className:"text-sm font-bold text-orange-600 capitalize px-3 py-1 bg-orange-50 rounded-lg",children:t?.userData?.plan||"Free"})]}),(t?.userData?.cvPackBalance||0)>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-xl hover:bg-purple-100 transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"CV Pack Balance"}),s.jsxs("span",{className:"text-sm font-bold text-purple-600 px-3 py-1 bg-purple-100 rounded-lg",children:["+",t?.userData?.cvPackBalance||0," Bonus CVs"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Growth this month"}),s.jsxs("span",{className:`text-sm font-bold px-3 py-1 rounded-lg ${a.uploadTrend>=0?"text-green-700 bg-green-50":"text-red-700 bg-red-50"}`,children:[a.uploadTrend>=0?"+":"",a.uploadTrend,"%"]})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(hc,{className:"text-white",size:16})}),"Recent Activity"]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Last 10 Actions"})]}),a.recentActivity.length===0?s.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-gray-50 to-orange-50 rounded-xl",children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Gs,{className:"w-10 h-10 text-gray-300"})}),s.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:"No activity yet"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Upload your first CV to see activity here"}),s.jsx("button",{onClick:()=>n("/upload"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3 rounded-xl font-semibold transition-all shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-105",children:"Upload CV"})]}):s.jsx("div",{className:"space-y-3",children:a.recentActivity.map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-orange-50/50 rounded-xl hover:from-gray-100 hover:to-orange-100/50 transition-all border border-gray-100 hover:border-orange-200 group",style:{animationDelay:`${f*50}ms`},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:s.jsx(Gs,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:h.action}),s.jsx("p",{className:"text-sm text-gray-600 truncate max-w-md",children:h.name})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:h.date?new Date(h.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"}),s.jsx("p",{className:"text-xs text-gray-500",children:h.date?new Date(h.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""})]})]},h.id))})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mt-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-lime-500 rounded-lg flex items-center justify-center",children:s.jsx(Bh,{className:"text-white",size:16})}),"Top Skills in Database"]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Top 10"})]}),a.topSkills.length>0?s.jsx("div",{className:"space-y-3",children:a.topSkills.map((h,f)=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:h.skill}),s.jsxs("span",{className:"text-sm font-bold text-lime-600",children:[h.count," CVs (",h.percentage,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-gradient-to-r from-lime-500 to-lime-600 h-2.5 rounded-full transition-all group-hover:scale-105",style:{width:`${h.percentage}%`}})})]},f))}):s.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:s.jsx("p",{className:"text-gray-600",children:"No skills data available yet"})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(Ks,{className:"text-white",size:16})}),"Experience Level Distribution"]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 border border-green-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-3xl font-bold text-green-700 mb-1",children:a.experienceLevels.junior}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Junior Level"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"0-2 years exp."})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-1",children:a.experienceLevels.mid}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Mid Level"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"3-5 years exp."})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 border border-purple-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-1",children:a.experienceLevels.senior}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Senior Level"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"6+ years exp."})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-5 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-700 mb-1",children:a.experienceLevels.unknown}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Unknown"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"No exp. listed"})]})]})})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx(s7,{className:"text-white",size:16})}),"Candidate Locations"]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Top 8"})]}),a.topLocations.length>0?s.jsx("div",{className:"space-y-3",children:a.topLocations.map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-orange-50 rounded-xl hover:from-gray-100 hover:to-orange-100 transition-all border border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.location}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full",style:{width:`${h.percentage}%`}})}),s.jsxs("span",{className:"text-sm font-bold text-orange-600 min-w-[60px] text-right",children:[h.count," (",h.percentage,"%)"]})]})]},f))}):s.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:s.jsx("p",{className:"text-gray-600",children:"No location data available yet"})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(Bh,{className:"text-white",size:16})}),"Education Levels"]})}),a.educationDistribution.length>0?s.jsx("div",{className:"space-y-3",children:a.educationDistribution.map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl hover:from-gray-100 hover:to-blue-100 transition-all border border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.degree}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",style:{width:`${h.percentage}%`}})}),s.jsxs("span",{className:"text-sm font-bold text-blue-600 min-w-[60px] text-right",children:[h.count," (",h.percentage,"%)"]})]})]},f))}):s.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:s.jsx("p",{className:"text-gray-600",children:"No education data available yet"})})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-lime-500 rounded-lg flex items-center justify-center",children:s.jsx(Ws,{className:"text-white",size:16})}),"CV Data Quality"]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Average Completeness Score"}),s.jsxs("span",{className:"text-3xl font-bold text-lime-600",children:[a.averageCompleteness,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:s.jsx("div",{className:"bg-gradient-to-r from-lime-500 to-lime-600 h-4 rounded-full transition-all flex items-center justify-end pr-2",style:{width:`${a.averageCompleteness}%`},children:a.averageCompleteness>10&&s.jsxs("span",{className:"text-xs text-white font-bold",children:[a.averageCompleteness,"%"]})})})]}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Parsing Success Rate"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:[a.parsingSuccessRate,"%"]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.parsedCVs," successfully parsed, ",a.failedCVs," failed"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-xl border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ws,{className:"text-green-600",size:16}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Excellent (90%+)"})]}),s.jsxs("span",{className:"text-sm font-bold text-green-700",children:[a.completenessDistribution.excellent," CVs"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ws,{className:"text-blue-600",size:16}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Good (70-89%)"})]}),s.jsxs("span",{className:"text-sm font-bold text-blue-700",children:[a.completenessDistribution.good," CVs"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-xl border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_1,{className:"text-yellow-600",size:16}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Fair (50-69%)"})]}),s.jsxs("span",{className:"text-sm font-bold text-yellow-700",children:[a.completenessDistribution.fair," CVs"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(_1,{className:"text-red-600",size:16}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Poor (<50%)"})]}),s.jsxs("span",{className:"text-sm font-bold text-red-700",children:[a.completenessDistribution.poor," CVs"]})]})]})]})]})}),!1]})]})}function Jxe(){const{currentUser:t}=Ei(),[e,n]=V.useState(null),[r,i]=V.useState(null),{convertAndFormat:a,convertPrice:o,formatPrice:c,currency:d,loading:h}=Xb(),f=Rie(),p=t?.userData?.cvPackBalance||0,x=async g=>{try{n(g.id),i(null);const v=await En(Lf,"createPayment")({purchaseType:"cv_pack",cvPackId:g.id,cvCount:g.cvCount,amount:g.price,itemName:g.name}),{paymentUrl:w,paymentData:j,paymentId:E}=v.data;localStorage.setItem("pendingPaymentId",E);const T=document.createElement("form");T.method="POST",T.action=w,Object.keys(j).forEach(D=>{const M=document.createElement("input");M.type="hidden",M.name=D,M.value=j[D],T.appendChild(M)}),document.body.appendChild(T),T.submit()}catch(b){console.error("Payment error:",b),i(b.message||"Failed to initiate payment. Please try again."),n(null)}};return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3 flex-wrap",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(w1,{className:"text-white",size:20})}),s.jsxs("div",{className:"flex-1 min-w-[200px]",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CV Packs"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Purchase extra CVs to supplement your monthly plan"})]}),s.jsx(BA,{})]}),p>0&&s.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-200 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(ns,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-700",children:"Available CV Pack Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[p," CVs"]})]})]})}),r&&s.jsx("div",{className:"mb-6 p-4 border border-red-200 rounded-lg bg-red-50",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ur,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"font-medium text-red-800",children:r})}),s.jsx("button",{onClick:()=>i(null),className:"text-red-500 hover:text-red-700",children:""})]})}),s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How CV Packs Work"}),s.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:16,className:"mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"CV Packs never expire - use them anytime"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:16,className:"mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Used automatically when your monthly limit is reached"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:16,className:"mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Works with all subscription plans"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:16,className:"mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Larger packs offer better value per CV"})]})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:f.map(g=>s.jsxs("div",{className:`relative bg-white rounded-xl p-6 border-2 transition-all hover:shadow-lg ${g.popular?"border-purple-500 shadow-xl shadow-purple-500/20":"border-gray-200 hover:border-purple-300"}`,children:[g.popular&&s.jsx("div",{className:"absolute px-3 py-1 text-xs font-semibold text-white bg-purple-500 rounded-full -top-3 left-1/2 -translate-x-1/2",children:"Best Value"}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg mb-3",children:s.jsx(w1,{className:"text-white",size:32})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:g.name}),s.jsx("div",{className:"inline-block px-3 py-1 bg-purple-100 rounded-full",children:s.jsxs("span",{className:"text-sm font-bold text-purple-900",children:[g.cvCount," CVs"]})})]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"flex items-baseline justify-center mb-1",children:s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:h?"Loading...":a(g.price)})}),g.savings&&s.jsx("p",{className:"text-xs font-semibold text-green-600",children:g.savings}),!h&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[c(o(g.price)/g.cvCount,d)," per CV"]})]}),s.jsx("button",{onClick:()=>x(g),disabled:e===g.id,className:`w-full py-3 rounded-lg font-semibold transition-all flex items-center justify-center space-x-2 ${g.popular?"bg-purple-500 text-white hover:bg-purple-600 shadow-lg shadow-purple-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${e===g.id?"opacity-50 cursor-wait":""}`,children:e===g.id?s.jsxs(s.Fragment,{children:[s.jsx(rs,{size:18,className:"animate-spin"}),s.jsx("span",{children:"Processing..."})]}):s.jsx("span",{children:"Purchase Pack"})})]},g.id))}),s.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:s.jsx("p",{children:"All transactions are processed securely through PayFast"})})]})}const J_=[{value:"text",label:"Text",icon:o7,description:"Short text input"},{value:"number",label:"Number",icon:Fne,description:"Numeric values"},{value:"date",label:"Date",icon:_d,description:"Date picker"},{value:"boolean",label:"Yes/No",icon:yre,description:"True/false checkbox"},{value:"select",label:"Dropdown",icon:hd,description:"Single choice from list"}],Q_={recruitment:{name:"Recruitment Agency",icon:ns,color:"blue",fields:[{name:"notice_period",label:"Notice Period",type:"select",required:!0,options:["Immediate","1 Week","2 Weeks","1 Month","2 Months","3 Months"]},{name:"salary_expectation",label:"Salary Expectation",type:"text",required:!1},{name:"available_for_relocation",label:"Available for Relocation",type:"boolean",required:!1},{name:"driver_license",label:"Has Driver License",type:"boolean",required:!1},{name:"security_clearance",label:"Security Clearance",type:"select",required:!1,options:["None","Confidential","Secret","Top Secret"]},{name:"interview_availability",label:"Interview Availability",type:"date",required:!1}]},corporate:{name:"Corporate HR",icon:ns,color:"purple",fields:[{name:"employee_id",label:"Employee ID",type:"text",required:!1},{name:"department",label:"Department",type:"select",required:!0,options:["Engineering","Sales","Marketing","Finance","HR","Operations"]},{name:"seniority_level",label:"Seniority Level",type:"select",required:!0,options:["Entry","Junior","Mid","Senior","Lead","Manager","Director","Executive"]},{name:"hire_date",label:"Hire Date",type:"date",required:!1},{name:"performance_rating",label:"Performance Rating",type:"select",required:!1,options:["1 - Needs Improvement","2 - Meets Expectations","3 - Exceeds Expectations","4 - Outstanding","5 - Exceptional"]},{name:"internal_referral",label:"Internal Referral",type:"boolean",required:!1}]},construction:{name:"Construction/Trades",icon:ns,color:"orange",fields:[{name:"trade_certification",label:"Trade Certification",type:"text",required:!0},{name:"years_in_trade",label:"Years in Trade",type:"number",required:!0},{name:"has_own_tools",label:"Has Own Tools",type:"boolean",required:!1},{name:"vehicle_type",label:"Vehicle Type",type:"select",required:!1,options:["None","Car","Bakkie","Van","Truck"]},{name:"willing_to_travel",label:"Willing to Travel",type:"boolean",required:!1},{name:"site_experience",label:"Site Experience",type:"select",required:!1,options:["Residential","Commercial","Industrial","Infrastructure","All"]}]},tech:{name:"Tech/IT",icon:ns,color:"green",fields:[{name:"github_profile",label:"GitHub Profile",type:"text",required:!1},{name:"linkedin_profile",label:"LinkedIn Profile",type:"text",required:!1},{name:"portfolio_url",label:"Portfolio URL",type:"text",required:!1},{name:"remote_work_preference",label:"Remote Work Preference",type:"select",required:!1,options:["On-site","Hybrid","Remote","Flexible"]},{name:"tech_stack",label:"Primary Tech Stack",type:"text",required:!1},{name:"certifications_count",label:"Number of Certifications",type:"number",required:!1}]}};function Qxe(){const{currentUser:t}=Ei(),e=Td(),[n,r]=V.useState([]),[i,a]=V.useState(!0),[o,c]=V.useState(!1),[d,h]=V.useState(null),[f,p]=V.useState(!1),[x,g]=V.useState(!1),[b,v]=V.useState({isOpen:!1,fieldId:null,fieldLabel:""}),[w,j]=V.useState({isOpen:!1,templateKey:null,templateName:""}),[E,T]=V.useState({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null}),D=t?.userData?.plan||"free",M=ag(D,"customFields");V.useEffect(()=>{J()},[t]);const J=async()=>{if(t)try{a(!0);const G=fa(cr,"customFieldConfigs",t.uid),W=await Gf(G);W.exists()&&r(W.data().fields||[])}catch(G){console.error("Error loading custom fields:",G),e.error("Failed to load custom fields")}finally{a(!1)}},F=async G=>{if(t)try{c(!0);const W=fa(cr,"customFieldConfigs",t.uid);return await v0(W,{userId:t.uid,fields:G,updatedAt:new Date}),r(G),e.success("Custom fields saved successfully"),!0}catch(W){return console.error("Error saving custom fields:",W),e.error("Failed to save custom fields"),!1}finally{c(!1)}},z=async()=>{if(!E.name.trim()||!E.label.trim()){e.error("Field name and label are required");return}if(n.some(se=>se.name===E.name)){e.error("A field with this name already exists");return}if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(E.name)){e.error("Field name must start with a letter and contain only letters, numbers, and underscores");return}if(E.type==="select"&&E.options.length===0){e.error("Dropdown fields must have at least one option");return}const G={...E,id:`custom_${Date.now()}`,createdAt:new Date},W=[...n,G];await F(W)&&(T({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null}),p(!1))},L=async G=>{const W=n.map(se=>se.id===G?{...d}:se);await F(W)&&h(null)},H=G=>{const ie=n.find(se=>se.id===G)?.label||"this field";v({isOpen:!0,fieldId:G,fieldLabel:ie})},P=async()=>{const G=n.filter(W=>W.id!==b.fieldId);await F(G),v({isOpen:!1,fieldId:null,fieldLabel:""})},I=(G,W)=>{const ie=prompt("Enter option value:");ie&&ie.trim()&&W({...G,options:[...G.options||[],ie.trim()]})},U=(G,W,ie)=>{ie({...W,options:W.options.filter((se,Se)=>Se!==G)})},k=G=>{const W=Q_[G];W&&(n.length>0?j({isOpen:!0,templateKey:G,templateName:W.name}):le(G))},le=async G=>{const W=Q_[G];if(!W)return;const ie=W.fields.map((Se,X)=>({...Se,id:`custom_${Date.now()}_${X}`,createdAt:new Date}));await F(ie)&&(e.success(`Applied "${W.name}" template successfully`),g(!1),j({isOpen:!1,templateKey:null,templateName:""}))};return i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):M?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Custom Fields"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add custom fields to track additional information on CVs"})]}),!f&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>g(!x),className:"flex items-center space-x-2 px-4 py-2 border border-purple-300 text-purple-600 rounded-lg font-semibold hover:bg-purple-50 transition-colors",children:[s.jsx(ns,{size:18}),s.jsx("span",{children:"Templates"})]}),s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:[s.jsx(Mf,{size:18}),s.jsx("span",{children:"Add Field"})]})]})]}),x&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-900 flex items-center space-x-2",children:[s.jsx(ns,{className:"text-purple-500",size:20}),s.jsx("span",{children:"Field Templates"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Quick start with pre-configured field sets for common industries"})]}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(Wt,{size:20})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Q_).map(([G,W])=>{const ie=W.icon,se={blue:"from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",purple:"from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",orange:"from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",green:"from-green-500 to-green-600 hover:from-green-600 hover:to-green-700"};return s.jsxs("button",{onClick:()=>k(G),className:`text-left p-4 bg-gradient-to-br ${se[W.color]} text-white rounded-xl shadow-md hover:shadow-lg transition-all`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ie,{size:24}),s.jsx("h5",{className:"font-bold text-lg",children:W.name})]}),s.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[W.fields.length," fields"]})]}),s.jsxs("p",{className:"text-sm text-white/90 mb-3",children:[W.fields.slice(0,3).map(Se=>Se.label).join(", "),W.fields.length>3&&` +${W.fields.length-3} more`]}),s.jsx("div",{className:"text-xs text-white/80",children:"Click to apply this template"})]},G)})})]}),n.length>0?s.jsx("div",{className:"space-y-3",children:n.map(G=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:d?.id===G.id?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Name"}),s.jsx("input",{type:"text",value:d.name,onChange:W=>h({...d,name:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cannot be changed after creation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Label"}),s.jsx("input",{type:"text",value:d.label,onChange:W=>h({...d,label:W.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),d.type==="select"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),s.jsxs("div",{className:"space-y-2",children:[d.options?.map((W,ie)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm",children:W}),s.jsx("button",{onClick:()=>U(ie,d,h),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Ys,{size:16})})]},ie)),s.jsx("button",{onClick:()=>I(d,h),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"+ Add Option"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:d.required,onChange:W=>h({...d,required:W.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("label",{className:"text-sm text-gray-700",children:"Required field"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:()=>L(G.id),disabled:o,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50",children:[s.jsx(P0,{size:16}),s.jsx("span",{children:"Save"})]})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[yy.createElement(J_.find(W=>W.value===G.type)?.icon||o7,{size:18,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:G.label})]}),s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:G.name}),s.jsx("span",{className:"text-xs px-2 py-1 bg-orange-100 text-orange-600 rounded-full",children:J_.find(W=>W.value===G.type)?.label||G.type}),G.required&&s.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-600 rounded-full",children:"Required"})]}),G.type==="select"&&G.options?.length>0&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Options: ",G.options.join(", ")]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>h({...G}),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(RA,{size:18})}),s.jsx("button",{onClick:()=>H(G.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Ys,{size:18})})]})]})},G.id))}):!f&&s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[s.jsx(hd,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No custom fields defined yet"}),s.jsx("button",{onClick:()=>p(!0),className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:"Create Your First Field"})]}),f&&s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Add New Custom Field"}),s.jsx("button",{onClick:()=>{p(!1),T({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null})},className:"p-1 text-gray-500 hover:text-gray-700",children:s.jsx(Wt,{size:20})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Field Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:E.name,onChange:G=>T({...E,name:G.target.value}),placeholder:"e.g., years_of_experience",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used internally (lowercase, underscores only)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Display Label ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:E.label,onChange:G=>T({...E,label:G.target.value}),placeholder:"e.g., Years of Experience",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Shown to users in the interface"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Field Type"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:J_.map(G=>{const W=G.icon;return s.jsxs("button",{onClick:()=>T({...E,type:G.value}),className:`p-3 rounded-lg border-2 transition-all ${E.type===G.value?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(W,{size:20,className:E.type===G.value?"text-orange-500 mx-auto":"text-gray-400 mx-auto"}),s.jsx("p",{className:`text-xs font-medium mt-1 ${E.type===G.value?"text-orange-600":"text-gray-600"}`,children:G.label})]},G.value)})})]}),E.type==="select"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Dropdown Options ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"space-y-2",children:[E.options?.map((G,W)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm",children:G}),s.jsx("button",{onClick:()=>U(W,E,T),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Ys,{size:16})})]},W)),s.jsx("button",{onClick:()=>I(E,T),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"+ Add Option"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(PA,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-900",children:"Conditional Display"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Show this field only when another field has a specific value"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Show when field:"}),s.jsxs("select",{value:E.conditionalOn||"",onChange:G=>T({...E,conditionalOn:G.target.value||null,conditionalValue:null}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[s.jsx("option",{value:"",children:"Always show this field"}),n.filter(G=>G.type==="boolean"||G.type==="select").map(G=>s.jsx("option",{value:G.name,children:G.label},G.id))]})]}),E.conditionalOn&&s.jsxs("div",{className:"animate-fadeIn",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Equals value:"}),(()=>{const G=n.find(W=>W.name===E.conditionalOn);return G?.type==="boolean"?s.jsxs("select",{value:E.conditionalValue===null?"":String(E.conditionalValue),onChange:W=>T({...E,conditionalValue:W.target.value==="true"}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[s.jsx("option",{value:"",children:"Select value..."}),s.jsx("option",{value:"true",children:" Yes"}),s.jsx("option",{value:"false",children:" No"})]}):G?.type==="select"?s.jsxs("select",{value:E.conditionalValue||"",onChange:W=>T({...E,conditionalValue:W.target.value}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[s.jsx("option",{value:"",children:"Select value..."}),G.options?.map((W,ie)=>s.jsx("option",{value:W,children:W},ie))]}):null})()]}),E.conditionalOn&&E.conditionalValue!==null&&E.conditionalValue!==""&&s.jsxs("div",{className:"animate-slideUp",children:[s.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:"Active filters:"}),s.jsxs("div",{className:"flex items-start gap-3 text-sm text-blue-900 bg-white rounded-lg px-4 py-3 border-2 border-blue-300 shadow-sm",children:[s.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"Conditional display enabled"}),s.jsxs("p",{className:"text-blue-700",children:["Field will appear when ",s.jsxs("span",{className:"font-bold",children:['"',n.find(G=>G.name===E.conditionalOn)?.label,'"']})," equals ",s.jsxs("span",{className:"font-bold",children:['"',E.conditionalValue===!0?"Yes":E.conditionalValue===!1?"No":E.conditionalValue,'"']})]})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:E.required,onChange:G=>T({...E,required:G.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("label",{className:"text-sm text-gray-700",children:"Make this field required"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-orange-200",children:[s.jsx("button",{onClick:()=>{p(!1),T({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null})},className:"px-4 py-2 text-gray-700 hover:bg-white rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:z,disabled:o,className:"flex items-center space-x-2 px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50",children:[s.jsx(Mf,{size:18}),s.jsx("span",{children:"Add Field"})]})]})]}),s.jsx(El,{isOpen:b.isOpen,onClose:()=>v({isOpen:!1,fieldId:null,fieldLabel:""}),onConfirm:P,title:`Delete "${b.fieldLabel}"?`,message:"This will permanently remove this custom field from your configuration. The data in existing CVs will not be deleted, but you won't be able to view or edit it through the interface anymore.",confirmText:"Delete Field",cancelText:"Cancel",type:"danger",icon:Ys,confirmLoading:o}),s.jsx(El,{isOpen:w.isOpen,onClose:()=>j({isOpen:!1,templateKey:null,templateName:""}),onConfirm:()=>le(w.templateKey),title:`Apply "${w.templateName}" Template?`,message:`This will replace your current ${n.length} custom field${n.length!==1?"s":""} with the "${w.templateName}" template. Your existing custom field configuration will be overwritten, but data in CVs will remain intact.`,confirmText:"Apply Template",cancelText:"Cancel",type:"warning",icon:ns,confirmLoading:o})]}):s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(hd,{size:32,className:"text-orange-500"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Custom Fields"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Custom fields allow you to add your own data fields to CVs for tracking additional information."}),s.jsx("p",{className:"text-orange-600 font-semibold mb-4",children:"Available on Professional, Business, and Enterprise plans"}),s.jsx("button",{onClick:()=>window.location.href="/pricing",className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:"Upgrade Plan"})]})}function eve(){const{currentUser:t}=Ei(),e=t?.userData,n=Td(),[r,i]=V.useState([]),[a,o]=V.useState(!0),[c,d]=V.useState("all"),[h,f]=V.useState("all"),[p,x]=V.useState(!1);V.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{o(!0);const M=Mr(),F=await En(M,"getActivityLogs")();F.data.success&&i(F.data.logs||[])}catch(M){console.error("Error loading activity logs:",M),M.code==="permission-denied"?n.error("Activity logs are only available for Professional, Business, and Enterprise plans"):n.error("Failed to load activity logs")}finally{o(!1)}},b=M=>{switch(M){case"cv_uploaded":return s.jsx(Mf,{className:"text-green-600",size:18});case"cv_deleted":return s.jsx(Ys,{className:"text-red-600",size:18});case"cv_updated":return s.jsx(XT,{className:"text-blue-600",size:18});case"cv_viewed":return s.jsx(bp,{className:"text-gray-600",size:18});case"jobspec_created":return s.jsx(Mf,{className:"text-green-600",size:18});case"jobspec_updated":return s.jsx(XT,{className:"text-blue-600",size:18});case"jobspec_deleted":return s.jsx(Ys,{className:"text-red-600",size:18});default:return s.jsx(hc,{className:"text-gray-600",size:18})}},v=M=>M.includes("deleted")?{bg:"bg-red-50",border:"border-red-200",text:"text-red-900"}:M.includes("uploaded")||M.includes("created")?{bg:"bg-green-50",border:"border-green-200",text:"text-green-900"}:M.includes("updated")?{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-900"}:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-900"},w=M=>M.replace(/_/g," ").replace(/\b\w/g,J=>J.toUpperCase()),j=M=>{if(!M)return"N/A";const J=new Date(M),F=new Date,z=F-J,L=Math.floor(z/6e4),H=Math.floor(z/36e5),P=Math.floor(z/864e5);return L<1?"Just now":L<60?`${L}m ago`:H<24?`${H}h ago`:P<7?`${P}d ago`:J.toLocaleDateString("en-US",{month:"short",day:"numeric",year:J.getFullYear()!==F.getFullYear()?"numeric":void 0})},E=r.filter(M=>!(c!=="all"&&M.action!==c||h!=="all"&&M.resourceType!==h)),T=[...new Set(r.map(M=>M.action))],D=[...new Set(r.map(M=>M.resourceType))];return a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[s.jsx(ty,{className:"animate-spin",size:20}),s.jsx("span",{children:"Loading activity logs..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(hc,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Activity Log"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track all team member actions and changes"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>x(!p),className:`px-4 py-2 rounded-xl font-semibold transition-all flex items-center gap-2 ${p?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-gray-100 text-gray-700 border-2 border-gray-200 hover:bg-gray-200"}`,children:[s.jsx(Ef,{size:18}),s.jsx("span",{children:"Filters"})]}),s.jsxs("button",{onClick:g,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 shadow-lg shadow-orange-500/30",children:[s.jsx(ty,{size:18}),s.jsx("span",{children:"Refresh"})]})]})]}),p&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-orange-50 border-2 border-orange-200 rounded-xl p-5 animate-slideUp",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ef,{size:18}),"Filter Activity"]}),s.jsxs("button",{onClick:()=>{d("all"),f("all")},className:"text-sm text-orange-600 hover:text-orange-700 font-semibold flex items-center gap-1",children:[s.jsx(Wt,{size:16}),"Clear filters"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),s.jsxs("select",{value:c,onChange:M=>d(M.target.value),className:"w-full px-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all",children:[s.jsx("option",{value:"all",children:"All Actions"}),T.map(M=>s.jsx("option",{value:M,children:w(M)},M))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Resource Type"}),s.jsxs("select",{value:h,onChange:M=>f(M.target.value),className:"w-full px-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all",children:[s.jsx("option",{value:"all",children:"All Resources"}),D.map(M=>s.jsx("option",{value:M,children:M.toUpperCase()},M))]})]})]}),(c!=="all"||h!=="all")&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Active filters:"}),c!=="all"&&s.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full font-medium",children:w(c)}),h!=="all"&&s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-medium",children:h.toUpperCase()})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(hc,{className:"text-blue-600",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Activities"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.length})]})]})}),s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(Ss,{className:"text-green-600",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"CV Actions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(M=>M.resourceType==="cv").length})]})]})}),s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(fc,{className:"text-purple-600",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Job Spec Actions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.filter(M=>M.resourceType==="jobspec").length})]})]})})]}),s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden",children:E.length===0?s.jsx("div",{className:"py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(ur,{className:"text-gray-400",size:32})}),s.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"No activity logs found"}),s.jsx("p",{className:"text-gray-500 text-sm",children:r.length===0?"Team member actions will appear here once they start using the system":"Try adjusting your filters to see more results"})]})}):s.jsx("div",{className:"divide-y divide-gray-200",children:E.map((M,J)=>{const F=v(M.action);return s.jsx("div",{className:"p-5 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-10 h-10 ${F.bg} border-2 ${F.border} rounded-lg flex items-center justify-center flex-shrink-0`,children:b(M.action)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900",children:w(M.action)}),M.resourceName&&s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:s.jsx("span",{className:"font-medium",children:M.resourceName})}),M.metadata?.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.metadata.description})]}),s.jsx("div",{className:"text-right flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(Gb,{size:14}),s.jsx("span",{children:j(M.timestamp)})]})})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Cl,{size:14}),s.jsx("span",{className:"font-medium",children:M.userName})]}),M.isTeamMemberAction&&s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold",children:"Team Member"}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-semibold",children:M.role}),s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:M.resourceType?.toUpperCase()})]})]})]})},M.id||J)})})}),E.length>0&&s.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Showing ",E.length," of ",r.length," total activities"]})]})}function tve(){const{currentUser:t,userData:e}=Ei(),n=Td(),r=e?.plan||"free",[i,a]=V.useState("invite"),[o,c]=V.useState([]),[d,h]=V.useState([]),[f,p]=V.useState(""),[x,g]=V.useState("member"),[b,v]=V.useState(!0),[w,j]=V.useState(!1),[E,T]=V.useState({isOpen:!1,memberId:null,memberEmail:""}),[D,M]=V.useState(null),J=e?.teamAccess?.isTeamMember,F=e?.teamAccess?.teamOwnerId,z=ag(r,"teamCollaboration"),H=(()=>{switch(r){case"professional":return 3;case"business":return 10;case"enterprise":return 999;default:return 1}})();V.useEffect(()=>{t&&z?P():v(!1)},[t,z]);const P=async()=>{try{v(!0);const se=J?F:t.uid;if(J&&F){const K=await Gf(fa(cr,"users",F));K.exists()&&M({uid:F,...K.data()})}const Se=fu(Pl(cr,"teamMembers"),Hs("teamOwnerId","==",se)),O=(await mu(Se)).docs.map(K=>({id:K.id,...K.data()}));if(c(O),!J){const K=fu(Pl(cr,"teamInvites"),Hs("invitedBy","==",t.uid),Hs("status","==","pending")),ee=(await mu(K)).docs.map(xe=>({id:xe.id,...xe.data()}));h(ee)}}catch(se){console.error("Error loading team data:",se),n.error("Failed to load team data")}finally{v(!1)}},I=async se=>{if(se.preventDefault(),!f.trim()){n.error("Please enter an email address");return}if(o.length+d.length+1>=H){n.error(`Your ${r} plan supports up to ${H} team member${H>1?"s":""}. Upgrade to add more.`);return}if(o.some(X=>X.email===f)){n.error("This user is already a team member");return}if(d.some(X=>X.email===f)){n.error("An invitation has already been sent to this email");return}try{j(!0);const X=Mr();(await En(X,"sendTeamInvite")({email:f,role:x,teamOwnerName:e?.displayName||t.email})).data.success&&(n.success(`Invitation sent to ${f}`),p(""),g("member"),await P())}catch(X){console.error("Error sending invite:",X),n.error(X.message||"Failed to send invitation")}finally{j(!1)}},U=async se=>{try{await PJ(fa(cr,"teamInvites",se)),n.success("Invitation cancelled"),await P()}catch(Se){console.error("Error cancelling invite:",Se),n.error("Failed to cancel invitation")}},k=(se,Se)=>{T({isOpen:!0,memberId:se,memberEmail:Se})},le=async()=>{try{const se=Mr();await En(se,"removeTeamMember")({memberId:E.memberId}),n.success("Team member removed"),T({isOpen:!1,memberId:null,memberEmail:""}),await P()}catch(se){console.error("Error removing member:",se),n.error("Failed to remove team member")}},G=async(se,Se)=>{try{const X=Mr();(await En(X,"updateTeamMemberRole")({memberId:se,newRole:Se})).data.success&&(n.success(`Member role updated to ${Se}`),await P())}catch(X){console.error("Error updating member role:",X),n.error(X.message||"Failed to update member role")}},W=se=>{switch(se){case"owner":return s.jsx(GT,{size:16,className:"text-orange-500"});case"admin":return s.jsx(dc,{size:16,className:"text-blue-500"});default:return s.jsx(Cl,{size:16,className:"text-gray-500"})}},ie=se=>{const Se={owner:"bg-orange-100 text-orange-700 border-orange-200",admin:"bg-blue-100 text-blue-700 border-blue-200",member:"bg-gray-100 text-gray-700 border-gray-200"};return Se[se]||Se.member};return b?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(rs,{className:"animate-spin text-orange-500",size:32})}):z?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Collaboration"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Invite team members to collaborate  ",o.length+1," of ",H===999?"":H," members"]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-100 to-amber-100 text-orange-700 rounded-full text-sm font-semibold border border-orange-200",children:[s.jsx(Ks,{size:16}),s.jsxs("span",{className:"capitalize",children:[r," Plan"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex border-b-2 border-gray-200",children:[s.jsx("button",{onClick:()=>a("invite"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${i==="invite"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50 -mb-0.5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(N1,{size:18}),s.jsx("span",{children:"Invite & Members"})]})}),s.jsx("button",{onClick:()=>a("activity"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${i==="activity"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50 -mb-0.5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(hc,{size:18}),s.jsx("span",{children:"Activity Log"})]})})]}),s.jsxs("div",{className:"p-6",children:[i==="invite"&&s.jsxs("div",{className:"space-y-6",children:[J&&s.jsx("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(ur,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-purple-900",children:"Team Member View"}),s.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Only the team owner can invite new members. You can view the team structure below."})]})]})}),!J&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(N1,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Invite Team Member"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Send an invitation via email"})]})]}),s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:f,onChange:se=>p(se.target.value),placeholder:"colleague@company.com",className:"w-full px-4 py-3 border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",disabled:w})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),s.jsxs("select",{value:x,onChange:se=>g(se.target.value),className:"w-full px-4 py-3 border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",disabled:w,children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"admin",children:"Admin"})]})]})]}),s.jsx("button",{type:"submit",disabled:w||!f.trim(),className:"w-full md:w-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg hover:shadow-xl hover:scale-105 disabled:hover:scale-100",children:w?s.jsxs(s.Fragment,{children:[s.jsx(rs,{className:"animate-spin",size:18}),"Sending Invitation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bc,{size:18}),"Send Invitation"]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-orange-50/20",children:s.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ks,{size:18,className:"text-orange-500"}),"Team Members (",o.length+1,")"]})}),s.jsxs("div",{className:"divide-y divide-gray-100",children:[s.jsxs("div",{className:"px-6 py-4 flex items-center justify-between bg-orange-50/30",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:J?D?.displayName?.charAt(0)||D?.email?.charAt(0)||"O":e?.displayName?.charAt(0)||t.email?.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:J?D?.displayName||D?.email||"Team Owner":e?.displayName||"You"}),s.jsx("p",{className:"text-sm text-gray-600",children:J?D?.email:t.email})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${ie("owner")}`,children:[W("owner"),"Owner"]})})]}),o.map(se=>s.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:se.displayName?.charAt(0)||se.email?.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:se.displayName||"Team Member"}),s.jsx("p",{className:"text-sm text-gray-600",children:se.email}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Joined ",new Date(se.joinedAt?.toDate?.()||se.joinedAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[J?s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${ie(se.role)}`,children:[W(se.role),se.role]}):s.jsxs("select",{value:se.role,onChange:Se=>G(se.id,Se.target.value),className:`px-3 py-1 rounded-full text-xs font-bold border cursor-pointer transition-colors ${ie(se.role)} hover:opacity-80`,children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"admin",children:"Admin"})]}),!J&&s.jsx("button",{onClick:()=>k(se.id,se.email),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Remove member",children:s.jsx(Ys,{size:18})})]})]},se.id)),o.length===0&&s.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[s.jsx(Ks,{size:48,className:"mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No team members yet. Invite your first team member above!"})]})]})]}),d.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-amber-50/20",children:s.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(bc,{size:18,className:"text-amber-500"}),"Pending Invitations (",d.length,")"]})}),s.jsx("div",{className:"divide-y divide-gray-100",children:d.map(se=>s.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:s.jsx(bc,{size:20,className:"text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:se.email}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Invited ",new Date(se.createdAt?.toDate?.()||se.createdAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${ie(se.role)}`,children:se.role}),s.jsx("button",{onClick:()=>U(se.id),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"Cancel invitation",children:s.jsx(Wt,{size:18})})]})]},se.id))})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[s.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(ur,{size:18,className:"text-gray-500"}),"Role Permissions"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(GT,{size:16,className:"text-orange-500"}),s.jsx("span",{className:"font-bold text-gray-900",children:"Owner"})]}),s.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[s.jsx("li",{children:" Full account access"}),s.jsx("li",{children:" Manage team members"}),s.jsx("li",{children:" Billing & subscriptions"}),s.jsx("li",{children:" Delete account"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(dc,{size:16,className:"text-blue-500"}),s.jsx("span",{className:"font-bold text-gray-900",children:"Admin"})]}),s.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[s.jsx("li",{children:" Create, edit & delete CVs"}),s.jsx("li",{children:" Create, edit & delete job specs"}),s.jsx("li",{children:" View all data & reports"}),s.jsx("li",{children:" Export CVs to CSV"}),s.jsx("li",{children:" Cannot manage team or billing"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Cl,{size:16,className:"text-gray-500"}),s.jsx("span",{className:"font-bold text-gray-900",children:"Member"})]}),s.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[s.jsx("li",{children:" View CVs & job specs (read-only)"}),s.jsx("li",{children:" Upload CVs"}),s.jsx("li",{children:" Search, filter & export"}),s.jsx("li",{children:" Match CVs to job specs"}),s.jsx("li",{children:" Cannot edit or delete data"})]})]})]})]})]}),i==="activity"&&s.jsx(eve,{})]})]}),s.jsx(El,{isOpen:E.isOpen,onClose:()=>T({isOpen:!1,memberId:null,memberEmail:""}),onConfirm:le,title:"Remove Team Member?",message:`Are you sure you want to remove ${E.memberEmail} from your team? They will immediately lose access to your CVSift account and all shared data.`,confirmText:"Remove Member",cancelText:"Cancel",type:"danger",icon:Ys})]}):s.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-2 border-orange-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(Ks,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Team Collaboration"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Collaborate with your team by inviting members to access your CVSift account. Share CVs, job specs, and work together seamlessly."}),s.jsxs("div",{className:"bg-white border border-orange-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Available on:"}),s.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Pt,{size:16,className:"text-green-500"}),"Professional: Up to 3 team members"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Pt,{size:16,className:"text-green-500"}),"Business: Up to 10 team members"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Pt,{size:16,className:"text-green-500"}),"Enterprise: Unlimited team members"]})]})]}),s.jsx("button",{onClick:()=>window.location.href="/pricing",className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl hover:scale-105",children:"Upgrade to Professional"})]})]})})}function nve(t){if(!t)return null;if(t?.toDate&&typeof t.toDate=="function")return t.toDate();if(typeof t=="string"||t instanceof Date){const e=new Date(t);return isNaN(e.getTime())?null:e}return t?.seconds?new Date(t.seconds*1e3):null}function z0(t,e="en-GB",n={day:"2-digit",month:"2-digit",year:"numeric"}){const r=nve(t);return r?r.toLocaleDateString(e,n):"Unknown"}function rve(){const{currentUser:t,logout:e,userData:n}=Ei(),r=ii(),i=Td(),a=Mr(),c=new URLSearchParams(window.location.search).get("tab"),[d,h]=V.useState({displayName:t?.displayName||"",email:t?.email||"",currentPassword:"",newPassword:"",confirmPassword:""}),[f,p]=V.useState(!1),[x,g]=V.useState(""),[b,v]=V.useState(""),[w,j]=V.useState(c||"profile"),[E,T]=V.useState(!1),[D,M]=V.useState(!1),[J,F]=V.useState(!1),[z,L]=V.useState(!1),[H,P]=V.useState(!1),[I,U]=V.useState([]),[k,le]=V.useState(!1),[G,W]=V.useState(""),[ie,se]=V.useState(""),[Se,X]=V.useState(""),[O,K]=V.useState(!1),[te,ee]=V.useState(null),[xe,be]=V.useState({isOpen:!1,factorUid:null}),[oe,fe]=V.useState(!1),[Ee,Be]=V.useState([]),[Pe,ct]=V.useState({email:"",password:"",displayName:""}),[q,ae]=V.useState(!1),[ke,ye]=V.useState({isOpen:!1,subMasterId:null,email:""}),[he,ve]=V.useState({isOpen:!1,subMasterId:null,email:"",isActive:!1}),[De,Le]=V.useState(!1),[Ie,Ke]=V.useState(""),[at,Xe]=V.useState(!1),[ht,Tt]=V.useState(!1),[bt,_e]=V.useState(!1);V.useEffect(()=>{t&&(async()=>{try{const _n=await En(a,"checkPrimaryMaster")();fe(_n.data.isPrimaryMaster),_n.data.isPrimaryMaster&&ut()}catch(_t){console.error("Error checking primary master status:",_t)}})()},[t]),V.useEffect(()=>{if(t){const lt=da.currentUser;if(lt){const _t=Jm(lt).enrolledFactors;U(_t),L(_t.length>0)}}},[t]),V.useEffect(()=>{if(k&&!te){const lt=setTimeout(()=>{try{const _t=document.getElementById("recaptcha-container");if(!_t)return;_t.innerHTML="";const _n=new ND(da,"recaptcha-container",{size:"normal",callback:jt=>{console.log("reCAPTCHA solved successfully")},"error-callback":jt=>{console.error("reCAPTCHA error:",jt),i.error("Security verification failed. Please try again.")}});_n.render().then(jt=>{console.log("reCAPTCHA widget rendered:",jt),ee(_n)}).catch(jt=>{console.error("Error rendering reCAPTCHA:",jt)})}catch(_t){console.error("Error initializing reCAPTCHA:",_t)}},100);return()=>clearTimeout(lt)}return()=>{if(te&&!k)try{te.clear(),ee(null)}catch(lt){console.error("Error clearing reCAPTCHA:",lt)}}},[k]);const Ze=async()=>{if(console.log("=== MFA Enrollment Started ==="),console.log("Phone number:",G),console.log("RecaptchaVerifier exists:",!!te),!G||G.length<10){i.error("Please enter a valid phone number");return}if(!te){console.error("RecaptchaVerifier not initialized!"),i.error("Security verification not ready. Please wait a moment and try again.");return}P(!0);try{console.log("Step 1: Getting current user...");const lt=da.currentUser;if(!lt)throw new Error("Not authenticated");console.log("User ID:",lt.uid),console.log("Step 2: Getting MFA session...");const _t=await Jm(lt).getSession();console.log("Session obtained:",!!_t);const _n=G.startsWith("+")?G:`+${G}`;console.log("Step 3: Formatted phone number:",_n);const jt={phoneNumber:_n,session:_t};console.log("Step 4: Initiating phone verification...");const ai=new lu(da),Zi=new Promise((Ji,Jn)=>{setTimeout(()=>Jn(new Error("Phone verification timeout after 30 seconds")),3e4)}),Ti=await Promise.race([ai.verifyPhoneNumber(jt,te),Zi]);console.log("Step 5: Verification ID received:",Ti),X(Ti),K(!0),i.success("Verification code sent to your phone!"),console.log("=== MFA Enrollment Success ===")}catch(lt){console.error("=== MFA Enrollment Error ==="),console.error("Error code:",lt.code),console.error("Error message:",lt.message),console.error("Full error:",lt),lt.code==="auth/operation-not-allowed"?i.error("Multi-factor authentication is not enabled. Please contact support to enable MFA for your account."):lt.code==="auth/invalid-phone-number"?i.error("Invalid phone number format. Please include country code (e.g., +27821234567)"):lt.code==="auth/too-many-requests"?i.error("Too many requests. Please try again later."):lt.code==="auth/captcha-check-failed"?i.error("Security verification failed. Please refresh the page and try again. If the issue persists, contact support."):lt.code==="auth/missing-phone-number"?i.error("Please enter a phone number"):i.error(lt.message||"Failed to send verification code")}finally{P(!1),console.log("MFA loading set to false")}},Me=async()=>{if(!ie||ie.length!==6){i.error("Please enter a valid 6-digit code");return}P(!0);try{const lt=da.currentUser;if(!lt)throw new Error("Not authenticated");const _t=lu.credential(Se,ie),_n=LS.assertion(_t);await Jm(lt).enroll(_n,G),i.success("Two-factor authentication enabled successfully!");try{await En(a,"logSmsVerification")({phoneNumber:G,purpose:"mfa_enrollment"})}catch(ai){console.error("Failed to log SMS verification:",ai)}const jt=Jm(lt).enrolledFactors;U(jt),L(jt.length>0),le(!1),W(""),se(""),X(""),K(!1)}catch(lt){console.error("Error completing MFA enrollment:",lt),lt.code==="auth/invalid-verification-code"?i.error("Invalid verification code. Please check and try again."):lt.code==="auth/code-expired"?i.error("Verification code expired. Please request a new code."):lt.code==="auth/session-expired"?i.error("Session expired. Please start the enrollment process again."):i.error(lt.message||"Failed to verify code")}finally{P(!1)}},xt=async()=>{const{factorUid:lt}=xe;P(!0),be({isOpen:!1,factorUid:null});try{const _t=da.currentUser;if(!_t)throw new Error("Not authenticated");const _n=Jm(_t),jt=_n.enrolledFactors.find(ai=>ai.uid===lt);if(jt){await _n.unenroll(jt),i.success("Two-factor authentication disabled");const ai=Jm(_t).enrolledFactors;U(ai),L(ai.length>0)}}catch(_t){console.error("Error unenrolling MFA:",_t),i.error(_t.message||"Failed to disable 2FA")}finally{P(!1)}},ut=async()=>{try{const _t=await En(a,"listSubMasters")();Be(_t.data.subMasters||[])}catch(lt){console.error("Error loading sub-masters:",lt),i.error("Failed to load sub-master accounts")}},st=async lt=>{lt.preventDefault(),ae(!0);try{await En(a,"addSubMaster")({email:Pe.email,password:Pe.password,displayName:Pe.displayName}),i.success(`Sub-master account created for ${Pe.email}`),ct({email:"",password:"",displayName:""}),ut()}catch(_t){console.error("Error adding sub-master:",_t),i.error(_t.message||"Failed to add sub-master account")}finally{ae(!1)}},At=async()=>{try{await En(a,"toggleSubMasterStatus")({subMasterId:he.subMasterId,isActive:!he.isActive}),i.success(`Sub-master account ${he.isActive?"disabled":"enabled"}`),ve({isOpen:!1,subMasterId:null,email:"",isActive:!1}),ut()}catch(lt){console.error("Error toggling sub-master:",lt),i.error(lt.message||"Failed to toggle sub-master status")}},$t=async()=>{try{await En(a,"deleteSubMaster")({subMasterId:ke.subMasterId}),i.success("Sub-master account deleted successfully"),ye({isOpen:!1,subMasterId:null,email:""}),ut()}catch(lt){console.error("Error deleting sub-master:",lt),i.error(lt.message||"Failed to delete sub-master account")}},Ut=lt=>{h({...d,[lt.target.name]:lt.target.value})},un=lt=>{ct({...Pe,[lt.target.name]:lt.target.value})},rn=async lt=>{lt.preventDefault(),p(!0),v(""),g("");try{await mD(da.currentUser,{displayName:d.displayName}),await Lp(fa(cr,"users",t.uid),{displayName:d.displayName}),g("Profile updated successfully!")}catch(_t){v(_t.message||"Failed to update profile")}finally{p(!1)}},On=async lt=>{lt.preventDefault(),p(!0),v(""),g("");try{await GG(da.currentUser,d.email),await Lp(fa(cr,"users",t.uid),{email:d.email}),g("Email updated successfully!")}catch(_t){_t.code==="auth/requires-recent-login"?v("Please sign out and sign in again to update your email"):v(_t.message||"Failed to update email")}finally{p(!1)}},Zn=async lt=>{if(lt.preventDefault(),p(!0),v(""),g(""),d.newPassword!==d.confirmPassword){v("New passwords do not match"),p(!1);return}if(d.newPassword.length<6){v("Password must be at least 6 characters"),p(!1);return}if(!d.currentPassword){v("Please enter your current password"),p(!1);return}try{const _t=da.currentUser,_n=_t.providerData[0]?.providerId;if(_n==="password"){const jt=lm.credential(_t.email,d.currentPassword);await VG(_t,jt)}else if(_n==="google.com"){const jt=new nu;await TY(_t,jt)}else{v("Password update not supported for your sign-in method"),p(!1);return}await YG(_t,d.newPassword),i.success("Password updated successfully!"),g("Password updated successfully!"),h({...d,currentPassword:"",newPassword:"",confirmPassword:""})}catch(_t){console.error("Password update error:",_t),_t.code==="auth/wrong-password"?v("Current password is incorrect"):_t.code==="auth/requires-recent-login"?v("Session expired. Please sign out and sign in again."):_t.code==="auth/weak-password"?v("Password is too weak. Use a stronger password."):_t.code==="auth/popup-closed-by-user"?v("Re-authentication cancelled. Please try again."):v(_t.message||"Failed to update password")}finally{p(!1)}},Xt=z0,Ht=async()=>{try{Xe(!0);const _t=await En(a,"cancelSubscription")();_t.data.success&&(Tt(!1),i.success(_t.data.message),window.location.reload())}catch(lt){console.error("Error cancelling subscription:",lt),i.error(lt.message||"Failed to cancel subscription")}finally{Xe(!1)}},bn=()=>{_e(!1),Le(!0)},Ci=async()=>{if(!Ie){i.error("Please select a plan to downgrade to");return}try{Xe(!0);const _t=await En(a,"downgradePlan")({newPlan:Ie});_t.data.success&&(i.success(_t.data.message),Le(!1),window.location.reload())}catch(lt){console.error("Error downgrading plan:",lt),i.error(lt.message||"Failed to downgrade plan")}finally{Xe(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Cl,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Account Settings"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Profile Manager"})]})]})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(Cl,{size:28})}),"Account Settings"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Manage your account details and preferences"})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(WT,{className:"w-24 h-24 text-white/20"})})]})}),x&&s.jsxs("div",{className:"mb-6 p-5 bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-200 rounded-2xl flex items-start gap-4 shadow-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(xr,{className:"text-white",size:20})}),s.jsx("p",{className:"text-green-900 font-semibold",children:x})]}),b&&s.jsxs("div",{className:"mb-6 p-5 bg-gradient-to-r from-red-50 to-red-100 border-2 border-red-200 rounded-2xl flex items-start gap-4 shadow-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(ur,{className:"text-white",size:20})}),s.jsx("p",{className:"text-red-900 font-semibold",children:b})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"border-b-2 border-gray-100 bg-gradient-to-r from-gray-50 to-orange-50/30",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>j("profile"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${w==="profile"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Cl,{size:18}),s.jsx("span",{children:"Profile"})]})}),s.jsx("button",{onClick:()=>j("account"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${w==="account"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(bc,{size:18}),s.jsx("span",{children:"Account"})]})}),s.jsx("button",{onClick:()=>j("security"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${w==="security"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(ey,{size:18}),s.jsx("span",{children:"Security"})]})}),(!n?.teamAccess?.isTeamMember||n?.teamAccess?.role==="admin")&&s.jsx("button",{onClick:()=>j("cvpacks"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${w==="cvpacks"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(w1,{size:18}),s.jsx("span",{children:"CV Packs"})]})}),s.jsx("button",{onClick:()=>j("customfields"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${w==="customfields"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(hd,{size:18}),s.jsx("span",{children:"Custom Fields"})]})}),!n?.teamAccess?.isTeamMember&&s.jsx("button",{onClick:()=>j("team"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${w==="team"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ks,{size:18}),s.jsx("span",{children:"Team"})]})}),oe&&s.jsx("button",{onClick:()=>j("masters"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${w==="masters"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(dc,{size:18}),s.jsx("span",{children:"Master Management"})]})})]})}),s.jsxs("div",{className:"p-8",children:[w==="profile"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Cl,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"})]}),s.jsxs("div",{className:"mb-8 flex items-center space-x-6 p-6 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-2xl border border-gray-200",children:[s.jsxs("div",{className:"relative",children:[t?.photoURL?s.jsx("img",{src:t.photoURL,alt:t.displayName,className:"w-24 h-24 rounded-2xl object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center border-4 border-white shadow-lg",children:s.jsx("span",{className:"text-white text-3xl font-bold",children:t?.displayName?.charAt(0).toUpperCase()||"U"})}),s.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl border-2 border-white flex items-center justify-center hover:scale-110 transition-all shadow-md",children:s.jsx(WT,{size:18,className:"text-white"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t?.displayName}),s.jsx("p",{className:"text-gray-600 font-medium",children:t?.email})]})]}),s.jsxs("form",{onSubmit:rn,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"displayName",value:d.displayName,onChange:Ut,className:"w-full px-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Your full name"})]}),s.jsxs("button",{type:"submit",disabled:f,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsx(P0,{size:20}),s.jsx("span",{children:f?"Saving...":"Save Changes"})]})]})]}),w==="account"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(bc,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Account Details"})]}),s.jsxs("div",{className:"space-y-6 mb-8",children:[n?.teamAccess?.isTeamMember&&s.jsx("div",{className:"p-5 bg-gradient-to-r from-purple-50 to-purple-100 border-2 border-purple-200 rounded-2xl shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(Ks,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-900 font-bold text-lg mb-1",children:"Team Member Account"}),s.jsxs("p",{className:"text-purple-700 text-sm mb-2",children:["You are a ",s.jsx("span",{className:"font-semibold capitalize",children:n.teamAccess.role})," with access to the team owner's account"]}),s.jsxs("div",{className:"flex items-center gap-2 text-purple-600 text-xs",children:[s.jsx(dc,{size:14}),s.jsxs("span",{children:["Access Level: ",n.teamAccess.role==="admin"?"Full Access":"Limited Access"]})]})]})]})}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(_d,{className:"text-gray-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:n?.teamAccess?.isTeamMember?"Team Member Since":"Member Since"})]}),s.jsx("p",{className:"text-gray-900 font-semibold ml-8",children:Xt(t?.userData?.createdAt)})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(wne,{className:"text-gray-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:n?.teamAccess?.isTeamMember?"Team Account Plan":"Current Plan"})]}),s.jsxs("p",{className:"text-gray-900 font-semibold ml-8 capitalize",children:[t?.userData?.plan||"Free"," Plan"]}),n?.teamAccess?.isTeamMember&&s.jsxs("p",{className:"text-xs text-purple-600 ml-8 mt-1 flex items-center gap-1",children:[s.jsx(Ks,{size:12}),"Inherited from team owner"]}),s.jsxs("p",{className:"text-sm text-gray-600 ml-8 mt-1",children:[t?.userData?.cvUploadsThisMonth||0,t?.userData?.plan!=="enterprise"&&t?.userData?.cvUploadLimit!==-1?` / ${t?.userData?.cvUploadLimit||10}`:""," CVs uploaded this month"]}),t?.userData?.subscriptionStatus==="active"&&!n?.teamAccess?.isTeamMember&&s.jsxs("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-green-600 font-medium mb-2",children:"Active Subscription"}),s.jsxs("div",{className:"flex gap-2",children:[(()=>{const lt={free:0,starter:1,basic:2,professional:3,business:4,enterprise:5},_t=(t?.userData?.plan||"free").toLowerCase();return lt[_t]>1?s.jsx("button",{onClick:()=>_e(!0),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1.5 rounded-lg font-medium transition-all",children:"Downgrade Plan"}):null})(),s.jsx("button",{onClick:()=>Tt(!0),className:"text-xs bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-lg font-medium transition-all",children:"Cancel Subscription"})]})]}),n?.teamAccess?.isTeamMember&&s.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Subscription managed by team owner"})}),t?.userData?.subscriptionStatus==="pending_cancellation"&&s.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Subscription ends at the end of billing period"})}),t?.userData?.pendingPlan&&s.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Scheduled downgrade to ",t?.userData?.pendingPlan," at end of billing period"]})})]})]}),s.jsxs("form",{onSubmit:On,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",value:d.email,onChange:Ut,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none",placeholder:"your.email@example.com"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Changing your email may require you to sign in again"})]}),s.jsxs("button",{type:"submit",disabled:f||d.email===t?.email,className:"flex items-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsx(P0,{size:20}),s.jsx("span",{children:f?"Updating...":"Update Email"})]})]})]}),w==="security"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(ey,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"})]}),t?.providerData?.[0]?.providerId==="google.com"?s.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-200 rounded-2xl shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(ur,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-900 font-bold text-lg mb-1",children:"Google Account"}),s.jsx("p",{className:"text-blue-800 font-medium",children:"You're signed in with Google. Password changes must be made through your Google Account settings."})]})]})}):s.jsxs("form",{onSubmit:Zn,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Current Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:E?"text":"password",name:"currentPassword",value:d.currentPassword,onChange:Ut,className:"w-full px-4 py-3.5 pr-12 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Enter current password",required:!0}),s.jsx("button",{type:"button",onClick:()=>T(!E),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:E?s.jsx(Mv,{size:20}):s.jsx(bp,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:D?"text":"password",name:"newPassword",value:d.newPassword,onChange:Ut,className:"w-full px-4 py-3.5 pr-12 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Enter new password (min 6 characters)",required:!0}),s.jsx("button",{type:"button",onClick:()=>M(!D),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:D?s.jsx(Mv,{size:20}):s.jsx(bp,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:J?"text":"password",name:"confirmPassword",value:d.confirmPassword,onChange:Ut,className:"w-full px-4 py-3.5 pr-12 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Confirm new password",required:!0}),s.jsx("button",{type:"button",onClick:()=>F(!J),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:J?s.jsx(Mv,{size:20}):s.jsx(bp,{size:20})})]})]}),s.jsxs("button",{type:"submit",disabled:f||!d.currentPassword||!d.newPassword||!d.confirmPassword,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsx(P0,{size:20}),s.jsx("span",{children:f?"Updating...":"Update Password"})]}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-xl border border-gray-200",children:s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Password must be at least 6 characters long"})})]}),s.jsxs("div",{className:"mt-10 pt-10 border-t-2 border-gray-200",children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(R0,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Two-Factor Authentication (2FA)"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]})]}),!t?.userData?.plan||t?.userData?.plan==="free"||t?.userData?.plan==="Free"?s.jsx("div",{className:"p-6 bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(dc,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-900 font-bold text-lg mb-2",children:"Upgrade to Enable 2FA"}),s.jsx("p",{className:"text-orange-800 font-medium mb-4",children:"Two-factor authentication is available on Starter, Professional, and Enterprise plans."}),s.jsx("button",{onClick:()=>r("/pricing"),className:"px-6 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-semibold transition-all hover:scale-105 shadow-lg",children:"View Plans"})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:`p-6 rounded-2xl border-2 shadow-lg ${z?"bg-gradient-to-r from-green-50 to-green-100 border-green-200":"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md ${z?"bg-gradient-to-br from-green-500 to-green-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:s.jsx(dc,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg text-gray-900 mb-1",children:z?"2FA Enabled":"2FA Disabled"}),s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:z?"Your account is protected with two-factor authentication":"Add an extra layer of security to your account"}),z&&I.length>0&&s.jsx("div",{className:"mt-3 space-y-2",children:I.map((lt,_t)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(R0,{size:16,className:"text-green-600"}),s.jsx("span",{className:"font-medium text-gray-700",children:lt.displayName||`Phone ending in ${lt.phoneNumber?.slice(-4)}`})]},_t))})]})]}),s.jsx("button",{onClick:()=>le(!k),disabled:H,className:`px-6 py-2.5 rounded-lg font-semibold transition-all hover:scale-105 shadow-lg ${z||k?"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100`,children:H?"Processing...":z?"Manage 2FA":k?"Cancel":"Enable 2FA"})]})}),k&&!z&&s.jsxs("div",{className:"p-6 bg-white border-2 border-blue-200 rounded-2xl shadow-lg",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-4",children:"Enable Two-Factor Authentication"}),O?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["Verification code sent to ",G]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),s.jsx("input",{type:"text",value:ie,onChange:lt=>se(lt.target.value),placeholder:"123456",maxLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none text-center text-2xl tracking-widest"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter the 6-digit code sent to your phone"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{K(!1),se("")},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all",children:"Back"}),s.jsx("button",{onClick:Me,disabled:H||ie.length!==6,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg font-semibold transition-all hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:H?"Verifying...":"Verify & Enable"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (with country code)"}),s.jsx("input",{type:"tel",value:G,onChange:lt=>W(lt.target.value),placeholder:"+27821234567",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter your phone number with country code (e.g., +27 for South Africa)"})]}),s.jsx("button",{onClick:Ze,disabled:H||!G,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg font-semibold transition-all hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:H?"Sending...":"Send Verification Code"})]}),s.jsx("div",{id:"recaptcha-container"})]}),z&&k&&s.jsxs("div",{className:"p-6 bg-white border-2 border-green-200 rounded-2xl shadow-lg",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-4",children:"Manage Two-Factor Authentication"}),s.jsx("div",{className:"space-y-3",children:I.map((lt,_t)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(R0,{size:20,className:"text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:lt.displayName||"Phone Number"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Enrolled on ",lt.enrollmentTime?new Date(lt.enrollmentTime).toLocaleDateString():"N/A"]})]})]}),s.jsx("button",{onClick:()=>be({isOpen:!0,factorUid:lt.uid}),disabled:H,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Remove"})]},_t))})]}),s.jsx("div",{className:"p-5 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ur,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-bold mb-1",children:"About Two-Factor Authentication"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[s.jsx("li",{children:"Requires your phone number for SMS verification"}),s.jsx("li",{children:"You'll need to enter a code sent to your phone when signing in"}),s.jsx("li",{children:"Significantly increases your account security"}),s.jsx("li",{children:"Available on all paid plans"})]})]})]})})]})]})]}),w==="cvpacks"&&s.jsx(Jxe,{}),w==="customfields"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(hd,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Custom Fields"})]}),s.jsx(Qxe,{})]}),w==="team"&&!n?.teamAccess?.isTeamMember&&s.jsx(tve,{}),w==="masters"&&oe&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(dc,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Master Account Management"})]}),s.jsx("div",{className:"mb-8 p-4 bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(ur,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-900 font-bold mb-1",children:"Primary Master Account"}),s.jsx("p",{className:"text-orange-800 text-sm",children:"You can create sub-master accounts with full SaaS access. Sub-masters cannot create additional master accounts."})]})]})}),s.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-2xl border-2 border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(N1,{size:20,className:"text-orange-500"}),"Add New Sub-Master Account"]}),s.jsxs("form",{onSubmit:st,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",value:Pe.email,onChange:un,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"submaster@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Display Name"}),s.jsx("input",{type:"text",name:"displayName",value:Pe.displayName,onChange:un,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"John Doe"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Password * (minimum 6 characters)"}),s.jsx("input",{type:"password",name:"password",value:Pe.password,onChange:un,required:!0,minLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Enter password"})]}),s.jsxs("button",{type:"submit",disabled:q||!Pe.email||!Pe.password,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-3 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsx(N1,{size:20}),s.jsx("span",{children:q?"Creating...":"Create Sub-Master Account"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(dc,{size:20,className:"text-orange-500"}),"Sub-Master Accounts (",Ee.length,")"]}),Ee.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[s.jsx(dc,{className:"mx-auto text-gray-400 mb-3",size:48}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No sub-master accounts yet"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create your first sub-master account above"})]}):s.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden shadow-lg",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Display Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Created"}),s.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:Ee.map(lt=>s.jsxs("tr",{className:"hover:bg-orange-50/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(bc,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:lt.email})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-700 font-medium",children:lt.displayName})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold ${lt.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:lt.isActive?"Active":"Disabled"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:z0(lt.createdAt)})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>ve({isOpen:!0,subMasterId:lt.id,email:lt.email,isActive:lt.isActive}),className:`p-2 rounded-lg transition-all hover:scale-110 ${lt.isActive?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,title:lt.isActive?"Disable":"Enable",children:s.jsx(ZT,{size:16})}),s.jsx("button",{onClick:()=>ye({isOpen:!0,subMasterId:lt.id,email:lt.email}),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all hover:scale-110",title:"Delete",children:s.jsx(Ys,{size:16})})]})})]},lt.id))})]})})})]})]})]})]})]}),s.jsx(El,{isOpen:ke.isOpen,onClose:()=>ye({isOpen:!1,subMasterId:null,email:""}),onConfirm:$t,title:"Delete Sub-Master Account",message:`Are you sure you want to permanently delete the sub-master account for ${ke.email}? This action cannot be undone.`,confirmText:"Delete Account",type:"danger",icon:Ys}),s.jsx(El,{isOpen:he.isOpen,onClose:()=>ve({isOpen:!1,subMasterId:null,email:"",isActive:!1}),onConfirm:At,title:he.isActive?"Disable Sub-Master Account":"Enable Sub-Master Account",message:`Are you sure you want to ${he.isActive?"disable":"enable"} the sub-master account for ${he.email}?`,confirmText:he.isActive?"Disable":"Enable",type:he.isActive?"warning":"success",icon:ZT}),s.jsx(El,{isOpen:xe.isOpen,onClose:()=>be({isOpen:!1,factorUid:null}),onConfirm:xt,title:"Disable Two-Factor Authentication",message:"Are you sure you want to disable two-factor authentication? Your account will be less secure without it.",confirmText:"Disable 2FA",cancelText:"Keep 2FA",type:"danger",icon:dc,confirmLoading:H}),s.jsx(El,{isOpen:ht,onClose:()=>Tt(!1),onConfirm:Ht,title:"Cancel Subscription",message:"Are you sure you want to cancel your subscription? You will continue to have access until the end of your billing period.",confirmText:"Cancel Subscription",cancelText:"Keep Subscription",type:"danger",confirmLoading:at}),s.jsx(El,{isOpen:bt,onClose:()=>_e(!1),onConfirm:bn,title:"Downgrade Plan",message:"Are you sure you want to downgrade your plan? The downgrade will take effect at the end of your billing period. You'll be able to select the new plan in the next step.",confirmText:"Continue",cancelText:"Cancel",type:"warning"}),De&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Downgrade Plan"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Select the plan you want to downgrade to. The downgrade will take effect at the end of your current billing period."}),s.jsx("div",{className:"space-y-3 mb-6",children:(()=>{const lt=["starter","basic","professional","business"].filter(_t=>{const _n={free:0,starter:1,basic:2,professional:3,business:4,enterprise:5},jt=(t?.userData?.plan||"free").toLowerCase();return _n[_t]<_n[jt]});return lt.length===0?s.jsxs("div",{className:"p-6 bg-blue-50 border-2 border-blue-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-blue-900 font-semibold mb-2",children:"You're on the lowest paid plan"}),s.jsx("p",{className:"text-sm text-blue-700",children:"To downgrade further, you can cancel your subscription and return to the Free plan."})]}):lt.map(_t=>s.jsxs("button",{onClick:()=>Ke(_t),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${Ie===_t?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,children:[s.jsxs("div",{className:"font-bold text-gray-900 capitalize",children:[_t," Plan"]}),s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[_t==="starter"&&"50 CVs/month - R199/month",_t==="basic"&&"150 CVs/month - R399/month",_t==="professional"&&"600 CVs/month - R999/month",_t==="business"&&"1,500 CVs/month - R1,999/month"]})]},_t))})()}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{Le(!1),Ke("")},className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-900 rounded-lg font-semibold transition-all",disabled:at,children:"Cancel"}),s.jsx("button",{onClick:Ci,disabled:!Ie||at,className:"flex-1 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:at?"Processing...":"Confirm Downgrade"})]})]})})]})}function mv({value:t,onChange:e,options:n,placeholder:r="Select...",className:i=""}){const[a,o]=V.useState(!1),c=V.useRef(null);V.useEffect(()=>{function h(f){c.current&&!c.current.contains(f.target)&&o(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=n.find(h=>h.value===t);return s.jsxs("div",{ref:c,className:`relative ${i}`,style:{zIndex:a?1e3:"auto"},children:[s.jsxs("button",{type:"button",onClick:()=>o(!a),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg flex items-center justify-between hover:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[s.jsx("span",{className:`text-sm ${!t||t===""||t==="any"?"text-gray-500":"text-gray-900 font-medium"}`,children:d?.label||r}),s.jsx(vc,{size:16,className:`text-gray-400 transition-transform ${a?"transform rotate-180":""}`})]}),a&&s.jsx("div",{className:"absolute z-[1001] w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-auto",children:n.map(h=>s.jsxs("button",{type:"button",onClick:()=>{e(h.value),o(!1)},className:`w-full px-4 py-2.5 text-left text-sm hover:bg-orange-50 transition-colors flex items-center justify-between ${t===h.value?"bg-orange-50 text-orange-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:h.label}),t===h.value&&s.jsx(Pt,{size:16,className:"text-orange-600"})]},h.value))})]})}function ive(){const{currentUser:t,userData:e}=Ei(),n=ii(),r=Td(),[i,a]=V.useState([]),[o,c]=V.useState(!0),[d,h]=V.useState(!1),[f,p]=V.useState(null),[x,g]=V.useState(!1),[b,v]=V.useState({isOpen:!1,specId:null}),[w,j]=V.useState(!1),[E,T]=V.useState({basic:!0,requirements:!0,demographic:!0}),D=k=>{T(le=>({...le,[k]:!le[k]}))},[M,J]=V.useState({title:"",location:"",locationType:"onsite",department:"",minExperience:"",maxExperience:"",requiredSkills:"",preferredSkills:"",education:"",gender:"any",race:"any",minAge:"",maxAge:"",description:"",isActive:!0});V.useEffect(()=>{!t||!e||F()},[t,e]);const F=async()=>{if(t)try{c(!0);const k=e?.teamAccess;let le=[];if(k?.isTeamMember&&k?.teamOwnerId){console.log("Fetching team job specs via Cloud Function");const G=Mr(),ie=await En(G,"getTeamJobSpecs")();ie.data.success&&(le=ie.data.jobSpecs,console.log("Team job specs fetched:",le.length))}else{console.log("Loading job specs for user:",t.uid);try{const G=fu(Pl(cr,"jobSpecs"),Hs("userId","==",t.uid),f1("createdAt","desc"));le=(await mu(G)).docs.map(ie=>({id:ie.id,...ie.data()}))}catch(G){if(G.code==="failed-precondition"||G.message.includes("index")){const W=fu(Pl(cr,"jobSpecs"),Hs("userId","==",t.uid));le=(await mu(W)).docs.map(se=>({id:se.id,...se.data()})),le.sort((se,Se)=>new Date(Se.createdAt)-new Date(se.createdAt))}else throw G}}a(le)}catch(k){console.error("Error loading job specs:",k),alert(`Error loading job specs: ${k.message}`)}finally{c(!1)}},z=()=>{if(!e||!_p(e?.plan)){g(!0);return}const k=N5(e?.plan);if(k!==-1&&i.length>=k){r.error(`You've reached your plan's limit of ${k} job specifications. Upgrade your plan to create more.`),g(!0);return}p(null),J({title:"",location:"",locationType:"onsite",department:"",minExperience:"",maxExperience:"",requiredSkills:"",preferredSkills:"",education:"",gender:"any",race:"any",minAge:"",maxAge:"",description:"",isActive:!0}),h(!0)},L=k=>{p(k),J({title:k.title||"",location:k.location||"",locationType:k.locationType||"onsite",department:k.department||"",minExperience:k.minExperience||"",maxExperience:k.maxExperience||"",requiredSkills:Array.isArray(k.requiredSkills)?k.requiredSkills.join(", "):"",preferredSkills:Array.isArray(k.preferredSkills)?k.preferredSkills.join(", "):"",education:k.education||"",gender:k.gender||"any",race:k.race||"any",minAge:k.minAge||"",maxAge:k.maxAge||"",description:k.description||"",isActive:k.isActive!==!1}),h(!0)},H=async()=>{try{j(!0);const k=Mr(),G=await En(k,"deleteJobSpec")({jobSpecId:b.specId});if(G.data.success)a(i.filter(W=>W.id!==b.specId)),r.success("Job specification deleted successfully"),mie();else throw new Error(G.data.message||"Failed to delete job specification")}catch(k){console.error("Error deleting job spec:",k),r.error("Failed to delete job specification"),Ll("job_spec_delete_failed",k.message,"JobSpecs")}finally{j(!1),v({isOpen:!1,specId:null})}},P=k=>{v({isOpen:!0,specId:k})},I=async k=>{if(k.preventDefault(),!e||!_p(e?.plan)){g(!0),h(!1);return}try{const le=e?.teamAccess,G=le?.isTeamMember&&le?.teamOwnerId?le.teamOwnerId:t.uid,W={userId:G,createdBy:t.uid,createdByEmail:t.email,createdByName:t.displayName||t.email,title:M.title,location:M.location,locationType:M.locationType,department:M.department,minExperience:M.minExperience?parseInt(M.minExperience):null,maxExperience:M.maxExperience?parseInt(M.maxExperience):null,requiredSkills:M.requiredSkills.split(",").map(ie=>ie.trim()).filter(ie=>ie.length>0),preferredSkills:M.preferredSkills.split(",").map(ie=>ie.trim()).filter(ie=>ie.length>0),education:M.education,gender:M.gender,race:M.race,minAge:M.minAge?parseInt(M.minAge):null,maxAge:M.maxAge?parseInt(M.maxAge):null,description:M.description,isActive:M.isActive,updatedAt:new Date().toISOString()};if(f){await Lp(fa(cr,"jobSpecs",f.id),W),r.success("Job specification updated successfully"),fie(W.requiredSkills.length,W.minExperience||0,W.maxExperience||0);try{const ie=Mr();await En(ie,"logJobSpecUpdate")({jobSpecId:f.id,jobSpecTitle:W.title,userId:t.uid,teamOwnerId:G})}catch(ie){console.error("Error logging job spec update:",ie)}}else{W.createdAt=new Date().toISOString();const ie=await oM(Pl(cr,"jobSpecs"),W);r.success("Job specification created successfully"),hie(W.requiredSkills.length,W.minExperience||0,W.maxExperience||0);try{const se=Mr();await En(se,"logJobSpecCreate")({jobSpecId:ie.id,jobSpecTitle:W.title,userId:t.uid,teamOwnerId:G})}catch(se){console.error("Error logging job spec creation:",se)}}h(!1),F()}catch(le){console.error("Error saving job spec:",le),r.error("Failed to save job specification: "+le.message),Ll("job_spec_save_failed",le.message,"JobSpecs")}},U=k=>{const{name:le,value:G,type:W,checked:ie}=k.target;J({...M,[le]:W==="checkbox"?ie:G})};return o?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading job specifications..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(fc,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Job Specifications"}),s.jsx("p",{className:"text-xs text-gray-600",children:"CV Matching Manager"})]})]})]})})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl animate-slideUp",children:[s.jsx("div",{className:"p-6 border-b border-orange-200 bg-gradient-to-r from-orange-50 to-amber-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-xl flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx(Bh,{className:"text-white",size:24})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upgrade to Premium"})]}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-all",children:s.jsx(Wt,{size:20})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-6 text-base leading-relaxed",children:"Job Specifications with CV matching is a premium feature. Upgrade your plan to unlock more job specs:"}),s.jsxs("ul",{className:"space-y-3 mb-6",children:[s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-blue-50 to-blue-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Starter: 3 job specifications"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Basic: 10 job specifications"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-purple-50 to-purple-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Professional: 30 job specifications"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-orange-50 to-orange-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Business & Enterprise: Unlimited job specs"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"AI-powered CV matching with fit scores"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Advanced filtering by match percentage"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Detailed match breakdown reports"})]})]})]}),s.jsx("div",{className:"p-6 bg-gray-50 rounded-b-2xl",children:s.jsx("button",{onClick:()=>n("/settings"),className:"w-full py-3.5 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:"Upgrade Now"})})]})}),!d&&s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(fc,{size:28})}),"Job Specifications"]}),s.jsx("p",{className:"text-orange-100 text-lg mb-2",children:"Create job specs to match CVs with AI-powered fit scores"}),e&&_p(e?.plan)&&s.jsx("div",{className:"flex items-center gap-2 text-orange-100 text-sm",children:s.jsxs("span",{className:"font-semibold",children:[i.length," / ",N5(e?.plan)===-1?"Unlimited":N5(e?.plan)," Job Specs Used"]})})]}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("button",{onClick:z,className:"hidden lg:flex items-center gap-2 px-6 py-3 bg-white/20 backdrop-blur hover:bg-white/30 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg",children:[s.jsx(Mf,{size:20}),"New Job Spec"]})]})}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("button",{onClick:z,className:"lg:hidden w-full mb-6 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[s.jsx(Mf,{size:20}),"New Job Spec"]}),i.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(fc,{className:"text-white",size:40})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Job Specifications Yet"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto text-lg",children:!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin"?"Create your first job specification to start matching CVs with AI-powered fit scores":"No job specifications available yet. Contact your team owner to create job specifications."}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("button",{onClick:z,className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[s.jsx(Mf,{size:24}),"Create Job Specification"]})]}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map((k,le)=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all hover:-translate-y-1 group",style:{animationDelay:`${le*50}ms`},children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1 group-hover:text-orange-600 transition-colors",children:k.title}),k.department&&s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:k.department})]}),s.jsx("div",{className:"flex items-center gap-2",children:k.isActive?s.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-green-500 to-green-600 text-white text-xs font-bold rounded-full shadow-md",children:"Active"}):s.jsx("span",{className:"px-3 py-1.5 bg-gray-200 text-gray-700 text-xs font-bold rounded-full",children:"Inactive"})})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[k.location&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(Yb,{size:14,className:"text-white"})}),s.jsxs("span",{className:"font-medium",children:[k.location," ",s.jsxs("span",{className:"text-gray-500",children:["(",k.locationType,")"]})]})]}),(k.minExperience||k.maxExperience)&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(_d,{size:14,className:"text-white"})}),s.jsxs("span",{className:"font-medium",children:[k.minExperience||0," - ",k.maxExperience||""," years experience"]})]}),k.education&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(IA,{size:14,className:"text-white"})}),s.jsx("span",{className:"font-medium",children:k.education})]}),k.requiredSkills&&k.requiredSkills.length>0&&s.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:s.jsx(vne,{size:14,className:"text-white"})}),s.jsxs("span",{className:"line-clamp-2 font-medium",children:[k.requiredSkills.slice(0,3).join(", "),k.requiredSkills.length>3&&` +${k.requiredSkills.length-3} more`]})]})]}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-100",children:[s.jsxs("button",{onClick:()=>L(k),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl hover:from-gray-200 hover:to-gray-300 transition-all font-semibold hover:scale-105",children:[s.jsx(RA,{size:16}),"Edit"]}),s.jsx("button",{onClick:()=>P(k.id),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-50 to-red-100 text-red-600 rounded-xl hover:from-red-100 hover:to-red-200 transition-all font-semibold hover:scale-105",children:s.jsx(Ys,{size:16})})]})]},k.id))})]}),d&&s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(fc,{size:20,className:"text-white"})}),f?"Edit Job Specification":"Create New Job Specification"]}),s.jsx("p",{className:"text-orange-100 mt-2",children:"Define requirements to match the perfect candidates"})]}),s.jsxs("form",{onSubmit:I,className:"p-8 space-y-8",children:[s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.basic?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{type:"button",onClick:()=>D("basic"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(fc,{size:16,className:"text-white"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Basic Information"})]}),E.basic?s.jsx(Sh,{size:20,className:"text-gray-600"}):s.jsx(vc,{size:20,className:"text-gray-600"})]}),E.basic&&s.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50",children:[s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Job Title *"}),s.jsx("input",{type:"text",name:"title",value:M.title,onChange:U,required:!0,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Senior Software Engineer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),s.jsx("input",{type:"text",name:"department",value:M.department,onChange:U,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Engineering & Technology"})]})]}),s.jsxs("div",{className:"grid gap-5 md:grid-cols-2 mt-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Location"}),s.jsx("input",{type:"text",name:"location",value:M.location,onChange:U,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Tech City, California, United States"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Location Type"}),s.jsx(mv,{value:M.locationType,onChange:k=>J({...M,locationType:k}),options:[{value:"onsite",label:"On-site"},{value:"remote",label:"Remote"},{value:"hybrid",label:"Hybrid"}]})]})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Job Description"}),s.jsx("textarea",{name:"description",value:M.description,onChange:U,rows:4,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300 resize-none",placeholder:`Write clean, efficient, and well-documented code.

Collaborate with cross-functional teams, including product management and design, to define and build new features.`})]})]})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.requirements?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{type:"button",onClick:()=>D("requirements"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(Bh,{size:16,className:"text-white"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Requirements"})]}),E.requirements?s.jsx(Sh,{size:20,className:"text-gray-600"}):s.jsx(vc,{size:20,className:"text-gray-600"})]}),E.requirements&&s.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-blue-50",children:[s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Min. Experience (years)"}),s.jsx("input",{type:"number",name:"minExperience",value:M.minExperience,onChange:U,min:"0",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"5"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Max. Experience (years)"}),s.jsx("input",{type:"number",name:"maxExperience",value:M.maxExperience,onChange:U,min:"0",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"12"})]})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Required Skills (comma-separated)"}),s.jsx("input",{type:"text",name:"requiredSkills",value:M.requiredSkills,onChange:U,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"Python, Java, JavaScript, TypeScript, SQL, Django, Flask, Spring, React, Node.js, PostgreSQL, MongoDB"})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Preferred Skills (comma-separated)"}),s.jsx("input",{type:"text",name:"preferredSkills",value:M.preferredSkills,onChange:U,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"AWS, Docker, Kubernetes, CI/CD, Microservices"})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Education Level"}),s.jsx(mv,{value:M.education,onChange:k=>J({...M,education:k}),options:[{value:"",label:"Any"},{value:"High School",label:"High School"},{value:"Associate Degree",label:"Associate Degree"},{value:"Bachelor's Degree",label:"Bachelor's Degree"},{value:"Master's Degree",label:"Master's Degree"},{value:"Doctorate",label:"Doctorate"}],placeholder:"Select education level"})]})]})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.demographic?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{type:"button",onClick:()=>D("demographic"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(Ks,{size:16,className:"text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Demographic Preferences"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Optional filters for compliance requirements"})]})]}),E.demographic?s.jsx(Sh,{size:20,className:"text-gray-600"}):s.jsx(vc,{size:20,className:"text-gray-600"})]}),E.demographic&&s.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-cyan-50",children:[s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Gender Preference"}),s.jsx(mv,{value:M.gender,onChange:k=>J({...M,gender:k}),options:[{value:"any",label:"Any"},{value:"male",label:"Male"},{value:"female",label:"Female"}]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Race Preference"}),s.jsx(mv,{value:M.race,onChange:k=>J({...M,race:k}),options:[{value:"any",label:"Any"},{value:"african",label:"African"},{value:"asian",label:"Asian"},{value:"coloured",label:"Coloured"},{value:"indian",label:"Indian"},{value:"white",label:"White"}]})]})]}),s.jsxs("div",{className:"grid gap-5 md:grid-cols-2 mt-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Min. Age"}),s.jsx("input",{type:"number",name:"minAge",value:M.minAge,onChange:U,min:"18",max:"100",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"18"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Max. Age"}),s.jsx("input",{type:"number",name:"maxAge",value:M.maxAge,onChange:U,min:"18",max:"100",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"65"})]})]})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",name:"isActive",checked:M.isActive,onChange:U,className:"w-5 h-5 text-orange-500 border-2 border-gray-300 rounded focus:ring-2 focus:ring-orange-500 cursor-pointer"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900 block",children:"Active Job Specification"}),s.jsx("span",{className:"text-xs text-gray-600",children:"Make this job spec available for CV matching"})]})]})}),s.jsxs("div",{className:"flex gap-4 pt-2",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold hover:scale-[1.02] shadow-sm",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-semibold shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-[1.02]",children:f?"Update Job Specification":"Create Job Specification"})]})]})]})}),s.jsx(El,{isOpen:b.isOpen,onClose:()=>v({isOpen:!1,specId:null}),onConfirm:H,title:"Delete Job Specification",message:"Are you sure you want to delete this job specification? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:w})]})}function ave(){const{currentUser:t}=Ei(),e=ii(),n=t?.userData,[r,i]=V.useState([]),[a,o]=V.useState(""),[c,d]=V.useState(!1),[h,f]=V.useState(!1),p=V.useRef(null),x=V.useRef(null),g=()=>{p.current?.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{g()},[r]),V.useEffect(()=>{n&&!oj(n.plan)?f(!0):n&&i([{role:"assistant",content:" Hi! I'm CVSift Assistant. I'm here to help you with anything related to CVSift - from uploading CVs to understanding match scores. How can I assist you today?",timestamp:new Date}])},[n]);const b=async E=>{if(E.preventDefault(),!a.trim()||c)return;if(!n||!oj(n.plan)){f(!0);return}const T=a.trim();o("");const D={role:"user",content:T,timestamp:new Date};i(M=>[...M,D]),d(!0);try{const M=Mr(),J=En(M,"chatWithAssistant"),F=r.slice(-10).map(H=>({role:H.role,content:H.content})),L={role:"assistant",content:(await J({message:T,conversationHistory:F})).data.message,timestamp:new Date};i(H=>[...H,L])}catch(M){console.error("Error sending message:",M);let J="Sorry, I encountered an error. Please try again.";M.code==="permission-denied"&&(f(!0),J="Chatbot is only available for Pro and Enterprise users.");const F={role:"assistant",content:J,timestamp:new Date,isError:!0};i(z=>[...z,F])}finally{d(!1),x.current?.focus()}},v=["How do I upload CVs?","How do I create custom fields?","How does CV matching work?","How do I use custom field templates?","What are the different subscription plans?","How do I filter CVs by custom fields?"],w=E=>{o(E),x.current?.focus()},j=()=>s.jsx("div",{className:"flex justify-start animate-fade-in",children:s.jsxs("div",{className:"flex items-center gap-3 bg-white border border-gray-200 rounded-2xl px-5 py-3.5 shadow-sm",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(p5,{className:"text-white",size:18})}),s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})});return h?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50 to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-scale-in",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(n7,{className:"text-white",size:32})}),s.jsx("button",{onClick:()=>e("/dashboard"),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Wt,{size:20})})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"AI Assistant"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Get instant help with CVSift features, best practices, and troubleshooting with our AI-powered assistant."}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-xl p-5 mb-6",children:[s.jsxs("p",{className:"text-sm text-orange-900 font-semibold mb-4 flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-orange-600"}),"Premium Feature - Upgrade to access:"]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[s.jsx(Pt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),s.jsx("span",{children:"24/7 AI-powered assistance"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[s.jsx(Pt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),s.jsx("span",{children:"Instant answers to CVSift questions"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[s.jsx(Pt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),s.jsx("span",{children:"Best practices and tips"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[s.jsx(Pt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),s.jsx("span",{children:"Troubleshooting support"})]})]})]}),s.jsx("button",{onClick:()=>e("/settings"),className:"w-full py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-semibold shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-[1.02]",children:"Upgrade to Pro"}),s.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full mt-3 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Back to Dashboard"})]})}):s.jsxs("div",{className:"h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-orange-50 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"flex-shrink-0 bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(Qs,{size:20})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(p5,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CVSift Assistant"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered help  Always here to assist"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-orange-100 to-amber-100 text-orange-700 rounded-full text-sm shadow-sm",children:[s.jsx(ns,{size:14}),s.jsx("span",{className:"font-semibold",children:"Pro Feature"})]})]})})}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent min-h-0",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"space-y-6",children:[r.map((E,T)=>s.jsxs("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"} animate-slide-up`,style:{animationDelay:`${T*50}ms`},children:[E.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0 mr-3 shadow-md",children:s.jsx(p5,{className:"text-white",size:18})}),s.jsxs("div",{className:`max-w-[75%] rounded-2xl px-5 py-3.5 shadow-md ${E.role==="user"?"bg-gradient-to-br from-orange-500 to-orange-600 text-white":E.isError?"bg-red-50 text-red-800 border-2 border-red-200":"bg-white border border-gray-200 text-gray-900"}`,children:[s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:E.content}),s.jsx("p",{className:`text-xs mt-2 ${E.role==="user"?"text-orange-100":"text-gray-500"}`,children:E.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),E.role==="user"&&s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center flex-shrink-0 ml-3 shadow-md",children:s.jsx(Cl,{className:"text-white",size:18})})]},T)),c&&s.jsx(j,{}),s.jsx("div",{ref:p})]}),r.length===1&&!c&&s.jsxs("div",{className:"mt-12 animate-fade-in",children:[s.jsxs("p",{className:"text-sm text-gray-700 mb-4 font-semibold flex items-center gap-2",children:[s.jsx(ns,{size:16,className:"text-orange-500"}),"Try asking me:"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:v.map((E,T)=>s.jsx("button",{onClick:()=>w(E),className:"px-5 py-3.5 bg-white border-2 border-gray-200 rounded-xl hover:border-orange-300 hover:bg-orange-50 text-sm text-gray-700 transition-all text-left hover:shadow-md hover:-translate-y-0.5",children:E},T))})]})]})}),s.jsx("div",{className:"flex-shrink-0 bg-white/80 backdrop-blur-sm border-t border-gray-200 shadow-lg z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-5",children:[s.jsxs("form",{onSubmit:b,className:"flex gap-3",children:[s.jsx("input",{ref:x,type:"text",value:a,onChange:E=>o(E.target.value),placeholder:"Ask me anything about CVSift...",className:"flex-1 px-5 py-4 border-2 border-gray-300 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-400",disabled:c}),s.jsxs("button",{type:"submit",disabled:!a.trim()||c,className:"px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-2xl hover:from-orange-600 hover:to-orange-700 transition-all disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed flex items-center gap-2 font-medium shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-105 disabled:shadow-none disabled:scale-100",children:[s.jsx(i7,{size:20}),s.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"CVSift Assistant can make mistakes. Please verify important information."})]})}),s.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fade-in {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes scale-in {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        .animate-slide-up {
          animation: slide-up 0.3s ease-out forwards;
        }

        .animate-fade-in {
          animation: fade-in 0.4s ease-out forwards;
        }

        .animate-scale-in {
          animation: scale-in 0.3s ease-out forwards;
        }
      `})]})}function sve(){const[t]=G$(),e=ii(),{currentUser:n}=Ei(),r=Td(),[i]=V.useState(t.get("inviteId")),[a,o]=V.useState(!0),[c,d]=V.useState(!1),[h,f]=V.useState(null),[p,x]=V.useState(null),[g,b]=V.useState(!1);V.useEffect(()=>{if(!i){x("Invalid invitation link"),o(!1);return}v()},[i]);const v=async()=>{try{o(!0),x(null);const E=Mr(),D=await En(E,"getInviteData")({inviteId:i});D.data.success?f(D.data.invite):x(D.data.message||"Invalid or expired invitation")}catch(E){console.error("Error loading invite:",E),x(E.message||"Failed to load invitation")}finally{o(!1)}},w=async()=>{if(!n){r.error("Please sign in to accept this invitation"),e(`/login?redirect=/accept-invite?inviteId=${i}`);return}try{d(!0);const E=Mr(),D=await En(E,"acceptTeamInvite")({inviteId:i});D.data.success?(b(!0),r.success("Successfully joined the team!"),setTimeout(()=>{e("/dashboard")},2e3)):x(D.data.message||"Failed to accept invitation")}catch(E){console.error("Error accepting invite:",E),r.error(E.message||"Failed to accept invitation"),x(E.message||"Failed to accept invitation")}finally{d(!1)}},j=()=>{e("/")};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[s.jsx(rs,{className:"animate-spin mx-auto text-orange-500 mb-4",size:48}),s.jsx("p",{className:"text-gray-600 font-semibold",children:"Loading invitation..."})]})}):g?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(xr,{className:"text-green-600",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Welcome to the Team!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You've successfully joined the team. Redirecting to dashboard..."}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-500",children:[s.jsx(rs,{className:"animate-spin",size:20}),s.jsx("span",{className:"font-semibold",children:"Loading..."})]})]})}):p?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-rose-50 to-red-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(b1,{className:"text-red-600",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Invalid Invitation"}),s.jsx("p",{className:"text-gray-600 mb-6",children:p}),s.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl",children:"Go to Home"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(Ks,{className:"text-orange-500",size:40})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Team Invitation"}),s.jsx("p",{className:"text-orange-100",children:"You've been invited to join a CVSift team"})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Invitation Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"From:"}),s.jsx("span",{className:"text-gray-900 font-bold",children:h?.teamOwnerName})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Role:"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${h?.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:h?.role==="admin"?"Admin":"Member"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Email:"}),s.jsx("span",{className:"text-gray-900 font-semibold",children:h?.email})]})]})]}),s.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-xl p-6 mb-6",children:[s.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(ur,{size:18,className:"text-orange-500"}),"What you'll be able to do:"]}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"View and search the team's CV database"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Upload new CVs to the library"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Match candidates to job specifications"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Access advanced analytics and insights"})]}),h?.role==="admin"&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(xr,{size:18,className:"text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"font-semibold text-purple-700",children:"Manage team members and settings"})]})]})]}),!n&&s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(ur,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:"Sign in required"}),s.jsxs("p",{className:"text-yellow-700 text-sm",children:["You'll need to sign in or create an account with ",s.jsx("strong",{children:h?.email})," to accept this invitation."]})]})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:j,className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all border-2 border-gray-200",children:"Decline"}),s.jsx("button",{onClick:w,disabled:c,className:"flex-1 px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(rs,{className:"animate-spin",size:20}),"Accepting..."]}):s.jsxs(s.Fragment,{children:["Accept Invitation",s.jsx(Jte,{size:20})]})})]})]})]})})}const ove="modulepreload",lve=function(t){return"/"+t},V8={},eN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=d(n.map(h=>{if(h=lve(h),h in V8)return;V8[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const x=document.createElement("link");if(x.rel=f?"stylesheet":ove,f||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),f)return new Promise((g,b)=>{x.addEventListener("load",g),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function br(t){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},br(t)}var jc=Uint8Array,Jo=Uint16Array,h3=Int32Array,f3=new jc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m3=new jc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q8=new jc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),rB=function(t,e){for(var n=new Jo(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new h3(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return{b:n,r:i}},iB=rB(f3,2),cve=iB.b,Kj=iB.r;cve[28]=258,Kj[258]=28;var uve=rB(m3,0),$8=uve.r,Xj=new Jo(32768);for(var Hr=0;Hr<32768;++Hr){var fh=(Hr&43690)>>1|(Hr&21845)<<1;fh=(fh&52428)>>2|(fh&13107)<<2,fh=(fh&61680)>>4|(fh&3855)<<4,Xj[Hr]=((fh&65280)>>8|(fh&255)<<8)>>1}var F0=(function(t,e,n){for(var r=t.length,i=0,a=new Jo(e);i<r;++i)t[i]&&++a[t[i]-1];var o=new Jo(e);for(i=1;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var c;if(n){c=new Jo(1<<e);var d=15-e;for(i=0;i<r;++i)if(t[i])for(var h=i<<4|t[i],f=e-t[i],p=o[t[i]-1]++<<f,x=p|(1<<f)-1;p<=x;++p)c[Xj[p]>>d]=h}else for(c=new Jo(r),i=0;i<r;++i)t[i]&&(c[i]=Xj[o[t[i]-1]++]>>15-t[i]);return c}),im=new jc(288);for(var Hr=0;Hr<144;++Hr)im[Hr]=8;for(var Hr=144;Hr<256;++Hr)im[Hr]=9;for(var Hr=256;Hr<280;++Hr)im[Hr]=7;for(var Hr=280;Hr<288;++Hr)im[Hr]=8;var ob=new jc(32);for(var Hr=0;Hr<32;++Hr)ob[Hr]=5;var dve=F0(im,9,0),hve=F0(ob,5,0),aB=function(t){return(t+7)/8|0},fve=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new jc(t.subarray(e,n))},Zu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},u0=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},tN=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,a=n.slice();if(!i)return{t:oB,l:0};if(i==1){var o=new jc(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(M,J){return M.f-J.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],h=0,f=1,p=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};f!=i-1;)c=n[n[h].f<n[p].f?h++:p++],d=n[h!=f&&n[h].f<n[p].f?h++:p++],n[f++]={s:-1,f:c.f+d.f,l:c,r:d};for(var x=a[0].s,r=1;r<i;++r)a[r].s>x&&(x=a[r].s);var g=new Jo(x+1),b=Zj(n[f-1],g,0);if(b>e){var r=0,v=0,w=b-e,j=1<<w;for(a.sort(function(J,F){return g[F.s]-g[J.s]||J.f-F.f});r<i;++r){var E=a[r].s;if(g[E]>e)v+=j-(1<<b-g[E]),g[E]=e;else break}for(v>>=w;v>0;){var T=a[r].s;g[T]<e?v-=1<<e-g[T]++-1:++r}for(;r>=0&&v;--r){var D=a[r].s;g[D]==e&&(--g[D],++v)}b=e}return{t:new jc(g),l:b}},Zj=function(t,e,n){return t.s==-1?Math.max(Zj(t.l,e,n+1),Zj(t.r,e,n+1)):e[t.s]=n},H8=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Jo(++e),r=0,i=t[0],a=1,o=function(d){n[r++]=d},c=1;c<=e;++c)if(t[c]==i&&c!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i);a=1,i=t[c]}return{c:n.subarray(0,r),n:e}},d0=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},sB=function(t,e,n){var r=n.length,i=aB(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<r;++a)t[i+a+4]=n[a];return(i+4+r)*8},W8=function(t,e,n,r,i,a,o,c,d,h,f){Zu(e,f++,n),++i[256];for(var p=tN(i,15),x=p.t,g=p.l,b=tN(a,15),v=b.t,w=b.l,j=H8(x),E=j.c,T=j.n,D=H8(v),M=D.c,J=D.n,F=new Jo(19),z=0;z<E.length;++z)++F[E[z]&31];for(var z=0;z<M.length;++z)++F[M[z]&31];for(var L=tN(F,7),H=L.t,P=L.l,I=19;I>4&&!H[q8[I-1]];--I);var U=h+5<<3,k=d0(i,im)+d0(a,ob)+o,le=d0(i,x)+d0(a,v)+o+14+3*I+d0(F,H)+2*F[16]+3*F[17]+7*F[18];if(d>=0&&U<=k&&U<=le)return sB(e,f,t.subarray(d,d+h));var G,W,ie,se;if(Zu(e,f,1+(le<k)),f+=2,le<k){G=F0(x,g,0),W=x,ie=F0(v,w,0),se=v;var Se=F0(H,P,0);Zu(e,f,T-257),Zu(e,f+5,J-1),Zu(e,f+10,I-4),f+=14;for(var z=0;z<I;++z)Zu(e,f+3*z,H[q8[z]]);f+=3*I;for(var X=[E,M],O=0;O<2;++O)for(var K=X[O],z=0;z<K.length;++z){var te=K[z]&31;Zu(e,f,Se[te]),f+=H[te],te>15&&(Zu(e,f,K[z]>>5&127),f+=K[z]>>12)}}else G=dve,W=im,ie=hve,se=ob;for(var z=0;z<c;++z){var ee=r[z];if(ee>255){var te=ee>>18&31;u0(e,f,G[te+257]),f+=W[te+257],te>7&&(Zu(e,f,ee>>23&31),f+=f3[te]);var xe=ee&31;u0(e,f,ie[xe]),f+=se[xe],xe>3&&(u0(e,f,ee>>5&8191),f+=m3[xe])}else u0(e,f,G[ee]),f+=W[ee]}return u0(e,f,G[256]),f+W[256]},mve=new h3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),oB=new jc(0),pve=function(t,e,n,r,i,a){var o=a.z||t.length,c=new jc(r+o+5*(1+Math.ceil(o/7e3))+i),d=c.subarray(r,c.length-i),h=a.l,f=(a.r||0)&7;if(e){f&&(d[0]=a.r>>3);for(var p=mve[e-1],x=p>>13,g=p&8191,b=(1<<n)-1,v=a.p||new Jo(32768),w=a.h||new Jo(b+1),j=Math.ceil(n/3),E=2*j,T=function(q){return(t[q]^t[q+1]<<j^t[q+2]<<E)&b},D=new h3(25e3),M=new Jo(288),J=new Jo(32),F=0,z=0,L=a.i||0,H=0,P=a.w||0,I=0;L+2<o;++L){var U=T(L),k=L&32767,le=w[U];if(v[k]=le,w[U]=k,P<=L){var G=o-L;if((F>7e3||H>24576)&&(G>423||!h)){f=W8(t,d,0,D,M,J,z,H,I,L-I,f),H=F=z=0,I=L;for(var W=0;W<286;++W)M[W]=0;for(var W=0;W<30;++W)J[W]=0}var ie=2,se=0,Se=g,X=k-le&32767;if(G>2&&U==T(L-X))for(var O=Math.min(x,G)-1,K=Math.min(32767,L),te=Math.min(258,G);X<=K&&--Se&&k!=le;){if(t[L+ie]==t[L+ie-X]){for(var ee=0;ee<te&&t[L+ee]==t[L+ee-X];++ee);if(ee>ie){if(ie=ee,se=X,ee>O)break;for(var xe=Math.min(X,ee-2),be=0,W=0;W<xe;++W){var oe=L-X+W&32767,fe=v[oe],Ee=oe-fe&32767;Ee>be&&(be=Ee,le=oe)}}}k=le,le=v[k],X+=k-le&32767}if(se){D[H++]=268435456|Kj[ie]<<18|$8[se];var Be=Kj[ie]&31,Pe=$8[se]&31;z+=f3[Be]+m3[Pe],++M[257+Be],++J[Pe],P=L+ie,++F}else D[H++]=t[L],++M[t[L]]}}for(L=Math.max(L,P);L<o;++L)D[H++]=t[L],++M[t[L]];f=W8(t,d,h,D,M,J,z,H,I,L-I,f),h||(a.r=f&7|d[f/8|0]<<3,f-=7,a.h=w,a.p=v,a.i=L,a.w=P)}else{for(var L=a.w||0;L<o+h;L+=65535){var ct=L+65535;ct>=o&&(d[f/8|0]=h,ct=o),f=sB(d,f+1,t.subarray(L,ct))}a.i=o}return fve(c,0,r+aB(f)+i)},lB=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,a=n.length|0,o=0;o!=a;){for(var c=Math.min(o+2655,a);o<c;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},gve=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),o=new jc(a.length+t.length);o.set(a),o.set(t,a.length),t=o,i.w=a.length}return pve(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},cB=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},yve=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=lB();i.p(e.dictionary),cB(t,2,i.d())}};function Jj(t,e){e||(e={});var n=lB();n.p(t);var r=gve(t,e,e.dictionary?6:2,4);return yve(r,e),cB(r,r.length-4,n.d()),r}var xve=typeof TextDecoder<"u"&&new TextDecoder,vve=0;try{xve.decode(oB,{stream:!0}),vve=1}catch{}function bve(t){if(Array.isArray(t))return t}function wve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,c=[],d=!0,h=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(d=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);d=!0);}catch(f){h=!0,i=f}finally{try{if(!d&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(h)throw i}}return c}}function G8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _ve(t,e){if(t){if(typeof t=="string")return G8(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G8(t,e):void 0}}function Nve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y8(t,e){return bve(t)||wve(t,e)||_ve(t,e)||Nve()}function K8(t,e="utf8"){return new TextDecoder(e).decode(t)}const jve=new TextEncoder;function Sve(t){return jve.encode(t)}const Ave=1024*8,Eve=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),nN={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class p3{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=Ave,n={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=n.offset?n.offset>>>0:0,a=e.byteLength-i;let o=i;(ArrayBuffer.isView(e)||e instanceof p3)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const r=nN[n].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+r);if(this.littleEndian===Eve&&n!=="uint8"&&n!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+r));c.reverse();const d=new nN[n](c.buffer);return this.offset+=r,d.reverse(),d}const o=new nN[n](a);return this.offset+=r,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let r=0;r<e;r++)n+=this.readChar();return n}readUtf8(e=1){return K8(this.readBytes(e))}decodeText(e=1,n="utf8"){return K8(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(Sve(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function gg(t){let e=t.length;for(;--e>=0;)t[e]=0}const Cve=3,Tve=258,uB=29,kve=256,Ive=kve+1+uB,dB=30,Pve=512,Rve=new Array((Ive+2)*2);gg(Rve);const Ove=new Array(dB*2);gg(Ove);const Dve=new Array(Pve);gg(Dve);const Lve=new Array(Tve-Cve+1);gg(Lve);const Mve=new Array(uB);gg(Mve);const zve=new Array(dB);gg(zve);const Fve=(t,e,n,r)=>{let i=t&65535|0,a=t>>>16&65535|0,o=0;for(;n!==0;){o=n>2e3?2e3:n,n-=o;do i=i+e[r++]|0,a=a+i|0;while(--o);i%=65521,a%=65521}return i|a<<16|0};var Qj=Fve;const Uve=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},Bve=new Uint32Array(Uve()),Vve=(t,e,n,r)=>{const i=Bve,a=r+n;t^=-1;for(let o=r;o<a;o++)t=t>>>8^i[(t^e[o])&255];return t^-1};var Jc=Vve,eS={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},hB={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const qve=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var $ve=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)qve(n,r)&&(t[r]=n[r])}}return t},Hve=t=>{let e=0;for(let r=0,i=t.length;r<i;r++)e+=t[r].length;const n=new Uint8Array(e);for(let r=0,i=0,a=t.length;r<a;r++){let o=t[r];n.set(o,i),i+=o.length}return n},fB={assign:$ve,flattenChunks:Hve};let mB=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{mB=!1}const py=new Uint8Array(256);for(let t=0;t<256;t++)py[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;py[254]=py[254]=1;var Wve=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,r,i,a,o=t.length,c=0;for(i=0;i<o;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(c),a=0,i=0;a<c;i++)n=t.charCodeAt(i),(n&64512)===55296&&i+1<o&&(r=t.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const Gve=(t,e)=>{if(e<65534&&t.subarray&&mB)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let r=0;r<e;r++)n+=String.fromCharCode(t[r]);return n};var Yve=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let r,i;const a=new Array(n*2);for(i=0,r=0;r<n;){let o=t[r++];if(o<128){a[i++]=o;continue}let c=py[o];if(c>4){a[i++]=65533,r+=c-1;continue}for(o&=c===2?31:c===3?15:7;c>1&&r<n;)o=o<<6|t[r++]&63,c--;if(c>1){a[i++]=65533;continue}o<65536?a[i++]=o:(o-=65536,a[i++]=55296|o>>10&1023,a[i++]=56320|o&1023)}return Gve(a,i)},Kve=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+py[t[n]]>e?n:e},tS={string2buf:Wve,buf2string:Yve,utf8border:Kve};function Xve(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Zve=Xve;const pv=16209,Jve=16191;var Qve=function(e,n){let r,i,a,o,c,d,h,f,p,x,g,b,v,w,j,E,T,D,M,J,F,z,L,H;const P=e.state;r=e.next_in,L=e.input,i=r+(e.avail_in-5),a=e.next_out,H=e.output,o=a-(n-e.avail_out),c=a+(e.avail_out-257),d=P.dmax,h=P.wsize,f=P.whave,p=P.wnext,x=P.window,g=P.hold,b=P.bits,v=P.lencode,w=P.distcode,j=(1<<P.lenbits)-1,E=(1<<P.distbits)-1;e:do{b<15&&(g+=L[r++]<<b,b+=8,g+=L[r++]<<b,b+=8),T=v[g&j];t:for(;;){if(D=T>>>24,g>>>=D,b-=D,D=T>>>16&255,D===0)H[a++]=T&65535;else if(D&16){M=T&65535,D&=15,D&&(b<D&&(g+=L[r++]<<b,b+=8),M+=g&(1<<D)-1,g>>>=D,b-=D),b<15&&(g+=L[r++]<<b,b+=8,g+=L[r++]<<b,b+=8),T=w[g&E];n:for(;;){if(D=T>>>24,g>>>=D,b-=D,D=T>>>16&255,D&16){if(J=T&65535,D&=15,b<D&&(g+=L[r++]<<b,b+=8,b<D&&(g+=L[r++]<<b,b+=8)),J+=g&(1<<D)-1,J>d){e.msg="invalid distance too far back",P.mode=pv;break e}if(g>>>=D,b-=D,D=a-o,J>D){if(D=J-D,D>f&&P.sane){e.msg="invalid distance too far back",P.mode=pv;break e}if(F=0,z=x,p===0){if(F+=h-D,D<M){M-=D;do H[a++]=x[F++];while(--D);F=a-J,z=H}}else if(p<D){if(F+=h+p-D,D-=p,D<M){M-=D;do H[a++]=x[F++];while(--D);if(F=0,p<M){D=p,M-=D;do H[a++]=x[F++];while(--D);F=a-J,z=H}}}else if(F+=p-D,D<M){M-=D;do H[a++]=x[F++];while(--D);F=a-J,z=H}for(;M>2;)H[a++]=z[F++],H[a++]=z[F++],H[a++]=z[F++],M-=3;M&&(H[a++]=z[F++],M>1&&(H[a++]=z[F++]))}else{F=a-J;do H[a++]=H[F++],H[a++]=H[F++],H[a++]=H[F++],M-=3;while(M>2);M&&(H[a++]=H[F++],M>1&&(H[a++]=H[F++]))}}else if((D&64)===0){T=w[(T&65535)+(g&(1<<D)-1)];continue n}else{e.msg="invalid distance code",P.mode=pv;break e}break}}else if((D&64)===0){T=v[(T&65535)+(g&(1<<D)-1)];continue t}else if(D&32){P.mode=Jve;break e}else{e.msg="invalid literal/length code",P.mode=pv;break e}break}}while(r<i&&a<c);M=b>>3,r-=M,b-=M<<3,g&=(1<<b)-1,e.next_in=r,e.next_out=a,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=a<c?257+(c-a):257-(a-c),P.hold=g,P.bits=b};const tp=15,X8=852,Z8=592,J8=0,rN=1,Q8=2,e1e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),t1e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),n1e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),r1e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),i1e=(t,e,n,r,i,a,o,c)=>{const d=c.bits;let h=0,f=0,p=0,x=0,g=0,b=0,v=0,w=0,j=0,E=0,T,D,M,J,F,z=null,L;const H=new Uint16Array(tp+1),P=new Uint16Array(tp+1);let I=null,U,k,le;for(h=0;h<=tp;h++)H[h]=0;for(f=0;f<r;f++)H[e[n+f]]++;for(g=d,x=tp;x>=1&&H[x]===0;x--);if(g>x&&(g=x),x===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,c.bits=1,0;for(p=1;p<x&&H[p]===0;p++);for(g<p&&(g=p),w=1,h=1;h<=tp;h++)if(w<<=1,w-=H[h],w<0)return-1;if(w>0&&(t===J8||x!==1))return-1;for(P[1]=0,h=1;h<tp;h++)P[h+1]=P[h]+H[h];for(f=0;f<r;f++)e[n+f]!==0&&(o[P[e[n+f]]++]=f);if(t===J8?(z=I=o,L=20):t===rN?(z=e1e,I=t1e,L=257):(z=n1e,I=r1e,L=0),E=0,f=0,h=p,F=a,b=g,v=0,M=-1,j=1<<g,J=j-1,t===rN&&j>X8||t===Q8&&j>Z8)return 1;for(;;){U=h-v,o[f]+1<L?(k=0,le=o[f]):o[f]>=L?(k=I[o[f]-L],le=z[o[f]-L]):(k=96,le=0),T=1<<h-v,D=1<<b,p=D;do D-=T,i[F+(E>>v)+D]=U<<24|k<<16|le|0;while(D!==0);for(T=1<<h-1;E&T;)T>>=1;if(T!==0?(E&=T-1,E+=T):E=0,f++,--H[h]===0){if(h===x)break;h=e[n+o[f]]}if(h>g&&(E&J)!==M){for(v===0&&(v=g),F+=p,b=h-v,w=1<<b;b+v<x&&(w-=H[b+v],!(w<=0));)b++,w<<=1;if(j+=1<<b,t===rN&&j>X8||t===Q8&&j>Z8)return 1;M=E&J,i[M]=g<<24|b<<16|F-a|0}}return E!==0&&(i[F+E]=h-v<<24|64<<16|0),c.bits=g,0};var U0=i1e;const a1e=0,pB=1,gB=2,{Z_FINISH:eR,Z_BLOCK:s1e,Z_TREES:gv,Z_OK:am,Z_STREAM_END:o1e,Z_NEED_DICT:l1e,Z_STREAM_ERROR:Ul,Z_DATA_ERROR:yB,Z_MEM_ERROR:xB,Z_BUF_ERROR:c1e,Z_DEFLATED:tR}=hB,A2=16180,nR=16181,rR=16182,iR=16183,aR=16184,sR=16185,oR=16186,lR=16187,cR=16188,uR=16189,lb=16190,Ju=16191,iN=16192,dR=16193,aN=16194,hR=16195,fR=16196,mR=16197,pR=16198,yv=16199,xv=16200,gR=16201,yR=16202,xR=16203,vR=16204,bR=16205,sN=16206,wR=16207,_R=16208,ei=16209,vB=16210,bB=16211,u1e=852,d1e=592,h1e=15,f1e=h1e,NR=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function m1e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const gm=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<A2||e.mode>bB?1:0},wB=t=>{if(gm(t))return Ul;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=A2,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(u1e),e.distcode=e.distdyn=new Int32Array(d1e),e.sane=1,e.back=-1,am},_B=t=>{if(gm(t))return Ul;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,wB(t)},NB=(t,e)=>{let n;if(gm(t))return Ul;const r=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ul:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,_B(t))},jB=(t,e)=>{if(!t)return Ul;const n=new m1e;t.state=n,n.strm=t,n.window=null,n.mode=A2;const r=NB(t,e);return r!==am&&(t.state=null),r},p1e=t=>jB(t,f1e);let jR=!0,oN,lN;const g1e=t=>{if(jR){oN=new Int32Array(512),lN=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(U0(pB,t.lens,0,288,oN,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;U0(gB,t.lens,0,32,lN,0,t.work,{bits:5}),jR=!1}t.lencode=oN,t.lenbits=9,t.distcode=lN,t.distbits=5},SB=(t,e,n,r)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),r>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>r&&(i=r),a.window.set(e.subarray(n-r,n-r+i),a.wnext),r-=i,r?(a.window.set(e.subarray(n-r,n),0),a.wnext=r,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},y1e=(t,e)=>{let n,r,i,a,o,c,d,h,f,p,x,g,b,v,w=0,j,E,T,D,M,J,F,z;const L=new Uint8Array(4);let H,P;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(gm(t)||!t.output||!t.input&&t.avail_in!==0)return Ul;n=t.state,n.mode===Ju&&(n.mode=iN),o=t.next_out,i=t.output,d=t.avail_out,a=t.next_in,r=t.input,c=t.avail_in,h=n.hold,f=n.bits,p=c,x=d,z=am;e:for(;;)switch(n.mode){case A2:if(n.wrap===0){n.mode=iN;break}for(;f<16;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if(n.wrap&2&&h===35615){n.wbits===0&&(n.wbits=15),n.check=0,L[0]=h&255,L[1]=h>>>8&255,n.check=Jc(n.check,L,2,0),h=0,f=0,n.mode=nR;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",n.mode=ei;break}if((h&15)!==tR){t.msg="unknown compression method",n.mode=ei;break}if(h>>>=4,f-=4,F=(h&15)+8,n.wbits===0&&(n.wbits=F),F>15||F>n.wbits){t.msg="invalid window size",n.mode=ei;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=h&512?uR:Ju,h=0,f=0;break;case nR:for(;f<16;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if(n.flags=h,(n.flags&255)!==tR){t.msg="unknown compression method",n.mode=ei;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=ei;break}n.head&&(n.head.text=h>>8&1),n.flags&512&&n.wrap&4&&(L[0]=h&255,L[1]=h>>>8&255,n.check=Jc(n.check,L,2,0)),h=0,f=0,n.mode=rR;case rR:for(;f<32;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}n.head&&(n.head.time=h),n.flags&512&&n.wrap&4&&(L[0]=h&255,L[1]=h>>>8&255,L[2]=h>>>16&255,L[3]=h>>>24&255,n.check=Jc(n.check,L,4,0)),h=0,f=0,n.mode=iR;case iR:for(;f<16;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}n.head&&(n.head.xflags=h&255,n.head.os=h>>8),n.flags&512&&n.wrap&4&&(L[0]=h&255,L[1]=h>>>8&255,n.check=Jc(n.check,L,2,0)),h=0,f=0,n.mode=aR;case aR:if(n.flags&1024){for(;f<16;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}n.length=h,n.head&&(n.head.extra_len=h),n.flags&512&&n.wrap&4&&(L[0]=h&255,L[1]=h>>>8&255,n.check=Jc(n.check,L,2,0)),h=0,f=0}else n.head&&(n.head.extra=null);n.mode=sR;case sR:if(n.flags&1024&&(g=n.length,g>c&&(g=c),g&&(n.head&&(F=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(a,a+g),F)),n.flags&512&&n.wrap&4&&(n.check=Jc(n.check,r,g,a)),c-=g,a+=g,n.length-=g),n.length))break e;n.length=0,n.mode=oR;case oR:if(n.flags&2048){if(c===0)break e;g=0;do F=r[a+g++],n.head&&F&&n.length<65536&&(n.head.name+=String.fromCharCode(F));while(F&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=Jc(n.check,r,g,a)),c-=g,a+=g,F)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=lR;case lR:if(n.flags&4096){if(c===0)break e;g=0;do F=r[a+g++],n.head&&F&&n.length<65536&&(n.head.comment+=String.fromCharCode(F));while(F&&g<c);if(n.flags&512&&n.wrap&4&&(n.check=Jc(n.check,r,g,a)),c-=g,a+=g,F)break e}else n.head&&(n.head.comment=null);n.mode=cR;case cR:if(n.flags&512){for(;f<16;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if(n.wrap&4&&h!==(n.check&65535)){t.msg="header crc mismatch",n.mode=ei;break}h=0,f=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ju;break;case uR:for(;f<32;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}t.adler=n.check=NR(h),h=0,f=0,n.mode=lb;case lb:if(n.havedict===0)return t.next_out=o,t.avail_out=d,t.next_in=a,t.avail_in=c,n.hold=h,n.bits=f,l1e;t.adler=n.check=1,n.mode=Ju;case Ju:if(e===s1e||e===gv)break e;case iN:if(n.last){h>>>=f&7,f-=f&7,n.mode=sN;break}for(;f<3;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}switch(n.last=h&1,h>>>=1,f-=1,h&3){case 0:n.mode=dR;break;case 1:if(g1e(n),n.mode=yv,e===gv){h>>>=2,f-=2;break e}break;case 2:n.mode=fR;break;case 3:t.msg="invalid block type",n.mode=ei}h>>>=2,f-=2;break;case dR:for(h>>>=f&7,f-=f&7;f<32;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ei;break}if(n.length=h&65535,h=0,f=0,n.mode=aN,e===gv)break e;case aN:n.mode=hR;case hR:if(g=n.length,g){if(g>c&&(g=c),g>d&&(g=d),g===0)break e;i.set(r.subarray(a,a+g),o),c-=g,a+=g,d-=g,o+=g,n.length-=g;break}n.mode=Ju;break;case fR:for(;f<14;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if(n.nlen=(h&31)+257,h>>>=5,f-=5,n.ndist=(h&31)+1,h>>>=5,f-=5,n.ncode=(h&15)+4,h>>>=4,f-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ei;break}n.have=0,n.mode=mR;case mR:for(;n.have<n.ncode;){for(;f<3;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}n.lens[I[n.have++]]=h&7,h>>>=3,f-=3}for(;n.have<19;)n.lens[I[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,H={bits:n.lenbits},z=U0(a1e,n.lens,0,19,n.lencode,0,n.work,H),n.lenbits=H.bits,z){t.msg="invalid code lengths set",n.mode=ei;break}n.have=0,n.mode=pR;case pR:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[h&(1<<n.lenbits)-1],j=w>>>24,E=w>>>16&255,T=w&65535,!(j<=f);){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if(T<16)h>>>=j,f-=j,n.lens[n.have++]=T;else{if(T===16){for(P=j+2;f<P;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if(h>>>=j,f-=j,n.have===0){t.msg="invalid bit length repeat",n.mode=ei;break}F=n.lens[n.have-1],g=3+(h&3),h>>>=2,f-=2}else if(T===17){for(P=j+3;f<P;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}h>>>=j,f-=j,F=0,g=3+(h&7),h>>>=3,f-=3}else{for(P=j+7;f<P;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}h>>>=j,f-=j,F=0,g=11+(h&127),h>>>=7,f-=7}if(n.have+g>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ei;break}for(;g--;)n.lens[n.have++]=F}}if(n.mode===ei)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=ei;break}if(n.lenbits=9,H={bits:n.lenbits},z=U0(pB,n.lens,0,n.nlen,n.lencode,0,n.work,H),n.lenbits=H.bits,z){t.msg="invalid literal/lengths set",n.mode=ei;break}if(n.distbits=6,n.distcode=n.distdyn,H={bits:n.distbits},z=U0(gB,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,H),n.distbits=H.bits,z){t.msg="invalid distances set",n.mode=ei;break}if(n.mode=yv,e===gv)break e;case yv:n.mode=xv;case xv:if(c>=6&&d>=258){t.next_out=o,t.avail_out=d,t.next_in=a,t.avail_in=c,n.hold=h,n.bits=f,Qve(t,x),o=t.next_out,i=t.output,d=t.avail_out,a=t.next_in,r=t.input,c=t.avail_in,h=n.hold,f=n.bits,n.mode===Ju&&(n.back=-1);break}for(n.back=0;w=n.lencode[h&(1<<n.lenbits)-1],j=w>>>24,E=w>>>16&255,T=w&65535,!(j<=f);){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if(E&&(E&240)===0){for(D=j,M=E,J=T;w=n.lencode[J+((h&(1<<D+M)-1)>>D)],j=w>>>24,E=w>>>16&255,T=w&65535,!(D+j<=f);){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}h>>>=D,f-=D,n.back+=D}if(h>>>=j,f-=j,n.back+=j,n.length=T,E===0){n.mode=bR;break}if(E&32){n.back=-1,n.mode=Ju;break}if(E&64){t.msg="invalid literal/length code",n.mode=ei;break}n.extra=E&15,n.mode=gR;case gR:if(n.extra){for(P=n.extra;f<P;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}n.length+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=yR;case yR:for(;w=n.distcode[h&(1<<n.distbits)-1],j=w>>>24,E=w>>>16&255,T=w&65535,!(j<=f);){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if((E&240)===0){for(D=j,M=E,J=T;w=n.distcode[J+((h&(1<<D+M)-1)>>D)],j=w>>>24,E=w>>>16&255,T=w&65535,!(D+j<=f);){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}h>>>=D,f-=D,n.back+=D}if(h>>>=j,f-=j,n.back+=j,E&64){t.msg="invalid distance code",n.mode=ei;break}n.offset=T,n.extra=E&15,n.mode=xR;case xR:if(n.extra){for(P=n.extra;f<P;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}n.offset+=h&(1<<n.extra)-1,h>>>=n.extra,f-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ei;break}n.mode=vR;case vR:if(d===0)break e;if(g=x-d,n.offset>g){if(g=n.offset-g,g>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ei;break}g>n.wnext?(g-=n.wnext,b=n.wsize-g):b=n.wnext-g,g>n.length&&(g=n.length),v=n.window}else v=i,b=o-n.offset,g=n.length;g>d&&(g=d),d-=g,n.length-=g;do i[o++]=v[b++];while(--g);n.length===0&&(n.mode=xv);break;case bR:if(d===0)break e;i[o++]=n.length,d--,n.mode=xv;break;case sN:if(n.wrap){for(;f<32;){if(c===0)break e;c--,h|=r[a++]<<f,f+=8}if(x-=d,t.total_out+=x,n.total+=x,n.wrap&4&&x&&(t.adler=n.check=n.flags?Jc(n.check,i,x,o-x):Qj(n.check,i,x,o-x)),x=d,n.wrap&4&&(n.flags?h:NR(h))!==n.check){t.msg="incorrect data check",n.mode=ei;break}h=0,f=0}n.mode=wR;case wR:if(n.wrap&&n.flags){for(;f<32;){if(c===0)break e;c--,h+=r[a++]<<f,f+=8}if(n.wrap&4&&h!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=ei;break}h=0,f=0}n.mode=_R;case _R:z=o1e;break e;case ei:z=yB;break e;case vB:return xB;case bB:default:return Ul}return t.next_out=o,t.avail_out=d,t.next_in=a,t.avail_in=c,n.hold=h,n.bits=f,(n.wsize||x!==t.avail_out&&n.mode<ei&&(n.mode<sN||e!==eR))&&SB(t,t.output,t.next_out,x-t.avail_out),p-=t.avail_in,x-=t.avail_out,t.total_in+=p,t.total_out+=x,n.total+=x,n.wrap&4&&x&&(t.adler=n.check=n.flags?Jc(n.check,i,x,t.next_out-x):Qj(n.check,i,x,t.next_out-x)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ju?128:0)+(n.mode===yv||n.mode===aN?256:0),(p===0&&x===0||e===eR)&&z===am&&(z=c1e),z},x1e=t=>{if(gm(t))return Ul;let e=t.state;return e.window&&(e.window=null),t.state=null,am},v1e=(t,e)=>{if(gm(t))return Ul;const n=t.state;return(n.wrap&2)===0?Ul:(n.head=e,e.done=!1,am)},b1e=(t,e)=>{const n=e.length;let r,i,a;return gm(t)||(r=t.state,r.wrap!==0&&r.mode!==lb)?Ul:r.mode===lb&&(i=1,i=Qj(i,e,n,0),i!==r.check)?yB:(a=SB(t,e,n,n),a?(r.mode=vB,xB):(r.havedict=1,am))};var w1e=_B,_1e=NB,N1e=wB,j1e=p1e,S1e=jB,A1e=y1e,E1e=x1e,C1e=v1e,T1e=b1e,k1e="pako inflate (from Nodeca project)",td={inflateReset:w1e,inflateReset2:_1e,inflateResetKeep:N1e,inflateInit:j1e,inflateInit2:S1e,inflate:A1e,inflateEnd:E1e,inflateGetHeader:C1e,inflateSetDictionary:T1e,inflateInfo:k1e};function I1e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var P1e=I1e;const AB=Object.prototype.toString,{Z_NO_FLUSH:R1e,Z_FINISH:O1e,Z_OK:gy,Z_STREAM_END:cN,Z_NEED_DICT:uN,Z_STREAM_ERROR:D1e,Z_DATA_ERROR:SR,Z_MEM_ERROR:L1e}=hB;function Yy(t){this.options=fB.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Zve,this.strm.avail_out=0;let n=td.inflateInit2(this.strm,e.windowBits);if(n!==gy)throw new Error(eS[n]);if(this.header=new P1e,td.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=tS.string2buf(e.dictionary):AB.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=td.inflateSetDictionary(this.strm,e.dictionary),n!==gy)))throw new Error(eS[n])}Yy.prototype.push=function(t,e){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let a,o,c;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?O1e:R1e,AB.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),a=td.inflate(n,o),a===uN&&i&&(a=td.inflateSetDictionary(n,i),a===gy?a=td.inflate(n,o):a===SR&&(a=uN));n.avail_in>0&&a===cN&&n.state.wrap>0&&t[n.next_in]!==0;)td.inflateReset(n),a=td.inflate(n,o);switch(a){case D1e:case SR:case uN:case L1e:return this.onEnd(a),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||a===cN))if(this.options.to==="string"){let d=tS.utf8border(n.output,n.next_out),h=n.next_out-d,f=tS.buf2string(n.output,d);n.next_out=h,n.avail_out=r-h,h&&n.output.set(n.output.subarray(d,d+h),0),this.onData(f)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===gy&&c===0)){if(a===cN)return a=td.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};Yy.prototype.onData=function(t){this.chunks.push(t)};Yy.prototype.onEnd=function(t){t===gy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=fB.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function M1e(t,e){const n=new Yy(e);if(n.push(t),n.err)throw n.msg||eS[n.err];return n.result}var z1e=Yy,F1e=M1e,U1e={Inflate:z1e,inflate:F1e};const{Inflate:B1e,inflate:V1e}=U1e;var AR=B1e,q1e=V1e;const EB=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;EB[t]=e}const ER=4294967295;function $1e(t,e,n){let r=t;for(let i=0;i<n;i++)r=EB[(r^e[i])&255]^r>>>8;return r}function H1e(t,e){return($1e(ER,t,e)^ER)>>>0}function CR(t,e,n){const r=t.readUint32(),i=H1e(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function CB(t,e,n){for(let r=0;r<n;r++)e[r]=t[r]}function TB(t,e,n,r){let i=0;for(;i<r;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-r]&255}function kB(t,e,n,r){let i=0;if(n.length===0)for(;i<r;i++)e[i]=t[i];else for(;i<r;i++)e[i]=t[i]+n[i]&255}function IB(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<r;a++)e[a]=t[a]+(e[a-i]+n[a]>>1)&255}}function PB(t,e,n,r,i){let a=0;if(n.length===0){for(;a<i;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+n[a]&255;for(;a<r;a++)e[a]=t[a]+W1e(e[a-i],n[a],n[a-i])&255}}function W1e(t,e,n){const r=t+e-n,i=Math.abs(r-t),a=Math.abs(r-e),o=Math.abs(r-n);return i<=a&&i<=o?t:a<=o?e:n}function G1e(t,e,n,r,i,a){switch(t){case 0:CB(e,n,i);break;case 1:TB(e,n,i,a);break;case 2:kB(e,n,r,i);break;case 3:IB(e,n,r,i,a);break;case 4:PB(e,n,r,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Y1e=new Uint16Array([255]),K1e=new Uint8Array(Y1e.buffer),X1e=K1e[0]===255;function Z1e(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*i,d=new Uint8Array(r*n*c);let h=0;for(let f=0;f<7;f++){const p=o[f],x=Math.ceil((n-p.x)/p.xStep),g=Math.ceil((r-p.y)/p.yStep);if(x<=0||g<=0)continue;const b=x*c,v=new Uint8Array(b);for(let w=0;w<g;w++){const j=e[h++],E=e.subarray(h,h+b);h+=b;const T=new Uint8Array(b);G1e(j,E,T,v,b,c),v.set(T);for(let D=0;D<x;D++){const M=p.x+D*p.xStep,J=p.y+w*p.yStep;if(!(M>=n||J>=r))for(let F=0;F<c;F++)d[(J*n+M)*c+F]=T[D*c+F]}}}if(a===16){const f=new Uint16Array(d.buffer);if(X1e)for(let p=0;p<f.length;p++)f[p]=J1e(f[p]);return f}else return d}function J1e(t){return(t&255)<<8|t>>8&255}const Q1e=new Uint16Array([255]),ebe=new Uint8Array(Q1e.buffer),tbe=ebe[0]===255,nbe=new Uint8Array(0);function TR(t){const{data:e,width:n,height:r,channels:i,depth:a}=t,o=Math.ceil(a/8)*i,c=Math.ceil(a/8*i*n),d=new Uint8Array(r*c);let h=nbe,f=0,p,x;for(let g=0;g<r;g++){switch(p=e.subarray(f+1,f+1+c),x=d.subarray(g*c,(g+1)*c),e[f]){case 0:CB(p,x,c);break;case 1:TB(p,x,c,o);break;case 2:kB(p,x,h,c);break;case 3:IB(p,x,h,c,o);break;case 4:PB(p,x,h,c,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}h=x,f+=c+1}if(a===16){const g=new Uint16Array(d.buffer);if(tbe)for(let b=0;b<g.length;b++)g[b]=rbe(g[b]);return g}else return d}function rbe(t){return(t&255)<<8|t>>8&255}const Vv=Uint8Array.of(137,80,78,71,13,10,26,10);function kR(t){if(!ibe(t.readBytes(Vv.length)))throw new Error("wrong PNG signature")}function ibe(t){if(t.length<Vv.length)return!1;for(let e=0;e<Vv.length;e++)if(t[e]!==Vv[e])return!1;return!0}const abe="tEXt",sbe=0,RB=new TextDecoder("latin1");function obe(t){if(cbe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const lbe=/^[\u0000-\u00FF]*$/;function cbe(t){if(!lbe.test(t))throw new Error("invalid latin1 text")}function ube(t,e,n){const r=OB(e);t[r]=dbe(e,n-r.length-1)}function OB(t){for(t.mark();t.readByte()!==sbe;);const e=t.offset;t.reset();const n=RB.decode(t.readBytes(e-t.offset-1));return t.skip(1),obe(n),n}function dbe(t,e){return RB.decode(t.readBytes(e))}const $o={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},dN={UNKNOWN:-1,DEFLATE:0},IR={UNKNOWN:-1,ADAPTIVE:0},hN={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},vv={NONE:0,BACKGROUND:1,PREVIOUS:2},fN={SOURCE:0,OVER:1};class hbe extends p3{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,n={}){super(e);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new AR,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=dN.UNKNOWN,this._filterMethod=IR.UNKNOWN,this._interlaceMethod=hN.UNKNOWN,this._colorType=$o.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(kR(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeChunk(e,n)}return this.decodeImage(),this._png}decodeApng(){for(kR(this);!this._end;){const e=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(e,n)}return this.decodeApngImage(),this._apng}decodeChunk(e,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case abe:ube(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?CR(this,e+4,n):this.skip(4)}decodeApngChunk(e,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,n),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?CR(this,e+4,n):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=fbe(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case $o.GREYSCALE:r=1;break;case $o.TRUECOLOUR:r=3;break;case $o.INDEXED_COLOUR:r=1;break;case $o.GREYSCALE_ALPHA:r=2;break;case $o.TRUECOLOUR_ALPHA:r=4;break;case $o.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==dN.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const n=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const n=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let n=e,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case $o.GREYSCALE:case $o.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let n=0;n<e/2;n++)this._transparency[n]=this.readUint16();break}case $o.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let n=0;for(;n<e;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case $o.UNKNOWN:case $o.GREYSCALE_ALPHA:case $o.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const n=OB(this),r=this.readUint8();if(r!==dN.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:q1e(i)}}decodepHYs(){const e=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const n={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=TR({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(e,n,r){switch(e.disposeOp){case vv.NONE:break;case vv.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const o=(i*e.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[o+c]=0}break;case vv.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,n){const r=1<<this._png.depth,i=(a,o)=>{const c=((a+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,d=(a*n.width+o)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case fN.SOURCE:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:d}=i(a,o);for(let h=0;h<this._png.channels;h++)e.data[c+h]=n.data[d+h]}break;case fN.OVER:for(let a=0;a<n.height;a++)for(let o=0;o<n.width;o++){const{index:c,frameIndex:d}=i(a,o);for(let h=0;h<this._png.channels;h++){const f=n.data[d+this._png.channels-1]/r,p=h%(this._png.channels-1)===0?1:n.data[d+h],x=Math.floor(f*p+(1-f)*e.data[c+h]);e.data[c+h]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==IR.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===hN.NO_INTERLACE)this._png.data=TR({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===hN.ADAM7)this._png.data=Z1e({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,n=this._frames.at(-1);n?n.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:vv.NONE,blendOp:fN.SOURCE,data:e}),this._inflator=new AR,this._writingDataChunks=!1}}function fbe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var PR;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(PR||(PR={}));function mbe(t,e){return new hbe(t,e).decode()}var hn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function mN(){hn.console&&typeof hn.console.log=="function"&&hn.console.log.apply(hn.console,arguments)}var Rr={log:mN,warn:function(t){hn.console&&(typeof hn.console.warn=="function"?hn.console.warn.apply(hn.console,arguments):mN.call(null,arguments))},error:function(t){hn.console&&(typeof hn.console.error=="function"?hn.console.error.apply(hn.console,arguments):mN(t))}};function pN(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){_f(r.response,e,n)},r.onerror=function(){Rr.error("could not download file")},r.send()}function RR(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function bv(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var _f=hn.saveAs||((typeof window>"u"?"undefined":br(window))!=="object"||window!==hn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=hn.URL||hn.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?RR(i.href)?pN(t,e,n):bv(i,i.target="_blank"):bv(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){bv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(RR(t))pN(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){bv(r)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:br(a)!=="object"&&(Rr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return pN(t,e,n);var i=t.type==="application/octet-stream",a=/constructor/i.test(hn.HTMLElement)||hn.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a)&&(typeof FileReader>"u"?"undefined":br(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},c.readAsDataURL(t)}else{var d=hn.URL||hn.webkitURL,h=d.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function DB(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,a=n[r].process,o=i.exec(t);o&&(e=a(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+c+d+h}}var qv=hn.atob.bind(hn),OR=hn.btoa.bind(hn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function gN(t,e){var n=t[0],r=t[1],i=t[2],a=t[3];n=gs(n,r,i,a,e[0],7,-680876936),a=gs(a,n,r,i,e[1],12,-389564586),i=gs(i,a,n,r,e[2],17,606105819),r=gs(r,i,a,n,e[3],22,-1044525330),n=gs(n,r,i,a,e[4],7,-176418897),a=gs(a,n,r,i,e[5],12,1200080426),i=gs(i,a,n,r,e[6],17,-1473231341),r=gs(r,i,a,n,e[7],22,-45705983),n=gs(n,r,i,a,e[8],7,1770035416),a=gs(a,n,r,i,e[9],12,-1958414417),i=gs(i,a,n,r,e[10],17,-42063),r=gs(r,i,a,n,e[11],22,-1990404162),n=gs(n,r,i,a,e[12],7,1804603682),a=gs(a,n,r,i,e[13],12,-40341101),i=gs(i,a,n,r,e[14],17,-1502002290),n=ys(n,r=gs(r,i,a,n,e[15],22,1236535329),i,a,e[1],5,-165796510),a=ys(a,n,r,i,e[6],9,-1069501632),i=ys(i,a,n,r,e[11],14,643717713),r=ys(r,i,a,n,e[0],20,-373897302),n=ys(n,r,i,a,e[5],5,-701558691),a=ys(a,n,r,i,e[10],9,38016083),i=ys(i,a,n,r,e[15],14,-660478335),r=ys(r,i,a,n,e[4],20,-405537848),n=ys(n,r,i,a,e[9],5,568446438),a=ys(a,n,r,i,e[14],9,-1019803690),i=ys(i,a,n,r,e[3],14,-187363961),r=ys(r,i,a,n,e[8],20,1163531501),n=ys(n,r,i,a,e[13],5,-1444681467),a=ys(a,n,r,i,e[2],9,-51403784),i=ys(i,a,n,r,e[7],14,1735328473),n=xs(n,r=ys(r,i,a,n,e[12],20,-1926607734),i,a,e[5],4,-378558),a=xs(a,n,r,i,e[8],11,-2022574463),i=xs(i,a,n,r,e[11],16,1839030562),r=xs(r,i,a,n,e[14],23,-35309556),n=xs(n,r,i,a,e[1],4,-1530992060),a=xs(a,n,r,i,e[4],11,1272893353),i=xs(i,a,n,r,e[7],16,-155497632),r=xs(r,i,a,n,e[10],23,-1094730640),n=xs(n,r,i,a,e[13],4,681279174),a=xs(a,n,r,i,e[0],11,-358537222),i=xs(i,a,n,r,e[3],16,-722521979),r=xs(r,i,a,n,e[6],23,76029189),n=xs(n,r,i,a,e[9],4,-640364487),a=xs(a,n,r,i,e[12],11,-421815835),i=xs(i,a,n,r,e[15],16,530742520),n=vs(n,r=xs(r,i,a,n,e[2],23,-995338651),i,a,e[0],6,-198630844),a=vs(a,n,r,i,e[7],10,1126891415),i=vs(i,a,n,r,e[14],15,-1416354905),r=vs(r,i,a,n,e[5],21,-57434055),n=vs(n,r,i,a,e[12],6,1700485571),a=vs(a,n,r,i,e[3],10,-1894986606),i=vs(i,a,n,r,e[10],15,-1051523),r=vs(r,i,a,n,e[1],21,-2054922799),n=vs(n,r,i,a,e[8],6,1873313359),a=vs(a,n,r,i,e[15],10,-30611744),i=vs(i,a,n,r,e[6],15,-1560198380),r=vs(r,i,a,n,e[13],21,1309151649),n=vs(n,r,i,a,e[4],6,-145523070),a=vs(a,n,r,i,e[11],10,-1120210379),i=vs(i,a,n,r,e[2],15,718787259),r=vs(r,i,a,n,e[9],21,-343485551),t[0]=Eh(n,t[0]),t[1]=Eh(r,t[1]),t[2]=Eh(i,t[2]),t[3]=Eh(a,t[3])}function E2(t,e,n,r,i,a){return e=Eh(Eh(e,t),Eh(r,a)),Eh(e<<i|e>>>32-i,n)}function gs(t,e,n,r,i,a,o){return E2(e&n|~e&r,t,e,i,a,o)}function ys(t,e,n,r,i,a,o){return E2(e&r|n&~r,t,e,i,a,o)}function xs(t,e,n,r,i,a,o){return E2(e^n^r,t,e,i,a,o)}function vs(t,e,n,r,i,a,o){return E2(n^(e|~r),t,e,i,a,o)}function LB(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)gN(r,pbe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(gN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,gN(r,i),r}function pbe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var DR="0123456789abcdef".split("");function gbe(t){for(var e="",n=0;n<4;n++)e+=DR[t>>8*n+4&15]+DR[t>>8*n&15];return e}function ybe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function nS(t){return LB(t).map(ybe).join("")}var xbe=(function(t){for(var e=0;e<t.length;e++)t[e]=gbe(t[e]);return t.join("")})(LB("hello"))!="5d41402abc4b2a76b9719d911017c592";function Eh(t,e){if(xbe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function rS(t,e){var n,r,i,a;if(t!==n){for(var o=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),c=[],d=0;d<256;d++)c[d]=d;var h=0;for(d=0;d<256;d++){var f=c[d];h=(h+f+o.charCodeAt(d))%256,c[d]=c[h],c[h]=f}n=t,r=c}else c=r;var p=e.length,x=0,g=0,b="";for(d=0;d<p;d++)g=(g+(f=c[x=(x+1)%256]))%256,c[x]=c[g],c[g]=f,o=c[(c[x]+c[g])%256],b+=String.fromCharCode(e.charCodeAt(d)^o);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var LR={print:4,modify:8,copy:16,"annot-forms":32};function cp(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(c){if(LR.perm!==void 0)throw new Error("Invalid permission: "+c);i+=LR[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,o),this.P=-(1+(255^i)),this.encryptionKey=nS(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=rS(this.encryptionKey,this.padding)}function up(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[r]}return e}function MR(t){if(br(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[r,!!i],a},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[n]){var o=e[n][a];try{o[0].apply(t,r)}catch(c){hn.console&&Rr.error("jsPDF PubSub Error",c.message,c)}o[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function cb(t){if(!(this instanceof cb))return new cb(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function MB(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Nf(t,e,n,r,i){if(!(this instanceof Nf))return new Nf(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,MB.call(this,r,i)}function fp(t,e,n,r,i){if(!(this instanceof fp))return new fp(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,MB.call(this,r,i)}function Kt(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],o=[],c=1,d=16,h="S",f=null;br(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,a=t.compress||t.compressPdf||a,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(a===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=MR;var b="1.3",v=g.__private__.getPdfVersion=function(){return b};g.__private__.setPdfVersion=function(R){b=R};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return w};var j=g.__private__.getPageFormat=function(R){return w[R]};i=i||"a4";var E="compat",T="advanced",D=E;function M(){this.saveGraphicsState(),ae(new jt(Ze,0,0,-Ze,0,Ms()*Ze).toString()+" cm"),this.setFontSize(this.getFontSize()/Ze),h="n",D=T}function J(){this.restoreGraphicsState(),h="S",D=E}var F=g.__private__.combineFontStyleAndFontWeight=function(R,ne){if(R=="bold"&&ne=="normal"||R=="bold"&&ne==400||R=="normal"&&ne=="italic"||R=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(R=ne==400||ne==="normal"?R==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||R!=="normal"?(ne==700?"bold":ne)+""+R:"bold"),R};g.advancedAPI=function(R){var ne=D===E;return ne&&M.call(this),typeof R!="function"||(R(this),ne&&J.call(this)),this},g.compatAPI=function(R){var ne=D===T;return ne&&J.call(this),typeof R!="function"||(R(this),ne&&M.call(this)),this},g.isAdvancedAPI=function(){return D===T};var z,L=function(R){if(D!==T)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},H=g.roundToPrecision=g.__private__.roundToPrecision=function(R,ne){var Ne=e||ne;if(isNaN(R)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return R.toFixed(Ne).replace(/0+$/,"")};z=g.hpf=g.__private__.hpf=typeof d=="number"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return H(R,d)}:d==="smart"?function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return H(R,R>-1&&R<1?16:5)}:function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.hpf");return H(R,16)};var P=g.f2=g.__private__.f2=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f2");return H(R,2)},I=g.__private__.f3=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.f3");return H(R,3)},U=g.scale=g.__private__.scale=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.scale");return D===E?R*Ze:D===T?R:void 0},k=function(R){return U((function(ne){return D===E?Ms()-ne:D===T?ne:void 0})(R))};g.__private__.setPrecision=g.setPrecision=function(R){typeof parseInt(R,10)=="number"&&(e=parseInt(R,10))};var le,G="00000000000000000000000000000000",W=g.__private__.getFileId=function(){return G},ie=g.__private__.setFileId=function(R){return G=R!==void 0&&/^[a-fA-F0-9]{32}$/.test(R)?R.toUpperCase():G.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(fr=new cp(f.userPermissions,f.userPassword,f.ownerPassword,G)),G};g.setFileId=function(R){return ie(R),this},g.getFileId=function(){return W()};var se=g.__private__.convertDateToPDFDate=function(R){var ne=R.getTimezoneOffset(),Ne=ne<0?"+":"-",Ce=Math.floor(Math.abs(ne/60)),ze=Math.abs(ne%60),nt=[Ne,te(Ce),"'",te(ze),"'"].join("");return["D:",R.getFullYear(),te(R.getMonth()+1),te(R.getDate()),te(R.getHours()),te(R.getMinutes()),te(R.getSeconds()),nt].join("")},Se=g.__private__.convertPDFDateToDate=function(R){var ne=parseInt(R.substr(2,4),10),Ne=parseInt(R.substr(6,2),10)-1,Ce=parseInt(R.substr(8,2),10),ze=parseInt(R.substr(10,2),10),nt=parseInt(R.substr(12,2),10),gt=parseInt(R.substr(14,2),10);return new Date(ne,Ne,Ce,ze,nt,gt,0)},X=g.__private__.setCreationDate=function(R){var ne;if(R===void 0&&(R=new Date),R instanceof Date)ne=se(R);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(R))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=R}return le=ne},O=g.__private__.getCreationDate=function(R){var ne=le;return R==="jsDate"&&(ne=Se(le)),ne};g.setCreationDate=function(R){return X(R),this},g.getCreationDate=function(R){return O(R)};var K,te=g.__private__.padd2=function(R){return("0"+parseInt(R)).slice(-2)},ee=g.__private__.padd2Hex=function(R){return("00"+(R=R.toString())).substr(R.length)},xe=0,be=[],oe=[],fe=0,Ee=[],Be=[],Pe=!1,ct=oe;g.__private__.setCustomOutputDestination=function(R){Pe=!0,ct=R};var q=function(R){Pe||(ct=R)};g.__private__.resetCustomOutputDestination=function(){Pe=!1,ct=oe};var ae=g.__private__.out=function(R){return R=R.toString(),fe+=R.length+1,ct.push(R),ct},ke=g.__private__.write=function(R){return ae(arguments.length===1?R.toString():Array.prototype.join.call(arguments," "))},ye=g.__private__.getArrayBuffer=function(R){for(var ne=R.length,Ne=new ArrayBuffer(ne),Ce=new Uint8Array(Ne);ne--;)Ce[ne]=R.charCodeAt(ne);return Ne},he=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return he};var ve=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(R){return ve=D===T?R/Ze:R,this};var De,Le=g.__private__.getFontSize=g.getFontSize=function(){return D===E?ve:ve*Ze},Ie=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(R){return Ie=R,this},g.__private__.getR2L=g.getR2L=function(){return Ie};var Ke,at=g.__private__.setZoomMode=function(R){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(R))De=R;else if(isNaN(R)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(R)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+R+'" is not recognized.');De=R}else De=parseInt(R,10)};g.__private__.getZoomMode=function(){return De};var Xe,ht=g.__private__.setPageMode=function(R){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(R)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+R+'" is not recognized.');Ke=R};g.__private__.getPageMode=function(){return Ke};var Tt=g.__private__.setLayoutMode=function(R){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(R)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+R+'" is not recognized.');Xe=R};g.__private__.getLayoutMode=function(){return Xe},g.__private__.setDisplayMode=g.setDisplayMode=function(R,ne,Ne){return at(R),Tt(ne),ht(Ne),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(R){if(Object.keys(bt).indexOf(R)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[R]},g.__private__.getDocumentProperties=function(){return bt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(R){for(var ne in bt)bt.hasOwnProperty(ne)&&R[ne]&&(bt[ne]=R[ne]);return this},g.__private__.setDocumentProperty=function(R,ne){if(Object.keys(bt).indexOf(R)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[R]=ne};var _e,Ze,Me,xt,ut,st={},At={},$t=[],Ut={},un={},rn={},On={},Zn=null,Xt=0,Ht=[],bn=new MR(g),Ci=t.hotfixes||[],lt={},_t={},_n=[],jt=function R(ne,Ne,Ce,ze,nt,gt){if(!(this instanceof R))return new R(ne,Ne,Ce,ze,nt,gt);isNaN(ne)&&(ne=1),isNaN(Ne)&&(Ne=0),isNaN(Ce)&&(Ce=0),isNaN(ze)&&(ze=1),isNaN(nt)&&(nt=0),isNaN(gt)&&(gt=0),this._matrix=[ne,Ne,Ce,ze,nt,gt]};Object.defineProperty(jt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(jt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(jt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(jt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(jt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(jt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(jt.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(jt.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(jt.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(jt.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(jt.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(jt.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(jt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(jt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(jt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(jt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),jt.prototype.join=function(R){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(R)},jt.prototype.multiply=function(R){var ne=R.sx*this.sx+R.shy*this.shx,Ne=R.sx*this.shy+R.shy*this.sy,Ce=R.shx*this.sx+R.sy*this.shx,ze=R.shx*this.shy+R.sy*this.sy,nt=R.tx*this.sx+R.ty*this.shx+this.tx,gt=R.tx*this.shy+R.ty*this.sy+this.ty;return new jt(ne,Ne,Ce,ze,nt,gt)},jt.prototype.decompose=function(){var R=this.sx,ne=this.shy,Ne=this.shx,Ce=this.sy,ze=this.tx,nt=this.ty,gt=Math.sqrt(R*R+ne*ne),Rt=(R/=gt)*Ne+(ne/=gt)*Ce;Ne-=R*Rt,Ce-=ne*Rt;var Bt=Math.sqrt(Ne*Ne+Ce*Ce);return Rt/=Bt,R*(Ce/=Bt)<ne*(Ne/=Bt)&&(R=-R,ne=-ne,Rt=-Rt,gt=-gt),{scale:new jt(gt,0,0,Bt,0,0),translate:new jt(1,0,0,1,ze,nt),rotate:new jt(R,ne,-ne,R,0,0),skew:new jt(1,0,Rt,1,0,0)}},jt.prototype.toString=function(R){return this.join(" ")},jt.prototype.inversed=function(){var R=this.sx,ne=this.shy,Ne=this.shx,Ce=this.sy,ze=this.tx,nt=this.ty,gt=1/(R*Ce-ne*Ne),Rt=Ce*gt,Bt=-ne*gt,Jt=-Ne*gt,Yt=R*gt;return new jt(Rt,Bt,Jt,Yt,-Rt*ze-Jt*nt,-Bt*ze-Yt*nt)},jt.prototype.applyToPoint=function(R){var ne=R.x*this.sx+R.y*this.shx+this.tx,Ne=R.x*this.shy+R.y*this.sy+this.ty;return new _a(ne,Ne)},jt.prototype.applyToRectangle=function(R){var ne=this.applyToPoint(R),Ne=this.applyToPoint(new _a(R.x+R.w,R.y+R.h));return new ro(ne.x,ne.y,Ne.x-ne.x,Ne.y-ne.y)},jt.prototype.clone=function(){var R=this.sx,ne=this.shy,Ne=this.shx,Ce=this.sy,ze=this.tx,nt=this.ty;return new jt(R,ne,Ne,Ce,ze,nt)},g.Matrix=jt;var ai=g.matrixMult=function(R,ne){return ne.multiply(R)},Zi=new jt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Zi;var Ti=function(R,ne){if(!un[R]){var Ne=(ne instanceof Nf?"Sh":"P")+(Object.keys(Ut).length+1).toString(10);ne.id=Ne,un[R]=Ne,Ut[Ne]=ne,bn.publish("addPattern",ne)}};g.ShadingPattern=Nf,g.TilingPattern=fp,g.addShadingPattern=function(R,ne){return L("addShadingPattern()"),Ti(R,ne),this},g.beginTilingPattern=function(R){L("beginTilingPattern()"),io(R.boundingBox[0],R.boundingBox[1],R.boundingBox[2]-R.boundingBox[0],R.boundingBox[3]-R.boundingBox[1],R.matrix)},g.endTilingPattern=function(R,ne){L("endTilingPattern()"),ne.stream=Be[K].join(`
`),Ti(R,ne),bn.publish("endTilingPattern",ne),_n.pop().restore()};var Ji,Jn=g.__private__.newObject=function(){var R=wr();return gi(R,!0),R},wr=g.__private__.newObjectDeferred=function(){return xe++,be[xe]=function(){return fe},xe},gi=function(R,ne){return ne=typeof ne=="boolean"&&ne,be[R]=fe,ne&&ae(R+" 0 obj"),R},Qi=g.__private__.newAdditionalObject=function(){var R={objId:wr(),content:""};return Ee.push(R),R},Fi=wr(),Qn=wr(),hr=g.__private__.decodeColorString=function(R){var ne=R.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length!==5||ne[4]!=="k"&&ne[4]!=="K"||(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Ne=parseFloat(ne[0]);ne=[Ne,Ne,Ne,"r"]}for(var Ce="#",ze=0;ze<3;ze++)Ce+=("0"+Math.floor(255*parseFloat(ne[ze])).toString(16)).slice(-2);return Ce},yi=g.__private__.encodeColorString=function(R){var ne;typeof R=="string"&&(R={ch1:R});var Ne=R.ch1,Ce=R.ch2,ze=R.ch3,nt=R.ch4,gt=R.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var Rt=new DB(Ne);if(Rt.ok)Ne=Rt.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var Bt=parseInt(Ne.substr(1),16);Ne=Bt>>16&255,Ce=Bt>>8&255,ze=255&Bt}if(Ce===void 0||nt===void 0&&Ne===Ce&&Ce===ze)ne=typeof Ne=="string"?Ne+" "+gt[0]:R.precision===2?P(Ne/255)+" "+gt[0]:I(Ne/255)+" "+gt[0];else if(nt===void 0||br(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return["1.","1.","1.",gt[1]].join(" ");ne=typeof Ne=="string"?[Ne,Ce,ze,gt[1]].join(" "):R.precision===2?[P(Ne/255),P(Ce/255),P(ze/255),gt[1]].join(" "):[I(Ne/255),I(Ce/255),I(ze/255),gt[1]].join(" ")}else ne=typeof Ne=="string"?[Ne,Ce,ze,nt,gt[2]].join(" "):R.precision===2?[P(Ne),P(Ce),P(ze),P(nt),gt[2]].join(" "):[I(Ne),I(Ce),I(ze),I(nt),gt[2]].join(" ");return ne},ya=g.__private__.getFilters=function(){return o},ls=g.__private__.putStream=function(R){var ne=(R=R||{}).data||"",Ne=R.filters||ya(),Ce=R.alreadyAppliedFilters||[],ze=R.addLength1||!1,nt=ne.length,gt=R.objectId,Rt=function($){return $};if(f!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Rt=fr.encryptor(gt,0));var Bt={};Ne===!0&&(Ne=["FlateEncode"]);var Jt=R.additionalKeyValues||[],Yt=(Bt=Kt.API.processDataByFilters!==void 0?Kt.API.processDataByFilters(ne,Ne):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(Bt.data.length!==0&&(Jt.push({key:"Length",value:Bt.data.length}),ze===!0&&Jt.push({key:"Length1",value:nt})),Yt.length!=0)if(Yt.split("/").length-1==1)Jt.push({key:"Filter",value:Yt});else{Jt.push({key:"Filter",value:"["+Yt+"]"});for(var Dn=0;Dn<Jt.length;Dn+=1)if(Jt[Dn].key==="DecodeParms"){for(var _r=[],lr=0;lr<Bt.reverseChain.split("/").length-1;lr+=1)_r.push("null");_r.push(Jt[Dn].value),Jt[Dn].value="["+_r.join(" ")+"]"}}ae("<<");for(var N=0;N<Jt.length;N++)ae("/"+Jt[N].key+" "+Jt[N].value);ae(">>"),Bt.data.length!==0&&(ae("stream"),ae(Rt(Bt.data)),ae("endstream"))},sl=g.__private__.putPage=function(R){var ne=R.number,Ne=R.data,Ce=R.objId,ze=R.contentsObjId;gi(Ce,!0),ae("<</Type /Page"),ae("/Parent "+R.rootDictionaryObjId+" 0 R"),ae("/Resources "+R.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(z(R.mediaBox.bottomLeftX))+" "+parseFloat(z(R.mediaBox.bottomLeftY))+" "+z(R.mediaBox.topRightX)+" "+z(R.mediaBox.topRightY)+"]"),R.cropBox!==null&&ae("/CropBox ["+z(R.cropBox.bottomLeftX)+" "+z(R.cropBox.bottomLeftY)+" "+z(R.cropBox.topRightX)+" "+z(R.cropBox.topRightY)+"]"),R.bleedBox!==null&&ae("/BleedBox ["+z(R.bleedBox.bottomLeftX)+" "+z(R.bleedBox.bottomLeftY)+" "+z(R.bleedBox.topRightX)+" "+z(R.bleedBox.topRightY)+"]"),R.trimBox!==null&&ae("/TrimBox ["+z(R.trimBox.bottomLeftX)+" "+z(R.trimBox.bottomLeftY)+" "+z(R.trimBox.topRightX)+" "+z(R.trimBox.topRightY)+"]"),R.artBox!==null&&ae("/ArtBox ["+z(R.artBox.bottomLeftX)+" "+z(R.artBox.bottomLeftY)+" "+z(R.artBox.topRightX)+" "+z(R.artBox.topRightY)+"]"),typeof R.userUnit=="number"&&R.userUnit!==1&&ae("/UserUnit "+R.userUnit),bn.publish("putPage",{objId:Ce,pageContext:Ht[ne],pageNumber:ne,page:Ne}),ae("/Contents "+ze+" 0 R"),ae(">>"),ae("endobj");var nt=Ne.join(`
`);return D===T&&(nt+=`
Q`),gi(ze,!0),ls({data:nt,filters:ya(),objectId:ze}),ae("endobj"),Ce},Ts=g.__private__.putPages=function(){var R,ne,Ne=[];for(R=1;R<=Xt;R++)Ht[R].objId=wr(),Ht[R].contentsObjId=wr();for(R=1;R<=Xt;R++)Ne.push(sl({number:R,data:Be[R],objId:Ht[R].objId,contentsObjId:Ht[R].contentsObjId,mediaBox:Ht[R].mediaBox,cropBox:Ht[R].cropBox,bleedBox:Ht[R].bleedBox,trimBox:Ht[R].trimBox,artBox:Ht[R].artBox,userUnit:Ht[R].userUnit,rootDictionaryObjId:Fi,resourceDictionaryObjId:Qn}));gi(Fi,!0),ae("<</Type /Pages");var Ce="/Kids [";for(ne=0;ne<Xt;ne++)Ce+=Ne[ne]+" 0 R ";ae(Ce+"]"),ae("/Count "+Xt),ae(">>"),ae("endobj"),bn.publish("postPutPages")},xa=function(R){bn.publish("putFont",{font:R,out:ae,newObject:Jn,putStream:ls}),R.isAlreadyPutted!==!0&&(R.objectNumber=Jn(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+up(R.postScriptName)),ae("/Subtype /Type1"),typeof R.encoding=="string"&&ae("/Encoding /"+R.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},Io=function(R){R.objectNumber=Jn();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[z(R.x),z(R.y),z(R.x+R.width),z(R.y+R.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var Ne=R.pages[1].join(`
`);ls({data:Ne,additionalKeyValues:ne,objectId:R.objectNumber}),ae("endobj")},Fa=function(R,ne){ne||(ne=21);var Ne=Jn(),Ce=(function(gt,Rt){var Bt,Jt=[],Yt=1/(Rt-1);for(Bt=0;Bt<1;Bt+=Yt)Jt.push(Bt);if(Jt.push(1),gt[0].offset!=0){var Dn={offset:0,color:gt[0].color};gt.unshift(Dn)}if(gt[gt.length-1].offset!=1){var _r={offset:1,color:gt[gt.length-1].color};gt.push(_r)}for(var lr="",N=0,$=0;$<Jt.length;$++){for(Bt=Jt[$];Bt>gt[N+1].offset;)N++;var Q=gt[N].offset,pe=(Bt-Q)/(gt[N+1].offset-Q),Ue=gt[N].color,We=gt[N+1].color;lr+=ee(Math.round((1-pe)*Ue[0]+pe*We[0]).toString(16))+ee(Math.round((1-pe)*Ue[1]+pe*We[1]).toString(16))+ee(Math.round((1-pe)*Ue[2]+pe*We[2]).toString(16))}return lr.trim()})(R.colors,ne),ze=[];ze.push({key:"FunctionType",value:"0"}),ze.push({key:"Domain",value:"[0.0 1.0]"}),ze.push({key:"Size",value:"["+ne+"]"}),ze.push({key:"BitsPerSample",value:"8"}),ze.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ze.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ls({data:Ce,additionalKeyValues:ze,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),ae("endobj"),R.objectNumber=Jn(),ae("<< /ShadingType "+R.type),ae("/ColorSpace /DeviceRGB");var nt="/Coords ["+z(parseFloat(R.coords[0]))+" "+z(parseFloat(R.coords[1]))+" ";R.type===2?nt+=z(parseFloat(R.coords[2]))+" "+z(parseFloat(R.coords[3])):nt+=z(parseFloat(R.coords[2]))+" "+z(parseFloat(R.coords[3]))+" "+z(parseFloat(R.coords[4]))+" "+z(parseFloat(R.coords[5])),ae(nt+="]"),R.matrix&&ae("/Matrix ["+R.matrix.toString()+"]"),ae("/Function "+Ne+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},ea=function(R,ne){var Ne=wr(),Ce=Jn();ne.push({resourcesOid:Ne,objectOid:Ce}),R.objectNumber=Ce;var ze=[];ze.push({key:"Type",value:"/Pattern"}),ze.push({key:"PatternType",value:"1"}),ze.push({key:"PaintType",value:"1"}),ze.push({key:"TilingType",value:"1"}),ze.push({key:"BBox",value:"["+R.boundingBox.map(z).join(" ")+"]"}),ze.push({key:"XStep",value:z(R.xStep)}),ze.push({key:"YStep",value:z(R.yStep)}),ze.push({key:"Resources",value:Ne+" 0 R"}),R.matrix&&ze.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),ls({data:R.stream,additionalKeyValues:ze,objectId:R.objectNumber}),ae("endobj")},Ua=function(R){for(var ne in R.objectNumber=Jn(),ae("<<"),R)switch(ne){case"opacity":ae("/ca "+P(R[ne]));break;case"stroke-opacity":ae("/CA "+P(R[ne]))}ae(">>"),ae("endobj")},cs=function(R){gi(R.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var ne in ae("/Font <<"),st)st.hasOwnProperty(ne)&&(p===!1||p===!0&&x.hasOwnProperty(ne))&&ae("/"+ne+" "+st[ne].objectNumber+" 0 R");ae(">>")})(),(function(){if(Object.keys(Ut).length>0){for(var ne in ae("/Shading <<"),Ut)Ut.hasOwnProperty(ne)&&Ut[ne]instanceof Nf&&Ut[ne].objectNumber>=0&&ae("/"+ne+" "+Ut[ne].objectNumber+" 0 R");bn.publish("putShadingPatternDict"),ae(">>")}})(),(function(ne){if(Object.keys(Ut).length>0){for(var Ne in ae("/Pattern <<"),Ut)Ut.hasOwnProperty(Ne)&&Ut[Ne]instanceof g.TilingPattern&&Ut[Ne].objectNumber>=0&&Ut[Ne].objectNumber<ne&&ae("/"+Ne+" "+Ut[Ne].objectNumber+" 0 R");bn.publish("putTilingPatternDict"),ae(">>")}})(R.objectOid),(function(){if(Object.keys(rn).length>0){var ne;for(ne in ae("/ExtGState <<"),rn)rn.hasOwnProperty(ne)&&rn[ne].objectNumber>=0&&ae("/"+ne+" "+rn[ne].objectNumber+" 0 R");bn.publish("putGStateDict"),ae(">>")}})(),(function(){for(var ne in ae("/XObject <<"),lt)lt.hasOwnProperty(ne)&&lt[ne].objectNumber>=0&&ae("/"+ne+" "+lt[ne].objectNumber+" 0 R");bn.publish("putXobjectDict"),ae(">>")})(),ae(">>"),ae("endobj")},zr=function(R){At[R.fontName]=At[R.fontName]||{},At[R.fontName][R.fontStyle]=R.id},Tc=function(R,ne,Ne,Ce,ze){var nt={id:"F"+(Object.keys(st).length+1).toString(10),postScriptName:R,fontName:ne,fontStyle:Ne,encoding:Ce,isStandardFont:ze||!1,metadata:{}};return bn.publish("addFont",{font:nt,instance:this}),st[nt.id]=nt,zr(nt),nt.id},va=g.__private__.pdfEscape=g.pdfEscape=function(R,ne){return(function(Ne,Ce){var ze,nt,gt,Rt,Bt,Jt,Yt,Dn,_r;if(gt=(Ce=Ce||{}).sourceEncoding||"Unicode",Bt=Ce.outputEncoding,(Ce.autoencode||Bt)&&st[_e].metadata&&st[_e].metadata[gt]&&st[_e].metadata[gt].encoding&&(Rt=st[_e].metadata[gt].encoding,!Bt&&st[_e].encoding&&(Bt=st[_e].encoding),!Bt&&Rt.codePages&&(Bt=Rt.codePages[0]),typeof Bt=="string"&&(Bt=Rt[Bt]),Bt)){for(Yt=!1,Jt=[],ze=0,nt=Ne.length;ze<nt;ze++)(Dn=Bt[Ne.charCodeAt(ze)])?Jt.push(String.fromCharCode(Dn)):Jt.push(Ne[ze]),Jt[ze].charCodeAt(0)>>8&&(Yt=!0);Ne=Jt.join("")}for(ze=Ne.length;Yt===void 0&&ze!==0;)Ne.charCodeAt(ze-1)>>8&&(Yt=!0),ze--;if(!Yt)return Ne;for(Jt=Ce.noBOM?[]:[254,255],ze=0,nt=Ne.length;ze<nt;ze++){if((_r=(Dn=Ne.charCodeAt(ze))>>8)>>8)throw new Error("Character at position "+ze+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Jt.push(_r),Jt.push(Dn-(_r<<8))}return String.fromCharCode.apply(void 0,Jt)})(R,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},us=g.__private__.beginPage=function(R){Be[++Xt]=[],Ht[Xt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(R[0]),topRightY:Number(R[1])}},kc(Xt),q(Be[K])},ks=function(R,ne){var Ne,Ce,ze;switch(n=ne||n,typeof R=="string"&&(Ne=j(R.toLowerCase()),Array.isArray(Ne)&&(Ce=Ne[0],ze=Ne[1])),Array.isArray(R)&&(Ce=R[0]*Ze,ze=R[1]*Ze),isNaN(Ce)&&(Ce=i[0],ze=i[1]),(Ce>14400||ze>14400)&&(Rr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),ze=Math.min(14400,ze)),i=[Ce,ze],n.substr(0,1)){case"l":ze>Ce&&(i=[ze,Ce]);break;case"p":Ce>ze&&(i=[ze,Ce])}us(i),to(wa),ae(Va),qa!==0&&ae(qa+" J"),li!==0&&ae(li+" j"),bn.publish("addPage",{pageNumber:Xt})},$l=function(R){R>0&&R<=Xt&&(Be.splice(R,1),Ht.splice(R,1),Xt--,K>Xt&&(K=Xt),this.setPage(K))},kc=function(R){R>0&&R<=Xt&&(K=R)},Ic=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Be.length-1},Su=function(R,ne,Ne){var Ce,ze=void 0;return Ne=Ne||{},R=R!==void 0?R:st[_e].fontName,ne=ne!==void 0?ne:st[_e].fontStyle,Ce=R.toLowerCase(),At[Ce]!==void 0&&At[Ce][ne]!==void 0?ze=At[Ce][ne]:At[R]!==void 0&&At[R][ne]!==void 0?ze=At[R][ne]:Ne.disableWarning===!1&&Rr.warn("Unable to look up font label for font '"+R+"', '"+ne+"'. Refer to getFontList() for available fonts."),ze||Ne.noFallback||(ze=At.times[ne])==null&&(ze=At.times.normal),ze},Po=g.__private__.putInfo=function(){var R=Jn(),ne=function(Ce){return Ce};for(var Ne in f!==null&&(ne=fr.encryptor(R,0)),ae("<<"),ae("/Producer ("+va(ne("jsPDF "+Kt.version))+")"),bt)bt.hasOwnProperty(Ne)&&bt[Ne]&&ae("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+va(ne(bt[Ne]))+")");ae("/CreationDate ("+va(ne(le))+")"),ae(">>"),ae("endobj")},Ba=g.__private__.putCatalog=function(R){var ne=(R=R||{}).rootDictionaryObjId||Fi;switch(Jn(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+ne+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+De;Ne.substr(Ne.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+P(De)+"]")}switch(Xe||(Xe="continuous"),Xe){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Ke&&ae("/PageMode /"+Ke),bn.publish("putCatalog"),ae(">>"),ae("endobj")},Nn=g.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(xe+1)),ae("/Root "+xe+" 0 R"),ae("/Info "+(xe-1)+" 0 R"),f!==null&&ae("/Encrypt "+fr.oid+" 0 R"),ae("/ID [ <"+G+"> <"+G+"> ]"),ae(">>")},si=g.__private__.putHeader=function(){ae("%PDF-"+b),ae("%")},Ro=g.__private__.putXRef=function(){var R="0000000000";ae("xref"),ae("0 "+(xe+1)),ae("0000000000 65535 f ");for(var ne=1;ne<=xe;ne++)typeof be[ne]=="function"?ae((R+be[ne]()).slice(-10)+" 00000 n "):be[ne]!==void 0?ae((R+be[ne]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Is=g.__private__.buildDocument=function(){var R;xe=0,fe=0,oe=[],be=[],Ee=[],Fi=wr(),Qn=wr(),q(oe),bn.publish("buildDocument"),si(),Ts(),(function(){bn.publish("putAdditionalObjects");for(var Ne=0;Ne<Ee.length;Ne++){var Ce=Ee[Ne];gi(Ce.objId,!0),ae(Ce.content),ae("endobj")}bn.publish("postPutAdditionalObjects")})(),R=[],(function(){for(var Ne in st)st.hasOwnProperty(Ne)&&(p===!1||p===!0&&x.hasOwnProperty(Ne))&&xa(st[Ne])})(),(function(){var Ne;for(Ne in rn)rn.hasOwnProperty(Ne)&&Ua(rn[Ne])})(),(function(){for(var Ne in lt)lt.hasOwnProperty(Ne)&&Io(lt[Ne])})(),(function(Ne){var Ce;for(Ce in Ut)Ut.hasOwnProperty(Ce)&&(Ut[Ce]instanceof Nf?Fa(Ut[Ce]):Ut[Ce]instanceof fp&&ea(Ut[Ce],Ne))})(R),bn.publish("putResources"),R.forEach(cs),cs({resourcesOid:Qn,objectOid:Number.MAX_SAFE_INTEGER}),bn.publish("postPutResources"),f!==null&&(fr.oid=Jn(),ae("<<"),ae("/Filter /Standard"),ae("/V "+fr.v),ae("/R "+fr.r),ae("/U <"+fr.toHexString(fr.U)+">"),ae("/O <"+fr.toHexString(fr.O)+">"),ae("/P "+fr.P),ae(">>"),ae("endobj")),Po(),Ba();var ne=fe;return Ro(),Nn(),ae("startxref"),ae(""+ne),ae("%%EOF"),q(Be[K]),oe.join(`
`)},Tn=g.__private__.getBlob=function(R){return new Blob([ye(R)],{type:"application/pdf"})},ta=g.output=g.__private__.output=(Ji=function(R,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",R){case void 0:return Is();case"save":g.save(ne.filename);break;case"arraybuffer":return ye(Is());case"blob":return Tn(Is());case"bloburi":case"bloburl":if(hn.URL!==void 0&&typeof hn.URL.createObjectURL=="function")return hn.URL&&hn.URL.createObjectURL(Tn(Is()))||void 0;Rr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Ce=Is();try{Ne=OR(Ce)}catch{Ne=OR(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(hn)==="[object Window]"){var ze="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(ze=ne.pdfObjectUrl,nt="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ze+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Rt=hn.open();return Rt!==null&&Rt.document.write(gt),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(hn)==="[object Window]"){var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',Jt=hn.open();if(Jt!==null){Jt.document.write(Bt);var Yt=this;Jt.document.documentElement.querySelector("#pdfViewer").onload=function(){Jt.document.title=ne.filename,Jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return Jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(hn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',_r=hn.open();if(_r!==null&&(_r.document.write(Dn),_r.document.title=ne.filename),_r||typeof safari>"u")return _r;break;case"datauri":case"dataurl":return hn.document.location.href=this.output("datauristring",ne);default:return null}},Ji.foo=function(){try{return Ji.apply(this,arguments)}catch(Ne){var R=Ne.stack||"";~R.indexOf(" at ")&&(R=R.split(" at ")[1]);var ne="Error in function "+R.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!hn.console)throw new Error(ne);hn.console.error(ne,Ne),hn.alert&&alert(ne)}},Ji.foo.bar=Ji,Ji.foo),ba=function(R){return Array.isArray(Ci)===!0&&Ci.indexOf(R)>-1};switch(r){case"pt":Ze=1;break;case"mm":Ze=72/25.4;break;case"cm":Ze=72/2.54;break;case"in":Ze=72;break;case"px":Ze=ba("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ze=12;break;case"ex":Ze=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ze=r}var fr=null;X(),ie();var Ui=g.__private__.getPageInfo=g.getPageInfo=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[R].objId,pageNumber:R,pageContext:Ht[R]}},Pc=g.__private__.getPageInfoByObjId=function(R){if(isNaN(R)||R%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Ht)if(Ht[ne].objId===R)break;return Ui(ne)},Ld=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ht[K].objId,pageNumber:K,pageContext:Ht[K]}};g.addPage=function(){return ks.apply(this,arguments),this},g.setPage=function(){return kc.apply(this,arguments),q.call(this,Be[K]),this},g.insertPage=function(R){return this.addPage(),this.movePage(K,R),this},g.movePage=function(R,ne){var Ne,Ce;if(R>ne){Ne=Be[R],Ce=Ht[R];for(var ze=R;ze>ne;ze--)Be[ze]=Be[ze-1],Ht[ze]=Ht[ze-1];Be[ne]=Ne,Ht[ne]=Ce,this.setPage(ne)}else if(R<ne){Ne=Be[R],Ce=Ht[R];for(var nt=R;nt<ne;nt++)Be[nt]=Be[nt+1],Ht[nt]=Ht[nt+1];Be[ne]=Ne,Ht[ne]=Ce,this.setPage(ne)}return this},g.deletePage=function(){return $l.apply(this,arguments),this},g.__private__.text=g.text=function(R,ne,Ne,Ce,ze){var nt,gt,Rt,Bt,Jt,Yt,Dn,_r,lr,N=(Ce=Ce||{}).scope||this;if(typeof R=="number"&&typeof ne=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var $=Ne;Ne=ne,ne=R,R=$}if(arguments[3]instanceof jt==0?(Rt=arguments[4],Bt=arguments[5],br(Dn=arguments[3])==="object"&&Dn!==null||(typeof Rt=="string"&&(Bt=Rt,Rt=null),typeof Dn=="string"&&(Bt=Dn,Dn=null),typeof Dn=="number"&&(Rt=Dn,Dn=null),Ce={flags:Dn,angle:Rt,align:Bt})):(L("The transform parameter of text() with a Matrix value"),lr=ze),isNaN(ne)||isNaN(Ne)||R==null)throw new Error("Invalid arguments passed to jsPDF.text");if(R.length===0)return N;var Q,pe="",Ue=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Do,We=N.internal.scaleFactor;function wt(Yn){return Yn=Yn.split("	").join(Array(Ce.TabLen||9).join(" ")),va(Yn,Dn)}function ln(Yn){for(var Bn,jr=Yn.concat(),ui=[],yl=jr.length;yl--;)typeof(Bn=jr.shift())=="string"?ui.push(Bn):Array.isArray(Yn)&&(Bn.length===1||Bn[1]===void 0&&Bn[2]===void 0)?ui.push(Bn[0]):ui.push([Bn[0],Bn[1],Bn[2]]);return ui}function mr(Yn,Bn){var jr;if(typeof Yn=="string")jr=Bn(Yn)[0];else if(Array.isArray(Yn)){for(var ui,yl,Fo=Yn.concat(),Ru=[],ef=Fo.length;ef--;)typeof(ui=Fo.shift())=="string"?Ru.push(Bn(ui)[0]):Array.isArray(ui)&&typeof ui[0]=="string"&&(yl=Bn(ui[0],ui[1],ui[2]),Ru.push([yl[0],yl[1],yl[2]]));jr=Ru}return jr}var Sn=!1,tr=!0;if(typeof R=="string")Sn=!0;else if(Array.isArray(R)){var Bi=R.concat();gt=[];for(var Na,Nr=Bi.length;Nr--;)(typeof(Na=Bi.shift())!="string"||Array.isArray(Na)&&typeof Na[0]!="string")&&(tr=!1);Sn=tr}if(Sn===!1)throw new Error('Type of text must be string or Array. "'+R+'" is not recognized.');typeof R=="string"&&(R=R.match(/[\r?\n]/)?R.split(/\r\n|\r|\n/g):[R]);var ra=ve/N.internal.scaleFactor,zs=ra*(Ue-1);switch(Ce.baseline){case"bottom":Ne-=zs;break;case"top":Ne+=ra-zs;break;case"hanging":Ne+=ra-2*zs;break;case"middle":Ne+=ra/2-zs}if((Yt=Ce.maxWidth||0)>0&&(typeof R=="string"?R=N.splitTextToSize(R,Yt):Object.prototype.toString.call(R)==="[object Array]"&&(R=R.reduce(function(Yn,Bn){return Yn.concat(N.splitTextToSize(Bn,Yt))},[]))),nt={text:R,x:ne,y:Ne,options:Ce,mutex:{pdfEscape:va,activeFontKey:_e,fonts:st,activeFontSize:ve}},bn.publish("preProcessText",nt),R=nt.text,Rt=(Ce=nt.options).angle,lr instanceof jt==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ce.rotationDirection===0&&(Rt=-Rt),D===T&&(Rt=-Rt);var ul=Math.cos(Rt),dl=Math.sin(Rt);lr=new jt(ul,dl,-dl,ul,0,0)}else Rt&&Rt instanceof jt&&(lr=Rt);D!==T||lr||(lr=Zi),(Jt=Ce.charSpace||no)!==void 0&&(pe+=z(U(Jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(_r=Ce.horizontalScale)!==void 0&&(pe+=z(100*_r)+` Tz
`),Ce.lang;var Kr=-1,Kl=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Md=N.internal.getCurrentPageInfo().pageContext;switch(Kl){case 0:case!1:case"fill":Kr=0;break;case 1:case!0:case"stroke":Kr=1;break;case 2:case"fillThenStroke":Kr=2;break;case 3:case"invisible":Kr=3;break;case 4:case"fillAndAddForClipping":Kr=4;break;case 5:case"strokeAndAddPathForClipping":Kr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Kr=6;break;case 7:case"addToPathForClipping":Kr=7}var Jh=Md.usedRenderingMode!==void 0?Md.usedRenderingMode:-1;Kr!==-1?pe+=Kr+` Tr
`:Jh!==-1&&(pe+=`0 Tr
`),Kr!==-1&&(Md.usedRenderingMode=Kr),Bt=Ce.align||"left";var Fs,Mo=ve*Ue,Xl=N.internal.pageSize.getWidth(),Qh=st[_e];Jt=Ce.charSpace||no,Yt=Ce.maxWidth||0,Dn=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var zo=[],zc=function(Yn){return N.getStringUnitWidth(Yn,{font:Qh,charSpace:Jt,fontSize:ve,doKerning:!1})*ve/We};if(Object.prototype.toString.call(R)==="[object Array]"){var hs;gt=ln(R),Bt!=="left"&&(Fs=gt.map(zc));var Wa,hl=0;if(Bt==="right"){ne-=Fs[0],R=[],Nr=gt.length;for(var fl=0;fl<Nr;fl++)fl===0?(Wa=ki(ne),hs=xi(Ne)):(Wa=U(hl-Fs[fl]),hs=-Mo),R.push([gt[fl],Wa,hs]),hl=Fs[fl]}else if(Bt==="center"){ne-=Fs[0]/2,R=[],Nr=gt.length;for(var Zl=0;Zl<Nr;Zl++)Zl===0?(Wa=ki(ne),hs=xi(Ne)):(Wa=U((hl-Fs[Zl])/2),hs=-Mo),R.push([gt[Zl],Wa,hs]),hl=Fs[Zl]}else if(Bt==="left"){R=[],Nr=gt.length;for(var zd=0;zd<Nr;zd++)R.push(gt[zd])}else if(Bt==="justify"&&Qh.encoding==="Identity-H"){R=[],Nr=gt.length,Yt=Yt!==0?Yt:Xl;for(var Fd=0,ci=0;ci<Nr;ci++)if(hs=ci===0?xi(Ne):-Mo,Wa=ci===0?ki(ne):Fd,ci<Nr-1){var xm=U((Yt-Fs[ci])/(gt[ci].split(" ").length-1)),ml=gt[ci].split(" ");R.push([ml[0]+" ",Wa,hs]),Fd=0;for(var pl=1;pl<ml.length;pl++){var ia=(zc(ml[pl-1]+" "+ml[pl])-zc(ml[pl]))*We+xm;pl==ml.length-1?R.push([ml[pl],ia,0]):R.push([ml[pl]+" ",ia,0]),Fd-=ia}}else R.push([gt[ci],Wa,hs]);R.push(["",Fd,0])}else{if(Bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(R=[],Nr=gt.length,Yt=Yt!==0?Yt:Xl,ci=0;ci<Nr;ci++){hs=ci===0?xi(Ne):-Mo,Wa=ci===0?ki(ne):0;var Jl=gt[ci].split(" ").length-1,Ud=Jl>0?(Yt-Fs[ci])/Jl:0;ci<Nr-1?zo.push(z(U(Ud))):zo.push(0),R.push([gt[ci],Wa,hs])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:Ie)===!0&&(R=mr(R,function(Yn,Bn,jr){return[Yn.split("").reverse().join(""),Bn,jr]})),nt={text:R,x:ne,y:Ne,options:Ce,mutex:{pdfEscape:va,activeFontKey:_e,fonts:st,activeFontSize:ve}},bn.publish("postProcessText",nt),R=nt.text,Q=nt.mutex.isHex||!1;var Bd=st[_e].encoding;Bd!=="WinAnsiEncoding"&&Bd!=="StandardEncoding"||(R=mr(R,function(Yn,Bn,jr){return[wt(Yn),Bn,jr]})),gt=ln(R),R=[];for(var Ql,ec,gl,Pu=Array.isArray(gt[0])?1:0,Us="",tc=function(Yn,Bn,jr){var ui="";return jr instanceof jt?(jr=typeof Ce.angle=="number"?ai(jr,new jt(1,0,0,1,Yn,Bn)):ai(new jt(1,0,0,1,Yn,Bn),jr),D===T&&(jr=ai(new jt(1,0,0,-1,0,0),jr)),ui=jr.join(" ")+` Tm
`):ui=z(Yn)+" "+z(Bn)+` Td
`,ui},ja=0;ja<gt.length;ja++){switch(Us="",Pu){case 1:gl=(Q?"<":"(")+gt[ja][0]+(Q?">":")"),Ql=parseFloat(gt[ja][1]),ec=parseFloat(gt[ja][2]);break;case 0:gl=(Q?"<":"(")+gt[ja]+(Q?">":")"),Ql=ki(ne),ec=xi(Ne)}zo!==void 0&&zo[ja]!==void 0&&(Us=zo[ja]+` Tw
`),ja===0?R.push(Us+tc(Ql,ec,lr)+gl):Pu===0?R.push(Us+gl):Pu===1&&R.push(Us+tc(Ql,ec,lr)+gl)}R=Pu===0?R.join(` Tj
T* `):R.join(` Tj
`),R+=` Tj
`;var so=`BT
/`;return so+=_e+" "+ve+` Tf
`,so+=z(ve*Ue)+` TL
`,so+=Os+`
`,so+=pe,so+=R,ae(so+="ET"),x[_e]=!0,N};var Au=g.__private__.clip=g.clip=function(R){return ae(R==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Au("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ae("n"),this};var na=g.__private__.isValidStyle=function(R){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(R)!==-1&&(ne=!0),ne};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(R){return na(R)&&(h=R),this};var Eu=g.__private__.getStyle=g.getStyle=function(R){var ne=h;switch(R){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=R}return ne},Oo=g.close=function(){return ae("h"),this};g.stroke=function(){return ae("S"),this},g.fill=function(R){return oi("f",R),this},g.fillEvenOdd=function(R){return oi("f*",R),this},g.fillStroke=function(R){return oi("B",R),this},g.fillStrokeEvenOdd=function(R){return oi("B*",R),this};var oi=function(R,ne){br(ne)==="object"?Tu(ne,R):ae(R)},Rc=function(R){R===null||D===T&&R===void 0||(R=Eu(R),ae(R))};function Cu(R,ne,Ne,Ce,ze){var nt=new fp(ne||this.boundingBox,Ne||this.xStep,Ce||this.yStep,this.gState,ze||this.matrix);nt.stream=this.stream;var gt=R+"$$"+this.cloneIndex+++"$$";return Ti(gt,nt),nt}var Tu=function(R,ne){var Ne=un[R.key],Ce=Ut[Ne];if(Ce instanceof Nf)ae("q"),ae(Oc(ne)),Ce.gState&&g.setGState(Ce.gState),ae(R.matrix.toString()+" cm"),ae("/"+Ne+" sh"),ae("Q");else if(Ce instanceof fp){var ze=new jt(1,0,0,-1,0,Ms());R.matrix&&(ze=ze.multiply(R.matrix||Zi),Ne=Cu.call(Ce,R.key,R.boundingBox,R.xStep,R.yStep,ze).id),ae("q"),ae("/Pattern cs"),ae("/"+Ne+" scn"),Ce.gState&&g.setGState(Ce.gState),ae(ne),ae("Q")}},Oc=function(R){switch(R){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Dc=g.moveTo=function(R,ne){return ae(z(U(R))+" "+z(k(ne))+" m"),this},ds=g.lineTo=function(R,ne){return ae(z(U(R))+" "+z(k(ne))+" l"),this},Ps=g.curveTo=function(R,ne,Ne,Ce,ze,nt){return ae([z(U(R)),z(k(ne)),z(U(Ne)),z(k(Ce)),z(U(ze)),z(k(nt)),"c"].join(" ")),this};g.__private__.line=g.line=function(R,ne,Ne,Ce,ze){if(isNaN(R)||isNaN(ne)||isNaN(Ne)||isNaN(Ce)||!na(ze))throw new Error("Invalid arguments passed to jsPDF.line");return D===E?this.lines([[Ne-R,Ce-ne]],R,ne,[1,1],ze||"S"):this.lines([[Ne-R,Ce-ne]],R,ne,[1,1]).stroke()},g.__private__.lines=g.lines=function(R,ne,Ne,Ce,ze,nt){var gt,Rt,Bt,Jt,Yt,Dn,_r,lr,N,$,Q,pe;if(typeof R=="number"&&(pe=Ne,Ne=ne,ne=R,R=pe),Ce=Ce||[1,1],nt=nt||!1,isNaN(ne)||isNaN(Ne)||!Array.isArray(R)||!Array.isArray(Ce)||!na(ze)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Dc(ne,Ne),gt=Ce[0],Rt=Ce[1],Jt=R.length,$=ne,Q=Ne,Bt=0;Bt<Jt;Bt++)(Yt=R[Bt]).length===2?($=Yt[0]*gt+$,Q=Yt[1]*Rt+Q,ds($,Q)):(Dn=Yt[0]*gt+$,_r=Yt[1]*Rt+Q,lr=Yt[2]*gt+$,N=Yt[3]*Rt+Q,$=Yt[4]*gt+$,Q=Yt[5]*Rt+Q,Ps(Dn,_r,lr,N,$,Q));return nt&&Oo(),Rc(ze),this},g.path=function(R){for(var ne=0;ne<R.length;ne++){var Ne=R[ne],Ce=Ne.c;switch(Ne.op){case"m":Dc(Ce[0],Ce[1]);break;case"l":ds(Ce[0],Ce[1]);break;case"c":Ps.apply(this,Ce);break;case"h":Oo()}}return this},g.__private__.rect=g.rect=function(R,ne,Ne,Ce,ze){if(isNaN(R)||isNaN(ne)||isNaN(Ne)||isNaN(Ce)||!na(ze))throw new Error("Invalid arguments passed to jsPDF.rect");return D===E&&(Ce=-Ce),ae([z(U(R)),z(k(ne)),z(U(Ne)),z(U(Ce)),"re"].join(" ")),Rc(ze),this},g.__private__.triangle=g.triangle=function(R,ne,Ne,Ce,ze,nt,gt){if(isNaN(R)||isNaN(ne)||isNaN(Ne)||isNaN(Ce)||isNaN(ze)||isNaN(nt)||!na(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-R,Ce-ne],[ze-Ne,nt-Ce],[R-ze,ne-nt]],R,ne,[1,1],gt,!0),this},g.__private__.roundedRect=g.roundedRect=function(R,ne,Ne,Ce,ze,nt,gt){if(isNaN(R)||isNaN(ne)||isNaN(Ne)||isNaN(Ce)||isNaN(ze)||isNaN(nt)||!na(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return ze=Math.min(ze,.5*Ne),nt=Math.min(nt,.5*Ce),this.lines([[Ne-2*ze,0],[ze*Rt,0,ze,nt-nt*Rt,ze,nt],[0,Ce-2*nt],[0,nt*Rt,-ze*Rt,nt,-ze,nt],[2*ze-Ne,0],[-ze*Rt,0,-ze,-nt*Rt,-ze,-nt],[0,2*nt-Ce],[0,-nt*Rt,ze*Rt,-nt,ze,-nt]],R+ze,ne,[1,1],gt,!0),this},g.__private__.ellipse=g.ellipse=function(R,ne,Ne,Ce,ze){if(isNaN(R)||isNaN(ne)||isNaN(Ne)||isNaN(Ce)||!na(ze))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*Ne,gt=4/3*(Math.SQRT2-1)*Ce;return Dc(R+Ne,ne),Ps(R+Ne,ne-gt,R+nt,ne-Ce,R,ne-Ce),Ps(R-nt,ne-Ce,R-Ne,ne-gt,R-Ne,ne),Ps(R-Ne,ne+gt,R-nt,ne+Ce,R,ne+Ce),Ps(R+nt,ne+Ce,R+Ne,ne+gt,R+Ne,ne),Rc(ze),this},g.__private__.circle=g.circle=function(R,ne,Ne,Ce){if(isNaN(R)||isNaN(ne)||isNaN(Ne)||!na(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(R,ne,Ne,Ne,Ce)},g.setFont=function(R,ne,Ne){return Ne&&(ne=F(ne,Ne)),_e=Su(R,ne,{disableWarning:!1}),this};var Rs=g.__private__.getFont=g.getFont=function(){return st[Su.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var R,ne,Ne={};for(R in At)if(At.hasOwnProperty(R))for(ne in Ne[R]=[],At[R])At[R].hasOwnProperty(ne)&&Ne[R].push(ne);return Ne},g.addFont=function(R,ne,Ne,Ce,ze){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?ze=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(Ne=F(Ne,Ce)),Tc.call(this,R,ne,Ne,ze=ze||"Identity-H")};var Do,wa=t.lineWidth||.200025,nn=g.__private__.getLineWidth=g.getLineWidth=function(){return wa},to=g.__private__.setLineWidth=g.setLineWidth=function(R){return wa=R,ae(z(U(R))+" w"),this};g.__private__.setLineDash=Kt.API.setLineDash=Kt.API.setLineDashPattern=function(R,ne){if(R=R||[],ne=ne||0,isNaN(ne)||!Array.isArray(R))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return R=R.map(function(Ne){return z(U(Ne))}).join(" "),ne=z(U(ne)),ae("["+R+"] "+ne+" d"),this};var Hl=g.__private__.getLineHeight=g.getLineHeight=function(){return ve*Do};g.__private__.getLineHeight=g.getLineHeight=function(){return ve*Do};var Lc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(R){return typeof(R=R||1.15)=="number"&&(Do=R),this},ol=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Do};Lc(t.lineHeight);var ki=g.__private__.getHorizontalCoordinate=function(R){return U(R)},xi=g.__private__.getVerticalCoordinate=function(R){return D===T?R:Ht[K].mediaBox.topRightY-Ht[K].mediaBox.bottomLeftY-U(R)},Wl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(R){return z(ki(R))},er=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(R){return z(xi(R))},Va=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return hr(Va)},g.__private__.setStrokeColor=g.setDrawColor=function(R,ne,Ne,Ce){return Va=yi({ch1:R,ch2:ne,ch3:Ne,ch4:Ce,pdfColorType:"draw",precision:2}),ae(Va),this};var Gl=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return hr(Gl)},g.__private__.setFillColor=g.setFillColor=function(R,ne,Ne,Ce){return Gl=yi({ch1:R,ch2:ne,ch3:Ne,ch4:Ce,pdfColorType:"fill",precision:2}),ae(Gl),this};var Os=t.textColor||"0 g",ll=g.__private__.getTextColor=g.getTextColor=function(){return hr(Os)};g.__private__.setTextColor=g.setTextColor=function(R,ne,Ne,Ce){return Os=yi({ch1:R,ch2:ne,ch3:Ne,ch4:Ce,pdfColorType:"text",precision:3}),this};var no=t.charSpace,Lo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(no||0)};g.__private__.setCharSpace=g.setCharSpace=function(R){if(isNaN(R))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return no=R,this};var qa=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(R){var ne=g.CapJoinStyles[R];if(ne===void 0)throw new Error("Line cap style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qa=ne,ae(ne+" J"),this};var li=0;g.__private__.setLineJoin=g.setLineJoin=function(R){var ne=g.CapJoinStyles[R];if(ne===void 0)throw new Error("Line join style of '"+R+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return li=ne,ae(ne+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(R){if(R=R||0,isNaN(R))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(z(U(R))+" M"),this},g.GState=cb,g.setGState=function(R){(R=typeof R=="string"?rn[On[R]]:$a(null,R)).equals(Zn)||(ae("/"+R.id+" gs"),Zn=R)};var $a=function(R,ne){if(!R||!On[R]){var Ne=!1;for(var Ce in rn)if(rn.hasOwnProperty(Ce)&&rn[Ce].equals(ne)){Ne=!0;break}if(Ne)ne=rn[Ce];else{var ze="GS"+(Object.keys(rn).length+1).toString(10);rn[ze]=ne,ne.id=ze}return R&&(On[R]=ne.id),bn.publish("addGState",ne),ne}};g.addGState=function(R,ne){return $a(R,ne),this},g.saveGraphicsState=function(){return ae("q"),$t.push({key:_e,size:ve,color:Os}),this},g.restoreGraphicsState=function(){ae("Q");var R=$t.pop();return _e=R.key,ve=R.size,Os=R.color,Zn=null,this},g.setCurrentTransformationMatrix=function(R){return ae(R.toString()+" cm"),this},g.comment=function(R){return ae("#"+R),this};var _a=function(R,ne){var Ne=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(nt){isNaN(nt)||(Ne=parseFloat(nt))}});var Ce=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(nt){isNaN(nt)||(Ce=parseFloat(nt))}});var ze="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ze},set:function(nt){ze=nt.toString()}}),this},ro=function(R,ne,Ne,Ce){_a.call(this,R,ne),this.type="rect";var ze=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ze},set:function(gt){isNaN(gt)||(ze=parseFloat(gt))}});var nt=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(gt){isNaN(gt)||(nt=parseFloat(gt))}}),this},cl=function(){this.page=Xt,this.currentPage=K,this.pages=Be.slice(0),this.pagesContext=Ht.slice(0),this.x=Me,this.y=xt,this.matrix=ut,this.width=Ds(K),this.height=Ls(K),this.outputDestination=ct,this.id="",this.objectNumber=-1};cl.prototype.restore=function(){Xt=this.page,K=this.currentPage,Ht=this.pagesContext,Be=this.pages,Me=this.x,xt=this.y,ut=this.matrix,Yl(K,this.width),Ha(K,this.height),ct=this.outputDestination};var io=function(R,ne,Ne,Ce,ze){_n.push(new cl),Xt=K=0,Be=[],Me=R,xt=ne,ut=ze,us([Ne,Ce])};for(var ao in g.beginFormObject=function(R,ne,Ne,Ce,ze){return io(R,ne,Ne,Ce,ze),this},g.endFormObject=function(R){return(function(ne){if(_t[ne])_n.pop().restore();else{var Ne=new cl,Ce="Xo"+(Object.keys(lt).length+1).toString(10);Ne.id=Ce,_t[ne]=Ce,lt[Ce]=Ne,bn.publish("addFormObject",Ne),_n.pop().restore()}})(R),this},g.doFormObject=function(R,ne){var Ne=lt[_t[R]];return ae("q"),ae(ne.toString()+" cm"),ae("/"+Ne.id+" Do"),ae("Q"),this},g.getFormObject=function(R){var ne=lt[_t[R]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},g.save=function(R,ne){return R=R||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(_f(Tn(Is()),R),typeof _f.unload=="function"&&hn.setTimeout&&setTimeout(_f.unload,911),this):new Promise(function(Ne,Ce){try{var ze=_f(Tn(Is()),R);typeof _f.unload=="function"&&hn.setTimeout&&setTimeout(_f.unload,911),Ne(ze)}catch(nt){Ce(nt.message)}})},Kt.API)Kt.API.hasOwnProperty(ao)&&(ao==="events"&&Kt.API.events.length?(function(R,ne){var Ne,Ce,ze;for(ze=ne.length-1;ze!==-1;ze--)Ne=ne[ze][0],Ce=ne[ze][1],R.subscribe.apply(R,[Ne].concat(typeof Ce=="function"?[Ce]:Ce))})(bn,Kt.API.events):g[ao]=Kt.API[ao]);function Ds(R){return Ht[R].mediaBox.topRightX-Ht[R].mediaBox.bottomLeftX}function Yl(R,ne){Ht[R].mediaBox.topRightX=ne+Ht[R].mediaBox.bottomLeftX}function Ls(R){return Ht[R].mediaBox.topRightY-Ht[R].mediaBox.bottomLeftY}function Ha(R,ne){Ht[R].mediaBox.topRightY=ne+Ht[R].mediaBox.bottomLeftY}var ku=g.getPageWidth=function(R){return Ds(R=R||K)/Ze},Iu=g.setPageWidth=function(R,ne){Yl(R,ne*Ze)},Ms=g.getPageHeight=function(R){return Ls(R=R||K)/Ze},Mc=g.setPageHeight=function(R,ne){Ha(R,ne*Ze)};return g.internal={pdfEscape:va,getStyle:Eu,getFont:Rs,getFontSize:Le,getCharSpace:Lo,getTextColor:ll,getLineHeight:Hl,getLineHeightFactor:ol,getLineWidth:nn,write:ke,getHorizontalCoordinate:ki,getVerticalCoordinate:xi,getCoordinateString:Wl,getVerticalCoordinateString:er,collections:{},newObject:Jn,newAdditionalObject:Qi,newObjectDeferred:wr,newObjectDeferredBegin:gi,getFilters:ya,putStream:ls,events:bn,scaleFactor:Ze,pageSize:{getWidth:function(){return ku(K)},setWidth:function(R){Iu(K,R)},getHeight:function(){return Ms(K)},setHeight:function(R){Mc(K,R)}},encryptionOptions:f,encryption:fr,getEncryptor:function(R){return f!==null?fr.encryptor(R,0):function(ne){return ne}},output:ta,getNumberOfPages:Ic,pages:Be,out:ae,f2:P,f3:I,getPageInfo:Ui,getPageInfoByObjId:Pc,getCurrentPageInfo:Ld,getPDFVersion:v,Point:_a,Rectangle:ro,Matrix:jt,hasHotfix:ba},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return ku(K)},set:function(R){Iu(K,R)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Ms(K)},set:function(R){Mc(K,R)},enumerable:!0,configurable:!0}),(function(R){for(var ne=0,Ne=he.length;ne<Ne;ne++){var Ce=Tc.call(this,R[ne][0],R[ne][1],R[ne][2],he[ne][3],!0);p===!1&&(x[Ce]=!0);var ze=R[ne][0].split("-");zr({id:Ce,fontName:ze[0],fontStyle:ze[1]||""})}bn.publish("addFonts",{fonts:st,dictionary:At})}).call(g,he),_e="F1",ks(i,n),bn.publish("initialized"),g}cp.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},cp.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cp.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},cp.prototype.processOwnerPassword=function(t,e){return rS(nS(e).substr(0,5),t)},cp.prototype.encryptor=function(t,e){var n=nS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return rS(n,r)}},cb.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||br(t)!==br(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Kt.API={events:[]},Kt.version="3.0.3";var Ai=Kt.API,g3=1,ym=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},np=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},xn=function(t){return t.toFixed(2)},mh=function(t){return t.toFixed(5)};Ai.__acroform__={};var ko=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},zR=function(t){return t*g3},Qc=function(t){var e=new FB,n=qt.internal.getHeight(t)||0,r=qt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(xn(r)),Number(xn(n))],e},vbe=Ai.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},bbe=Ai.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},wbe=Ai.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Di=Ai.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return wbe(t,e-1)},Li=Ai.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vbe(t,e-1)},Mi=Ai.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return bbe(t,e-1)},_be=Ai.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],a=t[1],o=t[2],c=t[3],d={};return d.lowerLeft_X=n(i)||0,d.lowerLeft_Y=r(a+c)||0,d.upperRight_X=n(i+o)||0,d.upperRight_Y=r(a)||0,[Number(xn(d.lowerLeft_X)),Number(xn(d.lowerLeft_Y)),Number(xn(d.upperRight_X)),Number(xn(d.upperRight_Y))]},Nbe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=iS(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+xn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Qc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},iS=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var a=n,o=qt.internal.getHeight(t)||0;o=o<0?-o:o;var c=qt.internal.getWidth(t)||0;c=c<0?-c:c;var d=function(P,I,U){if(P+1<i.length){var k=I+" "+i[P+1][0];return wv(k,t,U).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var h,f,p=wv("3",t,a).height,x=t.multiline?o-a:(o-p)/2,g=x+=2,b=0,v=0,w=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+wv(e,t,a=12).width+", FieldWidth:"+c+`
`;break}for(var j="",E=0,T=0;T<i.length;T++)if(i.hasOwnProperty(T)){var D=!1;if(i[T].length!==1&&w!==i[T].length-1){if((p+2)*(E+2)+2>o)continue e;j+=i[T][w],D=!0,v=T,T--}else{j=(j+=i[T][w]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var M=parseInt(T),J=d(M,j,a),F=T>=i.length-1;if(J&&!F){j+=" ",w=0;continue}if(J||F){if(F)v=M;else if(t.multiline&&(p+2)*(E+2)+2>o)continue e}else{if(!t.multiline||(p+2)*(E+2)+2>o)continue e;v=M}}for(var z="",L=b;L<=v;L++){var H=i[L];if(t.multiline){if(L===v){z+=H[w]+" ",w=(w+1)%H.length;continue}if(L===b){z+=H[H.length-1]+" ";continue}}z+=H[0]+" "}switch(z=z.substr(z.length-1)==" "?z.substr(0,z.length-1):z,f=wv(z,t,a).width,t.textAlign){case"right":h=c-f-2;break;case"center":h=(c-f)/2;break;default:h=2}e+=xn(h)+" "+xn(g)+` Td
`,e+="("+ym(z)+`) Tj
`,e+=-xn(h)+` 0 Td
`,g=-(a+2),f=0,b=D?v:v+1,E++,j=""}break}return r.text=e,r.fontSize=a,r},wv=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},jbe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Sbe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},Abe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Ec.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(jbe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");g3=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new UB,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&Sbe(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var a=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var c=r[o],d=[],h=c.Rect;if(c.Rect&&(c.Rect=_be(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=qt.createDefaultAppearanceStream(c),br(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=Nbe(c);d.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var p="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var g=c.appearanceStreamContent[x];if(p+="/"+x+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var b=g[o];typeof b=="function"&&(b=b.call(i,c)),p+="/"+o+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=g)=="function"&&(b=b.call(i,c)),p+="/"+o+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);p+=">>"}d.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:c.objId}),i.internal.out("endobj")}a&&(function(v,w){for(var j in v)if(v.hasOwnProperty(j)){var E=j,T=v[j];w.internal.newObjectDeferredBegin(T.objId,!0),br(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete v[E]}})(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},zB=Ai.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),br(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+ym(r(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},yN=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+ym(r(t))+")"},su=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};su.prototype.toString=function(){return this.objId+" 0 R"},su.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},su.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:zB(i,this.objId,this.scope)}):i instanceof su?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var FB=function(){su.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};ko(FB,su);var UB=function(){su.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ym(n(t))+")"}},set:function(n){t=n}})};ko(UB,su);var Ec=function t(){su.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Di(e,3)},set:function(j){j?this.F=Li(e,3):this.F=Mi(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');n=j}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(j){r=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(j){r[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(j){r[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(j){r[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(j){r[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof ub)return;a="FieldObject"+t.FieldNum++}var j=function(E){return E};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+ym(j(a))+")"},set:function(j){a=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(j){a=j}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(j){o=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/g3:h},set:function(j){h=j}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof ub||this instanceof qf))return yN(p,this.objId,this.scope)},set:function(j){j=j.toString(),p=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof Pa==0?yN(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof Pa==0?j.substr(0,1)==="("?np(j.substr(1,j.length-2)):np(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pa==1?np(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof Pa==1?"/"+j:j}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Pa==0?yN(g,this.objId,this.scope):g},set:function(j){j=j.toString(),g=this instanceof Pa==0?j.substr(0,1)==="("?np(j.substr(1,j.length-2)):np(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pa==1?np(g.substr(1,g.length-1)):g},set:function(j){j=j.toString(),g=this instanceof Pa==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(j){j=!!j,v=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(j){b=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,1)},set:function(j){j?this.Ff=Li(this.Ff,1):this.Ff=Mi(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,2)},set:function(j){j?this.Ff=Li(this.Ff,2):this.Ff=Mi(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,3)},set:function(j){j?this.Ff=Li(this.Ff,3):this.Ff=Mi(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');w=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(w){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:w=2;break;case"center":case 1:w=1;break;default:w=0}}})};ko(Ec,su);var Sp=function(){Ec.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return zB(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=(function(a,o,c){c||(c=1);for(var d,h=[];d=o.exec(a);)h.push(d[c]);return h})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,18)},set:function(n){n?this.Ff=Li(this.Ff,18):this.Ff=Mi(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Li(this.Ff,19):this.Ff=Mi(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,20)},set:function(n){n?(this.Ff=Li(this.Ff,20),e.sort()):this.Ff=Mi(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,22)},set:function(n){n?this.Ff=Li(this.Ff,22):this.Ff=Mi(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,23)},set:function(n){n?this.Ff=Li(this.Ff,23):this.Ff=Mi(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,27)},set:function(n){n?this.Ff=Li(this.Ff,27):this.Ff=Mi(this.Ff,27)}}),this.hasAppearanceStream=!1};ko(Sp,Ec);var Ap=function(){Sp.call(this),this.fontName="helvetica",this.combo=!1};ko(Ap,Sp);var Ep=function(){Ap.call(this),this.combo=!0};ko(Ep,Ap);var $v=function(){Ep.call(this),this.edit=!0};ko($v,Ep);var Pa=function(){Ec.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,15)},set:function(n){n?this.Ff=Li(this.Ff,15):this.Ff=Mi(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,16)},set:function(n){n?this.Ff=Li(this.Ff,16):this.Ff=Mi(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,17)},set:function(n){n?this.Ff=Li(this.Ff,17):this.Ff=Mi(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,26)},set:function(n){n?this.Ff=Li(this.Ff,26):this.Ff=Mi(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ym(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){br(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};ko(Pa,Ec);var Hv=function(){Pa.call(this),this.pushButton=!0};ko(Hv,Pa);var Cp=function(){Pa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};ko(Cp,Pa);var ub=function(){var t,e;Ec.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,o=[];for(a in o.push("<<"),r)o.push("/"+a+" ("+ym(i(r[a]))+")");return o.push(">>"),o.join(`
`)},set:function(i){br(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ko(ub,Ec),Cp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Cp.prototype.createOption=function(t){var e=new ub;return e.Parent=this,e.optionName=t,this.Kids.push(e),Ebe.call(this.scope,e),e};var Wv=function(){Pa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qt.CheckBox.createAppearanceStream()};ko(Wv,Pa);var qf=function(){Ec.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,13)},set:function(e){e?this.Ff=Li(this.Ff,13):this.Ff=Mi(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,21)},set:function(e){e?this.Ff=Li(this.Ff,21):this.Ff=Mi(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,23)},set:function(e){e?this.Ff=Li(this.Ff,23):this.Ff=Mi(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,24)},set:function(e){e?this.Ff=Li(this.Ff,24):this.Ff=Mi(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,25)},set:function(e){e?this.Ff=Li(this.Ff,25):this.Ff=Mi(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,26)},set:function(e){e?this.Ff=Li(this.Ff,26):this.Ff=Mi(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ko(qf,Ec);var Gv=function(){qf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,14)},set:function(t){t?this.Ff=Li(this.Ff,14):this.Ff=Mi(this.Ff,14)}}),this.password=!0};ko(Gv,qf);var qt={CheckBox:{createAppearanceStream:function(){return{N:{On:qt.CheckBox.YesNormal},D:{On:qt.CheckBox.YesPushDown,Off:qt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Qc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=iS(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+xn(qt.internal.getWidth(t))+" "+xn(qt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+xn(a.fontSize)+" Tf "+i),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Qc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],a=qt.internal.getHeight(t),o=qt.internal.getWidth(t),c=iS(t,t.caption);return i.push("1 g"),i.push("0 0 "+xn(o)+" "+xn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+xn(o-1)+" "+xn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+xn(c.fontSize)+" Tf "+r),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Qc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xn(qt.internal.getWidth(t))+" "+xn(qt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:qt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=qt.RadioButton.Circle.YesNormal,e.D[t]=qt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Qc(t);e.scope=t.scope;var n=[],r=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=qt.internal.Bezier_C,a=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+mh(qt.internal.getWidth(t)/2)+" "+mh(qt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Qc(t);e.scope=t.scope;var n=[],r=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*qt.internal.Bezier_C).toFixed(5)),o=Number((r*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mh(qt.internal.getWidth(t)/2)+" "+mh(qt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+mh(qt.internal.getWidth(t)/2)+" "+mh(qt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Qc(t);e.scope=t.scope;var n=[],r=qt.internal.getWidth(t)<=qt.internal.getHeight(t)?qt.internal.getWidth(t)/4:qt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*qt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+mh(qt.internal.getWidth(t)/2)+" "+mh(qt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:qt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=qt.RadioButton.Cross.YesNormal,e.D[t]=qt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Qc(t);e.scope=t.scope;var n=[],r=qt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+xn(qt.internal.getWidth(t)-2)+" "+xn(qt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(xn(r.x1.x)+" "+xn(r.x1.y)+" m"),n.push(xn(r.x2.x)+" "+xn(r.x2.y)+" l"),n.push(xn(r.x4.x)+" "+xn(r.x4.y)+" m"),n.push(xn(r.x3.x)+" "+xn(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Qc(t);e.scope=t.scope;var n=qt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+xn(qt.internal.getWidth(t))+" "+xn(qt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+xn(qt.internal.getWidth(t)-2)+" "+xn(qt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(xn(n.x1.x)+" "+xn(n.x1.y)+" m"),r.push(xn(n.x2.x)+" "+xn(n.x2.y)+" l"),r.push(xn(n.x4.x)+" "+xn(n.x4.y)+" m"),r.push(xn(n.x3.x)+" "+xn(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Qc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+xn(qt.internal.getWidth(t))+" "+xn(qt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};qt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=qt.internal.getWidth(t),n=qt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},qt.internal.getWidth=function(t){var e=0;return br(t)==="object"&&(e=zR(t.Rect[2])),e},qt.internal.getHeight=function(t){var e=0;return br(t)==="object"&&(e=zR(t.Rect[3])),e};var Ebe=Ai.addField=function(t){if(Abe(this,t),!(t instanceof Ec))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Ai.AcroFormChoiceField=Sp,Ai.AcroFormListBox=Ap,Ai.AcroFormComboBox=Ep,Ai.AcroFormEditBox=$v,Ai.AcroFormButton=Pa,Ai.AcroFormPushButton=Hv,Ai.AcroFormRadioButton=Cp,Ai.AcroFormCheckBox=Wv,Ai.AcroFormTextField=qf,Ai.AcroFormPasswordField=Gv,Ai.AcroFormAppearance=qt,Ai.AcroForm={ChoiceField:Sp,ListBox:Ap,ComboBox:Ep,EditBox:$v,Button:Pa,PushButton:Hv,RadioButton:Cp,CheckBox:Wv,TextField:qf,PasswordField:Gv,Appearance:qt},Kt.AcroForm={ChoiceField:Sp,ListBox:Ap,ComboBox:Ep,EditBox:$v,Button:Pa,PushButton:Hv,RadioButton:Cp,CheckBox:Wv,TextField:qf,PasswordField:Gv,Appearance:qt};Kt.AcroForm;function BB(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(P,I){var U,k,le,G,W,ie=n;if((I=I||n)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(J(P))for(W in r)for(le=r[W],U=0;U<le.length;U+=1){for(G=!0,k=0;k<le[U].length;k+=1)if(le[U][k]!==void 0&&le[U][k]!==P[k]){G=!1;break}if(G===!0){ie=W;break}}else for(W in r)for(le=r[W],U=0;U<le.length;U+=1){for(G=!0,k=0;k<le[U].length;k+=1)if(le[U][k]!==void 0&&le[U][k]!==P.charCodeAt(k)){G=!1;break}if(G===!0){ie=W;break}}return ie===n&&I!==n&&(ie=I),ie},a=function P(I){for(var U=this.internal.write,k=this.internal.putStream,le=(0,this.internal.getFilters)();le.indexOf("FlateEncode")!==-1;)le.splice(le.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var G=[];if(G.push({key:"Type",value:"/XObject"}),G.push({key:"Subtype",value:"/Image"}),G.push({key:"Width",value:I.width}),G.push({key:"Height",value:I.height}),I.colorSpace===j.INDEXED?G.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(G.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===j.DEVICE_CMYK&&G.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),G.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&G.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var W="",ie=0,se=I.transparency.length;ie<se;ie++)W+=I.transparency[ie]+" "+I.transparency[ie]+" ";G.push({key:"Mask",value:"["+W+"]"})}I.sMask!==void 0&&G.push({key:"SMask",value:I.objectId+1+" 0 R"});var Se=I.filter!==void 0?["/"+I.filter]:void 0;if(k({data:I.data,additionalKeyValues:G,alreadyAppliedFilters:Se,objectId:I.objectId}),U("endobj"),"sMask"in I&&I.sMask!==void 0){var X,O=(X=I.sMaskBitsPerComponent)!==null&&X!==void 0?X:I.bitsPerComponent,K={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:O,data:I.sMask};"filter"in I&&(K.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(O," /Columns ").concat(I.width),K.filter=I.filter),P.call(this,K)}if(I.colorSpace===j.INDEXED){var te=this.internal.newObject();k({data:z(new Uint8Array(I.palette)),objectId:te}),U("endobj")}},o=function(){var P=this.internal.collections[e+"images"];for(var I in P)a.call(this,P[I])},c=function(){var P,I=this.internal.collections[e+"images"],U=this.internal.write;for(var k in I)U("/I"+(P=I[k]).index,P.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var P=this.internal.collections[e+"images"];return d.call(this),P},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(P){return typeof t["process"+P.toUpperCase()]=="function"},x=function(P){return br(P)==="object"&&P.nodeType===1},g=function(P,I){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var U=""+P.getAttribute("src");if(U.indexOf("data:image/")===0)return qv(unescape(U).split("base64,").pop());var k=t.loadFile(U,!0);if(k!==void 0)return k}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var le;switch(I){case"PNG":le="image/png";break;case"WEBP":le="image/webp";break;default:le="image/jpeg"}return qv(P.toDataURL(le,1).split("base64,").pop())}},b=function(P){var I=this.internal.collections[e+"images"];if(I){for(var U in I)if(P===I[U].alias)return I[U]}},v=function(P,I,U){return P||I||(P=-96,I=-96),P<0&&(P=-1*U.width*72/P/this.internal.scaleFactor),I<0&&(I=-1*U.height*72/I/this.internal.scaleFactor),P===0&&(P=I*U.width/U.height),I===0&&(I=P*U.height/U.width),[P,I]},w=function(P,I,U,k,le,G){var W=v.call(this,U,k,le),ie=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,Se=h.call(this);if(U=W[0],k=W[1],Se[le.index]=le,G){G*=Math.PI/180;var X=Math.cos(G),O=Math.sin(G),K=function(ee){return ee.toFixed(4)},te=[K(X),K(O),K(-1*O),K(X),0,0,"cm"]}this.internal.write("q"),G?(this.internal.write([1,"0","0",1,ie(P),se(I+k),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([ie(U),"0","0",ie(k),"0","0","cm"].join(" "))):this.internal.write([ie(U),"0","0",ie(k),ie(P),se(I+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+le.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(P){var I,U,k=0;if(typeof P=="string")for(U=P.length,I=0;I<U;I++)k=(k<<5)-k+P.charCodeAt(I),k|=0;else if(J(P))for(U=P.byteLength/2,I=0;I<U;I++)k=(k<<5)-k+P[I],k|=0;return k},D=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var I=!0;return P.length===0&&(I=!1),P.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(I=!1),I},M=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var I=P.indexOf(",");return I<0?null:P.substring(0,I).trim().endsWith("base64")?P.substring(I+1):null};t.__addimage__.isArrayBuffer=function(P){return P instanceof ArrayBuffer};var J=t.__addimage__.isArrayBufferView=function(P){return P instanceof Int8Array||P instanceof Uint8Array||P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array},F=t.__addimage__.binaryStringToUint8Array=function(P){for(var I=P.length,U=new Uint8Array(I),k=0;k<I;k++)U[k]=P.charCodeAt(k);return U},z=t.__addimage__.arrayBufferToBinaryString=function(P){for(var I="",U=J(P)?P:new Uint8Array(P),k=0;k<U.length;k+=8192)I+=String.fromCharCode.apply(null,U.subarray(k,k+8192));return I};t.addImage=function(){var P,I,U,k,le,G,W,ie,se;if(typeof arguments[1]=="number"?(I=n,U=arguments[1],k=arguments[2],le=arguments[3],G=arguments[4],W=arguments[5],ie=arguments[6],se=arguments[7]):(I=arguments[1],U=arguments[2],k=arguments[3],le=arguments[4],G=arguments[5],W=arguments[6],ie=arguments[7],se=arguments[8]),br(P=arguments[0])==="object"&&!x(P)&&"imageData"in P){var Se=P;P=Se.imageData,I=Se.format||I||n,U=Se.x||U||0,k=Se.y||k||0,le=Se.w||Se.width||le,G=Se.h||Se.height||G,W=Se.alias||W,ie=Se.compression||ie,se=Se.rotation||Se.angle||se}var X=this.internal.getFilters();if(ie===void 0&&X.indexOf("FlateEncode")!==-1&&(ie="SLOW"),isNaN(U)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var O=L.call(this,P,I,W,ie);return w.call(this,U,k,le,G,O,se),this};var L=function(P,I,U,k){var le,G,W;if(typeof P=="string"&&i(P)===n){P=unescape(P);var ie=H(P,!1);(ie!==""||(ie=t.loadFile(P,!0))!==void 0)&&(P=ie)}if(x(P)&&(P=g(P,I)),I=i(P,I),!p(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((W=U)==null||W.length===0)&&(U=(function(se){return typeof se=="string"||J(se)?T(se):J(se.data)?T(se.data):null})(P)),(le=b.call(this,U))||(P instanceof Uint8Array||I==="RGBA"||(G=P,P=F(P)),le=this["process"+I.toUpperCase()](P,f.call(this),U,(function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:E.NONE})(k),G)),!le)throw new Error("An unknown error occurred whilst processing the image.");return le},H=t.__addimage__.convertBase64ToBinaryString=function(P,I){I=typeof I!="boolean"||I;var U,k="";if(typeof P=="string"){var le;U=(le=M(P))!==null&&le!==void 0?le:P;try{k=qv(U)}catch(G){if(I)throw D(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+G.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};t.getImageProperties=function(P){var I,U,k="";if(x(P)&&(P=g(P)),typeof P=="string"&&i(P)===n&&((k=H(P,!1))===""&&(k=t.loadFile(P)||""),P=k),U=i(P),!p(U))throw new Error("addImage does not support files of type '"+U+"', please ensure that a plugin for '"+U+"' support is added.");if(P instanceof Uint8Array||(P=F(P)),!(I=this["process"+U.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=U,I}})(Kt.API),(function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Kt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,a,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),h=n.pageContext.annotations,f=!1,p=0;p<h.length&&!f;p++)switch((r=h[p]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var x=0;x<h.length;x++){r=h[x];var g=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(v.objId),E=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+g(j(r.contents))+")",a+=" /Popup "+w.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+g(j(E))+") >>",v.content=a;var T=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+T,r.open&&(a+=" /Open true"),a+=" >>",w.content=a,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+c(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var D=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(b(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var M=this.annotations._nameMap[r.options.name];r.options.pageNumber=M.page,r.options.top=M.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;default:var J=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+J+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,a,o){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(n),y:h(r),w:d(n+i),h:h(r+a)},options:o,type:"link"})},t.textWithLink=function(n,r,i,a){var o,c,d=this.getTextWidth(n),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var f=this.splitTextToSize(n,c).length;o=Math.ceil(h*f)}else c=d,o=h;return this.text(n,r,i,a),i+=.2*h,a.align==="center"&&(r-=d/2),a.align==="right"&&(r-=d),this.link(r,i-h,c,o,a),d},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}})(Kt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},c=t.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&a(v)&&e[v.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&a(v)&&e[v.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&a(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&a(v)&&e[v.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&a(v)&&e[v.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(v){var w=0,j=n,E="",T=0;for(w=0;w<v.length;w+=1)j[v.charCodeAt(w)]!==void 0?(T++,typeof(j=j[v.charCodeAt(w)])=="number"&&(E+=String.fromCharCode(j),j=n,T=0),w===v.length-1&&(j=n,E+=v.charAt(w-(T-1)),w-=T-1,T=0)):(j=n,E+=v.charAt(w-T),w-=T,T=0);return E};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var x=t.__arabicParser__.getCorrectForm=function(v,w,j){return o(v)?a(v)===!1?-1:!h(v)||!o(w)&&!o(j)||!o(j)&&c(w)||c(v)&&!o(w)||c(v)&&d(w)||c(v)&&c(w)?0:f(v)&&o(w)&&!c(w)&&o(j)&&h(j)?3:c(v)||!o(j)?1:2:-1},g=function(v){var w=0,j=0,E=0,T="",D="",M="",J=(v=v||"").split("\\s+"),F=[];for(w=0;w<J.length;w+=1){for(F.push(""),j=0;j<J[w].length;j+=1)T=J[w][j],D=J[w][j-1],M=J[w][j+1],o(T)?(E=x(T,D,M),F[w]+=E!==-1?String.fromCharCode(e[T.charCodeAt(0)][E]):T):F[w]+=T;F[w]=p(F[w])}return F.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(w)){var E=0;for(j=[],E=0;E<w.length;E+=1)Array.isArray(w[E])?j.push([g(w[E][0]),w[E][1],w[E][2]]):j.push([g(w[E])]);v=j}else v=g(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",b])})(Kt.API),Kt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(c){n=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Kt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(v){b=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,h){r.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),x=h.scaleFactor||this.internal.scaleFactor,g=0,b=0,v=0,w=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var j=h.maxWidth;j>0?typeof d=="string"?d=this.splitTextToSize(d,j):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(T,D){return T.concat(w.splitTextToSize(D,j))},[])):d=Array.isArray(d)?d:[d];for(var E=0;E<d.length;E++)g<(v=this.getStringUnitWidth(d[E],{font:p})*f)&&(g=v);return g!==0&&(b=d.length),{w:g/=x,h:Math.max((b*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/x,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=p.top,g&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-f,d.y+f,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+f,{align:"center",baseline:"top",maxWidth:d.width-f-f}):this.text(d.text,d.x+f,d.y+f,{align:"left",baseline:"top",maxWidth:d.width-f-f})),this.internal.__cell__.lastCell=d,this};t.table=function(d,h,f,p,x){if(r.call(this),!f)throw new Error("No data for PDF table.");var g,b,v,w,j=[],E=[],T=[],D={},M={},J=[],F=[],z=(x=x||{}).autoSize||!1,L=x.printHeaders!==!1,H=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,P=x.margins||Object.assign({width:this.getPageWidth()},e),I=typeof x.padding=="number"?x.padding:3,U=x.headerBackgroundColor||"#c8c8c8",k=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=U,this.internal.__cell__.headerTextColor=k,this.setFontSize(H),p==null)E=j=Object.keys(f[0]),T=j.map(function(){return"left"});else if(Array.isArray(p)&&br(p[0])==="object")for(j=p.map(function(Se){return Se.name}),E=p.map(function(Se){return Se.prompt||Se.name||""}),T=p.map(function(Se){return Se.align||"left"}),g=0;g<p.length;g+=1)M[p[g].name]=.7499990551181103*p[g].width;else Array.isArray(p)&&typeof p[0]=="string"&&(E=j=p,T=j.map(function(){return"left"}));if(z||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<j.length;g+=1){for(D[w=j[g]]=f.map(function(Se){return Se[w]}),this.setFont(void 0,"bold"),J.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=D[w],this.setFont(void 0,"normal"),v=0;v<b.length;v+=1)J.push(this.getTextDimensions(b[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[w]=Math.max.apply(null,J)+I+I,J=[]}if(L){var le={};for(g=0;g<j.length;g+=1)le[j[g]]={},le[j[g]].text=E[g],le[j[g]].align=T[g];var G=c.call(this,le,M);F=j.map(function(Se){return new a(d,h,M[Se],G,le[Se].text,void 0,le[Se].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var W=p.reduce(function(Se,X){return Se[X.name]=X.align,Se},{});for(g=0;g<f.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:f[g]},this);var ie=c.call(this,f[g],M);for(v=0;v<j.length;v+=1){var se=f[g][j[v]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:v,data:se},this),o.call(this,new a(d,h,M[j[v]],ie,se,g+2,W[j[v]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var c=function(d,h){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map(function(g){var b=d[g];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,h[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/x+f+f},this).reduce(function(g,b){return Math.max(g,b)},0)};t.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,h){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,x.push(f)),f.lineNumber=d;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(b)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),n=!1}})(Kt.API);var VB={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},qB=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],aS=BB(qB),$B=[100,200,300,400,500,600,700,800,900],Cbe=BB($B);function xN(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=(function(a){return VB[a=a||"normal"]?a:"normal"})(t.style),r=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof aS[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function FR(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var Tbe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},UR={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function BR(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function VR(t){return t.trimLeft()}function kbe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function Ibe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var _v,qR,$R,rp,Nv,HR,WR,GR,vN=["times"];function YR(t,e,n,r,i){var a=4,o=XR;switch(i){case Kt.API.image_compression.FAST:a=1,o=KR;break;case Kt.API.image_compression.MEDIUM:a=6,o=ZR;break;case Kt.API.image_compression.SLOW:a=9,o=JR}t=(function(d,h,f,p){for(var x,g=d.length/h,b=new Uint8Array(d.length+g),v=[Pbe,KR,XR,ZR,JR],w=0;w<g;w+=1){var j=w*h,E=d.subarray(j,j+h);if(p)b.set(p(E,f,x),j+w);else{for(var T=v.length,D=[],M=0;M<T;M+=1)D[M]=v[M](E,f,x);var J=Obe(D.concat());b.set(D[J],j+w)}x=E}return b})(t,e,Math.ceil(n*r/8),o);var c=Jj(t,{level:a});return Kt.API.__addimage__.arrayBufferToBinaryString(c)}function Pbe(t){var e=Array.apply([],t);return e.unshift(0),e}function KR(t,e){var n=t.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var a=t[i-e]||0;r[i+1]=t[i]-a+256&255}return r}function XR(t,e,n){var r=t.length,i=[];i[0]=2;for(var a=0;a<r;a+=1){var o=n&&n[a]||0;i[a+1]=t[a]-o+256&255}return i}function ZR(t,e,n){var r=t.length,i=[];i[0]=3;for(var a=0;a<r;a+=1){var o=t[a-e]||0,c=n&&n[a]||0;i[a+1]=t[a]+256-(o+c>>>1)&255}return i}function JR(t,e,n){var r=t.length,i=[];i[0]=4;for(var a=0;a<r;a+=1){var o=Rbe(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);i[a+1]=t[a]-o+256&255}return i}function Rbe(t,e,n){if(t===e&&e===n)return t;var r=Math.abs(e-n),i=Math.abs(t-n),a=Math.abs(t+e-n-n);return r<=i&&r<=a?t:i<=a?e:n}function Obe(t){var e=t.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function bN(t,e,n){var r=e*n,i=Math.floor(r/8),a=16-(r-8*i+n),o=(1<<n)-1;return HB(t,i)>>a&o}function QR(t,e,n,r){var i=n*r,a=Math.floor(i/8),o=16-(i-8*a+r),c=(1<<r)-1,d=(e&c)<<o;(function(h,f,p){if(f+1<h.byteLength)h.setUint16(f,p,!1);else{var x=p>>8&255;h.setUint8(f,x)}})(t,a,HB(t,a)&~(c<<o)&65535|d)}function HB(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Dbe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,o=1<<1+(7&i);t[e++],t[e++];var c=null,d=null;a&&(c=e,d=o,e+=3*o);var h=!0,f=[],p=0,x=null,g=0,b=null;for(this.width=n,this.height=r;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];p=t[e++]|t[e++]<<8,x=t[e++],1&v||(x=null),g=v>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var w=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,D=t[e++],M=D>>6&1,J=1<<1+(7&D),F=c,z=d,L=!1;D>>7&&(L=!0,F=e,z=J,e+=3*J);var H=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}f.push({x:w,y:j,width:E,height:T,has_local_palette:L,palette_offset:F,palette_size:z,data_offset:H,data_length:e-H,transparent_index:x,interlaced:!!M,delay:p,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return b},this.frameInfo=function(I){if(I<0||I>=f.length)throw new Error("Frame index out of range.");return f[I]},this.decodeAndBlitFrameBGRA=function(I,U){var k=this.frameInfo(I),le=k.width*k.height,G=new Uint8Array(le);eO(t,k.data_offset,G,le);var W=k.palette_offset,ie=k.transparent_index;ie===null&&(ie=256);var se=k.width,Se=n-se,X=se,O=4*(k.y*n+k.x),K=4*((k.y+k.height)*n+k.x),te=O,ee=4*Se;k.interlaced===!0&&(ee+=4*n*7);for(var xe=8,be=0,oe=G.length;be<oe;++be){var fe=G[be];if(X===0&&(X=se,(te+=ee)>=K&&(ee=4*Se+4*n*(xe-1),te=O+(se+Se)*(xe<<1),xe>>=1)),fe===ie)te+=4;else{var Ee=t[W+3*fe],Be=t[W+3*fe+1],Pe=t[W+3*fe+2];U[te++]=Pe,U[te++]=Be,U[te++]=Ee,U[te++]=255}--X}},this.decodeAndBlitFrameRGBA=function(I,U){var k=this.frameInfo(I),le=k.width*k.height,G=new Uint8Array(le);eO(t,k.data_offset,G,le);var W=k.palette_offset,ie=k.transparent_index;ie===null&&(ie=256);var se=k.width,Se=n-se,X=se,O=4*(k.y*n+k.x),K=4*((k.y+k.height)*n+k.x),te=O,ee=4*Se;k.interlaced===!0&&(ee+=4*n*7);for(var xe=8,be=0,oe=G.length;be<oe;++be){var fe=G[be];if(X===0&&(X=se,(te+=ee)>=K&&(ee=4*Se+4*n*(xe-1),te=O+(se+Se)*(xe<<1),xe>>=1)),fe===ie)te+=4;else{var Ee=t[W+3*fe],Be=t[W+3*fe+1],Pe=t[W+3*fe+2];U[te++]=Ee,U[te++]=Be,U[te++]=Pe,U[te++]=255}--X}}}function eO(t,e,n,r){for(var i=t[e++],a=1<<i,o=a+1,c=o+1,d=i+1,h=(1<<d)-1,f=0,p=0,x=0,g=t[e++],b=new Int32Array(4096),v=null;;){for(;f<16&&g!==0;)p|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<d)break;var w=p&h;if(p>>=d,f-=d,w!==a){if(w===o)break;for(var j=w<c?w:v,E=0,T=j;T>a;)T=b[T]>>8,++E;var D=T;if(x+E+(j!==w?1:0)>r)return void Rr.log("Warning, gif stream longer than expected.");n[x++]=D;var M=x+=E;for(j!==w&&(n[x++]=D),T=j;E--;)T=b[T],n[--M]=255&T,T>>=8;v!==null&&c<4096&&(b[c++]=v<<8|D,c>=h+1&&d<12&&(++d,h=h<<1|1)),v=w}else c=o+1,h=(1<<(d=i+1))-1,v=null}return x!==r&&Rr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wN(t){var e,n,r,i,a,o=Math.floor,c=new Array(64),d=new Array(64),h=new Array(64),f=new Array(64),p=new Array(65535),x=new Array(65535),g=new Array(64),b=new Array(64),v=[],w=0,j=7,E=new Array(64),T=new Array(64),D=new Array(64),M=new Array(256),J=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],z=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],le=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function G(O,K){for(var te=0,ee=0,xe=new Array,be=1;be<=16;be++){for(var oe=1;oe<=O[be];oe++)xe[K[ee]]=[],xe[K[ee]][0]=te,xe[K[ee]][1]=be,ee++,te++;te*=2}return xe}function W(O){for(var K=O[0],te=O[1]-1;te>=0;)K&1<<te&&(w|=1<<j),te--,--j<0&&(w==255?(ie(255),ie(0)):ie(w),j=7,w=0)}function ie(O){v.push(O)}function se(O){ie(O>>8&255),ie(255&O)}function Se(O,K,te,ee,xe){for(var be,oe=xe[0],fe=xe[240],Ee=(function(ve,De){var Le,Ie,Ke,at,Xe,ht,Tt,bt,_e,Ze,Me=0;for(_e=0;_e<8;++_e){Le=ve[Me],Ie=ve[Me+1],Ke=ve[Me+2],at=ve[Me+3],Xe=ve[Me+4],ht=ve[Me+5],Tt=ve[Me+6];var xt=Le+(bt=ve[Me+7]),ut=Le-bt,st=Ie+Tt,At=Ie-Tt,$t=Ke+ht,Ut=Ke-ht,un=at+Xe,rn=at-Xe,On=xt+un,Zn=xt-un,Xt=st+$t,Ht=st-$t;ve[Me]=On+Xt,ve[Me+4]=On-Xt;var bn=.707106781*(Ht+Zn);ve[Me+2]=Zn+bn,ve[Me+6]=Zn-bn;var Ci=.382683433*((On=rn+Ut)-(Ht=At+ut)),lt=.5411961*On+Ci,_t=1.306562965*Ht+Ci,_n=.707106781*(Xt=Ut+At),jt=ut+_n,ai=ut-_n;ve[Me+5]=ai+lt,ve[Me+3]=ai-lt,ve[Me+1]=jt+_t,ve[Me+7]=jt-_t,Me+=8}for(Me=0,_e=0;_e<8;++_e){Le=ve[Me],Ie=ve[Me+8],Ke=ve[Me+16],at=ve[Me+24],Xe=ve[Me+32],ht=ve[Me+40],Tt=ve[Me+48];var Zi=Le+(bt=ve[Me+56]),Ti=Le-bt,Ji=Ie+Tt,Jn=Ie-Tt,wr=Ke+ht,gi=Ke-ht,Qi=at+Xe,Fi=at-Xe,Qn=Zi+Qi,hr=Zi-Qi,yi=Ji+wr,ya=Ji-wr;ve[Me]=Qn+yi,ve[Me+32]=Qn-yi;var ls=.707106781*(ya+hr);ve[Me+16]=hr+ls,ve[Me+48]=hr-ls;var sl=.382683433*((Qn=Fi+gi)-(ya=Jn+Ti)),Ts=.5411961*Qn+sl,xa=1.306562965*ya+sl,Io=.707106781*(yi=gi+Jn),Fa=Ti+Io,ea=Ti-Io;ve[Me+40]=ea+Ts,ve[Me+24]=ea-Ts,ve[Me+8]=Fa+xa,ve[Me+56]=Fa-xa,Me++}for(_e=0;_e<64;++_e)Ze=ve[_e]*De[_e],g[_e]=Ze>0?Ze+.5|0:Ze-.5|0;return g})(O,K),Be=0;Be<64;++Be)b[F[Be]]=Ee[Be];var Pe=b[0]-te;te=b[0],Pe==0?W(ee[0]):(W(ee[x[be=32767+Pe]]),W(p[be]));for(var ct=63;ct>0&&b[ct]==0;)ct--;if(ct==0)return W(oe),te;for(var q,ae=1;ae<=ct;){for(var ke=ae;b[ae]==0&&ae<=ct;)++ae;var ye=ae-ke;if(ye>=16){q=ye>>4;for(var he=1;he<=q;++he)W(fe);ye&=15}be=32767+b[ae],W(xe[(ye<<4)+x[be]]),W(p[be]),ae++}return ct!=63&&W(oe),te}function X(O){O=Math.min(Math.max(O,1),100),a!=O&&((function(K){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var xe=o((te[ee]*K+50)/100);xe=Math.min(Math.max(xe,1),255),c[F[ee]]=xe}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var fe=o((be[oe]*K+50)/100);fe=Math.min(Math.max(fe,1),255),d[F[oe]]=fe}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Be=0,Pe=0;Pe<8;Pe++)for(var ct=0;ct<8;ct++)h[Be]=1/(c[F[Be]]*Ee[Pe]*Ee[ct]*8),f[Be]=1/(d[F[Be]]*Ee[Pe]*Ee[ct]*8),Be++})(O<50?Math.floor(5e3/O):Math.floor(200-2*O)),a=O)}this.encode=function(O,K){K&&X(K),v=new Array,w=0,j=7,se(65496),se(65504),se(16),ie(74),ie(70),ie(73),ie(70),ie(0),ie(1),ie(1),ie(0),se(1),se(1),ie(0),ie(0),(function(){se(65499),se(132),ie(0);for(var Ie=0;Ie<64;Ie++)ie(c[Ie]);ie(1);for(var Ke=0;Ke<64;Ke++)ie(d[Ke])})(),(function(Ie,Ke){se(65472),se(17),ie(8),se(Ke),se(Ie),ie(3),ie(1),ie(17),ie(0),ie(2),ie(17),ie(1),ie(3),ie(17),ie(1)})(O.width,O.height),(function(){se(65476),se(418),ie(0);for(var Ie=0;Ie<16;Ie++)ie(z[Ie+1]);for(var Ke=0;Ke<=11;Ke++)ie(L[Ke]);ie(16);for(var at=0;at<16;at++)ie(H[at+1]);for(var Xe=0;Xe<=161;Xe++)ie(P[Xe]);ie(1);for(var ht=0;ht<16;ht++)ie(I[ht+1]);for(var Tt=0;Tt<=11;Tt++)ie(U[Tt]);ie(17);for(var bt=0;bt<16;bt++)ie(k[bt+1]);for(var _e=0;_e<=161;_e++)ie(le[_e])})(),se(65498),se(12),ie(3),ie(1),ie(0),ie(2),ie(17),ie(3),ie(17),ie(0),ie(63),ie(0);var te=0,ee=0,xe=0;w=0,j=7,this.encode.displayName="_encode_";for(var be,oe,fe,Ee,Be,Pe,ct,q,ae,ke=O.data,ye=O.width,he=O.height,ve=4*ye,De=0;De<he;){for(be=0;be<ve;){for(Be=ve*De+be,ct=-1,q=0,ae=0;ae<64;ae++)Pe=Be+(q=ae>>3)*ve+(ct=4*(7&ae)),De+q>=he&&(Pe-=ve*(De+1+q-he)),be+ct>=ve&&(Pe-=be+ct-ve+4),oe=ke[Pe++],fe=ke[Pe++],Ee=ke[Pe++],E[ae]=(J[oe]+J[fe+256|0]+J[Ee+512|0]>>16)-128,T[ae]=(J[oe+768|0]+J[fe+1024|0]+J[Ee+1280|0]>>16)-128,D[ae]=(J[oe+1280|0]+J[fe+1536|0]+J[Ee+1792|0]>>16)-128;te=Se(E,h,te,e,r),ee=Se(T,f,ee,n,i),xe=Se(D,f,xe,n,i),be+=32}De+=8}if(j>=0){var Le=[];Le[1]=j+1,Le[0]=(1<<j+1)-1,W(Le)}return se(65497),new Uint8Array(v)},t=t||50,(function(){for(var O=String.fromCharCode,K=0;K<256;K++)M[K]=O(K)})(),e=G(z,L),n=G(I,U),r=G(H,P),i=G(k,le),(function(){for(var O=1,K=2,te=1;te<=15;te++){for(var ee=O;ee<K;ee++)x[32767+ee]=te,p[32767+ee]=[],p[32767+ee][1]=te,p[32767+ee][0]=ee;for(var xe=-(K-1);xe<=-O;xe++)x[32767+xe]=te,p[32767+xe]=[],p[32767+xe][1]=te,p[32767+xe][0]=K-1+xe;O<<=1,K<<=1}})(),(function(){for(var O=0;O<256;O++)J[O]=19595*O,J[O+256|0]=38470*O,J[O+512|0]=7471*O+32768,J[O+768|0]=-11059*O,J[O+1024|0]=-21709*O,J[O+1280|0]=32768*O+8421375,J[O+1536|0]=-27439*O,J[O+1792|0]=-5329*O})(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function uc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function tO(t){function e(L){if(!L)throw Error("assert :P")}function n(L,H,P){for(var I=0;4>I;I++)if(L[H+I]!=P.charCodeAt(I))return!0;return!1}function r(L,H,P,I,U){for(var k=0;k<U;k++)L[H+k]=P[I+k]}function i(L,H,P,I){for(var U=0;U<I;U++)L[H+U]=P}function a(L){return new Int32Array(L)}function o(L,H){for(var P=[],I=0;I<L;I++)P.push(new H);return P}function c(L,H){var P=[];return(function I(U,k,le){for(var G=le[k],W=0;W<G&&(U.push(le.length>k+1?[]:new H),!(le.length<k+1));W++)I(U[W],k+1,le)})(P,0,L),P}var d=function(){var L=this;function H(_,A){for(var B=1<<A-1>>>0;_&B;)B>>>=1;return B?(_&B-1)+B:_}function P(_,A,B,Y,re){e(!(Y%B));do _[A+(Y-=B)]=re;while(0<Y)}function I(_,A,B,Y,re){if(e(2328>=re),512>=re)var ce=a(512);else if((ce=a(re))==null)return 0;return(function(ue,me,ge,je,Te,$e){var we,Oe,Ve=me,et=1<<ge,qe=a(16),Qe=a(16);for(e(Te!=0),e(je!=null),e(ue!=null),e(0<ge),Oe=0;Oe<Te;++Oe){if(15<je[Oe])return 0;++qe[je[Oe]]}if(qe[0]==Te)return 0;for(Qe[1]=0,we=1;15>we;++we){if(qe[we]>1<<we)return 0;Qe[we+1]=Qe[we]+qe[we]}for(Oe=0;Oe<Te;++Oe)we=je[Oe],0<je[Oe]&&($e[Qe[we]++]=Oe);if(Qe[15]==1)return(je=new U).g=0,je.value=$e[0],P(ue,Ve,1,et,je),et;var it,vt=-1,mt=et-1,Vt=0,kt=1,dn=1,Lt=1<<ge;for(Oe=0,we=1,Te=2;we<=ge;++we,Te<<=1){if(kt+=dn<<=1,0>(dn-=qe[we]))return 0;for(;0<qe[we];--qe[we])(je=new U).g=we,je.value=$e[Oe++],P(ue,Ve+Vt,Te,Lt,je),Vt=H(Vt,we)}for(we=ge+1,Te=2;15>=we;++we,Te<<=1){if(kt+=dn<<=1,0>(dn-=qe[we]))return 0;for(;0<qe[we];--qe[we]){if(je=new U,(Vt&mt)!=vt){for(Ve+=Lt,it=1<<(vt=we)-ge;15>vt&&!(0>=(it-=qe[vt]));)++vt,it<<=1;et+=Lt=1<<(it=vt-ge),ue[me+(vt=Vt&mt)].g=it+ge,ue[me+vt].value=Ve-me-vt}je.g=we-ge,je.value=$e[Oe++],P(ue,Ve+(Vt>>ge),Te,Lt,je),Vt=H(Vt,we)}}return kt!=2*Qe[15]-1?0:et})(_,A,B,Y,re,ce)}function U(){this.value=this.g=0}function k(){this.value=this.g=0}function le(){this.G=o(5,U),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(zc,k)}function G(_,A,B,Y){e(_!=null),e(A!=null),e(2147483648>Y),_.Ca=254,_.I=0,_.b=-8,_.Ka=0,_.oa=A,_.pa=B,_.Jd=A,_.Yc=B+Y,_.Zc=4<=Y?B+Y-4+1:B,oe(_)}function W(_,A){for(var B=0;0<A--;)B|=Ee(_,128)<<A;return B}function ie(_,A){var B=W(_,A);return fe(_)?-B:B}function se(_,A,B,Y){var re,ce=0;for(e(_!=null),e(A!=null),e(4294967288>Y),_.Sb=Y,_.Ra=0,_.u=0,_.h=0,4<Y&&(Y=4),re=0;re<Y;++re)ce+=A[B+re]<<8*re;_.Ra=ce,_.bb=Y,_.oa=A,_.pa=B}function Se(_){for(;8<=_.u&&_.bb<_.Sb;)_.Ra>>>=8,_.Ra+=_.oa[_.pa+_.bb]<<hl-8>>>0,++_.bb,_.u-=8;ee(_)&&(_.h=1,_.u=0)}function X(_,A){if(e(0<=A),!_.h&&A<=Wa){var B=te(_)&hs[A];return _.u+=A,Se(_),B}return _.h=1,_.u=0}function O(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(_){return _.Ra>>>(_.u&hl-1)>>>0}function ee(_){return e(_.bb<=_.Sb),_.h||_.bb==_.Sb&&_.u>hl}function xe(_,A){_.u=A,_.h=ee(_)}function be(_){_.u>=fl&&(e(_.u>=fl),Se(_))}function oe(_){e(_!=null&&_.oa!=null),_.pa<_.Zc?(_.I=(_.oa[_.pa++]|_.I<<8)>>>0,_.b+=8):(e(_!=null&&_.oa!=null),_.pa<_.Yc?(_.b+=8,_.I=_.oa[_.pa++]|_.I<<8):_.Ka?_.b=0:(_.I<<=8,_.b+=8,_.Ka=1))}function fe(_){return W(_,1)}function Ee(_,A){var B=_.Ca;0>_.b&&oe(_);var Y=_.b,re=B*A>>>8,ce=(_.I>>>Y>re)+0;for(ce?(B-=re,_.I-=re+1<<Y>>>0):B=re+1,Y=B,re=0;256<=Y;)re+=8,Y>>=8;return Y=7^re+Zl[Y],_.b-=Y,_.Ca=(B<<Y)-1,ce}function Be(_,A,B){_[A+0]=B>>24&255,_[A+1]=B>>16&255,_[A+2]=B>>8&255,_[A+3]=255&B}function Pe(_,A){return _[A+0]|_[A+1]<<8}function ct(_,A){return Pe(_,A)|_[A+2]<<16}function q(_,A){return Pe(_,A)|Pe(_,A+2)<<16}function ae(_,A){var B=1<<A;return e(_!=null),e(0<A),_.X=a(B),_.X==null?0:(_.Mb=32-A,_.Xa=A,1)}function ke(_,A){e(_!=null),e(A!=null),e(_.Xa==A.Xa),r(A.X,0,_.X,0,1<<A.Xa)}function ye(){this.X=[],this.Xa=this.Mb=0}function he(_,A,B,Y){e(B!=null),e(Y!=null);var re=B[0],ce=Y[0];return re==0&&(re=(_*ce+A/2)/A),ce==0&&(ce=(A*re+_/2)/_),0>=re||0>=ce?0:(B[0]=re,Y[0]=ce,1)}function ve(_,A){return _+(1<<A)-1>>>A}function De(_,A){return((4278255360&_)+(4278255360&A)>>>0&4278255360)+((16711935&_)+(16711935&A)>>>0&16711935)>>>0}function Le(_,A){L[A]=function(B,Y,re,ce,ue,me,ge){var je;for(je=0;je<ue;++je){var Te=L[_](me[ge+je-1],re,ce+je);me[ge+je]=De(B[Y+je],Te)}}}function Ie(){this.ud=this.hd=this.jd=0}function Ke(_,A){return((4278124286&(_^A))>>>1)+(_&A)>>>0}function at(_){return 0<=_&&256>_?_:0>_?0:255<_?255:void 0}function Xe(_,A){return at(_+(_-A+.5>>1))}function ht(_,A,B){return Math.abs(A-B)-Math.abs(_-B)}function Tt(_,A,B,Y,re,ce,ue){for(Y=ce[ue-1],B=0;B<re;++B)ce[ue+B]=Y=De(_[A+B],Y)}function bt(_,A,B,Y,re){var ce;for(ce=0;ce<B;++ce){var ue=_[A+ce],me=ue>>8&255,ge=16711935&(ge=(ge=16711935&ue)+((me<<16)+me));Y[re+ce]=(4278255360&ue)+ge>>>0}}function _e(_,A){A.jd=255&_,A.hd=_>>8&255,A.ud=_>>16&255}function Ze(_,A,B,Y,re,ce){var ue;for(ue=0;ue<Y;++ue){var me=A[B+ue],ge=me>>>8,je=me,Te=255&(Te=(Te=me>>>16)+((_.jd<<24>>24)*(ge<<24>>24)>>>5));je=255&(je=(je+=(_.hd<<24>>24)*(ge<<24>>24)>>>5)+((_.ud<<24>>24)*(Te<<24>>24)>>>5)),re[ce+ue]=(4278255360&me)+(Te<<16)+je}}function Me(_,A,B,Y,re){L[A]=function(ce,ue,me,ge,je,Te,$e,we,Oe){for(ge=$e;ge<we;++ge)for($e=0;$e<Oe;++$e)je[Te++]=re(me[Y(ce[ue++])])},L[_]=function(ce,ue,me,ge,je,Te,$e){var we=8>>ce.b,Oe=ce.Ea,Ve=ce.K[0],et=ce.w;if(8>we)for(ce=(1<<ce.b)-1,et=(1<<we)-1;ue<me;++ue){var qe,Qe=0;for(qe=0;qe<Oe;++qe)qe&ce||(Qe=Y(ge[je++])),Te[$e++]=re(Ve[Qe&et]),Qe>>=we}else L["VP8LMapColor"+B](ge,je,Ve,et,Te,$e,ue,me,Oe)}}function xt(_,A,B,Y,re){for(B=A+B;A<B;){var ce=_[A++];Y[re++]=ce>>16&255,Y[re++]=ce>>8&255,Y[re++]=255&ce}}function ut(_,A,B,Y,re){for(B=A+B;A<B;){var ce=_[A++];Y[re++]=ce>>16&255,Y[re++]=ce>>8&255,Y[re++]=255&ce,Y[re++]=ce>>24&255}}function st(_,A,B,Y,re){for(B=A+B;A<B;){var ce=(ue=_[A++])>>16&240|ue>>12&15,ue=240&ue|ue>>28&15;Y[re++]=ce,Y[re++]=ue}}function At(_,A,B,Y,re){for(B=A+B;A<B;){var ce=(ue=_[A++])>>16&248|ue>>13&7,ue=ue>>5&224|ue>>3&31;Y[re++]=ce,Y[re++]=ue}}function $t(_,A,B,Y,re){for(B=A+B;A<B;){var ce=_[A++];Y[re++]=255&ce,Y[re++]=ce>>8&255,Y[re++]=ce>>16&255}}function Ut(_,A,B,Y,re,ce){if(ce==0)for(B=A+B;A<B;)Be(Y,((ce=_[A++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),re+=32;else r(Y,re,_,A,B)}function un(_,A){L[A][0]=L[_+"0"],L[A][1]=L[_+"1"],L[A][2]=L[_+"2"],L[A][3]=L[_+"3"],L[A][4]=L[_+"4"],L[A][5]=L[_+"5"],L[A][6]=L[_+"6"],L[A][7]=L[_+"7"],L[A][8]=L[_+"8"],L[A][9]=L[_+"9"],L[A][10]=L[_+"10"],L[A][11]=L[_+"11"],L[A][12]=L[_+"12"],L[A][13]=L[_+"13"],L[A][14]=L[_+"0"],L[A][15]=L[_+"0"]}function rn(_){return _==of||_==Nm||_==qd||_==jm}function On(){this.eb=[],this.size=this.A=this.fb=0}function Zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new On,this.f.kb=new Zn,this.sd=null}function Ht(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function bn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ci(_){return alert("todo:WebPSamplerProcessPlane"),_.T}function lt(_,A){var B=_.T,Y=A.ba.f.RGBA,re=Y.eb,ce=Y.fb+_.ka*Y.A,ue=oa[A.ba.S],me=_.y,ge=_.O,je=_.f,Te=_.N,$e=_.ea,we=_.W,Oe=A.cc,Ve=A.dc,et=A.Mc,qe=A.Nc,Qe=_.ka,it=_.ka+_.T,vt=_.U,mt=vt+1>>1;for(Qe==0?ue(me,ge,null,null,je,Te,$e,we,je,Te,$e,we,re,ce,null,null,vt):(ue(A.ec,A.fc,me,ge,Oe,Ve,et,qe,je,Te,$e,we,re,ce-Y.A,re,ce,vt),++B);Qe+2<it;Qe+=2)Oe=je,Ve=Te,et=$e,qe=we,Te+=_.Rc,we+=_.Rc,ce+=2*Y.A,ue(me,(ge+=2*_.fa)-_.fa,me,ge,Oe,Ve,et,qe,je,Te,$e,we,re,ce-Y.A,re,ce,vt);return ge+=_.fa,_.j+it<_.o?(r(A.ec,A.fc,me,ge,vt),r(A.cc,A.dc,je,Te,mt),r(A.Mc,A.Nc,$e,we,mt),B--):1&it||ue(me,ge,null,null,je,Te,$e,we,je,Te,$e,we,re,ce+Y.A,null,null,vt),B}function _t(_,A,B){var Y=_.F,re=[_.J];if(Y!=null){var ce=_.U,ue=A.ba.S,me=ue==sf||ue==qd;A=A.ba.f.RGBA;var ge=[0],je=_.ka;ge[0]=_.T,_.Kb&&(je==0?--ge[0]:(--je,re[0]-=_.width),_.j+_.ka+_.T==_.o&&(ge[0]=_.o-_.j-je));var Te=A.eb;je=A.fb+je*A.A,_=tf(Y,re[0],_.width,ce,ge,Te,je+(me?0:3),A.A),e(B==ge),_&&rn(ue)&&Ou(Te,je,me,ce,ge,A.A)}return 0}function _n(_){var A=_.ma,B=A.ba.S,Y=11>B,re=B==Aa||B==lo||B==sf||B==Vd||B==12||rn(B);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Xl(A.Oa,_,re?11:12))return 0;if(re&&rn(B)&&wt(),_.da)alert("todo:use_scaling");else{if(Y){if(A.Ib=Ci,_.Kb){if(B=_.U+1>>1,A.memory=a(_.U+2*B),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+_.U,A.Mc=A.cc,A.Nc=A.dc+B,A.Ib=lt,wt()}}else alert("todo:EmitYUV");re&&(A.Jb=_t,Y&&Ue())}if(Y&&!Hc){for(_=0;256>_;++_)la[_]=89858*(_-128)+Wd>>po,T2[_]=-22014*(_-128)+Wd,ex[_]=-45773*(_-128),Tm[_]=113618*(_-128)+Wd>>po;for(_=zu;_<$c;++_)A=76283*(_-16)+Wd>>po,k2[_-zu]=Kr(A,255),I2[_-zu]=Kr(A+8>>4,15);Hc=1}return 1}function jt(_){var A=_.ma,B=_.U,Y=_.T;return e(!(1&_.ka)),0>=B||0>=Y?0:(B=A.Ib(_,A),A.Jb!=null&&A.Jb(_,A,B),A.Dc+=B,1)}function ai(_){_.ma.memory=null}function Zi(_,A,B,Y){return X(_,8)!=47?0:(A[0]=X(_,14)+1,B[0]=X(_,14)+1,Y[0]=X(_,1),X(_,3)!=0?0:!_.h)}function Ti(_,A){if(4>_)return _+1;var B=_-2>>1;return(2+(1&_)<<B)+X(A,B)+1}function Ji(_,A){return 120<A?A-120:1<=(B=((B=uo[A-1])>>4)*_+(8-(15&B)))?B:1;var B}function Jn(_,A,B){var Y=te(B),re=_[A+=255&Y].g-8;return 0<re&&(xe(B,B.u+8),Y=te(B),A+=_[A].value,A+=Y&(1<<re)-1),xe(B,B.u+_[A].g),_[A].value}function wr(_,A,B){return B.g+=_.g,B.value+=_.value<<A>>>0,e(8>=B.g),_.g}function gi(_,A,B){var Y=_.xc;return e((A=Y==0?0:_.vc[_.md*(B>>Y)+(A>>Y)])<_.Wb),_.Ya[A]}function Qi(_,A,B,Y){var re=_.ab,ce=_.c*A,ue=_.C;A=ue+A;var me=B,ge=Y;for(Y=_.Ta,B=_.Ua;0<re--;){var je=_.gc[re],Te=ue,$e=A,we=me,Oe=ge,Ve=(ge=Y,me=B,je.Ea);switch(e(Te<$e),e($e<=je.nc),je.hc){case 2:ci(we,Oe,($e-Te)*Ve,ge,me);break;case 0:var et=Te,qe=$e,Qe=ge,it=me,vt=(Lt=je).Ea;et==0&&(zd(we,Oe,null,null,1,Qe,it),Tt(we,Oe+1,0,0,vt-1,Qe,it+1),Oe+=vt,it+=vt,++et);for(var mt=1<<Lt.b,Vt=mt-1,kt=ve(vt,Lt.b),dn=Lt.K,Lt=Lt.w+(et>>Lt.b)*kt;et<qe;){var Cn=dn,Ir=Lt,gn=1;for(Fd(we,Oe,Qe,it-vt,1,Qe,it);gn<vt;){var It=(gn&~Vt)+mt;It>vt&&(It=vt),(0,Jl[Cn[Ir++]>>8&15])(we,Oe+ +gn,Qe,it+gn-vt,It-gn,Qe,it+gn),gn=It}Oe+=vt,it+=vt,++et&Vt||(Lt+=kt)}$e!=je.nc&&r(ge,me-Ve,ge,me+($e-Te-1)*Ve,Ve);break;case 1:for(Ve=we,qe=Oe,vt=(we=je.Ea)-(it=we&~(Qe=(Oe=1<<je.b)-1)),et=ve(we,je.b),mt=je.K,je=je.w+(Te>>je.b)*et;Te<$e;){for(Vt=mt,kt=je,dn=new Ie,Lt=qe+it,Cn=qe+we;qe<Lt;)_e(Vt[kt++],dn),Ud(dn,Ve,qe,Oe,ge,me),qe+=Oe,me+=Oe;qe<Cn&&(_e(Vt[kt++],dn),Ud(dn,Ve,qe,vt,ge,me),qe+=vt,me+=vt),++Te&Qe||(je+=et)}break;case 3:if(we==ge&&Oe==me&&0<je.b){for(qe=ge,we=Ve=me+($e-Te)*Ve-(it=($e-Te)*ve(je.Ea,je.b)),Oe=ge,Qe=me,et=[],it=(vt=it)-1;0<=it;--it)et[it]=Oe[Qe+it];for(it=vt-1;0<=it;--it)qe[we+it]=et[it];xm(je,Te,$e,ge,Ve,ge,me)}else xm(je,Te,$e,we,Oe,ge,me)}me=Y,ge=B}ge!=B&&r(Y,B,me,ge,ce)}function Fi(_,A){var B=_.V,Y=_.Ba+_.c*_.C,re=A-_.C;if(e(A<=_.l.o),e(16>=re),0<re){var ce=_.l,ue=_.Ta,me=_.Ua,ge=ce.width;if(Qi(_,re,B,Y),re=me=[me],e((B=_.C)<(Y=A)),e(ce.v<ce.va),Y>ce.o&&(Y=ce.o),B<ce.j){var je=ce.j-B;B=ce.j,re[0]+=je*ge}if(B>=Y?B=0:(re[0]+=4*ce.v,ce.ka=B-ce.j,ce.U=ce.va-ce.v,ce.T=Y-B,B=1),B){if(me=me[0],11>(B=_.ca).S){var Te=B.f.RGBA,$e=(Y=B.S,re=ce.U,ce=ce.T,je=Te.eb,Te.A),we=ce;for(Te=Te.fb+_.Ma*Te.A;0<we--;){var Oe=ue,Ve=me,et=re,qe=je,Qe=Te;switch(Y){case wm:Bd(Oe,Ve,et,qe,Qe);break;case Aa:Ql(Oe,Ve,et,qe,Qe);break;case of:Ql(Oe,Ve,et,qe,Qe),Ou(qe,Qe,0,et,1,0);break;case _m:Pu(Oe,Ve,et,qe,Qe);break;case lo:Ut(Oe,Ve,et,qe,Qe,1);break;case Nm:Ut(Oe,Ve,et,qe,Qe,1),Ou(qe,Qe,0,et,1,0);break;case sf:Ut(Oe,Ve,et,qe,Qe,0);break;case qd:Ut(Oe,Ve,et,qe,Qe,0),Ou(qe,Qe,1,et,1,0);break;case Vd:ec(Oe,Ve,et,qe,Qe);break;case jm:ec(Oe,Ve,et,qe,Qe),oo(qe,Qe,et,1,0);break;case Fc:gl(Oe,Ve,et,qe,Qe);break;default:e(0)}me+=ge,Te+=$e}_.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");e(_.Ma<=B.height)}}_.C=A,e(_.C<=_.i)}function Qn(_){var A;if(0<_.ua)return 0;for(A=0;A<_.Wb;++A){var B=_.Ya[A].G,Y=_.Ya[A].H;if(0<B[1][Y[1]+0].g||0<B[2][Y[2]+0].g||0<B[3][Y[3]+0].g)return 0}return 1}function hr(_,A,B,Y,re,ce){if(_.Z!=0){var ue=_.qd,me=_.rd;for(e(rc[_.Z]!=null);A<B;++A)rc[_.Z](ue,me,Y,re,Y,re,ce),ue=Y,me=re,re+=ce;_.qd=ue,_.rd=me}}function yi(_,A){var B=_.l.ma,Y=B.Z==0||B.Z==1?_.l.j:_.C;if(Y=_.C<Y?Y:_.C,e(A<=_.l.o),A>Y){var re=_.l.width,ce=B.ca,ue=B.tb+re*Y,me=_.V,ge=_.Ba+_.c*Y,je=_.gc;e(_.ab==1),e(je[0].hc==3),pl(je[0],Y,A,me,ge,ce,ue),hr(B,Y,A,ce,ue,re)}_.C=_.Ma=A}function ya(_,A,B,Y,re,ce,ue){var me=_.$/Y,ge=_.$%Y,je=_.m,Te=_.s,$e=B+_.$,we=$e;re=B+Y*re;var Oe=B+Y*ce,Ve=280+Te.ua,et=_.Pb?me:16777216,qe=0<Te.ua?Te.Wa:null,Qe=Te.wc,it=$e<Oe?gi(Te,ge,me):null;e(_.C<ce),e(Oe<=re);var vt=!1;e:for(;;){for(;vt||$e<Oe;){var mt=0;if(me>=et){var Vt=$e-B;e((et=_).Pb),et.wd=et.m,et.xd=Vt,0<et.s.ua&&ke(et.s.Wa,et.s.vb),et=me+Uc}if(ge&Qe||(it=gi(Te,ge,me)),e(it!=null),it.Qb&&(A[$e]=it.qb,vt=!0),!vt)if(be(je),it.jc){mt=je,Vt=A;var kt=$e,dn=it.pd[te(mt)&zc-1];e(it.jc),256>dn.g?(xe(mt,mt.u+dn.g),Vt[kt]=dn.value,mt=0):(xe(mt,mt.u+dn.g-256),e(256<=dn.value),mt=dn.value),mt==0&&(vt=!0)}else mt=Jn(it.G[0],it.H[0],je);if(je.h)break;if(vt||256>mt){if(!vt)if(it.nd)A[$e]=(it.qb|mt<<8)>>>0;else{if(be(je),vt=Jn(it.G[1],it.H[1],je),be(je),Vt=Jn(it.G[2],it.H[2],je),kt=Jn(it.G[3],it.H[3],je),je.h)break;A[$e]=(kt<<24|vt<<16|mt<<8|Vt)>>>0}if(vt=!1,++$e,++ge>=Y&&(ge=0,++me,ue!=null&&me<=ce&&!(me%16)&&ue(_,me),qe!=null))for(;we<$e;)mt=A[we++],qe.X[(506832829*mt&4294967295)>>>qe.Mb]=mt}else if(280>mt){if(mt=Ti(mt-256,je),Vt=Jn(it.G[4],it.H[4],je),be(je),Vt=Ji(Y,Vt=Ti(Vt,je)),je.h)break;if($e-B<Vt||re-$e<mt)break e;for(kt=0;kt<mt;++kt)A[$e+kt]=A[$e+kt-Vt];for($e+=mt,ge+=mt;ge>=Y;)ge-=Y,++me,ue!=null&&me<=ce&&!(me%16)&&ue(_,me);if(e($e<=re),ge&Qe&&(it=gi(Te,ge,me)),qe!=null)for(;we<$e;)mt=A[we++],qe.X[(506832829*mt&4294967295)>>>qe.Mb]=mt}else{if(!(mt<Ve))break e;for(vt=mt-280,e(qe!=null);we<$e;)mt=A[we++],qe.X[(506832829*mt&4294967295)>>>qe.Mb]=mt;mt=$e,e(!(vt>>>(Vt=qe).Xa)),A[mt]=Vt.X[vt],vt=!0}vt||e(je.h==ee(je))}if(_.Pb&&je.h&&$e<re)e(_.m.h),_.a=5,_.m=_.wd,_.$=_.xd,0<_.s.ua&&ke(_.s.vb,_.s.Wa);else{if(je.h)break e;ue?.(_,me>ce?ce:me),_.a=0,_.$=$e-B}return 1}return _.a=3,0}function ls(_){e(_!=null),_.vc=null,_.yc=null,_.Ya=null;var A=_.Wa;A!=null&&(A.X=null),_.vb=null,e(_!=null)}function sl(){var _=new Bt;return _==null?null:(_.a=0,_.xb=wg,un("Predictor","VP8LPredictors"),un("Predictor","VP8LPredictors_C"),un("PredictorAdd","VP8LPredictorsAdd"),un("PredictorAdd","VP8LPredictorsAdd_C"),ci=bt,Ud=Ze,Bd=xt,Ql=ut,ec=st,gl=At,Pu=$t,L.VP8LMapColor32b=ml,L.VP8LMapColor8b=ia,_)}function Ts(_,A,B,Y,re){var ce=1,ue=[_],me=[A],ge=Y.m,je=Y.s,Te=null,$e=0;e:for(;;){if(B)for(;ce&&X(ge,1);){var we=ue,Oe=me,Ve=Y,et=1,qe=Ve.m,Qe=Ve.gc[Ve.ab],it=X(qe,2);if(Ve.Oc&1<<it)ce=0;else{switch(Ve.Oc|=1<<it,Qe.hc=it,Qe.Ea=we[0],Qe.nc=Oe[0],Qe.K=[null],++Ve.ab,e(4>=Ve.ab),it){case 0:case 1:Qe.b=X(qe,3)+2,et=Ts(ve(Qe.Ea,Qe.b),ve(Qe.nc,Qe.b),0,Ve,Qe.K),Qe.K=Qe.K[0];break;case 3:var vt,mt=X(qe,8)+1,Vt=16<mt?0:4<mt?1:2<mt?2:3;if(we[0]=ve(Qe.Ea,Vt),Qe.b=Vt,vt=et=Ts(mt,1,0,Ve,Qe.K)){var kt,dn=mt,Lt=Qe,Cn=1<<(8>>Lt.b),Ir=a(Cn);if(Ir==null)vt=0;else{var gn=Lt.K[0],It=Lt.w;for(Ir[0]=Lt.K[0][0],kt=1;kt<1*dn;++kt)Ir[kt]=De(gn[It+kt],Ir[kt-1]);for(;kt<4*Cn;++kt)Ir[kt]=0;Lt.K[0]=null,Lt.K[0]=Ir,vt=1}}et=vt;break;case 2:break;default:e(0)}ce=et}}if(ue=ue[0],me=me[0],ce&&X(ge,1)&&!(ce=1<=($e=X(ge,4))&&11>=$e)){Y.a=3;break e}var Nt;if(Nt=ce)t:{var Fr,an,wn,ar=Y,Ii=ue,ca=me,Sr=$e,vi=B,Ea=ar.m,bi=ar.s,An=[null],qn=1,Ur=0,Kn=ho[Sr];n:for(;;){if(vi&&X(Ea,1)){var Pi=X(Ea,3)+2,Br=ve(Ii,Pi),$n=ve(ca,Pi),hi=Br*$n;if(!Ts(Br,$n,0,ar,An))break n;for(An=An[0],bi.xc=Pi,Fr=0;Fr<hi;++Fr){var sr=An[Fr]>>8&65535;An[Fr]=sr,sr>=qn&&(qn=sr+1)}}if(Ea.h)break n;for(an=0;5>an;++an){var wi=Lu[an];!an&&0<Sr&&(wi+=1<<Sr),Ur<wi&&(Ur=wi)}var _i=o(qn*Kn,U),pr=qn,Vn=o(pr,le);if(Vn==null)var Ca=null;else e(65536>=pr),Ca=Vn;var Zr=a(Ur);if(Ca==null||Zr==null||_i==null){ar.a=1;break n}var Zt=_i;for(Fr=wn=0;Fr<qn;++Fr){var Qt=Ca[Fr],Hn=Qt.G,fs=Qt.H,go=0,Ya=1,Ni=0;for(an=0;5>an;++an){wi=Lu[an],Hn[an]=Zt,fs[an]=wn,!an&&0<Sr&&(wi+=1<<Sr);i:{var Wc,Gc=wi,Im=ar,Ar=Zr,Ng=Zt,jg=wn,Pm=0,ic=Im.m,P2=X(ic,1);if(i(Ar,0,0,Gc),P2){var Sg=X(ic,1)+1,Ag=X(ic,1),Rm=X(ic,Ag==0?1:8);Ar[Rm]=1,Sg==2&&(Ar[Rm=X(ic,8)]=1);var Vi=1}else{var Jr=a(19),df=X(ic,4)+4;if(19<df){Im.a=3;var Yc=0;break i}for(Wc=0;Wc<df;++Wc)Jr[lf[Wc]]=X(ic,3);var Yd=void 0,Fu=void 0,vl=Im,Om=Jr,Kd=Gc,Dm=Ar,Lm=0,ac=vl.m,Eg=8,Cg=o(128,U);r:for(;I(Cg,0,7,Om,19);){if(X(ac,1)){var tx=2+2*X(ac,3);if((Yd=2+X(ac,tx))>Kd)break r}else Yd=Kd;for(Fu=0;Fu<Kd&&Yd--;){be(ac);var Tg=Cg[0+(127&te(ac))];xe(ac,ac.u+Tg.g);var Kc=Tg.value;if(16>Kc)Dm[Fu++]=Kc,Kc!=0&&(Eg=Kc);else{var nx=Kc==16,rx=Kc-16,ix=$d[rx],kg=X(ac,co[rx])+ix;if(Fu+kg>Kd)break r;for(var ax=nx?Eg:0;0<kg--;)Dm[Fu++]=ax}}Lm=1;break r}Lm||(vl.a=3),Vi=Lm}(Vi=Vi&&!ic.h)&&(Pm=I(Ng,jg,8,Ar,Gc)),Vi&&Pm!=0?Yc=Pm:(Im.a=3,Yc=0)}if(Yc==0)break n;if(Ya&&Sm[an]==1&&(Ya=Zt[wn].g==0),go+=Zt[wn].g,wn+=Yc,3>=an){var Uu,Mm=Zr[0];for(Uu=1;Uu<wi;++Uu)Zr[Uu]>Mm&&(Mm=Zr[Uu]);Ni+=Mm}}if(Qt.nd=Ya,Qt.Qb=0,Ya&&(Qt.qb=(Hn[3][fs[3]+0].value<<24|Hn[1][fs[1]+0].value<<16|Hn[2][fs[2]+0].value)>>>0,go==0&&256>Hn[0][fs[0]+0].value&&(Qt.Qb=1,Qt.qb+=Hn[0][fs[0]+0].value<<8)),Qt.jc=!Qt.Qb&&6>Ni,Qt.jc){var hf,bl=Qt;for(hf=0;hf<zc;++hf){var sc=hf,oc=bl.pd[sc],zm=bl.G[0][bl.H[0]+sc];256<=zm.value?(oc.g=zm.g+256,oc.value=zm.value):(oc.g=0,oc.value=0,sc>>=wr(zm,8,oc),sc>>=wr(bl.G[1][bl.H[1]+sc],16,oc),sc>>=wr(bl.G[2][bl.H[2]+sc],0,oc),wr(bl.G[3][bl.H[3]+sc],24,oc))}}}bi.vc=An,bi.Wb=qn,bi.Ya=Ca,bi.yc=_i,Nt=1;break t}Nt=0}if(!(ce=Nt)){Y.a=3;break e}if(0<$e){if(je.ua=1<<$e,!ae(je.Wa,$e)){Y.a=1,ce=0;break e}}else je.ua=0;var Fm=Y,Bu=ue,sx=me,Xd=Fm.s,Zd=Xd.xc;if(Fm.c=Bu,Fm.i=sx,Xd.md=ve(Bu,Zd),Xd.wc=Zd==0?-1:(1<<Zd)-1,B){Y.xb=Bc;break e}if((Te=a(ue*me))==null){Y.a=1,ce=0;break e}ce=(ce=ya(Y,Te,0,ue,me,me,null))&&!ge.h;break e}return ce?(re!=null?re[0]=Te:(e(Te==null),e(B)),Y.$=0,B||ls(je)):ls(je),ce}function xa(_,A){var B=_.c*_.i,Y=B+A+16*A;return e(_.c<=A),_.V=a(Y),_.V==null?(_.Ta=null,_.Ua=0,_.a=1,0):(_.Ta=_.V,_.Ua=_.Ba+B+A,1)}function Io(_,A){var B=_.C,Y=A-B,re=_.V,ce=_.Ba+_.c*B;for(e(A<=_.l.o);0<Y;){var ue=16<Y?16:Y,me=_.l.ma,ge=_.l.width,je=ge*ue,Te=me.ca,$e=me.tb+ge*B,we=_.Ta,Oe=_.Ua;Qi(_,ue,re,ce),Bs(we,Oe,Te,$e,je),hr(me,B,B+ue,Te,$e,ge),Y-=ue,re+=ue*_.c,B+=ue}e(B==A),_.C=_.Ma=A}function Fa(){this.ub=this.yd=this.td=this.Rb=0}function ea(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ua(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function cs(){this.Yb=(function(){var _=[];return(function A(B,Y,re){for(var ce=re[Y],ue=0;ue<ce&&(B.push(re.length>Y+1?[]:0),!(re.length<Y+1));ue++)A(B[ue],Y+1,re)})(_,0,[3,11]),_})()}function zr(){this.jb=a(3),this.Wc=c([4,8],cs),this.Xc=c([4,17],cs)}function Tc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function va(){this.ld=this.La=this.dd=this.tc=0}function us(){this.Na=this.la=0}function ks(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function $l(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kc(){this.uc=this.M=this.Nb=0,this.wa=Array(new va),this.Y=0,this.ya=Array(new $l),this.aa=0,this.l=new Po}function Ic(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Su(){this.cb=this.a=0,this.sc="",this.m=new O,this.Od=new Fa,this.Kc=new ea,this.ed=new Tc,this.Qa=new Ua,this.Ic=this.$c=this.Aa=0,this.D=new kc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,O),this.ia=0,this.pb=o(4,ks),this.Pa=new zr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ic),this.Hd=0,this.rb=Array(new us),this.sb=0,this.wa=Array(new va),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new $l),this.L=this.aa=0,this.gd=c([4,2],va),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Po(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ba(){var _=new Su;return _!=null&&(_.a=0,_.sc="OK",_.cb=0,_.Xb=0,Vs||(Vs=Is)),_}function Nn(_,A,B){return _.a==0&&(_.a=A,_.sc=B,_.cb=0),0}function si(_,A,B){return 3<=B&&_[A+0]==157&&_[A+1]==1&&_[A+2]==42}function Ro(_,A){if(_==null)return 0;if(_.a=0,_.sc="OK",A==null)return Nn(_,2,"null VP8Io passed to VP8GetHeaders()");var B=A.data,Y=A.w,re=A.ha;if(4>re)return Nn(_,7,"Truncated header.");var ce=B[Y+0]|B[Y+1]<<8|B[Y+2]<<16,ue=_.Od;if(ue.Rb=!(1&ce),ue.td=ce>>1&7,ue.yd=ce>>4&1,ue.ub=ce>>5,3<ue.td)return Nn(_,3,"Incorrect keyframe parameters.");if(!ue.yd)return Nn(_,4,"Frame not displayable.");Y+=3,re-=3;var me=_.Kc;if(ue.Rb){if(7>re)return Nn(_,7,"cannot parse picture header");if(!si(B,Y,re))return Nn(_,3,"Bad code word");me.c=16383&(B[Y+4]<<8|B[Y+3]),me.Td=B[Y+4]>>6,me.i=16383&(B[Y+6]<<8|B[Y+5]),me.Ud=B[Y+6]>>6,Y+=7,re-=7,_.za=me.c+15>>4,_.Ub=me.i+15>>4,A.width=me.c,A.height=me.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((ce=_.Pa).jb,0,255,ce.jb.length),e((ce=_.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(ue.ub>re)return Nn(_,7,"bad partition length");G(ce=_.m,B,Y,ue.ub),Y+=ue.ub,re-=ue.ub,ue.Rb&&(me.Ld=fe(ce),me.Kd=fe(ce)),me=_.Qa;var ge,je=_.Pa;if(e(ce!=null),e(me!=null),me.Cb=fe(ce),me.Cb){if(me.Bb=fe(ce),fe(ce)){for(me.Fb=fe(ce),ge=0;4>ge;++ge)me.Zb[ge]=fe(ce)?ie(ce,7):0;for(ge=0;4>ge;++ge)me.Lb[ge]=fe(ce)?ie(ce,6):0}if(me.Bb)for(ge=0;3>ge;++ge)je.jb[ge]=fe(ce)?W(ce,8):255}else me.Bb=0;if(ce.Ka)return Nn(_,3,"cannot parse segment header");if((me=_.ed).zd=fe(ce),me.Tb=W(ce,6),me.wb=W(ce,3),me.Pc=fe(ce),me.Pc&&fe(ce)){for(je=0;4>je;++je)fe(ce)&&(me.vd[je]=ie(ce,6));for(je=0;4>je;++je)fe(ce)&&(me.od[je]=ie(ce,6))}if(_.L=me.Tb==0?0:me.zd?1:2,ce.Ka)return Nn(_,3,"cannot parse filter header");var Te=re;if(re=ge=Y,Y=ge+Te,me=Te,_.Xb=(1<<W(_.m,2))-1,Te<3*(je=_.Xb))B=7;else{for(ge+=3*je,me-=3*je,Te=0;Te<je;++Te){var $e=B[re+0]|B[re+1]<<8|B[re+2]<<16;$e>me&&($e=me),G(_.Jc[+Te],B,ge,$e),ge+=$e,me-=$e,re+=3}G(_.Jc[+je],B,ge,me),B=ge<Y?0:5}if(B!=0)return Nn(_,B,"cannot parse partitions");for(B=W(ge=_.m,7),re=fe(ge)?ie(ge,4):0,Y=fe(ge)?ie(ge,4):0,me=fe(ge)?ie(ge,4):0,je=fe(ge)?ie(ge,4):0,ge=fe(ge)?ie(ge,4):0,Te=_.Qa,$e=0;4>$e;++$e){if(Te.Cb){var we=Te.Zb[$e];Te.Fb||(we+=B)}else{if(0<$e){_.pb[$e]=_.pb[0];continue}we=B}var Oe=_.pb[$e];Oe.Sc[0]=fo[Kr(we+re,127)],Oe.Sc[1]=mo[Kr(we+0,127)],Oe.Eb[0]=2*fo[Kr(we+Y,127)],Oe.Eb[1]=101581*mo[Kr(we+me,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=fo[Kr(we+je,117)],Oe.Qc[1]=mo[Kr(we+ge,127)],Oe.lc=we+ge}if(!ue.Rb)return Nn(_,4,"Not a key frame.");for(fe(ce),ue=_.Pa,B=0;4>B;++B){for(re=0;8>re;++re)for(Y=0;3>Y;++Y)for(me=0;11>me;++me)je=Ee(ce,kr[B][re][Y][me])?W(ce,8):Qy[B][re][Y][me],ue.Wc[B][re].Yb[Y][me]=je;for(re=0;17>re;++re)ue.Xc[B][re]=ue.Wc[B][kn[re]]}return _.kc=fe(ce),_.kc&&(_.Bd=W(ce,8)),_.cb=1}function Is(_,A,B,Y,re,ce,ue){var me=A[re].Yb[B];for(B=0;16>re;++re){if(!Ee(_,me[B+0]))return re;for(;!Ee(_,me[B+1]);)if(me=A[++re].Yb[0],B=0,re==16)return 16;var ge=A[re+1].Yb;if(Ee(_,me[B+2])){var je=_,Te=0;if(Ee(je,(we=me)[($e=B)+3]))if(Ee(je,we[$e+6])){for(me=0,$e=2*(Te=Ee(je,we[$e+8]))+(we=Ee(je,we[$e+9+Te])),Te=0,we=Jy[$e];we[me];++me)Te+=Te+Ee(je,we[me]);Te+=3+(8<<$e)}else Ee(je,we[$e+7])?(Te=7+2*Ee(je,165),Te+=Ee(je,145)):Te=5+Ee(je,159);else Te=Ee(je,we[$e+4])?3+Ee(je,we[$e+5]):2;me=ge[2]}else Te=1,me=ge[1];ge=ue+bg[re],0>(je=_).b&&oe(je);var $e,we=je.b,Oe=($e=je.Ca>>1)-(je.I>>we)>>31;--je.b,je.Ca+=Oe,je.Ca|=1,je.I-=($e+1&Oe)<<we,ce[ge]=((Te^Oe)-Oe)*Y[(0<re)+0]}return 16}function Tn(_){var A=_.rb[_.sb-1];A.la=0,A.Na=0,i(_.zc,0,0,_.zc.length),_.ja=0}function ta(_,A,B,Y,re){re=_[A+B+32*Y]+(re>>3),_[A+B+32*Y]=-256&re?0>re?0:255:re}function ba(_,A,B,Y,re,ce){ta(_,A,0,B,Y+re),ta(_,A,1,B,Y+ce),ta(_,A,2,B,Y-ce),ta(_,A,3,B,Y-re)}function fr(_){return(20091*_>>16)+_}function Ui(_,A,B,Y){var re,ce=0,ue=a(16);for(re=0;4>re;++re){var me=_[A+0]+_[A+8],ge=_[A+0]-_[A+8],je=(35468*_[A+4]>>16)-fr(_[A+12]),Te=fr(_[A+4])+(35468*_[A+12]>>16);ue[ce+0]=me+Te,ue[ce+1]=ge+je,ue[ce+2]=ge-je,ue[ce+3]=me-Te,ce+=4,A++}for(re=ce=0;4>re;++re)me=(_=ue[ce+0]+4)+ue[ce+8],ge=_-ue[ce+8],je=(35468*ue[ce+4]>>16)-fr(ue[ce+12]),ta(B,Y,0,0,me+(Te=fr(ue[ce+4])+(35468*ue[ce+12]>>16))),ta(B,Y,1,0,ge+je),ta(B,Y,2,0,ge-je),ta(B,Y,3,0,me-Te),ce++,Y+=32}function Pc(_,A,B,Y){var re=_[A+0]+4,ce=35468*_[A+4]>>16,ue=fr(_[A+4]),me=35468*_[A+1]>>16;ba(B,Y,0,re+ue,_=fr(_[A+1]),me),ba(B,Y,1,re+ce,_,me),ba(B,Y,2,re-ce,_,me),ba(B,Y,3,re-ue,_,me)}function Ld(_,A,B,Y,re){Ui(_,A,B,Y),re&&Ui(_,A+16,B,Y+4)}function Au(_,A,B,Y){tc(_,A+0,B,Y,1),tc(_,A+32,B,Y+128,1)}function na(_,A,B,Y){var re;for(_=_[A+0]+4,re=0;4>re;++re)for(A=0;4>A;++A)ta(B,Y,A,re,_)}function Eu(_,A,B,Y){_[A+0]&&Yn(_,A+0,B,Y),_[A+16]&&Yn(_,A+16,B,Y+4),_[A+32]&&Yn(_,A+32,B,Y+128),_[A+48]&&Yn(_,A+48,B,Y+128+4)}function Oo(_,A,B,Y){var re,ce=a(16);for(re=0;4>re;++re){var ue=_[A+0+re]+_[A+12+re],me=_[A+4+re]+_[A+8+re],ge=_[A+4+re]-_[A+8+re],je=_[A+0+re]-_[A+12+re];ce[0+re]=ue+me,ce[8+re]=ue-me,ce[4+re]=je+ge,ce[12+re]=je-ge}for(re=0;4>re;++re)ue=(_=ce[0+4*re]+3)+ce[3+4*re],me=ce[1+4*re]+ce[2+4*re],ge=ce[1+4*re]-ce[2+4*re],je=_-ce[3+4*re],B[Y+0]=ue+me>>3,B[Y+16]=je+ge>>3,B[Y+32]=ue-me>>3,B[Y+48]=je-ge>>3,Y+=64}function oi(_,A,B){var Y,re=A-32,ce=Sa,ue=255-_[re-1];for(Y=0;Y<B;++Y){var me,ge=ce,je=ue+_[A-1];for(me=0;me<B;++me)_[A+me]=ge[je+_[re+me]];A+=32}}function Rc(_,A){oi(_,A,4)}function Cu(_,A){oi(_,A,8)}function Tu(_,A){oi(_,A,16)}function Oc(_,A){var B;for(B=0;16>B;++B)r(_,A+32*B,_,A-32,16)}function Dc(_,A){var B;for(B=16;0<B;--B)i(_,A,_[A-1],16),A+=32}function ds(_,A,B){var Y;for(Y=0;16>Y;++Y)i(A,B+32*Y,_,16)}function Ps(_,A){var B,Y=16;for(B=0;16>B;++B)Y+=_[A-1+32*B]+_[A+B-32];ds(Y>>5,_,A)}function Rs(_,A){var B,Y=8;for(B=0;16>B;++B)Y+=_[A-1+32*B];ds(Y>>4,_,A)}function Do(_,A){var B,Y=8;for(B=0;16>B;++B)Y+=_[A+B-32];ds(Y>>4,_,A)}function wa(_,A){ds(128,_,A)}function nn(_,A,B){return _+2*A+B+2>>2}function to(_,A){var B,Y=A-32;for(Y=new Uint8Array([nn(_[Y-1],_[Y+0],_[Y+1]),nn(_[Y+0],_[Y+1],_[Y+2]),nn(_[Y+1],_[Y+2],_[Y+3]),nn(_[Y+2],_[Y+3],_[Y+4])]),B=0;4>B;++B)r(_,A+32*B,Y,0,Y.length)}function Hl(_,A){var B=_[A-1],Y=_[A-1+32],re=_[A-1+64],ce=_[A-1+96];Be(_,A+0,16843009*nn(_[A-1-32],B,Y)),Be(_,A+32,16843009*nn(B,Y,re)),Be(_,A+64,16843009*nn(Y,re,ce)),Be(_,A+96,16843009*nn(re,ce,ce))}function Lc(_,A){var B,Y=4;for(B=0;4>B;++B)Y+=_[A+B-32]+_[A-1+32*B];for(Y>>=3,B=0;4>B;++B)i(_,A+32*B,Y,4)}function ol(_,A){var B=_[A-1+0],Y=_[A-1+32],re=_[A-1+64],ce=_[A-1-32],ue=_[A+0-32],me=_[A+1-32],ge=_[A+2-32],je=_[A+3-32];_[A+0+96]=nn(Y,re,_[A-1+96]),_[A+1+96]=_[A+0+64]=nn(B,Y,re),_[A+2+96]=_[A+1+64]=_[A+0+32]=nn(ce,B,Y),_[A+3+96]=_[A+2+64]=_[A+1+32]=_[A+0+0]=nn(ue,ce,B),_[A+3+64]=_[A+2+32]=_[A+1+0]=nn(me,ue,ce),_[A+3+32]=_[A+2+0]=nn(ge,me,ue),_[A+3+0]=nn(je,ge,me)}function ki(_,A){var B=_[A+1-32],Y=_[A+2-32],re=_[A+3-32],ce=_[A+4-32],ue=_[A+5-32],me=_[A+6-32],ge=_[A+7-32];_[A+0+0]=nn(_[A+0-32],B,Y),_[A+1+0]=_[A+0+32]=nn(B,Y,re),_[A+2+0]=_[A+1+32]=_[A+0+64]=nn(Y,re,ce),_[A+3+0]=_[A+2+32]=_[A+1+64]=_[A+0+96]=nn(re,ce,ue),_[A+3+32]=_[A+2+64]=_[A+1+96]=nn(ce,ue,me),_[A+3+64]=_[A+2+96]=nn(ue,me,ge),_[A+3+96]=nn(me,ge,ge)}function xi(_,A){var B=_[A-1+0],Y=_[A-1+32],re=_[A-1+64],ce=_[A-1-32],ue=_[A+0-32],me=_[A+1-32],ge=_[A+2-32],je=_[A+3-32];_[A+0+0]=_[A+1+64]=ce+ue+1>>1,_[A+1+0]=_[A+2+64]=ue+me+1>>1,_[A+2+0]=_[A+3+64]=me+ge+1>>1,_[A+3+0]=ge+je+1>>1,_[A+0+96]=nn(re,Y,B),_[A+0+64]=nn(Y,B,ce),_[A+0+32]=_[A+1+96]=nn(B,ce,ue),_[A+1+32]=_[A+2+96]=nn(ce,ue,me),_[A+2+32]=_[A+3+96]=nn(ue,me,ge),_[A+3+32]=nn(me,ge,je)}function Wl(_,A){var B=_[A+0-32],Y=_[A+1-32],re=_[A+2-32],ce=_[A+3-32],ue=_[A+4-32],me=_[A+5-32],ge=_[A+6-32],je=_[A+7-32];_[A+0+0]=B+Y+1>>1,_[A+1+0]=_[A+0+64]=Y+re+1>>1,_[A+2+0]=_[A+1+64]=re+ce+1>>1,_[A+3+0]=_[A+2+64]=ce+ue+1>>1,_[A+0+32]=nn(B,Y,re),_[A+1+32]=_[A+0+96]=nn(Y,re,ce),_[A+2+32]=_[A+1+96]=nn(re,ce,ue),_[A+3+32]=_[A+2+96]=nn(ce,ue,me),_[A+3+64]=nn(ue,me,ge),_[A+3+96]=nn(me,ge,je)}function er(_,A){var B=_[A-1+0],Y=_[A-1+32],re=_[A-1+64],ce=_[A-1+96];_[A+0+0]=B+Y+1>>1,_[A+2+0]=_[A+0+32]=Y+re+1>>1,_[A+2+32]=_[A+0+64]=re+ce+1>>1,_[A+1+0]=nn(B,Y,re),_[A+3+0]=_[A+1+32]=nn(Y,re,ce),_[A+3+32]=_[A+1+64]=nn(re,ce,ce),_[A+3+64]=_[A+2+64]=_[A+0+96]=_[A+1+96]=_[A+2+96]=_[A+3+96]=ce}function Va(_,A){var B=_[A-1+0],Y=_[A-1+32],re=_[A-1+64],ce=_[A-1+96],ue=_[A-1-32],me=_[A+0-32],ge=_[A+1-32],je=_[A+2-32];_[A+0+0]=_[A+2+32]=B+ue+1>>1,_[A+0+32]=_[A+2+64]=Y+B+1>>1,_[A+0+64]=_[A+2+96]=re+Y+1>>1,_[A+0+96]=ce+re+1>>1,_[A+3+0]=nn(me,ge,je),_[A+2+0]=nn(ue,me,ge),_[A+1+0]=_[A+3+32]=nn(B,ue,me),_[A+1+32]=_[A+3+64]=nn(Y,B,ue),_[A+1+64]=_[A+3+96]=nn(re,Y,B),_[A+1+96]=nn(ce,re,Y)}function Gl(_,A){var B;for(B=0;8>B;++B)r(_,A+32*B,_,A-32,8)}function Os(_,A){var B;for(B=0;8>B;++B)i(_,A,_[A-1],8),A+=32}function ll(_,A,B){var Y;for(Y=0;8>Y;++Y)i(A,B+32*Y,_,8)}function no(_,A){var B,Y=8;for(B=0;8>B;++B)Y+=_[A+B-32]+_[A-1+32*B];ll(Y>>4,_,A)}function Lo(_,A){var B,Y=4;for(B=0;8>B;++B)Y+=_[A+B-32];ll(Y>>3,_,A)}function qa(_,A){var B,Y=4;for(B=0;8>B;++B)Y+=_[A-1+32*B];ll(Y>>3,_,A)}function li(_,A){ll(128,_,A)}function $a(_,A,B){var Y=_[A-B],re=_[A+0],ce=3*(re-Y)+nc[1020+_[A-2*B]-_[A+B]],ue=af[112+(ce+4>>3)];_[A-B]=Sa[255+Y+af[112+(ce+3>>3)]],_[A+0]=Sa[255+re-ue]}function _a(_,A,B,Y){var re=_[A+0],ce=_[A+B];return aa[255+_[A-2*B]-_[A-B]]>Y||aa[255+ce-re]>Y}function ro(_,A,B,Y){return 4*aa[255+_[A-B]-_[A+0]]+aa[255+_[A-2*B]-_[A+B]]<=Y}function cl(_,A,B,Y,re){var ce=_[A-3*B],ue=_[A-2*B],me=_[A-B],ge=_[A+0],je=_[A+B],Te=_[A+2*B],$e=_[A+3*B];return 4*aa[255+me-ge]+aa[255+ue-je]>Y?0:aa[255+_[A-4*B]-ce]<=re&&aa[255+ce-ue]<=re&&aa[255+ue-me]<=re&&aa[255+$e-Te]<=re&&aa[255+Te-je]<=re&&aa[255+je-ge]<=re}function io(_,A,B,Y){var re=2*Y+1;for(Y=0;16>Y;++Y)ro(_,A+Y,B,re)&&$a(_,A+Y,B)}function ao(_,A,B,Y){var re=2*Y+1;for(Y=0;16>Y;++Y)ro(_,A+Y*B,1,re)&&$a(_,A+Y*B,1)}function Ds(_,A,B,Y){var re;for(re=3;0<re;--re)io(_,A+=4*B,B,Y)}function Yl(_,A,B,Y){var re;for(re=3;0<re;--re)ao(_,A+=4,B,Y)}function Ls(_,A,B,Y,re,ce,ue,me){for(ce=2*ce+1;0<re--;){if(cl(_,A,B,ce,ue))if(_a(_,A,B,me))$a(_,A,B);else{var ge=_,je=A,Te=B,$e=ge[je-2*Te],we=ge[je-Te],Oe=ge[je+0],Ve=ge[je+Te],et=ge[je+2*Te],qe=27*(it=nc[1020+3*(Oe-we)+nc[1020+$e-Ve]])+63>>7,Qe=18*it+63>>7,it=9*it+63>>7;ge[je-3*Te]=Sa[255+ge[je-3*Te]+it],ge[je-2*Te]=Sa[255+$e+Qe],ge[je-Te]=Sa[255+we+qe],ge[je+0]=Sa[255+Oe-qe],ge[je+Te]=Sa[255+Ve-Qe],ge[je+2*Te]=Sa[255+et-it]}A+=Y}}function Ha(_,A,B,Y,re,ce,ue,me){for(ce=2*ce+1;0<re--;){if(cl(_,A,B,ce,ue))if(_a(_,A,B,me))$a(_,A,B);else{var ge=_,je=A,Te=B,$e=ge[je-Te],we=ge[je+0],Oe=ge[je+Te],Ve=af[112+(4+(et=3*(we-$e))>>3)],et=af[112+(et+3>>3)],qe=Ve+1>>1;ge[je-2*Te]=Sa[255+ge[je-2*Te]+qe],ge[je-Te]=Sa[255+$e+et],ge[je+0]=Sa[255+we-Ve],ge[je+Te]=Sa[255+Oe-qe]}A+=Y}}function ku(_,A,B,Y,re,ce){Ls(_,A,B,1,16,Y,re,ce)}function Iu(_,A,B,Y,re,ce){Ls(_,A,1,B,16,Y,re,ce)}function Ms(_,A,B,Y,re,ce){var ue;for(ue=3;0<ue;--ue)Ha(_,A+=4*B,B,1,16,Y,re,ce)}function Mc(_,A,B,Y,re,ce){var ue;for(ue=3;0<ue;--ue)Ha(_,A+=4,1,B,16,Y,re,ce)}function R(_,A,B,Y,re,ce,ue,me){Ls(_,A,re,1,8,ce,ue,me),Ls(B,Y,re,1,8,ce,ue,me)}function ne(_,A,B,Y,re,ce,ue,me){Ls(_,A,1,re,8,ce,ue,me),Ls(B,Y,1,re,8,ce,ue,me)}function Ne(_,A,B,Y,re,ce,ue,me){Ha(_,A+4*re,re,1,8,ce,ue,me),Ha(B,Y+4*re,re,1,8,ce,ue,me)}function Ce(_,A,B,Y,re,ce,ue,me){Ha(_,A+4,1,re,8,ce,ue,me),Ha(B,Y+4,1,re,8,ce,ue,me)}function ze(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new bn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rt(){this.ua=0,this.Wa=new ye,this.vb=new ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new le,this.yc=new U}function Bt(){this.xb=this.a=0,this.l=new Po,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rt,this.ab=0,this.gc=o(4,gt),this.Oc=0}function Jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Po,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yt(_,A,B,Y,re,ce,ue){for(_=_==null?0:_[A+0],A=0;A<ue;++A)re[ce+A]=_+B[Y+A]&255,_=re[ce+A]}function Dn(_,A,B,Y,re,ce,ue){var me;if(_==null)Yt(null,null,B,Y,re,ce,ue);else for(me=0;me<ue;++me)re[ce+me]=_[A+me]+B[Y+me]&255}function _r(_,A,B,Y,re,ce,ue){if(_==null)Yt(null,null,B,Y,re,ce,ue);else{var me,ge=_[A+0],je=ge,Te=ge;for(me=0;me<ue;++me)je=Te+(ge=_[A+me])-je,Te=B[Y+me]+(-256&je?0>je?0:255:je)&255,je=ge,re[ce+me]=Te}}function lr(_,A,B,Y){var re=A.width,ce=A.o;if(e(_!=null&&A!=null),0>B||0>=Y||B+Y>ce)return null;if(!_.Cc){if(_.ga==null){var ue;if(_.ga=new Jt,(ue=_.ga==null)||(ue=A.width*A.o,e(_.Gb.length==0),_.Gb=a(ue),_.Uc=0,_.Gb==null?ue=0:(_.mb=_.Gb,_.nb=_.Uc,_.rc=null,ue=1),ue=!ue),!ue){ue=_.ga;var me=_.Fa,ge=_.P,je=_.qc,Te=_.mb,$e=_.nb,we=ge+1,Oe=je-1,Ve=ue.l;if(e(me!=null&&Te!=null&&A!=null),rc[0]=null,rc[1]=Yt,rc[2]=Dn,rc[3]=_r,ue.ca=Te,ue.tb=$e,ue.c=A.width,ue.i=A.height,e(0<ue.c&&0<ue.i),1>=je)A=0;else if(ue.$a=3&me[ge+0],ue.Z=me[ge+0]>>2&3,ue.Lc=me[ge+0]>>4&3,ge=me[ge+0]>>6&3,0>ue.$a||1<ue.$a||4<=ue.Z||1<ue.Lc||ge)A=0;else if(Ve.put=jt,Ve.ac=_n,Ve.bc=ai,Ve.ma=ue,Ve.width=A.width,Ve.height=A.height,Ve.Da=A.Da,Ve.v=A.v,Ve.va=A.va,Ve.j=A.j,Ve.o=A.o,ue.$a)e:{e(ue.$a==1),A=sl();t:for(;;){if(A==null){A=0;break e}if(e(ue!=null),ue.mc=A,A.c=ue.c,A.i=ue.i,A.l=ue.l,A.l.ma=ue,A.l.width=ue.c,A.l.height=ue.i,A.a=0,se(A.m,me,we,Oe),!Ts(ue.c,ue.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&Qn(A.s)?(ue.ic=1,me=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(me),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ue.ic=0,A=xa(A,ue.c)),!A))break t;A=1;break e}ue.mc=null,A=0}else A=Oe>=ue.c*ue.i;ue=!A}if(ue)return null;_.ga.Lc!=1?_.Ga=0:Y=ce-B}e(_.ga!=null),e(B+Y<=ce);e:{if(A=(me=_.ga).c,ce=me.l.o,me.$a==0){if(we=_.rc,Oe=_.Vc,Ve=_.Fa,ge=_.P+1+B*A,je=_.mb,Te=_.nb+B*A,e(ge<=_.P+_.qc),me.Z!=0)for(e(rc[me.Z]!=null),ue=0;ue<Y;++ue)rc[me.Z](we,Oe,Ve,ge,je,Te,A),we=je,Oe=Te,Te+=A,ge+=A;else for(ue=0;ue<Y;++ue)r(je,Te,Ve,ge,A),we=je,Oe=Te,Te+=A,ge+=A;_.rc=we,_.Vc=Oe}else{if(e(me.mc!=null),A=B+Y,e((ue=me.mc)!=null),e(A<=ue.i),ue.C>=A)A=1;else if(me.ic||Ue(),me.ic){me=ue.V,we=ue.Ba,Oe=ue.c;var et=ue.i,qe=(Ve=1,ge=ue.$/Oe,je=ue.$%Oe,Te=ue.m,$e=ue.s,ue.$),Qe=Oe*et,it=Oe*A,vt=$e.wc,mt=qe<it?gi($e,je,ge):null;e(qe<=Qe),e(A<=et),e(Qn($e));t:for(;;){for(;!Te.h&&qe<it;){if(je&vt||(mt=gi($e,je,ge)),e(mt!=null),be(Te),256>(et=Jn(mt.G[0],mt.H[0],Te)))me[we+qe]=et,++qe,++je>=Oe&&(je=0,++ge<=A&&!(ge%16)&&yi(ue,ge));else{if(!(280>et)){Ve=0;break t}et=Ti(et-256,Te);var Vt,kt=Jn(mt.G[4],mt.H[4],Te);if(be(Te),!(qe>=(kt=Ji(Oe,kt=Ti(kt,Te)))&&Qe-qe>=et)){Ve=0;break t}for(Vt=0;Vt<et;++Vt)me[we+qe+Vt]=me[we+qe+Vt-kt];for(qe+=et,je+=et;je>=Oe;)je-=Oe,++ge<=A&&!(ge%16)&&yi(ue,ge);qe<it&&je&vt&&(mt=gi($e,je,ge))}e(Te.h==ee(Te))}yi(ue,ge>A?A:ge);break t}!Ve||Te.h&&qe<Qe?(Ve=0,ue.a=Te.h?5:3):ue.$=qe,A=Ve}else A=ya(ue,ue.V,ue.Ba,ue.c,ue.i,A,Io);if(!A){Y=0;break e}}B+Y>=ce&&(_.Cc=1),Y=1}if(!Y)return null;if(_.Cc&&((Y=_.ga)!=null&&(Y.mc=null),_.ga=null,0<_.Ga))return alert("todo:WebPDequantizeLevels"),null}return _.nb+B*re}function N(_,A,B,Y,re,ce){for(;0<re--;){var ue,me=_,ge=A+(B?1:0),je=_,Te=A+(B?0:3);for(ue=0;ue<Y;++ue){var $e=je[Te+4*ue];$e!=255&&($e*=32897,me[ge+4*ue+0]=me[ge+4*ue+0]*$e>>23,me[ge+4*ue+1]=me[ge+4*ue+1]*$e>>23,me[ge+4*ue+2]=me[ge+4*ue+2]*$e>>23)}A+=ce}}function $(_,A,B,Y,re){for(;0<Y--;){var ce;for(ce=0;ce<B;++ce){var ue=_[A+2*ce+0],me=15&(je=_[A+2*ce+1]),ge=4369*me,je=(240&je|je>>4)*ge>>16;_[A+2*ce+0]=(240&ue|ue>>4)*ge>>16&240|(15&ue|ue<<4)*ge>>16>>4&15,_[A+2*ce+1]=240&je|me}A+=re}}function Q(_,A,B,Y,re,ce,ue,me){var ge,je,Te=255;for(je=0;je<re;++je){for(ge=0;ge<Y;++ge){var $e=_[A+ge];ce[ue+4*ge]=$e,Te&=$e}A+=B,ue+=me}return Te!=255}function pe(_,A,B,Y,re){var ce;for(ce=0;ce<re;++ce)B[Y+ce]=_[A+ce]>>8}function Ue(){Ou=N,oo=$,tf=Q,Bs=pe}function We(_,A,B){L[_]=function(Y,re,ce,ue,me,ge,je,Te,$e,we,Oe,Ve,et,qe,Qe,it,vt){var mt,Vt=vt-1>>1,kt=me[ge+0]|je[Te+0]<<16,dn=$e[we+0]|Oe[Ve+0]<<16;e(Y!=null);var Lt=3*kt+dn+131074>>2;for(A(Y[re+0],255&Lt,Lt>>16,et,qe),ce!=null&&(Lt=3*dn+kt+131074>>2,A(ce[ue+0],255&Lt,Lt>>16,Qe,it)),mt=1;mt<=Vt;++mt){var Cn=me[ge+mt]|je[Te+mt]<<16,Ir=$e[we+mt]|Oe[Ve+mt]<<16,gn=kt+Cn+dn+Ir+524296,It=gn+2*(Cn+dn)>>3;Lt=It+kt>>1,kt=(gn=gn+2*(kt+Ir)>>3)+Cn>>1,A(Y[re+2*mt-1],255&Lt,Lt>>16,et,qe+(2*mt-1)*B),A(Y[re+2*mt-0],255&kt,kt>>16,et,qe+(2*mt-0)*B),ce!=null&&(Lt=gn+dn>>1,kt=It+Ir>>1,A(ce[ue+2*mt-1],255&Lt,Lt>>16,Qe,it+(2*mt-1)*B),A(ce[ue+2*mt+0],255&kt,kt>>16,Qe,it+(2*mt+0)*B)),kt=Cn,dn=Ir}1&vt||(Lt=3*kt+dn+131074>>2,A(Y[re+vt-1],255&Lt,Lt>>16,et,qe+(vt-1)*B),ce!=null&&(Lt=3*dn+kt+131074>>2,A(ce[ue+vt-1],255&Lt,Lt>>16,Qe,it+(vt-1)*B)))}}function wt(){oa[wm]=Mu,oa[Aa]=Hd,oa[_m]=_g,oa[lo]=Em,oa[sf]=Vc,oa[Vd]=xl,oa[Fc]=qc,oa[of]=Hd,oa[Nm]=Em,oa[qd]=Vc,oa[jm]=xl}function ln(_){return _&-16384?0>_?0:255:_>>Cm}function mr(_,A){return ln((19077*_>>8)+(26149*A>>8)-14234)}function Sn(_,A,B){return ln((19077*_>>8)-(6419*A>>8)-(13320*B>>8)+8708)}function tr(_,A){return ln((19077*_>>8)+(33050*A>>8)-17685)}function Bi(_,A,B,Y,re){Y[re+0]=mr(_,B),Y[re+1]=Sn(_,A,B),Y[re+2]=tr(_,A)}function Na(_,A,B,Y,re){Y[re+0]=tr(_,A),Y[re+1]=Sn(_,A,B),Y[re+2]=mr(_,B)}function Nr(_,A,B,Y,re){var ce=Sn(_,A,B);A=ce<<3&224|tr(_,A)>>3,Y[re+0]=248&mr(_,B)|ce>>5,Y[re+1]=A}function ra(_,A,B,Y,re){var ce=240&tr(_,A)|15;Y[re+0]=240&mr(_,B)|Sn(_,A,B)>>4,Y[re+1]=ce}function zs(_,A,B,Y,re){Y[re+0]=255,Bi(_,A,B,Y,re+1)}function ul(_,A,B,Y,re){Na(_,A,B,Y,re),Y[re+3]=255}function dl(_,A,B,Y,re){Bi(_,A,B,Y,re),Y[re+3]=255}function Kr(_,A){return 0>_?0:_>A?A:_}function Kl(_,A,B){L[_]=function(Y,re,ce,ue,me,ge,je,Te,$e){for(var we=Te+(-2&$e)*B;Te!=we;)A(Y[re+0],ce[ue+0],me[ge+0],je,Te),A(Y[re+1],ce[ue+0],me[ge+0],je,Te+B),re+=2,++ue,++ge,Te+=2*B;1&$e&&A(Y[re+0],ce[ue+0],me[ge+0],je,Te)}}function Md(_,A,B){return B==0?_==0?A==0?6:5:A==0?4:0:B}function Jh(_,A,B,Y,re){switch(_>>>30){case 3:tc(A,B,Y,re,0);break;case 2:ja(A,B,Y,re);break;case 1:Yn(A,B,Y,re)}}function Fs(_,A){var B,Y,re=A.M,ce=A.Nb,ue=_.oc,me=_.pc+40,ge=_.oc,je=_.pc+584,Te=_.oc,$e=_.pc+600;for(B=0;16>B;++B)ue[me+32*B-1]=129;for(B=0;8>B;++B)ge[je+32*B-1]=129,Te[$e+32*B-1]=129;for(0<re?ue[me-1-32]=ge[je-1-32]=Te[$e-1-32]=129:(i(ue,me-32-1,127,21),i(ge,je-32-1,127,9),i(Te,$e-32-1,127,9)),Y=0;Y<_.za;++Y){var we=A.ya[A.aa+Y];if(0<Y){for(B=-1;16>B;++B)r(ue,me+32*B-4,ue,me+32*B+12,4);for(B=-1;8>B;++B)r(ge,je+32*B-4,ge,je+32*B+4,4),r(Te,$e+32*B-4,Te,$e+32*B+4,4)}var Oe=_.Gd,Ve=_.Hd+Y,et=we.ad,qe=we.Hc;if(0<re&&(r(ue,me-32,Oe[Ve].y,0,16),r(ge,je-32,Oe[Ve].f,0,8),r(Te,$e-32,Oe[Ve].ea,0,8)),we.Za){var Qe=ue,it=me-32+16;for(0<re&&(Y>=_.za-1?i(Qe,it,Oe[Ve].y[15],4):r(Qe,it,Oe[Ve+1].y,0,4)),B=0;4>B;B++)Qe[it+128+B]=Qe[it+256+B]=Qe[it+384+B]=Qe[it+0+B];for(B=0;16>B;++B,qe<<=2)Qe=ue,it=me+di[B],Xr[we.Ob[B]](Qe,it),Jh(qe,et,16*+B,Qe,it)}else if(Qe=Md(Y,re,we.Ob[0]),Ga[Qe](ue,me),qe!=0)for(B=0;16>B;++B,qe<<=2)Jh(qe,et,16*+B,ue,me+di[B]);for(B=we.Gc,Qe=Md(Y,re,we.Dd),Uo[Qe](ge,je),Uo[Qe](Te,$e),qe=et,Qe=ge,it=je,255&(we=0|B)&&(170&we?so(qe,256,Qe,it):Bn(qe,256,Qe,it)),we=Te,qe=$e,255&(B>>=8)&&(170&B?so(et,320,we,qe):Bn(et,320,we,qe)),re<_.Ub-1&&(r(Oe[Ve].y,0,ue,me+480,16),r(Oe[Ve].f,0,ge,je+224,8),r(Oe[Ve].ea,0,Te,$e+224,8)),B=8*ce*_.B,Oe=_.sa,Ve=_.ta+16*Y+16*ce*_.R,et=_.qa,we=_.ra+8*Y+B,qe=_.Ha,Qe=_.Ia+8*Y+B,B=0;16>B;++B)r(Oe,Ve+B*_.R,ue,me+32*B,16);for(B=0;8>B;++B)r(et,we+B*_.B,ge,je+32*B,8),r(qe,Qe+B*_.B,Te,$e+32*B,8)}}function Mo(_,A,B,Y,re,ce,ue,me,ge){var je=[0],Te=[0],$e=0,we=ge!=null?ge.kd:0,Oe=ge??new nt;if(_==null||12>B)return 7;Oe.data=_,Oe.w=A,Oe.ha=B,A=[A],B=[B],Oe.gb=[Oe.gb];e:{var Ve=A,et=B,qe=Oe.gb;if(e(_!=null),e(et!=null),e(qe!=null),qe[0]=0,12<=et[0]&&!n(_,Ve[0],"RIFF")){if(n(_,Ve[0]+8,"WEBP")){qe=3;break e}var Qe=q(_,Ve[0]+4);if(12>Qe||4294967286<Qe){qe=3;break e}if(we&&Qe>et[0]-8){qe=7;break e}qe[0]=Qe,Ve[0]+=12,et[0]-=12}qe=0}if(qe!=0)return qe;for(Qe=0<Oe.gb[0],B=B[0];;){e:{var it=_;et=A,qe=B;var vt=je,mt=Te,Vt=Ve=[0];if((Lt=$e=[$e])[0]=0,8>qe[0])qe=7;else{if(!n(it,et[0],"VP8X")){if(q(it,et[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var kt=q(it,et[0]+8),dn=1+ct(it,et[0]+12);if(2147483648<=dn*(it=1+ct(it,et[0]+15))){qe=3;break e}Vt!=null&&(Vt[0]=kt),vt!=null&&(vt[0]=dn),mt!=null&&(mt[0]=it),et[0]+=18,qe[0]-=18,Lt[0]=1}qe=0}}if($e=$e[0],Ve=Ve[0],qe!=0)return qe;if(et=!!(2&Ve),!Qe&&$e)return 3;if(ce!=null&&(ce[0]=!!(16&Ve)),ue!=null&&(ue[0]=et),me!=null&&(me[0]=0),ue=je[0],Ve=Te[0],$e&&et&&ge==null){qe=0;break}if(4>B){qe=7;break}if(Qe&&$e||!Qe&&!$e&&!n(_,A[0],"ALPH")){B=[B],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{kt=_,qe=A,Qe=B;var Lt=Oe.gb;vt=Oe.na,mt=Oe.P,Vt=Oe.Sa,dn=22,e(kt!=null),e(Qe!=null),it=qe[0];var Cn=Qe[0];for(e(vt!=null),e(Vt!=null),vt[0]=null,mt[0]=null,Vt[0]=0;;){if(qe[0]=it,Qe[0]=Cn,8>Cn){qe=7;break e}var Ir=q(kt,it+4);if(4294967286<Ir){qe=3;break e}var gn=8+Ir+1&-2;if(dn+=gn,0<Lt&&dn>Lt){qe=3;break e}if(!n(kt,it,"VP8 ")||!n(kt,it,"VP8L")){qe=0;break e}if(Cn[0]<gn){qe=7;break e}n(kt,it,"ALPH")||(vt[0]=kt,mt[0]=it+8,Vt[0]=Ir),it+=gn,Cn-=gn}}if(B=B[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],qe!=0)break}B=[B],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Lt=_,qe=A,Qe=B,vt=Oe.gb[0],mt=Oe.Ja,Vt=Oe.xa,kt=qe[0],it=!n(Lt,kt,"VP8 "),dn=!n(Lt,kt,"VP8L"),e(Lt!=null),e(Qe!=null),e(mt!=null),e(Vt!=null),8>Qe[0])qe=7;else{if(it||dn){if(Lt=q(Lt,kt+4),12<=vt&&Lt>vt-12){qe=3;break e}if(we&&Lt>Qe[0]-8){qe=7;break e}mt[0]=Lt,qe[0]+=8,Qe[0]-=8,Vt[0]=dn}else Vt[0]=5<=Qe[0]&&Lt[kt+0]==47&&!(Lt[kt+4]>>5),mt[0]=Qe[0];qe=0}if(B=B[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],A=A[0],qe!=0)break;if(4294967286<Oe.Ja)return 3;if(me==null||et||(me[0]=Oe.xa?2:1),ue=[ue],Ve=[Ve],Oe.xa){if(5>B){qe=7;break}me=ue,we=Ve,et=ce,_==null||5>B?_=0:5<=B&&_[A+0]==47&&!(_[A+4]>>5)?(Qe=[0],Lt=[0],vt=[0],se(mt=new K,_,A,B),Zi(mt,Qe,Lt,vt)?(me!=null&&(me[0]=Qe[0]),we!=null&&(we[0]=Lt[0]),et!=null&&(et[0]=vt[0]),_=1):_=0):_=0}else{if(10>B){qe=7;break}me=Ve,_==null||10>B||!si(_,A+3,B-3)?_=0:(we=_[A+0]|_[A+1]<<8|_[A+2]<<16,et=16383&(_[A+7]<<8|_[A+6]),_=16383&(_[A+9]<<8|_[A+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Oe.Ja||!et||!_?_=0:(ue&&(ue[0]=et),me&&(me[0]=_),_=1))}if(!_||(ue=ue[0],Ve=Ve[0],$e&&(je[0]!=ue||Te[0]!=Ve)))return 3;ge!=null&&(ge[0]=Oe,ge.offset=A-ge.w,e(4294967286>A-ge.w),e(ge.offset==ge.ha-B));break}return qe==0||qe==7&&$e&&ge==null?(ce!=null&&(ce[0]|=Oe.na!=null&&0<Oe.na.length),Y!=null&&(Y[0]=ue),re!=null&&(re[0]=Ve),0):qe}function Xl(_,A,B){var Y=A.width,re=A.height,ce=0,ue=0,me=Y,ge=re;if(A.Da=_!=null&&0<_.Da,A.Da&&(me=_.cd,ge=_.bd,ce=_.v,ue=_.j,11>B||(ce&=-2,ue&=-2),0>ce||0>ue||0>=me||0>=ge||ce+me>Y||ue+ge>re))return 0;if(A.v=ce,A.j=ue,A.va=ce+me,A.o=ue+ge,A.U=me,A.T=ge,A.da=_!=null&&0<_.da,A.da){if(!he(me,ge,B=[_.ib],ce=[_.hb]))return 0;A.ib=B[0],A.hb=ce[0]}return A.ob=_!=null&&_.ob,A.Kb=_==null||!_.Sd,A.da&&(A.ob=A.ib<3*Y/4&&A.hb<3*re/4,A.Kb=0),1}function Qh(_){if(_==null)return 2;if(11>_.S){var A=_.f.RGBA;A.fb+=(_.height-1)*A.A,A.A=-A.A}else A=_.f.kb,_=_.height,A.O+=(_-1)*A.fa,A.fa=-A.fa,A.N+=(_-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(_-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(_-1)*A.lb,A.lb=-A.lb);return 0}function zo(_,A,B,Y){if(Y==null||0>=_||0>=A)return 2;if(B!=null){if(B.Da){var re=B.cd,ce=B.bd,ue=-2&B.v,me=-2&B.j;if(0>ue||0>me||0>=re||0>=ce||ue+re>_||me+ce>A)return 2;_=re,A=ce}if(B.da){if(!he(_,A,re=[B.ib],ce=[B.hb]))return 2;_=re[0],A=ce[0]}}Y.width=_,Y.height=A;e:{var ge=Y.width,je=Y.height;if(_=Y.S,0>=ge||0>=je||!(_>=wm&&13>_))_=2;else{if(0>=Y.Rd&&Y.sd==null){ue=ce=re=A=0;var Te=(me=ge*km[_])*je;if(11>_||(ce=(je+1)/2*(A=(ge+1)/2),_==12&&(ue=(re=ge)*je)),(je=a(Te+2*ce+ue))==null){_=1;break e}Y.sd=je,11>_?((ge=Y.f.RGBA).eb=je,ge.fb=0,ge.A=me,ge.size=Te):((ge=Y.f.kb).y=je,ge.O=0,ge.fa=me,ge.Fd=Te,ge.f=je,ge.N=0+Te,ge.Ab=A,ge.Cd=ce,ge.ea=je,ge.W=0+Te+ce,ge.Db=A,ge.Ed=ce,_==12&&(ge.F=je,ge.J=0+Te+2*ce),ge.Tc=ue,ge.lb=re)}if(A=1,re=Y.S,ce=Y.width,ue=Y.height,re>=wm&&13>re)if(11>re)_=Y.f.RGBA,A&=(me=Math.abs(_.A))*(ue-1)+ce<=_.size,A&=me>=ce*km[re],A&=_.eb!=null;else{_=Y.f.kb,me=(ce+1)/2,Te=(ue+1)/2,ge=Math.abs(_.fa),je=Math.abs(_.Ab);var $e=Math.abs(_.Db),we=Math.abs(_.lb),Oe=we*(ue-1)+ce;A&=ge*(ue-1)+ce<=_.Fd,A&=je*(Te-1)+me<=_.Cd,A=(A&=$e*(Te-1)+me<=_.Ed)&ge>=ce&je>=me&$e>=me,A&=_.y!=null,A&=_.f!=null,A&=_.ea!=null,re==12&&(A&=we>=ce,A&=Oe<=_.Tc,A&=_.F!=null)}else A=0;_=A?0:2}}return _!=0||B!=null&&B.fd&&(_=Qh(Y)),_}var zc=64,hs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wa=24,hl=32,fl=8,Zl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(_){return _},L.Predictor2=function(_,A,B){return A[B+0]},L.Predictor3=function(_,A,B){return A[B+1]},L.Predictor4=function(_,A,B){return A[B-1]},L.Predictor5=function(_,A,B){return Ke(Ke(_,A[B+1]),A[B+0])},L.Predictor6=function(_,A,B){return Ke(_,A[B-1])},L.Predictor7=function(_,A,B){return Ke(_,A[B+0])},L.Predictor8=function(_,A,B){return Ke(A[B-1],A[B+0])},L.Predictor9=function(_,A,B){return Ke(A[B+0],A[B+1])},L.Predictor10=function(_,A,B){return Ke(Ke(_,A[B-1]),Ke(A[B+0],A[B+1]))},L.Predictor11=function(_,A,B){var Y=A[B+0];return 0>=ht(Y>>24&255,_>>24&255,(A=A[B-1])>>24&255)+ht(Y>>16&255,_>>16&255,A>>16&255)+ht(Y>>8&255,_>>8&255,A>>8&255)+ht(255&Y,255&_,255&A)?Y:_},L.Predictor12=function(_,A,B){var Y=A[B+0];return(at((_>>24&255)+(Y>>24&255)-((A=A[B-1])>>24&255))<<24|at((_>>16&255)+(Y>>16&255)-(A>>16&255))<<16|at((_>>8&255)+(Y>>8&255)-(A>>8&255))<<8|at((255&_)+(255&Y)-(255&A)))>>>0},L.Predictor13=function(_,A,B){var Y=A[B-1];return(Xe((_=Ke(_,A[B+0]))>>24&255,Y>>24&255)<<24|Xe(_>>16&255,Y>>16&255)<<16|Xe(_>>8&255,Y>>8&255)<<8|Xe(255&_,255&Y))>>>0};var zd=L.PredictorAdd0;L.PredictorAdd1=Tt,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Fd=L.PredictorAdd2;Me("ColorIndexInverseTransform","MapARGB","32b",function(_){return _>>8&255},function(_){return _}),Me("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(_){return _},function(_){return _>>8&255});var ci,xm=L.ColorIndexInverseTransform,ml=L.MapARGB,pl=L.VP8LColorIndexInverseTransformAlpha,ia=L.MapAlpha,Jl=L.VP8LPredictorsAdd=[];Jl.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var Ud,Bd,Ql,ec,gl,Pu,Us,tc,ja,so,Yn,Bn,jr,ui,yl,Fo,Ru,ef,yg,Ky,Xy,Zy,xg,vg,Ou,oo,tf,Bs,Du=a(511),vm=a(2041),nf=a(225),rf=a(767),bm=0,nc=vm,af=nf,Sa=rf,aa=Du,wm=0,Aa=1,_m=2,lo=3,sf=4,Vd=5,Fc=6,of=7,Nm=8,qd=9,jm=10,co=[2,3,7],$d=[3,3,11],Lu=[280,256,256,256,40],Sm=[0,1,1,1,0],lf=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uo=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ho=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Uc=8,fo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],mo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Vs=null,Jy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],bg=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Am=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Qy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],sa=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],kr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ga=[],Xr=[],Uo=[],Bc=1,wg=2,rc=[],oa=[];We("UpsampleRgbLinePair",Bi,3),We("UpsampleBgrLinePair",Na,3),We("UpsampleRgbaLinePair",dl,4),We("UpsampleBgraLinePair",ul,4),We("UpsampleArgbLinePair",zs,4),We("UpsampleRgba4444LinePair",ra,2),We("UpsampleRgb565LinePair",Nr,2);var Mu=L.UpsampleRgbLinePair,_g=L.UpsampleBgrLinePair,Hd=L.UpsampleRgbaLinePair,Em=L.UpsampleBgraLinePair,Vc=L.UpsampleArgbLinePair,xl=L.UpsampleRgba4444LinePair,qc=L.UpsampleRgb565LinePair,po=16,Wd=1<<po-1,zu=-227,$c=482,Cm=6,Hc=0,la=a(256),Tm=a(256),ex=a(256),T2=a(256),k2=a($c-zu),I2=a($c-zu);Kl("YuvToRgbRow",Bi,3),Kl("YuvToBgrRow",Na,3),Kl("YuvToRgbaRow",dl,4),Kl("YuvToBgraRow",ul,4),Kl("YuvToArgbRow",zs,4),Kl("YuvToRgba4444Row",ra,2),Kl("YuvToRgb565Row",Nr,2);var di=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gd=[0,2,8],cf=[8,7,6,4,4,2,2,2,1,1,1,1],uf=1;this.WebPDecodeRGBA=function(_,A,B,Y,re){var ce=Aa,ue=new ze,me=new Xt;ue.ba=me,me.S=ce,me.width=[me.width],me.height=[me.height];var ge=me.width,je=me.height,Te=new Ht;if(Te==null||_==null)var $e=2;else e(Te!=null),$e=Mo(_,A,B,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if($e!=0?ge=0:(ge!=null&&(ge[0]=Te.width[0]),je!=null&&(je[0]=Te.height[0]),ge=1),ge){me.width=me.width[0],me.height=me.height[0],Y!=null&&(Y[0]=me.width),re!=null&&(re[0]=me.height);e:{if(Y=new Po,(re=new nt).data=_,re.w=A,re.ha=B,re.kd=1,A=[0],e(re!=null),((_=Mo(re.data,re.w,re.ha,null,null,null,A,null,re))==0||_==7)&&A[0]&&(_=4),(A=_)==0){if(e(ue!=null),Y.data=re.data,Y.w=re.w+re.offset,Y.ha=re.ha-re.offset,Y.put=jt,Y.ac=_n,Y.bc=ai,Y.ma=ue,re.xa){if((_=sl())==null){ue=1;break e}if((function(we,Oe){var Ve=[0],et=[0],qe=[0];t:for(;;){if(we==null)return 0;if(Oe==null)return we.a=2,0;if(we.l=Oe,we.a=0,se(we.m,Oe.data,Oe.w,Oe.ha),!Zi(we.m,Ve,et,qe)){we.a=3;break t}if(we.xb=wg,Oe.width=Ve[0],Oe.height=et[0],!Ts(Ve[0],et[0],1,we,null))break t;return 1}return e(we.a!=0),0})(_,Y)){if(Y=(A=zo(Y.width,Y.height,ue.Oa,ue.ba))==0){t:{Y=_;n:for(;;){if(Y==null){Y=0;break t}if(e(Y.s.yc!=null),e(Y.s.Ya!=null),e(0<Y.s.Wb),e((B=Y.l)!=null),e((re=B.ma)!=null),Y.xb!=0){if(Y.ca=re.ba,Y.tb=re.tb,e(Y.ca!=null),!Xl(re.Oa,B,lo)){Y.a=2;break n}if(!xa(Y,B.width)||B.da)break n;if((B.da||rn(Y.ca.S))&&Ue(),11>Y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Y.ca.f.kb.F!=null&&Ue()),Y.Pb&&0<Y.s.ua&&Y.s.vb.X==null&&!ae(Y.s.vb,Y.s.Wa.Xa)){Y.a=1;break n}Y.xb=0}if(!ya(Y,Y.V,Y.Ba,Y.c,Y.i,B.o,Fi))break n;re.Dc=Y.Ma,Y=1;break t}e(Y.a!=0),Y=0}Y=!Y}Y&&(A=_.a)}else A=_.a}else{if((_=new Ba)==null){ue=1;break e}if(_.Fa=re.na,_.P=re.P,_.qc=re.Sa,Ro(_,Y)){if((A=zo(Y.width,Y.height,ue.Oa,ue.ba))==0){if(_.Aa=0,B=ue.Oa,e((re=_)!=null),B!=null){if(0<(ge=0>(ge=B.Md)?0:100<ge?255:255*ge/100)){for(je=Te=0;4>je;++je)12>($e=re.pb[je]).lc&&($e.ia=ge*cf[0>$e.lc?0:$e.lc]>>3),Te|=$e.ia;Te&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=B.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}(function(we,Oe){if(we==null)return 0;if(Oe==null)return Nn(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!Ro(we,Oe))return 0;if(e(we.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(we.L=0);var Ve=Gd[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Oe.v-Ve>>4,we.zb=Oe.j-Ve>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Oe.o+15+Ve>>4,we.Hb=Oe.va+15+Ve>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var et=we.ed;for(Ve=0;4>Ve;++Ve){var qe;if(we.Qa.Cb){var Qe=we.Qa.Lb[Ve];we.Qa.Fb||(Qe+=et.Tb)}else Qe=et.Tb;for(qe=0;1>=qe;++qe){var it=we.gd[Ve][qe],vt=Qe;if(et.Pc&&(vt+=et.vd[0],qe&&(vt+=et.od[0])),0<(vt=0>vt?0:63<vt?63:vt)){var mt=vt;0<et.wb&&(mt=4<et.wb?mt>>2:mt>>1)>9-et.wb&&(mt=9-et.wb),1>mt&&(mt=1),it.dd=mt,it.tc=2*vt+mt,it.ld=40<=vt?2:15<=vt?1:0}else it.tc=0;it.La=qe}}}Ve=0}else Nn(we,6,"Frame setup failed"),Ve=we.a;if(Ve=Ve==0){if(Ve){we.$c=0,0<we.Aa||(we.Ic=uf);t:{Ve=we.Ic,et=4*(mt=we.za);var Vt=32*mt,kt=mt+1,dn=0<we.L?mt*(0<we.Aa?2:1):0,Lt=(we.Aa==2?2:1)*mt;if((it=et+832+(qe=3*(16*Ve+Gd[we.L])/2*Vt)+(Qe=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=it)Ve=0;else{if(it>we.Vb){if(we.Vb=0,we.Ec=a(it),we.Fc=0,we.Ec==null){Ve=Nn(we,1,"no memory during frame initialization.");break t}we.Vb=it}it=we.Ec,vt=we.Fc,we.Ac=it,we.Bc=vt,vt+=et,we.Gd=o(Vt,Ic),we.Hd=0,we.rb=o(kt+1,us),we.sb=1,we.wa=dn?o(dn,va):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=mt),e(!0),we.oc=it,we.pc=vt,vt+=832,we.ya=o(Lt,$l),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=mt),we.R=16*mt,we.B=8*mt,mt=(Vt=Gd[we.L])*we.R,Vt=Vt/2*we.B,we.sa=it,we.ta=vt+mt,we.qa=we.sa,we.ra=we.ta+16*Ve*we.R+Vt,we.Ha=we.qa,we.Ia=we.ra+8*Ve*we.B+Vt,we.$c=0,vt+=qe,we.mb=Qe?it:null,we.nb=Qe?vt:null,e(vt+Qe<=we.Fc+we.Vb),Tn(we),i(we.Ac,we.Bc,0,et),Ve=1}}if(Ve){if(Oe.ka=0,Oe.y=we.sa,Oe.O=we.ta,Oe.f=we.qa,Oe.N=we.ra,Oe.ea=we.Ha,Oe.Vd=we.Ia,Oe.fa=we.R,Oe.Rc=we.B,Oe.F=null,Oe.J=0,!bm){for(Ve=-255;255>=Ve;++Ve)Du[255+Ve]=0>Ve?-Ve:Ve;for(Ve=-1020;1020>=Ve;++Ve)vm[1020+Ve]=-128>Ve?-128:127<Ve?127:Ve;for(Ve=-112;112>=Ve;++Ve)nf[112+Ve]=-16>Ve?-16:15<Ve?15:Ve;for(Ve=-255;510>=Ve;++Ve)rf[255+Ve]=0>Ve?0:255<Ve?255:Ve;bm=1}Us=Oo,tc=Ld,so=Au,Yn=na,Bn=Eu,ja=Pc,jr=ku,ui=Iu,yl=R,Fo=ne,Ru=Ms,ef=Mc,yg=Ne,Ky=Ce,Xy=io,Zy=ao,xg=Ds,vg=Yl,Xr[0]=Lc,Xr[1]=Rc,Xr[2]=to,Xr[3]=Hl,Xr[4]=ol,Xr[5]=xi,Xr[6]=ki,Xr[7]=Wl,Xr[8]=Va,Xr[9]=er,Ga[0]=Ps,Ga[1]=Tu,Ga[2]=Oc,Ga[3]=Dc,Ga[4]=Rs,Ga[5]=Do,Ga[6]=wa,Uo[0]=no,Uo[1]=Cu,Uo[2]=Gl,Uo[3]=Os,Uo[4]=qa,Uo[5]=Lo,Uo[6]=li,Ve=1}else Ve=0}Ve&&(Ve=(function(Cn,Ir){for(Cn.M=0;Cn.M<Cn.Va;++Cn.M){var gn,It=Cn.Jc[Cn.M&Cn.Xb],Nt=Cn.m,Fr=Cn;for(gn=0;gn<Fr.za;++gn){var an=Nt,wn=Fr,ar=wn.Ac,Ii=wn.Bc+4*gn,ca=wn.zc,Sr=wn.ya[wn.aa+gn];if(wn.Qa.Bb?Sr.$b=Ee(an,wn.Pa.jb[0])?2+Ee(an,wn.Pa.jb[2]):Ee(an,wn.Pa.jb[1]):Sr.$b=0,wn.kc&&(Sr.Ad=Ee(an,wn.Bd)),Sr.Za=!Ee(an,145)+0,Sr.Za){var vi=Sr.Ob,Ea=0;for(wn=0;4>wn;++wn){var bi,An=ca[0+wn];for(bi=0;4>bi;++bi){An=sa[ar[Ii+bi]][An];for(var qn=Am[Ee(an,An[0])];0<qn;)qn=Am[2*qn+Ee(an,An[qn])];An=-qn,ar[Ii+bi]=An}r(vi,Ea,ar,Ii,4),Ea+=4,ca[0+wn]=An}}else An=Ee(an,156)?Ee(an,128)?1:3:Ee(an,163)?2:0,Sr.Ob[0]=An,i(ar,Ii,An,4),i(ca,0,An,4);Sr.Dd=Ee(an,142)?Ee(an,114)?Ee(an,183)?1:3:2:0}if(Fr.m.Ka)return Nn(Cn,7,"Premature end-of-partition0 encountered.");for(;Cn.ja<Cn.za;++Cn.ja){if(Fr=It,an=(Nt=Cn).rb[Nt.sb-1],ar=Nt.rb[Nt.sb+Nt.ja],gn=Nt.ya[Nt.aa+Nt.ja],Ii=Nt.kc?gn.Ad:0)an.la=ar.la=0,gn.Za||(an.Na=ar.Na=0),gn.Hc=0,gn.Gc=0,gn.ia=0;else{var Ur,Kn;if(an=ar,ar=Fr,Ii=Nt.Pa.Xc,ca=Nt.ya[Nt.aa+Nt.ja],Sr=Nt.pb[ca.$b],wn=ca.ad,vi=0,Ea=Nt.rb[Nt.sb-1],An=bi=0,i(wn,vi,0,384),ca.Za)var Pi=0,Br=Ii[3];else{qn=a(16);var $n=an.Na+Ea.Na;if($n=Vs(ar,Ii[1],$n,Sr.Eb,0,qn,0),an.Na=Ea.Na=(0<$n)+0,1<$n)Us(qn,0,wn,vi);else{var hi=qn[0]+3>>3;for(qn=0;256>qn;qn+=16)wn[vi+qn]=hi}Pi=1,Br=Ii[0]}var sr=15&an.la,wi=15&Ea.la;for(qn=0;4>qn;++qn){var _i=1&wi;for(hi=Kn=0;4>hi;++hi)sr=sr>>1|(_i=($n=Vs(ar,Br,$n=_i+(1&sr),Sr.Sc,Pi,wn,vi))>Pi)<<7,Kn=Kn<<2|(3<$n?3:1<$n?2:wn[vi+0]!=0),vi+=16;sr>>=4,wi=wi>>1|_i<<7,bi=(bi<<8|Kn)>>>0}for(Br=sr,Pi=wi>>4,Ur=0;4>Ur;Ur+=2){for(Kn=0,sr=an.la>>4+Ur,wi=Ea.la>>4+Ur,qn=0;2>qn;++qn){for(_i=1&wi,hi=0;2>hi;++hi)$n=_i+(1&sr),sr=sr>>1|(_i=0<($n=Vs(ar,Ii[2],$n,Sr.Qc,0,wn,vi)))<<3,Kn=Kn<<2|(3<$n?3:1<$n?2:wn[vi+0]!=0),vi+=16;sr>>=2,wi=wi>>1|_i<<5}An|=Kn<<4*Ur,Br|=sr<<4<<Ur,Pi|=(240&wi)<<Ur}an.la=Br,Ea.la=Pi,ca.Hc=bi,ca.Gc=An,ca.ia=43690&An?0:Sr.ia,Ii=!(bi|An)}if(0<Nt.L&&(Nt.wa[Nt.Y+Nt.ja]=Nt.gd[gn.$b][gn.Za],Nt.wa[Nt.Y+Nt.ja].La|=!Ii),Fr.Ka)return Nn(Cn,7,"Premature end-of-file encountered.")}if(Tn(Cn),Nt=Ir,Fr=1,gn=(It=Cn).D,an=0<It.L&&It.M>=It.zb&&It.M<=It.Va,It.Aa==0)t:{if(gn.M=It.M,gn.uc=an,Fs(It,gn),Fr=1,gn=(Kn=It.D).Nb,an=(An=Gd[It.L])*It.R,ar=An/2*It.B,qn=16*gn*It.R,hi=8*gn*It.B,Ii=It.sa,ca=It.ta-an+qn,Sr=It.qa,wn=It.ra-ar+hi,vi=It.Ha,Ea=It.Ia-ar+hi,wi=(sr=Kn.M)==0,bi=sr>=It.Va-1,It.Aa==2&&Fs(It,Kn),Kn.uc)for(_i=($n=It).D.M,e($n.D.uc),Kn=$n.yb;Kn<$n.Hb;++Kn){Pi=Kn,Br=_i;var pr=(Vn=(Ni=$n).D).Nb;Ur=Ni.R;var Vn=Vn.wa[Vn.Y+Pi],Ca=Ni.sa,Zr=Ni.ta+16*pr*Ur+16*Pi,Zt=Vn.dd,Qt=Vn.tc;if(Qt!=0)if(e(3<=Qt),Ni.L==1)0<Pi&&Zy(Ca,Zr,Ur,Qt+4),Vn.La&&vg(Ca,Zr,Ur,Qt),0<Br&&Xy(Ca,Zr,Ur,Qt+4),Vn.La&&xg(Ca,Zr,Ur,Qt);else{var Hn=Ni.B,fs=Ni.qa,go=Ni.ra+8*pr*Hn+8*Pi,Ya=Ni.Ha,Ni=Ni.Ia+8*pr*Hn+8*Pi;pr=Vn.ld,0<Pi&&(ui(Ca,Zr,Ur,Qt+4,Zt,pr),Fo(fs,go,Ya,Ni,Hn,Qt+4,Zt,pr)),Vn.La&&(ef(Ca,Zr,Ur,Qt,Zt,pr),Ky(fs,go,Ya,Ni,Hn,Qt,Zt,pr)),0<Br&&(jr(Ca,Zr,Ur,Qt+4,Zt,pr),yl(fs,go,Ya,Ni,Hn,Qt+4,Zt,pr)),Vn.La&&(Ru(Ca,Zr,Ur,Qt,Zt,pr),yg(fs,go,Ya,Ni,Hn,Qt,Zt,pr))}}if(It.ia&&alert("todo:DitherRow"),Nt.put!=null){if(Kn=16*sr,sr=16*(sr+1),wi?(Nt.y=It.sa,Nt.O=It.ta+qn,Nt.f=It.qa,Nt.N=It.ra+hi,Nt.ea=It.Ha,Nt.W=It.Ia+hi):(Kn-=An,Nt.y=Ii,Nt.O=ca,Nt.f=Sr,Nt.N=wn,Nt.ea=vi,Nt.W=Ea),bi||(sr-=An),sr>Nt.o&&(sr=Nt.o),Nt.F=null,Nt.J=null,It.Fa!=null&&0<It.Fa.length&&Kn<sr&&(Nt.J=lr(It,Nt,Kn,sr-Kn),Nt.F=It.mb,Nt.F==null&&Nt.F.length==0)){Fr=Nn(It,3,"Could not decode alpha data.");break t}Kn<Nt.j&&(An=Nt.j-Kn,Kn=Nt.j,e(!(1&An)),Nt.O+=It.R*An,Nt.N+=It.B*(An>>1),Nt.W+=It.B*(An>>1),Nt.F!=null&&(Nt.J+=Nt.width*An)),Kn<sr&&(Nt.O+=Nt.v,Nt.N+=Nt.v>>1,Nt.W+=Nt.v>>1,Nt.F!=null&&(Nt.J+=Nt.v),Nt.ka=Kn-Nt.j,Nt.U=Nt.va-Nt.v,Nt.T=sr-Kn,Fr=Nt.put(Nt))}gn+1!=It.Ic||bi||(r(It.sa,It.ta-an,Ii,ca+16*It.R,an),r(It.qa,It.ra-ar,Sr,wn+8*It.B,ar),r(It.Ha,It.Ia-ar,vi,Ea+8*It.B,ar))}if(!Fr)return Nn(Cn,6,"Output aborted.")}return 1})(we,Oe)),Oe.bc!=null&&Oe.bc(Oe),Ve&=1}return Ve?(we.cb=0,Ve):0})(_,Y)||(A=_.a)}}else A=_.a}A==0&&ue.Oa!=null&&ue.Oa.fd&&(A=Qh(ue.ba))}ue=A}ce=ue!=0?null:11>ce?me.f.RGBA.eb:me.f.kb.y}else ce=null;return ce};var km=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(L,H){for(var P="",I=0;I<4;I++)P+=String.fromCharCode(L[H++]);return P}function f(L,H){return L[H+0]|L[H+1]<<8}function p(L,H){return(L[H+0]|L[H+1]<<8|L[H+2]<<16)>>>0}function x(L,H){return(L[H+0]|L[H+1]<<8|L[H+2]<<16|L[H+3]<<24)>>>0}new d;var g=[0],b=[0],v=[],w=new d,j=t,E=(function(L,H){var P={},I=0,U=!1,k=0,le=0;if(P.frames=[],!(function(O,K){for(var te=0;te<4;te++)if(O[K+te]!="RIFF".charCodeAt(te))return!0;return!1})(L,H)){for(x(L,H+=4),H+=8;H<L.length;){var G=h(L,H),W=x(L,H+=4);H+=4;var ie=W+(1&W);switch(G){case"VP8 ":case"VP8L":P.frames[I]===void 0&&(P.frames[I]={}),(X=P.frames[I]).src_off=U?le:H-8,X.src_size=k+W+8,I++,U&&(U=!1,k=0,le=0);break;case"VP8X":(X=P.header={}).feature_flags=L[H];var se=H+4;X.canvas_width=1+p(L,se),se+=3,X.canvas_height=1+p(L,se),se+=3;break;case"ALPH":U=!0,k=ie+8,le=H-8;break;case"ANIM":(X=P.header).bgcolor=x(L,H),se=H+4,X.loop_count=f(L,se),se+=2;break;case"ANMF":var Se,X;(X=P.frames[I]={}).offset_x=2*p(L,H),H+=3,X.offset_y=2*p(L,H),H+=3,X.width=1+p(L,H),H+=3,X.height=1+p(L,H),H+=3,X.duration=p(L,H),H+=3,Se=L[H++],X.dispose=1&Se,X.blend=Se>>1&1}G!="ANMF"&&(H+=ie)}return P}})(j,0);E.response=j,E.rgbaoutput=!0,E.dataurl=!1;var T=E.header?E.header:null,D=E.frames?E.frames:null;if(T){T.loop_counter=T.loop_count,g=[T.canvas_height],b=[T.canvas_width];for(var M=0;M<D.length&&D[M].blend!=0;M++);}var J=D[0],F=w.WebPDecodeRGBA(j,J.src_off,J.src_size,b,g);J.rgba=F,J.imgwidth=b[0],J.imgheight=g[0];for(var z=0;z<b[0]*g[0]*4;z++)v[z]=F[z];return this.width=b,this.height=g,this.data=v,this}(function(t){var e,n,r,i,a,o,c,d,h,f=function(O){return O=O||{},this.isStrokeTransparent=O.isStrokeTransparent||!1,this.strokeOpacity=O.strokeOpacity||1,this.strokeStyle=O.strokeStyle||"#000000",this.fillStyle=O.fillStyle||"#000000",this.isFillTransparent=O.isFillTransparent||!1,this.fillOpacity=O.fillOpacity||1,this.font=O.font||"10px sans-serif",this.textBaseline=O.textBaseline||"alphabetic",this.textAlign=O.textAlign||"left",this.lineWidth=O.lineWidth||1,this.lineJoin=O.lineJoin||"miter",this.lineCap=O.lineCap||"butt",this.path=O.path||[],this.transform=O.transform!==void 0?O.transform.clone():new d,this.globalCompositeOperation=O.globalCompositeOperation||"normal",this.globalAlpha=O.globalAlpha||1,this.clip_path=O.clip_path||[],this.currentPoint=O.currentPoint||new o,this.miterLimit=O.miterLimit||10,this.lastPoint=O.lastPoint||new o,this.lineDashOffset=O.lineDashOffset||0,this.lineDash=O.lineDash||[],this.margin=O.margin||[0,0,0,0],this.prevPageLastElemOffset=O.prevPageLastElemOffset||0,this.ignoreClearRect=typeof O.ignoreClearRect!="boolean"||O.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,h=new f}]);var p=function(O){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=O;Object.defineProperty(this,"pdf",{get:function(){return K}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(q){te=!!q}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(q){ee=!!q}});var xe=0;Object.defineProperty(this,"posX",{get:function(){return xe},set:function(q){isNaN(q)||(xe=q)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(q){isNaN(q)||(be=q)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(q){var ae;typeof q=="number"?ae=[q,q,q,q]:((ae=new Array(4))[0]=q[0],ae[1]=q.length>=2?q[1]:ae[0],ae[2]=q.length>=3?q[2]:ae[0],ae[3]=q.length>=4?q[3]:ae[1]),h.margin=ae}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(q){oe=q}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(q){fe=q}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(q){Ee=q}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(q){q instanceof f&&(h=q)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(q){h.path=q}});var Be=[];Object.defineProperty(this,"ctxStack",{get:function(){return Be},set:function(q){Be=q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(q){var ae;ae=x(q),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(q){var ae=x(q);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(q){["butt","round","square"].indexOf(q)!==-1&&(this.ctx.lineCap=q,this.pdf.setLineCap(q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(q){isNaN(q)||(this.ctx.lineWidth=q,this.pdf.setLineWidth(q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(q){["bevel","round","miter"].indexOf(q)!==-1&&(this.ctx.lineJoin=q,this.pdf.setLineJoin(q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(q){isNaN(q)||(this.ctx.miterLimit=q,this.pdf.setMiterLimit(q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(q){this.ctx.textBaseline=q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(q){["right","end","center","left","start"].indexOf(q)!==-1&&(this.ctx.textAlign=q)}});var Pe=null,ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return ct},set:function(q){Pe=null,ct=q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(q){var ae;if(this.ctx.font=q,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(q))!==null){var ke=ae[1];ae[2];var ye=ae[3],he=ae[4];ae[5];var ve=ae[6],De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(he)[2];he=Math.floor(De==="px"?parseFloat(he)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(he)*this.pdf.getFontSize():parseFloat(he)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(he);var Le=(function(Ze){var Me,xt,ut=[],st=Ze.trim();if(st==="")return vN;if(st in UR)return[UR[st]];for(;st!=="";){switch(xt=null,Me=(st=VR(st)).charAt(0)){case'"':case"'":xt=kbe(st.substring(1),Me);break;default:xt=Ibe(st)}if(xt===null||(ut.push(xt[0]),(st=VR(xt[1]))!==""&&st.charAt(0)!==","))return vN;st=st.replace(/^,/,"")}return ut})(ve);if(this.fontFaces){var Ie=(function(Ze,Me){if(Pe===null){var xt=(function(ut){var st=[];return Object.keys(ut).forEach(function(At){ut[At].forEach(function($t){var Ut=null;switch($t){case"bold":Ut={family:At,weight:"bold"};break;case"italic":Ut={family:At,style:"italic"};break;case"bolditalic":Ut={family:At,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:At}}Ut!==null&&(Ut.ref={name:At,style:$t},st.push(Ut))})}),st})(Ze.getFontList());Pe=(function(ut){for(var st={},At=0;At<ut.length;++At){var $t=xN(ut[At]),Ut=$t.family,un=$t.stretch,rn=$t.style,On=$t.weight;st[Ut]=st[Ut]||{},st[Ut][un]=st[Ut][un]||{},st[Ut][un][rn]=st[Ut][un][rn]||{},st[Ut][un][rn][On]=$t}return st})(xt.concat(Me))}return Pe})(this.pdf,this.fontFaces),Ke=Le.map(function(Ze){return{family:Ze,stretch:"normal",weight:ye,style:ke}}),at=(function(Ze,Me,xt){for(var ut=(xt=xt||{}).defaultFontFamily||"times",st=Object.assign({},Tbe,xt.genericFontFamilies||{}),At=null,$t=null,Ut=0;Ut<Me.length;++Ut)if(st[(At=xN(Me[Ut])).family]&&(At.family=st[At.family]),Ze.hasOwnProperty(At.family)){$t=Ze[At.family];break}if(!($t=$t||Ze[ut]))throw new Error("Could not find a font-family for the rule '"+BR(At)+"' and default family '"+ut+"'.");if($t=(function(un,rn){if(rn[un])return rn[un];var On=aS[un],Zn=On<=aS.normal?-1:1,Xt=FR(rn,qB,On,Zn);if(!Xt)throw new Error("Could not find a matching font-stretch value for "+un);return Xt})(At.stretch,$t),$t=(function(un,rn){if(rn[un])return rn[un];for(var On=VB[un],Zn=0;Zn<On.length;++Zn)if(rn[On[Zn]])return rn[On[Zn]];throw new Error("Could not find a matching font-style for "+un)})(At.style,$t),!($t=(function(un,rn){if(rn[un])return rn[un];if(un===400&&rn[500])return rn[500];if(un===500&&rn[400])return rn[400];var On=Cbe[un],Zn=FR(rn,$B,On,un<400?-1:1);if(!Zn)throw new Error("Could not find a matching font-weight for value "+un);return Zn})(At.weight,$t)))throw new Error("Failed to resolve a font for the rule '"+BR(At)+"'.");return $t})(Ie,Ke);this.pdf.setFont(at.ref.name,at.ref.style)}else{var Xe="";(ye==="bold"||parseInt(ye,10)>=700||ke==="bold")&&(Xe="bold"),ke==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var ht="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<Le.length;bt++){if(this.pdf.internal.getFont(Le[bt],Xe,{noFallback:!0,disableWarning:!0})!==void 0){ht=Le[bt];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(Le[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Le[bt],Xe="bold";else if(this.pdf.internal.getFont(Le[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Le[bt],Xe="normal";break}}if(ht===""){for(var _e=0;_e<Le.length;_e++)if(Tt[Le[_e]]){ht=Tt[Le[_e]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(q){this.ctx.globalCompositeOperation=q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(q){this.ctx.globalAlpha=q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(q){this.ctx.lineDashOffset=q,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(q){this.ctx.lineDash=q,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(q){this.ctx.ignoreClearRect=!!q}})};p.prototype.setLineDash=function(O){this.lineDash=O},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){D.call(this,"fill",!1)},p.prototype.stroke=function(){D.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(O,K){if(isNaN(O)||isNaN(K))throw Rr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new o(O,K));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(O,K)},p.prototype.closePath=function(){var O=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&br(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){O=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(O.x,O.y)},p.prototype.lineTo=function(O,K){if(isNaN(O)||isNaN(K))throw Rr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new o(O,K));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new o(te.x,te.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},p.prototype.quadraticCurveTo=function(O,K,te,ee){if(isNaN(te)||isNaN(ee)||isNaN(O)||isNaN(K))throw Rr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var xe=this.ctx.transform.applyToPoint(new o(te,ee)),be=this.ctx.transform.applyToPoint(new o(O,K));this.path.push({type:"qct",x1:be.x,y1:be.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new o(xe.x,xe.y)},p.prototype.bezierCurveTo=function(O,K,te,ee,xe,be){if(isNaN(xe)||isNaN(be)||isNaN(O)||isNaN(K)||isNaN(te)||isNaN(ee))throw Rr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new o(xe,be)),fe=this.ctx.transform.applyToPoint(new o(O,K)),Ee=this.ctx.transform.applyToPoint(new o(te,ee));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ee.x,y2:Ee.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},p.prototype.arc=function(O,K,te,ee,xe,be){if(isNaN(O)||isNaN(K)||isNaN(te)||isNaN(ee)||isNaN(xe))throw Rr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new o(O,K));O=oe.x,K=oe.y;var fe=this.ctx.transform.applyToPoint(new o(0,te)),Ee=this.ctx.transform.applyToPoint(new o(0,0));te=Math.sqrt(Math.pow(fe.x-Ee.x,2)+Math.pow(fe.y-Ee.y,2))}Math.abs(xe-ee)>=2*Math.PI&&(ee=0,xe=2*Math.PI),this.path.push({type:"arc",x:O,y:K,radius:te,startAngle:ee,endAngle:xe,counterclockwise:be})},p.prototype.arcTo=function(O,K,te,ee,xe){throw new Error("arcTo not implemented.")},p.prototype.rect=function(O,K,te,ee){if(isNaN(O)||isNaN(K)||isNaN(te)||isNaN(ee))throw Rr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(O,K),this.lineTo(O+te,K),this.lineTo(O+te,K+ee),this.lineTo(O,K+ee),this.lineTo(O,K),this.lineTo(O+te,K),this.lineTo(O,K)},p.prototype.fillRect=function(O,K,te,ee){if(isNaN(O)||isNaN(K)||isNaN(te)||isNaN(ee))throw Rr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var xe={};this.lineCap!=="butt"&&(xe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(xe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(O,K,te,ee),this.fill(),xe.hasOwnProperty("lineCap")&&(this.lineCap=xe.lineCap),xe.hasOwnProperty("lineJoin")&&(this.lineJoin=xe.lineJoin)}},p.prototype.strokeRect=function(O,K,te,ee){if(isNaN(O)||isNaN(K)||isNaN(te)||isNaN(ee))throw Rr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(O,K,te,ee),this.stroke())},p.prototype.clearRect=function(O,K,te,ee){if(isNaN(O)||isNaN(K)||isNaN(te)||isNaN(ee))throw Rr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(O,K,te,ee))},p.prototype.save=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),O){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},p.prototype.restore=function(O){O=typeof O!="boolean"||O;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(K),O&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(O){var K,te,ee,xe;if(O.isCanvasGradient===!0&&(O=O.getColor()),!O)return{r:0,g:0,b:0,a:0,style:O};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(O))K=0,te=0,ee=0,xe=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(O);if(be!==null)K=parseInt(be[1]),te=parseInt(be[2]),ee=parseInt(be[3]),xe=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(O))!==null)K=parseInt(be[1]),te=parseInt(be[2]),ee=parseInt(be[3]),xe=parseFloat(be[4]);else{if(xe=1,typeof O=="string"&&O.charAt(0)!=="#"){var oe=new DB(O);O=oe.ok?oe.toHex():"#000000"}O.length===4?(K=O.substring(1,2),K+=K,te=O.substring(2,3),te+=te,ee=O.substring(3,4),ee+=ee):(K=O.substring(1,3),te=O.substring(3,5),ee=O.substring(5,7)),K=parseInt(K,16),te=parseInt(te,16),ee=parseInt(ee,16)}}return{r:K,g:te,b:ee,a:xe,style:O}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(O,K,te,ee){if(isNaN(K)||isNaN(te)||typeof O!="string")throw Rr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!g.call(this)){var xe=ie(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;I.call(this,{text:O,x:K,y:te,scale:be,angle:xe,align:this.textAlign,maxWidth:ee})}},p.prototype.strokeText=function(O,K,te,ee){if(isNaN(K)||isNaN(te)||typeof O!="string")throw Rr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ee=isNaN(ee)?void 0:ee;var xe=ie(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;I.call(this,{text:O,x:K,y:te,scale:be,renderingMode:"stroke",angle:xe,align:this.textAlign,maxWidth:ee})}},p.prototype.measureText=function(O){if(typeof O!="string")throw Rr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,te=this.pdf.internal.scaleFactor,ee=K.internal.getFontSize(),xe=K.getStringUnitWidth(O)*ee/K.internal.scaleFactor;return new function(be){var oe=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return oe}}),this}({width:xe*=Math.round(96*te/72*1e4)/1e4})},p.prototype.scale=function(O,K){if(isNaN(O)||isNaN(K))throw Rr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new d(O,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},p.prototype.rotate=function(O){if(isNaN(O))throw Rr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new d(Math.cos(O),Math.sin(O),-Math.sin(O),Math.cos(O),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},p.prototype.translate=function(O,K){if(isNaN(O)||isNaN(K))throw Rr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new d(1,0,0,1,O,K);this.ctx.transform=this.ctx.transform.multiply(te)},p.prototype.transform=function(O,K,te,ee,xe,be){if(isNaN(O)||isNaN(K)||isNaN(te)||isNaN(ee)||isNaN(xe)||isNaN(be))throw Rr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new d(O,K,te,ee,xe,be);this.ctx.transform=this.ctx.transform.multiply(oe)},p.prototype.setTransform=function(O,K,te,ee,xe,be){O=isNaN(O)?1:O,K=isNaN(K)?0:K,te=isNaN(te)?0:te,ee=isNaN(ee)?1:ee,xe=isNaN(xe)?0:xe,be=isNaN(be)?0:be,this.ctx.transform=new d(O,K,te,ee,xe,be)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(O,K,te,ee,xe,be,oe,fe,Ee){var Be=this.pdf.getImageProperties(O),Pe=1,ct=1,q=1,ae=1;ee!==void 0&&fe!==void 0&&(q=fe/ee,ae=Ee/xe,Pe=Be.width/ee*fe/ee,ct=Be.height/xe*Ee/xe),be===void 0&&(be=K,oe=te,K=0,te=0),ee!==void 0&&fe===void 0&&(fe=ee,Ee=xe),ee===void 0&&fe===void 0&&(fe=Be.width,Ee=Be.height);for(var ke,ye=this.ctx.transform.decompose(),he=ie(ye.rotate.shx),ve=new d,De=(ve=(ve=(ve=ve.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale)).applyToRectangle(new c(be-K*q,oe-te*ae,ee*Pe,xe*ct)),Le=w.call(this,De),Ie=[],Ke=0;Ke<Le.length;Ke+=1)Ie.indexOf(Le[Ke])===-1&&Ie.push(Le[Ke]);if(T(Ie),this.autoPaging)for(var at=Ie[0],Xe=Ie[Ie.length-1],ht=at;ht<Xe+1;ht++){this.pdf.setPage(ht);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=ht===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Me=ht===1?0:_e+(ht-2)*Ze;if(this.ctx.clip_path.length!==0){var xt=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ke,this.posX+this.margin[3],-Me+bt+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=xt}var ut=JSON.parse(JSON.stringify(De));ut=E([ut],this.posX+this.margin[3],-Me+bt+this.ctx.prevPageLastElemOffset)[0];var st=(ht>at||ht<Xe)&&v.call(this);st&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,Ze,null).clip().discardPath()),this.pdf.addImage(O,"JPEG",ut.x,ut.y,ut.w,ut.h,null,null,he),st&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(O,"JPEG",De.x,De.y,De.w,De.h,null,null,he)};var w=function(O,K,te){var ee=[];K=K||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var xe=this.posY+this.ctx.prevPageLastElemOffset;switch(O.type){default:case"mt":case"lt":ee.push(Math.floor((O.y+xe)/te)+1);break;case"arc":ee.push(Math.floor((O.y+xe-O.radius)/te)+1),ee.push(Math.floor((O.y+xe+O.radius)/te)+1);break;case"qct":var be=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x,O.y);ee.push(Math.floor((be.y+xe)/te)+1),ee.push(Math.floor((be.y+be.h+xe)/te)+1);break;case"bct":var oe=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,O.x1,O.y1,O.x2,O.y2,O.x,O.y);ee.push(Math.floor((oe.y+xe)/te)+1),ee.push(Math.floor((oe.y+oe.h+xe)/te)+1);break;case"rect":ee.push(Math.floor((O.y+xe)/te)+1),ee.push(Math.floor((O.y+O.h+xe)/te)+1)}for(var fe=0;fe<ee.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<ee[fe];)j.call(this);return ee},j=function(){var O=this.fillStyle,K=this.strokeStyle,te=this.font,ee=this.lineCap,xe=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=O,this.strokeStyle=K,this.font=te,this.lineCap=ee,this.lineWidth=xe,this.lineJoin=be},E=function(O,K,te){for(var ee=0;ee<O.length;ee++)switch(O[ee].type){case"bct":O[ee].x2+=K,O[ee].y2+=te;case"qct":O[ee].x1+=K,O[ee].y1+=te;default:O[ee].x+=K,O[ee].y+=te}return O},T=function(O){return O.sort(function(K,te){return K-te})},D=function(O,K){for(var te,ee,xe=this.fillStyle,be=this.strokeStyle,oe=this.lineCap,fe=this.lineWidth,Ee=Math.abs(fe*this.ctx.transform.scaleX),Be=this.lineJoin,Pe=JSON.parse(JSON.stringify(this.path)),ct=JSON.parse(JSON.stringify(this.path)),q=[],ae=0;ae<ct.length;ae++)if(ct[ae].x!==void 0)for(var ke=w.call(this,ct[ae]),ye=0;ye<ke.length;ye+=1)q.indexOf(ke[ye])===-1&&q.push(ke[ye]);for(var he=0;he<q.length;he++)for(;this.pdf.internal.getNumberOfPages()<q[he];)j.call(this);if(T(q),this.autoPaging)for(var ve=q[0],De=q[q.length-1],Le=ve;Le<De+1;Le++){this.pdf.setPage(Le),this.fillStyle=xe,this.strokeStyle=be,this.lineCap=oe,this.lineWidth=Ee,this.lineJoin=Be;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Le===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Xe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=Le===1?0:at+(Le-2)*Xe;if(this.ctx.clip_path.length!==0){var Tt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(te,this.posX+this.margin[3],-ht+Ke+this.ctx.prevPageLastElemOffset),M.call(this,O,!0),this.path=Tt}if(ee=JSON.parse(JSON.stringify(Pe)),this.path=E(ee,this.posX+this.margin[3],-ht+Ke+this.ctx.prevPageLastElemOffset),K===!1||Le===0){var bt=(Le>ve||Le<De)&&v.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,Xe,null).clip().discardPath()),M.call(this,O,K),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ee,M.call(this,O,K),this.lineWidth=fe;this.path=Pe},M=function(O,K){if((O!=="stroke"||K||!b.call(this))&&(O==="stroke"||K||!g.call(this))){for(var te,ee,xe=[],be=this.path,oe=0;oe<be.length;oe++){var fe=be[oe];switch(fe.type){case"begin":xe.push({begin:!0});break;case"close":xe.push({close:!0});break;case"mt":xe.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ee=xe.length;if(be[oe-1]&&!isNaN(be[oe-1].x)&&(te=[fe.x-be[oe-1].x,fe.y-be[oe-1].y],Ee>0)){for(;Ee>=0;Ee--)if(xe[Ee-1].close!==!0&&xe[Ee-1].begin!==!0){xe[Ee-1].deltas.push(te),xe[Ee-1].abs.push(fe);break}}break;case"bct":te=[fe.x1-be[oe-1].x,fe.y1-be[oe-1].y,fe.x2-be[oe-1].x,fe.y2-be[oe-1].y,fe.x-be[oe-1].x,fe.y-be[oe-1].y],xe[xe.length-1].deltas.push(te);break;case"qct":var Be=be[oe-1].x+2/3*(fe.x1-be[oe-1].x),Pe=be[oe-1].y+2/3*(fe.y1-be[oe-1].y),ct=fe.x+2/3*(fe.x1-fe.x),q=fe.y+2/3*(fe.y1-fe.y),ae=fe.x,ke=fe.y;te=[Be-be[oe-1].x,Pe-be[oe-1].y,ct-be[oe-1].x,q-be[oe-1].y,ae-be[oe-1].x,ke-be[oe-1].y],xe[xe.length-1].deltas.push(te);break;case"arc":xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(xe[xe.length-1].abs)&&xe[xe.length-1].abs.push(fe)}}ee=K?null:O==="stroke"?"stroke":"fill";for(var ye=!1,he=0;he<xe.length;he++)if(xe[he].arc)for(var ve=xe[he].abs,De=0;De<ve.length;De++){var Le=ve[De];Le.type==="arc"?z.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,K,!ye):U.call(this,Le.x,Le.y),ye=!0}else if(xe[he].close===!0)this.pdf.internal.out("h"),ye=!1;else if(xe[he].begin!==!0){var Ie=xe[he].start.x,Ke=xe[he].start.y;k.call(this,xe[he].deltas,Ie,Ke),ye=!0}ee&&L.call(this,ee),K&&H.call(this)}},J=function(O){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return O-te;case"top":return O+K-te;case"hanging":return O+K-2*te;case"middle":return O+K/2-te;default:return O}},F=function(O){return O+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var O=function(){};return O.colorStops=[],O.addColorStop=function(K,te){this.colorStops.push([K,te])},O.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},O.isCanvasGradient=!0,O},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var z=function(O,K,te,ee,xe,be,oe,fe,Ee){for(var Be=G.call(this,te,ee,xe,be),Pe=0;Pe<Be.length;Pe++){var ct=Be[Pe];Pe===0&&(Ee?P.call(this,ct.x1+O,ct.y1+K):U.call(this,ct.x1+O,ct.y1+K)),le.call(this,O,K,ct.x2,ct.y2,ct.x3,ct.y3,ct.x4,ct.y4)}fe?H.call(this):L.call(this,oe)},L=function(O){switch(O){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(O,K){this.pdf.internal.out(n(O)+" "+r(K)+" m")},I=function(O){var K;switch(O.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var te=this.pdf.getTextDimensions(O.text),ee=J.call(this,O.y),xe=F.call(this,ee)-te.h,be=this.ctx.transform.applyToPoint(new o(O.x,ee)),oe=this.ctx.transform.decompose(),fe=new d;fe=(fe=(fe=fe.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var Ee,Be,Pe,ct=this.ctx.transform.applyToRectangle(new c(O.x,ee,te.w,te.h)),q=fe.applyToRectangle(new c(O.x,xe,te.w,te.h)),ae=w.call(this,q),ke=[],ye=0;ye<ae.length;ye+=1)ke.indexOf(ae[ye])===-1&&ke.push(ae[ye]);if(T(ke),this.autoPaging)for(var he=ke[0],ve=ke[ke.length-1],De=he;De<ve+1;De++){this.pdf.setPage(De);var Le=De===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],at=Ke-this.margin[0],Xe=this.pdf.internal.pageSize.width-this.margin[1],ht=Xe-this.margin[3],Tt=De===1?0:Ie+(De-2)*at;if(this.ctx.clip_path.length!==0){var bt=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ee,this.posX+this.margin[3],-1*Tt+Le),M.call(this,"fill",!0),this.path=bt}var _e=E([JSON.parse(JSON.stringify(q))],this.posX+this.margin[3],-Tt+Le+this.ctx.prevPageLastElemOffset)[0];O.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*O.scale),Pe=this.lineWidth,this.lineWidth=Pe*O.scale);var Ze=this.autoPaging!=="text";if(Ze||_e.y+_e.h<=Ke){if(Ze||_e.y>=Le&&_e.x<=Xe){var Me=Ze?O.text:this.pdf.splitTextToSize(O.text,O.maxWidth||Xe-_e.x)[0],xt=E([JSON.parse(JSON.stringify(ct))],this.posX+this.margin[3],-Tt+Le+this.ctx.prevPageLastElemOffset)[0],ut=Ze&&(De>he||De<ve)&&v.call(this);ut&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,at,null).clip().discardPath()),this.pdf.text(Me,xt.x,xt.y,{angle:O.angle,align:K,renderingMode:O.renderingMode}),ut&&this.pdf.restoreGraphicsState()}}else _e.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-_e.y);O.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=Pe)}else O.scale>=.01&&(Be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Be*O.scale),Pe=this.lineWidth,this.lineWidth=Pe*O.scale),this.pdf.text(O.text,be.x+this.posX,be.y+this.posY,{angle:O.angle,align:K,renderingMode:O.renderingMode,maxWidth:O.maxWidth}),O.scale>=.01&&(this.pdf.setFontSize(Be),this.lineWidth=Pe)},U=function(O,K,te,ee){te=te||0,ee=ee||0,this.pdf.internal.out(n(O+te)+" "+r(K+ee)+" l")},k=function(O,K,te){return this.pdf.lines(O,K,te,null,null)},le=function(O,K,te,ee,xe,be,oe,fe){this.pdf.internal.out([e(i(te+O)),e(a(ee+K)),e(i(xe+O)),e(a(be+K)),e(i(oe+O)),e(a(fe+K)),"c"].join(" "))},G=function(O,K,te,ee){for(var xe=2*Math.PI,be=Math.PI/2;K>te;)K-=xe;var oe=Math.abs(te-K);oe<xe&&ee&&(oe=xe-oe);for(var fe=[],Ee=ee?-1:1,Be=K;oe>1e-5;){var Pe=Be+Ee*Math.min(oe,be);fe.push(W.call(this,O,Be,Pe)),oe-=Math.abs(Pe-Be),Be=Pe}return fe},W=function(O,K,te){var ee=(te-K)/2,xe=O*Math.cos(ee),be=O*Math.sin(ee),oe=xe,fe=-be,Ee=oe*oe+fe*fe,Be=Ee+oe*xe+fe*be,Pe=4/3*(Math.sqrt(2*Ee*Be)-Be)/(oe*be-fe*xe),ct=oe-Pe*fe,q=fe+Pe*oe,ae=ct,ke=-q,ye=ee+K,he=Math.cos(ye),ve=Math.sin(ye);return{x1:O*Math.cos(K),y1:O*Math.sin(K),x2:ct*he-q*ve,y2:ct*ve+q*he,x3:ae*he-ke*ve,y3:ae*ve+ke*he,x4:O*Math.cos(te),y4:O*Math.sin(te)}},ie=function(O){return 180*O/Math.PI},se=function(O,K,te,ee,xe,be){var oe=O+.5*(te-O),fe=K+.5*(ee-K),Ee=xe+.5*(te-xe),Be=be+.5*(ee-be),Pe=Math.min(O,xe,oe,Ee),ct=Math.max(O,xe,oe,Ee),q=Math.min(K,be,fe,Be),ae=Math.max(K,be,fe,Be);return new c(Pe,q,ct-Pe,ae-q)},Se=function(O,K,te,ee,xe,be,oe,fe){var Ee,Be,Pe,ct,q,ae,ke,ye,he,ve,De,Le,Ie,Ke,at=te-O,Xe=ee-K,ht=xe-te,Tt=be-ee,bt=oe-xe,_e=fe-be;for(Be=0;Be<41;Be++)he=(ke=(Pe=O+(Ee=Be/40)*at)+Ee*((q=te+Ee*ht)-Pe))+Ee*(q+Ee*(xe+Ee*bt-q)-ke),ve=(ye=(ct=K+Ee*Xe)+Ee*((ae=ee+Ee*Tt)-ct))+Ee*(ae+Ee*(be+Ee*_e-ae)-ye),Be==0?(De=he,Le=ve,Ie=he,Ke=ve):(De=Math.min(De,he),Le=Math.min(Le,ve),Ie=Math.max(Ie,he),Ke=Math.max(Ke,ve));return new c(Math.round(De),Math.round(Le),Math.round(Ie-De),Math.round(Ke-Le))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var O,K,te=(O=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:O,lineDashOffset:K}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Kt.API),(function(t){var e=function(o){var c,d,h,f,p,x,g,b,v,w;for(d=[],h=0,f=(o+=c="\0\0\0\0".slice(o.length%4||4)).length;f>h;h+=4)(p=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(x=(p=((p=((p=((p=(p-(w=p%85))/85)-(v=p%85))/85)-(b=p%85))/85)-(g=p%85))/85)%85,d.push(x+33,g+33,b+33,v+33,w+33)):d.push(122);return(function(j,E){for(var T=E;T>0;T--)j.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},n=function(o){var c,d,h,f,p,x=String,g="length",b=255,v="charCodeAt",w="slice",j="replace";for(o[w](-2),o=o[w](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),h=[],f=0,p=(o+=c="uuuuu"[w](o[g]%5||5))[g];p>f;f+=5)d=52200625*(o[v](f)-33)+614125*(o[v](f+1)-33)+7225*(o[v](f+2)-33)+85*(o[v](f+3)-33)+(o[v](f+4)-33),h.push(b&d>>24,b&d>>16,b&d>>8,b&d);return(function(E,T){for(var D=T;D>0;D--)E.pop()})(h,c[g]),x.fromCharCode.apply(x,h)},r=function(o){return o.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(o){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),c.test(o)===!1)return"";for(var d="",h=0;h<o.length;h+=2)d+=String.fromCharCode("0x"+(o[h]+o[h+1]));return d},a=function(o){for(var c=new Uint8Array(o.length),d=o.length;d--;)c[d]=o.charCodeAt(d);return(c=Jj(c)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,c){var d=0,h=o||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=r(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(Kt.API),(function(t){t.loadFile=function(e,n,r){return(function(i,a,o){a=a!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=(function(d,h,f){var p=new XMLHttpRequest,x=0,g=function(b){var v=b.length,w=[],j=String.fromCharCode;for(x=0;x<v;x+=1)w.push(j(255&b.charCodeAt(x)));return w.join("")};if(p.open("GET",d,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),h&&p.status===200)return g(p.responseText)})(i,a,o)}catch{}return c})(e,n,r)},t.loadImageFile=t.loadFile})(Kt.API),(function(t){function e(){return(hn.html2canvas?Promise.resolve(hn.html2canvas):eN(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function n(){return(hn.DOMPurify?Promise.resolve(hn.DOMPurify):eN(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var d=br(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(c,d){var h=document.createElement(c);for(var f in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[f]=d.style[f];return h},a=function c(d,h){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),p=d.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(c(p,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f},o=function c(d){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),h);return(f=f.setProgress(1,c,1,[c])).set(d)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(c,d){return c.__proto__=d||o.prototype,c},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(n).then(function(h){return this.set({src:i("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},o.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var h=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var b=f[g],v=b.src.find(function(w){return w.format==="truetype"});v&&h.addFont(v.url,b.ref.name,b.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(c,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},o.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},o.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},o.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(c){if(r(c)!=="object")return this;var d=Object.keys(c||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(d)})},o.prototype.get=function(c,d){return this.then(function(){var h=c in o.template.prop?this.prop[c]:this.opt[c];return d?d(h):h})},o.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},o.prototype.setPageSize=function(c){function d(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(c=c||Kt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},o.prototype.setProgress=function(c,d,h,f){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(c,d,h,f){return this.setProgress(c?this.progress.val+c:null,d||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(c,d){var h=this;return this.thenCore(c,d,function(f,p){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,f),x}).then(f,p).then(function(x){return h.updateProgress(1),x})})},o.prototype.thenCore=function(c,d,h){h=h||Promise.prototype.then;var f=this;c&&(c=c.bind(f)),d&&(d=d.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),x=h.call(p,c,d);return o.convert(x,f.__proto__)},o.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},o.prototype.thenList=function(c){var d=this;return c.forEach(function(h){d=d.thenCore(h)}),d},o.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return o.convert(d,this)},o.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},o.prototype.error=function(c){return this.then(function(){throw new Error(c)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Kt.getPageSize=function(c,d,h){if(br(c)==="object"){var f=c;c=f.orientation,d=f.unit||d,h=f.format||h}d=d||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var p,x=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+d}var b,v=0,w=0;if(g.hasOwnProperty(x))v=g[x][1]/p,w=g[x][0]/p;else try{v=h[1],w=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",w>v&&(b=w,w=v,v=b);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",v>w&&(b=w,w=v,v=b)}return{width:w,height:v,unit:d,k:p,orientation:c}},t.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(xN):null;var h=new o(d);return d.worker?h:h.from(c).doCallback()}})(Kt.API),Kt.API.addJS=function(t){return $R=t,this.internal.events.subscribe("postPutResources",function(){_v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_v+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qR=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+$R+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_v!==void 0&&qR!==void 0&&this.internal.out("/Names <</JavaScript "+_v+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),a=0;a<i.length;a++){var o=i[a],c=r.exec(o);if(c!=null){var d=c[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(a=0;a<h;a++){var p=n.internal.newObject();f.push(p);var x=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<f.length;a++)n.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+g+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,a){var o={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var o=r.children[a];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var d=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<r.children.length;h++)this.renderItems(r.children[h])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])})(Kt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,a,o,c){var d,h=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,d=(function(p){for(var x,g=256*p.charCodeAt(4)+p.charCodeAt(5),b=p.length,v={width:0,height:0,numcomponents:1},w=4;w<b;w+=2){if(w+=g,e.indexOf(p.charCodeAt(w+1))!==-1){x=256*p.charCodeAt(w+5)+p.charCodeAt(w+6),v={width:256*p.charCodeAt(w+7)+p.charCodeAt(w+8),height:x,numcomponents:p.charCodeAt(w+9)};break}g=256*p.charCodeAt(w+2)+p.charCodeAt(w+3)}return v})(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:n,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:h,index:r,alias:i}}return f}})(Kt.API),Kt.API.processPNG=function(t,e,n,r){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=mbe(t,{checkCrc:!0}),o=a.width,c=a.height,d=a.channels,h=a.palette,f=a.depth;i=h&&d===1?(function(z){for(var L=z.width,H=z.height,P=z.data,I=z.palette,U=z.depth,k=!1,le=[],G=[],W=void 0,ie=!1,se=0,Se=0;Se<I.length;Se++){var X=Y8(I[Se],4),O=X[0],K=X[1],te=X[2],ee=X[3];le.push(O,K,te),ee!=null&&(ee===0?(se++,G.length<1&&G.push(Se)):ee<255&&(ie=!0))}if(ie||se>1){k=!0,G=void 0;var xe=L*H;W=new Uint8Array(xe);for(var be=new DataView(P.buffer),oe=0;oe<xe;oe++){var fe=bN(be,oe,U),Ee=Y8(I[fe],4)[3];W[oe]=Ee}}else se===0&&(G=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:k?8:void 0,colorBytes:P,alphaBytes:W,needSMask:k,palette:le,mask:G}})(a):d===2||d===4?(function(z){for(var L=z.data,H=z.width,P=z.height,I=z.channels,U=z.depth,k=I===2?"DeviceGray":"DeviceRGB",le=I-1,G=H*P,W=le,ie=G*W,se=1*G,Se=Math.ceil(ie*U/8),X=Math.ceil(se*U/8),O=new Uint8Array(Se),K=new Uint8Array(X),te=new DataView(L.buffer),ee=new DataView(O.buffer),xe=new DataView(K.buffer),be=!1,oe=0;oe<G;oe++){for(var fe=oe*I,Ee=0;Ee<W;Ee++)QR(ee,bN(te,fe+Ee,U),oe*W+Ee,U);var Be=bN(te,fe+W,U);Be<(1<<U)-1&&(be=!0),QR(xe,Be,1*oe,U)}return{colorSpace:k,colorsPerPixel:le,sMaskBitsPerComponent:be?U:void 0,colorBytes:O,alphaBytes:K,needSMask:be}})(a):(function(z){var L=z.data,H=z.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:H,colorsPerPixel:H==="DeviceGray"?1:3,colorBytes:L instanceof Uint16Array?(function(P){for(var I=P.length,U=new Uint8Array(2*I),k=new DataView(U.buffer,U.byteOffset,U.byteLength),le=0;le<I;le++)k.setUint16(2*le,P[le],!1);return U})(L):L,needSMask:!1}})(a);var p,x,g,b=i,v=b.colorSpace,w=b.colorsPerPixel,j=b.sMaskBitsPerComponent,E=b.colorBytes,T=b.alphaBytes,D=b.needSMask,M=b.palette,J=b.mask,F=null;return r!==Kt.API.image_compression.NONE&&typeof Jj=="function"?(F=(function(z){var L;switch(z){case Kt.API.image_compression.FAST:L=11;break;case Kt.API.image_compression.MEDIUM:L=13;break;case Kt.API.image_compression.SLOW:L=14;break;default:L=12}return L})(r),p=this.decode.FLATE_DECODE,x="/Predictor ".concat(F," /Colors ").concat(w," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=YR(E,Math.ceil(o*w*f/8),w,f,r),D&&(g=YR(T,Math.ceil(o*j/8),1,j,r))):(p=void 0,x=void 0,t=E,D&&(g=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:n,data:t,index:e,filter:p,decodeParameters:x,transparency:J,palette:M,sMask:g,predictor:F,width:o,height:c,bitsPerComponent:f,sMaskBitsPerComponent:j,colorSpace:v}}},(function(t){t.processGIF89A=function(e,n,r,i){var a=new Dbe(e),o=a.width,c=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:o,height:c},f=new wN(100).encode(h,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A})(Kt.API),uc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},uc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Rr.log("bit decode error:"+n)}},uc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var d=this.palette[a>>7-c&1];this.data[o+4*c]=d.blue,this.data[o+4*c+1]=d.green,this.data[o+4*c+2]=d.red,this.data[o+4*c+3]=255}n!==0&&(this.pos+=4-n)}},uc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,c=a>>4,d=15&a,h=this.palette[c];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[d],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},uc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[a]=o.red,this.data[a+1]=o.green,this.data[a+2]=o.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},uc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,d=(a>>10&e)/e*255|0,h=a>>15?255:0,f=r*this.width*4+4*i;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=h}this.pos+=t}},uc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,d=(o>>5&n)/n*255|0,h=(o>>11)/e*255|0,f=i*this.width*4+4*a;this.data[f]=h,this.data[f+1]=d,this.data[f+2]=c,this.data[f+3]=255}this.pos+=t}},uc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},uc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*n;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=r,this.data[c+3]=o}},uc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,n,r,i){var a=new uc(e,!1),o=a.width,c=a.height,d={data:a.getData(),width:o,height:c},h=new wN(100).encode(d,100);return t.processJPEG.call(this,h,n,r,i)}})(Kt.API),tO.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,n,r,i){var a=new tO(e),o=a.width,c=a.height,d={data:a.getData(),width:o,height:c},h=new wN(100).encode(d,100);return t.processJPEG.call(this,h,n,r,i)}})(Kt.API),Kt.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,a=new Uint8Array(i/4*3),o=new Uint8Array(i/4),c=0,d=0,h=0;h<i;h+=4){var f=r[h],p=r[h+1],x=r[h+2],g=r[h+3];a[c++]=f,a[c++]=p,a[c++]=x,o[d++]=g}var b=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Kt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},rp=Kt.API,Nv=rp.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,d=c.fof?c.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,p=e.doKerning!==!1,x=0,g=t.length,b=0,v=c[0]||d,w=[];for(n=0;n<g;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?w.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/a)||0)/1e3):(x=p&&br(h[r])==="object"&&!isNaN(parseInt(h[r][b],10))?h[r][b]/f:0,w.push((c[r]||v)/d+x)),b=r;return w},HR=rp.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return rp.processArabic&&(t=rp.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Nv.apply(this,arguments).reduce(function(a,o){return a+o},0)},WR=function(t,e,n,r){for(var i=[],a=0,o=t.length,c=0;a!==o&&c+e[a]<n;)c+=e[a],a++;i.push(t.slice(0,a));var d=a;for(c=0;a!==o;)c+e[a]>r&&(i.push(t.slice(d,a)),c=0,d=a),c+=e[a],a++;return d!==a&&i.push(t.slice(d,a)),i},GR=function(t,e,n){n||(n={});var r,i,a,o,c,d,h,f=[],p=[f],x=n.textIndent||0,g=0,b=0,v=t.split(" "),w=Nv.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var j=Array(d).join(" "),E=[];v.map(function(D){(D=D.split(/\s*\n/)).length>1?E=E.concat(D.map(function(M,J){return(J&&M.length?`
`:"")+M})):E.push(D[0])}),v=E,d=HR.apply(this,[j,n])}for(a=0,o=v.length;a<o;a++){var T=0;if(r=v[a],d&&r[0]==`
`&&(r=r.substr(1),T=1),x+g+(b=(i=Nv.apply(this,[r,n])).reduce(function(D,M){return D+M},0))>e||T){if(b>e){for(c=WR.apply(this,[r,i,e-(x+g),e]),f.push(c.shift()),f=[c.pop()];c.length;)p.push([c.shift()]);b=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(D,M){return D+M},0)}else f=[r];p.push(f),x=b+d,g=w}else f.push(r),x+=g+b,g=w}return h=d?function(D,M){return(M?j:"")+D.join(" ")}:function(D){return D.join(" ")},p.map(h)},rp.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),x="Unicode";return p.metadata[x]?{widths:p.metadata[x].widths||{0:1},kerning:p.metadata[x].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var c,d,h=[];for(c=0,d=r.length;c<d;c++)h=h.concat(GR.apply(this,[r[c],o,a]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},a=0;a<16;a++)r[n[a]]=e[a],i[e[a]]=n[a];var o=function(x){return"0x"+parseInt(x,10).toString(16)},c=t.__fontmetrics__.compress=function(x){var g,b,v,w,j=["{"];for(var E in x){if(g=x[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=o(E).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof g=="number")g<0?(v=o(g).slice(3),w="-"):(v=o(g).slice(2),w=""),v=w+v.slice(0,-1)+i[v.slice(-1)];else{if(br(g)!=="object")throw new Error("Don't know what to do with value type "+br(g)+".");v=c(g)}j.push(b+v)}return j.push("}"),j.join("")},d=t.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,b,v,w,j={},E=1,T=j,D=[],M="",J="",F=x.length-1,z=1;z<F;z+=1)(w=x[z])=="'"?g?(v=g.join(""),g=void 0):g=[]:g?g.push(w):w=="{"?(D.push([T,v]),T={},v=void 0):w=="}"?((b=D.pop())[0][b[1]]=T,v=void 0,T=b[0]):w=="-"?E=-1:v===void 0?r.hasOwnProperty(w)?(M+=r[w],v=parseInt(M,16)*E,E=1,M=""):M+=w:r.hasOwnProperty(w)?(J+=r[w],T[v]=parseInt(J,16)*E,E=1,v=void 0,J=""):J+=w;return j},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(x){var g=x.font,b=p.Unicode[g.postScriptName];b&&(g.metadata.Unicode={},g.metadata.Unicode.widths=b.widths,g.metadata.Unicode.kerning=b.kerning);var v=f.Unicode[g.postScriptName];v&&(g.metadata.Unicode.encoding=v,g.encoding=v.codePages[0])}])})(Kt.API),(function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=n.charCodeAt(a);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,a=n.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(qv(c)),o.metadata=t.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])})(Kt),Kt.API.addSvgAsImage=function(t,e,n,r,i,a,o,c){if(isNaN(e)||isNaN(n))throw Rr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Rr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=r,d.height=i;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(hn.canvg?Promise.resolve(hn.canvg):eN(()=>import("./index.es---zet2gk.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(h,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(f)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),e,n,r,i,o,c)})},Kt.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Kt.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,a,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),d=[],h=0,f=0,p=0;function x(b,v){var w,j=!1;for(w=0;w<b.length;w+=1)b[w]===v&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=c.length;for(p=0;p<g;p+=1)n[c[p]].value=n[c[p]].defaultValue,n[c[p]].explicitSet=!1}if(br(t)==="object"){for(i in t)if(a=t[i],x(c,i)&&a!==void 0){if(n[i].type==="boolean"&&typeof a=="boolean")n[i].value=a;else if(n[i].type==="name"&&x(n[i].valueSet,a))n[i].value=a;else if(n[i].type==="integer"&&Number.isInteger(a))n[i].value=a;else if(n[i].type==="array"){for(h=0;h<a.length;h+=1)if(r=!0,a[h].length===1&&typeof a[h][0]=="number")d.push(String(a[h]-1));else if(a[h].length>1){for(f=0;f<a[h].length;f+=1)typeof a[h][f]!="number"&&(r=!1);r===!0&&d.push([a[h][0]-1,a[h][1]-1].join(" "))}n[i].value="["+d.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,v=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?v.push("/"+b+" /"+n[b].value):v.push("/"+b+" "+n[b].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},(function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=a.length+o.length+c.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+a+o+c+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}})(Kt.API),(function(t){var e=t.API,n=e.pdfEscape16=function(a,o){for(var c,d=o.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],p=0,x=a.length;p<x;++p){if(c=o.metadata.characterToGlyph(a.charCodeAt(p)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=a.charCodeAt(p),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(h[4-c.length],c)}return f.join("")},r=function(a){var o,c,d,h,f,p,x;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],p=0,x=(c=Object.keys(a).sort(function(g,b){return g-b})).length;p<x;p++)o=c[p],d.length>=100&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[o]!==void 0&&a[o]!==null&&typeof a[o].toString=="function"&&(h=("0000"+a[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+h+">"));return d.length&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(o){var c=o.font,d=o.out,h=o.newObject,f=o.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var p=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",b=0;b<x.length;b++)g+=String.fromCharCode(x[b]);var v=h();f({data:g,addLength1:!0,objectId:v}),d("endobj");var w=h();f({data:r(c.metadata.toUnicode),addLength1:!0,objectId:w}),d("endobj");var j=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+up(c.fontName)),d("/FontFile2 "+v+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var E=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+up(c.fontName)),d("/FontDescriptor "+j+" 0 R"),d("/W "+t.API.PDFObject.convert(p)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+w+" 0 R"),d("/BaseFont /"+up(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+E+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(o){var c=o.font,d=o.out,h=o.newObject,f=o.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var p=c.metadata.rawData,x="",g=0;g<p.length;g++)x+=String.fromCharCode(p[g]);var b=h();f({data:x,addLength1:!0,objectId:b}),d("endobj");var v=h();f({data:r(c.metadata.toUnicode),addLength1:!0,objectId:v}),d("endobj");var w=h();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+b+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+up(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=h();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+up(c.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var o,c=a.text||"",d=a.x,h=a.y,f=a.options||{},p=a.mutex||{},x=p.pdfEscape,g=p.activeFontKey,b=p.fonts,v=g,w="",j=0,E="",T=b[v].encoding;if(b[v].encoding!=="Identity-H")return{text:c,x:d,y:h,options:f,mutex:p};for(E=c,v=g,Array.isArray(c)&&(E=c[0]),j=0;j<E.length;j+=1)b[v].metadata.hasOwnProperty("cmap")&&(o=b[v].metadata.cmap.unicode.codeMap[E[j].charCodeAt(0)]),o||E[j].charCodeAt(0)<256&&b[v].metadata.hasOwnProperty("Unicode")?w+=E[j]:w+="";var D="";return parseInt(v.slice(1))<14||T==="WinAnsiEncoding"?D=x(w,v).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(D=n(w,b[v])),p.isHex=!0,{text:D,x:d,y:h,options:f,mutex:p}};e.events.push(["postProcessText",function(a){var o=a.text||"",c=[],d={text:o,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?c.push([i(Object.assign({},d,{text:o[h][0]})).text,o[h][1],o[h][2]]):c.push(i(Object.assign({},d,{text:o[h]})).text);a.text=c}else a.text=i(Object.assign({},d,{text:o})).text}])})(Kt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}})(Kt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,a,o,c,d,h,f,p=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,T=0;this.__bidiEngine__={};var D=function(P){var I=P.charCodeAt(),U=I>>8,k=v[U];return k!==void 0?p[256*k+(255&I)]:U===252||U===253?"AL":j.test(U)?"L":U===8?"R":"N"},M=function(P){for(var I,U=0;U<P.length;U++){if((I=D(P.charAt(U)))==="L")return!1;if(I==="R")return!0}return!1},J=function(P,I,U,k){var le,G,W,ie,se=I[k];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(se="AN");break;case"AL":E=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":k<1||k+1>=I.length||(le=U[k-1])!=="EN"&&le!=="AN"||(G=I[k+1])!=="EN"&&G!=="AN"?se="N":E&&(G="AN"),se=G===le?G:"N";break;case"ES":se=(le=k>0?U[k-1]:"B")==="EN"&&k+1<I.length&&I[k+1]==="EN"?"EN":"N";break;case"ET":if(k>0&&U[k-1]==="EN"){se="EN";break}if(E){se="N";break}for(W=k+1,ie=I.length;W<ie&&I[W]==="ET";)W++;se=W<ie&&I[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(ie=I.length,W=k+1;W<ie&&I[W]==="NSM";)W++;if(W<ie){var Se=P[k],X=Se>=1425&&Se<=2303||Se===64286;if(le=I[W],X&&(le==="R"||le==="AL")){se="R";break}}}se=k<1||(le=I[k-1])==="B"?"N":U[k-1];break;case"B":E=!1,i=!0,se=T;break;case"S":a=!0,se="N"}return se},F=function(P,I,U){var k=P.split("");return U&&z(k,U,{hiLevel:T}),k.reverse(),I&&I.reverse(),k.join("")},z=function(P,I,U){var k,le,G,W,ie,se=-1,Se=P.length,X=0,O=[],K=T?g:x,te=[];for(E=!1,i=!1,a=!1,le=0;le<Se;le++)te[le]=D(P[le]);for(G=0;G<Se;G++){if(ie=X,O[G]=J(P,te,O,G),k=240&(X=K[ie][b[O[G]]]),X&=15,I[G]=W=K[X][5],k>0)if(k===16){for(le=se;le<G;le++)I[le]=1;se=-1}else se=-1;if(K[X][6])se===-1&&(se=G);else if(se>-1){for(le=se;le<G;le++)I[le]=W;se=-1}te[G]==="B"&&(I[G]=0),U.hiLevel|=W}a&&(function(ee,xe,be){for(var oe=0;oe<be;oe++)if(ee[oe]==="S"){xe[oe]=T;for(var fe=oe-1;fe>=0&&ee[fe]==="WS";fe--)xe[fe]=T}})(te,I,Se)},L=function(P,I,U,k,le){if(!(le.hiLevel<P)){if(P===1&&T===1&&!i)return I.reverse(),void(U&&U.reverse());for(var G,W,ie,se,Se=I.length,X=0;X<Se;){if(k[X]>=P){for(ie=X+1;ie<Se&&k[ie]>=P;)ie++;for(se=X,W=ie-1;se<W;se++,W--)G=I[se],I[se]=I[W],I[W]=G,U&&(G=U[se],U[se]=U[W],U[W]=G);X=ie}X++}}},H=function(P,I,U){var k=P.split(""),le={hiLevel:T};return U||(U=[]),z(k,U,le),(function(G,W,ie){if(ie.hiLevel!==0&&f)for(var se,Se=0;Se<G.length;Se++)W[Se]===1&&(se=w.indexOf(G[Se]))>=0&&(G[Se]=w[se+1])})(k,U,le),L(2,k,I,U,le),L(1,k,I,U,le),k.join("")};return this.__bidiEngine__.doBidiReorder=function(P,I,U){if((function(le,G){if(G)for(var W=0;W<le.length;W++)G[W]=W;c===void 0&&(c=M(le)),h===void 0&&(h=M(le))})(P,I),o||!d||h)if(o&&d&&c^h)T=c?1:0,P=F(P,I,U);else if(!o&&d&&h)T=c?1:0,P=H(P,I,U),P=F(P,I);else if(!o||c||d||h){if(o&&!d&&c^h)P=F(P,I),c?(T=0,P=H(P,I,U)):(T=1,P=H(P,I,U),P=F(P,I));else if(o&&c&&!d&&h)T=1,P=H(P,I,U),P=F(P,I);else if(!o&&!d&&c^h){var k=f;c?(T=1,P=H(P,I,U),T=0,f=!1,P=H(P,I,U),f=k):(T=0,P=H(P,I,U),P=F(P,I),T=1,f=!1,P=H(P,I,U),f=k,P=F(P,I))}}else T=0,P=H(P,I,U);else T=c?1:0,P=H(P,I,U);return P},this.__bidiEngine__.setOptions=function(P){P&&(o=P.isInputVisual,d=P.isOutputVisual,c=P.isInputRtl,h=P.isOutputRtl,f=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var a=r.options||{};r.mutex,a.lang;var o=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(o=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?o.push([n.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):o.push([n.doBidiReorder(i[c])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])})(Kt),Kt.API.TTFFont=(function(){function t(e){var n;if(this.rawData=e,n=this.contents=new qh(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Xbe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Lbe(this.contents),this.head=new zbe(this),this.name=new qbe(this),this.cmap=new WB(this),this.toUnicode={},this.hhea=new Fbe(this),this.maxp=new $be(this),this.hmtx=new Hbe(this),this.post=new Bbe(this),this.os2=new Ube(this),this.loca=new Kbe(this),this.glyf=new Wbe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,d,h;for(h=[],o=0,c=(d=this.bbox).length;o<c;o++)e=d[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,a,o,c;for(o=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=e.charCodeAt(a),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t})();var Cc,qh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,a,o,c,d;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^o)+256*(255^c)+(255^d)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*a+65536*o+256*c+d},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)n=e[r],a.push(this.writeByte(n));return a},t})(),Lbe=(function(){var t;function e(n){var r,i,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,a,o,c,d,h,f,p,x,g,b,v;for(v in g=Object.keys(n).length,d=Math.log(2),p=16*Math.floor(Math.log(g)/d),o=Math.floor(p/d),f=16*g-p,(i=new qh).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(o),i.writeShort(f),a=16*g,h=i.pos+a,c=null,b=[],n)for(x=n[v],i.writeString(v),i.writeInt(t(x)),i.writeInt(h),i.writeInt(x.length),b=b.concat(x),v==="head"&&(c=h),h+=x.length;h%4;)b.push(0),h++;return i.write(b),r=2981146554-t(i.data),i.pos=c+8,i.writeUInt32(r),i.data},t=function(n){var r,i,a,o;for(n=GB.call(n);n.length%4;)n.push(0);for(a=new qh(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=a.readUInt32();return 4294967295&i},e})(),Mbe={}.hasOwnProperty,ju=function(t,e){for(var n in e)Mbe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Cc=(function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var zbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new qh).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t})(),nO=(function(){function t(e,n){var r,i,a,o,c,d,h,f,p,x,g,b,v,w,j,E,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,a=(function(){var D,M;for(M=[],d=D=0;0<=x?D<x:D>x;d=0<=x?++D:--D)M.push(e.readUInt16());return M})(),e.pos+=2,v=(function(){var D,M;for(M=[],d=D=0;0<=x?D<x:D>x;d=0<=x?++D:--D)M.push(e.readUInt16());return M})(),h=(function(){var D,M;for(M=[],d=D=0;0<=x?D<x:D>x;d=0<=x?++D:--D)M.push(e.readUInt16());return M})(),f=(function(){var D,M;for(M=[],d=D=0;0<=x?D<x:D>x;d=0<=x?++D:--D)M.push(e.readUInt16());return M})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var D,M;for(M=[],d=D=0;0<=i?D<i:D>i;d=0<=i?++D:--D)M.push(e.readUInt16());return M})(),d=j=0,T=a.length;j<T;d=++j)for(w=a[d],r=E=b=v[d];b<=w?E<=w:E>=w;r=b<=w?++E:--E)f[d]===0?o=r+h[d]:(o=c[f[d]/2+(r-b)-(x-d)]||0)!==0&&(o+=h[d]),this.codeMap[r]=65535&o}e.pos=p}return t.encode=function(e,n){var r,i,a,o,c,d,h,f,p,x,g,b,v,w,j,E,T,D,M,J,F,z,L,H,P,I,U,k,le,G,W,ie,se,Se,X,O,K,te,ee,xe,be,oe,fe,Ee,Be,Pe;switch(k=new qh,o=Object.keys(e).sort(function(ct,q){return ct-q}),n){case"macroman":for(v=0,w=(function(){var ct=[];for(b=0;b<256;++b)ct.push(0);return ct})(),E={0:0},a={},le=0,se=o.length;le<se;le++)E[fe=e[i=o[le]]]==null&&(E[fe]=++v),a[i]={old:e[i],new:E[e[i]]},w[i]=E[e[i]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(w),{charMap:a,subtable:k.data,maxGlyphID:v+1};case"unicode":for(I=[],p=[],T=0,E={},r={},j=h=null,G=0,Se=o.length;G<Se;G++)E[M=e[i=o[G]]]==null&&(E[M]=++T),r[i]={old:M,new:E[M]},c=E[M]-i,j!=null&&c===h||(j&&p.push(j),I.push(i),h=c),j=i;for(j&&p.push(j),p.push(65535),I.push(65535),H=2*(L=I.length),z=2*Math.pow(Math.log(L)/Math.LN2,2),x=Math.log(z/2)/Math.LN2,F=2*L-z,d=[],J=[],g=[],b=W=0,X=I.length;W<X;b=++W){if(P=I[b],f=p[b],P===65535){d.push(0),J.push(0);break}if(P-(U=r[P].new)>=32768)for(d.push(0),J.push(2*(g.length+L-b)),i=ie=P;P<=f?ie<=f:ie>=f;i=P<=f?++ie:--ie)g.push(r[i].new);else d.push(U-P),J.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*L+2*g.length),k.writeUInt16(0),k.writeUInt16(H),k.writeUInt16(z),k.writeUInt16(x),k.writeUInt16(F),be=0,O=p.length;be<O;be++)i=p[be],k.writeUInt16(i);for(k.writeUInt16(0),oe=0,K=I.length;oe<K;oe++)i=I[oe],k.writeUInt16(i);for(Ee=0,te=d.length;Ee<te;Ee++)c=d[Ee],k.writeUInt16(c);for(Be=0,ee=J.length;Be<ee;Be++)D=J[Be],k.writeUInt16(D);for(Pe=0,xe=g.length;Pe<xe;Pe++)v=g[Pe],k.writeUInt16(v);return{charMap:r,subtable:k.data,maxGlyphID:T+1}}},t})(),WB=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new nO(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var r,i;return n==null&&(n="macroman"),r=nO.encode(e,n),(i=new qh).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},t})(),Fbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Ube=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var n,r;for(r=[],n=0;n<10;++n)r.push(e.readByte());return r})(),this.charRange=(function(){var n,r;for(r=[],n=0;n<4;++n)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Bbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="post",t.prototype.parse=function(e){var n,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(r=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var o,c,d;for(d=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)d.push(e.readUInt32());return d}).call(this)}},t})(),Vbe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},qbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="name",t.prototype.parse=function(e){var n,r,i,a,o,c,d,h,f,p,x;for(e.pos=this.offset,e.readShort(),n=e.readShort(),c=e.readShort(),r=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(d={},a=f=0,p=r.length;f<p;a=++f)i=r[a],e.pos=i.offset,h=e.readString(i.length),o=new Vbe(h,i),d[x=i.nameID]==null&&(d[x]=[]),d[i.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t})(),$be=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Hbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,r,i,a,o,c,d;for(e.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],n=h=0;0<=i?h<i:h>i;n=0<=i?++h:--h)f.push(e.readInt16());return f})(),this.widths=(function(){var h,f,p,x;for(x=[],h=0,f=(p=this.metrics).length;h<f;h++)a=p[h],x.push(a.advance);return x}).call(this),r=this.widths[this.widths.length-1],d=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)d.push(this.widths.push(r));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),GB=[].slice,Wbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,r,i,a,o,c,d,h,f,p;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,r=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+r,o=(c=new qh(n.read(i))).readShort(),h=c.readShort(),p=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[e]=o===-1?new Ybe(c,h,p,d,f):new Gbe(c,o,h,p,d,f),this.cache[e]))},t.prototype.encode=function(e,n,r){var i,a,o,c,d;for(o=[],a=[],c=0,d=n.length;c<d;c++)i=e[n[c]],a.push(o.length),i&&(o=o.concat(i.encode(r)));return a.push(o.length),{table:o,offsets:a}},t})(),Gbe=(function(){function t(e,n,r,i,a,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Ybe=(function(){function t(e,n,r,i,a){var o,c;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new qh(GB.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t})(),Kbe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return ju(t,Cc),t.prototype.tag="loca",t.prototype.parse=function(e){var n,r;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],r=0,i=this.length;r<i;r+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var r=new Uint32Array(this.offsets.length),i=0,a=0,o=0;o<r.length;++o)if(r[o]=i,a<n.length&&n[a]==o){++a,r[o]=i;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(i+=d)}for(var h=new Array(4*r.length),f=0;f<r.length;++f)h[4*f+3]=255&r[f],h[4*f+2]=(65280&r[f])>>8,h[4*f+1]=(16711680&r[f])>>16,h[4*f]=(4278190080&r[f])>>24;return h},t})(),Xbe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,a;for(n in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,a,o,c,d;for(i={},o=0,c=e.length;o<c;o++)i[a=e[o]]=this.font.glyf.glyphFor(a);for(a in n=[],i)(r=i[a])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(a in d=this.glyphsFor(n))r=d[a],i[a]=r;return i},t.prototype.encode=function(e,n){var r,i,a,o,c,d,h,f,p,x,g,b,v,w,j;for(i in r=WB.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},j=r.charMap)g[(d=j[i]).old]=d.new;for(b in x=r.maxGlyphID,o)b in g||(g[b]=x++);return f=(function(E){var T,D;for(T in D={},E)D[E[T]]=T;return D})(g),p=Object.keys(f).sort(function(E,T){return E-T}),v=(function(){var E,T,D;for(D=[],E=0,T=p.length;E<T;E++)c=p[E],D.push(f[c]);return D})(),a=this.font.glyf.encode(o,v,g),h=this.font.loca.encode(a.offsets,v),w={cmap:this.font.cmap.raw(),glyf:a.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},t})();Kt.API.PDFObject=(function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,a,o;if(Array.isArray(n))return"["+(function(){var c,d,h;for(h=[],c=0,d=n.length;c<d;c++)r=n[c],h.push(e.convert(r));return h})().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in a=["<<"],n)o=n[i],a.push("/"+i+" "+e.convert(o));return a.push(">>"),a.join(`
`)}return""+n},e})();function YB(t,e,n,r,i){r=r||{};var a=1.15,o=i.internal.scaleFactor,c=i.internal.getFontSize()/o,d=i.getLineHeightFactor?i.getLineHeightFactor():a,h=c*d,f=/\r\n|\r|\n/g,p="",x=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(p=typeof t=="string"?t.split(f):t,x=p.length||1),n+=c*(2-a),r.valign==="middle"?n-=x/2*h:r.valign==="bottom"&&(n-=x*h),r.halign==="center"||r.halign==="right"){var g=c;if(r.halign==="center"&&(g*=.5),p&&x>=1){for(var b=0;b<p.length;b++)i.text(p[b],e-i.getStringUnitWidth(p[b])*g,n),n+=h;return i}e-=i.getStringUnitWidth(t)*g}return r.halign==="justify"?i.text(t,e,n,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(t,e,n),i}var rO={},Tp=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,n){n===void 0&&(n=null),n?n.__autoTableDocumentDefaults=e:rO=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,n){var r,i,a;n===void 0&&(n=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),c=o.fontStyle,d=o.fontName;if(e.font&&(d=e.font),e.fontStyle){c=e.fontStyle;var h=this.getFontList()[d];h&&h.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),c=h[0])}if(this.jsPDFDocument.setFont(d,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!n){var f=t.unifyColor(e.fillColor);f&&(r=this.jsPDFDocument).setFillColor.apply(r,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(a=this.jsPDFDocument).setDrawColor.apply(a,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,n,r){return this.jsPDFDocument.splitTextToSize(e,n,r)},t.prototype.rect=function(e,n,r,i,a){return this.jsPDFDocument.rect(e,n,r,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return rO||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),sS=function(t,e){return sS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},sS(t,e)};function KB(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");sS(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var XB=(function(t){KB(e,t);function e(n){var r=t.call(this)||this;return r._element=n,r}return e})(Array);function Zbe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Jbe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function db(t,e,n){n.applyStyles(e,!0);var r=Array.isArray(t)?t:[t],i=r.map(function(a){return n.getTextWidth(a)}).reduce(function(a,o){return Math.max(a,o)},0);return i}function ZB(t,e,n,r){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var o=JB(i,!1);o&&t.rect(n.x,n.y,e.getWidth(t.pageSize().width),r.y-n.y,o)}function JB(t,e){var n=t>0,r=e||e===0;return n&&r?"DF":n?"S":r?"F":null}function C2(t,e){var n,r,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(n=t.left)!==null&&n!==void 0?n:e,top:(r=t.top)!==null&&r!==void 0?r:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function QB(t,e){var n=C2(e.settings.margin,0);return t.pageSize().width-(n.left+n.right)}function Qbe(t,e,n,r,i){var a={},o=1.3333333333333333,c=_N(e,function(T){return i.getComputedStyle(T).backgroundColor});c!=null&&(a.fillColor=c);var d=_N(e,function(T){return i.getComputedStyle(T).color});d!=null&&(a.textColor=d);var h=t2e(r,n);h&&(a.cellPadding=h);var f="borderTopColor",p=o*n,x=r.borderTopWidth;if(r.borderBottomWidth===x&&r.borderRightWidth===x&&r.borderLeftWidth===x){var g=(parseFloat(x)||0)/p;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/p,right:(parseFloat(r.borderRightWidth)||0)/p,bottom:(parseFloat(r.borderBottomWidth)||0)/p,left:(parseFloat(r.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?f="borderRightColor":a.lineWidth.bottom?f="borderBottomColor":a.lineWidth.left&&(f="borderLeftColor"));var b=_N(e,function(T){return i.getComputedStyle(T)[f]});b!=null&&(a.lineColor=b);var v=["left","right","center","justify"];v.indexOf(r.textAlign)!==-1&&(a.halign=r.textAlign),v=["middle","bottom","top"],v.indexOf(r.verticalAlign)!==-1&&(a.valign=r.verticalAlign);var w=parseInt(r.fontSize||"");isNaN(w)||(a.fontSize=w/o);var j=e2e(r);j&&(a.fontStyle=j);var E=(r.fontFamily||"").toLowerCase();return t.indexOf(E)!==-1&&(a.font=E),a}function e2e(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function _N(t,e){var n=eV(t,e);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],a=parseInt(r[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function eV(t,e){var n=e(t);return n==="rgba(0, 0, 0, 0)"||n==="transparent"||n==="initial"||n==="inherit"?t.parentElement==null?null:eV(t.parentElement,e):n}function t2e(t,e){var n=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],r=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=n.map(function(c){return parseInt(c||"0")/r}),o=C2(a,0);return i>o.top&&(o.top=i),i>o.bottom&&(o.bottom=i),o}function tV(t,e,n,r,i){var a,o;r===void 0&&(r=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=n.document.querySelector(e):c=e;var d=Object.keys(t.getFontList()),h=t.scaleFactor(),f=[],p=[],x=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:x};for(var g=0;g<c.rows.length;g++){var b=c.rows[g],v=(o=(a=b?.parentElement)===null||a===void 0?void 0:a.tagName)===null||o===void 0?void 0:o.toLowerCase(),w=n2e(d,h,n,b,r,i);w&&(v==="thead"?f.push(w):v==="tfoot"?x.push(w):p.push(w))}return{head:f,body:p,foot:x}}function n2e(t,e,n,r,i,a){for(var o=new XB(r),c=0;c<r.cells.length;c++){var d=r.cells[c],h=n.getComputedStyle(d);if(i||h.display!=="none"){var f=void 0;a&&(f=Qbe(t,d,e,h,n)),o.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:f,_element:d,content:r2e(d)})}}var p=n.getComputedStyle(r);if(o.length>0&&(i||p.display!=="none"))return o}function r2e(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(n){return n.trim()}).join(`
`),e.innerText||e.textContent||""}function i2e(t,e,n){for(var r=0,i=[t,e,n];r<i.length;r++){var a=i[r];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function ld(t,e,n,r,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),o=1;o<arguments.length;o++){var c=arguments[o];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}function nV(t,e){var n=new Tp(t),r=n.getDocumentOptions(),i=n.getGlobalOptions();i2e(i,r,e);var a=ld({},i,r,e),o;typeof window<"u"&&(o=window);var c=a2e(i,r,e),d=s2e(i,r,e),h=o2e(n,a),f=c2e(n,a,o);return{id:e.tableId,content:f,hooks:d,styles:c,settings:h}}function a2e(t,e,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(d){if(d==="columnStyles"){var h=t[d],f=e[d],p=n[d];r.columnStyles=ld({},h,f,p)}else{var x=[t,e,n],g=x.map(function(b){return b[d]||{}});r[d]=ld({},g[0],g[1],g[2])}},a=0,o=Object.keys(r);a<o.length;a++){var c=o[a];i(c)}return r}function s2e(t,e,n){for(var r=[t,e,n],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,o=r;a<o.length;a++){var c=o[a];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function o2e(t,e){var n,r,i,a,o,c,d,h,f,p,x,g,b=C2(e.margin,40/t.scaleFactor()),v=(n=l2e(t,e.startY))!==null&&n!==void 0?n:b.top,w;e.showFoot===!0?w="everyPage":e.showFoot===!1?w="never":w=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var E=(a=e.useCss)!==null&&a!==void 0?a:!1,T=e.theme||(E?"plain":"striped"),D=!!e.horizontalPageBreak,M=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:E,theme:T,startY:v,margin:b,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:j,showFoot:w,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:D,horizontalPageBreakRepeat:M,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function l2e(t,e){var n=t.getLastAutoTable(),r=t.scaleFactor(),i=t.pageNumber(),a=!1;if(n&&n.startPageNumber){var o=n.startPageNumber+n.pageNumber-1;a=o===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&n?.finalY!=null?n.finalY+20/r:null}function c2e(t,e,n){var r=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(n){var c=tV(t,e.html,n,o,e.useCss)||{};r=c.head||r,i=c.body||r,a=c.foot||r}else console.error("Cannot parse html in non browser environment")}var d=e.columns||u2e(r,i,a);return{columns:d,head:r,body:i,foot:a}}function u2e(t,e,n){var r=t[0]||e[0]||n[0]||[],i=[];return Object.keys(r).filter(function(a){return a!=="_element"}).forEach(function(a){var o=1,c;Array.isArray(r)?c=r[parseInt(a)]:c=r[a],typeof c=="object"&&!Array.isArray(c)&&(o=c?.colSpan||1);for(var d=0;d<o;d++){var h=void 0;Array.isArray(r)?h=i.length:h=a+(d>0?"_".concat(d):"");var f={dataKey:h};i.push(f)}}),i}var oS=(function(){function t(e,n,r){this.table=n,this.pageNumber=n.pageNumber,this.settings=n.settings,this.cursor=r,this.doc=e.getDocument()}return t})(),d2e=(function(t){KB(e,t);function e(n,r,i,a,o,c){var d=t.call(this,n,r,c)||this;return d.cell=i,d.row=a,d.column=o,d.section=a.section,d}return e})(oS),h2e=(function(){function t(e,n){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=n.columns,this.head=n.head,this.body=n.body,this.foot=n.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(n,r){return n+r.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,n,r,i,a,o){for(var c=0,d=n;c<d.length;c++){var h=d[c],f=new d2e(e,this,r,i,a,o),p=h(f)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,n){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var a=i[r];a(new oS(e,this,n))}},t.prototype.callWillDrawPageHooks=function(e,n){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var a=i[r];a(new oS(e,this,n))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var n=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return n}else{var r=this.settings.margin;return e-r.left-r.right}},t})(),rV=(function(){function t(e,n,r,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof XB&&(this.raw=e._element,this.element=e._element),this.index=n,this.section=r,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var n=this;return e.reduce(function(r,i){var a;return Math.max(r,((a=n.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var n=this;return e.filter(function(r){var i=n.cells[r.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,n){return this.getMaxCellHeight(n)<=e},t.prototype.getMinimumRowHeight=function(e,n){var r=this;return e.reduce(function(i,a){var o=r.cells[a.index];if(!o)return 0;var c=n.getLineHeight(o.styles.fontSize),d=o.padding("vertical"),h=d+c;return h>i?h:i},0)},t})(),iV=(function(){function t(e,n,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=n,this.section=r,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=o.split(c)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},t.prototype.getContentHeight=function(e,n){n===void 0&&(n=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*n,a=r*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var n=C2(this.styles.cellPadding,0);return e==="vertical"?n.top+n.bottom:e==="horizontal"?n.left+n.right:n[e]},t})(),f2e=(function(){function t(e,n,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=n,this.index=r}return t.prototype.getMaxCustomCellWidth=function(e){for(var n=0,r=0,i=e.allRows();r<i.length;r++){var a=i[r],o=a.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(n=Math.max(n,o.styles.cellWidth))}return n},t})();function m2e(t,e){p2e(t,e);var n=[],r=0;e.columns.forEach(function(a){var o=a.getMaxCustomCellWidth(e);o?a.width=o:(a.width=a.wrappedWidth,n.push(a)),r+=a.width});var i=e.getWidth(t.pageSize().width)-r;i&&(i=lS(n,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=lS(n,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),y2e(e),x2e(e,t),g2e(e)}function p2e(t,e){var n=t.scaleFactor(),r=e.settings.horizontalPageBreak,i=QB(t,e);e.allRows().forEach(function(a){for(var o=0,c=e.columns;o<c.length;o++){var d=c[o],h=a.cells[d.index];if(h){var f=e.hooks.didParseCell;e.callCellHooks(t,f,h,a,d,null);var p=h.padding("horizontal");h.contentWidth=db(h.text,h.styles,t)+p;var x=db(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=x+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||r===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/n;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(a){for(var o=0,c=e.columns;o<c.length;o++){var d=c[o],h=a.cells[d.index];if(h&&h.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,h.wrappedWidth),d.minWidth=Math.max(d.minWidth,h.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,h.minReadableWidth);else{var f=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(d.minWidth=p,d.wrappedWidth=p)}h&&(h.colSpan>1&&!d.minWidth&&(d.minWidth=h.minWidth),h.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=h.minWidth))}})}function lS(t,e,n){for(var r=e,i=t.reduce(function(g,b){return g+b.wrappedWidth},0),a=0;a<t.length;a++){var o=t[a],c=o.wrappedWidth/i,d=r*c,h=o.width+d,f=n(o),p=h<f?f:h;e-=p-o.width,o.width=p}if(e=Math.round(e*1e10)/1e10,e){var x=t.filter(function(g){return e<0?g.width>n(g):!0});x.length&&(e=lS(x,e,n))}return e}function g2e(t){for(var e={},n=1,r=t.allRows(),i=0;i<r.length;i++)for(var a=r[i],o=0,c=t.columns;o<c.length;o++){var d=c[o],h=e[d.index];if(n>1)n--,delete a.cells[d.index];else if(h)h.cell.height+=a.height,n=h.cell.colSpan,delete a.cells[d.index],h.left--,h.left<=1&&delete e[d.index];else{var f=a.cells[d.index];if(!f)continue;if(f.height=a.height,f.rowSpan>1){var p=r.length-i,x=f.rowSpan>p?p:f.rowSpan;e[d.index]={cell:f,left:x,row:a}}}}}function y2e(t){for(var e=t.allRows(),n=0;n<e.length;n++)for(var r=e[n],i=null,a=0,o=0,c=0;c<t.columns.length;c++){var d=t.columns[c];if(o-=1,o>1&&t.columns[c+1])a+=d.width,delete r.cells[d.index];else if(i){var h=i;delete r.cells[d.index],i=null,h.width=d.width+a}else{var h=r.cells[d.index];if(!h)continue;if(o=h.colSpan,a=0,h.colSpan>1){i=h,a+=d.width;continue}h.width=d.width+a}}}function x2e(t,e){for(var n={count:0,height:0},r=0,i=t.allRows();r<i.length;r++){for(var a=i[r],o=0,c=t.columns;o<c.length;o++){var d=c[o],h=a.cells[d.index];if(h){e.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,f+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=iO(h.text,f,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=iO(h.text,f,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,f);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=h.contentHeight/h.rowSpan;h.rowSpan>1&&n.count*n.height<x*h.rowSpan?n={height:x,count:h.rowSpan}:n&&n.count>0&&n.height>x&&(x=n.height),x>a.height&&(a.height=x)}}n.count--}}function iO(t,e,n,r,i){return t.map(function(a){return v2e(a,e,n,r,i)})}function v2e(t,e,n,r,i){var a=1e4*r.scaleFactor();if(e=Math.ceil(e*a)/a,e>=db(t,n,r))return t;for(;e<db(t+i,n,r)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function aV(t,e){var n=new Tp(t),r=b2e(e,n.scaleFactor()),i=new h2e(e,r);return m2e(n,i),n.applyStyles(n.userStyles),i}function b2e(t,e){var n=t.content,r=_2e(n.columns);if(n.head.length===0){var i=aO(r,"head");i&&n.head.push(i)}if(n.foot.length===0){var i=aO(r,"foot");i&&n.foot.push(i)}var a=t.settings.theme,o=t.styles;return{columns:r,head:NN("head",n.head,r,o,a,e),body:NN("body",n.body,r,o,a,e),foot:NN("foot",n.foot,r,o,a,e)}}function NN(t,e,n,r,i,a){var o={},c=e.map(function(d,h){for(var f=0,p={},x=0,g=0,b=0,v=n;b<v.length;b++){var w=v[b];if(o[w.index]==null||o[w.index].left===0)if(g===0){var j=void 0;Array.isArray(d)?j=d[w.index-x-f]:j=d[w.dataKey];var E={};typeof j=="object"&&!Array.isArray(j)&&(E=j?.styles||{});var T=N2e(t,w,h,i,r,a,E),D=new iV(j,T,t);p[w.dataKey]=D,p[w.index]=D,g=D.colSpan-1,o[w.index]={left:D.rowSpan-1,times:g}}else g--,x++;else o[w.index].left--,g=o[w.index].times,f++}return new rV(d,h,t,p)});return c}function aO(t,e){var n={};return t.forEach(function(r){if(r.raw!=null){var i=w2e(e,r.raw);i!=null&&(n[r.dataKey]=i)}}),Object.keys(n).length>0?n:null}function w2e(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function _2e(t){return t.map(function(e,n){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:n:i=n,new f2e(i,e,n)})}function N2e(t,e,n,r,i,a,o){var c=Jbe(r),d;t==="head"?d=i.headStyles:t==="body"?d=i.bodyStyles:t==="foot"&&(d=i.footStyles);var h=ld({},c.table,c[t],i.styles,d),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?f:{},x=t==="body"&&n%2===0?ld({},c.alternateRow,i.alternateRowStyles):{},g=Zbe(a),b=ld({},g,h,x,p);return ld(b,o)}function j2e(t,e,n){var r;n===void 0&&(n={});var i=QB(t,e),a=new Map,o=[],c=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(x){var g=e.columns.find(function(b){return b.dataKey===x||b.index===x});g&&!a.has(g.index)&&(a.set(g.index,!0),o.push(g.index),c.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var h=!0,f=(r=n?.start)!==null&&r!==void 0?r:0;f<e.columns.length;){if(a.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(h||i>=p)h=!1,o.push(f),c.push(e.columns[f]),i-=p;else break;f++}return{colIndexes:o,columns:c,lastIndex:f-1}}function S2e(t,e){for(var n=[],r=0;r<e.columns.length;r++){var i=j2e(t,e,{start:r});i.columns.length&&(n.push(i),r=i.lastIndex)}return n}function sV(t,e){var n=e.settings,r=n.startY,i=n.margin,a={x:i.left,y:r},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=r+i.bottom+o;if(n.pageBreak==="avoid"){var d=e.body,h=d.reduce(function(x,g){return x+g.height},0);c+=h}var f=new Tp(t);(n.pageBreak==="always"||n.startY!=null&&c>f.pageSize().height)&&(lV(f),a.y=i.top),e.callWillDrawPageHooks(f,a);var p=ld({},a);e.startPageNumber=f.pageNumber(),n.horizontalPageBreak?A2e(f,e,p,a):(f.applyStyles(f.userStyles),(n.showHead==="firstPage"||n.showHead==="everyPage")&&e.head.forEach(function(x){return Ed(f,e,x,a,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(x,g){var b=g===e.body.length-1;hb(f,e,x,b,p,a,e.columns)}),f.applyStyles(f.userStyles),(n.showFoot==="lastPage"||n.showFoot==="everyPage")&&e.foot.forEach(function(x){return Ed(f,e,x,a,e.columns)})),ZB(f,e,p,a),e.callEndPageHooks(f,a),e.finalY=a.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function A2e(t,e,n,r){var i=S2e(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,f){t.applyStyles(t.userStyles),f>0?B0(t,e,n,r,h.columns,!0):sO(t,e,r,h.columns),E2e(t,e,n,r,h.columns),jN(t,e,r,h.columns)});else for(var o=-1,c=i[0],d=function(){var h=o;if(c){t.applyStyles(t.userStyles);var f=c.columns;o>=0?B0(t,e,n,r,f,!0):sO(t,e,r,f),h=oO(t,e,o+1,r,f),jN(t,e,r,f)}var p=h-o;i.slice(1).forEach(function(x){t.applyStyles(t.userStyles),B0(t,e,n,r,x.columns,!0),oO(t,e,o+1,r,x.columns,p),jN(t,e,r,x.columns)}),o=h};o<e.body.length-1;)d()}function sO(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return Ed(t,e,a,n,r)})}function E2e(t,e,n,r,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,o){var c=o===e.body.length-1;hb(t,e,a,c,n,r,i)})}function oO(t,e,n,r,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var o=Math.min(n+a,e.body.length),c=-1;return e.body.slice(n,o).forEach(function(d,h){var f=n+h===e.body.length-1,p=oV(t,e,f,r);d.canEntireRowFit(p,i)&&(Ed(t,e,d,r,i),c=n+h)}),c}function jN(t,e,n,r){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return Ed(t,e,a,n,r)})}function C2e(t,e,n){var r=n.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/r);return Math.max(0,a)}function T2e(t,e,n,r){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,o=0,c=n.columns;o<c.length;o++){var d=c[o],h=t.cells[d.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new iV(h.raw,h.styles,h.section);f=ld(f,h),f.text=[];var p=C2e(h,e,r);h.text.length>p&&(f.text=h.text.splice(p,h.text.length));var x=r.scaleFactor(),g=r.getLineHeightFactor();h.contentHeight=h.getContentHeight(x,g),h.contentHeight>=e&&(h.contentHeight=e,f.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),f.contentHeight=f.getContentHeight(x,g),f.contentHeight>a&&(a=f.contentHeight),i[d.index]=f}}var b=new rV(t.raw,-1,t.section,i,!0);b.height=a;for(var v=0,w=n.columns;v<w.length;v++){var d=w[v],f=b.cells[d.index];f&&(f.height=b.height);var h=t.cells[d.index];h&&(h.height=t.height)}return b}function k2e(t,e,n,r){var i=t.pageSize().height,a=r.settings.margin,o=a.top+a.bottom,c=i-o;e.section==="body"&&(c-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var d=e.getMinimumRowHeight(r.columns,t),h=d<n;if(d>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=e.hasRowSpan(r.columns),p=e.getMaxCellHeight(r.columns)>c;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||r.settings.rowPageBreak==="avoid")}function hb(t,e,n,r,i,a,o){var c=oV(t,e,r,a);if(n.canEntireRowFit(c,o))Ed(t,e,n,a,o);else if(k2e(t,n,c,e)){var d=T2e(n,c,e,t);Ed(t,e,n,a,o),B0(t,e,i,a,o),hb(t,e,d,r,i,a,o)}else B0(t,e,i,a,o),hb(t,e,n,r,i,a,o)}function Ed(t,e,n,r,i){r.x=e.settings.margin.left;for(var a=0,o=i;a<o.length;a++){var c=o[a],d=n.cells[c.index];if(!d){r.x+=c.width;continue}t.applyStyles(d.styles),d.x=r.x,d.y=r.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,d,n,c,r);if(h===!1){r.x+=c.width;continue}I2e(t,d,r);var f=d.getTextPos();YB(d.text,f.x,f.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,d,n,c,r),r.x+=c.width}r.y+=n.height}function I2e(t,e,n){var r=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=JB(r.lineWidth,r.fillColor);i&&t.rect(e.x,n.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&t.rect(e.x,n.y,e.width,e.height,"F"),P2e(t,e,n,r.lineWidth))}function P2e(t,e,n,r){var i,a,o,c;r.top&&(i=n.x,a=n.y,o=n.x+e.width,c=n.y,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),d(r.top,i,a,o,c)),r.bottom&&(i=n.x,a=n.y+e.height,o=n.x+e.width,c=n.y+e.height,r.right&&(o+=.5*r.right),r.left&&(i-=.5*r.left),d(r.bottom,i,a,o,c)),r.left&&(i=n.x,a=n.y,o=n.x,c=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(c+=.5*r.bottom),d(r.left,i,a,o,c)),r.right&&(i=n.x+e.width,a=n.y,o=n.x+e.width,c=n.y+e.height,r.top&&(a-=.5*r.top),r.bottom&&(c+=.5*r.bottom),d(r.right,i,a,o,c));function d(h,f,p,x,g){t.getDocument().setLineWidth(h),t.getDocument().line(f,p,x,g,"S")}}function oV(t,e,n,r){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&n)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-r.y-i}function B0(t,e,n,r,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(c){return Ed(t,e,c,r,i)}),e.callEndPageHooks(t,r);var o=e.settings.margin;ZB(t,e,n,r),lV(t),e.pageNumber++,r.x=o.left,r.y=o.top,n.y=o.top,e.callWillDrawPageHooks(t,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return Ed(t,e,c,r,i)}),t.applyStyles(t.userStyles))}function lV(t){var e=t.pageNumber();t.setPage(e+1);var n=t.pageNumber();return n===e?(t.addPage(),!0):!1}function R2e(t){t.API.autoTable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0],i=nV(this,r),a=aV(this,i);return sV(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,n,r,i){YB(e,n,r,i,this)},t.API.autoTableSetDefaults=function(e){return Tp.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,n){Tp.setDefaults(e,n)},t.API.autoTableHtmlToJson=function(e,n){var r;if(n===void 0&&(n=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Tp(this),a=tV(i,e,window,n,!1),o=a.head,c=a.body,d=((r=o[0])===null||r===void 0?void 0:r.map(function(h){return h.content}))||[];return{columns:d,rows:c,data:c}}}var SN;function O2e(t,e){var n=nV(t,e),r=aV(t,n);sV(t,r)}try{if(typeof window<"u"&&window){var lO=window,cO=lO.jsPDF||((SN=lO.jspdf)===null||SN===void 0?void 0:SN.jsPDF);cO&&R2e(cO)}}catch(t){console.error("Could not apply autoTable plugin",t)}function D2e(){const{currentUser:t}=Ei(),e=ii(),[n,r]=V.useState(!0),[i,a]=V.useState(!1),[o,c]=V.useState(null),[d,h]=V.useState(null),[f,p]=V.useState(null),[x,g]=V.useState({}),{convertPrice:b,formatPrice:v,currency:w,currencyInfo:j,loading:E}=Xb();V.useEffect(()=>{T()},[]);const T=async()=>{try{r(!0),c(null);const P=await En(Lf,"getSubMasterUsage")();P.data.success?h(P.data):c(P.data.message||"Failed to load usage data")}catch(H){console.error("Error loading usage data:",H),c(H.message||"Failed to load usage data")}finally{r(!1)}},D=async()=>{a(!0),await T(),a(!1)},M=async H=>{try{const I=await En(Lf,"getSubMasterDetailedUsage")({subMasterId:H,monthsBack:6});I.data.success&&g(U=>({...U,[H]:I.data.monthlyData}))}catch(P){console.error("Error loading detailed usage:",P)}},J=H=>{f===H?p(null):(p(H),x[H]||M(H))},F=()=>{if(!d||!d.subMasters)return;const H=["Email","Display Name","CV Uploads","Chatbot Messages","API Calls","SMS Sent","Team Members","Job Specs","Estimated Cost (ZAR)","Created Date"],P=d.subMasters.map(G=>[G.email,G.displayName,G.currentMonth.cvUploads,G.currentMonth.chatbotMessages,G.currentMonth.apiCalls,G.currentMonth.smsVerifications,G.teamInfo.memberCount,G.teamInfo.jobSpecCount,`R${G.currentMonth.estimatedCost.toFixed(2)}`,z0(G.createdAt)]),I=[H.join(","),...P.map(G=>G.join(","))].join(`
`),U=new Blob([I],{type:"text/csv"}),k=window.URL.createObjectURL(U),le=document.createElement("a");le.href=k,le.download=`sub-master-usage-${d.month.name}-${d.month.year}.csv`,le.click()},z=H=>{if(E)return"Loading...";const P=b(H);return v(P,w)},L=H=>{const P=d.month.name,I=d.month.year,U=new Date().toLocaleDateString(),k=new Date(new Date().setDate(new Date().getDate()+30)).toLocaleDateString(),le=`INV-${I}${String(d.month.month).padStart(2,"0")}-${H.subMasterId.substring(0,8).toUpperCase()}`,G=1.2,W=.35,ie=.1,se=.5,Se=H.currentMonth.cvUploads*G,X=H.currentMonth.chatbotMessages*W,O=H.currentMonth.apiCalls*ie,K=(H.currentMonth.smsVerifications||0)*se,te=H.currentMonth.estimatedCost,ee=new Kt,xe=[249,115,22],be=[234,88,12],oe=[31,41,55],fe=[243,244,246];ee.setFillColor(...xe),ee.rect(0,0,210,40,"F"),ee.setTextColor(255,255,255),ee.setFontSize(28),ee.setFont("helvetica","bold"),ee.text("CVSift",15,20),ee.setFontSize(10),ee.setFont("helvetica","normal"),ee.text("CV Parsing & Job Matching Platform",15,28),ee.text("by Automore",15,34),ee.setFontSize(16),ee.setFont("helvetica","bold"),ee.text("INVOICE",155,20),ee.setFontSize(10),ee.setFont("helvetica","normal"),ee.text(le,155,28),ee.setTextColor(...oe),ee.setFontSize(10),ee.setFont("helvetica","bold"),ee.text("From:",15,55),ee.setFont("helvetica","normal"),ee.text("Automore (Pty) Ltd",15,62),ee.text("www.automore.co.za",15,68),ee.text("emma@automore.co.za",15,74),ee.setFont("helvetica","bold"),ee.text("Bill To:",110,55),ee.setFont("helvetica","normal"),ee.text(H.displayName,110,62),ee.text(H.email,110,68),ee.setDrawColor(200,200,200),ee.setLineWidth(.5),ee.line(15,85,195,85),ee.setFont("helvetica","bold"),ee.text("Invoice Date:",15,93),ee.text("Due Date:",15,100),ee.text("Period:",15,107),ee.setFont("helvetica","normal"),ee.text(U,60,93),ee.text(k,60,100),ee.text(`${P} ${I}`,60,107),O2e(ee,{startY:120,head:[["Description","Quantity","Rate (ZAR)","Amount (ZAR)"]],body:[["CV Processing",H.currentMonth.cvUploads.toString(),`R ${G.toFixed(2)}`,Qu(Se)],["AI Chatbot Messages",H.currentMonth.chatbotMessages.toString(),`R ${W.toFixed(2)}`,Qu(X)],["API Calls",H.currentMonth.apiCalls.toString(),`R ${ie.toFixed(2)}`,Qu(O)],["SMS Verifications",(H.currentMonth.smsVerifications||0).toString(),`R ${se.toFixed(2)}`,Qu(K)]],theme:"striped",headStyles:{fillColor:xe,textColor:255,fontSize:10,fontStyle:"bold"},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:80},1:{halign:"center",cellWidth:30},2:{halign:"right",cellWidth:35},3:{halign:"right",cellWidth:40}},margin:{left:15,right:15}});const Ee=ee.lastAutoTable.finalY+10;ee.setFillColor(...fe),ee.rect(130,Ee,65,15,"F"),ee.setFont("helvetica","bold"),ee.setFontSize(12),ee.setTextColor(...be),ee.text("TOTAL DUE:",135,Ee+10),ee.text(Qu(te),180,Ee+10,{align:"right"}),ee.setTextColor(...oe),ee.setFontSize(10),ee.setFont("helvetica","bold"),ee.text("Account Details",15,Ee+35),ee.setFont("helvetica","normal"),ee.setFontSize(9),ee.text("Plan: Enterprise (Usage-Based Billing)",15,Ee+42),ee.text(`Team Members: ${H.teamInfo.memberCount}`,15,Ee+48),ee.text(`Job Specifications: ${H.teamInfo.jobSpecCount}`,15,Ee+54),ee.text(`Account Created: ${z0(H.createdAt)}`,15,Ee+60),ee.setFont("helvetica","bold"),ee.setFontSize(10),ee.text("Payment Terms",15,Ee+75),ee.setFont("helvetica","normal"),ee.setFontSize(9),ee.text("Payment is due within 30 days of invoice date.",15,Ee+82),ee.text("All amounts in South African Rand (ZAR).",15,Ee+88),ee.text("For billing inquiries, contact: emma@automore.co.za",15,Ee+94),ee.setDrawColor(...xe),ee.setLineWidth(1),ee.line(15,280,195,280),ee.setTextColor(...xe),ee.setFontSize(9),ee.setFont("helvetica","italic"),ee.text("Thank you for using CVSift!",105,287,{align:"center"}),ee.setFont("helvetica","normal"),ee.text("Powered by Automore - www.automore.co.za",105,292,{align:"center"}),ee.save(`CVSift-Invoice-${le}-${H.email.replace("@","-")}.pdf`)};return n?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(rs,{size:48,className:"mx-auto mb-4 text-orange-500 animate-spin"}),s.jsx("p",{className:"text-gray-600",children:"Loading usage data..."})]})}):o?s.jsx("div",{className:"flex items-center justify-center min-h-screen p-6 bg-gray-50",children:s.jsxs("div",{className:"w-full max-w-md p-8 bg-white border border-red-200 shadow-lg rounded-xl",children:[s.jsx(ur,{size:48,className:"mx-auto mb-4 text-red-500"}),s.jsx("h2",{className:"mb-2 text-2xl font-bold text-center text-gray-900",children:"Error"}),s.jsx("p",{className:"mb-6 text-center text-gray-600",children:o}),s.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full px-6 py-3 font-semibold text-white transition-all bg-orange-500 rounded-lg hover:bg-orange-600",children:"Back to Dashboard"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:s.jsxs("div",{className:"px-6 py-4 mx-auto max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center space-x-2 text-gray-600 transition-colors hover:text-orange-500",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-medium",children:"Back"})]}),s.jsx("div",{className:"w-px h-6 bg-gray-300"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Master Account Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-3 flex-wrap gap-2",children:[s.jsx(BA,{}),s.jsxs("button",{onClick:D,disabled:i,className:"flex items-center px-4 py-2 space-x-2 text-gray-700 transition-colors bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:[s.jsx(ty,{size:18,className:i?"animate-spin":""}),s.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]}),s.jsxs("button",{onClick:F,className:"flex items-center px-4 py-2 space-x-2 text-white transition-all bg-orange-500 rounded-lg hover:bg-orange-600",children:[s.jsx(Fp,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:"Export CSV"})]})]})]}),s.jsxs("div",{className:"flex items-center mt-4 space-x-2 text-sm text-gray-600",children:[s.jsx(_d,{size:16}),s.jsxs("span",{children:["Showing data for: ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[d?.month?.name," ",d?.month?.year]})]})]})]})}),s.jsxs("div",{className:"px-6 py-8 mx-auto max-w-7xl",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"p-6 bg-white border border-gray-200 shadow-sm rounded-xl",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg",children:s.jsx(Ks,{size:24,className:"text-blue-600"})})}),s.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:d?.totals?.totalSubMasters||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Sub-Master Accounts"})]}),s.jsxs("div",{className:"p-6 bg-white border border-gray-200 shadow-sm rounded-xl",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg",children:s.jsx(Ss,{size:24,className:"text-green-600"})})}),s.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:d?.totals?.totalCvUploads?.toLocaleString()||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"CV Uploads This Month"})]}),s.jsxs("div",{className:"p-6 bg-white border border-gray-200 shadow-sm rounded-xl",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg",children:s.jsx(KT,{size:24,className:"text-purple-600"})})}),s.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:d?.totals?.totalChatbotMessages?.toLocaleString()||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Chatbot Messages"})]}),s.jsxs("div",{className:"p-6 bg-white border border-orange-200 shadow-sm rounded-xl ring-2 ring-orange-500 ring-opacity-20",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-orange-100 rounded-lg",children:s.jsx(jne,{size:24,className:"text-orange-600"})})}),s.jsx("div",{className:"mb-1 text-3xl font-bold text-orange-600",children:Qu(d?.totals?.totalEstimatedRevenue||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Estimated Revenue"})]})]}),s.jsxs("div",{className:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-xl",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("h2",{className:"flex items-center space-x-2 text-xl font-bold text-gray-900",children:[s.jsx(hc,{size:20}),s.jsx("span",{children:"Sub-Master Account Usage"})]})}),d?.subMasters&&d.subMasters.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b border-gray-200 bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase",children:"Sub-Master"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"CV Uploads"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"Chatbot"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"API Calls"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"SMS Sent"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"Team"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-right text-gray-600 uppercase",children:"Est. Cost"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"Actions"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"Details"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:d.subMasters.map(H=>s.jsxs(yy.Fragment,{children:[s.jsxs("tr",{className:"transition-colors hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:H.displayName}),s.jsx("div",{className:"text-sm text-gray-500",children:H.email})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(Ss,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:H.currentMonth.cvUploads})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(KT,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:H.currentMonth.chatbotMessages})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(hc,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:H.currentMonth.apiCalls})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(R0,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:H.currentMonth.smsVerifications||0})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[H.teamInfo.memberCount," ",H.teamInfo.memberCount===1?"user":"users"]}),s.jsxs("div",{className:"text-gray-500",children:[H.teamInfo.jobSpecCount," jobspecs"]})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:"text-lg font-bold text-orange-600",children:Qu(H.currentMonth.estimatedCost)})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("button",{onClick:()=>L(H),className:"inline-flex items-center space-x-1 px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-lg transition-colors",title:"Export Invoice",children:[s.jsx(Fp,{size:14}),s.jsx("span",{children:"Invoice"})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("button",{onClick:()=>J(H.subMasterId),className:"p-2 transition-colors rounded-lg hover:bg-gray-100",children:f===H.subMasterId?s.jsx(Sh,{size:18,className:"text-gray-600"}):s.jsx(vc,{size:18,className:"text-gray-600"})})})]}),f===H.subMasterId&&s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-6 py-4 bg-gray-50",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[s.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:"Account Info"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Plan:"}),s.jsx("span",{className:"font-medium text-gray-900 capitalize",children:H.plan})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"font-medium text-gray-900",children:z0(H.createdAt)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"All-Time CVs:"}),s.jsx("span",{className:"font-medium text-gray-900",children:H.allTime.totalCvs})]})]})]}),s.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[s.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:"Cost Breakdown"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["CVs (",z(1.2),"):"]}),s.jsx("span",{className:"font-medium text-gray-900",children:z(H.currentMonth.cvUploads*1.2)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["Messages (",z(.35),"):"]}),s.jsx("span",{className:"font-medium text-gray-900",children:z(H.currentMonth.chatbotMessages*.35)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["API (",z(.1),"):"]}),s.jsx("span",{className:"font-medium text-gray-900",children:z(H.currentMonth.apiCalls*.1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{className:"text-gray-600",children:["SMS (",z(.5),"):"]}),s.jsx("span",{className:"font-medium text-gray-900",children:z((H.currentMonth.smsVerifications||0)*.5)})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),s.jsx("span",{className:"font-bold text-orange-600",children:z(H.currentMonth.estimatedCost)})]})]})]}),H.currentMonth.apiCalls>0&&H.currentMonth.apiBreakdown&&s.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[s.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:"API Call Breakdown"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[Object.entries(H.currentMonth.apiBreakdown).map(([P,I])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-gray-600 text-xs",children:[P==="calculateMatchScore"&&" CV Match",P==="batchCalculateMatches"&&" Batch Match",P==="getAdvancedAnalytics"&&" Analytics",P==="generateCustomReport"&&" Custom Report",P==="unknown"&&" Other",!["calculateMatchScore","batchCalculateMatches","getAdvancedAnalytics","generateCustomReport","unknown"].includes(P)&&` ${P}`]}),s.jsx("span",{className:"font-medium text-gray-900",children:I})]},P)),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"font-semibold text-gray-900 text-xs",children:"Total API Calls:"}),s.jsx("span",{className:"font-bold text-blue-600",children:H.currentMonth.apiCalls})]})]})]}),s.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[s.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:"6-Month History"}),x[H.subMasterId]?s.jsx("div",{className:"space-y-1",children:x[H.subMasterId].slice(-6).map((P,I)=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-600",children:[P.monthName.substring(0,3)," '",P.year.toString().substring(2),":"]}),s.jsx("span",{className:"font-medium text-gray-900",children:Qu(P.totalCost)})]},I))}):s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx(rs,{size:20,className:"text-gray-400 animate-spin"})})]})]})})})})]},H.subMasterId))})]})}):s.jsxs("div",{className:"px-6 py-12 text-center",children:[s.jsx(Ks,{size:48,className:"mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-600",children:"No sub-master accounts found"})]})]}),s.jsx("div",{className:"p-6 mt-8 border border-blue-200 bg-blue-50 rounded-xl",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(jh,{size:24,className:"text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-2 font-semibold text-blue-900",children:"Pricing Structure"}),s.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[s.jsxs("p",{children:[" CV Upload: ",z(1.2)," per CV processed"]}),s.jsxs("p",{children:[" Chatbot Message: ",z(.35)," per message sent"]}),s.jsxs("p",{children:[" API Call: ",z(.1)," per API request"]}),s.jsxs("p",{children:[" SMS Verification: ",z(.5)," per SMS sent"]}),s.jsxs("p",{className:"pt-2 text-xs text-blue-600",children:["* Costs shown in ",j?.name," (",w,"). Base rates in ZAR. Adjust rates in the cloud function as needed."]})]})]})]})})]})]})}const L2e=()=>{const t=ii();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 transition-colors mb-4",children:[s.jsx(Qs,{size:20}),"Back to Home"]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"CV"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Terms of Service"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Last updated: October 2025"})]})]})]})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 lg:p-12",children:[s.jsx("section",{className:"mb-8",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to CVSift. These Terms of Service ("Terms") govern your use of our CV parsing and job matching platform. By accessing or using CVSift, you agree to be bound by these Terms. If you disagree with any part of these terms, you may not access the service.'})}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Service Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"CVSift is an AI-powered CV parsing and job matching platform provided by Automore (Pty) Ltd. Our service includes:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Automated CV parsing and data extraction"}),s.jsx("li",{children:"Job specification creation and management"}),s.jsx("li",{children:"AI-powered candidate-to-job matching"}),s.jsx("li",{children:"Team collaboration features"}),s.jsx("li",{children:"Advanced analytics and reporting"}),s.jsx("li",{children:"API access (Enterprise plans)"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. Account Registration"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"To use CVSift, you must:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Provide accurate, current, and complete information during registration"}),s.jsx("li",{children:"Maintain and promptly update your account information"}),s.jsx("li",{children:"Maintain the security of your password and account"}),s.jsx("li",{children:"Be at least 18 years old or have parental/guardian consent"}),s.jsx("li",{children:"Not share your account credentials with others"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"You are responsible for all activities that occur under your account."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Subscription Plans and Billing"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Free Plan:"})," Includes limited features with no payment required."]}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Paid Plans:"})," Subscription fees are billed monthly or annually in South African Rand (ZAR). Payment is processed through our secure payment provider, PayFast."]}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Enterprise Plans:"})," Usage-based billing for CV uploads (R1.20 each), chatbot messages (R0.35 each), and API calls (R0.10 each). Invoices are issued monthly."]}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Cancellation:"})," You may cancel your subscription at any time. No refunds are provided for partial months."]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. Data Usage and Privacy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Your use of CVSift is also governed by our Privacy Policy. Key points:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"You retain ownership of all CVs and data you upload"}),s.jsx("li",{children:"We use AI processing to extract information from CVs"}),s.jsx("li",{children:"We do not sell or share your data with third parties"}),s.jsx("li",{children:"Enterprise accounts have full control over their sub-master accounts"}),s.jsx("li",{children:"You are responsible for obtaining necessary consent to process candidate data"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Acceptable Use"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"You agree NOT to:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Violate any laws or regulations"}),s.jsx("li",{children:"Upload malicious code or attempt to compromise the platform"}),s.jsx("li",{children:"Abuse, harass, or discriminate against any individual"}),s.jsx("li",{children:"Reverse engineer or attempt to extract source code"}),s.jsx("li",{children:"Use the service for unauthorized commercial purposes"}),s.jsx("li",{children:"Share or resell access to the platform without authorization"}),s.jsx("li",{children:"Scrape or data mine the platform"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Intellectual Property"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"The CVSift platform, including all software, designs, text, graphics, and other content, is owned by Automore (Pty) Ltd and protected by copyright, trademark, and other intellectual property laws."}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You are granted a limited, non-exclusive, non-transferable license to use CVSift for your internal business purposes."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Limitation of Liability"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:'CVSift is provided "as is" without warranties of any kind. To the fullest extent permitted by law:'}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"We do not guarantee uninterrupted or error-free service"}),s.jsx("li",{children:"We are not responsible for hiring decisions made using our platform"}),s.jsx("li",{children:"AI parsing results may contain errors or inaccuracies"}),s.jsx("li",{children:"Our total liability shall not exceed the amount you paid in the last 12 months"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Termination"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We reserve the right to suspend or terminate your account if you:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Violate these Terms of Service"}),s.jsx("li",{children:"Fail to pay applicable fees"}),s.jsx("li",{children:"Engage in fraudulent or illegal activity"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"Upon termination, your right to use CVSift will immediately cease. You may download your data before termination."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Changes to Terms"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We may modify these Terms at any time. We will notify you of significant changes via email or platform notification. Continued use of CVSift after changes constitutes acceptance of the new Terms."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Governing Law"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"These Terms are governed by the laws of South Africa. Any disputes shall be resolved in the courts of South Africa."})]}),s.jsxs("section",{className:"mt-12 pt-8 border-t border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"If you have questions about these Terms, please contact us:"}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("p",{children:s.jsx("strong",{children:"Automore (Pty) Ltd"})}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:emma@automore.co.za",className:"text-orange-500 hover:text-orange-600",children:"emma@automore.co.za"})]}),s.jsxs("p",{children:["Website: ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600",children:"www.automore.co.za"})]})]})]})]})}),s.jsx("footer",{className:"bg-gray-900 text-gray-400 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsx("p",{className:"text-sm",children:" 2025 CVSift by Automore. All rights reserved."})})})]})},M2e=()=>{const t=ii();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 transition-colors mb-4",children:[s.jsx(Qs,{size:20}),"Back to Home"]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"CV"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Privacy Policy"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Last updated: October 2025"})]})]})]})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 lg:p-12",children:[s.jsx("section",{className:"mb-8",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"At CVSift, operated by Automore (Pty) Ltd, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our CV parsing and job matching platform."})}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Information We Collect"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"1.1 Information You Provide"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Information:"})," Name, email address, company name, phone number"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"CV Data:"})," CVs and resumes you upload (PDF, DOCX, Pages formats)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Job Specifications:"})," Job titles, requirements, skills, and other hiring criteria"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payment Information:"})," Billing details processed securely through PayFast"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Custom Fields:"})," Any additional candidate information you choose to track"]})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"1.2 Automatically Collected Information"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Usage Data:"})," Pages viewed, features used, time spent on platform"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Device Information:"})," IP address, browser type, operating system"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Cookies:"})," Authentication tokens and session management"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Log Data:"})," Access times, error logs, performance metrics"]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We use the collected information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Provide and maintain the CVSift service"}),s.jsx("li",{children:"Parse CVs using AI to extract candidate information"}),s.jsx("li",{children:"Match candidates to job specifications"}),s.jsx("li",{children:"Process payments and manage subscriptions"}),s.jsx("li",{children:"Send service updates, security alerts, and administrative messages"}),s.jsx("li",{children:"Improve our platform based on usage patterns"}),s.jsx("li",{children:"Provide customer support"}),s.jsx("li",{children:"Detect and prevent fraud or security issues"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. AI Processing and Data Extraction"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Claude AI Integration:"})," We use Anthropic's Claude AI to parse CVs and extract structured information. When you upload a CV:"]}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mb-4",children:[s.jsx("li",{children:"The CV is sent to Anthropic's API for processing"}),s.jsx("li",{children:"AI extracts candidate details (name, email, skills, experience, education)"}),s.jsx("li",{children:"Extracted data is stored in our secure Firebase database"}),s.jsx("li",{children:"Original CV files are stored in Firebase Storage"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Anthropic's data processing is governed by their privacy policy. They do not use customer data to train models."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. Data Sharing and Disclosure"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"We do NOT sell your data."})," We may share information with:"]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Service Providers"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Google Firebase:"})," Database, authentication, and file storage"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Anthropic:"})," AI-powered CV parsing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"PayFast:"})," Payment processing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Google AdSense:"})," Advertising for free plan users (POPIA compliant)"]})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Team Collaboration"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you invite team members, they will have access to CVs and data within your account based on their assigned permissions."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Enterprise/Master Accounts"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Master accounts have administrative access to their sub-master accounts and usage data for billing purposes."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Legal Requirements"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We may disclose information if required by law, court order, or government regulation."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Data Security"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We implement industry-standard security measures:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"HTTPS encryption for all data transmission"}),s.jsx("li",{children:"Firebase Authentication with secure password hashing"}),s.jsx("li",{children:"Role-based access control"}),s.jsx("li",{children:"Regular security audits and updates"}),s.jsx("li",{children:"Firestore security rules to prevent unauthorized access"}),s.jsx("li",{children:"Cloud Function authentication checks"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"However, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Data Retention"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We retain your data as follows:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Active Accounts:"})," Data retained as long as your account is active"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deleted Accounts:"})," Data deleted within 30 days of account deletion"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," Some data may be retained longer for compliance purposes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Backups:"})," Backup data retained for up to 90 days"]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Your Rights (POPIA Compliance)"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Under South Africa's Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your personal information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Request correction of inaccurate data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portability:"})," Export your data in a machine-readable format"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Objection:"})," Object to certain processing activities"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Withdraw Consent:"})," Withdraw consent for data processing"]})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"To exercise these rights, contact us at emma@automore.co.za"})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Cookies and Tracking"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We use cookies and similar technologies for:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Authentication:"})," Keep you logged in securely"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Preferences:"})," Remember your settings"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Analytics:"})," Understand how you use our platform"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Advertising:"})," Show relevant ads to free plan users (with consent)"]})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You can control cookies through your browser settings. Disabling cookies may affect platform functionality."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Third-Party Links"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our platform may contain links to third-party websites (e.g., Automore, payment providers). We are not responsible for the privacy practices of these external sites. Please review their privacy policies."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Children's Privacy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"CVSift is not intended for individuals under 18 years of age. We do not knowingly collect personal information from children. If we discover we have collected data from a child, we will delete it immediately."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"11. Changes to Privacy Policy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of significant changes via email or platform notification. The "Last Updated" date at the top will reflect the most recent revision.'})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"12. International Data Transfers"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your data may be transferred to and stored on servers located outside South Africa (e.g., Google Cloud, Firebase). We ensure these transfers comply with POPIA and include appropriate safeguards."})]}),s.jsxs("section",{className:"mt-12 pt-8 border-t border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"If you have questions about this Privacy Policy or wish to exercise your rights:"}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("p",{children:s.jsx("strong",{children:"Data Protection Officer"})}),s.jsx("p",{children:s.jsx("strong",{children:"Automore (Pty) Ltd"})}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:emma@automore.co.za",className:"text-orange-500 hover:text-orange-600",children:"emma@automore.co.za"})]}),s.jsxs("p",{children:["Website: ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600",children:"www.automore.co.za"})]})]})]})]})}),s.jsx("footer",{className:"bg-gray-900 text-gray-400 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsx("p",{className:"text-sm",children:" 2025 CVSift by Automore. All rights reserved."})})})]})};function z2e(){const[t,e]=V.useState(!1),n=ii();V.useEffect(()=>{e(!0)},[]);const r=[{value:"10,000+",label:"CVs Processed Daily"},{value:"500+",label:"Companies Trust Us"},{value:"70%",label:"Faster Hiring"},{value:"98%",label:"Accuracy Rate"}];return s.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[s.jsx("nav",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("button",{onClick:()=>n("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-orange-600 transition-colors",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-medium",children:"Back to Home"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"CV"})}),s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Sift"})]})]})})}),s.jsx("section",{className:"pt-24 lg:pt-32 pb-16 lg:pb-24 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-orange-50/30 via-white to-white",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:`text-center max-w-4xl mx-auto transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-orange-100 to-orange-50 text-orange-700 px-4 py-2 rounded-full mb-6 lg:mb-8 border border-orange-200/50",children:[s.jsx(ns,{size:16,className:"animate-pulse"}),s.jsx("span",{className:"text-xs lg:text-sm font-semibold",children:"Powered by Claude AI"})]}),s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold mb-4 lg:mb-6 leading-tight",children:["Screen ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Thousands"})," of CVs",s.jsx("br",{className:"hidden sm:block"})," in"," ",s.jsxs("span",{className:"relative inline-block",children:[s.jsx("span",{className:"relative z-10",children:"Minutes"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 -rotate-1 rounded-xl opacity-20 blur-sm"})]})]}),s.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 mb-8 lg:mb-12 leading-relaxed px-4",children:"AI-powered CV screening that saves you 20+ hours per week. Upload, filter, and hire the best candidates faster."}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12 lg:mb-16",children:s.jsxs("button",{onClick:()=>n("/signup"),className:"w-full sm:w-auto bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white px-8 py-4 rounded-xl font-semibold text-base lg:text-lg transition-all hover:scale-105 flex items-center justify-center space-x-2 shadow-xl shadow-orange-500/30",children:[s.jsx("span",{children:"Get Started Free"}),s.jsx(v1,{size:20})]})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-8 mb-12 lg:mb-16",children:r.map((i,a)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-1",children:i.value}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:i.label})]},a))}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl lg:rounded-3xl p-4 lg:p-8 shadow-2xl border border-gray-200/50",children:s.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-inner",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-red-400 rounded-full"}),s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-yellow-400 rounded-full"}),s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-green-400 rounded-full"})]}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-400 font-medium",children:"CVSift Dashboard"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-gray-200 to-gray-100 rounded-full w-3/4 animate-pulse"}),s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-orange-200 to-orange-100 rounded-full w-1/2 animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-purple-200 to-purple-100 rounded-full w-2/3 animate-pulse",style:{animationDelay:"300ms"}}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 lg:gap-4 mt-6",children:[s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl shadow-sm"}),s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl shadow-sm"}),s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl shadow-sm"})]})]})]})}),s.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-orange-400 rounded-full blur-3xl opacity-40 animate-pulse"}),s.jsx("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 bg-purple-400 rounded-full blur-3xl opacity-40 animate-pulse",style:{animationDelay:"1s"}})]})]})})}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6 text-center",children:"About CVSift"}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-600 space-y-4",children:[s.jsx("p",{children:"CVSift is an AI-powered CV screening platform that helps recruitment teams process and filter thousands of CVs in minutes. Built with cutting-edge artificial intelligence technology, we make hiring faster, smarter, and more efficient."}),s.jsx("p",{children:"Our mission is to transform the recruitment process by eliminating the tedious manual work of CV screening, allowing HR professionals to focus on what truly matters: connecting with the right candidates and building exceptional teams."}),s.jsxs("p",{children:["Powered by Claude AI and developed by ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 font-semibold",children:"Automore"}),", CVSift combines advanced natural language processing with an intuitive interface to deliver unmatched accuracy and speed in CV processing."]})]})]})})]})}function F2e(){const t=ii(),{showToast:e}=Td(),[n,r]=V.useState({name:"",email:"",subject:"",message:""}),[i,a]=V.useState(!1),[o,c]=V.useState(!1),d=f=>{r({...n,[f.target.name]:f.target.value})},h=async f=>{f.preventDefault(),a(!0);try{if((await fetch("https://hook.us2.make.com/7ntnvcdc8h6x1mtoo4ttjerp82lj2fyy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok)c(!0),e("Message sent successfully! We'll get back to you soon.","success"),r({name:"",email:"",subject:"",message:""});else throw new Error("Failed to send message")}catch(p){console.error("Error submitting form:",p),e("Failed to send message. Please try again or email us directly.","error")}finally{a(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[s.jsx("nav",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-orange-600 transition-colors",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-medium",children:"Back to Home"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"CV"})}),s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Sift"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:["Get in ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Touch"})]}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Have a question or need help? We're here to assist you. Send us a message and we'll respond as soon as possible."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center mb-4",children:s.jsx(bc,{className:"text-orange-600",size:24})}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Email Us"}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Our team is here to help"}),s.jsx("a",{href:"mailto:emma@automore.co.za",className:"text-orange-600 hover:text-orange-700 font-semibold",children:"emma@automore.co.za"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4",children:s.jsx(Yb,{className:"text-blue-600",size:24})}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Visit Us"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Pretoria, South Africa"})]})]}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100",children:o?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ws,{className:"text-green-600",size:32})}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Message Sent!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. We'll get back to you within 24 hours."}),s.jsx("button",{onClick:()=>c(!1),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:n.name,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:n.email,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"john@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),s.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:n.subject,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"How can we help you?"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{id:"message",name:"message",required:!0,value:n.message,onChange:d,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all resize-none",placeholder:"Tell us more about your inquiry..."})]}),s.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(i7,{size:20}),s.jsx("span",{children:"Send Message"})]})})]})})})]})]})]})}const U2e=()=>{try{return k7()?.categories?.includes("advertising")||!1}catch{return!1}};function B2e({slot:t,format:e="auto",style:n={},className:r="",fullWidthResponsive:i=!0}){const[a,o]=V.useState(!1),[c,d]=V.useState(!1);return V.useEffect(()=>{const h=()=>{o(U2e())};h();const f=setInterval(h,1e3);return()=>clearInterval(f)},[]),V.useEffect(()=>{if(a&&!c)try{(window.adsbygoogle=window.adsbygoogle||[]).push({}),d(!0)}catch(h){console.error("AdSense error:",h)}},[a,c]),a?s.jsxs("div",{className:`adsense-container my-6 ${r}`,style:n,children:[s.jsx("div",{className:"text-xs text-gray-400 text-center mb-1",children:"Advertisement"}),s.jsx("ins",{className:"adsbygoogle",style:{display:"block",...n},"data-ad-client":"ca-pub-8629316693437703","data-ad-slot":t,"data-ad-format":e,"data-full-width-responsive":i})]}):null}function jv({className:t=""}){return s.jsx(B2e,{slot:"1234567890",format:"horizontal",className:t,style:{minHeight:"90px"}})}function V2e(){const t=ii(),e=[{id:1,title:"10 Best Practices for Screening CVs in 2025",excerpt:"Learn the most effective techniques for screening CVs efficiently using AI-powered tools and traditional methods. Discover how to identify top talent faster and reduce time-to-hire significantly.",date:"January 15, 2025",author:"CVSift Team",category:"Recruitment Tips",readTime:"5 min read",featured:!0,content:`
        <h2>Introduction</h2>
        <p>In today's competitive job market, efficient CV screening is more crucial than ever. With thousands of applications for every position, recruiters need smart strategies to identify the best candidates quickly without missing top talent.</p>

        <h2>1. Use AI-Powered Screening Tools</h2>
        <p>Artificial intelligence has revolutionized the recruitment process. AI-powered CV screening tools like CVSift can process hundreds of CVs in minutes, extracting key information such as skills, experience, education, and qualifications automatically. This eliminates manual data entry and reduces screening time by up to 70%.</p>

        <h2>2. Define Clear Job Requirements</h2>
        <p>Before you start screening CVs, create a detailed job specification that outlines must-have skills, preferred qualifications, and experience levels. This helps you focus on relevant criteria and makes filtering more objective and efficient.</p>

        <h2>3. Look Beyond Keywords</h2>
        <p>While keywords are important, don't rely solely on them. Modern AI tools can understand context and identify candidates with transferable skills. A candidate might not use the exact keyword but could still be highly qualified for the role.</p>

        <h2>4. Implement Blind Screening</h2>
        <p>Remove identifying information such as names, photos, and addresses during the initial screening phase. This reduces unconscious bias and ensures you're evaluating candidates purely on merit and qualifications.</p>

        <h2>5. Create a Scoring System</h2>
        <p>Develop a standardized scoring rubric that assigns points to different qualifications, skills, and experience levels. This makes comparison between candidates more objective and consistent across your hiring team.</p>

        <h2>6. Screen in Batches</h2>
        <p>Rather than reviewing CVs as they arrive, screen them in batches. This allows you to compare candidates side-by-side and maintain consistent evaluation standards throughout the process.</p>

        <h2>7. Use Collaborative Filtering</h2>
        <p>Involve multiple team members in the screening process. Different perspectives can help identify strengths you might have missed and reduce individual biases in candidate evaluation.</p>

        <h2>8. Track Your Metrics</h2>
        <p>Monitor key recruitment metrics like time-to-hire, quality of hire, and candidate satisfaction. These insights help you continuously improve your screening process and identify bottlenecks.</p>

        <h2>9. Automate Initial Responses</h2>
        <p>Set up automated email responses to acknowledge receipt of applications. This improves candidate experience and keeps applicants engaged while you complete the screening process.</p>

        <h2>10. Regular Process Reviews</h2>
        <p>Review and update your screening criteria quarterly. The job market evolves rapidly, and your screening process should adapt to changing skill requirements and industry standards.</p>

        <h2>Conclusion</h2>
        <p>Effective CV screening combines technology, clear criteria, and human judgment. By implementing these best practices, you can significantly reduce time-to-hire while improving the quality of candidates you advance to interviews. Tools like CVSift make this process even more efficient by automating the tedious parts while keeping you in control of the decision-making.</p>

        <p>Ready to transform your recruitment process? <a href="/signup" class="text-orange-600 hover:text-orange-700 font-semibold">Try CVSift free today</a> and experience AI-powered CV screening.</p>
      `},{id:2,title:"How AI is Transforming Recruitment in 2025",excerpt:"Explore the latest AI technologies revolutionizing the hiring process, from automated screening to predictive analytics. Understand how artificial intelligence is making recruitment faster, fairer, and more effective.",date:"January 10, 2025",author:"CVSift Team",category:"AI & Technology",readTime:"7 min read",featured:!1,content:`
        <h2>The Evolution of Recruitment Technology</h2>
        <p>Artificial Intelligence has fundamentally transformed how companies find, assess, and hire talent. From automating repetitive tasks to providing deep insights into candidate quality, AI is reshaping every stage of the recruitment funnel.</p>

        <h2>1. Automated CV Screening and Parsing</h2>
        <p>AI-powered CV screening tools can automatically extract and categorize information from resumes, identifying key skills, experience, and qualifications. Modern systems like CVSift use natural language processing (NLP) to understand context, not just keywords, ensuring you don't miss qualified candidates who might describe their experience differently.</p>

        <h2>2. Predictive Analytics for Candidate Success</h2>
        <p>Machine learning algorithms can analyze historical hiring data to predict which candidates are most likely to succeed in specific roles. These systems consider factors like skill match, experience patterns, and cultural fit indicators to help recruiters make more informed decisions.</p>

        <h2>3. Bias Reduction and Fair Hiring</h2>
        <p>AI systems, when properly designed, can help reduce unconscious bias in hiring. By focusing on objective criteria and removing identifying information during initial screening, AI tools promote fairer, more inclusive hiring practices.</p>

        <h2>4. Chatbots for Candidate Engagement</h2>
        <p>AI-powered chatbots can answer candidate questions 24/7, schedule interviews automatically, and keep applicants updated throughout the hiring process. This improves candidate experience while freeing up recruiter time for high-value activities.</p>

        <h2>5. Skills Assessment and Testing</h2>
        <p>Advanced AI systems can administer and evaluate skills tests, coding challenges, and situational assessments. These tools provide objective measurements of candidate abilities beyond what's listed on a CV.</p>

        <h2>6. Natural Language Processing for Job Matching</h2>
        <p>NLP algorithms can match candidates to job openings based on semantic understanding of both job descriptions and candidate profiles. This goes beyond simple keyword matching to understand intent and context.</p>

        <h2>The Human Element Remains Critical</h2>
        <p>While AI is incredibly powerful, the human element remains essential in recruitment. AI should augment human decision-making, not replace it. The best recruitment processes combine AI efficiency with human judgment, emotional intelligence, and cultural assessment.</p>

        <h2>Privacy and Ethical Considerations</h2>
        <p>As AI becomes more prevalent in recruitment, it's crucial to address privacy concerns and ensure ethical use of candidate data. Transparent AI systems that explain their decisions and comply with GDPR, CCPA, and other privacy regulations are essential.</p>

        <h2>The Future of AI in Recruitment</h2>
        <p>Looking ahead, we can expect even more sophisticated AI applications in recruitment, including video interview analysis, advanced sentiment detection, and more accurate performance predictions. The key is to adopt these technologies thoughtfully, always keeping candidate experience and fairness at the forefront.</p>

        <h2>Getting Started with AI Recruitment Tools</h2>
        <p>If you're ready to embrace AI in your recruitment process, start with proven tools that offer clear value. CVSift provides AI-powered CV screening that's easy to implement, compliant with privacy regulations, and designed to work alongside your existing processes.</p>

        <p><a href="/signup" class="text-orange-600 hover:text-orange-700 font-semibold">Start your free trial</a> and see how AI can transform your recruitment workflow.</p>
      `},{id:3,title:"Reducing Time-to-Hire: A Complete Guide",excerpt:"Discover actionable strategies to accelerate your hiring process without sacrificing candidate quality. Learn how top companies are reducing their time-to-hire by up to 70% using modern recruitment techniques.",date:"January 5, 2025",author:"CVSift Team",category:"HR Strategy",readTime:"6 min read",featured:!1,content:`
        <h2>Why Time-to-Hire Matters</h2>
        <p>Time-to-hire is one of the most critical recruitment metrics. A lengthy hiring process can result in losing top candidates to competitors, increased costs, and prolonged team productivity gaps. In today's fast-paced market, speed is essential.</p>

        <h2>Understanding Your Current Process</h2>
        <p>Before you can improve time-to-hire, you need to understand where delays occur. Track these key stages: job posting to first application, application to screening completion, screening to interview invitation, interview to offer, and offer to acceptance.</p>

        <h2>1. Streamline CV Screening with Automation</h2>
        <p>Manual CV screening is often the biggest bottleneck in the hiring process. AI-powered tools like CVSift can reduce screening time from days to minutes, automatically extracting and categorizing candidate information so you can focus on evaluation rather than data entry.</p>

        <h2>2. Optimize Your Job Descriptions</h2>
        <p>Clear, concise job descriptions attract qualified candidates and reduce time spent sorting through irrelevant applications. Include must-have requirements upfront and use inclusive language to attract diverse talent pools.</p>

        <h2>3. Implement Pre-Screening Questions</h2>
        <p>Add knockout questions to your application form to automatically filter out candidates who don't meet basic requirements. This saves screening time and ensures you're only reviewing qualified applicants.</p>

        <h2>4. Use Video Screening Interviews</h2>
        <p>One-way video interviews allow candidates to record responses to preset questions at their convenience. Your team can review these asynchronously, eliminating scheduling delays and accelerating the initial screening phase.</p>

        <h2>5. Reduce Interview Rounds</h2>
        <p>While thorough evaluation is important, excessive interview rounds slow down the process. Combine interview stages where possible and ensure each interview serves a distinct purpose in the evaluation process.</p>

        <h2>6. Accelerate Decision-Making</h2>
        <p>Set strict timelines for interview feedback and hiring decisions. Use collaborative tools that allow hiring teams to share assessments quickly and schedule decision meetings immediately after final interviews.</p>

        <h2>7. Maintain a Talent Pipeline</h2>
        <p>Don't wait until you have an opening to start recruiting. Build relationships with potential candidates through networking, talent communities, and keeping in touch with strong past applicants.</p>

        <h2>8. Improve Your Employer Brand</h2>
        <p>A strong employer brand attracts candidates proactively and can significantly reduce time-to-fill. Invest in showcasing your company culture, employee testimonials, and what makes your organization a great place to work.</p>

        <h2>9. Leverage Employee Referrals</h2>
        <p>Referred candidates typically move through the hiring process faster and have higher retention rates. Implement a robust employee referral program with clear incentives and make it easy for employees to refer candidates.</p>

        <h2>10. Use Recruitment Analytics</h2>
        <p>Track your recruitment funnel metrics to identify exactly where delays occur. Use data to make informed decisions about where to invest in process improvements and technology.</p>

        <h2>Technology as a Force Multiplier</h2>
        <p>Modern recruitment technology can compress your hiring timeline dramatically. Applicant tracking systems, AI screening tools, automated scheduling, and digital offer letters all contribute to faster hiring without compromising quality.</p>

        <h2>Measuring Success</h2>
        <p>Monitor these metrics to track improvement: average time-to-hire, time-to-fill by role, offer acceptance rate, candidate satisfaction scores, and quality of hire. Set benchmarks and continuously optimize your process.</p>

        <h2>Conclusion</h2>
        <p>Reducing time-to-hire requires a combination of process optimization, technology adoption, and cultural change. Start by identifying your biggest bottlenecks and addressing them systematically. Tools like CVSift can help you eliminate the manual CV screening bottleneck, often saving 20+ hours per role.</p>

        <p>Ready to accelerate your hiring process? <a href="/signup" class="text-orange-600 hover:text-orange-700 font-semibold">Try CVSift free</a> and experience automated CV screening.</p>
      `}],[n,r]=V.useState(null);return s.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[s.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("button",{onClick:()=>n?r(null):t("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-orange-600 transition-colors",children:[s.jsx(Qs,{size:20}),s.jsx("span",{className:"font-medium",children:n?"Back to Blog":"Back to Home"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"CV"})}),s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Sift"})]})]})})}),n?s.jsx("article",{className:"py-12 lg:py-16",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"inline-flex items-center space-x-2 bg-orange-100 text-orange-700 px-3 py-1 rounded-full mb-4",children:s.jsx("span",{className:"text-sm font-semibold",children:n.category})}),s.jsx("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 leading-tight",children:n.title}),s.jsxs("div",{className:"flex items-center space-x-6 text-gray-600 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_d,{size:16}),s.jsx("span",{children:n.date})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cl,{size:16}),s.jsx("span",{children:n.author})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(tne,{size:16}),s.jsx("span",{children:n.readTime})]})]})]}),s.jsx(jv,{}),s.jsx("div",{className:"prose prose-lg max-w-none mb-12",dangerouslySetInnerHTML:{__html:n.content}}),s.jsx(jv,{}),s.jsxs("div",{className:"mt-12 bg-gradient-to-r from-orange-50 to-orange-100 rounded-2xl p-8 border border-orange-200",children:[s.jsx("h3",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Ready to Transform Your Hiring Process?"}),s.jsx("p",{className:"text-gray-700 mb-6",children:"Join 500+ companies using CVSift to screen CVs faster and hire better. Start your free trial today."}),s.jsxs("button",{onClick:()=>t("/signup"),className:"bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-all hover:scale-105 flex items-center space-x-2",children:[s.jsx("span",{children:"Get Started Free"}),s.jsx(v1,{size:20})]})]})]})}):s.jsxs(s.Fragment,{children:[s.jsx("section",{className:"pt-16 lg:pt-24 pb-12 lg:pb-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-orange-50/30 to-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-orange-100 to-orange-50 text-orange-700 px-4 py-2 rounded-full mb-6 border border-orange-200/50",children:[s.jsx(Zf,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"CVSift Blog"})]}),s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 leading-tight",children:["Recruitment ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Insights"})," & Tips"]}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"Expert advice, industry trends, and best practices for modern recruitment teams. Learn how to hire smarter and faster."})]})}),s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 mb-12",children:s.jsx(jv,{})}),s.jsx("section",{className:"py-12 px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:e.map(i=>s.jsxs("article",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>r(i),children:[i.featured&&s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white px-4 py-2 text-sm font-semibold",children:"Featured Post"}),s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"inline-block bg-orange-100 text-orange-700 px-3 py-1 rounded-full text-xs font-semibold mb-3",children:i.category}),s.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900 group-hover:text-orange-600 transition-colors",children:i.title}),s.jsx("p",{className:"text-gray-600 mb-4 line-clamp-3",children:i.excerpt}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(_d,{size:14}),s.jsx("span",{children:i.date})]}),s.jsx("span",{children:i.readTime})]}),s.jsxs("div",{className:"mt-4 flex items-center text-orange-600 font-semibold group-hover:gap-2 transition-all",children:[s.jsx("span",{children:"Read More"}),s.jsx(v1,{size:16,className:"group-hover:translate-x-1 transition-transform"})]})]})]},i.id))}),s.jsx("div",{className:"mt-12",children:s.jsx(jv,{})})]})}),s.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-orange-500 via-orange-600 to-orange-700 text-white",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Start Screening CVs Smarter Today"}),s.jsx("p",{className:"text-lg mb-8 opacity-90",children:"Join hundreds of companies using AI-powered CV screening to hire faster and better."}),s.jsx("button",{onClick:()=>t("/signup"),className:"bg-white text-orange-600 px-8 py-4 rounded-xl font-semibold text-lg hover:scale-105 transition-all shadow-xl",children:"Try CVSift Free"})]})})]})]})}function Nl({children:t}){const{currentUser:e}=Ei();return e?t:s.jsx(mS,{to:"/signin",replace:!0})}function AN({children:t}){const{currentUser:e}=Ei();return e?s.jsx(mS,{to:"/dashboard",replace:!0}):t}function q2e(){return bie(),s.jsxs(x$,{children:[s.jsx(ti,{path:"/",element:s.jsx(Cie,{})}),s.jsx(ti,{path:"/signup",element:s.jsx(AN,{children:s.jsx(Tie,{})})}),s.jsx(ti,{path:"/signin",element:s.jsx(AN,{children:s.jsx(kie,{})})}),s.jsx(ti,{path:"/reset-password",element:s.jsx(AN,{children:s.jsx(Iie,{})})}),s.jsx(ti,{path:"/accept-invite",element:s.jsx(sve,{})}),s.jsx(ti,{path:"/terms-of-service",element:s.jsx(L2e,{})}),s.jsx(ti,{path:"/privacy-policy",element:s.jsx(M2e,{})}),s.jsx(ti,{path:"/about",element:s.jsx(z2e,{})}),s.jsx(ti,{path:"/contact",element:s.jsx(F2e,{})}),s.jsx(ti,{path:"/blog",element:s.jsx(V2e,{})}),s.jsx(ti,{path:"/dashboard",element:s.jsx(Nl,{children:s.jsx(zie,{})})}),s.jsx(ti,{path:"/upload",element:s.jsx(Nl,{children:s.jsx(Vie,{})})}),s.jsx(ti,{path:"/cvs",element:s.jsx(Nl,{children:s.jsx(Hie,{})})}),s.jsx(ti,{path:"/cv/:id",element:s.jsx(Nl,{children:s.jsx(Wie,{})})}),s.jsx(ti,{path:"/pricing",element:s.jsx(Nl,{children:s.jsx(Gie,{})})}),s.jsx(ti,{path:"/payment/success",element:s.jsx(Nl,{children:s.jsx(Yie,{})})}),s.jsx(ti,{path:"/payment/cancel",element:s.jsx(Nl,{children:s.jsx(Kie,{})})}),s.jsx(ti,{path:"/analytics",element:s.jsx(Nl,{children:s.jsx(Zxe,{})})}),s.jsx(ti,{path:"/settings",element:s.jsx(Nl,{children:s.jsx(rve,{})})}),s.jsx(ti,{path:"/job-specs",element:s.jsx(Nl,{children:s.jsx(ive,{})})}),s.jsx(ti,{path:"/chatbot",element:s.jsx(Nl,{children:s.jsx(ave,{})})}),s.jsx(ti,{path:"/master-dashboard",element:s.jsx(Nl,{children:s.jsx(D2e,{})})}),s.jsx(ti,{path:"*",element:s.jsx(mS,{to:"/",replace:!0})})]})}function $2e(){return s.jsx(V$,{children:s.jsx(Bte,{children:s.jsxs(Ore,{children:[s.jsx(Nie,{language:"en",privacyPolicyUrl:"/privacy-policy"}),s.jsx(q2e,{})]})})})}class H2e extends yy.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Application Error:",e,n)}render(){return this.state.hasError?s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"system-ui, -apple-system, sans-serif",padding:"2rem"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[s.jsx("h1",{style:{color:"#ff6d38",marginBottom:"1rem"},children:"Oops!"}),s.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Something went wrong. Please refresh the page to try again."}),s.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#ff6d38",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"Refresh Page"})]})}):this.props.children}}Eq.createRoot(document.getElementById("root")).render(s.jsx(yy.StrictMode,{children:s.jsx(H2e,{children:s.jsx($2e,{})})}));export{br as _,Bx as c,wu as g};
