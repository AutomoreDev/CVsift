function vB(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ru(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Y2={exports:{}},jg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N6;function bB(){if(N6)return jg;N6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,a){var l=null;if(a!==void 0&&(l=""+a),i.key!==void 0&&(l=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:t,type:n,key:l,ref:i!==void 0?i:null,props:a}}return jg.Fragment=e,jg.jsx=r,jg.jsxs=r,jg}var j6;function wB(){return j6||(j6=1,Y2.exports=bB()),Y2.exports}var s=wB(),K2={exports:{}},fr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S6;function _B(){if(S6)return fr;S6=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),x=Symbol.iterator;function g(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,_={};function j(H,R,J){this.props=H,this.context=R,this.refs=_,this.updater=J||w}j.prototype.isReactComponent={},j.prototype.setState=function(H,R){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,R,"setState")},j.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function E(){}E.prototype=j.prototype;function C(H,R,J){this.props=H,this.context=R,this.refs=_,this.updater=J||w}var z=C.prototype=new E;z.constructor=C,v(z,j.prototype),z.isPureReactComponent=!0;var P=Array.isArray;function X(){}var U={H:null,A:null,T:null,S:null},M=Object.prototype.hasOwnProperty;function D(H,R,J){var ee=J.ref;return{$$typeof:t,type:H,key:R,ref:ee!==void 0?ee:null,props:J}}function G(H,R){return D(H.type,R,H.props)}function L(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function I(H){var R={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(J){return R[J]})}var B=/\/+/g;function k(H,R){return typeof H=="object"&&H!==null&&H.key!=null?I(""+H.key):R.toString(36)}function re(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(X,X):(H.status="pending",H.then(function(R){H.status==="pending"&&(H.status="fulfilled",H.value=R)},function(R){H.status==="pending"&&(H.status="rejected",H.reason=R)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Y(H,R,J,ee,ae){var be=typeof H;(be==="undefined"||be==="boolean")&&(H=null);var je=!1;if(H===null)je=!0;else switch(be){case"bigint":case"string":case"number":je=!0;break;case"object":switch(H.$$typeof){case t:case e:je=!0;break;case f:return je=H._init,Y(je(H._payload),R,J,ee,ae)}}if(je)return ae=ae(H),je=ee===""?"."+k(H,0):ee,P(ae)?(J="",je!=null&&(J=je.replace(B,"$&/")+"/"),Y(ae,R,J,"",function(Ie){return Ie})):ae!=null&&(L(ae)&&(ae=G(ae,J+(ae.key==null||H&&H.key===ae.key?"":(""+ae.key).replace(B,"$&/")+"/")+je)),R.push(ae)),1;je=0;var de=ee===""?".":ee+":";if(P(H))for(var ge=0;ge<H.length;ge++)ee=H[ge],be=de+k(ee,ge),je+=Y(ee,R,J,be,ae);else if(ge=g(H),typeof ge=="function")for(H=ge.call(H),ge=0;!(ee=H.next()).done;)ee=ee.value,be=de+k(ee,ge++),je+=Y(ee,R,J,be,ae);else if(be==="object"){if(typeof H.then=="function")return Y(re(H),R,J,ee,ae);throw R=String(H),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return je}function Q(H,R,J){if(H==null)return H;var ee=[],ae=0;return Y(H,ee,"","",function(be){return R.call(J,be,ae++)}),ee}function se(H){if(H._status===-1){var R=H._result;R=R(),R.then(function(J){(H._status===0||H._status===-1)&&(H._status=1,H._result=J)},function(J){(H._status===0||H._status===-1)&&(H._status=2,H._result=J)}),H._status===-1&&(H._status=0,H._result=R)}if(H._status===1)return H._result.default;throw H._result}var oe=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},pe={map:Q,forEach:function(H,R,J){Q(H,function(){R.apply(this,arguments)},J)},count:function(H){var R=0;return Q(H,function(){R++}),R},toArray:function(H){return Q(H,function(R){return R})||[]},only:function(H){if(!L(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return fr.Activity=p,fr.Children=pe,fr.Component=j,fr.Fragment=r,fr.Profiler=i,fr.PureComponent=C,fr.StrictMode=n,fr.Suspense=d,fr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,fr.__COMPILER_RUNTIME={__proto__:null,c:function(H){return U.H.useMemoCache(H)}},fr.cache=function(H){return function(){return H.apply(null,arguments)}},fr.cacheSignal=function(){return null},fr.cloneElement=function(H,R,J){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var ee=v({},H.props),ae=H.key;if(R!=null)for(be in R.key!==void 0&&(ae=""+R.key),R)!M.call(R,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&R.ref===void 0||(ee[be]=R[be]);var be=arguments.length-2;if(be===1)ee.children=J;else if(1<be){for(var je=Array(be),de=0;de<be;de++)je[de]=arguments[de+2];ee.children=je}return D(H.type,ae,ee)},fr.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:a,_context:H},H},fr.createElement=function(H,R,J){var ee,ae={},be=null;if(R!=null)for(ee in R.key!==void 0&&(be=""+R.key),R)M.call(R,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ae[ee]=R[ee]);var je=arguments.length-2;if(je===1)ae.children=J;else if(1<je){for(var de=Array(je),ge=0;ge<je;ge++)de[ge]=arguments[ge+2];ae.children=de}if(H&&H.defaultProps)for(ee in je=H.defaultProps,je)ae[ee]===void 0&&(ae[ee]=je[ee]);return D(H,be,ae)},fr.createRef=function(){return{current:null}},fr.forwardRef=function(H){return{$$typeof:c,render:H}},fr.isValidElement=L,fr.lazy=function(H){return{$$typeof:f,_payload:{_status:-1,_result:H},_init:se}},fr.memo=function(H,R){return{$$typeof:h,type:H,compare:R===void 0?null:R}},fr.startTransition=function(H){var R=U.T,J={};U.T=J;try{var ee=H(),ae=U.S;ae!==null&&ae(J,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(X,oe)}catch(be){oe(be)}finally{R!==null&&J.types!==null&&(R.types=J.types),U.T=R}},fr.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},fr.use=function(H){return U.H.use(H)},fr.useActionState=function(H,R,J){return U.H.useActionState(H,R,J)},fr.useCallback=function(H,R){return U.H.useCallback(H,R)},fr.useContext=function(H){return U.H.useContext(H)},fr.useDebugValue=function(){},fr.useDeferredValue=function(H,R){return U.H.useDeferredValue(H,R)},fr.useEffect=function(H,R){return U.H.useEffect(H,R)},fr.useEffectEvent=function(H){return U.H.useEffectEvent(H)},fr.useId=function(){return U.H.useId()},fr.useImperativeHandle=function(H,R,J){return U.H.useImperativeHandle(H,R,J)},fr.useInsertionEffect=function(H,R){return U.H.useInsertionEffect(H,R)},fr.useLayoutEffect=function(H,R){return U.H.useLayoutEffect(H,R)},fr.useMemo=function(H,R){return U.H.useMemo(H,R)},fr.useOptimistic=function(H,R){return U.H.useOptimistic(H,R)},fr.useReducer=function(H,R,J){return U.H.useReducer(H,R,J)},fr.useRef=function(H){return U.H.useRef(H)},fr.useState=function(H){return U.H.useState(H)},fr.useSyncExternalStore=function(H,R,J){return U.H.useSyncExternalStore(H,R,J)},fr.useTransition=function(){return U.H.useTransition()},fr.version="19.2.0",fr}var A6;function vp(){return A6||(A6=1,K2.exports=_B()),K2.exports}var V=vp();const M0=ru(V),NB=vB({__proto__:null,default:M0},[V]);var X2={exports:{}},Sg={},Z2={exports:{}},Q2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E6;function jB(){return E6||(E6=1,(function(t){function e(Y,Q){var se=Y.length;Y.push(Q);e:for(;0<se;){var oe=se-1>>>1,pe=Y[oe];if(0<i(pe,Q))Y[oe]=Q,Y[se]=pe,se=oe;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Q=Y[0],se=Y.pop();if(se!==Q){Y[0]=se;e:for(var oe=0,pe=Y.length,H=pe>>>1;oe<H;){var R=2*(oe+1)-1,J=Y[R],ee=R+1,ae=Y[ee];if(0>i(J,se))ee<pe&&0>i(ae,J)?(Y[oe]=ae,Y[ee]=se,oe=ee):(Y[oe]=J,Y[R]=se,oe=R);else if(ee<pe&&0>i(ae,se))Y[oe]=ae,Y[ee]=se,oe=ee;else break e}}return Q}function i(Y,Q){var se=Y.sortIndex-Q.sortIndex;return se!==0?se:Y.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],h=[],f=1,p=null,x=3,g=!1,w=!1,v=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function z(Y){for(var Q=r(h);Q!==null;){if(Q.callback===null)n(h);else if(Q.startTime<=Y)n(h),Q.sortIndex=Q.expirationTime,e(d,Q);else break;Q=r(h)}}function P(Y){if(v=!1,z(Y),!w)if(r(d)!==null)w=!0,X||(X=!0,I());else{var Q=r(h);Q!==null&&re(P,Q.startTime-Y)}}var X=!1,U=-1,M=5,D=-1;function G(){return _?!0:!(t.unstable_now()-D<M)}function L(){if(_=!1,X){var Y=t.unstable_now();D=Y;var Q=!0;try{e:{w=!1,v&&(v=!1,E(U),U=-1),g=!0;var se=x;try{t:{for(z(Y),p=r(d);p!==null&&!(p.expirationTime>Y&&G());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,x=p.priorityLevel;var pe=oe(p.expirationTime<=Y);if(Y=t.unstable_now(),typeof pe=="function"){p.callback=pe,z(Y),Q=!0;break t}p===r(d)&&n(d),z(Y)}else n(d);p=r(d)}if(p!==null)Q=!0;else{var H=r(h);H!==null&&re(P,H.startTime-Y),Q=!1}}break e}finally{p=null,x=se,g=!1}Q=void 0}}finally{Q?I():X=!1}}}var I;if(typeof C=="function")I=function(){C(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,k=B.port2;B.port1.onmessage=L,I=function(){k.postMessage(null)}}else I=function(){j(L,0)};function re(Y,Q){U=j(function(){Y(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var Q=3;break;default:Q=x}var se=x;x=Q;try{return Y()}finally{x=se}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(Y,Q){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=x;x=Y;try{return Q()}finally{x=se}},t.unstable_scheduleCallback=function(Y,Q,se){var oe=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?oe+se:oe):se=oe,Y){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=se+pe,Y={id:f++,callback:Q,priorityLevel:Y,startTime:se,expirationTime:pe,sortIndex:-1},se>oe?(Y.sortIndex=se,e(h,Y),r(d)===null&&Y===r(h)&&(v?(E(U),U=-1):v=!0,re(P,se-oe))):(Y.sortIndex=pe,e(d,Y),w||g||(w=!0,X||(X=!0,I()))),Y},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(Y){var Q=x;return function(){var se=x;x=Q;try{return Y.apply(this,arguments)}finally{x=se}}}})(Q2)),Q2}var T6;function SB(){return T6||(T6=1,Z2.exports=jB()),Z2.exports}var J2={exports:{}},rs={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C6;function AB(){if(C6)return rs;C6=1;var t=vp();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:d,containerInfo:h,implementation:f}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return rs.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,rs.createPortal=function(d,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return a(d,h,null,f)},rs.flushSync=function(d){var h=l.T,f=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=h,n.p=f,n.d.f()}},rs.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},rs.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},rs.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,g=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:x,fetchPriority:g}):f==="script"&&n.d.X(d,{crossOrigin:p,integrity:x,fetchPriority:g,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},rs.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},rs.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);n.d.L(d,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},rs.preloadModule=function(d,h){if(typeof d=="string")if(h){var f=c(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},rs.requestFormReset=function(d){n.d.r(d)},rs.unstable_batchedUpdates=function(d,h){return d(h)},rs.useFormState=function(d,h,f){return l.H.useFormState(d,h,f)},rs.useFormStatus=function(){return l.H.useHostTransitionStatus()},rs.version="19.2.0",rs}var k6;function B8(){if(k6)return J2.exports;k6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),J2.exports=AB(),J2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I6;function EB(){if(I6)return Sg;I6=1;var t=SB(),e=vp(),r=B8();function n(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function a(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function l(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function c(o){if(o.tag===31){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function d(o){if(a(o)!==o)throw Error(n(188))}function h(o){var u=o.alternate;if(!u){if(u=a(o),u===null)throw Error(n(188));return u!==o?null:o}for(var m=o,y=u;;){var S=m.return;if(S===null)break;var T=S.alternate;if(T===null){if(y=S.return,y!==null){m=y;continue}break}if(S.child===T.child){for(T=S.child;T;){if(T===m)return d(S),o;if(T===y)return d(S),u;T=T.sibling}throw Error(n(188))}if(m.return!==y.return)m=S,y=T;else{for(var K=!1,ue=S.child;ue;){if(ue===m){K=!0,m=S,y=T;break}if(ue===y){K=!0,y=S,m=T;break}ue=ue.sibling}if(!K){for(ue=T.child;ue;){if(ue===m){K=!0,m=T,y=S;break}if(ue===y){K=!0,y=T,m=S;break}ue=ue.sibling}if(!K)throw Error(n(189))}}if(m.alternate!==y)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:u}function f(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=f(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,x=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function I(o){return o===null||typeof o!="object"?null:(o=L&&o[L]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function k(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case v:return"Fragment";case j:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case X:return"SuspenseList";case D:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case C:return o.displayName||"Context";case E:return(o._context.displayName||"Context")+".Consumer";case z:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case U:return u=o.displayName||null,u!==null?u:k(o.type)||"Memo";case M:u=o._payload,o=o._init;try{return k(o(u))}catch{}}return null}var re=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},oe=[],pe=-1;function H(o){return{current:o}}function R(o){0>pe||(o.current=oe[pe],oe[pe]=null,pe--)}function J(o,u){pe++,oe[pe]=o.current,o.current=u}var ee=H(null),ae=H(null),be=H(null),je=H(null);function de(o,u){switch(J(be,u),J(ae,o),J(ee,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?W3(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=W3(u),o=G3(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}R(ee),J(ee,o)}function ge(){R(ee),R(ae),R(be)}function Ie(o){o.memoizedState!==null&&J(je,o);var u=ee.current,m=G3(u,o.type);u!==m&&(J(ae,o),J(ee,m))}function Ve(o){ae.current===o&&(R(ee),R(ae)),je.current===o&&(R(je),bg._currentValue=se)}var Re,mt;function $(o){if(Re===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);Re=u&&u[1]||"",mt=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Re+o+mt}var ie=!1;function Pe(o,u){if(!o||ie)return"";ie=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(u){var ut=function(){throw Error()};if(Object.defineProperty(ut.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ut,[])}catch(Ze){var Ke=Ze}Reflect.construct(o,[],ut)}else{try{ut.call()}catch(Ze){Ke=Ze}o.call(ut.prototype)}}else{try{throw Error()}catch(Ze){Ke=Ze}(ut=o())&&typeof ut.catch=="function"&&ut.catch(function(){})}}catch(Ze){if(Ze&&Ke&&typeof Ze.stack=="string")return[Ze.stack,Ke.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=y.DetermineComponentFrameRoot(),K=T[0],ue=T[1];if(K&&ue){var Ae=K.split(`
`),Ge=ue.split(`
`);for(S=y=0;y<Ae.length&&!Ae[y].includes("DetermineComponentFrameRoot");)y++;for(;S<Ge.length&&!Ge[S].includes("DetermineComponentFrameRoot");)S++;if(y===Ae.length||S===Ge.length)for(y=Ae.length-1,S=Ge.length-1;1<=y&&0<=S&&Ae[y]!==Ge[S];)S--;for(;1<=y&&0<=S;y--,S--)if(Ae[y]!==Ge[S]){if(y!==1||S!==1)do if(y--,S--,0>S||Ae[y]!==Ge[S]){var it=`
`+Ae[y].replace(" at new "," at ");return o.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",o.displayName)),it}while(1<=y&&0<=S);break}}}finally{ie=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?$(m):""}function xe(o,u){switch(o.tag){case 26:case 27:case 5:return $(o.type);case 16:return $("Lazy");case 13:return o.child!==u&&u!==null?$("Suspense Fallback"):$("Suspense");case 19:return $("SuspenseList");case 0:case 15:return Pe(o.type,!1);case 11:return Pe(o.type.render,!1);case 1:return Pe(o.type,!0);case 31:return $("Activity");default:return""}}function he(o){try{var u="",m=null;do u+=xe(o,m),m=o,o=o.return;while(o);return u}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var ve=Object.prototype.hasOwnProperty,ze=t.unstable_scheduleCallback,De=t.unstable_cancelCallback,Ce=t.unstable_shouldYield,Ye=t.unstable_requestPaint,ot=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,ct=t.unstable_ImmediatePriority,Tt=t.unstable_UserBlockingPriority,bt=t.unstable_NormalPriority,Se=t.unstable_LowPriority,Le=t.unstable_IdlePriority,Xe=t.log,xt=t.unstable_setDisableYieldValue,ht=null,ft=null;function Ct(o){if(typeof Xe=="function"&&xt(o),ft&&typeof ft.setStrictMode=="function")try{ft.setStrictMode(ht,o)}catch{}}var Bt=Math.clz32?Math.clz32:er,$t=Math.log,ur=Math.LN2;function er(o){return o>>>=0,o===0?32:31-($t(o)/ur|0)|0}var Je=256,vt=262144,At=4194304;function Nt(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function sr(o,u,m){var y=o.pendingLanes;if(y===0)return 0;var S=0,T=o.suspendedLanes,K=o.pingedLanes;o=o.warmLanes;var ue=y&134217727;return ue!==0?(y=ue&~T,y!==0?S=Nt(y):(K&=ue,K!==0?S=Nt(K):m||(m=ue&~o,m!==0&&(S=Nt(m))))):(ue=y&~T,ue!==0?S=Nt(ue):K!==0?S=Nt(K):m||(m=y&~o,m!==0&&(S=Nt(m)))),S===0?0:u!==0&&u!==S&&(u&T)===0&&(T=S&-S,m=u&-u,T>=m||T===32&&(m&4194048)!==0)?u:S}function yi(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Wn(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function na(){var o=At;return At<<=1,(At&62914560)===0&&(At=4194304),o}function Gn(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function Wt(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function xo(o,u,m,y,S,T){var K=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var ue=o.entanglements,Ae=o.expirationTimes,Ge=o.hiddenUpdates;for(m=K&~m;0<m;){var it=31-Bt(m),ut=1<<it;ue[it]=0,Ae[it]=-1;var Ke=Ge[it];if(Ke!==null)for(Ge[it]=null,it=0;it<Ke.length;it++){var Ze=Ke[it];Ze!==null&&(Ze.lane&=-536870913)}m&=~ut}y!==0&&Ea(o,y,0),T!==0&&S===0&&o.tag!==0&&(o.suspendedLanes|=T&~(K&~u))}function Ea(o,u,m){o.pendingLanes|=u,o.suspendedLanes&=~u;var y=31-Bt(u);o.entangledLanes|=u,o.entanglements[y]=o.entanglements[y]|1073741824|m&261930}function ia(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var y=31-Bt(m),S=1<<y;S&u|o[y]&u&&(o[y]|=u),m&=~S}}function aa(o,u){var m=u&-u;return m=(m&42)!==0?1:Zr(m),(m&(o.suspendedLanes|u))!==0?0:m}function Zr(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function hn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function ai(){var o=Q.p;return o!==0?o:(o=window.event,o===void 0?32:g6(o.type))}function Fi(o,u){var m=Q.p;try{return Q.p=o,u()}finally{Q.p=m}}var Ei=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Ei,rn="__reactProps$"+Ei,si="__reactContainer$"+Ei,sa="__reactEvents$"+Ei,Xa="__reactListeners$"+Ei,Yo="__reactHandles$"+Ei,gs="__reactResources$"+Ei,oa="__reactMarker$"+Ei;function vo(o){delete o[Vr],delete o[rn],delete o[sa],delete o[Xa],delete o[Yo]}function Ta(o){var u=o[Vr];if(u)return u;for(var m=o.parentNode;m;){if(u=m[si]||m[Vr]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=e6(o);o!==null;){if(m=o[Vr])return m;o=e6(o)}return u}o=m,m=o.parentNode}return null}function Ui(o){if(o=o[Vr]||o[si]){var u=o.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return o}return null}function Ca(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(n(33))}function Za(o){var u=o[gs];return u||(u=o[gs]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function En(o){o[oa]=!0}var mc=new Set,la={};function Qa(o,u){ys(o,u),ys(o+"Capture",u)}function ys(o,u){for(la[o]=u,o=0;o<u.length;o++)mc.add(u[o])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pc={},gc={};function au(o){return ve.call(gc,o)?!0:ve.call(pc,o)?!1:kl.test(o)?gc[o]=!0:(pc[o]=!0,!1)}function bo(o,u,m){if(au(u))if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var y=u.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+m)}}function ka(o,u,m){if(m===null)o.removeAttribute(u);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+m)}}function yr(o,u,m,y){if(y===null)o.removeAttribute(m);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(u,m,""+y)}}function Yn(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function wo(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function xs(o,u,m){var y=Object.getOwnPropertyDescriptor(o.constructor.prototype,u);if(!o.hasOwnProperty(u)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var S=y.get,T=y.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return S.call(this)},set:function(K){m=""+K,T.call(this,K)}}),Object.defineProperty(o,u,{enumerable:y.enumerable}),{getValue:function(){return m},setValue:function(K){m=""+K},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Nr(o){if(!o._valueTracker){var u=wo(o)?"checked":"value";o._valueTracker=xs(o,u,""+o[u])}}function Bi(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),y="";return o&&(y=wo(o)?o.checked?"true":"false":o.value),o=y,o!==m?(u.setValue(o),!0):!1}function ca(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var nn=/[\n"\\]/g;function Ti(o){return o.replace(nn,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function yc(o,u,m,y,S,T,K,ue){o.name="",K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"?o.type=K:o.removeAttribute("type"),u!=null?K==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Yn(u)):o.value!==""+Yn(u)&&(o.value=""+Yn(u)):K!=="submit"&&K!=="reset"||o.removeAttribute("value"),u!=null?su(o,K,Yn(u)):m!=null?su(o,K,Yn(m)):y!=null&&o.removeAttribute("value"),S==null&&T!=null&&(o.defaultChecked=!!T),S!=null&&(o.checked=S&&typeof S!="function"&&typeof S!="symbol"),ue!=null&&typeof ue!="function"&&typeof ue!="symbol"&&typeof ue!="boolean"?o.name=""+Yn(ue):o.removeAttribute("name")}function gd(o,u,m,y,S,T,K,ue){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(o.type=T),u!=null||m!=null){if(!(T!=="submit"&&T!=="reset"||u!=null)){Nr(o);return}m=m!=null?""+Yn(m):"",u=u!=null?""+Yn(u):m,ue||u===o.value||(o.value=u),o.defaultValue=u}y=y??S,y=typeof y!="function"&&typeof y!="symbol"&&!!y,o.checked=ue?o.checked:!!y,o.defaultChecked=!!y,K!=null&&typeof K!="function"&&typeof K!="symbol"&&typeof K!="boolean"&&(o.name=K),Nr(o)}function su(o,u,m){u==="number"&&ca(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function Vi(o,u,m,y){if(o=o.options,u){u={};for(var S=0;S<m.length;S++)u["$"+m[S]]=!0;for(m=0;m<o.length;m++)S=u.hasOwnProperty("$"+o[m].value),o[m].selected!==S&&(o[m].selected=S),S&&y&&(o[m].defaultSelected=!0)}else{for(m=""+Yn(m),u=null,S=0;S<o.length;S++){if(o[S].value===m){o[S].selected=!0,y&&(o[S].defaultSelected=!0);return}u!==null||o[S].disabled||(u=o[S])}u!==null&&(u.selected=!0)}}function ou(o,u,m){if(u!=null&&(u=""+Yn(u),u!==o.value&&(o.value=u),m==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=m!=null?""+Yn(m):""}function _o(o,u,m,y){if(u==null){if(y!=null){if(m!=null)throw Error(n(92));if(re(y)){if(1<y.length)throw Error(n(93));y=y[0]}m=y}m==null&&(m=""),u=m}m=Yn(u),o.defaultValue=m,y=o.textContent,y===m&&y!==""&&y!==null&&(o.value=y),Nr(o)}function Kn(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var xc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lu(o,u,m){var y=u.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?y?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":y?o.setProperty(u,m):typeof m!="number"||m===0||xc.has(u)?u==="float"?o.cssFloat=m:o[u]=(""+m).trim():o[u]=m+"px"}function cu(o,u,m){if(u!=null&&typeof u!="object")throw Error(n(62));if(o=o.style,m!=null){for(var y in m)!m.hasOwnProperty(y)||u!=null&&u.hasOwnProperty(y)||(y.indexOf("--")===0?o.setProperty(y,""):y==="float"?o.cssFloat="":o[y]="");for(var S in u)y=u[S],u.hasOwnProperty(S)&&m[S]!==y&&lu(o,S,y)}else for(var T in u)u.hasOwnProperty(T)&&lu(o,T,u[T])}function vc(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ja=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vs(o){return Ja.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function bs(){}var No=null;function ua(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Jt=null,Us=null;function Il(o){var u=Ui(o);if(u&&(o=u.stateNode)){var m=o[rn]||null;e:switch(o=u.stateNode,u.type){case"input":if(yc(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Ti(""+u)+'"][type="radio"]'),u=0;u<m.length;u++){var y=m[u];if(y!==o&&y.form===o.form){var S=y[rn]||null;if(!S)throw Error(n(90));yc(y,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<m.length;u++)y=m[u],y.form===o.form&&Bi(y)}break e;case"textarea":ou(o,m.value,m.defaultValue);break e;case"select":u=m.value,u!=null&&Vi(o,!!m.multiple,u,!1)}}}var wc=!1;function Ko(o,u,m){if(wc)return o(u,m);wc=!0;try{var y=o(u);return y}finally{if(wc=!1,(Jt!==null||Us!==null)&&(Fy(),Jt&&(u=Jt,o=Us,Us=Jt=null,Il(u),o)))for(u=0;u<o.length;u++)Il(o[u])}}function xi(o,u){var m=o.stateNode;if(m===null)return null;var y=m[rn]||null;if(y===null)return null;m=y[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(o=o.type,y=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!y;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=!1;if(oi)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{Pl=!1}var Ia=null,Rl=null,ws=null;function Xo(){if(ws)return ws;var o,u=Rl,m=u.length,y,S="value"in Ia?Ia.value:Ia.textContent,T=S.length;for(o=0;o<m&&u[o]===S[o];o++);var K=m-o;for(y=1;y<=K&&u[m-y]===S[T-y];y++);return ws=S.slice(o,1<y?1-y:void 0)}function Bs(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function jo(){return!0}function Pa(){return!1}function Xn(o){function u(m,y,S,T,K){this._reactName=m,this._targetInst=S,this.type=y,this.nativeEvent=T,this.target=K,this.currentTarget=null;for(var ue in o)o.hasOwnProperty(ue)&&(m=o[ue],this[ue]=m?m(T):T[ue]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?jo:Pa,this.isPropagationStopped=Pa,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=jo)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=jo)},persist:function(){},isPersistent:jo}),u}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},da=Xn(Ra),Vs=p({},Ra,{view:0,detail:0}),Zo=Xn(Vs),qs,$s,_s,Ol=p({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kt,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==_s&&(_s&&o.type==="mousemove"?(qs=o.screenX-_s.screenX,$s=o.screenY-_s.screenY):$s=qs=0,_s=o),qs)},movementY:function(o){return"movementY"in o?o.movementY:$s}}),Ns=Xn(Ol),Oa=p({},Ol,{dataTransfer:0}),uu=Xn(Oa),du=p({},Vs,{relatedTarget:0}),js=Xn(du),_c=p({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),O=Xn(_c),te=p({},Ra,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),_e=Xn(te),Ee=p({},Ra,{data:0}),Me=Xn(Ee),nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=Rt[o])?!!u[o]:!1}function Kt(){return zt}var Ht=p({},Vs,{key:function(o){if(o.key){var u=nt[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Bs(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?gt[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kt,charCode:function(o){return o.type==="keypress"?Bs(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Bs(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Er=Xn(Ht),fn=p({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qr=Xn(fn),N=p({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kt}),q=Xn(N),Z=p({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),me=Xn(Z),Ue=p({},Ol,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),We=Xn(Ue),wt=p({},Ra,{newState:0,oldState:0}),ir=Xn(wt),an=[9,13,27,32],vr=oi&&"CompositionEvent"in window,$r=null;oi&&"documentMode"in document&&($r=document.documentMode);var Ci=oi&&"TextEvent"in window&&!$r,ha=oi&&(!vr||$r&&8<$r&&11>=$r),mn=" ",qi=!1;function Ss(o,u){switch(o){case"keyup":return an.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Jo=!1;function zn(o,u){switch(o){case"compositionend":return Qo(u);case"keypress":return u.which!==32?null:(qi=!0,mn);case"textInput":return o=u.data,o===mn&&qi?null:o;default:return null}}function Dl(o,u){if(Jo)return o==="compositionend"||!vr&&Ss(o,u)?(o=Xo(),ws=Rl=Ia=null,Jo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return ha&&u.locale!=="ko"?null:u.data;default:return null}}var yd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!yd[o.type]:u==="textarea"}function As(o,u,m,y){Jt?Us?Us.push(y):Us=[y]:Jt=y,u=Wy(u,"onChange"),0<u.length&&(m=new da("onChange","change",null,m,y),o.push({event:m,listeners:u}))}var So=null,Ll=null;function kh(o){U3(o,0)}function Ao(o){var u=Ca(o);if(Bi(u))return o}function Nc(o,u){if(o==="change")return u}var es=!1;if(oi){var Da;if(oi){var el="oninput"in document;if(!el){var tl=document.createElement("div");tl.setAttribute("oninput","return;"),el=typeof tl.oninput=="function"}Da=el}else Da=!1;es=Da&&(!document.documentMode||9<document.documentMode)}function Ml(){So&&(So.detachEvent("onpropertychange",xd),Ll=So=null)}function xd(o){if(o.propertyName==="value"&&Ao(Ll)){var u=[];As(u,Ll,o,ua(o)),Ko(kh,u)}}function vd(o,u,m){o==="focusin"?(Ml(),So=u,Ll=m,So.attachEvent("onpropertychange",xd)):o==="focusout"&&Ml()}function Zn(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ao(Ll)}function Gf(o,u){if(o==="click")return Ao(u)}function rl(o,u){if(o==="input"||o==="change")return Ao(u)}function nl(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var $i=typeof Object.is=="function"?Object.is:nl;function zl(o,u){if($i(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),y=Object.keys(u);if(m.length!==y.length)return!1;for(y=0;y<m.length;y++){var S=m[y];if(!ve.call(u,S)||!$i(o[S],u[S]))return!1}return!0}function bd(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function wd(o,u){var m=bd(o);o=0;for(var y;m;){if(m.nodeType===3){if(y=o+m.textContent.length,o<=u&&y>=u)return{node:m,offset:u-o};o=y}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=bd(m)}}function Fl(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?Fl(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Ul(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=ca(o.document);u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=ca(o.document)}return u}function il(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var hu=oi&&"documentMode"in document&&11>=document.documentMode,Es=null,Bl=null,fa=null,Hs=!1;function Ur(o,u,m){var y=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Hs||Es==null||Es!==ca(y)||(y=Es,"selectionStart"in y&&il(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),fa&&zl(fa,y)||(fa=y,y=Wy(Bl,"onSelect"),0<y.length&&(u=new da("onSelect","select",null,u,m),o.push({event:u,listeners:y}),u.target=Es)))}function Rr(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var pn={animationend:Rr("Animation","AnimationEnd"),animationiteration:Rr("Animation","AnimationIteration"),animationstart:Rr("Animation","AnimationStart"),transitionrun:Rr("Transition","TransitionRun"),transitionstart:Rr("Transition","TransitionStart"),transitioncancel:Rr("Transition","TransitionCancel"),transitionend:Rr("Transition","TransitionEnd")},Qn={},al={};oi&&(al=document.createElement("div").style,"AnimationEvent"in window||(delete pn.animationend.animation,delete pn.animationiteration.animation,delete pn.animationstart.animation),"TransitionEvent"in window||delete pn.transitionend.transition);function Eo(o){if(Qn[o])return Qn[o];if(!pn[o])return o;var u=pn[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in al)return Qn[o]=u[m];return o}var fu=Eo("animationend"),Ih=Eo("animationiteration"),qp=Eo("animationstart"),py=Eo("transitionrun"),gy=Eo("transitionstart"),yy=Eo("transitioncancel"),$p=Eo("transitionend"),Hp=new Map,mu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mu.push("scrollEnd");function Ws(o,u){Hp.set(o,u),Qa(u,[o])}var Ph=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ts=[],pu=0,Yf=0;function Rh(){for(var o=pu,u=Yf=pu=0;u<o;){var m=Ts[u];Ts[u++]=null;var y=Ts[u];Ts[u++]=null;var S=Ts[u];Ts[u++]=null;var T=Ts[u];if(Ts[u++]=null,y!==null&&S!==null){var K=y.pending;K===null?S.next=S:(S.next=K.next,K.next=S),y.pending=S}T!==0&&Dh(m,S,T)}}function Oh(o,u,m,y){Ts[pu++]=o,Ts[pu++]=u,Ts[pu++]=m,Ts[pu++]=y,Yf|=y,o.lanes|=y,o=o.alternate,o!==null&&(o.lanes|=y)}function Kf(o,u,m,y){return Oh(o,u,m,y),ma(o)}function Vl(o,u){return Oh(o,null,null,u),ma(o)}function Dh(o,u,m){o.lanes|=m;var y=o.alternate;y!==null&&(y.lanes|=m);for(var S=!1,T=o.return;T!==null;)T.childLanes|=m,y=T.alternate,y!==null&&(y.childLanes|=m),T.tag===22&&(o=T.stateNode,o===null||o._visibility&1||(S=!0)),o=T,T=T.return;return o.tag===3?(T=o.stateNode,S&&u!==null&&(S=31-Bt(m),o=T.hiddenUpdates,y=o[S],y===null?o[S]=[u]:y.push(u),u.lane=m|536870912),T):null}function ma(o){if(50<fg)throw fg=0,x2=null,Error(n(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Hi={};function Xf(o,u,m,y){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(o,u,m,y){return new Xf(o,u,m,y)}function Zf(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Gs(o,u){var m=o.alternate;return m===null?(m=pa(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function Lh(o,u){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,u=m.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function _d(o,u,m,y,S,T){var K=0;if(y=o,typeof o=="function")Zf(o)&&(K=1);else if(typeof o=="string")K=oB(o,m,ee.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case D:return o=pa(31,m,u,S),o.elementType=D,o.lanes=T,o;case v:return jc(m.children,S,T,u);case _:K=8,S|=24;break;case j:return o=pa(12,m,u,S|2),o.elementType=j,o.lanes=T,o;case P:return o=pa(13,m,u,S),o.elementType=P,o.lanes=T,o;case X:return o=pa(19,m,u,S),o.elementType=X,o.lanes=T,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case C:K=10;break e;case E:K=9;break e;case z:K=11;break e;case U:K=14;break e;case M:K=16,y=null;break e}K=29,m=Error(n(130,o===null?"null":typeof o,"")),y=null}return u=pa(K,m,u,S),u.elementType=o,u.type=y,u.lanes=T,u}function jc(o,u,m,y){return o=pa(7,o,y,u),o.lanes=m,o}function Mh(o,u,m){return o=pa(6,o,null,u),o.lanes=m,o}function Qf(o){var u=pa(18,null,null,0);return u.stateNode=o,u}function Nd(o,u,m){return u=pa(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Jf=new WeakMap;function Ys(o,u){if(typeof o=="object"&&o!==null){var m=Jf.get(o);return m!==void 0?m:(u={value:o,source:u,stack:he(u)},Jf.set(o,u),u)}return{value:o,source:u,stack:he(u)}}var jd=[],gu=0,em=null,zh=0,Ks=[],Xs=0,Sc=null,Zs=1,Qs="";function Cs(o,u){jd[gu++]=zh,jd[gu++]=em,em=o,zh=u}function xy(o,u,m){Ks[Xs++]=Zs,Ks[Xs++]=Qs,Ks[Xs++]=Sc,Sc=o;var y=Zs;o=Qs;var S=32-Bt(y)-1;y&=~(1<<S),m+=1;var T=32-Bt(u)+S;if(30<T){var K=S-S%5;T=(y&(1<<K)-1).toString(32),y>>=K,S-=K,Zs=1<<32-Bt(u)+S|m<<S|y,Qs=T+o}else Zs=1<<T|m<<S|y,Qs=o}function Wp(o){o.return!==null&&(Cs(o,1),xy(o,1,0))}function tm(o){for(;o===em;)em=jd[--gu],jd[gu]=null,zh=jd[--gu],jd[gu]=null;for(;o===Sc;)Sc=Ks[--Xs],Ks[Xs]=null,Qs=Ks[--Xs],Ks[Xs]=null,Zs=Ks[--Xs],Ks[Xs]=null}function vy(o,u){Ks[Xs++]=Zs,Ks[Xs++]=Qs,Ks[Xs++]=Sc,Zs=u.id,Qs=u.overflow,Sc=o}var Wi=null,bn=null,jr=!1,La=null,Fn=!1,To=Error(n(519));function Ac(o){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sd(Ys(u,o)),To}function Gp(o){var u=o.stateNode,m=o.type,y=o.memoizedProps;switch(u[Vr]=o,u[rn]=y,m){case"dialog":Ar("cancel",u),Ar("close",u);break;case"iframe":case"object":case"embed":Ar("load",u);break;case"video":case"audio":for(m=0;m<pg.length;m++)Ar(pg[m],u);break;case"source":Ar("error",u);break;case"img":case"image":case"link":Ar("error",u),Ar("load",u);break;case"details":Ar("toggle",u);break;case"input":Ar("invalid",u),gd(u,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Ar("invalid",u);break;case"textarea":Ar("invalid",u),_o(u,y.value,y.defaultValue,y.children)}m=y.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||u.textContent===""+m||y.suppressHydrationWarning===!0||$3(u.textContent,m)?(y.popover!=null&&(Ar("beforetoggle",u),Ar("toggle",u)),y.onScroll!=null&&Ar("scroll",u),y.onScrollEnd!=null&&Ar("scrollend",u),y.onClick!=null&&(u.onclick=bs),u=!0):u=!1,u||Ac(o,!0)}function ql(o){for(Wi=o.return;Wi;)switch(Wi.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Wi=Wi.return}}function Gi(o){if(o!==Wi)return!1;if(!jr)return ql(o),jr=!0,!1;var u=o.tag,m;if((m=u!==3&&u!==27)&&((m=u===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||R2(o.type,o.memoizedProps)),m=!m),m&&bn&&Ac(o),ql(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));bn=J3(o)}else if(u===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));bn=J3(o)}else u===27?(u=bn,Fd(o.type)?(o=z2,z2=null,bn=o):bn=u):bn=Wi?cl(o.stateNode.nextSibling):null;return!0}function yu(){bn=Wi=null,jr=!1}function Yp(){var o=La;return o!==null&&(io===null?io=o:io.push.apply(io,o),La=null),o}function Sd(o){La===null?La=[o]:La.push(o)}var rm=H(null),Ec=null,sl=null;function Tc(o,u,m){J(rm,u._currentValue),u._currentValue=m}function Js(o){o._currentValue=rm.current,R(rm)}function Ad(o,u,m){for(;o!==null;){var y=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,y!==null&&(y.childLanes|=u)):y!==null&&(y.childLanes&u)!==u&&(y.childLanes|=u),o===m)break;o=o.return}}function xu(o,u,m,y){var S=o.child;for(S!==null&&(S.return=o);S!==null;){var T=S.dependencies;if(T!==null){var K=S.child;T=T.firstContext;e:for(;T!==null;){var ue=T;T=S;for(var Ae=0;Ae<u.length;Ae++)if(ue.context===u[Ae]){T.lanes|=m,ue=T.alternate,ue!==null&&(ue.lanes|=m),Ad(T.return,m,o),y||(K=null);break e}T=ue.next}}else if(S.tag===18){if(K=S.return,K===null)throw Error(n(341));K.lanes|=m,T=K.alternate,T!==null&&(T.lanes|=m),Ad(K,m,o),K=null}else K=S.child;if(K!==null)K.return=S;else for(K=S;K!==null;){if(K===o){K=null;break}if(S=K.sibling,S!==null){S.return=K.return,K=S;break}K=K.return}S=K}}function Cc(o,u,m,y){o=null;for(var S=u,T=!1;S!==null;){if(!T){if((S.flags&524288)!==0)T=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var K=S.alternate;if(K===null)throw Error(n(387));if(K=K.memoizedProps,K!==null){var ue=S.type;$i(S.pendingProps.value,K.value)||(o!==null?o.push(ue):o=[ue])}}else if(S===je.current){if(K=S.alternate,K===null)throw Error(n(387));K.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(o!==null?o.push(bg):o=[bg])}S=S.return}o!==null&&xu(u,o,m,y),u.flags|=262144}function nm(o){for(o=o.firstContext;o!==null;){if(!$i(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function kc(o){Ec=o,sl=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Yi(o){return by(Ec,o)}function im(o,u){return Ec===null&&kc(o),by(o,u)}function by(o,u){var m=u._currentValue;if(u={context:u,memoizedValue:m,next:null},sl===null){if(o===null)throw Error(n(308));sl=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else sl=sl.next=u;return m}var Mb=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(m,y){o.push(y)}};this.abort=function(){u.aborted=!0,o.forEach(function(m){return m()})}},zb=t.unstable_scheduleCallback,Fb=t.unstable_NormalPriority,Jn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ed(){return{controller:new Mb,data:new Map,refCount:0}}function Fh(o){o.refCount--,o.refCount===0&&zb(Fb,function(){o.controller.abort()})}var Uh=null,am=0,b=0,A=null;function F(o,u){if(Uh===null){var m=Uh=[];am=0,b=j2(),A={status:"pending",value:void 0,then:function(y){m.push(y)}}}return am++,u.then(W,W),u}function W(){if(--am===0&&Uh!==null){A!==null&&(A.status="fulfilled");var o=Uh;Uh=null,b=0,A=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function ne(o,u){var m=[],y={status:"pending",value:null,reason:null,then:function(S){m.push(S)}};return o.then(function(){y.status="fulfilled",y.value=u;for(var S=0;S<m.length;S++)(0,m[S])(u)},function(S){for(y.status="rejected",y.reason=S,S=0;S<m.length;S++)(0,m[S])(void 0)}),y}var le=Y.S;Y.S=function(o,u){m3=ot(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&F(o,u),le!==null&&le(o,u)};var ce=H(null);function fe(){var o=ce.current;return o!==null?o:_n.pooledCache}function ye(o,u){u===null?J(ce,ce.current):J(ce,u.pool)}function Ne(){var o=fe();return o===null?null:{parent:Jn._currentValue,pool:o}}var Te=Error(n(460)),$e=Error(n(474)),we=Error(n(542)),Oe={then:function(){}};function Be(o){return o=o.status,o==="fulfilled"||o==="rejected"}function tt(o,u,m){switch(m=o[m],m===void 0?o.push(u):m!==u&&(u.then(bs,bs),u=m),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,yt(o),o;default:if(typeof u.status=="string")u.then(bs,bs);else{if(o=_n,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=u,o.status="pending",o.then(function(y){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=y}},function(y){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=y}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,yt(o),o}throw et=u,Te}}function qe(o){try{var u=o._init;return u(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(et=m,Te):m}}var et=null;function at(){if(et===null)throw Error(n(459));var o=et;return et=null,o}function yt(o){if(o===Te||o===we)throw Error(n(483))}var dt=null,Ft=0;function kt(o){var u=Ft;return Ft+=1,dt===null&&(dt=[]),tt(dt,o,u)}function or(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function Dt(o,u){throw u.$$typeof===x?Error(n(525)):(o=Object.prototype.toString.call(u),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function _r(o){function u(Fe,ke){if(o){var He=Fe.deletions;He===null?(Fe.deletions=[ke],Fe.flags|=16):He.push(ke)}}function m(Fe,ke){if(!o)return null;for(;ke!==null;)u(Fe,ke),ke=ke.sibling;return null}function y(Fe){for(var ke=new Map;Fe!==null;)Fe.key!==null?ke.set(Fe.key,Fe):ke.set(Fe.index,Fe),Fe=Fe.sibling;return ke}function S(Fe,ke){return Fe=Gs(Fe,ke),Fe.index=0,Fe.sibling=null,Fe}function T(Fe,ke,He){return Fe.index=He,o?(He=Fe.alternate,He!==null?(He=He.index,He<ke?(Fe.flags|=67108866,ke):He):(Fe.flags|=67108866,ke)):(Fe.flags|=1048576,ke)}function K(Fe){return o&&Fe.alternate===null&&(Fe.flags|=67108866),Fe}function ue(Fe,ke,He,st){return ke===null||ke.tag!==6?(ke=Mh(He,Fe.mode,st),ke.return=Fe,ke):(ke=S(ke,He),ke.return=Fe,ke)}function Ae(Fe,ke,He,st){var Zt=He.type;return Zt===v?it(Fe,ke,He.props.children,st,He.key):ke!==null&&(ke.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===M&&qe(Zt)===ke.type)?(ke=S(ke,He.props),or(ke,He),ke.return=Fe,ke):(ke=_d(He.type,He.key,He.props,null,Fe.mode,st),or(ke,He),ke.return=Fe,ke)}function Ge(Fe,ke,He,st){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==He.containerInfo||ke.stateNode.implementation!==He.implementation?(ke=Nd(He,Fe.mode,st),ke.return=Fe,ke):(ke=S(ke,He.children||[]),ke.return=Fe,ke)}function it(Fe,ke,He,st,Zt){return ke===null||ke.tag!==7?(ke=jc(He,Fe.mode,st,Zt),ke.return=Fe,ke):(ke=S(ke,He),ke.return=Fe,ke)}function ut(Fe,ke,He){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=Mh(""+ke,Fe.mode,He),ke.return=Fe,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case g:return He=_d(ke.type,ke.key,ke.props,null,Fe.mode,He),or(He,ke),He.return=Fe,He;case w:return ke=Nd(ke,Fe.mode,He),ke.return=Fe,ke;case M:return ke=qe(ke),ut(Fe,ke,He)}if(re(ke)||I(ke))return ke=jc(ke,Fe.mode,He,null),ke.return=Fe,ke;if(typeof ke.then=="function")return ut(Fe,kt(ke),He);if(ke.$$typeof===C)return ut(Fe,im(Fe,ke),He);Dt(Fe,ke)}return null}function Ke(Fe,ke,He,st){var Zt=ke!==null?ke.key:null;if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return Zt!==null?null:ue(Fe,ke,""+He,st);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case g:return He.key===Zt?Ae(Fe,ke,He,st):null;case w:return He.key===Zt?Ge(Fe,ke,He,st):null;case M:return He=qe(He),Ke(Fe,ke,He,st)}if(re(He)||I(He))return Zt!==null?null:it(Fe,ke,He,st,null);if(typeof He.then=="function")return Ke(Fe,ke,kt(He),st);if(He.$$typeof===C)return Ke(Fe,ke,im(Fe,He),st);Dt(Fe,He)}return null}function Ze(Fe,ke,He,st,Zt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return Fe=Fe.get(He)||null,ue(ke,Fe,""+st,Zt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case g:return Fe=Fe.get(st.key===null?He:st.key)||null,Ae(ke,Fe,st,Zt);case w:return Fe=Fe.get(st.key===null?He:st.key)||null,Ge(ke,Fe,st,Zt);case M:return st=qe(st),Ze(Fe,ke,He,st,Zt)}if(re(st)||I(st))return Fe=Fe.get(He)||null,it(ke,Fe,st,Zt,null);if(typeof st.then=="function")return Ze(Fe,ke,He,kt(st),Zt);if(st.$$typeof===C)return Ze(Fe,ke,He,im(ke,st),Zt);Dt(ke,st)}return null}function Mt(Fe,ke,He,st){for(var Zt=null,Hr=null,qt=ke,xr=ke=0,Cr=null;qt!==null&&xr<He.length;xr++){qt.index>xr?(Cr=qt,qt=null):Cr=qt.sibling;var Wr=Ke(Fe,qt,He[xr],st);if(Wr===null){qt===null&&(qt=Cr);break}o&&qt&&Wr.alternate===null&&u(Fe,qt),ke=T(Wr,ke,xr),Hr===null?Zt=Wr:Hr.sibling=Wr,Hr=Wr,qt=Cr}if(xr===He.length)return m(Fe,qt),jr&&Cs(Fe,xr),Zt;if(qt===null){for(;xr<He.length;xr++)qt=ut(Fe,He[xr],st),qt!==null&&(ke=T(qt,ke,xr),Hr===null?Zt=qt:Hr.sibling=qt,Hr=qt);return jr&&Cs(Fe,xr),Zt}for(qt=y(qt);xr<He.length;xr++)Cr=Ze(qt,Fe,xr,He[xr],st),Cr!==null&&(o&&Cr.alternate!==null&&qt.delete(Cr.key===null?xr:Cr.key),ke=T(Cr,ke,xr),Hr===null?Zt=Cr:Hr.sibling=Cr,Hr=Cr);return o&&qt.forEach(function($d){return u(Fe,$d)}),jr&&Cs(Fe,xr),Zt}function nr(Fe,ke,He,st){if(He==null)throw Error(n(151));for(var Zt=null,Hr=null,qt=ke,xr=ke=0,Cr=null,Wr=He.next();qt!==null&&!Wr.done;xr++,Wr=He.next()){qt.index>xr?(Cr=qt,qt=null):Cr=qt.sibling;var $d=Ke(Fe,qt,Wr.value,st);if($d===null){qt===null&&(qt=Cr);break}o&&qt&&$d.alternate===null&&u(Fe,qt),ke=T($d,ke,xr),Hr===null?Zt=$d:Hr.sibling=$d,Hr=$d,qt=Cr}if(Wr.done)return m(Fe,qt),jr&&Cs(Fe,xr),Zt;if(qt===null){for(;!Wr.done;xr++,Wr=He.next())Wr=ut(Fe,Wr.value,st),Wr!==null&&(ke=T(Wr,ke,xr),Hr===null?Zt=Wr:Hr.sibling=Wr,Hr=Wr);return jr&&Cs(Fe,xr),Zt}for(qt=y(qt);!Wr.done;xr++,Wr=He.next())Wr=Ze(qt,Fe,xr,Wr.value,st),Wr!==null&&(o&&Wr.alternate!==null&&qt.delete(Wr.key===null?xr:Wr.key),ke=T(Wr,ke,xr),Hr===null?Zt=Wr:Hr.sibling=Wr,Hr=Wr);return o&&qt.forEach(function(xB){return u(Fe,xB)}),jr&&Cs(Fe,xr),Zt}function vn(Fe,ke,He,st){if(typeof He=="object"&&He!==null&&He.type===v&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case g:e:{for(var Zt=He.key;ke!==null;){if(ke.key===Zt){if(Zt=He.type,Zt===v){if(ke.tag===7){m(Fe,ke.sibling),st=S(ke,He.props.children),st.return=Fe,Fe=st;break e}}else if(ke.elementType===Zt||typeof Zt=="object"&&Zt!==null&&Zt.$$typeof===M&&qe(Zt)===ke.type){m(Fe,ke.sibling),st=S(ke,He.props),or(st,He),st.return=Fe,Fe=st;break e}m(Fe,ke);break}else u(Fe,ke);ke=ke.sibling}He.type===v?(st=jc(He.props.children,Fe.mode,st,He.key),st.return=Fe,Fe=st):(st=_d(He.type,He.key,He.props,null,Fe.mode,st),or(st,He),st.return=Fe,Fe=st)}return K(Fe);case w:e:{for(Zt=He.key;ke!==null;){if(ke.key===Zt)if(ke.tag===4&&ke.stateNode.containerInfo===He.containerInfo&&ke.stateNode.implementation===He.implementation){m(Fe,ke.sibling),st=S(ke,He.children||[]),st.return=Fe,Fe=st;break e}else{m(Fe,ke);break}else u(Fe,ke);ke=ke.sibling}st=Nd(He,Fe.mode,st),st.return=Fe,Fe=st}return K(Fe);case M:return He=qe(He),vn(Fe,ke,He,st)}if(re(He))return Mt(Fe,ke,He,st);if(I(He)){if(Zt=I(He),typeof Zt!="function")throw Error(n(150));return He=Zt.call(He),nr(Fe,ke,He,st)}if(typeof He.then=="function")return vn(Fe,ke,kt(He),st);if(He.$$typeof===C)return vn(Fe,ke,im(Fe,He),st);Dt(Fe,He)}return typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint"?(He=""+He,ke!==null&&ke.tag===6?(m(Fe,ke.sibling),st=S(ke,He),st.return=Fe,Fe=st):(m(Fe,ke),st=Mh(He,Fe.mode,st),st.return=Fe,Fe=st),K(Fe)):m(Fe,ke)}return function(Fe,ke,He,st){try{Ft=0;var Zt=vn(Fe,ke,He,st);return dt=null,Zt}catch(qt){if(qt===Te||qt===we)throw qt;var Hr=pa(29,qt,null,Fe.mode);return Hr.lanes=st,Hr.return=Fe,Hr}finally{}}}var wn=_r(!0),hr=_r(!1),It=!1;function _t(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tn(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function tr(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function gr(o,u,m){var y=o.updateQueue;if(y===null)return null;if(y=y.shared,(Xr&2)!==0){var S=y.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),y.pending=u,u=ma(o),Dh(o,null,m),u}return Oh(o,y,u,m),ma(o)}function Yr(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194048)!==0)){var y=u.lanes;y&=o.pendingLanes,m|=y,u.lanes=m,ia(o,m)}}function vi(o,u){var m=o.updateQueue,y=o.alternate;if(y!==null&&(y=y.updateQueue,m===y)){var S=null,T=null;if(m=m.firstBaseUpdate,m!==null){do{var K={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};T===null?S=T=K:T=T.next=K,m=m.next}while(m!==null);T===null?S=T=u:T=T.next=u}else S=T=u;m={baseState:y.baseState,firstBaseUpdate:S,lastBaseUpdate:T,shared:y.shared,callbacks:y.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}var Ki=!1;function gn(){if(Ki){var o=A;if(o!==null)throw o}}function li(o,u,m,y){Ki=!1;var S=o.updateQueue;It=!1;var T=S.firstBaseUpdate,K=S.lastBaseUpdate,ue=S.shared.pending;if(ue!==null){S.shared.pending=null;var Ae=ue,Ge=Ae.next;Ae.next=null,K===null?T=Ge:K.next=Ge,K=Ae;var it=o.alternate;it!==null&&(it=it.updateQueue,ue=it.lastBaseUpdate,ue!==K&&(ue===null?it.firstBaseUpdate=Ge:ue.next=Ge,it.lastBaseUpdate=Ae))}if(T!==null){var ut=S.baseState;K=0,it=Ge=Ae=null,ue=T;do{var Ke=ue.lane&-536870913,Ze=Ke!==ue.lane;if(Ze?(Tr&Ke)===Ke:(y&Ke)===Ke){Ke!==0&&Ke===b&&(Ki=!0),it!==null&&(it=it.next={lane:0,tag:ue.tag,payload:ue.payload,callback:null,next:null});e:{var Mt=o,nr=ue;Ke=u;var vn=m;switch(nr.tag){case 1:if(Mt=nr.payload,typeof Mt=="function"){ut=Mt.call(vn,ut,Ke);break e}ut=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=nr.payload,Ke=typeof Mt=="function"?Mt.call(vn,ut,Ke):Mt,Ke==null)break e;ut=p({},ut,Ke);break e;case 2:It=!0}}Ke=ue.callback,Ke!==null&&(o.flags|=64,Ze&&(o.flags|=8192),Ze=S.callbacks,Ze===null?S.callbacks=[Ke]:Ze.push(Ke))}else Ze={lane:Ke,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},it===null?(Ge=it=Ze,Ae=ut):it=it.next=Ze,K|=Ke;if(ue=ue.next,ue===null){if(ue=S.shared.pending,ue===null)break;Ze=ue,ue=Ze.next,Ze.next=null,S.lastBaseUpdate=Ze,S.shared.pending=null}}while(!0);it===null&&(Ae=ut),S.baseState=Ae,S.firstBaseUpdate=Ge,S.lastBaseUpdate=it,T===null&&(S.shared.lanes=0),Od|=K,o.lanes=K,o.memoizedState=ut}}function ga(o,u){if(typeof o!="function")throw Error(n(191,o));o.call(u)}function ci(o,u){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)ga(m[o],u)}var br=H(null),Dr=H(0);function Cn(o,u){o=Tu,J(Dr,o),J(br,u),Tu=o|u.baseLanes}function Br(){J(Dr,Tu),J(br,br.current)}function bi(){Tu=Dr.current,R(br),R(Dr)}var kn=H(null),Lr=null;function ei(o){var u=o.alternate;J(Or,Or.current&1),J(kn,o),Lr===null&&(u===null||br.current!==null||u.memoizedState!==null)&&(Lr=o)}function Kr(o){J(Or,Or.current),J(kn,o),Lr===null&&(Lr=o)}function ui(o){o.tag===22?(J(Or,Or.current),J(kn,o),Lr===null&&(Lr=o)):di()}function di(){J(Or,Or.current),J(kn,kn.current)}function sn(o){R(kn),Lr===o&&(Lr=null),R(Or)}var Or=H(0);function ya(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||L2(m)||M2(m)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Un=0,Yt=null,Xt=null,Mr=null,ts=!1,eo=!1,Ma=!1,hi=0,Ic=0,Pc=null,sm=0;function yn(){throw Error(n(321))}function Kp(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!$i(o[m],u[m]))return!1;return!0}function Xp(o,u,m,y,S,T){return Un=T,Yt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=o===null||o.memoizedState===null?S4:Gb,Ma=!1,T=m(y,S),Ma=!1,eo&&(T=$l(u,m,y,S)),om(o),T}function om(o){Y.H=ig;var u=Xt!==null&&Xt.next!==null;if(Un=0,Mr=Xt=Yt=null,ts=!1,Ic=0,Pc=null,u)throw Error(n(300));o===null||Ii||(o=o.dependencies,o!==null&&nm(o)&&(Ii=!0))}function $l(o,u,m,y){Yt=o;var S=0;do{if(eo&&(Pc=null),Ic=0,eo=!1,25<=S)throw Error(n(301));if(S+=1,Mr=Xt=null,o.updateQueue!=null){var T=o.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Y.H=A4,T=u(m,y)}while(eo);return T}function Ub(){var o=Y.H,u=o.useState()[0];return u=typeof u.then=="function"?Rc(u):u,o=o.useState()[0],(Xt!==null?Xt.memoizedState:null)!==o&&(Yt.flags|=1024),u}function Zp(){var o=hi!==0;return hi=0,o}function Qp(o,u,m){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~m}function lm(o){if(ts){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}ts=!1}Un=0,Mr=Xt=Yt=null,eo=!1,Ic=hi=0,Pc=null}function ki(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Yt.memoizedState=Mr=o:Mr=Mr.next=o,Mr}function Bn(){if(Xt===null){var o=Yt.alternate;o=o!==null?o.memoizedState:null}else o=Xt.next;var u=Mr===null?Yt.memoizedState:Mr.next;if(u!==null)Mr=u,Xt=o;else{if(o===null)throw Yt.alternate===null?Error(n(467)):Error(n(310));Xt=o,o={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Mr===null?Yt.memoizedState=Mr=o:Mr=Mr.next=o}return Mr}function Bh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(o){var u=Ic;return Ic+=1,Pc===null&&(Pc=[]),o=tt(Pc,o,u),u=Yt,(Mr===null?u.memoizedState:Mr.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?S4:Gb),o}function Td(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Rc(o);if(o.$$typeof===C)return Yi(o)}throw Error(n(438,String(o)))}function vu(o){var u=null,m=Yt.updateQueue;if(m!==null&&(u=m.memoCache),u==null){var y=Yt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(u={data:y.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),m===null&&(m=Bh(),Yt.updateQueue=m),m.memoCache=u,m=u.data[u.index],m===void 0)for(m=u.data[u.index]=Array(o),y=0;y<o;y++)m[y]=G;return u.index++,m}function ol(o,u){return typeof u=="function"?u(o):u}function cm(o){var u=Bn();return Cd(u,Xt,o)}function Cd(o,u,m){var y=o.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=m;var S=o.baseQueue,T=y.pending;if(T!==null){if(S!==null){var K=S.next;S.next=T.next,T.next=K}u.baseQueue=S=T,y.pending=null}if(T=o.baseState,S===null)o.memoizedState=T;else{u=S.next;var ue=K=null,Ae=null,Ge=u,it=!1;do{var ut=Ge.lane&-536870913;if(ut!==Ge.lane?(Tr&ut)===ut:(Un&ut)===ut){var Ke=Ge.revertLane;if(Ke===0)Ae!==null&&(Ae=Ae.next={lane:0,revertLane:0,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null}),ut===b&&(it=!0);else if((Un&Ke)===Ke){Ge=Ge.next,Ke===b&&(it=!0);continue}else ut={lane:0,revertLane:Ge.revertLane,gesture:null,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ae===null?(ue=Ae=ut,K=T):Ae=Ae.next=ut,Yt.lanes|=Ke,Od|=Ke;ut=Ge.action,Ma&&m(T,ut),T=Ge.hasEagerState?Ge.eagerState:m(T,ut)}else Ke={lane:ut,revertLane:Ge.revertLane,gesture:Ge.gesture,action:Ge.action,hasEagerState:Ge.hasEagerState,eagerState:Ge.eagerState,next:null},Ae===null?(ue=Ae=Ke,K=T):Ae=Ae.next=Ke,Yt.lanes|=ut,Od|=ut;Ge=Ge.next}while(Ge!==null&&Ge!==u);if(Ae===null?K=T:Ae.next=ue,!$i(T,o.memoizedState)&&(Ii=!0,it&&(m=A,m!==null)))throw m;o.memoizedState=T,o.baseState=K,o.baseQueue=Ae,y.lastRenderedState=T}return S===null&&(y.lanes=0),[o.memoizedState,y.dispatch]}function um(o){var u=Bn(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var y=m.dispatch,S=m.pending,T=u.memoizedState;if(S!==null){m.pending=null;var K=S=S.next;do T=o(T,K.action),K=K.next;while(K!==S);$i(T,u.memoizedState)||(Ii=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),m.lastRenderedState=T}return[T,y]}function dm(o,u,m){var y=Yt,S=Bn(),T=jr;if(T){if(m===void 0)throw Error(n(407));m=m()}else m=u();var K=!$i((Xt||S).memoizedState,m);if(K&&(S.memoizedState=m,Ii=!0),S=S.queue,Bb(eg.bind(null,y,S,o),[o]),S.getSnapshot!==u||K||Mr!==null&&Mr.memoizedState.tag&1){if(y.flags|=2048,wu(9,{destroy:void 0},Jp.bind(null,y,S,m,u),null),_n===null)throw Error(n(349));T||(Un&127)!==0||Hl(y,u,m)}return m}function Hl(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=Yt.updateQueue,u===null?(u=Bh(),Yt.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function Jp(o,u,m,y){u.value=m,u.getSnapshot=y,wy(u)&&tg(o)}function eg(o,u,m){return m(function(){wy(u)&&tg(o)})}function wy(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!$i(o,m)}catch{return!0}}function tg(o){var u=Vl(o,2);u!==null&&ao(u,o,2)}function Oc(o){var u=ki();if(typeof o=="function"){var m=o;if(o=m(),Ma){Ct(!0);try{m()}finally{Ct(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:o},u}function _y(o,u,m,y){return o.baseState=m,Cd(o,Xt,typeof y=="function"?y:ol)}function Ny(o,u,m,y,S){if(Ey(o))throw Error(n(485));if(o=u.action,o!==null){var T={payload:S,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(K){T.listeners.push(K)}};Y.T!==null?m(!0):T.isTransition=!1,y(T),m=u.pending,m===null?(T.next=u.pending=T,jy(u,T)):(T.next=m.next,u.pending=m.next=T)}}function jy(o,u){var m=u.action,y=u.payload,S=o.state;if(u.isTransition){var T=Y.T,K={};Y.T=K;try{var ue=m(S,y),Ae=Y.S;Ae!==null&&Ae(K,ue),rg(o,u,ue)}catch(Ge){bu(o,u,Ge)}finally{T!==null&&K.types!==null&&(T.types=K.types),Y.T=T}}else try{T=m(S,y),rg(o,u,T)}catch(Ge){bu(o,u,Ge)}}function rg(o,u,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(y){Sy(o,u,y)},function(y){return bu(o,u,y)}):Sy(o,u,m)}function Sy(o,u,m){u.status="fulfilled",u.value=m,hm(u),o.state=m,u=o.pending,u!==null&&(m=u.next,m===u?o.pending=null:(m=m.next,u.next=m,jy(o,m)))}function bu(o,u,m){var y=o.pending;if(o.pending=null,y!==null){y=y.next;do u.status="rejected",u.reason=m,hm(u),u=u.next;while(u!==y)}o.action=null}function hm(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function Vh(o,u){return u}function ll(o,u){if(jr){var m=_n.formState;if(m!==null){e:{var y=Yt;if(jr){if(bn){t:{for(var S=bn,T=Fn;S.nodeType!==8;){if(!T){S=null;break t}if(S=cl(S.nextSibling),S===null){S=null;break t}}T=S.data,S=T==="F!"||T==="F"?S:null}if(S){bn=cl(S.nextSibling),y=S.data==="F!";break e}}Ac(y)}y=!1}y&&(u=m[0])}}return m=ki(),m.memoizedState=m.baseState=u,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:u},m.queue=y,m=_4.bind(null,Yt,y),y.dispatch=m,y=Oc(!1),T=Wb.bind(null,Yt,!1,y.queue),y=ki(),S={state:u,dispatch:null,action:o,pending:null},y.queue=S,m=Ny.bind(null,Yt,S,T,m),S.dispatch=m,y.memoizedState=o,[u,m,!1]}function Wl(o){var u=Bn();return Gl(u,Xt,o)}function Gl(o,u,m){if(u=Cd(o,u,Vh)[0],o=cm(ol)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var y=Rc(u)}catch(K){throw K===Te?we:K}else y=u;u=Bn();var S=u.queue,T=S.dispatch;return m!==u.memoizedState&&(Yt.flags|=2048,wu(9,{destroy:void 0},fm.bind(null,S,m),null)),[y,T,o]}function fm(o,u){o.action=u}function mm(o){var u=Bn(),m=Xt;if(m!==null)return Gl(u,m,o);Bn(),u=u.memoizedState,m=Bn();var y=m.queue.dispatch;return m.memoizedState=o,[u,y,!1]}function wu(o,u,m,y){return o={tag:o,create:m,deps:y,inst:u,next:null},u=Yt.updateQueue,u===null&&(u=Bh(),Yt.updateQueue=u),m=u.lastEffect,m===null?u.lastEffect=o.next=o:(y=m.next,m.next=o,o.next=y,u.lastEffect=o),o}function Ay(){return Bn().memoizedState}function kd(o,u,m,y){var S=ki();Yt.flags|=o,S.memoizedState=wu(1|u,{destroy:void 0},m,y===void 0?null:y)}function Id(o,u,m,y){var S=Bn();y=y===void 0?null:y;var T=S.memoizedState.inst;Xt!==null&&y!==null&&Kp(y,Xt.memoizedState.deps)?S.memoizedState=wu(u,T,m,y):(Yt.flags|=o,S.memoizedState=wu(1|u,T,m,y))}function l4(o,u){kd(8390656,8,o,u)}function Bb(o,u){Id(2048,8,o,u)}function hU(o){Yt.flags|=4;var u=Yt.updateQueue;if(u===null)u=Bh(),Yt.updateQueue=u,u.events=[o];else{var m=u.events;m===null?u.events=[o]:m.push(o)}}function c4(o){var u=Bn().memoizedState;return hU({ref:u,nextImpl:o}),function(){if((Xr&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function u4(o,u){return Id(4,2,o,u)}function d4(o,u){return Id(4,4,o,u)}function h4(o,u){if(typeof u=="function"){o=o();var m=u(o);return function(){typeof m=="function"?m():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function f4(o,u,m){m=m!=null?m.concat([o]):null,Id(4,4,h4.bind(null,u,o),m)}function Vb(){}function m4(o,u){var m=Bn();u=u===void 0?null:u;var y=m.memoizedState;return u!==null&&Kp(u,y[1])?y[0]:(m.memoizedState=[o,u],o)}function p4(o,u){var m=Bn();u=u===void 0?null:u;var y=m.memoizedState;if(u!==null&&Kp(u,y[1]))return y[0];if(y=o(),Ma){Ct(!0);try{o()}finally{Ct(!1)}}return m.memoizedState=[y,u],y}function qb(o,u,m){return m===void 0||(Un&1073741824)!==0&&(Tr&261930)===0?o.memoizedState=u:(o.memoizedState=m,o=g3(),Yt.lanes|=o,Od|=o,m)}function g4(o,u,m,y){return $i(m,u)?m:br.current!==null?(o=qb(o,m,y),$i(o,u)||(Ii=!0),o):(Un&42)===0||(Un&1073741824)!==0&&(Tr&261930)===0?(Ii=!0,o.memoizedState=m):(o=g3(),Yt.lanes|=o,Od|=o,u)}function y4(o,u,m,y,S){var T=Q.p;Q.p=T!==0&&8>T?T:8;var K=Y.T,ue={};Y.T=ue,Wb(o,!1,u,m);try{var Ae=S(),Ge=Y.S;if(Ge!==null&&Ge(ue,Ae),Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var it=ne(Ae,y);ng(o,u,it,Io(o))}else ng(o,u,y,Io(o))}catch(ut){ng(o,u,{then:function(){},status:"rejected",reason:ut},Io())}finally{Q.p=T,K!==null&&ue.types!==null&&(K.types=ue.types),Y.T=K}}function fU(){}function $b(o,u,m,y){if(o.tag!==5)throw Error(n(476));var S=x4(o).queue;y4(o,S,u,se,m===null?fU:function(){return v4(o),m(y)})}function x4(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:se},next:null};var m={};return u.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ol,lastRenderedState:m},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function v4(o){var u=x4(o);u.next===null&&(u=o.alternate.memoizedState),ng(o,u.next.queue,{},Io())}function Hb(){return Yi(bg)}function b4(){return Bn().memoizedState}function w4(){return Bn().memoizedState}function mU(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var m=Io();o=tr(m);var y=gr(u,o,m);y!==null&&(ao(y,u,m),Yr(y,u,m)),u={cache:Ed()},o.payload=u;return}u=u.return}}function pU(o,u,m){var y=Io();m={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Ey(o)?N4(u,m):(m=Kf(o,u,m,y),m!==null&&(ao(m,o,y),j4(m,u,y)))}function _4(o,u,m){var y=Io();ng(o,u,m,y)}function ng(o,u,m,y){var S={lane:y,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ey(o))N4(u,S);else{var T=o.alternate;if(o.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var K=u.lastRenderedState,ue=T(K,m);if(S.hasEagerState=!0,S.eagerState=ue,$i(ue,K))return Oh(o,u,S,0),_n===null&&Rh(),!1}catch{}finally{}if(m=Kf(o,u,S,y),m!==null)return ao(m,o,y),j4(m,u,y),!0}return!1}function Wb(o,u,m,y){if(y={lane:2,revertLane:j2(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Ey(o)){if(u)throw Error(n(479))}else u=Kf(o,m,y,2),u!==null&&ao(u,o,2)}function Ey(o){var u=o.alternate;return o===Yt||u!==null&&u===Yt}function N4(o,u){eo=ts=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function j4(o,u,m){if((m&4194048)!==0){var y=u.lanes;y&=o.pendingLanes,m|=y,u.lanes=m,ia(o,m)}}var ig={readContext:Yi,use:Td,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useLayoutEffect:yn,useInsertionEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useSyncExternalStore:yn,useId:yn,useHostTransitionStatus:yn,useFormState:yn,useActionState:yn,useOptimistic:yn,useMemoCache:yn,useCacheRefresh:yn};ig.useEffectEvent=yn;var S4={readContext:Yi,use:Td,useCallback:function(o,u){return ki().memoizedState=[o,u===void 0?null:u],o},useContext:Yi,useEffect:l4,useImperativeHandle:function(o,u,m){m=m!=null?m.concat([o]):null,kd(4194308,4,h4.bind(null,u,o),m)},useLayoutEffect:function(o,u){return kd(4194308,4,o,u)},useInsertionEffect:function(o,u){kd(4,2,o,u)},useMemo:function(o,u){var m=ki();u=u===void 0?null:u;var y=o();if(Ma){Ct(!0);try{o()}finally{Ct(!1)}}return m.memoizedState=[y,u],y},useReducer:function(o,u,m){var y=ki();if(m!==void 0){var S=m(u);if(Ma){Ct(!0);try{m(u)}finally{Ct(!1)}}}else S=u;return y.memoizedState=y.baseState=S,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:S},y.queue=o,o=o.dispatch=pU.bind(null,Yt,o),[y.memoizedState,o]},useRef:function(o){var u=ki();return o={current:o},u.memoizedState=o},useState:function(o){o=Oc(o);var u=o.queue,m=_4.bind(null,Yt,u);return u.dispatch=m,[o.memoizedState,m]},useDebugValue:Vb,useDeferredValue:function(o,u){var m=ki();return qb(m,o,u)},useTransition:function(){var o=Oc(!1);return o=y4.bind(null,Yt,o.queue,!0,!1),ki().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,m){var y=Yt,S=ki();if(jr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),_n===null)throw Error(n(349));(Tr&127)!==0||Hl(y,u,m)}S.memoizedState=m;var T={value:m,getSnapshot:u};return S.queue=T,l4(eg.bind(null,y,T,o),[o]),y.flags|=2048,wu(9,{destroy:void 0},Jp.bind(null,y,T,m,u),null),m},useId:function(){var o=ki(),u=_n.identifierPrefix;if(jr){var m=Qs,y=Zs;m=(y&~(1<<32-Bt(y)-1)).toString(32)+m,u="_"+u+"R_"+m,m=hi++,0<m&&(u+="H"+m.toString(32)),u+="_"}else m=sm++,u="_"+u+"r_"+m.toString(32)+"_";return o.memoizedState=u},useHostTransitionStatus:Hb,useFormState:ll,useActionState:ll,useOptimistic:function(o){var u=ki();u.memoizedState=u.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=m,u=Wb.bind(null,Yt,!0,m),m.dispatch=u,[o,u]},useMemoCache:vu,useCacheRefresh:function(){return ki().memoizedState=mU.bind(null,Yt)},useEffectEvent:function(o){var u=ki(),m={impl:o};return u.memoizedState=m,function(){if((Xr&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},Gb={readContext:Yi,use:Td,useCallback:m4,useContext:Yi,useEffect:Bb,useImperativeHandle:f4,useInsertionEffect:u4,useLayoutEffect:d4,useMemo:p4,useReducer:cm,useRef:Ay,useState:function(){return cm(ol)},useDebugValue:Vb,useDeferredValue:function(o,u){var m=Bn();return g4(m,Xt.memoizedState,o,u)},useTransition:function(){var o=cm(ol)[0],u=Bn().memoizedState;return[typeof o=="boolean"?o:Rc(o),u]},useSyncExternalStore:dm,useId:b4,useHostTransitionStatus:Hb,useFormState:Wl,useActionState:Wl,useOptimistic:function(o,u){var m=Bn();return _y(m,Xt,o,u)},useMemoCache:vu,useCacheRefresh:w4};Gb.useEffectEvent=c4;var A4={readContext:Yi,use:Td,useCallback:m4,useContext:Yi,useEffect:Bb,useImperativeHandle:f4,useInsertionEffect:u4,useLayoutEffect:d4,useMemo:p4,useReducer:um,useRef:Ay,useState:function(){return um(ol)},useDebugValue:Vb,useDeferredValue:function(o,u){var m=Bn();return Xt===null?qb(m,o,u):g4(m,Xt.memoizedState,o,u)},useTransition:function(){var o=um(ol)[0],u=Bn().memoizedState;return[typeof o=="boolean"?o:Rc(o),u]},useSyncExternalStore:dm,useId:b4,useHostTransitionStatus:Hb,useFormState:mm,useActionState:mm,useOptimistic:function(o,u){var m=Bn();return Xt!==null?_y(m,Xt,o,u):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:vu,useCacheRefresh:w4};A4.useEffectEvent=c4;function Yb(o,u,m,y){u=o.memoizedState,m=m(y,u),m=m==null?u:p({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var Kb={enqueueSetState:function(o,u,m){o=o._reactInternals;var y=Io(),S=tr(y);S.payload=u,m!=null&&(S.callback=m),u=gr(o,S,y),u!==null&&(ao(u,o,y),Yr(u,o,y))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var y=Io(),S=tr(y);S.tag=1,S.payload=u,m!=null&&(S.callback=m),u=gr(o,S,y),u!==null&&(ao(u,o,y),Yr(u,o,y))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=Io(),y=tr(m);y.tag=2,u!=null&&(y.callback=u),u=gr(o,y,m),u!==null&&(ao(u,o,m),Yr(u,o,m))}};function E4(o,u,m,y,S,T,K){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(y,T,K):u.prototype&&u.prototype.isPureReactComponent?!zl(m,y)||!zl(S,T):!0}function T4(o,u,m,y){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,y),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,y),u.state!==o&&Kb.enqueueReplaceState(u,u.state,null)}function qh(o,u){var m=u;if("ref"in u){m={};for(var y in u)y!=="ref"&&(m[y]=u[y])}if(o=o.defaultProps){m===u&&(m=p({},m));for(var S in o)m[S]===void 0&&(m[S]=o[S])}return m}function C4(o){Ph(o)}function k4(o){console.error(o)}function I4(o){Ph(o)}function Ty(o,u){try{var m=o.onUncaughtError;m(u.value,{componentStack:u.stack})}catch(y){setTimeout(function(){throw y})}}function P4(o,u,m){try{var y=o.onCaughtError;y(m.value,{componentStack:m.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function Xb(o,u,m){return m=tr(m),m.tag=3,m.payload={element:null},m.callback=function(){Ty(o,u)},m}function R4(o){return o=tr(o),o.tag=3,o}function O4(o,u,m,y){var S=m.type.getDerivedStateFromError;if(typeof S=="function"){var T=y.value;o.payload=function(){return S(T)},o.callback=function(){P4(u,m,y)}}var K=m.stateNode;K!==null&&typeof K.componentDidCatch=="function"&&(o.callback=function(){P4(u,m,y),typeof S!="function"&&(Dd===null?Dd=new Set([this]):Dd.add(this));var ue=y.stack;this.componentDidCatch(y.value,{componentStack:ue!==null?ue:""})})}function gU(o,u,m,y,S){if(m.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(u=m.alternate,u!==null&&Cc(u,m,S,!0),m=kn.current,m!==null){switch(m.tag){case 31:case 13:return Lr===null?Uy():m.alternate===null&&fi===0&&(fi=3),m.flags&=-257,m.flags|=65536,m.lanes=S,y===Oe?m.flags|=16384:(u=m.updateQueue,u===null?m.updateQueue=new Set([y]):u.add(y),w2(o,y,S)),!1;case 22:return m.flags|=65536,y===Oe?m.flags|=16384:(u=m.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([y])},m.updateQueue=u):(m=u.retryQueue,m===null?u.retryQueue=new Set([y]):m.add(y)),w2(o,y,S)),!1}throw Error(n(435,m.tag))}return w2(o,y,S),Uy(),!1}if(jr)return u=kn.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,y!==To&&(o=Error(n(422),{cause:y}),Sd(Ys(o,m)))):(y!==To&&(u=Error(n(423),{cause:y}),Sd(Ys(u,m))),o=o.current.alternate,o.flags|=65536,S&=-S,o.lanes|=S,y=Ys(y,m),S=Xb(o.stateNode,y,S),vi(o,S),fi!==4&&(fi=2)),!1;var T=Error(n(520),{cause:y});if(T=Ys(T,m),hg===null?hg=[T]:hg.push(T),fi!==4&&(fi=2),u===null)return!0;y=Ys(y,m),m=u;do{switch(m.tag){case 3:return m.flags|=65536,o=S&-S,m.lanes|=o,o=Xb(m.stateNode,y,o),vi(m,o),!1;case 1:if(u=m.type,T=m.stateNode,(m.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(Dd===null||!Dd.has(T))))return m.flags|=65536,S&=-S,m.lanes|=S,S=R4(S),O4(S,o,m,y),vi(m,S),!1}m=m.return}while(m!==null);return!1}var Zb=Error(n(461)),Ii=!1;function za(o,u,m,y){u.child=o===null?hr(u,null,m,y):wn(u,o.child,m,y)}function D4(o,u,m,y,S){m=m.render;var T=u.ref;if("ref"in y){var K={};for(var ue in y)ue!=="ref"&&(K[ue]=y[ue])}else K=y;return kc(u),y=Xp(o,u,m,K,T,S),ue=Zp(),o!==null&&!Ii?(Qp(o,u,S),_u(o,u,S)):(jr&&ue&&Wp(u),u.flags|=1,za(o,u,y,S),u.child)}function L4(o,u,m,y,S){if(o===null){var T=m.type;return typeof T=="function"&&!Zf(T)&&T.defaultProps===void 0&&m.compare===null?(u.tag=15,u.type=T,M4(o,u,T,y,S)):(o=_d(m.type,null,y,u,u.mode,S),o.ref=u.ref,o.return=u,u.child=o)}if(T=o.child,!a2(o,S)){var K=T.memoizedProps;if(m=m.compare,m=m!==null?m:zl,m(K,y)&&o.ref===u.ref)return _u(o,u,S)}return u.flags|=1,o=Gs(T,y),o.ref=u.ref,o.return=u,u.child=o}function M4(o,u,m,y,S){if(o!==null){var T=o.memoizedProps;if(zl(T,y)&&o.ref===u.ref)if(Ii=!1,u.pendingProps=y=T,a2(o,S))(o.flags&131072)!==0&&(Ii=!0);else return u.lanes=o.lanes,_u(o,u,S)}return Qb(o,u,m,y,S)}function z4(o,u,m,y){var S=y.children,T=o!==null?o.memoizedState:null;if(o===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((u.flags&128)!==0){if(T=T!==null?T.baseLanes|m:m,o!==null){for(y=u.child=o.child,S=0;y!==null;)S=S|y.lanes|y.childLanes,y=y.sibling;y=S&~T}else y=0,u.child=null;return F4(o,u,T,m,y)}if((m&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&ye(u,T!==null?T.cachePool:null),T!==null?Cn(u,T):Br(),ui(u);else return y=u.lanes=536870912,F4(o,u,T!==null?T.baseLanes|m:m,m,y)}else T!==null?(ye(u,T.cachePool),Cn(u,T),di(),u.memoizedState=null):(o!==null&&ye(u,null),Br(),di());return za(o,u,S,m),u.child}function ag(o,u){return o!==null&&o.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function F4(o,u,m,y,S){var T=fe();return T=T===null?null:{parent:Jn._currentValue,pool:T},u.memoizedState={baseLanes:m,cachePool:T},o!==null&&ye(u,null),Br(),ui(u),o!==null&&Cc(o,u,y,!0),u.childLanes=S,null}function Cy(o,u){return u=Iy({mode:u.mode,children:u.children},o.mode),u.ref=o.ref,o.child=u,u.return=o,u}function U4(o,u,m){return wn(u,o.child,null,m),o=Cy(u,u.pendingProps),o.flags|=2,sn(u),u.memoizedState=null,o}function yU(o,u,m){var y=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,o===null){if(jr){if(y.mode==="hidden")return o=Cy(u,y),u.lanes=536870912,ag(null,o);if(Kr(u),(o=bn)?(o=Q3(o,Fn),o=o!==null&&o.data==="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Sc!==null?{id:Zs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},m=Qf(o),m.return=u,u.child=m,Wi=u,bn=null)):o=null,o===null)throw Ac(u);return u.lanes=536870912,null}return Cy(u,y)}var T=o.memoizedState;if(T!==null){var K=T.dehydrated;if(Kr(u),S)if(u.flags&256)u.flags&=-257,u=U4(o,u,m);else if(u.memoizedState!==null)u.child=o.child,u.flags|=128,u=null;else throw Error(n(558));else if(Ii||Cc(o,u,m,!1),S=(m&o.childLanes)!==0,Ii||S){if(y=_n,y!==null&&(K=aa(y,m),K!==0&&K!==T.retryLane))throw T.retryLane=K,Vl(o,K),ao(y,o,K),Zb;Uy(),u=U4(o,u,m)}else o=T.treeContext,bn=cl(K.nextSibling),Wi=u,jr=!0,La=null,Fn=!1,o!==null&&vy(u,o),u=Cy(u,y),u.flags|=4096;return u}return o=Gs(o.child,{mode:y.mode,children:y.children}),o.ref=u.ref,u.child=o,o.return=u,o}function ky(o,u){var m=u.ref;if(m===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(o===null||o.ref!==m)&&(u.flags|=4194816)}}function Qb(o,u,m,y,S){return kc(u),m=Xp(o,u,m,y,void 0,S),y=Zp(),o!==null&&!Ii?(Qp(o,u,S),_u(o,u,S)):(jr&&y&&Wp(u),u.flags|=1,za(o,u,m,S),u.child)}function B4(o,u,m,y,S,T){return kc(u),u.updateQueue=null,m=$l(u,y,m,S),om(o),y=Zp(),o!==null&&!Ii?(Qp(o,u,T),_u(o,u,T)):(jr&&y&&Wp(u),u.flags|=1,za(o,u,m,T),u.child)}function V4(o,u,m,y,S){if(kc(u),u.stateNode===null){var T=Hi,K=m.contextType;typeof K=="object"&&K!==null&&(T=Yi(K)),T=new m(y,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Kb,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=y,T.state=u.memoizedState,T.refs={},_t(u),K=m.contextType,T.context=typeof K=="object"&&K!==null?Yi(K):Hi,T.state=u.memoizedState,K=m.getDerivedStateFromProps,typeof K=="function"&&(Yb(u,m,K,y),T.state=u.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(K=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),K!==T.state&&Kb.enqueueReplaceState(T,T.state,null),li(u,y,T,S),gn(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),y=!0}else if(o===null){T=u.stateNode;var ue=u.memoizedProps,Ae=qh(m,ue);T.props=Ae;var Ge=T.context,it=m.contextType;K=Hi,typeof it=="object"&&it!==null&&(K=Yi(it));var ut=m.getDerivedStateFromProps;it=typeof ut=="function"||typeof T.getSnapshotBeforeUpdate=="function",ue=u.pendingProps!==ue,it||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(ue||Ge!==K)&&T4(u,T,y,K),It=!1;var Ke=u.memoizedState;T.state=Ke,li(u,y,T,S),gn(),Ge=u.memoizedState,ue||Ke!==Ge||It?(typeof ut=="function"&&(Yb(u,m,ut,y),Ge=u.memoizedState),(Ae=It||E4(u,m,Ae,y,Ke,Ge,K))?(it||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=y,u.memoizedState=Ge),T.props=y,T.state=Ge,T.context=K,y=Ae):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),y=!1)}else{T=u.stateNode,Tn(o,u),K=u.memoizedProps,it=qh(m,K),T.props=it,ut=u.pendingProps,Ke=T.context,Ge=m.contextType,Ae=Hi,typeof Ge=="object"&&Ge!==null&&(Ae=Yi(Ge)),ue=m.getDerivedStateFromProps,(Ge=typeof ue=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(K!==ut||Ke!==Ae)&&T4(u,T,y,Ae),It=!1,Ke=u.memoizedState,T.state=Ke,li(u,y,T,S),gn();var Ze=u.memoizedState;K!==ut||Ke!==Ze||It||o!==null&&o.dependencies!==null&&nm(o.dependencies)?(typeof ue=="function"&&(Yb(u,m,ue,y),Ze=u.memoizedState),(it=It||E4(u,m,it,y,Ke,Ze,Ae)||o!==null&&o.dependencies!==null&&nm(o.dependencies))?(Ge||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(y,Ze,Ae),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(y,Ze,Ae)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||K===o.memoizedProps&&Ke===o.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ke===o.memoizedState||(u.flags|=1024),u.memoizedProps=y,u.memoizedState=Ze),T.props=y,T.state=Ze,T.context=Ae,y=it):(typeof T.componentDidUpdate!="function"||K===o.memoizedProps&&Ke===o.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||K===o.memoizedProps&&Ke===o.memoizedState||(u.flags|=1024),y=!1)}return T=y,ky(o,u),y=(u.flags&128)!==0,T||y?(T=u.stateNode,m=y&&typeof m.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,o!==null&&y?(u.child=wn(u,o.child,null,S),u.child=wn(u,null,m,S)):za(o,u,m,S),u.memoizedState=T.state,o=u.child):o=_u(o,u,S),o}function q4(o,u,m,y){return yu(),u.flags|=256,za(o,u,m,y),u.child}var Jb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function e2(o){return{baseLanes:o,cachePool:Ne()}}function t2(o,u,m){return o=o!==null?o.childLanes&~m:0,u&&(o|=ko),o}function $4(o,u,m){var y=u.pendingProps,S=!1,T=(u.flags&128)!==0,K;if((K=T)||(K=o!==null&&o.memoizedState===null?!1:(Or.current&2)!==0),K&&(S=!0,u.flags&=-129),K=(u.flags&32)!==0,u.flags&=-33,o===null){if(jr){if(S?ei(u):di(),(o=bn)?(o=Q3(o,Fn),o=o!==null&&o.data!=="&"?o:null,o!==null&&(u.memoizedState={dehydrated:o,treeContext:Sc!==null?{id:Zs,overflow:Qs}:null,retryLane:536870912,hydrationErrors:null},m=Qf(o),m.return=u,u.child=m,Wi=u,bn=null)):o=null,o===null)throw Ac(u);return M2(o)?u.lanes=32:u.lanes=536870912,null}var ue=y.children;return y=y.fallback,S?(di(),S=u.mode,ue=Iy({mode:"hidden",children:ue},S),y=jc(y,S,m,null),ue.return=u,y.return=u,ue.sibling=y,u.child=ue,y=u.child,y.memoizedState=e2(m),y.childLanes=t2(o,K,m),u.memoizedState=Jb,ag(null,y)):(ei(u),r2(u,ue))}var Ae=o.memoizedState;if(Ae!==null&&(ue=Ae.dehydrated,ue!==null)){if(T)u.flags&256?(ei(u),u.flags&=-257,u=n2(o,u,m)):u.memoizedState!==null?(di(),u.child=o.child,u.flags|=128,u=null):(di(),ue=y.fallback,S=u.mode,y=Iy({mode:"visible",children:y.children},S),ue=jc(ue,S,m,null),ue.flags|=2,y.return=u,ue.return=u,y.sibling=ue,u.child=y,wn(u,o.child,null,m),y=u.child,y.memoizedState=e2(m),y.childLanes=t2(o,K,m),u.memoizedState=Jb,u=ag(null,y));else if(ei(u),M2(ue)){if(K=ue.nextSibling&&ue.nextSibling.dataset,K)var Ge=K.dgst;K=Ge,y=Error(n(419)),y.stack="",y.digest=K,Sd({value:y,source:null,stack:null}),u=n2(o,u,m)}else if(Ii||Cc(o,u,m,!1),K=(m&o.childLanes)!==0,Ii||K){if(K=_n,K!==null&&(y=aa(K,m),y!==0&&y!==Ae.retryLane))throw Ae.retryLane=y,Vl(o,y),ao(K,o,y),Zb;L2(ue)||Uy(),u=n2(o,u,m)}else L2(ue)?(u.flags|=192,u.child=o.child,u=null):(o=Ae.treeContext,bn=cl(ue.nextSibling),Wi=u,jr=!0,La=null,Fn=!1,o!==null&&vy(u,o),u=r2(u,y.children),u.flags|=4096);return u}return S?(di(),ue=y.fallback,S=u.mode,Ae=o.child,Ge=Ae.sibling,y=Gs(Ae,{mode:"hidden",children:y.children}),y.subtreeFlags=Ae.subtreeFlags&65011712,Ge!==null?ue=Gs(Ge,ue):(ue=jc(ue,S,m,null),ue.flags|=2),ue.return=u,y.return=u,y.sibling=ue,u.child=y,ag(null,y),y=u.child,ue=o.child.memoizedState,ue===null?ue=e2(m):(S=ue.cachePool,S!==null?(Ae=Jn._currentValue,S=S.parent!==Ae?{parent:Ae,pool:Ae}:S):S=Ne(),ue={baseLanes:ue.baseLanes|m,cachePool:S}),y.memoizedState=ue,y.childLanes=t2(o,K,m),u.memoizedState=Jb,ag(o.child,y)):(ei(u),m=o.child,o=m.sibling,m=Gs(m,{mode:"visible",children:y.children}),m.return=u,m.sibling=null,o!==null&&(K=u.deletions,K===null?(u.deletions=[o],u.flags|=16):K.push(o)),u.child=m,u.memoizedState=null,m)}function r2(o,u){return u=Iy({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function Iy(o,u){return o=pa(22,o,null,u),o.lanes=0,o}function n2(o,u,m){return wn(u,o.child,null,m),o=r2(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function H4(o,u,m){o.lanes|=u;var y=o.alternate;y!==null&&(y.lanes|=u),Ad(o.return,u,m)}function i2(o,u,m,y,S,T){var K=o.memoizedState;K===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:y,tail:m,tailMode:S,treeForkCount:T}:(K.isBackwards=u,K.rendering=null,K.renderingStartTime=0,K.last=y,K.tail=m,K.tailMode=S,K.treeForkCount=T)}function W4(o,u,m){var y=u.pendingProps,S=y.revealOrder,T=y.tail;y=y.children;var K=Or.current,ue=(K&2)!==0;if(ue?(K=K&1|2,u.flags|=128):K&=1,J(Or,K),za(o,u,y,m),y=jr?zh:0,!ue&&o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&H4(o,m,u);else if(o.tag===19)H4(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(S){case"forwards":for(m=u.child,S=null;m!==null;)o=m.alternate,o!==null&&ya(o)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),i2(u,!1,S,m,T,y);break;case"backwards":case"unstable_legacy-backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(o=S.alternate,o!==null&&ya(o)===null){u.child=S;break}o=S.sibling,S.sibling=m,m=S,S=o}i2(u,!0,m,null,T,y);break;case"together":i2(u,!1,null,null,void 0,y);break;default:u.memoizedState=null}return u.child}function _u(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),Od|=u.lanes,(m&u.childLanes)===0)if(o!==null){if(Cc(o,u,m,!1),(m&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(n(153));if(u.child!==null){for(o=u.child,m=Gs(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=Gs(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function a2(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&nm(o)))}function xU(o,u,m){switch(u.tag){case 3:de(u,u.stateNode.containerInfo),Tc(u,Jn,o.memoizedState.cache),yu();break;case 27:case 5:Ie(u);break;case 4:de(u,u.stateNode.containerInfo);break;case 10:Tc(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Kr(u),null;break;case 13:var y=u.memoizedState;if(y!==null)return y.dehydrated!==null?(ei(u),u.flags|=128,null):(m&u.child.childLanes)!==0?$4(o,u,m):(ei(u),o=_u(o,u,m),o!==null?o.sibling:null);ei(u);break;case 19:var S=(o.flags&128)!==0;if(y=(m&u.childLanes)!==0,y||(Cc(o,u,m,!1),y=(m&u.childLanes)!==0),S){if(y)return W4(o,u,m);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),J(Or,Or.current),y)break;return null;case 22:return u.lanes=0,z4(o,u,m,u.pendingProps);case 24:Tc(u,Jn,o.memoizedState.cache)}return _u(o,u,m)}function G4(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps)Ii=!0;else{if(!a2(o,m)&&(u.flags&128)===0)return Ii=!1,xU(o,u,m);Ii=(o.flags&131072)!==0}else Ii=!1,jr&&(u.flags&1048576)!==0&&xy(u,zh,u.index);switch(u.lanes=0,u.tag){case 16:e:{var y=u.pendingProps;if(o=qe(u.elementType),u.type=o,typeof o=="function")Zf(o)?(y=qh(o,y),u.tag=1,u=V4(null,u,o,y,m)):(u.tag=0,u=Qb(null,u,o,y,m));else{if(o!=null){var S=o.$$typeof;if(S===z){u.tag=11,u=D4(null,u,o,y,m);break e}else if(S===U){u.tag=14,u=L4(null,u,o,y,m);break e}}throw u=k(o)||o,Error(n(306,u,""))}}return u;case 0:return Qb(o,u,u.type,u.pendingProps,m);case 1:return y=u.type,S=qh(y,u.pendingProps),V4(o,u,y,S,m);case 3:e:{if(de(u,u.stateNode.containerInfo),o===null)throw Error(n(387));y=u.pendingProps;var T=u.memoizedState;S=T.element,Tn(o,u),li(u,y,null,m);var K=u.memoizedState;if(y=K.cache,Tc(u,Jn,y),y!==T.cache&&xu(u,[Jn],m,!0),gn(),y=K.element,T.isDehydrated)if(T={element:y,isDehydrated:!1,cache:K.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=q4(o,u,y,m);break e}else if(y!==S){S=Ys(Error(n(424)),u),Sd(S),u=q4(o,u,y,m);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(bn=cl(o.firstChild),Wi=u,jr=!0,La=null,Fn=!0,m=hr(u,null,y,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(yu(),y===S){u=_u(o,u,m);break e}za(o,u,y,m)}u=u.child}return u;case 26:return ky(o,u),o===null?(m=i6(u.type,null,u.pendingProps,null))?u.memoizedState=m:jr||(m=u.type,o=u.pendingProps,y=Gy(be.current).createElement(m),y[Vr]=u,y[rn]=o,Fa(y,m,o),En(y),u.stateNode=y):u.memoizedState=i6(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Ie(u),o===null&&jr&&(y=u.stateNode=t6(u.type,u.pendingProps,be.current),Wi=u,Fn=!0,S=bn,Fd(u.type)?(z2=S,bn=cl(y.firstChild)):bn=S),za(o,u,u.pendingProps.children,m),ky(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&jr&&((S=y=bn)&&(y=YU(y,u.type,u.pendingProps,Fn),y!==null?(u.stateNode=y,Wi=u,bn=cl(y.firstChild),Fn=!1,S=!0):S=!1),S||Ac(u)),Ie(u),S=u.type,T=u.pendingProps,K=o!==null?o.memoizedProps:null,y=T.children,R2(S,T)?y=null:K!==null&&R2(S,K)&&(u.flags|=32),u.memoizedState!==null&&(S=Xp(o,u,Ub,null,null,m),bg._currentValue=S),ky(o,u),za(o,u,y,m),u.child;case 6:return o===null&&jr&&((o=m=bn)&&(m=KU(m,u.pendingProps,Fn),m!==null?(u.stateNode=m,Wi=u,bn=null,o=!0):o=!1),o||Ac(u)),null;case 13:return $4(o,u,m);case 4:return de(u,u.stateNode.containerInfo),y=u.pendingProps,o===null?u.child=wn(u,null,y,m):za(o,u,y,m),u.child;case 11:return D4(o,u,u.type,u.pendingProps,m);case 7:return za(o,u,u.pendingProps,m),u.child;case 8:return za(o,u,u.pendingProps.children,m),u.child;case 12:return za(o,u,u.pendingProps.children,m),u.child;case 10:return y=u.pendingProps,Tc(u,u.type,y.value),za(o,u,y.children,m),u.child;case 9:return S=u.type._context,y=u.pendingProps.children,kc(u),S=Yi(S),y=y(S),u.flags|=1,za(o,u,y,m),u.child;case 14:return L4(o,u,u.type,u.pendingProps,m);case 15:return M4(o,u,u.type,u.pendingProps,m);case 19:return W4(o,u,m);case 31:return yU(o,u,m);case 22:return z4(o,u,m,u.pendingProps);case 24:return kc(u),y=Yi(Jn),o===null?(S=fe(),S===null&&(S=_n,T=Ed(),S.pooledCache=T,T.refCount++,T!==null&&(S.pooledCacheLanes|=m),S=T),u.memoizedState={parent:y,cache:S},_t(u),Tc(u,Jn,S)):((o.lanes&m)!==0&&(Tn(o,u),li(u,null,null,m),gn()),S=o.memoizedState,T=u.memoizedState,S.parent!==y?(S={parent:y,cache:y},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),Tc(u,Jn,y)):(y=T.cache,Tc(u,Jn,y),y!==S.cache&&xu(u,[Jn],m,!0))),za(o,u,u.pendingProps.children,m),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function Nu(o){o.flags|=4}function s2(o,u,m,y,S){if((u=(o.mode&32)!==0)&&(u=!1),u){if(o.flags|=16777216,(S&335544128)===S)if(o.stateNode.complete)o.flags|=8192;else if(b3())o.flags|=8192;else throw et=Oe,$e}else o.flags&=-16777217}function Y4(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!c6(u))if(b3())o.flags|=8192;else throw et=Oe,$e}function Py(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?na():536870912,o.lanes|=u,xm|=u)}function sg(o,u){if(!jr)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var y=null;m!==null;)m.alternate!==null&&(y=m),m=m.sibling;y===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:y.sibling=null}}function In(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,y=0;if(u)for(var S=o.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags&65011712,y|=S.flags&65011712,S.return=o,S=S.sibling;else for(S=o.child;S!==null;)m|=S.lanes|S.childLanes,y|=S.subtreeFlags,y|=S.flags,S.return=o,S=S.sibling;return o.subtreeFlags|=y,o.childLanes=m,u}function vU(o,u,m){var y=u.pendingProps;switch(tm(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return In(u),null;case 1:return In(u),null;case 3:return m=u.stateNode,y=null,o!==null&&(y=o.memoizedState.cache),u.memoizedState.cache!==y&&(u.flags|=2048),Js(Jn),ge(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Gi(u)?Nu(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Yp())),In(u),null;case 26:var S=u.type,T=u.memoizedState;return o===null?(Nu(u),T!==null?(In(u),Y4(u,T)):(In(u),s2(u,S,null,y,m))):T?T!==o.memoizedState?(Nu(u),In(u),Y4(u,T)):(In(u),u.flags&=-16777217):(o=o.memoizedProps,o!==y&&Nu(u),In(u),s2(u,S,o,y,m)),null;case 27:if(Ve(u),m=be.current,S=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&Nu(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return In(u),null}o=ee.current,Gi(u)?Gp(u):(o=t6(S,y,m),u.stateNode=o,Nu(u))}return In(u),null;case 5:if(Ve(u),S=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==y&&Nu(u);else{if(!y){if(u.stateNode===null)throw Error(n(166));return In(u),null}if(T=ee.current,Gi(u))Gp(u);else{var K=Gy(be.current);switch(T){case 1:T=K.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:T=K.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":T=K.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":T=K.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":T=K.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof y.is=="string"?K.createElement("select",{is:y.is}):K.createElement("select"),y.multiple?T.multiple=!0:y.size&&(T.size=y.size);break;default:T=typeof y.is=="string"?K.createElement(S,{is:y.is}):K.createElement(S)}}T[Vr]=u,T[rn]=y;e:for(K=u.child;K!==null;){if(K.tag===5||K.tag===6)T.appendChild(K.stateNode);else if(K.tag!==4&&K.tag!==27&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===u)break e;for(;K.sibling===null;){if(K.return===null||K.return===u)break e;K=K.return}K.sibling.return=K.return,K=K.sibling}u.stateNode=T;e:switch(Fa(T,S,y),S){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Nu(u)}}return In(u),s2(u,u.type,o===null?null:o.memoizedProps,u.pendingProps,m),null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==y&&Nu(u);else{if(typeof y!="string"&&u.stateNode===null)throw Error(n(166));if(o=be.current,Gi(u)){if(o=u.stateNode,m=u.memoizedProps,y=null,S=Wi,S!==null)switch(S.tag){case 27:case 5:y=S.memoizedProps}o[Vr]=u,o=!!(o.nodeValue===m||y!==null&&y.suppressHydrationWarning===!0||$3(o.nodeValue,m)),o||Ac(u,!0)}else o=Gy(o).createTextNode(y),o[Vr]=u,u.stateNode=o}return In(u),null;case 31:if(m=u.memoizedState,o===null||o.memoizedState!==null){if(y=Gi(u),m!==null){if(o===null){if(!y)throw Error(n(318));if(o=u.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[Vr]=u}else yu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;In(u),o=!1}else m=Yp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return u.flags&256?(sn(u),u):(sn(u),null);if((u.flags&128)!==0)throw Error(n(558))}return In(u),null;case 13:if(y=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(S=Gi(u),y!==null&&y.dehydrated!==null){if(o===null){if(!S)throw Error(n(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[Vr]=u}else yu(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;In(u),S=!1}else S=Yp(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(sn(u),u):(sn(u),null)}return sn(u),(u.flags&128)!==0?(u.lanes=m,u):(m=y!==null,o=o!==null&&o.memoizedState!==null,m&&(y=u.child,S=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(S=y.alternate.memoizedState.cachePool.pool),T=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(T=y.memoizedState.cachePool.pool),T!==S&&(y.flags|=2048)),m!==o&&m&&(u.child.flags|=8192),Py(u,u.updateQueue),In(u),null);case 4:return ge(),o===null&&T2(u.stateNode.containerInfo),In(u),null;case 10:return Js(u.type),In(u),null;case 19:if(R(Or),y=u.memoizedState,y===null)return In(u),null;if(S=(u.flags&128)!==0,T=y.rendering,T===null)if(S)sg(y,!1);else{if(fi!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(T=ya(o),T!==null){for(u.flags|=128,sg(y,!1),o=T.updateQueue,u.updateQueue=o,Py(u,o),u.subtreeFlags=0,o=m,m=u.child;m!==null;)Lh(m,o),m=m.sibling;return J(Or,Or.current&1|2),jr&&Cs(u,y.treeForkCount),u.child}o=o.sibling}y.tail!==null&&ot()>My&&(u.flags|=128,S=!0,sg(y,!1),u.lanes=4194304)}else{if(!S)if(o=ya(T),o!==null){if(u.flags|=128,S=!0,o=o.updateQueue,u.updateQueue=o,Py(u,o),sg(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!jr)return In(u),null}else 2*ot()-y.renderingStartTime>My&&m!==536870912&&(u.flags|=128,S=!0,sg(y,!1),u.lanes=4194304);y.isBackwards?(T.sibling=u.child,u.child=T):(o=y.last,o!==null?o.sibling=T:u.child=T,y.last=T)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=ot(),o.sibling=null,m=Or.current,J(Or,S?m&1|2:m&1),jr&&Cs(u,y.treeForkCount),o):(In(u),null);case 22:case 23:return sn(u),bi(),y=u.memoizedState!==null,o!==null?o.memoizedState!==null!==y&&(u.flags|=8192):y&&(u.flags|=8192),y?(m&536870912)!==0&&(u.flags&128)===0&&(In(u),u.subtreeFlags&6&&(u.flags|=8192)):In(u),m=u.updateQueue,m!==null&&Py(u,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048),o!==null&&R(ce),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),Js(Jn),In(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function bU(o,u){switch(tm(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Js(Jn),ge(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ve(u),null;case 31:if(u.memoizedState!==null){if(sn(u),u.alternate===null)throw Error(n(340));yu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 13:if(sn(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(n(340));yu()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return R(Or),null;case 4:return ge(),null;case 10:return Js(u.type),null;case 22:case 23:return sn(u),bi(),o!==null&&R(ce),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return Js(Jn),null;case 25:return null;default:return null}}function K4(o,u){switch(tm(u),u.tag){case 3:Js(Jn),ge();break;case 26:case 27:case 5:Ve(u);break;case 4:ge();break;case 31:u.memoizedState!==null&&sn(u);break;case 13:sn(u);break;case 19:R(Or);break;case 10:Js(u.type);break;case 22:case 23:sn(u),bi(),o!==null&&R(ce);break;case 24:Js(Jn)}}function og(o,u){try{var m=u.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var S=y.next;m=S;do{if((m.tag&o)===o){y=void 0;var T=m.create,K=m.inst;y=T(),K.destroy=y}m=m.next}while(m!==S)}}catch(ue){ln(u,u.return,ue)}}function Pd(o,u,m){try{var y=u.updateQueue,S=y!==null?y.lastEffect:null;if(S!==null){var T=S.next;y=T;do{if((y.tag&o)===o){var K=y.inst,ue=K.destroy;if(ue!==void 0){K.destroy=void 0,S=u;var Ae=m,Ge=ue;try{Ge()}catch(it){ln(S,Ae,it)}}}y=y.next}while(y!==T)}}catch(it){ln(u,u.return,it)}}function X4(o){var u=o.updateQueue;if(u!==null){var m=o.stateNode;try{ci(u,m)}catch(y){ln(o,o.return,y)}}}function Z4(o,u,m){m.props=qh(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(y){ln(o,u,y)}}function lg(o,u){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var y=o.stateNode;break;case 30:y=o.stateNode;break;default:y=o.stateNode}typeof m=="function"?o.refCleanup=m(y):m.current=y}}catch(S){ln(o,u,S)}}function Dc(o,u){var m=o.ref,y=o.refCleanup;if(m!==null)if(typeof y=="function")try{y()}catch(S){ln(o,u,S)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(S){ln(o,u,S)}else m.current=null}function Q4(o){var u=o.type,m=o.memoizedProps,y=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":m.autoFocus&&y.focus();break e;case"img":m.src?y.src=m.src:m.srcSet&&(y.srcset=m.srcSet)}}catch(S){ln(o,o.return,S)}}function o2(o,u,m){try{var y=o.stateNode;VU(y,o.type,m,u),y[rn]=u}catch(S){ln(o,o.return,S)}}function J4(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Fd(o.type)||o.tag===4}function l2(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||J4(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Fd(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function c2(o,u,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,u):(u=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,u.appendChild(o),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=bs));else if(y!==4&&(y===27&&Fd(o.type)&&(m=o.stateNode,u=null),o=o.child,o!==null))for(c2(o,u,m),o=o.sibling;o!==null;)c2(o,u,m),o=o.sibling}function Ry(o,u,m){var y=o.tag;if(y===5||y===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(y!==4&&(y===27&&Fd(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(Ry(o,u,m),o=o.sibling;o!==null;)Ry(o,u,m),o=o.sibling}function e3(o){var u=o.stateNode,m=o.memoizedProps;try{for(var y=o.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);Fa(u,y,m),u[Vr]=o,u[rn]=m}catch(T){ln(o,o.return,T)}}var ju=!1,Pi=!1,u2=!1,t3=typeof WeakSet=="function"?WeakSet:Set,xa=null;function wU(o,u){if(o=o.containerInfo,I2=ex,o=Ul(o),il(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var y=m.getSelection&&m.getSelection();if(y&&y.rangeCount!==0){m=y.anchorNode;var S=y.anchorOffset,T=y.focusNode;y=y.focusOffset;try{m.nodeType,T.nodeType}catch{m=null;break e}var K=0,ue=-1,Ae=-1,Ge=0,it=0,ut=o,Ke=null;t:for(;;){for(var Ze;ut!==m||S!==0&&ut.nodeType!==3||(ue=K+S),ut!==T||y!==0&&ut.nodeType!==3||(Ae=K+y),ut.nodeType===3&&(K+=ut.nodeValue.length),(Ze=ut.firstChild)!==null;)Ke=ut,ut=Ze;for(;;){if(ut===o)break t;if(Ke===m&&++Ge===S&&(ue=K),Ke===T&&++it===y&&(Ae=K),(Ze=ut.nextSibling)!==null)break;ut=Ke,Ke=ut.parentNode}ut=Ze}m=ue===-1||Ae===-1?null:{start:ue,end:Ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(P2={focusedElem:o,selectionRange:m},ex=!1,xa=u;xa!==null;)if(u=xa,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,xa=o;else for(;xa!==null;){switch(u=xa,T=u.alternate,o=u.flags,u.tag){case 0:if((o&4)!==0&&(o=u.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)S=o[m],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&T!==null){o=void 0,m=u,S=T.memoizedProps,T=T.memoizedState,y=m.stateNode;try{var Mt=qh(m.type,S);o=y.getSnapshotBeforeUpdate(Mt,T),y.__reactInternalSnapshotBeforeUpdate=o}catch(nr){ln(m,m.return,nr)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,m=o.nodeType,m===9)D2(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":D2(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=u.sibling,o!==null){o.return=u.return,xa=o;break}xa=u.return}}function r3(o,u,m){var y=m.flags;switch(m.tag){case 0:case 11:case 15:Au(o,m),y&4&&og(5,m);break;case 1:if(Au(o,m),y&4)if(o=m.stateNode,u===null)try{o.componentDidMount()}catch(K){ln(m,m.return,K)}else{var S=qh(m.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(S,u,o.__reactInternalSnapshotBeforeUpdate)}catch(K){ln(m,m.return,K)}}y&64&&X4(m),y&512&&lg(m,m.return);break;case 3:if(Au(o,m),y&64&&(o=m.updateQueue,o!==null)){if(u=null,m.child!==null)switch(m.child.tag){case 27:case 5:u=m.child.stateNode;break;case 1:u=m.child.stateNode}try{ci(o,u)}catch(K){ln(m,m.return,K)}}break;case 27:u===null&&y&4&&e3(m);case 26:case 5:Au(o,m),u===null&&y&4&&Q4(m),y&512&&lg(m,m.return);break;case 12:Au(o,m);break;case 31:Au(o,m),y&4&&a3(o,m);break;case 13:Au(o,m),y&4&&s3(o,m),y&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=kU.bind(null,m),XU(o,m))));break;case 22:if(y=m.memoizedState!==null||ju,!y){u=u!==null&&u.memoizedState!==null||Pi,S=ju;var T=Pi;ju=y,(Pi=u)&&!T?Eu(o,m,(m.subtreeFlags&8772)!==0):Au(o,m),ju=S,Pi=T}break;case 30:break;default:Au(o,m)}}function n3(o){var u=o.alternate;u!==null&&(o.alternate=null,n3(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&vo(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Vn=null,to=!1;function Su(o,u,m){for(m=m.child;m!==null;)i3(o,u,m),m=m.sibling}function i3(o,u,m){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(ht,m)}catch{}switch(m.tag){case 26:Pi||Dc(m,u),Su(o,u,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:Pi||Dc(m,u);var y=Vn,S=to;Fd(m.type)&&(Vn=m.stateNode,to=!1),Su(o,u,m),yg(m.stateNode),Vn=y,to=S;break;case 5:Pi||Dc(m,u);case 6:if(y=Vn,S=to,Vn=null,Su(o,u,m),Vn=y,to=S,Vn!==null)if(to)try{(Vn.nodeType===9?Vn.body:Vn.nodeName==="HTML"?Vn.ownerDocument.body:Vn).removeChild(m.stateNode)}catch(T){ln(m,u,T)}else try{Vn.removeChild(m.stateNode)}catch(T){ln(m,u,T)}break;case 18:Vn!==null&&(to?(o=Vn,X3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),Am(o)):X3(Vn,m.stateNode));break;case 4:y=Vn,S=to,Vn=m.stateNode.containerInfo,to=!0,Su(o,u,m),Vn=y,to=S;break;case 0:case 11:case 14:case 15:Pd(2,m,u),Pi||Pd(4,m,u),Su(o,u,m);break;case 1:Pi||(Dc(m,u),y=m.stateNode,typeof y.componentWillUnmount=="function"&&Z4(m,u,y)),Su(o,u,m);break;case 21:Su(o,u,m);break;case 22:Pi=(y=Pi)||m.memoizedState!==null,Su(o,u,m),Pi=y;break;default:Su(o,u,m)}}function a3(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Am(o)}catch(m){ln(u,u.return,m)}}}function s3(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Am(o)}catch(m){ln(u,u.return,m)}}function _U(o){switch(o.tag){case 31:case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new t3),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new t3),u;default:throw Error(n(435,o.tag))}}function Oy(o,u){var m=_U(o);u.forEach(function(y){if(!m.has(y)){m.add(y);var S=IU.bind(null,o,y);y.then(S,S)}})}function ro(o,u){var m=u.deletions;if(m!==null)for(var y=0;y<m.length;y++){var S=m[y],T=o,K=u,ue=K;e:for(;ue!==null;){switch(ue.tag){case 27:if(Fd(ue.type)){Vn=ue.stateNode,to=!1;break e}break;case 5:Vn=ue.stateNode,to=!1;break e;case 3:case 4:Vn=ue.stateNode.containerInfo,to=!0;break e}ue=ue.return}if(Vn===null)throw Error(n(160));i3(T,K,S),Vn=null,to=!1,T=S.alternate,T!==null&&(T.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)o3(u,o),u=u.sibling}var Yl=null;function o3(o,u){var m=o.alternate,y=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ro(u,o),no(o),y&4&&(Pd(3,o,o.return),og(3,o),Pd(5,o,o.return));break;case 1:ro(u,o),no(o),y&512&&(Pi||m===null||Dc(m,m.return)),y&64&&ju&&(o=o.updateQueue,o!==null&&(y=o.callbacks,y!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?y:m.concat(y))));break;case 26:var S=Yl;if(ro(u,o),no(o),y&512&&(Pi||m===null||Dc(m,m.return)),y&4){var T=m!==null?m.memoizedState:null;if(y=o.memoizedState,m===null)if(y===null)if(o.stateNode===null){e:{y=o.type,m=o.memoizedProps,S=S.ownerDocument||S;t:switch(y){case"title":T=S.getElementsByTagName("title")[0],(!T||T[oa]||T[Vr]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=S.createElement(y),S.head.insertBefore(T,S.querySelector("head > title"))),Fa(T,y,m),T[Vr]=o,En(T),y=T;break e;case"link":var K=o6("link","href",S).get(y+(m.href||""));if(K){for(var ue=0;ue<K.length;ue++)if(T=K[ue],T.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&T.getAttribute("rel")===(m.rel==null?null:m.rel)&&T.getAttribute("title")===(m.title==null?null:m.title)&&T.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){K.splice(ue,1);break t}}T=S.createElement(y),Fa(T,y,m),S.head.appendChild(T);break;case"meta":if(K=o6("meta","content",S).get(y+(m.content||""))){for(ue=0;ue<K.length;ue++)if(T=K[ue],T.getAttribute("content")===(m.content==null?null:""+m.content)&&T.getAttribute("name")===(m.name==null?null:m.name)&&T.getAttribute("property")===(m.property==null?null:m.property)&&T.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&T.getAttribute("charset")===(m.charSet==null?null:m.charSet)){K.splice(ue,1);break t}}T=S.createElement(y),Fa(T,y,m),S.head.appendChild(T);break;default:throw Error(n(468,y))}T[Vr]=o,En(T),y=T}o.stateNode=y}else l6(S,o.type,o.stateNode);else o.stateNode=s6(S,y,o.memoizedProps);else T!==y?(T===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):T.count--,y===null?l6(S,o.type,o.stateNode):s6(S,y,o.memoizedProps)):y===null&&o.stateNode!==null&&o2(o,o.memoizedProps,m.memoizedProps)}break;case 27:ro(u,o),no(o),y&512&&(Pi||m===null||Dc(m,m.return)),m!==null&&y&4&&o2(o,o.memoizedProps,m.memoizedProps);break;case 5:if(ro(u,o),no(o),y&512&&(Pi||m===null||Dc(m,m.return)),o.flags&32){S=o.stateNode;try{Kn(S,"")}catch(Mt){ln(o,o.return,Mt)}}y&4&&o.stateNode!=null&&(S=o.memoizedProps,o2(o,S,m!==null?m.memoizedProps:S)),y&1024&&(u2=!0);break;case 6:if(ro(u,o),no(o),y&4){if(o.stateNode===null)throw Error(n(162));y=o.memoizedProps,m=o.stateNode;try{m.nodeValue=y}catch(Mt){ln(o,o.return,Mt)}}break;case 3:if(Xy=null,S=Yl,Yl=Yy(u.containerInfo),ro(u,o),Yl=S,no(o),y&4&&m!==null&&m.memoizedState.isDehydrated)try{Am(u.containerInfo)}catch(Mt){ln(o,o.return,Mt)}u2&&(u2=!1,l3(o));break;case 4:y=Yl,Yl=Yy(o.stateNode.containerInfo),ro(u,o),no(o),Yl=y;break;case 12:ro(u,o),no(o);break;case 31:ro(u,o),no(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,Oy(o,y)));break;case 13:ro(u,o),no(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Ly=ot()),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,Oy(o,y)));break;case 22:S=o.memoizedState!==null;var Ae=m!==null&&m.memoizedState!==null,Ge=ju,it=Pi;if(ju=Ge||S,Pi=it||Ae,ro(u,o),Pi=it,ju=Ge,no(o),y&8192)e:for(u=o.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(m===null||Ae||ju||Pi||$h(o)),m=null,u=o;;){if(u.tag===5||u.tag===26){if(m===null){Ae=m=u;try{if(T=Ae.stateNode,S)K=T.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none";else{ue=Ae.stateNode;var ut=Ae.memoizedProps.style,Ke=ut!=null&&ut.hasOwnProperty("display")?ut.display:null;ue.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Mt){ln(Ae,Ae.return,Mt)}}}else if(u.tag===6){if(m===null){Ae=u;try{Ae.stateNode.nodeValue=S?"":Ae.memoizedProps}catch(Mt){ln(Ae,Ae.return,Mt)}}}else if(u.tag===18){if(m===null){Ae=u;try{var Ze=Ae.stateNode;S?Z3(Ze,!0):Z3(Ae.stateNode,!1)}catch(Mt){ln(Ae,Ae.return,Mt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;m===u&&(m=null),u=u.return}m===u&&(m=null),u.sibling.return=u.return,u=u.sibling}y&4&&(y=o.updateQueue,y!==null&&(m=y.retryQueue,m!==null&&(y.retryQueue=null,Oy(o,m))));break;case 19:ro(u,o),no(o),y&4&&(y=o.updateQueue,y!==null&&(o.updateQueue=null,Oy(o,y)));break;case 30:break;case 21:break;default:ro(u,o),no(o)}}function no(o){var u=o.flags;if(u&2){try{for(var m,y=o.return;y!==null;){if(J4(y)){m=y;break}y=y.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var S=m.stateNode,T=l2(o);Ry(o,T,S);break;case 5:var K=m.stateNode;m.flags&32&&(Kn(K,""),m.flags&=-33);var ue=l2(o);Ry(o,ue,K);break;case 3:case 4:var Ae=m.stateNode.containerInfo,Ge=l2(o);c2(o,Ge,Ae);break;default:throw Error(n(161))}}catch(it){ln(o,o.return,it)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function l3(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;l3(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function Au(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)r3(o,u.alternate,u),u=u.sibling}function $h(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:Pd(4,u,u.return),$h(u);break;case 1:Dc(u,u.return);var m=u.stateNode;typeof m.componentWillUnmount=="function"&&Z4(u,u.return,m),$h(u);break;case 27:yg(u.stateNode);case 26:case 5:Dc(u,u.return),$h(u);break;case 22:u.memoizedState===null&&$h(u);break;case 30:$h(u);break;default:$h(u)}o=o.sibling}}function Eu(o,u,m){for(m=m&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var y=u.alternate,S=o,T=u,K=T.flags;switch(T.tag){case 0:case 11:case 15:Eu(S,T,m),og(4,T);break;case 1:if(Eu(S,T,m),y=T,S=y.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ge){ln(y,y.return,Ge)}if(y=T,S=y.updateQueue,S!==null){var ue=y.stateNode;try{var Ae=S.shared.hiddenCallbacks;if(Ae!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Ae.length;S++)ga(Ae[S],ue)}catch(Ge){ln(y,y.return,Ge)}}m&&K&64&&X4(T),lg(T,T.return);break;case 27:e3(T);case 26:case 5:Eu(S,T,m),m&&y===null&&K&4&&Q4(T),lg(T,T.return);break;case 12:Eu(S,T,m);break;case 31:Eu(S,T,m),m&&K&4&&a3(S,T);break;case 13:Eu(S,T,m),m&&K&4&&s3(S,T);break;case 22:T.memoizedState===null&&Eu(S,T,m),lg(T,T.return);break;case 30:break;default:Eu(S,T,m)}u=u.sibling}}function d2(o,u){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Fh(m))}function h2(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Fh(o))}function Kl(o,u,m,y){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)c3(o,u,m,y),u=u.sibling}function c3(o,u,m,y){var S=u.flags;switch(u.tag){case 0:case 11:case 15:Kl(o,u,m,y),S&2048&&og(9,u);break;case 1:Kl(o,u,m,y);break;case 3:Kl(o,u,m,y),S&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&Fh(o)));break;case 12:if(S&2048){Kl(o,u,m,y),o=u.stateNode;try{var T=u.memoizedProps,K=T.id,ue=T.onPostCommit;typeof ue=="function"&&ue(K,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(Ae){ln(u,u.return,Ae)}}else Kl(o,u,m,y);break;case 31:Kl(o,u,m,y);break;case 13:Kl(o,u,m,y);break;case 23:break;case 22:T=u.stateNode,K=u.alternate,u.memoizedState!==null?T._visibility&2?Kl(o,u,m,y):cg(o,u):T._visibility&2?Kl(o,u,m,y):(T._visibility|=2,pm(o,u,m,y,(u.subtreeFlags&10256)!==0||!1)),S&2048&&d2(K,u);break;case 24:Kl(o,u,m,y),S&2048&&h2(u.alternate,u);break;default:Kl(o,u,m,y)}}function pm(o,u,m,y,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var T=o,K=u,ue=m,Ae=y,Ge=K.flags;switch(K.tag){case 0:case 11:case 15:pm(T,K,ue,Ae,S),og(8,K);break;case 23:break;case 22:var it=K.stateNode;K.memoizedState!==null?it._visibility&2?pm(T,K,ue,Ae,S):cg(T,K):(it._visibility|=2,pm(T,K,ue,Ae,S)),S&&Ge&2048&&d2(K.alternate,K);break;case 24:pm(T,K,ue,Ae,S),S&&Ge&2048&&h2(K.alternate,K);break;default:pm(T,K,ue,Ae,S)}u=u.sibling}}function cg(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var m=o,y=u,S=y.flags;switch(y.tag){case 22:cg(m,y),S&2048&&d2(y.alternate,y);break;case 24:cg(m,y),S&2048&&h2(y.alternate,y);break;default:cg(m,y)}u=u.sibling}}var ug=8192;function gm(o,u,m){if(o.subtreeFlags&ug)for(o=o.child;o!==null;)u3(o,u,m),o=o.sibling}function u3(o,u,m){switch(o.tag){case 26:gm(o,u,m),o.flags&ug&&o.memoizedState!==null&&lB(m,Yl,o.memoizedState,o.memoizedProps);break;case 5:gm(o,u,m);break;case 3:case 4:var y=Yl;Yl=Yy(o.stateNode.containerInfo),gm(o,u,m),Yl=y;break;case 22:o.memoizedState===null&&(y=o.alternate,y!==null&&y.memoizedState!==null?(y=ug,ug=16777216,gm(o,u,m),ug=y):gm(o,u,m));break;default:gm(o,u,m)}}function d3(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function dg(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];xa=y,f3(y,o)}d3(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)h3(o),o=o.sibling}function h3(o){switch(o.tag){case 0:case 11:case 15:dg(o),o.flags&2048&&Pd(9,o,o.return);break;case 3:dg(o);break;case 12:dg(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,Dy(o)):dg(o);break;default:dg(o)}}function Dy(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var m=0;m<u.length;m++){var y=u[m];xa=y,f3(y,o)}d3(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:Pd(8,u,u.return),Dy(u);break;case 22:m=u.stateNode,m._visibility&2&&(m._visibility&=-3,Dy(u));break;default:Dy(u)}o=o.sibling}}function f3(o,u){for(;xa!==null;){var m=xa;switch(m.tag){case 0:case 11:case 15:Pd(8,m,u);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var y=m.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Fh(m.memoizedState.cache)}if(y=m.child,y!==null)y.return=m,xa=y;else e:for(m=o;xa!==null;){y=xa;var S=y.sibling,T=y.return;if(n3(y),y===m){xa=null;break e}if(S!==null){S.return=T,xa=S;break e}xa=T}}}var NU={getCacheForType:function(o){var u=Yi(Jn),m=u.data.get(o);return m===void 0&&(m=o(),u.data.set(o,m)),m},cacheSignal:function(){return Yi(Jn).controller.signal}},jU=typeof WeakMap=="function"?WeakMap:Map,Xr=0,_n=null,Sr=null,Tr=0,on=0,Co=null,Rd=!1,ym=!1,f2=!1,Tu=0,fi=0,Od=0,Hh=0,m2=0,ko=0,xm=0,hg=null,io=null,p2=!1,Ly=0,m3=0,My=1/0,zy=null,Dd=null,Xi=0,Ld=null,vm=null,Cu=0,g2=0,y2=null,p3=null,fg=0,x2=null;function Io(){return(Xr&2)!==0&&Tr!==0?Tr&-Tr:Y.T!==null?j2():ai()}function g3(){if(ko===0)if((Tr&536870912)===0||jr){var o=vt;vt<<=1,(vt&3932160)===0&&(vt=262144),ko=o}else ko=536870912;return o=kn.current,o!==null&&(o.flags|=32),ko}function ao(o,u,m){(o===_n&&(on===2||on===9)||o.cancelPendingCommit!==null)&&(bm(o,0),Md(o,Tr,ko,!1)),Wt(o,m),((Xr&2)===0||o!==_n)&&(o===_n&&((Xr&2)===0&&(Hh|=m),fi===4&&Md(o,Tr,ko,!1)),Lc(o))}function y3(o,u,m){if((Xr&6)!==0)throw Error(n(327));var y=!m&&(u&127)===0&&(u&o.expiredLanes)===0||yi(o,u),S=y?EU(o,u):b2(o,u,!0),T=y;do{if(S===0){ym&&!y&&Md(o,u,0,!1);break}else{if(m=o.current.alternate,T&&!SU(m)){S=b2(o,u,!1),T=!1;continue}if(S===2){if(T=u,o.errorRecoveryDisabledLanes&T)var K=0;else K=o.pendingLanes&-536870913,K=K!==0?K:K&536870912?536870912:0;if(K!==0){u=K;e:{var ue=o;S=hg;var Ae=ue.current.memoizedState.isDehydrated;if(Ae&&(bm(ue,K).flags|=256),K=b2(ue,K,!1),K!==2){if(f2&&!Ae){ue.errorRecoveryDisabledLanes|=T,Hh|=T,S=4;break e}T=io,io=S,T!==null&&(io===null?io=T:io.push.apply(io,T))}S=K}if(T=!1,S!==2)continue}}if(S===1){bm(o,0),Md(o,u,0,!0);break}e:{switch(y=o,T=S,T){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Md(y,u,ko,!Rd);break e;case 2:io=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(S=Ly+300-ot(),10<S)){if(Md(y,u,ko,!Rd),sr(y,0,!0)!==0)break e;Cu=u,y.timeoutHandle=Y3(x3.bind(null,y,m,io,zy,p2,u,ko,Hh,xm,Rd,T,"Throttled",-0,0),S);break e}x3(y,m,io,zy,p2,u,ko,Hh,xm,Rd,T,null,-0,0)}}break}while(!0);Lc(o)}function x3(o,u,m,y,S,T,K,ue,Ae,Ge,it,ut,Ke,Ze){if(o.timeoutHandle=-1,ut=u.subtreeFlags,ut&8192||(ut&16785408)===16785408){ut={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bs},u3(u,T,ut);var Mt=(T&62914560)===T?Ly-ot():(T&4194048)===T?m3-ot():0;if(Mt=cB(ut,Mt),Mt!==null){Cu=T,o.cancelPendingCommit=Mt(A3.bind(null,o,u,T,m,y,S,K,ue,Ae,it,ut,null,Ke,Ze)),Md(o,T,K,!Ge);return}}A3(o,u,T,m,y,S,K,ue,Ae)}function SU(o){for(var u=o;;){var m=u.tag;if((m===0||m===11||m===15)&&u.flags&16384&&(m=u.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var y=0;y<m.length;y++){var S=m[y],T=S.getSnapshot;S=S.value;try{if(!$i(T(),S))return!1}catch{return!1}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Md(o,u,m,y){u&=~m2,u&=~Hh,o.suspendedLanes|=u,o.pingedLanes&=~u,y&&(o.warmLanes|=u),y=o.expirationTimes;for(var S=u;0<S;){var T=31-Bt(S),K=1<<T;y[T]=-1,S&=~K}m!==0&&Ea(o,m,u)}function Fy(){return(Xr&6)===0?(mg(0),!1):!0}function v2(){if(Sr!==null){if(on===0)var o=Sr.return;else o=Sr,sl=Ec=null,lm(o),dt=null,Ft=0,o=Sr;for(;o!==null;)K4(o.alternate,o),o=o.return;Sr=null}}function bm(o,u){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,HU(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Cu=0,v2(),_n=o,Sr=m=Gs(o.current,null),Tr=u,on=0,Co=null,Rd=!1,ym=yi(o,u),f2=!1,xm=ko=m2=Hh=Od=fi=0,io=hg=null,p2=!1,(u&8)!==0&&(u|=u&32);var y=o.entangledLanes;if(y!==0)for(o=o.entanglements,y&=u;0<y;){var S=31-Bt(y),T=1<<S;u|=o[S],y&=~T}return Tu=u,Rh(),m}function v3(o,u){Yt=null,Y.H=ig,u===Te||u===we?(u=at(),on=3):u===$e?(u=at(),on=4):on=u===Zb?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Co=u,Sr===null&&(fi=1,Ty(o,Ys(u,o.current)))}function b3(){var o=kn.current;return o===null?!0:(Tr&4194048)===Tr?Lr===null:(Tr&62914560)===Tr||(Tr&536870912)!==0?o===Lr:!1}function w3(){var o=Y.H;return Y.H=ig,o===null?ig:o}function _3(){var o=Y.A;return Y.A=NU,o}function Uy(){fi=4,Rd||(Tr&4194048)!==Tr&&kn.current!==null||(ym=!0),(Od&134217727)===0&&(Hh&134217727)===0||_n===null||Md(_n,Tr,ko,!1)}function b2(o,u,m){var y=Xr;Xr|=2;var S=w3(),T=_3();(_n!==o||Tr!==u)&&(zy=null,bm(o,u)),u=!1;var K=fi;e:do try{if(on!==0&&Sr!==null){var ue=Sr,Ae=Co;switch(on){case 8:v2(),K=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(u=!0);var Ge=on;if(on=0,Co=null,wm(o,ue,Ae,Ge),m&&ym){K=0;break e}break;default:Ge=on,on=0,Co=null,wm(o,ue,Ae,Ge)}}AU(),K=fi;break}catch(it){v3(o,it)}while(!0);return u&&o.shellSuspendCounter++,sl=Ec=null,Xr=y,Y.H=S,Y.A=T,Sr===null&&(_n=null,Tr=0,Rh()),K}function AU(){for(;Sr!==null;)N3(Sr)}function EU(o,u){var m=Xr;Xr|=2;var y=w3(),S=_3();_n!==o||Tr!==u?(zy=null,My=ot()+500,bm(o,u)):ym=yi(o,u);e:do try{if(on!==0&&Sr!==null){u=Sr;var T=Co;t:switch(on){case 1:on=0,Co=null,wm(o,u,T,1);break;case 2:case 9:if(Be(T)){on=0,Co=null,j3(u);break}u=function(){on!==2&&on!==9||_n!==o||(on=7),Lc(o)},T.then(u,u);break e;case 3:on=7;break e;case 4:on=5;break e;case 7:Be(T)?(on=0,Co=null,j3(u)):(on=0,Co=null,wm(o,u,T,7));break;case 5:var K=null;switch(Sr.tag){case 26:K=Sr.memoizedState;case 5:case 27:var ue=Sr;if(K?c6(K):ue.stateNode.complete){on=0,Co=null;var Ae=ue.sibling;if(Ae!==null)Sr=Ae;else{var Ge=ue.return;Ge!==null?(Sr=Ge,By(Ge)):Sr=null}break t}}on=0,Co=null,wm(o,u,T,5);break;case 6:on=0,Co=null,wm(o,u,T,6);break;case 8:v2(),fi=6;break e;default:throw Error(n(462))}}TU();break}catch(it){v3(o,it)}while(!0);return sl=Ec=null,Y.H=y,Y.A=S,Xr=m,Sr!==null?0:(_n=null,Tr=0,Rh(),fi)}function TU(){for(;Sr!==null&&!Ce();)N3(Sr)}function N3(o){var u=G4(o.alternate,o,Tu);o.memoizedProps=o.pendingProps,u===null?By(o):Sr=u}function j3(o){var u=o,m=u.alternate;switch(u.tag){case 15:case 0:u=B4(m,u,u.pendingProps,u.type,void 0,Tr);break;case 11:u=B4(m,u,u.pendingProps,u.type.render,u.ref,Tr);break;case 5:lm(u);default:K4(m,u),u=Sr=Lh(u,Tu),u=G4(m,u,Tu)}o.memoizedProps=o.pendingProps,u===null?By(o):Sr=u}function wm(o,u,m,y){sl=Ec=null,lm(u),dt=null,Ft=0;var S=u.return;try{if(gU(o,S,u,m,Tr)){fi=1,Ty(o,Ys(m,o.current)),Sr=null;return}}catch(T){if(S!==null)throw Sr=S,T;fi=1,Ty(o,Ys(m,o.current)),Sr=null;return}u.flags&32768?(jr||y===1?o=!0:ym||(Tr&536870912)!==0?o=!1:(Rd=o=!0,(y===2||y===9||y===3||y===6)&&(y=kn.current,y!==null&&y.tag===13&&(y.flags|=16384))),S3(u,o)):By(u)}function By(o){var u=o;do{if((u.flags&32768)!==0){S3(u,Rd);return}o=u.return;var m=vU(u.alternate,u,Tu);if(m!==null){Sr=m;return}if(u=u.sibling,u!==null){Sr=u;return}Sr=u=o}while(u!==null);fi===0&&(fi=5)}function S3(o,u){do{var m=bU(o.alternate,o);if(m!==null){m.flags&=32767,Sr=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!u&&(o=o.sibling,o!==null)){Sr=o;return}Sr=o=m}while(o!==null);fi=6,Sr=null}function A3(o,u,m,y,S,T,K,ue,Ae){o.cancelPendingCommit=null;do Vy();while(Xi!==0);if((Xr&6)!==0)throw Error(n(327));if(u!==null){if(u===o.current)throw Error(n(177));if(T=u.lanes|u.childLanes,T|=Yf,xo(o,m,T,K,ue,Ae),o===_n&&(Sr=_n=null,Tr=0),vm=u,Ld=o,Cu=m,g2=T,y2=S,p3=y,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,PU(bt,function(){return I3(),null})):(o.callbackNode=null,o.callbackPriority=0),y=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||y){y=Y.T,Y.T=null,S=Q.p,Q.p=2,K=Xr,Xr|=4;try{wU(o,u,m)}finally{Xr=K,Q.p=S,Y.T=y}}Xi=1,E3(),T3(),C3()}}function E3(){if(Xi===1){Xi=0;var o=Ld,u=vm,m=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||m){m=Y.T,Y.T=null;var y=Q.p;Q.p=2;var S=Xr;Xr|=4;try{o3(u,o);var T=P2,K=Ul(o.containerInfo),ue=T.focusedElem,Ae=T.selectionRange;if(K!==ue&&ue&&ue.ownerDocument&&Fl(ue.ownerDocument.documentElement,ue)){if(Ae!==null&&il(ue)){var Ge=Ae.start,it=Ae.end;if(it===void 0&&(it=Ge),"selectionStart"in ue)ue.selectionStart=Ge,ue.selectionEnd=Math.min(it,ue.value.length);else{var ut=ue.ownerDocument||document,Ke=ut&&ut.defaultView||window;if(Ke.getSelection){var Ze=Ke.getSelection(),Mt=ue.textContent.length,nr=Math.min(Ae.start,Mt),vn=Ae.end===void 0?nr:Math.min(Ae.end,Mt);!Ze.extend&&nr>vn&&(K=vn,vn=nr,nr=K);var Fe=wd(ue,nr),ke=wd(ue,vn);if(Fe&&ke&&(Ze.rangeCount!==1||Ze.anchorNode!==Fe.node||Ze.anchorOffset!==Fe.offset||Ze.focusNode!==ke.node||Ze.focusOffset!==ke.offset)){var He=ut.createRange();He.setStart(Fe.node,Fe.offset),Ze.removeAllRanges(),nr>vn?(Ze.addRange(He),Ze.extend(ke.node,ke.offset)):(He.setEnd(ke.node,ke.offset),Ze.addRange(He))}}}}for(ut=[],Ze=ue;Ze=Ze.parentNode;)Ze.nodeType===1&&ut.push({element:Ze,left:Ze.scrollLeft,top:Ze.scrollTop});for(typeof ue.focus=="function"&&ue.focus(),ue=0;ue<ut.length;ue++){var st=ut[ue];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}ex=!!I2,P2=I2=null}finally{Xr=S,Q.p=y,Y.T=m}}o.current=u,Xi=2}}function T3(){if(Xi===2){Xi=0;var o=Ld,u=vm,m=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||m){m=Y.T,Y.T=null;var y=Q.p;Q.p=2;var S=Xr;Xr|=4;try{r3(o,u.alternate,u)}finally{Xr=S,Q.p=y,Y.T=m}}Xi=3}}function C3(){if(Xi===4||Xi===3){Xi=0,Ye();var o=Ld,u=vm,m=Cu,y=p3;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Xi=5:(Xi=0,vm=Ld=null,k3(o,o.pendingLanes));var S=o.pendingLanes;if(S===0&&(Dd=null),hn(m),u=u.stateNode,ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(ht,u,void 0,(u.current.flags&128)===128)}catch{}if(y!==null){u=Y.T,S=Q.p,Q.p=2,Y.T=null;try{for(var T=o.onRecoverableError,K=0;K<y.length;K++){var ue=y[K];T(ue.value,{componentStack:ue.stack})}}finally{Y.T=u,Q.p=S}}(Cu&3)!==0&&Vy(),Lc(o),S=o.pendingLanes,(m&261930)!==0&&(S&42)!==0?o===x2?fg++:(fg=0,x2=o):fg=0,mg(0)}}function k3(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,Fh(u)))}function Vy(){return E3(),T3(),C3(),I3()}function I3(){if(Xi!==5)return!1;var o=Ld,u=g2;g2=0;var m=hn(Cu),y=Y.T,S=Q.p;try{Q.p=32>m?32:m,Y.T=null,m=y2,y2=null;var T=Ld,K=Cu;if(Xi=0,vm=Ld=null,Cu=0,(Xr&6)!==0)throw Error(n(331));var ue=Xr;if(Xr|=4,h3(T.current),c3(T,T.current,K,m),Xr=ue,mg(0,!1),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(ht,T)}catch{}return!0}finally{Q.p=S,Y.T=y,k3(o,u)}}function P3(o,u,m){u=Ys(m,u),u=Xb(o.stateNode,u,2),o=gr(o,u,2),o!==null&&(Wt(o,2),Lc(o))}function ln(o,u,m){if(o.tag===3)P3(o,o,m);else for(;u!==null;){if(u.tag===3){P3(u,o,m);break}else if(u.tag===1){var y=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(Dd===null||!Dd.has(y))){o=Ys(m,o),m=R4(2),y=gr(u,m,2),y!==null&&(O4(m,y,u,o),Wt(y,2),Lc(y));break}}u=u.return}}function w2(o,u,m){var y=o.pingCache;if(y===null){y=o.pingCache=new jU;var S=new Set;y.set(u,S)}else S=y.get(u),S===void 0&&(S=new Set,y.set(u,S));S.has(m)||(f2=!0,S.add(m),o=CU.bind(null,o,u,m),u.then(o,o))}function CU(o,u,m){var y=o.pingCache;y!==null&&y.delete(u),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,_n===o&&(Tr&m)===m&&(fi===4||fi===3&&(Tr&62914560)===Tr&&300>ot()-Ly?(Xr&2)===0&&bm(o,0):m2|=m,xm===Tr&&(xm=0)),Lc(o)}function R3(o,u){u===0&&(u=na()),o=Vl(o,u),o!==null&&(Wt(o,u),Lc(o))}function kU(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),R3(o,m)}function IU(o,u){var m=0;switch(o.tag){case 31:case 13:var y=o.stateNode,S=o.memoizedState;S!==null&&(m=S.retryLane);break;case 19:y=o.stateNode;break;case 22:y=o.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(u),R3(o,m)}function PU(o,u){return ze(o,u)}var qy=null,_m=null,_2=!1,$y=!1,N2=!1,zd=0;function Lc(o){o!==_m&&o.next===null&&(_m===null?qy=_m=o:_m=_m.next=o),$y=!0,_2||(_2=!0,OU())}function mg(o,u){if(!N2&&$y){N2=!0;do for(var m=!1,y=qy;y!==null;){if(o!==0){var S=y.pendingLanes;if(S===0)var T=0;else{var K=y.suspendedLanes,ue=y.pingedLanes;T=(1<<31-Bt(42|o)+1)-1,T&=S&~(K&~ue),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(m=!0,M3(y,T))}else T=Tr,T=sr(y,y===_n?T:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(T&3)===0||yi(y,T)||(m=!0,M3(y,T));y=y.next}while(m);N2=!1}}function RU(){O3()}function O3(){$y=_2=!1;var o=0;zd!==0&&$U()&&(o=zd);for(var u=ot(),m=null,y=qy;y!==null;){var S=y.next,T=D3(y,u);T===0?(y.next=null,m===null?qy=S:m.next=S,S===null&&(_m=m)):(m=y,(o!==0||(T&3)!==0)&&($y=!0)),y=S}Xi!==0&&Xi!==5||mg(o),zd!==0&&(zd=0)}function D3(o,u){for(var m=o.suspendedLanes,y=o.pingedLanes,S=o.expirationTimes,T=o.pendingLanes&-62914561;0<T;){var K=31-Bt(T),ue=1<<K,Ae=S[K];Ae===-1?((ue&m)===0||(ue&y)!==0)&&(S[K]=Wn(ue,u)):Ae<=u&&(o.expiredLanes|=ue),T&=~ue}if(u=_n,m=Tr,m=sr(o,o===u?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y=o.callbackNode,m===0||o===u&&(on===2||on===9)||o.cancelPendingCommit!==null)return y!==null&&y!==null&&De(y),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||yi(o,m)){if(u=m&-m,u===o.callbackPriority)return u;switch(y!==null&&De(y),hn(m)){case 2:case 8:m=Tt;break;case 32:m=bt;break;case 268435456:m=Le;break;default:m=bt}return y=L3.bind(null,o),m=ze(m,y),o.callbackPriority=u,o.callbackNode=m,u}return y!==null&&y!==null&&De(y),o.callbackPriority=2,o.callbackNode=null,2}function L3(o,u){if(Xi!==0&&Xi!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(Vy()&&o.callbackNode!==m)return null;var y=Tr;return y=sr(o,o===_n?y:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),y===0?null:(y3(o,y,u),D3(o,ot()),o.callbackNode!=null&&o.callbackNode===m?L3.bind(null,o):null)}function M3(o,u){if(Vy())return null;y3(o,u,!0)}function OU(){WU(function(){(Xr&6)!==0?ze(ct,RU):O3()})}function j2(){if(zd===0){var o=b;o===0&&(o=Je,Je<<=1,(Je&261888)===0&&(Je=256)),zd=o}return zd}function z3(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:vs(""+o)}function F3(o,u){var m=u.ownerDocument.createElement("input");return m.name=u.name,m.value=u.value,o.id&&m.setAttribute("form",o.id),u.parentNode.insertBefore(m,u),o=new FormData(o),m.parentNode.removeChild(m),o}function DU(o,u,m,y,S){if(u==="submit"&&m&&m.stateNode===S){var T=z3((S[rn]||null).action),K=y.submitter;K&&(u=(u=K[rn]||null)?z3(u.formAction):K.getAttribute("formAction"),u!==null&&(T=u,K=null));var ue=new da("action","action",null,y,S);o.push({event:ue,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(zd!==0){var Ae=K?F3(S,K):new FormData(S);$b(m,{pending:!0,data:Ae,method:S.method,action:T},null,Ae)}}else typeof T=="function"&&(ue.preventDefault(),Ae=K?F3(S,K):new FormData(S),$b(m,{pending:!0,data:Ae,method:S.method,action:T},T,Ae))},currentTarget:S}]})}}for(var S2=0;S2<mu.length;S2++){var A2=mu[S2],LU=A2.toLowerCase(),MU=A2[0].toUpperCase()+A2.slice(1);Ws(LU,"on"+MU)}Ws(fu,"onAnimationEnd"),Ws(Ih,"onAnimationIteration"),Ws(qp,"onAnimationStart"),Ws("dblclick","onDoubleClick"),Ws("focusin","onFocus"),Ws("focusout","onBlur"),Ws(py,"onTransitionRun"),Ws(gy,"onTransitionStart"),Ws(yy,"onTransitionCancel"),Ws($p,"onTransitionEnd"),ys("onMouseEnter",["mouseout","mouseover"]),ys("onMouseLeave",["mouseout","mouseover"]),ys("onPointerEnter",["pointerout","pointerover"]),ys("onPointerLeave",["pointerout","pointerover"]),Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pg));function U3(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var y=o[m],S=y.event;y=y.listeners;e:{var T=void 0;if(u)for(var K=y.length-1;0<=K;K--){var ue=y[K],Ae=ue.instance,Ge=ue.currentTarget;if(ue=ue.listener,Ae!==T&&S.isPropagationStopped())break e;T=ue,S.currentTarget=Ge;try{T(S)}catch(it){Ph(it)}S.currentTarget=null,T=Ae}else for(K=0;K<y.length;K++){if(ue=y[K],Ae=ue.instance,Ge=ue.currentTarget,ue=ue.listener,Ae!==T&&S.isPropagationStopped())break e;T=ue,S.currentTarget=Ge;try{T(S)}catch(it){Ph(it)}S.currentTarget=null,T=Ae}}}}function Ar(o,u){var m=u[sa];m===void 0&&(m=u[sa]=new Set);var y=o+"__bubble";m.has(y)||(B3(u,o,2,!1),m.add(y))}function E2(o,u,m){var y=0;u&&(y|=4),B3(m,o,y,u)}var Hy="_reactListening"+Math.random().toString(36).slice(2);function T2(o){if(!o[Hy]){o[Hy]=!0,mc.forEach(function(m){m!=="selectionchange"&&(zU.has(m)||E2(m,!1,o),E2(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[Hy]||(u[Hy]=!0,E2("selectionchange",!1,u))}}function B3(o,u,m,y){switch(g6(u)){case 2:var S=hB;break;case 8:S=fB;break;default:S=q2}m=S.bind(null,u,m,o),S=void 0,!Pl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),y?S!==void 0?o.addEventListener(u,m,{capture:!0,passive:S}):o.addEventListener(u,m,!0):S!==void 0?o.addEventListener(u,m,{passive:S}):o.addEventListener(u,m,!1)}function C2(o,u,m,y,S){var T=y;if((u&1)===0&&(u&2)===0&&y!==null)e:for(;;){if(y===null)return;var K=y.tag;if(K===3||K===4){var ue=y.stateNode.containerInfo;if(ue===S)break;if(K===4)for(K=y.return;K!==null;){var Ae=K.tag;if((Ae===3||Ae===4)&&K.stateNode.containerInfo===S)return;K=K.return}for(;ue!==null;){if(K=Ta(ue),K===null)return;if(Ae=K.tag,Ae===5||Ae===6||Ae===26||Ae===27){y=T=K;continue e}ue=ue.parentNode}}y=y.return}Ko(function(){var Ge=T,it=ua(m),ut=[];e:{var Ke=Hp.get(o);if(Ke!==void 0){var Ze=da,Mt=o;switch(o){case"keypress":if(Bs(m)===0)break e;case"keydown":case"keyup":Ze=Er;break;case"focusin":Mt="focus",Ze=js;break;case"focusout":Mt="blur",Ze=js;break;case"beforeblur":case"afterblur":Ze=js;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ze=Ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ze=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ze=q;break;case fu:case Ih:case qp:Ze=O;break;case $p:Ze=me;break;case"scroll":case"scrollend":Ze=Zo;break;case"wheel":Ze=We;break;case"copy":case"cut":case"paste":Ze=_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ze=Qr;break;case"toggle":case"beforetoggle":Ze=ir}var nr=(u&4)!==0,vn=!nr&&(o==="scroll"||o==="scrollend"),Fe=nr?Ke!==null?Ke+"Capture":null:Ke;nr=[];for(var ke=Ge,He;ke!==null;){var st=ke;if(He=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||He===null||Fe===null||(st=xi(ke,Fe),st!=null&&nr.push(gg(ke,st,He))),vn)break;ke=ke.return}0<nr.length&&(Ke=new Ze(Ke,Mt,null,m,it),ut.push({event:Ke,listeners:nr}))}}if((u&7)===0){e:{if(Ke=o==="mouseover"||o==="pointerover",Ze=o==="mouseout"||o==="pointerout",Ke&&m!==No&&(Mt=m.relatedTarget||m.fromElement)&&(Ta(Mt)||Mt[si]))break e;if((Ze||Ke)&&(Ke=it.window===it?it:(Ke=it.ownerDocument)?Ke.defaultView||Ke.parentWindow:window,Ze?(Mt=m.relatedTarget||m.toElement,Ze=Ge,Mt=Mt?Ta(Mt):null,Mt!==null&&(vn=a(Mt),nr=Mt.tag,Mt!==vn||nr!==5&&nr!==27&&nr!==6)&&(Mt=null)):(Ze=null,Mt=Ge),Ze!==Mt)){if(nr=Ns,st="onMouseLeave",Fe="onMouseEnter",ke="mouse",(o==="pointerout"||o==="pointerover")&&(nr=Qr,st="onPointerLeave",Fe="onPointerEnter",ke="pointer"),vn=Ze==null?Ke:Ca(Ze),He=Mt==null?Ke:Ca(Mt),Ke=new nr(st,ke+"leave",Ze,m,it),Ke.target=vn,Ke.relatedTarget=He,st=null,Ta(it)===Ge&&(nr=new nr(Fe,ke+"enter",Mt,m,it),nr.target=He,nr.relatedTarget=vn,st=nr),vn=st,Ze&&Mt)t:{for(nr=FU,Fe=Ze,ke=Mt,He=0,st=Fe;st;st=nr(st))He++;st=0;for(var Zt=ke;Zt;Zt=nr(Zt))st++;for(;0<He-st;)Fe=nr(Fe),He--;for(;0<st-He;)ke=nr(ke),st--;for(;He--;){if(Fe===ke||ke!==null&&Fe===ke.alternate){nr=Fe;break t}Fe=nr(Fe),ke=nr(ke)}nr=null}else nr=null;Ze!==null&&V3(ut,Ke,Ze,nr,!1),Mt!==null&&vn!==null&&V3(ut,vn,Mt,nr,!0)}}e:{if(Ke=Ge?Ca(Ge):window,Ze=Ke.nodeName&&Ke.nodeName.toLowerCase(),Ze==="select"||Ze==="input"&&Ke.type==="file")var Hr=Nc;else if(Ch(Ke))if(es)Hr=rl;else{Hr=Zn;var qt=vd}else Ze=Ke.nodeName,!Ze||Ze.toLowerCase()!=="input"||Ke.type!=="checkbox"&&Ke.type!=="radio"?Ge&&vc(Ge.elementType)&&(Hr=Nc):Hr=Gf;if(Hr&&(Hr=Hr(o,Ge))){As(ut,Hr,m,it);break e}qt&&qt(o,Ke,Ge),o==="focusout"&&Ge&&Ke.type==="number"&&Ge.memoizedProps.value!=null&&su(Ke,"number",Ke.value)}switch(qt=Ge?Ca(Ge):window,o){case"focusin":(Ch(qt)||qt.contentEditable==="true")&&(Es=qt,Bl=Ge,fa=null);break;case"focusout":fa=Bl=Es=null;break;case"mousedown":Hs=!0;break;case"contextmenu":case"mouseup":case"dragend":Hs=!1,Ur(ut,m,it);break;case"selectionchange":if(hu)break;case"keydown":case"keyup":Ur(ut,m,it)}var xr;if(vr)e:{switch(o){case"compositionstart":var Cr="onCompositionStart";break e;case"compositionend":Cr="onCompositionEnd";break e;case"compositionupdate":Cr="onCompositionUpdate";break e}Cr=void 0}else Jo?Ss(o,m)&&(Cr="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Cr="onCompositionStart");Cr&&(ha&&m.locale!=="ko"&&(Jo||Cr!=="onCompositionStart"?Cr==="onCompositionEnd"&&Jo&&(xr=Xo()):(Ia=it,Rl="value"in Ia?Ia.value:Ia.textContent,Jo=!0)),qt=Wy(Ge,Cr),0<qt.length&&(Cr=new Me(Cr,o,null,m,it),ut.push({event:Cr,listeners:qt}),xr?Cr.data=xr:(xr=Qo(m),xr!==null&&(Cr.data=xr)))),(xr=Ci?zn(o,m):Dl(o,m))&&(Cr=Wy(Ge,"onBeforeInput"),0<Cr.length&&(qt=new Me("onBeforeInput","beforeinput",null,m,it),ut.push({event:qt,listeners:Cr}),qt.data=xr)),DU(ut,o,Ge,m,it)}U3(ut,u)})}function gg(o,u,m){return{instance:o,listener:u,currentTarget:m}}function Wy(o,u){for(var m=u+"Capture",y=[];o!==null;){var S=o,T=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||T===null||(S=xi(o,m),S!=null&&y.unshift(gg(o,S,T)),S=xi(o,u),S!=null&&y.push(gg(o,S,T))),o.tag===3)return y;o=o.return}return[]}function FU(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function V3(o,u,m,y,S){for(var T=u._reactName,K=[];m!==null&&m!==y;){var ue=m,Ae=ue.alternate,Ge=ue.stateNode;if(ue=ue.tag,Ae!==null&&Ae===y)break;ue!==5&&ue!==26&&ue!==27||Ge===null||(Ae=Ge,S?(Ge=xi(m,T),Ge!=null&&K.unshift(gg(m,Ge,Ae))):S||(Ge=xi(m,T),Ge!=null&&K.push(gg(m,Ge,Ae)))),m=m.return}K.length!==0&&o.push({event:u,listeners:K})}var UU=/\r\n?/g,BU=/\u0000|\uFFFD/g;function q3(o){return(typeof o=="string"?o:""+o).replace(UU,`
`).replace(BU,"")}function $3(o,u){return u=q3(u),q3(o)===u}function xn(o,u,m,y,S,T){switch(m){case"children":typeof y=="string"?u==="body"||u==="textarea"&&y===""||Kn(o,y):(typeof y=="number"||typeof y=="bigint")&&u!=="body"&&Kn(o,""+y);break;case"className":ka(o,"class",y);break;case"tabIndex":ka(o,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":ka(o,m,y);break;case"style":cu(o,y,T);break;case"data":if(u!=="object"){ka(o,"data",y);break}case"src":case"href":if(y===""&&(u!=="a"||m!=="href")){o.removeAttribute(m);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=vs(""+y),o.setAttribute(m,y);break;case"action":case"formAction":if(typeof y=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(m==="formAction"?(u!=="input"&&xn(o,u,"name",S.name,S,null),xn(o,u,"formEncType",S.formEncType,S,null),xn(o,u,"formMethod",S.formMethod,S,null),xn(o,u,"formTarget",S.formTarget,S,null)):(xn(o,u,"encType",S.encType,S,null),xn(o,u,"method",S.method,S,null),xn(o,u,"target",S.target,S,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){o.removeAttribute(m);break}y=vs(""+y),o.setAttribute(m,y);break;case"onClick":y!=null&&(o.onclick=bs);break;case"onScroll":y!=null&&Ar("scroll",o);break;case"onScrollEnd":y!=null&&Ar("scrollend",o);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"multiple":o.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":o.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){o.removeAttribute("xlink:href");break}m=vs(""+y),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""+y):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":y===!0?o.setAttribute(m,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?o.setAttribute(m,y):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?o.setAttribute(m,y):o.removeAttribute(m);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?o.removeAttribute(m):o.setAttribute(m,y);break;case"popover":Ar("beforetoggle",o),Ar("toggle",o),bo(o,"popover",y);break;case"xlinkActuate":yr(o,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":yr(o,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":yr(o,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":yr(o,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":yr(o,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":yr(o,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":yr(o,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":yr(o,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":yr(o,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":bo(o,"is",y);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=bc.get(m)||m,bo(o,m,y))}}function k2(o,u,m,y,S,T){switch(m){case"style":cu(o,y,T);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(m=y.__html,m!=null){if(S.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"children":typeof y=="string"?Kn(o,y):(typeof y=="number"||typeof y=="bigint")&&Kn(o,""+y);break;case"onScroll":y!=null&&Ar("scroll",o);break;case"onScrollEnd":y!=null&&Ar("scrollend",o);break;case"onClick":y!=null&&(o.onclick=bs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!la.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(S=m.endsWith("Capture"),u=m.slice(2,S?m.length-7:void 0),T=o[rn]||null,T=T!=null?T[m]:null,typeof T=="function"&&o.removeEventListener(u,T,S),typeof y=="function")){typeof T!="function"&&T!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(u,y,S);break e}m in o?o[m]=y:y===!0?o.setAttribute(m,""):bo(o,m,y)}}}function Fa(o,u,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ar("error",o),Ar("load",o);var y=!1,S=!1,T;for(T in m)if(m.hasOwnProperty(T)){var K=m[T];if(K!=null)switch(T){case"src":y=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:xn(o,u,T,K,m,null)}}S&&xn(o,u,"srcSet",m.srcSet,m,null),y&&xn(o,u,"src",m.src,m,null);return;case"input":Ar("invalid",o);var ue=T=K=S=null,Ae=null,Ge=null;for(y in m)if(m.hasOwnProperty(y)){var it=m[y];if(it!=null)switch(y){case"name":S=it;break;case"type":K=it;break;case"checked":Ae=it;break;case"defaultChecked":Ge=it;break;case"value":T=it;break;case"defaultValue":ue=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(n(137,u));break;default:xn(o,u,y,it,m,null)}}gd(o,T,ue,Ae,Ge,K,S,!1);return;case"select":Ar("invalid",o),y=K=T=null;for(S in m)if(m.hasOwnProperty(S)&&(ue=m[S],ue!=null))switch(S){case"value":T=ue;break;case"defaultValue":K=ue;break;case"multiple":y=ue;default:xn(o,u,S,ue,m,null)}u=T,m=K,o.multiple=!!y,u!=null?Vi(o,!!y,u,!1):m!=null&&Vi(o,!!y,m,!0);return;case"textarea":Ar("invalid",o),T=S=y=null;for(K in m)if(m.hasOwnProperty(K)&&(ue=m[K],ue!=null))switch(K){case"value":y=ue;break;case"defaultValue":S=ue;break;case"children":T=ue;break;case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(91));break;default:xn(o,u,K,ue,m,null)}_o(o,y,S,T);return;case"option":for(Ae in m)if(m.hasOwnProperty(Ae)&&(y=m[Ae],y!=null))switch(Ae){case"selected":o.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:xn(o,u,Ae,y,m,null)}return;case"dialog":Ar("beforetoggle",o),Ar("toggle",o),Ar("cancel",o),Ar("close",o);break;case"iframe":case"object":Ar("load",o);break;case"video":case"audio":for(y=0;y<pg.length;y++)Ar(pg[y],o);break;case"image":Ar("error",o),Ar("load",o);break;case"details":Ar("toggle",o);break;case"embed":case"source":case"link":Ar("error",o),Ar("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ge in m)if(m.hasOwnProperty(Ge)&&(y=m[Ge],y!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:xn(o,u,Ge,y,m,null)}return;default:if(vc(u)){for(it in m)m.hasOwnProperty(it)&&(y=m[it],y!==void 0&&k2(o,u,it,y,m,void 0));return}}for(ue in m)m.hasOwnProperty(ue)&&(y=m[ue],y!=null&&xn(o,u,ue,y,m,null))}function VU(o,u,m,y){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,T=null,K=null,ue=null,Ae=null,Ge=null,it=null;for(Ze in m){var ut=m[Ze];if(m.hasOwnProperty(Ze)&&ut!=null)switch(Ze){case"checked":break;case"value":break;case"defaultValue":Ae=ut;default:y.hasOwnProperty(Ze)||xn(o,u,Ze,null,y,ut)}}for(var Ke in y){var Ze=y[Ke];if(ut=m[Ke],y.hasOwnProperty(Ke)&&(Ze!=null||ut!=null))switch(Ke){case"type":T=Ze;break;case"name":S=Ze;break;case"checked":Ge=Ze;break;case"defaultChecked":it=Ze;break;case"value":K=Ze;break;case"defaultValue":ue=Ze;break;case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(n(137,u));break;default:Ze!==ut&&xn(o,u,Ke,Ze,y,ut)}}yc(o,K,ue,Ae,Ge,it,T,S);return;case"select":Ze=K=ue=Ke=null;for(T in m)if(Ae=m[T],m.hasOwnProperty(T)&&Ae!=null)switch(T){case"value":break;case"multiple":Ze=Ae;default:y.hasOwnProperty(T)||xn(o,u,T,null,y,Ae)}for(S in y)if(T=y[S],Ae=m[S],y.hasOwnProperty(S)&&(T!=null||Ae!=null))switch(S){case"value":Ke=T;break;case"defaultValue":ue=T;break;case"multiple":K=T;default:T!==Ae&&xn(o,u,S,T,y,Ae)}u=ue,m=K,y=Ze,Ke!=null?Vi(o,!!m,Ke,!1):!!y!=!!m&&(u!=null?Vi(o,!!m,u,!0):Vi(o,!!m,m?[]:"",!1));return;case"textarea":Ze=Ke=null;for(ue in m)if(S=m[ue],m.hasOwnProperty(ue)&&S!=null&&!y.hasOwnProperty(ue))switch(ue){case"value":break;case"children":break;default:xn(o,u,ue,null,y,S)}for(K in y)if(S=y[K],T=m[K],y.hasOwnProperty(K)&&(S!=null||T!=null))switch(K){case"value":Ke=S;break;case"defaultValue":Ze=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==T&&xn(o,u,K,S,y,T)}ou(o,Ke,Ze);return;case"option":for(var Mt in m)if(Ke=m[Mt],m.hasOwnProperty(Mt)&&Ke!=null&&!y.hasOwnProperty(Mt))switch(Mt){case"selected":o.selected=!1;break;default:xn(o,u,Mt,null,y,Ke)}for(Ae in y)if(Ke=y[Ae],Ze=m[Ae],y.hasOwnProperty(Ae)&&Ke!==Ze&&(Ke!=null||Ze!=null))switch(Ae){case"selected":o.selected=Ke&&typeof Ke!="function"&&typeof Ke!="symbol";break;default:xn(o,u,Ae,Ke,y,Ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nr in m)Ke=m[nr],m.hasOwnProperty(nr)&&Ke!=null&&!y.hasOwnProperty(nr)&&xn(o,u,nr,null,y,Ke);for(Ge in y)if(Ke=y[Ge],Ze=m[Ge],y.hasOwnProperty(Ge)&&Ke!==Ze&&(Ke!=null||Ze!=null))switch(Ge){case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(n(137,u));break;default:xn(o,u,Ge,Ke,y,Ze)}return;default:if(vc(u)){for(var vn in m)Ke=m[vn],m.hasOwnProperty(vn)&&Ke!==void 0&&!y.hasOwnProperty(vn)&&k2(o,u,vn,void 0,y,Ke);for(it in y)Ke=y[it],Ze=m[it],!y.hasOwnProperty(it)||Ke===Ze||Ke===void 0&&Ze===void 0||k2(o,u,it,Ke,y,Ze);return}}for(var Fe in m)Ke=m[Fe],m.hasOwnProperty(Fe)&&Ke!=null&&!y.hasOwnProperty(Fe)&&xn(o,u,Fe,null,y,Ke);for(ut in y)Ke=y[ut],Ze=m[ut],!y.hasOwnProperty(ut)||Ke===Ze||Ke==null&&Ze==null||xn(o,u,ut,Ke,y,Ze)}function H3(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qU(){if(typeof performance.getEntriesByType=="function"){for(var o=0,u=0,m=performance.getEntriesByType("resource"),y=0;y<m.length;y++){var S=m[y],T=S.transferSize,K=S.initiatorType,ue=S.duration;if(T&&ue&&H3(K)){for(K=0,ue=S.responseEnd,y+=1;y<m.length;y++){var Ae=m[y],Ge=Ae.startTime;if(Ge>ue)break;var it=Ae.transferSize,ut=Ae.initiatorType;it&&H3(ut)&&(Ae=Ae.responseEnd,K+=it*(Ae<ue?1:(ue-Ge)/(Ae-Ge)))}if(--y,u+=8*(T+K)/(S.duration/1e3),o++,10<o)break}}if(0<o)return u/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var I2=null,P2=null;function Gy(o){return o.nodeType===9?o:o.ownerDocument}function W3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G3(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function R2(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var O2=null;function $U(){var o=window.event;return o&&o.type==="popstate"?o===O2?!1:(O2=o,!0):(O2=null,!1)}var Y3=typeof setTimeout=="function"?setTimeout:void 0,HU=typeof clearTimeout=="function"?clearTimeout:void 0,K3=typeof Promise=="function"?Promise:void 0,WU=typeof queueMicrotask=="function"?queueMicrotask:typeof K3<"u"?function(o){return K3.resolve(null).then(o).catch(GU)}:Y3;function GU(o){setTimeout(function(){throw o})}function Fd(o){return o==="head"}function X3(o,u){var m=u,y=0;do{var S=m.nextSibling;if(o.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"||m==="/&"){if(y===0){o.removeChild(S),Am(u);return}y--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")y++;else if(m==="html")yg(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,yg(m);for(var T=m.firstChild;T;){var K=T.nextSibling,ue=T.nodeName;T[oa]||ue==="SCRIPT"||ue==="STYLE"||ue==="LINK"&&T.rel.toLowerCase()==="stylesheet"||m.removeChild(T),T=K}}else m==="body"&&yg(o.ownerDocument.body);m=S}while(m);Am(u)}function Z3(o,u){var m=o;o=0;do{var y=m.nextSibling;if(m.nodeType===1?u?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(u?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),y&&y.nodeType===8)if(m=y.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=y}while(m)}function D2(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var m=u;switch(u=u.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":D2(m),vo(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function YU(o,u,m,y){for(;o.nodeType===1;){var S=m;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!y&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(y){if(!o[oa])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(T=o.getAttribute("rel"),T==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(T!==S.rel||o.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||o.getAttribute("title")!==(S.title==null?null:S.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(T=o.getAttribute("src"),(T!==(S.src==null?null:S.src)||o.getAttribute("type")!==(S.type==null?null:S.type)||o.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&T&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var T=S.name==null?null:""+S.name;if(S.type==="hidden"&&o.getAttribute("name")===T)return o}else return o;if(o=cl(o.nextSibling),o===null)break}return null}function KU(o,u,m){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=cl(o.nextSibling),o===null))return null;return o}function Q3(o,u){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!u||(o=cl(o.nextSibling),o===null))return null;return o}function L2(o){return o.data==="$?"||o.data==="$~"}function M2(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function XU(o,u){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=u;else if(o.data!=="$?"||m.readyState!=="loading")u();else{var y=function(){u(),m.removeEventListener("DOMContentLoaded",y)};m.addEventListener("DOMContentLoaded",y),o._reactRetry=y}}function cl(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return o}var z2=null;function J3(o){o=o.nextSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(u===0)return cl(o.nextSibling);u--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||u++}o=o.nextSibling}return null}function e6(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(u===0)return o;u--}else m!=="/$"&&m!=="/&"||u++}o=o.previousSibling}return null}function t6(o,u,m){switch(u=Gy(m),o){case"html":if(o=u.documentElement,!o)throw Error(n(452));return o;case"head":if(o=u.head,!o)throw Error(n(453));return o;case"body":if(o=u.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function yg(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);vo(o)}var ul=new Map,r6=new Set;function Yy(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var ku=Q.d;Q.d={f:ZU,r:QU,D:JU,C:eB,L:tB,m:rB,X:iB,S:nB,M:aB};function ZU(){var o=ku.f(),u=Fy();return o||u}function QU(o){var u=Ui(o);u!==null&&u.tag===5&&u.type==="form"?v4(u):ku.r(o)}var Nm=typeof document>"u"?null:document;function n6(o,u,m){var y=Nm;if(y&&typeof u=="string"&&u){var S=Ti(u);S='link[rel="'+o+'"][href="'+S+'"]',typeof m=="string"&&(S+='[crossorigin="'+m+'"]'),r6.has(S)||(r6.add(S),o={rel:o,crossOrigin:m,href:u},y.querySelector(S)===null&&(u=y.createElement("link"),Fa(u,"link",o),En(u),y.head.appendChild(u)))}}function JU(o){ku.D(o),n6("dns-prefetch",o,null)}function eB(o,u){ku.C(o,u),n6("preconnect",o,u)}function tB(o,u,m){ku.L(o,u,m);var y=Nm;if(y&&o&&u){var S='link[rel="preload"][as="'+Ti(u)+'"]';u==="image"&&m&&m.imageSrcSet?(S+='[imagesrcset="'+Ti(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(S+='[imagesizes="'+Ti(m.imageSizes)+'"]')):S+='[href="'+Ti(o)+'"]';var T=S;switch(u){case"style":T=jm(o);break;case"script":T=Sm(o)}ul.has(T)||(o=p({rel:"preload",href:u==="image"&&m&&m.imageSrcSet?void 0:o,as:u},m),ul.set(T,o),y.querySelector(S)!==null||u==="style"&&y.querySelector(xg(T))||u==="script"&&y.querySelector(vg(T))||(u=y.createElement("link"),Fa(u,"link",o),En(u),y.head.appendChild(u)))}}function rB(o,u){ku.m(o,u);var m=Nm;if(m&&o){var y=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+Ti(y)+'"][href="'+Ti(o)+'"]',T=S;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Sm(o)}if(!ul.has(T)&&(o=p({rel:"modulepreload",href:o},u),ul.set(T,o),m.querySelector(S)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(vg(T)))return}y=m.createElement("link"),Fa(y,"link",o),En(y),m.head.appendChild(y)}}}function nB(o,u,m){ku.S(o,u,m);var y=Nm;if(y&&o){var S=Za(y).hoistableStyles,T=jm(o);u=u||"default";var K=S.get(T);if(!K){var ue={loading:0,preload:null};if(K=y.querySelector(xg(T)))ue.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},m),(m=ul.get(T))&&F2(o,m);var Ae=K=y.createElement("link");En(Ae),Fa(Ae,"link",o),Ae._p=new Promise(function(Ge,it){Ae.onload=Ge,Ae.onerror=it}),Ae.addEventListener("load",function(){ue.loading|=1}),Ae.addEventListener("error",function(){ue.loading|=2}),ue.loading|=4,Ky(K,u,y)}K={type:"stylesheet",instance:K,count:1,state:ue},S.set(T,K)}}}function iB(o,u){ku.X(o,u);var m=Nm;if(m&&o){var y=Za(m).hoistableScripts,S=Sm(o),T=y.get(S);T||(T=m.querySelector(vg(S)),T||(o=p({src:o,async:!0},u),(u=ul.get(S))&&U2(o,u),T=m.createElement("script"),En(T),Fa(T,"link",o),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(S,T))}}function aB(o,u){ku.M(o,u);var m=Nm;if(m&&o){var y=Za(m).hoistableScripts,S=Sm(o),T=y.get(S);T||(T=m.querySelector(vg(S)),T||(o=p({src:o,async:!0,type:"module"},u),(u=ul.get(S))&&U2(o,u),T=m.createElement("script"),En(T),Fa(T,"link",o),m.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},y.set(S,T))}}function i6(o,u,m,y){var S=(S=be.current)?Yy(S):null;if(!S)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(u=jm(m.href),m=Za(S).hoistableStyles,y=m.get(u),y||(y={type:"style",instance:null,count:0,state:null},m.set(u,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=jm(m.href);var T=Za(S).hoistableStyles,K=T.get(o);if(K||(S=S.ownerDocument||S,K={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(o,K),(T=S.querySelector(xg(o)))&&!T._p&&(K.instance=T,K.state.loading=5),ul.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},ul.set(o,m),T||sB(S,o,m,K.state))),u&&y===null)throw Error(n(528,""));return K}if(u&&y!==null)throw Error(n(529,""));return null;case"script":return u=m.async,m=m.src,typeof m=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Sm(m),m=Za(S).hoistableScripts,y=m.get(u),y||(y={type:"script",instance:null,count:0,state:null},m.set(u,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function jm(o){return'href="'+Ti(o)+'"'}function xg(o){return'link[rel="stylesheet"]['+o+"]"}function a6(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function sB(o,u,m,y){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?y.loading=1:(u=o.createElement("link"),y.preload=u,u.addEventListener("load",function(){return y.loading|=1}),u.addEventListener("error",function(){return y.loading|=2}),Fa(u,"link",m),En(u),o.head.appendChild(u))}function Sm(o){return'[src="'+Ti(o)+'"]'}function vg(o){return"script[async]"+o}function s6(o,u,m){if(u.count++,u.instance===null)switch(u.type){case"style":var y=o.querySelector('style[data-href~="'+Ti(m.href)+'"]');if(y)return u.instance=y,En(y),y;var S=p({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return y=(o.ownerDocument||o).createElement("style"),En(y),Fa(y,"style",S),Ky(y,m.precedence,o),u.instance=y;case"stylesheet":S=jm(m.href);var T=o.querySelector(xg(S));if(T)return u.state.loading|=4,u.instance=T,En(T),T;y=a6(m),(S=ul.get(S))&&F2(y,S),T=(o.ownerDocument||o).createElement("link"),En(T);var K=T;return K._p=new Promise(function(ue,Ae){K.onload=ue,K.onerror=Ae}),Fa(T,"link",y),u.state.loading|=4,Ky(T,m.precedence,o),u.instance=T;case"script":return T=Sm(m.src),(S=o.querySelector(vg(T)))?(u.instance=S,En(S),S):(y=m,(S=ul.get(T))&&(y=p({},m),U2(y,S)),o=o.ownerDocument||o,S=o.createElement("script"),En(S),Fa(S,"link",y),o.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(y=u.instance,u.state.loading|=4,Ky(y,m.precedence,o));return u.instance}function Ky(o,u,m){for(var y=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=y.length?y[y.length-1]:null,T=S,K=0;K<y.length;K++){var ue=y[K];if(ue.dataset.precedence===u)T=ue;else if(T!==S)break}T?T.parentNode.insertBefore(o,T.nextSibling):(u=m.nodeType===9?m.head:m,u.insertBefore(o,u.firstChild))}function F2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function U2(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var Xy=null;function o6(o,u,m){if(Xy===null){var y=new Map,S=Xy=new Map;S.set(m,y)}else S=Xy,y=S.get(m),y||(y=new Map,S.set(m,y));if(y.has(o))return y;for(y.set(o,null),m=m.getElementsByTagName(o),S=0;S<m.length;S++){var T=m[S];if(!(T[oa]||T[Vr]||o==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var K=T.getAttribute(u)||"";K=o+K;var ue=y.get(K);ue?ue.push(T):y.set(K,[T])}}return y}function l6(o,u,m){o=o.ownerDocument||o,o.head.insertBefore(m,u==="title"?o.querySelector("head > title"):null)}function oB(o,u,m){if(m===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function c6(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function lB(o,u,m,y){if(m.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var S=jm(y.href),T=u.querySelector(xg(S));if(T){u=T._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(o.count++,o=Zy.bind(o),u.then(o,o)),m.state.loading|=4,m.instance=T,En(T);return}T=u.ownerDocument||u,y=a6(y),(S=ul.get(S))&&F2(y,S),T=T.createElement("link"),En(T);var K=T;K._p=new Promise(function(ue,Ae){K.onload=ue,K.onerror=Ae}),Fa(T,"link",y),m.instance=T}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,u),(u=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=Zy.bind(o),u.addEventListener("load",m),u.addEventListener("error",m))}}var B2=0;function cB(o,u){return o.stylesheets&&o.count===0&&Jy(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var y=setTimeout(function(){if(o.stylesheets&&Jy(o,o.stylesheets),o.unsuspend){var T=o.unsuspend;o.unsuspend=null,T()}},6e4+u);0<o.imgBytes&&B2===0&&(B2=62500*qU());var S=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&Jy(o,o.stylesheets),o.unsuspend)){var T=o.unsuspend;o.unsuspend=null,T()}},(o.imgBytes>B2?50:800)+u);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(y),clearTimeout(S)}}:null}function Zy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jy(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Qy=null;function Jy(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Qy=new Map,u.forEach(uB,o),Qy=null,Zy.call(o))}function uB(o,u){if(!(u.state.loading&4)){var m=Qy.get(o);if(m)var y=m.get(null);else{m=new Map,Qy.set(o,m);for(var S=o.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<S.length;T++){var K=S[T];(K.nodeName==="LINK"||K.getAttribute("media")!=="not all")&&(m.set(K.dataset.precedence,K),y=K)}y&&m.set(null,y)}S=u.instance,K=S.getAttribute("data-precedence"),T=m.get(K)||y,T===y&&m.set(null,S),m.set(K,S),this.count++,y=Zy.bind(this),S.addEventListener("load",y),S.addEventListener("error",y),T?T.parentNode.insertBefore(S,T.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(S,o.firstChild)),u.state.loading|=4}}var bg={$$typeof:C,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function dB(o,u,m,y,S,T,K,ue,Ae){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gn(0),this.hiddenUpdates=Gn(null),this.identifierPrefix=y,this.onUncaughtError=S,this.onCaughtError=T,this.onRecoverableError=K,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Ae,this.incompleteTransitions=new Map}function u6(o,u,m,y,S,T,K,ue,Ae,Ge,it,ut){return o=new dB(o,u,m,K,Ae,Ge,it,ut,ue),u=1,T===!0&&(u|=24),T=pa(3,null,null,u),o.current=T,T.stateNode=o,u=Ed(),u.refCount++,o.pooledCache=u,u.refCount++,T.memoizedState={element:y,isDehydrated:m,cache:u},_t(T),o}function d6(o){return o?(o=Hi,o):Hi}function h6(o,u,m,y,S,T){S=d6(S),y.context===null?y.context=S:y.pendingContext=S,y=tr(u),y.payload={element:m},T=T===void 0?null:T,T!==null&&(y.callback=T),m=gr(o,y,u),m!==null&&(ao(m,o,u),Yr(m,o,u))}function f6(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function V2(o,u){f6(o,u),(o=o.alternate)&&f6(o,u)}function m6(o){if(o.tag===13||o.tag===31){var u=Vl(o,67108864);u!==null&&ao(u,o,67108864),V2(o,67108864)}}function p6(o){if(o.tag===13||o.tag===31){var u=Io();u=Zr(u);var m=Vl(o,u);m!==null&&ao(m,o,u),V2(o,u)}}var ex=!0;function hB(o,u,m,y){var S=Y.T;Y.T=null;var T=Q.p;try{Q.p=2,q2(o,u,m,y)}finally{Q.p=T,Y.T=S}}function fB(o,u,m,y){var S=Y.T;Y.T=null;var T=Q.p;try{Q.p=8,q2(o,u,m,y)}finally{Q.p=T,Y.T=S}}function q2(o,u,m,y){if(ex){var S=$2(y);if(S===null)C2(o,u,y,tx,m),y6(o,y);else if(pB(S,o,u,m,y))y.stopPropagation();else if(y6(o,y),u&4&&-1<mB.indexOf(o)){for(;S!==null;){var T=Ui(S);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var K=Nt(T.pendingLanes);if(K!==0){var ue=T;for(ue.pendingLanes|=2,ue.entangledLanes|=2;K;){var Ae=1<<31-Bt(K);ue.entanglements[1]|=Ae,K&=~Ae}Lc(T),(Xr&6)===0&&(My=ot()+500,mg(0))}}break;case 31:case 13:ue=Vl(T,2),ue!==null&&ao(ue,T,2),Fy(),V2(T,2)}if(T=$2(y),T===null&&C2(o,u,y,tx,m),T===S)break;S=T}S!==null&&y.stopPropagation()}else C2(o,u,y,null,m)}}function $2(o){return o=ua(o),H2(o)}var tx=null;function H2(o){if(tx=null,o=Ta(o),o!==null){var u=a(o);if(u===null)o=null;else{var m=u.tag;if(m===13){if(o=l(u),o!==null)return o;o=null}else if(m===31){if(o=c(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return tx=o,null}function g6(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case ct:return 2;case Tt:return 8;case bt:case Se:return 32;case Le:return 268435456;default:return 32}default:return 32}}var W2=!1,Ud=null,Bd=null,Vd=null,wg=new Map,_g=new Map,qd=[],mB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y6(o,u){switch(o){case"focusin":case"focusout":Ud=null;break;case"dragenter":case"dragleave":Bd=null;break;case"mouseover":case"mouseout":Vd=null;break;case"pointerover":case"pointerout":wg.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":_g.delete(u.pointerId)}}function Ng(o,u,m,y,S,T){return o===null||o.nativeEvent!==T?(o={blockedOn:u,domEventName:m,eventSystemFlags:y,nativeEvent:T,targetContainers:[S]},u!==null&&(u=Ui(u),u!==null&&m6(u)),o):(o.eventSystemFlags|=y,u=o.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),o)}function pB(o,u,m,y,S){switch(u){case"focusin":return Ud=Ng(Ud,o,u,m,y,S),!0;case"dragenter":return Bd=Ng(Bd,o,u,m,y,S),!0;case"mouseover":return Vd=Ng(Vd,o,u,m,y,S),!0;case"pointerover":var T=S.pointerId;return wg.set(T,Ng(wg.get(T)||null,o,u,m,y,S)),!0;case"gotpointercapture":return T=S.pointerId,_g.set(T,Ng(_g.get(T)||null,o,u,m,y,S)),!0}return!1}function x6(o){var u=Ta(o.target);if(u!==null){var m=a(u);if(m!==null){if(u=m.tag,u===13){if(u=l(m),u!==null){o.blockedOn=u,Fi(o.priority,function(){p6(m)});return}}else if(u===31){if(u=c(m),u!==null){o.blockedOn=u,Fi(o.priority,function(){p6(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function rx(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=$2(o.nativeEvent);if(m===null){m=o.nativeEvent;var y=new m.constructor(m.type,m);No=y,m.target.dispatchEvent(y),No=null}else return u=Ui(m),u!==null&&m6(u),o.blockedOn=m,!1;u.shift()}return!0}function v6(o,u,m){rx(o)&&m.delete(u)}function gB(){W2=!1,Ud!==null&&rx(Ud)&&(Ud=null),Bd!==null&&rx(Bd)&&(Bd=null),Vd!==null&&rx(Vd)&&(Vd=null),wg.forEach(v6),_g.forEach(v6)}function nx(o,u){o.blockedOn===u&&(o.blockedOn=null,W2||(W2=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,gB)))}var ix=null;function b6(o){ix!==o&&(ix=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ix===o&&(ix=null);for(var u=0;u<o.length;u+=3){var m=o[u],y=o[u+1],S=o[u+2];if(typeof y!="function"){if(H2(y||m)===null)continue;break}var T=Ui(m);T!==null&&(o.splice(u,3),u-=3,$b(T,{pending:!0,data:S,method:m.method,action:y},y,S))}}))}function Am(o){function u(Ae){return nx(Ae,o)}Ud!==null&&nx(Ud,o),Bd!==null&&nx(Bd,o),Vd!==null&&nx(Vd,o),wg.forEach(u),_g.forEach(u);for(var m=0;m<qd.length;m++){var y=qd[m];y.blockedOn===o&&(y.blockedOn=null)}for(;0<qd.length&&(m=qd[0],m.blockedOn===null);)x6(m),m.blockedOn===null&&qd.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(y=0;y<m.length;y+=3){var S=m[y],T=m[y+1],K=S[rn]||null;if(typeof T=="function")K||b6(m);else if(K){var ue=null;if(T&&T.hasAttribute("formAction")){if(S=T,K=T[rn]||null)ue=K.formAction;else if(H2(S)!==null)continue}else ue=K.action;typeof ue=="function"?m[y+1]=ue:(m.splice(y,3),y-=3),b6(m)}}}function w6(){function o(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(K){return S=K})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),y||setTimeout(m,20)}function m(){if(!y&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,S=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(m,100),function(){y=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function G2(o){this._internalRoot=o}ax.prototype.render=G2.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(n(409));var m=u.current,y=Io();h6(m,y,o,u,null,null)},ax.prototype.unmount=G2.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;h6(o.current,2,null,o,null,null),Fy(),u[si]=null}};function ax(o){this._internalRoot=o}ax.prototype.unstable_scheduleHydration=function(o){if(o){var u=ai();o={blockedOn:null,target:o,priority:u};for(var m=0;m<qd.length&&u!==0&&u<qd[m].priority;m++);qd.splice(m,0,o),m===0&&x6(o)}};var _6=e.version;if(_6!=="19.2.0")throw Error(n(527,_6,"19.2.0"));Q.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=h(u),o=o!==null?f(o):null,o=o===null?null:o.stateNode,o};var yB={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sx.isDisabled&&sx.supportsFiber)try{ht=sx.inject(yB),ft=sx}catch{}}return Sg.createRoot=function(o,u){if(!i(o))throw Error(n(299));var m=!1,y="",S=C4,T=k4,K=I4;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(K=u.onRecoverableError)),u=u6(o,1,!1,null,null,m,y,null,S,T,K,w6),o[si]=u.current,T2(o),new G2(u)},Sg.hydrateRoot=function(o,u,m){if(!i(o))throw Error(n(299));var y=!1,S="",T=C4,K=k4,ue=I4,Ae=null;return m!=null&&(m.unstable_strictMode===!0&&(y=!0),m.identifierPrefix!==void 0&&(S=m.identifierPrefix),m.onUncaughtError!==void 0&&(T=m.onUncaughtError),m.onCaughtError!==void 0&&(K=m.onCaughtError),m.onRecoverableError!==void 0&&(ue=m.onRecoverableError),m.formState!==void 0&&(Ae=m.formState)),u=u6(o,1,!0,u,m??null,y,S,Ae,T,K,ue,w6),u.context=d6(null),m=u.current,y=Io(),y=Zr(y),S=tr(y),S.callback=null,gr(m,S,y),m=y,u.current.lanes=m,Wt(u,m),Lc(u),o[si]=u.current,T2(o),new ax(u)},Sg.version="19.2.0",Sg}var P6;function TB(){if(P6)return X2.exports;P6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),X2.exports=EB(),X2.exports}var CB=TB();const kB=ru(CB);/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var R6="popstate";function IB(t={}){function e(n,i){let{pathname:a,search:l,hash:c}=n.location;return E_("",{pathname:a,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:u0(i)}return RB(e,r,null,t)}function Hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function PB(){return Math.random().toString(36).substring(2,10)}function O6(t,e){return{usr:t.state,key:t.key,idx:e}}function E_(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?bp(e):e,state:r,key:e&&e.key||n||PB()}}function u0({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function bp(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function RB(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,c="POP",d=null,h=f();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function f(){return(l.state||{idx:null}).idx}function p(){c="POP";let _=f(),j=_==null?null:_-h;h=_,d&&d({action:c,location:v.location,delta:j})}function x(_,j){c="PUSH";let E=E_(v.location,_,j);h=f()+1;let C=O6(E,h),z=v.createHref(E);try{l.pushState(C,"",z)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(z)}a&&d&&d({action:c,location:v.location,delta:1})}function g(_,j){c="REPLACE";let E=E_(v.location,_,j);h=f();let C=O6(E,h),z=v.createHref(E);l.replaceState(C,"",z),a&&d&&d({action:c,location:v.location,delta:0})}function w(_){return OB(_)}let v={get action(){return c},get location(){return t(i,l)},listen(_){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(R6,p),d=_,()=>{i.removeEventListener(R6,p),d=null}},createHref(_){return e(i,_)},createURL:w,encodeLocation(_){let j=w(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:g,go(_){return l.go(_)}};return v}function OB(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Hn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:u0(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function V8(t,e,r="/"){return DB(t,e,r,!1)}function DB(t,e,r,n){let i=typeof e=="string"?bp(e):e,a=Ku(i.pathname||"/",r);if(a==null)return null;let l=q8(t);LB(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=GB(a);c=HB(l[d],h,n)}return c}function q8(t,e=[],r=[],n="",i=!1){let a=(l,c,d=i,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&d)return;Hn(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=qu([n,f.relativePath]),x=r.concat(f);l.children&&l.children.length>0&&(Hn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),q8(l.children,e,x,p,d)),!(l.path==null&&!l.index)&&e.push({path:p,score:qB(p,l.index),routesMeta:x})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))a(l,c);else for(let d of $8(l.path))a(l,c,!0,d)}),e}function $8(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=$8(n.join("/")),c=[];return c.push(...l.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...l),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function LB(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:$B(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var MB=/^:[\w-]+$/,zB=3,FB=2,UB=1,BB=10,VB=-2,D6=t=>t==="*";function qB(t,e){let r=t.split("/"),n=r.length;return r.some(D6)&&(n+=VB),e&&(n+=FB),r.filter(i=>!D6(i)).reduce((i,a)=>i+(MB.test(a)?zB:a===""?UB:BB),n)}function $B(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function HB(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",p=uv({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},f),x=d.route;if(!p&&h&&r&&!n[n.length-1].route.index&&(p=uv({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),l.push({params:i,pathname:qu([a,p.pathname]),pathnameBase:ZB(qu([a,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(a=qu([a,p.pathnameBase]))}return l}function uv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=WB(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},x)=>{if(f==="*"){let w=c[x]||"";l=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const g=c[x];return p&&!g?h[f]=void 0:h[f]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function WB(t,e=!1,r=!0){wl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function GB(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wl(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ku(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function YB(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?bp(t):t;return{pathname:r?r.startsWith("/")?r:KB(r,e):e,search:QB(n),hash:JB(i)}}function KB(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ew(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function XB(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function sj(t){let e=XB(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function oj(t,e,r,n=!1){let i;typeof t=="string"?i=bp(t):(i={...t},Hn(!i.pathname||!i.pathname.includes("?"),ew("?","pathname","search",i)),Hn(!i.pathname||!i.pathname.includes("#"),ew("#","pathname","hash",i)),Hn(!i.search||!i.search.includes("#"),ew("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=r;else{let p=e.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),p-=1;i.pathname=x.join("/")}c=p>=0?e[p]:"/"}let d=YB(i,c),h=l&&l!=="/"&&l.endsWith("/"),f=(a||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||f)&&(d.pathname+="/"),d}var qu=t=>t.join("/").replace(/\/\/+/g,"/"),ZB=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QB=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JB=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var H8=["POST","PUT","PATCH","DELETE"];new Set(H8);var tV=["GET",...H8];new Set(tV);var wp=V.createContext(null);wp.displayName="DataRouter";var S1=V.createContext(null);S1.displayName="DataRouterState";V.createContext(!1);var W8=V.createContext({isTransitioning:!1});W8.displayName="ViewTransition";var rV=V.createContext(new Map);rV.displayName="Fetchers";var nV=V.createContext(null);nV.displayName="Await";var uc=V.createContext(null);uc.displayName="Navigation";var z0=V.createContext(null);z0.displayName="Location";var dc=V.createContext({outlet:null,matches:[],isDataRoute:!1});dc.displayName="Route";var lj=V.createContext(null);lj.displayName="RouteError";function iV(t,{relative:e}={}){Hn(_p(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=V.useContext(uc),{hash:i,pathname:a,search:l}=F0(t,{relative:e}),c=a;return r!=="/"&&(c=a==="/"?r:qu([r,a])),n.createHref({pathname:c,search:l,hash:i})}function _p(){return V.useContext(z0)!=null}function od(){return Hn(_p(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(z0).location}var G8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y8(t){V.useContext(uc).static||V.useLayoutEffect(t)}function ni(){let{isDataRoute:t}=V.useContext(dc);return t?xV():aV()}function aV(){Hn(_p(),"useNavigate() may be used only in the context of a <Router> component.");let t=V.useContext(wp),{basename:e,navigator:r}=V.useContext(uc),{matches:n}=V.useContext(dc),{pathname:i}=od(),a=JSON.stringify(sj(n)),l=V.useRef(!1);return Y8(()=>{l.current=!0}),V.useCallback((d,h={})=>{if(wl(l.current,G8),!l.current)return;if(typeof d=="number"){r.go(d);return}let f=oj(d,JSON.parse(a),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:qu([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,a,i,t])}V.createContext(null);function sV(){let{matches:t}=V.useContext(dc),e=t[t.length-1];return e?e.params:{}}function F0(t,{relative:e}={}){let{matches:r}=V.useContext(dc),{pathname:n}=od(),i=JSON.stringify(sj(r));return V.useMemo(()=>oj(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function oV(t,e){return K8(t,e)}function K8(t,e,r,n,i){Hn(_p(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=V.useContext(uc),{matches:l}=V.useContext(dc),c=l[l.length-1],d=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let E=p&&p.path||"";X8(h,!p||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let x=od(),g;if(e){let E=typeof e=="string"?bp(e):e;Hn(f==="/"||E.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${E.pathname}" was given in the \`location\` prop.`),g=E}else g=x;let w=g.pathname||"/",v=w;if(f!=="/"){let E=f.replace(/^\//,"").split("/");v="/"+w.replace(/^\//,"").split("/").slice(E.length).join("/")}let _=V8(t,{pathname:v});wl(p||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),wl(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=hV(_&&_.map(E=>Object.assign({},E,{params:Object.assign({},d,E.params),pathname:qu([f,a.encodeLocation?a.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?f:qu([f,a.encodeLocation?a.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),l,r,n,i);return e&&j?V.createElement(z0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},j):j}function lV(){let t=yV(),e=eV(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:a},"ErrorBoundary")," or"," ",V.createElement("code",{style:a},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),r?V.createElement("pre",{style:i},r):null,l)}var cV=V.createElement(lV,null),uV=class extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?V.createElement(dc.Provider,{value:this.props.routeContext},V.createElement(lj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dV({routeContext:t,match:e,children:r}){let n=V.useContext(wp);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(dc.Provider,{value:t},r)}function hV(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,l=r?.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);Hn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(r)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:x}=r,g=f.route.loader&&!p.hasOwnProperty(f.route.id)&&(!x||x[f.route.id]===void 0);if(f.route.lazy||g){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let x,g=!1,w=null,v=null;r&&(x=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||cV,c&&(d<0&&p===0?(X8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,v=null):d===p&&(g=!0,v=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,p+1)),j=()=>{let E;return x?E=w:g?E=v:f.route.Component?E=V.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,V.createElement(dV,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:r!=null},children:E})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?V.createElement(uV,{location:r.location,revalidation:r.revalidation,component:w,error:x,children:j(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):j()},null)}function cj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fV(t){let e=V.useContext(wp);return Hn(e,cj(t)),e}function mV(t){let e=V.useContext(S1);return Hn(e,cj(t)),e}function pV(t){let e=V.useContext(dc);return Hn(e,cj(t)),e}function uj(t){let e=pV(t),r=e.matches[e.matches.length-1];return Hn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function gV(){return uj("useRouteId")}function yV(){let t=V.useContext(lj),e=mV("useRouteError"),r=uj("useRouteError");return t!==void 0?t:e.errors?.[r]}function xV(){let{router:t}=fV("useNavigate"),e=uj("useNavigate"),r=V.useRef(!1);return Y8(()=>{r.current=!0}),V.useCallback(async(i,a={})=>{wl(r.current,G8),r.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var L6={};function X8(t,e,r){!e&&!L6[t]&&(L6[t]=!0,wl(!1,r))}V.memo(vV);function vV({routes:t,future:e,state:r,unstable_onError:n}){return K8(t,void 0,r,n,e)}function dj({to:t,replace:e,state:r,relative:n}){Hn(_p(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=V.useContext(uc);wl(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=V.useContext(dc),{pathname:l}=od(),c=ni(),d=oj(t,sj(a),l,n==="path"),h=JSON.stringify(d);return V.useEffect(()=>{c(JSON.parse(h),{replace:e,state:r,relative:n})},[c,h,n,e,r]),null}function ti(t){Hn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bV({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1}){Hn(!_p(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof r=="string"&&(r=bp(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:x="default"}=r,g=V.useMemo(()=>{let w=Ku(d,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:x},navigationType:n}},[l,d,h,f,p,x,n]);return wl(g!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:V.createElement(uc.Provider,{value:c},V.createElement(z0.Provider,{children:e,value:g}))}function wV({children:t,location:e}){return oV(T_(t),e)}function T_(t,e=[]){let r=[];return V.Children.forEach(t,(n,i)=>{if(!V.isValidElement(n))return;let a=[...e,i];if(n.type===V.Fragment){r.push.apply(r,T_(n.props.children,a));return}Hn(n.type===ti,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Hn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=T_(n.props.children,a)),r.push(l)}),r}var $x="get",Hx="application/x-www-form-urlencoded";function A1(t){return t!=null&&typeof t.tagName=="string"}function _V(t){return A1(t)&&t.tagName.toLowerCase()==="button"}function NV(t){return A1(t)&&t.tagName.toLowerCase()==="form"}function jV(t){return A1(t)&&t.tagName.toLowerCase()==="input"}function SV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AV(t,e){return t.button===0&&(!e||e==="_self")&&!SV(t)}function C_(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function EV(t,e){let r=C_(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}var lx=null;function TV(){if(lx===null)try{new FormData(document.createElement("form"),0),lx=!1}catch{lx=!0}return lx}var CV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tw(t){return t!=null&&!CV.has(t)?(wl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hx}"`),null):t}function kV(t,e){let r,n,i,a,l;if(NV(t)){let c=t.getAttribute("action");n=c?Ku(c,e):null,r=t.getAttribute("method")||$x,i=tw(t.getAttribute("enctype"))||Hx,a=new FormData(t)}else if(_V(t)||jV(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(n=d?Ku(d,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||$x,i=tw(t.getAttribute("formenctype"))||tw(c.getAttribute("enctype"))||Hx,a=new FormData(c,t),!TV()){let{name:h,type:f,value:p}=t;if(f==="image"){let x=h?`${h}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else h&&a.append(h,p)}}else{if(A1(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=$x,n=null,i=Hx,l=t}return a&&i==="text/plain"&&(l=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function hj(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IV(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Ku(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function PV(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function OV(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await PV(a,r);return l.links?l.links():[]}return[]}));return zV(n.flat(1).filter(RV).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function M6(t,e,r,n,i,a){let l=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,c=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return a==="assets"?e.filter((d,h)=>l(d,h)||c(d,h)):a==="data"?e.filter((d,h)=>{let f=n.routes[d.route.id];if(!f||!f.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let p=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function DV(t,e,{includeHydrateFallback:r}={}){return LV(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function LV(t){return[...new Set(t)]}function MV(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function zV(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(MV(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function Z8(){let t=V.useContext(wp);return hj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function FV(){let t=V.useContext(S1);return hj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fj=V.createContext(void 0);fj.displayName="FrameworkContext";function Q8(){let t=V.useContext(fj);return hj(t,"You must render this element inside a <HydratedRouter> element"),t}function UV(t,e){let r=V.useContext(fj),[n,i]=V.useState(!1),[a,l]=V.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,x=V.useRef(null);V.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let v=j=>{j.forEach(E=>{l(E.isIntersecting)})},_=new IntersectionObserver(v,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[t]),V.useEffect(()=>{if(n){let v=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(v)}}},[n]);let g=()=>{i(!0)},w=()=>{i(!1),l(!1)};return r?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Ag(c,g),onBlur:Ag(d,w),onMouseEnter:Ag(h,g),onMouseLeave:Ag(f,w),onTouchStart:Ag(p,g)}]:[!1,x,{}]}function Ag(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function BV({page:t,...e}){let{router:r}=Z8(),n=V.useMemo(()=>V8(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?V.createElement(qV,{page:t,matches:n,...e}):null}function VV(t){let{manifest:e,routeModules:r}=Q8(),[n,i]=V.useState([]);return V.useEffect(()=>{let a=!1;return OV(t,e,r).then(l=>{a||i(l)}),()=>{a=!0}},[t,e,r]),n}function qV({page:t,matches:e,...r}){let n=od(),{manifest:i,routeModules:a}=Q8(),{basename:l}=Z8(),{loaderData:c,matches:d}=FV(),h=V.useMemo(()=>M6(t,e,d,i,n,"data"),[t,e,d,i,n]),f=V.useMemo(()=>M6(t,e,d,i,n,"assets"),[t,e,d,i,n]),p=V.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,v=!1;if(e.forEach(j=>{let E=i.routes[j.route.id];!E||!E.hasLoader||(!h.some(C=>C.route.id===j.route.id)&&j.route.id in c&&a[j.route.id]?.shouldRevalidate||E.hasClientLoader?v=!0:w.add(j.route.id))}),w.size===0)return[];let _=IV(t,l,"data");return v&&w.size>0&&_.searchParams.set("_routes",e.filter(j=>w.has(j.route.id)).map(j=>j.route.id).join(",")),[_.pathname+_.search]},[l,c,n,i,h,e,t,a]),x=V.useMemo(()=>DV(f,i),[f,i]),g=VV(f);return V.createElement(V.Fragment,null,p.map(w=>V.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),x.map(w=>V.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),g.map(({key:w,link:v})=>V.createElement("link",{key:w,nonce:r.nonce,...v})))}function $V(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var J8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{J8&&(window.__reactRouterVersion="7.9.4")}catch{}function HV({basename:t,children:e,window:r}){let n=V.useRef();n.current==null&&(n.current=IB({window:r,v5Compat:!0}));let i=n.current,[a,l]=V.useState({action:i.action,location:i.location}),c=V.useCallback(d=>{V.startTransition(()=>l(d))},[l]);return V.useLayoutEffect(()=>i.listen(c),[i,c]),V.createElement(bV,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var eR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mj=V.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:l,state:c,target:d,to:h,preventScrollReset:f,viewTransition:p,...x},g){let{basename:w}=V.useContext(uc),v=typeof h=="string"&&eR.test(h),_,j=!1;if(typeof h=="string"&&v&&(_=h,J8))try{let D=new URL(window.location.href),G=h.startsWith("//")?new URL(D.protocol+h):new URL(h),L=Ku(G.pathname,w);G.origin===D.origin&&L!=null?h=L+G.search+G.hash:j=!0}catch{wl(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=iV(h,{relative:i}),[C,z,P]=UV(n,x),X=KV(h,{replace:l,state:c,target:d,preventScrollReset:f,relative:i,viewTransition:p});function U(D){e&&e(D),D.defaultPrevented||X(D)}let M=V.createElement("a",{...x,...P,href:_||E,onClick:j||a?e:U,ref:$V(g,z),target:d,"data-discover":!v&&r==="render"?"true":void 0});return C&&!v?V.createElement(V.Fragment,null,M,V.createElement(BV,{page:E})):M});mj.displayName="Link";var WV=V.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:l,viewTransition:c,children:d,...h},f){let p=F0(l,{relative:h.relative}),x=od(),g=V.useContext(S1),{navigator:w,basename:v}=V.useContext(uc),_=g!=null&&tq(p)&&c===!0,j=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,E=x.pathname,C=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(E=E.toLowerCase(),C=C?C.toLowerCase():null,j=j.toLowerCase()),C&&v&&(C=Ku(C,v)||C);const z=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let P=E===j||!i&&E.startsWith(j)&&E.charAt(z)==="/",X=C!=null&&(C===j||!i&&C.startsWith(j)&&C.charAt(j.length)==="/"),U={isActive:P,isPending:X,isTransitioning:_},M=P?e:void 0,D;typeof n=="function"?D=n(U):D=[n,P?"active":null,X?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let G=typeof a=="function"?a(U):a;return V.createElement(mj,{...h,"aria-current":M,className:D,ref:f,style:G,to:l,viewTransition:c},typeof d=="function"?d(U):d)});WV.displayName="NavLink";var GV=V.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:l=$x,action:c,onSubmit:d,relative:h,preventScrollReset:f,viewTransition:p,...x},g)=>{let w=JV(),v=eq(c,{relative:h}),_=l.toLowerCase()==="get"?"get":"post",j=typeof c=="string"&&eR.test(c),E=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let z=C.nativeEvent.submitter,P=z?.getAttribute("formmethod")||l;w(z||C.currentTarget,{fetcherKey:e,method:P,navigate:r,replace:i,state:a,relative:h,preventScrollReset:f,viewTransition:p})};return V.createElement("form",{ref:g,method:_,action:v,onSubmit:n?d:E,...x,"data-discover":!j&&t==="render"?"true":void 0})});GV.displayName="Form";function YV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tR(t){let e=V.useContext(wp);return Hn(e,YV(t)),e}function KV(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:l}={}){let c=ni(),d=od(),h=F0(t,{relative:a});return V.useCallback(f=>{if(AV(f,e)){f.preventDefault();let p=r!==void 0?r:u0(d)===u0(h);c(t,{replace:p,state:n,preventScrollReset:i,relative:a,viewTransition:l})}},[d,c,h,r,n,e,t,i,a,l])}function XV(t){wl(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=V.useRef(C_(t)),r=V.useRef(!1),n=od(),i=V.useMemo(()=>EV(n.search,r.current?null:e.current),[n.search]),a=ni(),l=V.useCallback((c,d)=>{const h=C_(typeof c=="function"?c(new URLSearchParams(i)):c);r.current=!0,a("?"+h,d)},[a,i]);return[i,l]}var ZV=0,QV=()=>`__${String(++ZV)}__`;function JV(){let{router:t}=tR("useSubmit"),{basename:e}=V.useContext(uc),r=gV();return V.useCallback(async(n,i={})=>{let{action:a,method:l,encType:c,formData:d,body:h}=kV(n,e);if(i.navigate===!1){let f=i.fetcherKey||QV();await t.fetch(f,r,i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:d,body:h,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,r])}function eq(t,{relative:e}={}){let{basename:r}=V.useContext(uc),n=V.useContext(dc);Hn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...F0(t||".",{relative:e})},l=od();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(f=>f==="")){c.delete("index"),d.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:qu([r,a.pathname])),u0(a)}function tq(t,{relative:e}={}){let r=V.useContext(W8);Hn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=tR("useViewTransitionState"),i=F0(t,{relative:e});if(!r.isTransitioning)return!1;let a=Ku(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Ku(r.nextLocation.pathname,n)||r.nextLocation.pathname;return uv(i.pathname,l)!=null||uv(i.pathname,a)!=null}var rq=B8();const nq=()=>{};var z6={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},iq=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],l=t[r++],c=t[r++],d=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const a=t[r++],l=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},nR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,d=i+2<t.length,h=d?t[i+2]:0,f=a>>2,p=(a&3)<<4|c>>4;let x=(c&15)<<2|h>>6,g=h&63;d||(g=64,l||(x=64)),n.push(r[f],r[p],r[x],r[g])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):iq(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const h=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||c==null||h==null||p==null)throw new aq;const x=a<<2|c>>4;if(n.push(x),h!==64){const g=c<<4&240|h>>2;if(n.push(g),p!==64){const w=h<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sq=function(t){const e=rR(t);return nR.encodeByteArray(e,!0)},dv=function(t){return sq(t).replace(/\./g,"")},iR=function(t){try{return nR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=()=>oq().__FIREBASE_DEFAULTS__,cq=()=>{if(typeof process>"u"||typeof z6>"u")return;const t=z6.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uq=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iR(t[1]);return e&&JSON.parse(e)},E1=()=>{try{return nq()||lq()||cq()||uq()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aR=t=>E1()?.emulatorHosts?.[t],pj=t=>{const e=aR(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},sR=()=>E1()?.config,oR=t=>E1()?.[`_${t}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function T1(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dv(JSON.stringify(r)),dv(JSON.stringify(l)),""].join(".")}const Yg={};function hq(){const t={prod:[],emulator:[]};for(const e of Object.keys(Yg))Yg[e]?t.emulator.push(e):t.prod.push(e);return t}function fq(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let F6=!1;function C1(t,e){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||Yg[t]===e||Yg[t]||F6)return;Yg[t]=e;function r(x){return`__firebase__banner__${x}`}const n="__firebase__banner",a=hq().prod.length>0;function l(){const x=document.getElementById(n);x&&x.remove()}function c(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,g){x.setAttribute("width","24"),x.setAttribute("id",g),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function h(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{F6=!0,l()},x}function f(x,g){x.setAttribute("id",g),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function p(){const x=fq(n),g=r("text"),w=document.getElementById(g)||document.createElement("span"),v=r("learnmore"),_=document.getElementById(v)||document.createElement("a"),j=r("preprendIcon"),E=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const C=x.element;c(C),f(_,v);const z=h();d(E,j),C.append(E,w,_,z),document.body.appendChild(C)}a?(w.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mq(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ps())}function pq(){const t=E1()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gq(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xq(){const t=ps();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function vq(){return!pq()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uR(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}function bq(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="FirebaseError";class Ho extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=wq,Object.setPrototypeOf(this,Ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Df.prototype.create)}}class Df{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?_q(a,n):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new Ho(i,c,n)}}function _q(t,e){return t.replace(Nq,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Nq=/\{\$([^}]+)}/g;function jq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function dh(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],l=e[i];if(U6(a)&&U6(l)){if(!dh(a,l))return!1}else if(a!==l)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function U6(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function zg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Fg(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Sq(t,e){const r=new Aq(t,e);return r.subscribe.bind(r)}class Aq{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Eq(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=rw),i.error===void 0&&(i.error=rw),i.complete===void 0&&(i.complete=rw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eq(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function rw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tq=1e3,Cq=2,kq=14400*1e3,Iq=.5;function B6(t,e=Tq,r=Cq){const n=e*Math.pow(r,t),i=Math.round(Iq*n*(Math.random()-.5)*2);return Math.min(kq,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t){return t&&t._delegate?t._delegate:t}class qo{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pq=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new dq;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Oq(e))try{this.getOrInitializeService({instanceIdentifier:Yh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Yh){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yh){return this.instances.has(e)}getOptions(e=Yh){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);n===c&&l.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Rq(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Yh){return this.component?this.component.multipleInstances?e:Yh:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Rq(t){return t===Yh?void 0:t}function Oq(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Pq(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(kr||(kr={}));const Lq={debug:kr.DEBUG,verbose:kr.VERBOSE,info:kr.INFO,warn:kr.WARN,error:kr.ERROR,silent:kr.SILENT},Mq=kr.INFO,zq={[kr.DEBUG]:"log",[kr.VERBOSE]:"log",[kr.INFO]:"info",[kr.WARN]:"warn",[kr.ERROR]:"error"},Fq=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=zq[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k1{constructor(e){this.name=e,this._logLevel=Mq,this._logHandler=Fq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in kr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lq[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,kr.DEBUG,...e),this._logHandler(this,kr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,kr.VERBOSE,...e),this._logHandler(this,kr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,kr.INFO,...e),this._logHandler(this,kr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,kr.WARN,...e),this._logHandler(this,kr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,kr.ERROR,...e),this._logHandler(this,kr.ERROR,...e)}}const Uq=(t,e)=>e.some(r=>t instanceof r);let V6,q6;function Bq(){return V6||(V6=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vq(){return q6||(q6=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hR=new WeakMap,k_=new WeakMap,fR=new WeakMap,nw=new WeakMap,gj=new WeakMap;function qq(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{r(sh(t.result)),i()},l=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&hR.set(r,t)}).catch(()=>{}),gj.set(e,t),e}function $q(t){if(k_.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});k_.set(t,e)}let I_={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return k_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fR.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return sh(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hq(t){I_=t(I_)}function Wq(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(iw(this),e,...r);return fR.set(n,e.sort?e.sort():[e]),sh(n)}:Vq().includes(t)?function(...e){return t.apply(iw(this),e),sh(hR.get(this))}:function(...e){return sh(t.apply(iw(this),e))}}function Gq(t){return typeof t=="function"?Wq(t):(t instanceof IDBTransaction&&$q(t),Uq(t,Bq())?new Proxy(t,I_):t)}function sh(t){if(t instanceof IDBRequest)return qq(t);if(nw.has(t))return nw.get(t);const e=Gq(t);return e!==t&&(nw.set(t,e),gj.set(e,t)),e}const iw=t=>gj.get(t);function mR(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=sh(l);return n&&l.addEventListener("upgradeneeded",d=>{n(sh(l.result),d.oldVersion,d.newVersion,sh(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{a&&d.addEventListener("close",()=>a()),i&&d.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const Yq=["get","getKey","getAll","getAllKeys","count"],Kq=["put","add","delete","clear"],aw=new Map;function $6(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(aw.get(e))return aw.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Kq.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Yq.includes(r)))return;const a=async function(l,...c){const d=this.transaction(l,i?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),i&&d.done]))[0]};return aw.set(e,a),a}Hq(t=>({...t,get:(e,r,n)=>$6(e,r)||t.get(e,r,n),has:(e,r)=>!!$6(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Zq(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Zq(t){return t.getComponent()?.type==="VERSION"}const P_="@firebase/app",H6="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new k1("@firebase/app"),Qq="@firebase/app-compat",Jq="@firebase/analytics-compat",e$="@firebase/analytics",t$="@firebase/app-check-compat",r$="@firebase/app-check",n$="@firebase/auth",i$="@firebase/auth-compat",a$="@firebase/database",s$="@firebase/data-connect",o$="@firebase/database-compat",l$="@firebase/functions",c$="@firebase/functions-compat",u$="@firebase/installations",d$="@firebase/installations-compat",h$="@firebase/messaging",f$="@firebase/messaging-compat",m$="@firebase/performance",p$="@firebase/performance-compat",g$="@firebase/remote-config",y$="@firebase/remote-config-compat",x$="@firebase/storage",v$="@firebase/storage-compat",b$="@firebase/firestore",w$="@firebase/ai",_$="@firebase/firestore-compat",N$="firebase",j$="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="[DEFAULT]",S$={[P_]:"fire-core",[Qq]:"fire-core-compat",[e$]:"fire-analytics",[Jq]:"fire-analytics-compat",[r$]:"fire-app-check",[t$]:"fire-app-check-compat",[n$]:"fire-auth",[i$]:"fire-auth-compat",[a$]:"fire-rtdb",[s$]:"fire-data-connect",[o$]:"fire-rtdb-compat",[l$]:"fire-fn",[c$]:"fire-fn-compat",[u$]:"fire-iid",[d$]:"fire-iid-compat",[h$]:"fire-fcm",[f$]:"fire-fcm-compat",[m$]:"fire-perf",[p$]:"fire-perf-compat",[g$]:"fire-rc",[y$]:"fire-rc-compat",[x$]:"fire-gcs",[v$]:"fire-gcs-compat",[b$]:"fire-fst",[_$]:"fire-fst-compat",[w$]:"fire-vertex","fire-js":"fire-js",[N$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map,A$=new Map,O_=new Map;function W6(t,e){try{t.container.addComponent(e)}catch(r){Xu.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function _l(t){const e=t.name;if(O_.has(e))return Xu.debug(`There were multiple attempts to register component ${e}.`),!1;O_.set(e,t);for(const r of hv.values())W6(r,t);for(const r of A$.values())W6(r,t);return!0}function ld(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function hs(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oh=new Df("app","Firebase",E$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new qo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lf=j$;function pR(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:R_,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw oh.create("bad-app-name",{appName:String(i)});if(r||(r=sR()),!r)throw oh.create("no-options");const a=hv.get(i);if(a){if(dh(r,a.options)&&dh(n,a.config))return a;throw oh.create("duplicate-app",{appName:i})}const l=new Dq(i);for(const d of O_.values())l.addComponent(d);const c=new T$(r,n,l);return hv.set(i,c),c}function U0(t=R_){const e=hv.get(t);if(!e&&t===R_&&sR())return pR();if(!e)throw oh.create("no-app",{appName:t});return e}function ms(t,e,r){let n=S$[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const l=[`Unable to register library "${n}" with version "${e}":`];i&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xu.warn(l.join(" "));return}_l(new qo(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$="firebase-heartbeat-database",k$=1,d0="firebase-heartbeat-store";let sw=null;function gR(){return sw||(sw=mR(C$,k$,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(d0)}catch(r){console.warn(r)}}}}).catch(t=>{throw oh.create("idb-open",{originalErrorMessage:t.message})})),sw}async function I$(t){try{const r=(await gR()).transaction(d0),n=await r.objectStore(d0).get(yR(t));return await r.done,n}catch(e){if(e instanceof Ho)Xu.warn(e.message);else{const r=oh.create("idb-get",{originalErrorMessage:e?.message});Xu.warn(r.message)}}}async function G6(t,e){try{const n=(await gR()).transaction(d0,"readwrite");await n.objectStore(d0).put(e,yR(t)),await n.done}catch(r){if(r instanceof Ho)Xu.warn(r.message);else{const n=oh.create("idb-set",{originalErrorMessage:r?.message});Xu.warn(n.message)}}}function yR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=1024,R$=30;class O${constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new L$(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Y6();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>R$){const i=M$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Xu.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Y6(),{heartbeatsToSend:r,unsentEntries:n}=D$(this._heartbeatsCache.heartbeats),i=dv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Xu.warn(e),""}}}function Y6(){return new Date().toISOString().substring(0,10)}function D$(t,e=P$){const r=[];let n=t.slice();for(const i of t){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),K6(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),K6(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class L${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uR()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await I$(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return G6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return G6(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function K6(t){return dv(JSON.stringify({version:2,heartbeats:t})).length}function M$(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z$(t){_l(new qo("platform-logger",e=>new Xq(e),"PRIVATE")),_l(new qo("heartbeat",e=>new O$(e),"PRIVATE")),ms(P_,H6,t),ms(P_,H6,"esm2020"),ms("fire-js","")}z$("");function xR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F$=xR,vR=new Df("auth","Firebase",xR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new k1("@firebase/auth");function U$(t,...e){fv.logLevel<=kr.WARN&&fv.warn(`Auth (${Lf}): ${t}`,...e)}function Wx(t,...e){fv.logLevel<=kr.ERROR&&fv.error(`Auth (${Lf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(t,...e){throw xj(t,...e)}function fo(t,...e){return xj(t,...e)}function yj(t,e,r){const n={...F$(),[e]:r};return new Df("auth","Firebase",n).create(e,{appName:t.name})}function $c(t){return yj(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function B$(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&mo(t,"argument-error"),yj(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xj(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return vR.create(t,...e)}function Et(t,e,...r){if(!t)throw xj(e,...r)}function Uc(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wx(e),new Error(e)}function Zu(t,e){t||Uc(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(){return typeof self<"u"&&self.location?.href||""}function bR(){return X6()==="http:"||X6()==="https:"}function X6(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||cR()||"connection"in navigator)?navigator.onLine:!0}function q$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,r){this.shortDelay=e,this.longDelay=r,Zu(r>e,"Short delay should be less than long delay!"),this.isMobile=mq()||yq()}get(){return V$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vj(t,e){Zu(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W$=new B0(3e4,6e4);function Na(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ja(t,e,r,n,i={}){return _R(t,i,async()=>{let a={},l={};n&&(e==="GET"?l=n:a={body:JSON.stringify(n)});const c=Np({key:t.config.apiKey,...l}).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const h={method:e,headers:d,...a};return gq()||(h.referrerPolicy="no-referrer"),t.emulatorConfig&&nu(t.emulatorConfig.host)&&(h.credentials="include"),wR.fetch()(await NR(t,t.config.apiHost,r,c),h)})}async function _R(t,e,r){t._canInitEmulator=!1;const n={...$$,...e};try{const i=new Y$(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Ug(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ug(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ug(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ug(t,"user-disabled",l);const f=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw yj(t,f,h);mo(t,f)}}catch(i){if(i instanceof Ho)throw i;mo(t,"network-request-failed",{message:String(i)})}}async function wh(t,e,r,n,i={}){const a=await ja(t,e,r,n,i);return"mfaPendingCredential"in a&&mo(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function NR(t,e,r,n){const i=`${e}${r}?${n}`,a=t,l=a.config.emulator?vj(t.config,i):`${t.config.apiScheme}://${i}`;return H$.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(l).toString():l}function G$(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Y${clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(fo(this.auth,"network-request-failed")),W$.get())})}}function Ug(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=fo(t,e,n);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t){return t!==void 0&&t.getResponse!==void 0}function Q6(t){return t!==void 0&&t.enterprise!==void 0}class jR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return G$(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K$(t){return(await ja(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function SR(t,e){return ja(t,"GET","/v2/recaptchaConfig",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X$(t,e){return ja(t,"POST","/v1/accounts:delete",e)}async function mv(t,e){return ja(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Z$(t,e=!1){const r=Fr(t),n=await r.getIdToken(e),i=bj(n);Et(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:n,authTime:Kg(ow(i.auth_time)),issuedAtTime:Kg(ow(i.iat)),expirationTime:Kg(ow(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}}function ow(t){return Number(t)*1e3}function bj(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Wx("JWT malformed, contained fewer than 3 sections"),null;try{const i=iR(r);return i?JSON.parse(i):(Wx("Failed to decode base64 JWT payload"),null)}catch(i){return Wx("Caught error parsing JWT payload as JSON",i?.toString()),null}}function J6(t){const e=bj(t);return Et(e,"internal-error"),Et(typeof e.exp<"u","internal-error"),Et(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qu(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Ho&&Q$(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Q$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kg(this.lastLoginAt),this.creationTime=Kg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(t){const e=t.auth,r=await t.getIdToken(),n=await Qu(t,mv(e,{idToken:r}));Et(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?AR(i.providerUserInfo):[],l=tH(t.providerData,a),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!l?.length,h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new L_(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function eH(t){const e=Fr(t);await pv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tH(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function AR(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(t,e){const r=await _R(t,{},async()=>{const n=Np({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=await NR(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:n};return t.emulatorConfig&&nu(t.emulatorConfig.host)&&(d.credentials="include"),wR.fetch()(l,d)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function nH(t,e){return ja(t,"POST","/v2/accounts:revokeToken",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Et(e.idToken,"internal-error"),Et(typeof e.idToken<"u","internal-error"),Et(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Et(e.length!==0,"internal-error");const r=J6(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Et(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await rH(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,l=new Vm;return n&&(Et(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),i&&(Et(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Et(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vm,this.toJSON())}_performRefresh(){return Uc("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t,e){Et(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class rc{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new J$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new L_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Qu(this,this.stsTokenManager.getToken(this.auth,e));return Et(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return Z$(this,e)}reload(){return eH(this)}_assign(e){this!==e&&(Et(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new rc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await pv(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hs(this.auth.app))return Promise.reject($c(this.auth));const e=await this.getIdToken();return await Qu(this,X$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,l=r.photoURL??void 0,c=r.tenantId??void 0,d=r._redirectEventId??void 0,h=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:p,emailVerified:x,isAnonymous:g,providerData:w,stsTokenManager:v}=r;Et(p&&v,e,"internal-error");const _=Vm.fromJSON(this.name,v);Et(typeof p=="string",e,"internal-error"),Hd(n,e.name),Hd(i,e.name),Et(typeof x=="boolean",e,"internal-error"),Et(typeof g=="boolean",e,"internal-error"),Hd(a,e.name),Hd(l,e.name),Hd(c,e.name),Hd(d,e.name),Hd(h,e.name),Hd(f,e.name);const j=new rc({uid:p,auth:e,email:i,emailVerified:x,displayName:n,isAnonymous:g,photoURL:l,phoneNumber:a,tenantId:c,stsTokenManager:_,createdAt:h,lastLoginAt:f});return w&&Array.isArray(w)&&(j.providerData=w.map(E=>({...E}))),d&&(j._redirectEventId=d),j}static async _fromIdTokenResponse(e,r,n=!1){const i=new Vm;i.updateFromServerResponse(r);const a=new rc({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await pv(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Et(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?AR(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!a?.length,c=new Vm;c.updateFromIdToken(n);const d=new rc({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new L_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function Fu(t){Zu(t instanceof Function,"Expected a class definition");let e=eE.get(t);return e?(Zu(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}ER.type="NONE";const tE=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t,e,r){return`firebase:${t}:${e}:${r}`}class qm{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Gx(this.userKey,i.apiKey,a),this.fullPersistenceKey=Gx("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await mv(this.auth,{idToken:e}).catch(()=>{});return r?rc._fromGetAccountInfoResponse(this.auth,r,e):null}return rc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new qm(Fu(tE),e,n);const i=(await Promise.all(r.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=i[0]||Fu(tE);const l=Gx(n,e.config.apiKey,e.name);let c=null;for(const h of r)try{const f=await h._get(l);if(f){let p;if(typeof f=="string"){const x=await mv(e,{idToken:f}).catch(()=>{});if(!x)break;p=await rc._fromGetAccountInfoResponse(e,x,f)}else p=rc._fromJSON(e,f);h!==a&&(c=p),a=h;break}}catch{}const d=i.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!d.length?new qm(a,e,n):(a=d[0],c&&await a._set(l,c.toJSON()),await Promise.all(r.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new qm(a,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RR(e))return"Blackberry";if(OR(e))return"Webos";if(CR(e))return"Safari";if((e.includes("chrome/")||kR(e))&&!e.includes("edge/"))return"Chrome";if(PR(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function TR(t=ps()){return/firefox\//i.test(t)}function CR(t=ps()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function kR(t=ps()){return/crios\//i.test(t)}function IR(t=ps()){return/iemobile/i.test(t)}function PR(t=ps()){return/android/i.test(t)}function RR(t=ps()){return/blackberry/i.test(t)}function OR(t=ps()){return/webos/i.test(t)}function wj(t=ps()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function iH(t=ps()){return wj(t)&&!!window.navigator?.standalone}function aH(){return xq()&&document.documentMode===10}function DR(t=ps()){return wj(t)||PR(t)||OR(t)||RR(t)||/windows phone/i.test(t)||IR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e=[]){let r;switch(t){case"Browser":r=rE(ps());break;case"Worker":r=`${rE(ps())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Lf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((l,c)=>{try{const d=e(a);l(d)}catch(d){c(d)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(t,e={}){return ja(t,"GET","/v2/passwordPolicy",Na(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=6;class cH{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??lH,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nE(this),this.idTokenSubscription=new nE(this),this.beforeStateQueue=new sH(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Fu(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qm.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await mv(this,{idToken:e}),n=await rc._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(hs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,l=n?._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(n=c.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await pv(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=q$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hs(this.app))return Promise.reject($c(this));const r=e?Fr(e):null;return r&&Et(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Et(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hs(this.app)?Promise.reject($c(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hs(this.app)?Promise.reject($c(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oH(this),r=new cH(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Df("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await nH(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Fu(e)||this._popupRedirectResolver;Et(r,this,"argument-error"),this.redirectPersistenceManager=await qm.create(this,[Fu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Et(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof r=="function"){const d=e.addObserver(r,n,i);return()=>{l=!0,d()}}else{const d=e.addObserver(r);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U$(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Wo(t){return Fr(t)}class nE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Sq(r=>this.observer=r)}get next(){return Et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dH(t){V0=t}function _j(t){return V0.loadJS(t)}function hH(){return V0.recaptchaV2Script}function fH(){return V0.recaptchaEnterpriseScript}function mH(){return V0.gapiScript}function MR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH=500,gH=6e4,cx=1e12;class yH{constructor(e){this.auth=e,this.counter=cx,this._widgets=new Map}render(e,r){const n=this.counter;return this._widgets.set(n,new bH(e,this.auth.name,r||{})),this.counter++,n}reset(e){const r=e||cx;this._widgets.get(r)?.delete(),this._widgets.delete(r)}getResponse(e){const r=e||cx;return this._widgets.get(r)?.getResponse()||""}async execute(e){const r=e||cx;return this._widgets.get(r)?.execute(),""}}class xH{constructor(){this.enterprise=new vH}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class vH{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class bH{constructor(e,r,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;Et(i,"argument-error",{appName:r}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=wH(50);const{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},gH)},pH))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function wH(t){const e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<t;n++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}const _H="recaptcha-enterprise",Xg="NO_RECAPTCHA";class zR{constructor(e){this.type=_H,this.auth=Wo(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{SR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new jR(d);return a.tenantId==null?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function i(a,l,c){const d=window.grecaptcha;Q6(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(h=>{l(h)}).catch(()=>{l(Xg)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xH().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{n(this.auth).then(c=>{if(!r&&Q6(window.grecaptcha))i(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=fH();d.length!==0&&(d+=c),_j(d).then(()=>{i(c,a,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function Eg(t,e,r,n=!1,i=!1){const a=new zR(t);let l;if(i)l=Xg;else try{l=await a.verify(r)}catch{l=await a.verify(r,!0)}const c={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function uf(t,e,r,n,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Eg(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Eg(t,e,r,r==="getOobCode");return n(t,l)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await Eg(t,e,r);return n(t,a).catch(async l=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const c=await Eg(t,e,r,!1,!0);return n(t,c)}return Promise.reject(l)})}else{const a=await Eg(t,e,r,!1,!0);return n(t,a)}else return Promise.reject(i+" provider is not supported.")}async function NH(t){const e=Wo(t),r=await SR(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new jR(r);e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,n.isAnyProviderEnabled()&&new zR(e).verify()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(t,e){const r=ld(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(dh(a,e??{}))return i;mo(i,"already-initialized")}return r.initialize({options:e})}function SH(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Fu);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function AH(t,e,r){const n=Wo(t);Et(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,a=FR(e),{host:l,port:c}=EH(e),d=c===null?"":`:${c}`,h={url:`${a}//${l}${d}/`},f=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Et(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Et(dh(h,n.config.emulator)&&dh(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,nu(l)?(T1(`${a}//${l}${d}`),C1("Auth",!0)):TH()}function FR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EH(t){const e=FR(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:iE(n.substr(a.length+1))}}else{const[a,l]=n.split(":");return{host:a,port:iE(l)}}}function iE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function TH(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Uc("not implemented")}_getIdTokenResponse(e){return Uc("not implemented")}_linkToIdToken(e,r){return Uc("not implemented")}_getReauthenticationResolver(e){return Uc("not implemented")}}async function CH(t,e){return ja(t,"POST","/v1/accounts:update",e)}async function kH(t,e){return ja(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IH(t,e){return wh(t,"POST","/v1/accounts:signInWithPassword",Na(t,e))}async function PH(t,e){return ja(t,"POST","/v1/accounts:sendOobCode",Na(t,e))}async function RH(t,e){return PH(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OH(t,e){return wh(t,"POST","/v1/accounts:signInWithEmailLink",Na(t,e))}async function DH(t,e){return wh(t,"POST","/v1/accounts:signInWithEmailLink",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends I1{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new h0(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new h0(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uf(e,r,"signInWithPassword",IH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return OH(e,{email:this._email,oobCode:this._password});default:mo(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uf(e,n,"signUpPassword",kH,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return DH(e,{idToken:r,email:this._email,oobCode:this._password});default:mo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $m(t,e){return wh(t,"POST","/v1/accounts:signInWithIdp",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH="http://localhost";class bf extends I1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new bf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):mo("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const l=new bf(n,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return $m(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,$m(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,$m(e,r)}buildRequest(){const e={requestUri:LH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Np(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aE(t,e){return ja(t,"POST","/v1/accounts:sendVerificationCode",Na(t,e))}async function MH(t,e){return wh(t,"POST","/v1/accounts:signInWithPhoneNumber",Na(t,e))}async function zH(t,e){const r=await wh(t,"POST","/v1/accounts:signInWithPhoneNumber",Na(t,e));if(r.temporaryProof)throw Ug(t,"account-exists-with-different-credential",r);return r}const FH={USER_NOT_FOUND:"user-not-found"};async function UH(t,e){const r={...e,operation:"REAUTH"};return wh(t,"POST","/v1/accounts:signInWithPhoneNumber",Na(t,r),FH)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm extends I1{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new Hm({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new Hm({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return MH(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return zH(e,{idToken:r,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return UH(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:r,verificationId:n,verificationCode:i}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:r,verificationCode:n,phoneNumber:i,temporaryProof:a}=e;return!n&&!r&&!i&&!a?null:new Hm({verificationId:r,verificationCode:n,phoneNumber:i,temporaryProof:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VH(t){const e=zg(Fg(t)).link,r=e?zg(Fg(e)).deep_link_id:null,n=zg(Fg(t)).deep_link_id;return(n?zg(Fg(n)).link:null)||n||r||e||t}class Nj{constructor(e){const r=zg(Fg(e)),n=r.apiKey??null,i=r.oobCode??null,a=BH(r.mode??null);Et(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=VH(e);try{return new Nj(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.providerId=jp.PROVIDER_ID}static credential(e,r){return h0._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Nj.parseLink(r);return Et(n,"argument-error"),h0._fromEmailAndCode(e,n.code,n.tenantId)}}jp.PROVIDER_ID="password";jp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends jj{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd extends q0{constructor(){super("facebook.com")}static credential(e){return bf._fromParams({providerId:Zd.PROVIDER_ID,signInMethod:Zd.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zd.credentialFromTaggedObject(e)}static credentialFromError(e){return Zd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zd.credential(e.oauthAccessToken)}catch{return null}}}Zd.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zd.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends q0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return bf._fromParams({providerId:Du.PROVIDER_ID,signInMethod:Du.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Du.credentialFromTaggedObject(e)}static credentialFromError(e){return Du.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Du.credential(r,n)}catch{return null}}}Du.GOOGLE_SIGN_IN_METHOD="google.com";Du.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends q0{constructor(){super("github.com")}static credential(e){return bf._fromParams({providerId:Qd.PROVIDER_ID,signInMethod:Qd.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qd.credentialFromTaggedObject(e)}static credentialFromError(e){return Qd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qd.credential(e.oauthAccessToken)}catch{return null}}}Qd.GITHUB_SIGN_IN_METHOD="github.com";Qd.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends q0{constructor(){super("twitter.com")}static credential(e,r){return bf._fromParams({providerId:Jd.PROVIDER_ID,signInMethod:Jd.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Jd.credentialFromTaggedObject(e)}static credentialFromError(e){return Jd.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Jd.credential(r,n)}catch{return null}}}Jd.TWITTER_SIGN_IN_METHOD="twitter.com";Jd.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qH(t,e){return wh(t,"POST","/v1/accounts:signUp",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await rc._fromIdTokenResponse(e,n,i),l=sE(n);return new Ju({user:a,providerId:l,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=sE(n);return new Ju({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function sE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Ho{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,gv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new gv(e,r,n,i)}}function UR(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gv._fromErrorAndOperation(t,a,e,n):a})}async function $H(t,e,r=!1){const n=await Qu(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Ju._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HH(t,e,r=!1){const{auth:n}=t;if(hs(n.app))return Promise.reject($c(n));const i="reauthenticate";try{const a=await Qu(t,UR(n,i,e,t),r);Et(a.idToken,n,"internal-error");const l=bj(a.idToken);Et(l,n,"internal-error");const{sub:c}=l;return Et(t.uid===c,n,"user-mismatch"),Ju._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&mo(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e,r=!1){if(hs(t.app))return Promise.reject($c(t));const n="signIn",i=await UR(t,n,e),a=await Ju._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function WH(t,e){return BR(Wo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?Sj._fromServerResponse(e,r):"totpInfo"in r?Aj._fromServerResponse(e,r):mo(e,"internal-error")}}class Sj extends P1{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new Sj(r)}}class Aj extends P1{constructor(e){super("totp",e)}static _fromServerResponse(e,r){return new Aj(r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t){const e=Wo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GH(t,e,r){const n=Wo(t);await uf(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",RH,"EMAIL_PASSWORD_PROVIDER")}async function YH(t,e,r){if(hs(t.app))return Promise.reject($c(t));const n=Wo(t),l=await uf(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qH,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&VR(t),d}),c=await Ju._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function KH(t,e,r){return hs(t.app)?Promise.reject($c(t)):WH(Fr(t),jp.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&VR(t),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(t,e){return ja(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qR(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=Fr(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},l=await Qu(n,XH(n.auth,a));n.displayName=l.displayName||null,n.photoURL=l.photoUrl||null;const c=n.providerData.find(({providerId:d})=>d==="password");c&&(c.displayName=n.displayName,c.photoURL=n.photoURL),await n._updateTokensIfNecessary(l)}function ZH(t,e){const r=Fr(t);return hs(r.auth.app)?Promise.reject($c(r.auth)):$R(r,e,null)}function QH(t,e){return $R(Fr(t),null,e)}async function $R(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),r&&(a.password=r);const l=await Qu(t,CH(n,a));await t._updateTokensIfNecessary(l,!0)}function JH(t,e,r,n){return Fr(t).onIdTokenChanged(e,r,n)}function eW(t,e,r){return Fr(t).beforeAuthStateChanged(e,r)}function tW(t,e,r,n){return Fr(t).onAuthStateChanged(e,r,n)}function rW(t){return Fr(t).signOut()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,r,n){this.type=e,this.credential=r,this.user=n}static _fromIdtoken(e,r){return new ef("enroll",e,r)}static _fromMfaPendingCredential(e){return new ef("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return ef._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return ef._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(e,r,n){this.session=e,this.hints=r,this.signInResolver=n}static _fromError(e,r){const n=Wo(e),i=r.customData._serverResponse,a=(i.mfaInfo||[]).map(c=>P1._fromServerResponse(n,c));Et(i.mfaPendingCredential,n,"internal-error");const l=ef._fromMfaPendingCredential(i.mfaPendingCredential);return new Ej(l,a,async c=>{const d=await c._process(n,l);delete i.mfaInfo,delete i.mfaPendingCredential;const h={...i,idToken:d.idToken,refreshToken:d.refreshToken};switch(r.operationType){case"signIn":const f=await Ju._fromIdTokenResponse(n,r.operationType,h);return await n._updateCurrentUser(f.user),f;case"reauthenticate":return Et(r.user,n,"internal-error"),Ju._forOperation(r.user,r.operationType,h);default:mo(n,"internal-error")}})}async resolveSignIn(e){const r=e;return this.signInResolver(r)}}function oE(t,e){const r=Fr(t),n=e;return Et(e.customData.operationType,r,"argument-error"),Et(n.customData._serverResponse?.mfaPendingCredential,r,"argument-error"),Ej._fromError(r,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t,e){return ja(t,"POST","/v2/accounts/mfaEnrollment:start",Na(t,e))}function nW(t,e){return ja(t,"POST","/v2/accounts/mfaEnrollment:finalize",Na(t,e))}function iW(t,e){return ja(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Na(t,e))}class Tj{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(r=>{r.mfaInfo&&(this.enrolledFactors=r.mfaInfo.map(n=>P1._fromServerResponse(e.auth,n)))})}static _fromUser(e){return new Tj(e)}async getSession(){return ef._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,r){const n=e,i=await this.getSession(),a=await Qu(this.user,n._process(this.user.auth,i,r));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const r=typeof e=="string"?e:e.uid,n=await this.user.getIdToken();try{const i=await Qu(this.user,iW(this.user.auth,{idToken:n,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==r),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const lw=new WeakMap;function Em(t){const e=Fr(t);return lw.has(e)||lw.set(e,Tj._fromUser(e)),lw.get(e)}const yv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(yv,"1"),this.storage.removeItem(yv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=1e3,sW=10;class WR extends HR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(n);!r&&this.localCache[n]===l||this.notifyListeners(n,l)},a=this.storage.getItem(n);aH()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sW):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},aW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}WR.type="LOCAL";const oW=WR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends HR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}GR.type="SESSION";const YR=GR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new R1(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,l=this.handlersMap[i];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const c=Array.from(l).map(async h=>h(r.origin,a)),d=await lW(c);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:d})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}R1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,d)=>{const h=Cj("",20);i.port1.start();const f=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:i,onMessage(p){const x=p;if(x.data.eventId===h)switch(x.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(f),clearTimeout(a),d(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(){return window}function uW(t){Oi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function dW(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hW(){return navigator?.serviceWorker?.controller||null}function fW(){return kj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firebaseLocalStorageDb",mW=1,xv="firebaseLocalStorage",XR="fbase_key";class $0{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function O1(t,e){return t.transaction([xv],e?"readwrite":"readonly").objectStore(xv)}function pW(){const t=indexedDB.deleteDatabase(KR);return new $0(t).toPromise()}function M_(){const t=indexedDB.open(KR,mW);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(xv,{keyPath:XR})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(xv)?e(n):(n.close(),await pW(),e(await M_()))})})}async function cE(t,e,r){const n=O1(t,!0).put({[XR]:e,value:r});return new $0(n).toPromise()}async function gW(t,e){const r=O1(t,!1).get(e),n=await new $0(r).toPromise();return n===void 0?null:n.value}function uE(t,e){const r=O1(t,!0).delete(e);return new $0(r).toPromise()}const yW=800,xW=3;class ZR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M_(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>xW)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=R1._getInstance(fW()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dW(),!this.activeServiceWorker)return;this.sender=new cW(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M_();return await cE(e,yv,"1"),await uE(e,yv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>cE(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>gW(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>uE(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=O1(i,!1).getAll();return new $0(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ZR.type="LOCAL";const vW=ZR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(t,e){return ja(t,"POST","/v2/accounts/mfaSignIn:start",Na(t,e))}function bW(t,e){return ja(t,"POST","/v2/accounts/mfaSignIn:finalize",Na(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=MR("rcb"),wW=new B0(3e4,6e4);class _W{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Oi().grecaptcha?.render}load(e,r=""){return Et(NW(r),e,"argument-error"),this.shouldResolveImmediately(r)&&Z6(Oi().grecaptcha)?Promise.resolve(Oi().grecaptcha):new Promise((n,i)=>{const a=Oi().setTimeout(()=>{i(fo(e,"network-request-failed"))},wW.get());Oi()[cw]=()=>{Oi().clearTimeout(a),delete Oi()[cw];const c=Oi().grecaptcha;if(!c||!Z6(c)){i(fo(e,"internal-error"));return}const d=c.render;c.render=(h,f)=>{const p=d(h,f);return this.counter++,p},this.hostLanguage=r,n(c)};const l=`${hH()}?${Np({onload:cw,render:"explicit",hl:r})}`;_j(l).catch(()=>{clearTimeout(a),i(fo(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Oi().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function NW(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class jW{async load(e){return new yH(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="recaptcha",SW={theme:"light",type:"image"};class QR{constructor(e,r,n={...SW}){this.parameters=n,this.type=Zg,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wo(e),this.isInvisible=this.parameters.size==="invisible",Et(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof r=="string"?document.getElementById(r):r;Et(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jW:new _W,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),r=this.getAssertedRecaptcha(),n=r.getResponse(e);return n||new Promise(i=>{const a=l=>{l&&(this.tokenChangeListeners.delete(a),i(l))};this.tokenChangeListeners.add(a),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Et(!this.parameters.sitekey,this.auth,"argument-error"),Et(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Et(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(n=>n(r)),typeof e=="function")e(r);else if(typeof e=="string"){const n=Oi()[e];typeof n=="function"&&n(r)}}}assertNotDestroyed(){Et(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Et(bR()&&!kj(),this.auth,"internal-error"),await AW(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await K$(this.auth);Et(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Et(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function AW(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}async function EW(t,e,r){if(!t._getRecaptchaConfig())try{await NH(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let n;if(typeof e=="string"?n={phoneNumber:e}:n=e,"session"in n){const i=n.session;if("phoneNumber"in n){Et(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await uf(t,a,"mfaSmsEnrollment",async(h,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===Xg){Et(r?.type===Zg,h,"argument-error");const p=await uw(h,f,r);return lE(h,p)}return lE(h,f)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{Et(i.type==="signin",t,"internal-error");const a=n.multiFactorHint?.uid||n.multiFactorUid;Et(a,t,"missing-multi-factor-info");const l={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await uf(t,l,"mfaSmsSignIn",async(f,p)=>{if(p.phoneSignInInfo.captchaResponse===Xg){Et(r?.type===Zg,f,"argument-error");const x=await uw(f,p,r);return dE(f,x)}return dE(f,p)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await uf(t,i,"sendVerificationCode",async(d,h)=>{if(h.captchaResponse===Xg){Et(r?.type===Zg,d,"argument-error");const f=await uw(d,h,r);return aE(d,f)}return aE(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{r?._reset()}}async function uw(t,e,r){Et(r.type===Zg,t,"argument-error");const n=await r.verify();Et(typeof n=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,l=i.phoneEnrollmentInfo.captchaResponse,c=i.phoneEnrollmentInfo.clientType,d=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:n,captchaResponse:l,clientType:c,recaptchaVersion:d}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,l=i.phoneSignInInfo.clientType,c=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:a,clientType:l,recaptchaVersion:c}}),i}else return Object.assign(i,{recaptchaToken:n}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.providerId=Hc.PROVIDER_ID,this.auth=Wo(e)}verifyPhoneNumber(e,r){return EW(this.auth,e,Fr(r))}static credential(e,r){return Hm._fromVerification(e,r)}static credentialFromResult(e){const r=e;return Hc.credentialFromTaggedObject(r)}static credentialFromError(e){return Hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:r,temporaryProof:n}=e;return r&&n?Hm._fromTokenResponse(r,n):null}}Hc.PROVIDER_ID="phone";Hc.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(t,e){return e?Fu(e):(Et(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij extends I1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $m(e,this._buildIdpRequest())}_linkToIdToken(e,r){return $m(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return $m(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function TW(t){return BR(t.auth,new Ij(t),t.bypassAuthState)}function CW(t){const{auth:e,user:r}=t;return Et(r,e,"internal-error"),HH(r,new Ij(t),t.bypassAuthState)}async function kW(t){const{auth:e,user:r}=t;return Et(r,e,"internal-error"),$H(r,new Ij(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TW;case"linkViaPopup":case"linkViaRedirect":return kW;case"reauthViaPopup":case"reauthViaRedirect":return CW;default:mo(this.auth,"internal-error")}}resolve(e){Zu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=new B0(2e3,1e4);async function PW(t,e,r){if(hs(t.app))return Promise.reject(fo(t,"operation-not-supported-in-this-environment"));const n=Wo(t);B$(t,e,jj);const i=JR(n,r);return new tf(n,"signInViaPopup",e,i).executeNotNull()}class tf extends eO{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,tf.currentPopupAction&&tf.currentPopupAction.cancel(),tf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Et(e,this.auth,"internal-error"),e}async onExecution(){Zu(this.filter.length===1,"Popup operations only handle one event");const e=Cj();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,tf.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IW.get())};e()}}tf.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW="pendingRedirect",Yx=new Map;class OW extends eO{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=Yx.get(this.auth._key());if(!e){try{const n=await DW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}Yx.set(this.auth._key(),e)}return this.bypassAuthState||Yx.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DW(t,e){const r=zW(e),n=MW(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function LW(t,e){Yx.set(t._key(),e)}function MW(t){return Fu(t._redirectPersistence)}function zW(t){return Gx(RW,t.config.apiKey,t.name)}async function FW(t,e,r=!1){if(hs(t.app))return Promise.reject($c(t));const n=Wo(t),i=JR(n,e),l=await new OW(n,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=600*1e3;class BW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VW(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!tO(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(fo(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UW&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function tO({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function VW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tO(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qW(t,e={}){return ja(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HW=/^https?/;async function WW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qW(t);for(const r of e)try{if(GW(r))return}catch{}mo(t,"unauthorized-domain")}function GW(t){const e=D_(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===n}if(!HW.test(r))return!1;if($W.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YW=new B0(3e4,6e4);function fE(){const t=Oi().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function KW(t){return new Promise((e,r)=>{function n(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),r(fo(t,"network-request-failed"))},timeout:YW.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)n();else{const i=MR("iframefcb");return Oi()[i]=()=>{gapi.load?n():r(fo(t,"network-request-failed"))},_j(`${mH()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw Kx=null,e})}let Kx=null;function XW(t){return Kx=Kx||KW(t),Kx}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW=new B0(5e3,15e3),QW="__/auth/iframe",JW="emulator/auth/iframe",eG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rG(t){const e=t.config;Et(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?vj(e,JW):`https://${t.config.authDomain}/${QW}`,n={apiKey:e.apiKey,appName:t.name,v:Lf},i=tG.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${Np(n).slice(1)}`}async function nG(t){const e=await XW(t),r=Oi().gapi;return Et(r,t,"internal-error"),e.open({where:document.body,url:rG(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eG,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const l=fo(t,"network-request-failed"),c=Oi().setTimeout(()=>{a(l)},ZW.get());function d(){Oi().clearTimeout(c),i(n)}n.ping(d).then(d,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aG=500,sG=600,oG="_blank",lG="http://localhost";class mE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cG(t,e,r,n=aG,i=sG){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d={...iG,width:n.toString(),height:i.toString(),top:a,left:l},h=ps().toLowerCase();r&&(c=kR(h)?oG:r),TR(h)&&(e=e||lG,d.scrollbars="yes");const f=Object.entries(d).reduce((x,[g,w])=>`${x}${g}=${w},`,"");if(iH(h)&&c!=="_self")return uG(e||"",c),new mE(null);const p=window.open(e||"",c,f);Et(p,t,"popup-blocked");try{p.focus()}catch{}return new mE(p)}function uG(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG="__/auth/handler",hG="emulator/auth/handler",fG=encodeURIComponent("fac");async function pE(t,e,r,n,i,a){Et(t.config.authDomain,t,"auth-domain-config-required"),Et(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Lf,eventId:i};if(e instanceof jj){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",jq(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))l[f]=p}if(e instanceof q0){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(l.scopes=f.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const f of Object.keys(c))c[f]===void 0&&delete c[f];const d=await t._getAppCheckToken(),h=d?`#${fG}=${encodeURIComponent(d)}`:"";return`${mG(t)}?${Np(c).slice(1)}${h}`}function mG({config:t}){return t.emulator?vj(t,hG):`https://${t.authDomain}/${dG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="webStorageSupport";class pG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=YR,this._completeRedirectFn=FW,this._overrideRedirectResult=LW}async _openPopup(e,r,n,i){Zu(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await pE(e,r,n,D_(),i);return cG(e,a,Cj())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await pE(e,r,n,D_(),i);return uW(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Zu(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await nG(e),n=new BW(e);return r.register("authEvent",i=>(Et(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(dw,{type:dw},i=>{const a=i?.[0]?.[dw];a!==void 0&&r(!!a),mo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=WW(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return DR()||CR()||wj()}}const gG=pG;class yG{constructor(e){this.factorId=e}_process(e,r,n){switch(r.type){case"enroll":return this._finalizeEnroll(e,r.credential,n);case"signin":return this._finalizeSignIn(e,r.credential);default:return Uc("unexpected MultiFactorSessionType")}}}class Pj extends yG{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Pj(e)}_finalizeEnroll(e,r,n){return nW(e,{idToken:r,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,r){return bW(e,{mfaPendingCredential:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Rj{constructor(){}static assertion(e){return Pj._fromCredential(e)}}Rj.FACTOR_ID="phone";var gE="@firebase/auth",yE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bG(t){_l(new qo("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;Et(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LR(t)},h=new uH(n,i,a,d);return SH(h,r),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),_l(new qo("auth-internal",e=>{const r=Wo(e.getProvider("auth").getImmediate());return(n=>new xG(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(gE,yE,vG(t)),ms(gE,yE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG=300,_G=oR("authIdTokenMaxAge")||wG;let xE=null;const NG=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>_G)return;const i=r?.token;xE!==i&&(xE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jG(t=U0()){const e=ld(t,"auth");if(e.isInitialized())return e.getImmediate();const r=jH(t,{popupRedirectResolver:gG,persistence:[vW,oW,YR]}),n=oR("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const l=NG(a.toString());eW(r,l,()=>l(r.currentUser)),JH(r,c=>l(c))}}const i=aR("auth");return i&&AH(r,`http://${i}`),r}function SG(){return document.getElementsByTagName("head")?.[0]??document}dH({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=fo("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",SG().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bG("Browser");var vE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lh,rO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,M){function D(){}D.prototype=M.prototype,U.F=M.prototype,U.prototype=new D,U.prototype.constructor=U,U.D=function(G,L,I){for(var B=Array(arguments.length-2),k=2;k<arguments.length;k++)B[k-2]=arguments[k];return M.prototype[L].apply(G,B)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(U,M,D){D||(D=0);const G=Array(16);if(typeof M=="string")for(var L=0;L<16;++L)G[L]=M.charCodeAt(D++)|M.charCodeAt(D++)<<8|M.charCodeAt(D++)<<16|M.charCodeAt(D++)<<24;else for(L=0;L<16;++L)G[L]=M[D++]|M[D++]<<8|M[D++]<<16|M[D++]<<24;M=U.g[0],D=U.g[1],L=U.g[2];let I=U.g[3],B;B=M+(I^D&(L^I))+G[0]+3614090360&4294967295,M=D+(B<<7&4294967295|B>>>25),B=I+(L^M&(D^L))+G[1]+3905402710&4294967295,I=M+(B<<12&4294967295|B>>>20),B=L+(D^I&(M^D))+G[2]+606105819&4294967295,L=I+(B<<17&4294967295|B>>>15),B=D+(M^L&(I^M))+G[3]+3250441966&4294967295,D=L+(B<<22&4294967295|B>>>10),B=M+(I^D&(L^I))+G[4]+4118548399&4294967295,M=D+(B<<7&4294967295|B>>>25),B=I+(L^M&(D^L))+G[5]+1200080426&4294967295,I=M+(B<<12&4294967295|B>>>20),B=L+(D^I&(M^D))+G[6]+2821735955&4294967295,L=I+(B<<17&4294967295|B>>>15),B=D+(M^L&(I^M))+G[7]+4249261313&4294967295,D=L+(B<<22&4294967295|B>>>10),B=M+(I^D&(L^I))+G[8]+1770035416&4294967295,M=D+(B<<7&4294967295|B>>>25),B=I+(L^M&(D^L))+G[9]+2336552879&4294967295,I=M+(B<<12&4294967295|B>>>20),B=L+(D^I&(M^D))+G[10]+4294925233&4294967295,L=I+(B<<17&4294967295|B>>>15),B=D+(M^L&(I^M))+G[11]+2304563134&4294967295,D=L+(B<<22&4294967295|B>>>10),B=M+(I^D&(L^I))+G[12]+1804603682&4294967295,M=D+(B<<7&4294967295|B>>>25),B=I+(L^M&(D^L))+G[13]+4254626195&4294967295,I=M+(B<<12&4294967295|B>>>20),B=L+(D^I&(M^D))+G[14]+2792965006&4294967295,L=I+(B<<17&4294967295|B>>>15),B=D+(M^L&(I^M))+G[15]+1236535329&4294967295,D=L+(B<<22&4294967295|B>>>10),B=M+(L^I&(D^L))+G[1]+4129170786&4294967295,M=D+(B<<5&4294967295|B>>>27),B=I+(D^L&(M^D))+G[6]+3225465664&4294967295,I=M+(B<<9&4294967295|B>>>23),B=L+(M^D&(I^M))+G[11]+643717713&4294967295,L=I+(B<<14&4294967295|B>>>18),B=D+(I^M&(L^I))+G[0]+3921069994&4294967295,D=L+(B<<20&4294967295|B>>>12),B=M+(L^I&(D^L))+G[5]+3593408605&4294967295,M=D+(B<<5&4294967295|B>>>27),B=I+(D^L&(M^D))+G[10]+38016083&4294967295,I=M+(B<<9&4294967295|B>>>23),B=L+(M^D&(I^M))+G[15]+3634488961&4294967295,L=I+(B<<14&4294967295|B>>>18),B=D+(I^M&(L^I))+G[4]+3889429448&4294967295,D=L+(B<<20&4294967295|B>>>12),B=M+(L^I&(D^L))+G[9]+568446438&4294967295,M=D+(B<<5&4294967295|B>>>27),B=I+(D^L&(M^D))+G[14]+3275163606&4294967295,I=M+(B<<9&4294967295|B>>>23),B=L+(M^D&(I^M))+G[3]+4107603335&4294967295,L=I+(B<<14&4294967295|B>>>18),B=D+(I^M&(L^I))+G[8]+1163531501&4294967295,D=L+(B<<20&4294967295|B>>>12),B=M+(L^I&(D^L))+G[13]+2850285829&4294967295,M=D+(B<<5&4294967295|B>>>27),B=I+(D^L&(M^D))+G[2]+4243563512&4294967295,I=M+(B<<9&4294967295|B>>>23),B=L+(M^D&(I^M))+G[7]+1735328473&4294967295,L=I+(B<<14&4294967295|B>>>18),B=D+(I^M&(L^I))+G[12]+2368359562&4294967295,D=L+(B<<20&4294967295|B>>>12),B=M+(D^L^I)+G[5]+4294588738&4294967295,M=D+(B<<4&4294967295|B>>>28),B=I+(M^D^L)+G[8]+2272392833&4294967295,I=M+(B<<11&4294967295|B>>>21),B=L+(I^M^D)+G[11]+1839030562&4294967295,L=I+(B<<16&4294967295|B>>>16),B=D+(L^I^M)+G[14]+4259657740&4294967295,D=L+(B<<23&4294967295|B>>>9),B=M+(D^L^I)+G[1]+2763975236&4294967295,M=D+(B<<4&4294967295|B>>>28),B=I+(M^D^L)+G[4]+1272893353&4294967295,I=M+(B<<11&4294967295|B>>>21),B=L+(I^M^D)+G[7]+4139469664&4294967295,L=I+(B<<16&4294967295|B>>>16),B=D+(L^I^M)+G[10]+3200236656&4294967295,D=L+(B<<23&4294967295|B>>>9),B=M+(D^L^I)+G[13]+681279174&4294967295,M=D+(B<<4&4294967295|B>>>28),B=I+(M^D^L)+G[0]+3936430074&4294967295,I=M+(B<<11&4294967295|B>>>21),B=L+(I^M^D)+G[3]+3572445317&4294967295,L=I+(B<<16&4294967295|B>>>16),B=D+(L^I^M)+G[6]+76029189&4294967295,D=L+(B<<23&4294967295|B>>>9),B=M+(D^L^I)+G[9]+3654602809&4294967295,M=D+(B<<4&4294967295|B>>>28),B=I+(M^D^L)+G[12]+3873151461&4294967295,I=M+(B<<11&4294967295|B>>>21),B=L+(I^M^D)+G[15]+530742520&4294967295,L=I+(B<<16&4294967295|B>>>16),B=D+(L^I^M)+G[2]+3299628645&4294967295,D=L+(B<<23&4294967295|B>>>9),B=M+(L^(D|~I))+G[0]+4096336452&4294967295,M=D+(B<<6&4294967295|B>>>26),B=I+(D^(M|~L))+G[7]+1126891415&4294967295,I=M+(B<<10&4294967295|B>>>22),B=L+(M^(I|~D))+G[14]+2878612391&4294967295,L=I+(B<<15&4294967295|B>>>17),B=D+(I^(L|~M))+G[5]+4237533241&4294967295,D=L+(B<<21&4294967295|B>>>11),B=M+(L^(D|~I))+G[12]+1700485571&4294967295,M=D+(B<<6&4294967295|B>>>26),B=I+(D^(M|~L))+G[3]+2399980690&4294967295,I=M+(B<<10&4294967295|B>>>22),B=L+(M^(I|~D))+G[10]+4293915773&4294967295,L=I+(B<<15&4294967295|B>>>17),B=D+(I^(L|~M))+G[1]+2240044497&4294967295,D=L+(B<<21&4294967295|B>>>11),B=M+(L^(D|~I))+G[8]+1873313359&4294967295,M=D+(B<<6&4294967295|B>>>26),B=I+(D^(M|~L))+G[15]+4264355552&4294967295,I=M+(B<<10&4294967295|B>>>22),B=L+(M^(I|~D))+G[6]+2734768916&4294967295,L=I+(B<<15&4294967295|B>>>17),B=D+(I^(L|~M))+G[13]+1309151649&4294967295,D=L+(B<<21&4294967295|B>>>11),B=M+(L^(D|~I))+G[4]+4149444226&4294967295,M=D+(B<<6&4294967295|B>>>26),B=I+(D^(M|~L))+G[11]+3174756917&4294967295,I=M+(B<<10&4294967295|B>>>22),B=L+(M^(I|~D))+G[2]+718787259&4294967295,L=I+(B<<15&4294967295|B>>>17),B=D+(I^(L|~M))+G[9]+3951481745&4294967295,U.g[0]=U.g[0]+M&4294967295,U.g[1]=U.g[1]+(L+(B<<21&4294967295|B>>>11))&4294967295,U.g[2]=U.g[2]+L&4294967295,U.g[3]=U.g[3]+I&4294967295}n.prototype.v=function(U,M){M===void 0&&(M=U.length);const D=M-this.blockSize,G=this.C;let L=this.h,I=0;for(;I<M;){if(L==0)for(;I<=D;)i(this,U,I),I+=this.blockSize;if(typeof U=="string"){for(;I<M;)if(G[L++]=U.charCodeAt(I++),L==this.blockSize){i(this,G),L=0;break}}else for(;I<M;)if(G[L++]=U[I++],L==this.blockSize){i(this,G),L=0;break}}this.h=L,this.o+=M},n.prototype.A=function(){var U=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);U[0]=128;for(var M=1;M<U.length-8;++M)U[M]=0;M=this.o*8;for(var D=U.length-8;D<U.length;++D)U[D]=M&255,M/=256;for(this.v(U),U=Array(16),M=0,D=0;D<4;++D)for(let G=0;G<32;G+=8)U[M++]=this.g[D]>>>G&255;return U};function a(U,M){var D=c;return Object.prototype.hasOwnProperty.call(D,U)?D[U]:D[U]=M(U)}function l(U,M){this.h=M;const D=[];let G=!0;for(let L=U.length-1;L>=0;L--){const I=U[L]|0;G&&I==M||(D[L]=I,G=!1)}this.g=D}var c={};function d(U){return-128<=U&&U<128?a(U,function(M){return new l([M|0],M<0?-1:0)}):new l([U|0],U<0?-1:0)}function h(U){if(isNaN(U)||!isFinite(U))return p;if(U<0)return _(h(-U));const M=[];let D=1;for(let G=0;U>=D;G++)M[G]=U/D|0,D*=4294967296;return new l(M,0)}function f(U,M){if(U.length==0)throw Error("number format error: empty string");if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(U.charAt(0)=="-")return _(f(U.substring(1),M));if(U.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=h(Math.pow(M,8));let G=p;for(let I=0;I<U.length;I+=8){var L=Math.min(8,U.length-I);const B=parseInt(U.substring(I,I+L),M);L<8?(L=h(Math.pow(M,L)),G=G.j(L).add(h(B))):(G=G.j(D),G=G.add(h(B)))}return G}var p=d(0),x=d(1),g=d(16777216);t=l.prototype,t.m=function(){if(v(this))return-_(this).m();let U=0,M=1;for(let D=0;D<this.g.length;D++){const G=this.i(D);U+=(G>=0?G:4294967296+G)*M,M*=4294967296}return U},t.toString=function(U){if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(w(this))return"0";if(v(this))return"-"+_(this).toString(U);const M=h(Math.pow(U,6));var D=this;let G="";for(;;){const L=z(D,M).g;D=j(D,L.j(M));let I=((D.g.length>0?D.g[0]:D.h)>>>0).toString(U);if(D=L,w(D))return I+G;for(;I.length<6;)I="0"+I;G=I+G}},t.i=function(U){return U<0?0:U<this.g.length?this.g[U]:this.h};function w(U){if(U.h!=0)return!1;for(let M=0;M<U.g.length;M++)if(U.g[M]!=0)return!1;return!0}function v(U){return U.h==-1}t.l=function(U){return U=j(this,U),v(U)?-1:w(U)?0:1};function _(U){const M=U.g.length,D=[];for(let G=0;G<M;G++)D[G]=~U.g[G];return new l(D,~U.h).add(x)}t.abs=function(){return v(this)?_(this):this},t.add=function(U){const M=Math.max(this.g.length,U.g.length),D=[];let G=0;for(let L=0;L<=M;L++){let I=G+(this.i(L)&65535)+(U.i(L)&65535),B=(I>>>16)+(this.i(L)>>>16)+(U.i(L)>>>16);G=B>>>16,I&=65535,B&=65535,D[L]=B<<16|I}return new l(D,D[D.length-1]&-2147483648?-1:0)};function j(U,M){return U.add(_(M))}t.j=function(U){if(w(this)||w(U))return p;if(v(this))return v(U)?_(this).j(_(U)):_(_(this).j(U));if(v(U))return _(this.j(_(U)));if(this.l(g)<0&&U.l(g)<0)return h(this.m()*U.m());const M=this.g.length+U.g.length,D=[];for(var G=0;G<2*M;G++)D[G]=0;for(G=0;G<this.g.length;G++)for(let L=0;L<U.g.length;L++){const I=this.i(G)>>>16,B=this.i(G)&65535,k=U.i(L)>>>16,re=U.i(L)&65535;D[2*G+2*L]+=B*re,E(D,2*G+2*L),D[2*G+2*L+1]+=I*re,E(D,2*G+2*L+1),D[2*G+2*L+1]+=B*k,E(D,2*G+2*L+1),D[2*G+2*L+2]+=I*k,E(D,2*G+2*L+2)}for(U=0;U<M;U++)D[U]=D[2*U+1]<<16|D[2*U];for(U=M;U<2*M;U++)D[U]=0;return new l(D,0)};function E(U,M){for(;(U[M]&65535)!=U[M];)U[M+1]+=U[M]>>>16,U[M]&=65535,M++}function C(U,M){this.g=U,this.h=M}function z(U,M){if(w(M))throw Error("division by zero");if(w(U))return new C(p,p);if(v(U))return M=z(_(U),M),new C(_(M.g),_(M.h));if(v(M))return M=z(U,_(M)),new C(_(M.g),M.h);if(U.g.length>30){if(v(U)||v(M))throw Error("slowDivide_ only works with positive integers.");for(var D=x,G=M;G.l(U)<=0;)D=P(D),G=P(G);var L=X(D,1),I=X(G,1);for(G=X(G,2),D=X(D,2);!w(G);){var B=I.add(G);B.l(U)<=0&&(L=L.add(D),I=B),G=X(G,1),D=X(D,1)}return M=j(U,L.j(M)),new C(L,M)}for(L=p;U.l(M)>=0;){for(D=Math.max(1,Math.floor(U.m()/M.m())),G=Math.ceil(Math.log(D)/Math.LN2),G=G<=48?1:Math.pow(2,G-48),I=h(D),B=I.j(M);v(B)||B.l(U)>0;)D-=G,I=h(D),B=I.j(M);w(I)&&(I=x),L=L.add(I),U=j(U,B)}return new C(L,U)}t.B=function(U){return z(this,U).h},t.and=function(U){const M=Math.max(this.g.length,U.g.length),D=[];for(let G=0;G<M;G++)D[G]=this.i(G)&U.i(G);return new l(D,this.h&U.h)},t.or=function(U){const M=Math.max(this.g.length,U.g.length),D=[];for(let G=0;G<M;G++)D[G]=this.i(G)|U.i(G);return new l(D,this.h|U.h)},t.xor=function(U){const M=Math.max(this.g.length,U.g.length),D=[];for(let G=0;G<M;G++)D[G]=this.i(G)^U.i(G);return new l(D,this.h^U.h)};function P(U){const M=U.g.length+1,D=[];for(let G=0;G<M;G++)D[G]=U.i(G)<<1|U.i(G-1)>>>31;return new l(D,U.h)}function X(U,M){const D=M>>5;M%=32;const G=U.g.length-D,L=[];for(let I=0;I<G;I++)L[I]=M>0?U.i(I+D)>>>M|U.i(I+D+1)<<32-M:U.i(I+D);return new l(L,U.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,rO=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=f,lh=l}).apply(typeof vE<"u"?vE:typeof self<"u"?self:typeof window<"u"?window:{});var ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nO,Bg,iO,Xx,z_,aO,sO,oO;(function(){var t,e=Object.defineProperty;function r(N){N=[typeof globalThis=="object"&&globalThis,N,typeof window=="object"&&window,typeof self=="object"&&self,typeof ux=="object"&&ux];for(var q=0;q<N.length;++q){var Z=N[q];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var n=r(this);function i(N,q){if(q)e:{var Z=n;N=N.split(".");for(var me=0;me<N.length-1;me++){var Ue=N[me];if(!(Ue in Z))break e;Z=Z[Ue]}N=N[N.length-1],me=Z[N],q=q(me),q!=me&&q!=null&&e(Z,N,{configurable:!0,writable:!0,value:q})}}i("Symbol.dispose",function(N){return N||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(N){return N||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(N){return N||function(q){var Z=[],me;for(me in q)Object.prototype.hasOwnProperty.call(q,me)&&Z.push([me,q[me]]);return Z}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(N){var q=typeof N;return q=="object"&&N!=null||q=="function"}function d(N,q,Z){return N.call.apply(N.bind,arguments)}function h(N,q,Z){return h=d,h.apply(null,arguments)}function f(N,q){var Z=Array.prototype.slice.call(arguments,1);return function(){var me=Z.slice();return me.push.apply(me,arguments),N.apply(this,me)}}function p(N,q){function Z(){}Z.prototype=q.prototype,N.Z=q.prototype,N.prototype=new Z,N.prototype.constructor=N,N.Ob=function(me,Ue,We){for(var wt=Array(arguments.length-2),ir=2;ir<arguments.length;ir++)wt[ir-2]=arguments[ir];return q.prototype[Ue].apply(me,wt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?N=>N&&AsyncContext.Snapshot.wrap(N):N=>N;function g(N){const q=N.length;if(q>0){const Z=Array(q);for(let me=0;me<q;me++)Z[me]=N[me];return Z}return[]}function w(N,q){for(let me=1;me<arguments.length;me++){const Ue=arguments[me];var Z=typeof Ue;if(Z=Z!="object"?Z:Ue?Array.isArray(Ue)?"array":Z:"null",Z=="array"||Z=="object"&&typeof Ue.length=="number"){Z=N.length||0;const We=Ue.length||0;N.length=Z+We;for(let wt=0;wt<We;wt++)N[Z+wt]=Ue[wt]}else N.push(Ue)}}class v{constructor(q,Z){this.i=q,this.j=Z,this.h=0,this.g=null}get(){let q;return this.h>0?(this.h--,q=this.g,this.g=q.next,q.next=null):q=this.i(),q}}function _(N){l.setTimeout(()=>{throw N},0)}function j(){var N=U;let q=null;return N.g&&(q=N.g,N.g=N.g.next,N.g||(N.h=null),q.next=null),q}class E{constructor(){this.h=this.g=null}add(q,Z){const me=C.get();me.set(q,Z),this.h?this.h.next=me:this.g=me,this.h=me}}var C=new v(()=>new z,N=>N.reset());class z{constructor(){this.next=this.g=this.h=null}set(q,Z){this.h=q,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let P,X=!1,U=new E,M=()=>{const N=Promise.resolve(void 0);P=()=>{N.then(D)}};function D(){for(var N;N=j();){try{N.h.call(N.g)}catch(Z){_(Z)}var q=C;q.j(N),q.h<100&&(q.h++,N.next=q.g,q.g=N)}X=!1}function G(){this.u=this.u,this.C=this.C}G.prototype.u=!1,G.prototype.dispose=function(){this.u||(this.u=!0,this.N())},G.prototype[Symbol.dispose]=function(){this.dispose()},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(N,q){this.type=N,this.g=this.target=q,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var N=!1,q=Object.defineProperty({},"passive",{get:function(){N=!0}});try{const Z=()=>{};l.addEventListener("test",Z,q),l.removeEventListener("test",Z,q)}catch{}return N})();function B(N){return/^[\s\xa0]*$/.test(N)}function k(N,q){L.call(this,N?N.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,N&&this.init(N,q)}p(k,L),k.prototype.init=function(N,q){const Z=this.type=N.type,me=N.changedTouches&&N.changedTouches.length?N.changedTouches[0]:null;this.target=N.target||N.srcElement,this.g=q,q=N.relatedTarget,q||(Z=="mouseover"?q=N.fromElement:Z=="mouseout"&&(q=N.toElement)),this.relatedTarget=q,me?(this.clientX=me.clientX!==void 0?me.clientX:me.pageX,this.clientY=me.clientY!==void 0?me.clientY:me.pageY,this.screenX=me.screenX||0,this.screenY=me.screenY||0):(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0),this.button=N.button,this.key=N.key||"",this.ctrlKey=N.ctrlKey,this.altKey=N.altKey,this.shiftKey=N.shiftKey,this.metaKey=N.metaKey,this.pointerId=N.pointerId||0,this.pointerType=N.pointerType,this.state=N.state,this.i=N,N.defaultPrevented&&k.Z.h.call(this)},k.prototype.h=function(){k.Z.h.call(this);const N=this.i;N.preventDefault?N.preventDefault():N.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),Y=0;function Q(N,q,Z,me,Ue){this.listener=N,this.proxy=null,this.src=q,this.type=Z,this.capture=!!me,this.ha=Ue,this.key=++Y,this.da=this.fa=!1}function se(N){N.da=!0,N.listener=null,N.proxy=null,N.src=null,N.ha=null}function oe(N,q,Z){for(const me in N)q.call(Z,N[me],me,N)}function pe(N,q){for(const Z in N)q.call(void 0,N[Z],Z,N)}function H(N){const q={};for(const Z in N)q[Z]=N[Z];return q}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(N,q){let Z,me;for(let Ue=1;Ue<arguments.length;Ue++){me=arguments[Ue];for(Z in me)N[Z]=me[Z];for(let We=0;We<R.length;We++)Z=R[We],Object.prototype.hasOwnProperty.call(me,Z)&&(N[Z]=me[Z])}}function ee(N){this.src=N,this.g={},this.h=0}ee.prototype.add=function(N,q,Z,me,Ue){const We=N.toString();N=this.g[We],N||(N=this.g[We]=[],this.h++);const wt=be(N,q,me,Ue);return wt>-1?(q=N[wt],Z||(q.fa=!1)):(q=new Q(q,this.src,We,!!me,Ue),q.fa=Z,N.push(q)),q};function ae(N,q){const Z=q.type;if(Z in N.g){var me=N.g[Z],Ue=Array.prototype.indexOf.call(me,q,void 0),We;(We=Ue>=0)&&Array.prototype.splice.call(me,Ue,1),We&&(se(q),N.g[Z].length==0&&(delete N.g[Z],N.h--))}}function be(N,q,Z,me){for(let Ue=0;Ue<N.length;++Ue){const We=N[Ue];if(!We.da&&We.listener==q&&We.capture==!!Z&&We.ha==me)return Ue}return-1}var je="closure_lm_"+(Math.random()*1e6|0),de={};function ge(N,q,Z,me,Ue){if(Array.isArray(q)){for(let We=0;We<q.length;We++)ge(N,q[We],Z,me,Ue);return null}return Z=he(Z),N&&N[re]?N.J(q,Z,c(me)?!!me.capture:!1,Ue):Ie(N,q,Z,!1,me,Ue)}function Ie(N,q,Z,me,Ue,We){if(!q)throw Error("Invalid event type");const wt=c(Ue)?!!Ue.capture:!!Ue;let ir=Pe(N);if(ir||(N[je]=ir=new ee(N)),Z=ir.add(q,Z,me,wt,We),Z.proxy)return Z;if(me=Ve(),Z.proxy=me,me.src=N,me.listener=Z,N.addEventListener)I||(Ue=wt),Ue===void 0&&(Ue=!1),N.addEventListener(q.toString(),me,Ue);else if(N.attachEvent)N.attachEvent($(q.toString()),me);else if(N.addListener&&N.removeListener)N.addListener(me);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function Ve(){function N(Z){return q.call(N.src,N.listener,Z)}const q=ie;return N}function Re(N,q,Z,me,Ue){if(Array.isArray(q))for(var We=0;We<q.length;We++)Re(N,q[We],Z,me,Ue);else me=c(me)?!!me.capture:!!me,Z=he(Z),N&&N[re]?(N=N.i,We=String(q).toString(),We in N.g&&(q=N.g[We],Z=be(q,Z,me,Ue),Z>-1&&(se(q[Z]),Array.prototype.splice.call(q,Z,1),q.length==0&&(delete N.g[We],N.h--)))):N&&(N=Pe(N))&&(q=N.g[q.toString()],N=-1,q&&(N=be(q,Z,me,Ue)),(Z=N>-1?q[N]:null)&&mt(Z))}function mt(N){if(typeof N!="number"&&N&&!N.da){var q=N.src;if(q&&q[re])ae(q.i,N);else{var Z=N.type,me=N.proxy;q.removeEventListener?q.removeEventListener(Z,me,N.capture):q.detachEvent?q.detachEvent($(Z),me):q.addListener&&q.removeListener&&q.removeListener(me),(Z=Pe(q))?(ae(Z,N),Z.h==0&&(Z.src=null,q[je]=null)):se(N)}}}function $(N){return N in de?de[N]:de[N]="on"+N}function ie(N,q){if(N.da)N=!0;else{q=new k(q,this);const Z=N.listener,me=N.ha||N.src;N.fa&&mt(N),N=Z.call(me,q)}return N}function Pe(N){return N=N[je],N instanceof ee?N:null}var xe="__closure_events_fn_"+(Math.random()*1e9>>>0);function he(N){return typeof N=="function"?N:(N[xe]||(N[xe]=function(q){return N.handleEvent(q)}),N[xe])}function ve(){G.call(this),this.i=new ee(this),this.M=this,this.G=null}p(ve,G),ve.prototype[re]=!0,ve.prototype.removeEventListener=function(N,q,Z,me){Re(this,N,q,Z,me)};function ze(N,q){var Z,me=N.G;if(me)for(Z=[];me;me=me.G)Z.push(me);if(N=N.M,me=q.type||q,typeof q=="string")q=new L(q,N);else if(q instanceof L)q.target=q.target||N;else{var Ue=q;q=new L(me,N),J(q,Ue)}Ue=!0;let We,wt;if(Z)for(wt=Z.length-1;wt>=0;wt--)We=q.g=Z[wt],Ue=De(We,me,!0,q)&&Ue;if(We=q.g=N,Ue=De(We,me,!0,q)&&Ue,Ue=De(We,me,!1,q)&&Ue,Z)for(wt=0;wt<Z.length;wt++)We=q.g=Z[wt],Ue=De(We,me,!1,q)&&Ue}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var N=this.i;for(const q in N.g){const Z=N.g[q];for(let me=0;me<Z.length;me++)se(Z[me]);delete N.g[q],N.h--}}this.G=null},ve.prototype.J=function(N,q,Z,me){return this.i.add(String(N),q,!1,Z,me)},ve.prototype.K=function(N,q,Z,me){return this.i.add(String(N),q,!0,Z,me)};function De(N,q,Z,me){if(q=N.i.g[String(q)],!q)return!0;q=q.concat();let Ue=!0;for(let We=0;We<q.length;++We){const wt=q[We];if(wt&&!wt.da&&wt.capture==Z){const ir=wt.listener,an=wt.ha||wt.src;wt.fa&&ae(N.i,wt),Ue=ir.call(an,me)!==!1&&Ue}}return Ue&&!me.defaultPrevented}function Ce(N,q){if(typeof N!="function")if(N&&typeof N.handleEvent=="function")N=h(N.handleEvent,N);else throw Error("Invalid listener argument");return Number(q)>2147483647?-1:l.setTimeout(N,q||0)}function Ye(N){N.g=Ce(()=>{N.g=null,N.i&&(N.i=!1,Ye(N))},N.l);const q=N.h;N.h=null,N.m.apply(null,q)}class ot extends G{constructor(q,Z){super(),this.m=q,this.l=Z,this.h=null,this.i=!1,this.g=null}j(q){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(N){G.call(this),this.h=N,this.g={}}p(Qe,G);var ct=[];function Tt(N){oe(N.g,function(q,Z){this.g.hasOwnProperty(Z)&&mt(q)},N),N.g={}}Qe.prototype.N=function(){Qe.Z.N.call(this),Tt(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bt=l.JSON.stringify,Se=l.JSON.parse,Le=class{stringify(N){return l.JSON.stringify(N,void 0)}parse(N){return l.JSON.parse(N,void 0)}};function Xe(){}function xt(){}var ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ft(){L.call(this,"d")}p(ft,L);function Ct(){L.call(this,"c")}p(Ct,L);var Bt={},$t=null;function ur(){return $t=$t||new ve}Bt.Ia="serverreachability";function er(N){L.call(this,Bt.Ia,N)}p(er,L);function Je(N){const q=ur();ze(q,new er(q))}Bt.STAT_EVENT="statevent";function vt(N,q){L.call(this,Bt.STAT_EVENT,N),this.stat=q}p(vt,L);function At(N){const q=ur();ze(q,new vt(q,N))}Bt.Ja="timingevent";function Nt(N,q){L.call(this,Bt.Ja,N),this.size=q}p(Nt,L);function sr(N,q){if(typeof N!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){N()},q)}function yi(){this.g=!0}yi.prototype.ua=function(){this.g=!1};function Wn(N,q,Z,me,Ue,We){N.info(function(){if(N.g)if(We){var wt="",ir=We.split("&");for(let vr=0;vr<ir.length;vr++){var an=ir[vr].split("=");if(an.length>1){const $r=an[0];an=an[1];const Ci=$r.split("_");wt=Ci.length>=2&&Ci[1]=="type"?wt+($r+"="+an+"&"):wt+($r+"=redacted&")}}}else wt=null;else wt=We;return"XMLHTTP REQ ("+me+") [attempt "+Ue+"]: "+q+`
`+Z+`
`+wt})}function na(N,q,Z,me,Ue,We,wt){N.info(function(){return"XMLHTTP RESP ("+me+") [ attempt "+Ue+"]: "+q+`
`+Z+`
`+We+" "+wt})}function Gn(N,q,Z,me){N.info(function(){return"XMLHTTP TEXT ("+q+"): "+xo(N,Z)+(me?" "+me:"")})}function Wt(N,q){N.info(function(){return"TIMEOUT: "+q})}yi.prototype.info=function(){};function xo(N,q){if(!N.g)return q;if(!q)return null;try{const We=JSON.parse(q);if(We){for(N=0;N<We.length;N++)if(Array.isArray(We[N])){var Z=We[N];if(!(Z.length<2)){var me=Z[1];if(Array.isArray(me)&&!(me.length<1)){var Ue=me[0];if(Ue!="noop"&&Ue!="stop"&&Ue!="close")for(let wt=1;wt<me.length;wt++)me[wt]=""}}}}return bt(We)}catch{return q}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ia={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},aa;function Zr(){}p(Zr,Xe),Zr.prototype.g=function(){return new XMLHttpRequest},aa=new Zr;function hn(N){return encodeURIComponent(String(N))}function ai(N){var q=1;N=N.split(":");const Z=[];for(;q>0&&N.length;)Z.push(N.shift()),q--;return N.length&&Z.push(N.join(":")),Z}function Fi(N,q,Z,me){this.j=N,this.i=q,this.l=Z,this.S=me||1,this.V=new Qe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ei}function Ei(){this.i=null,this.g="",this.h=!1}var Vr={},rn={};function si(N,q,Z){N.M=1,N.A=Bi(yr(q)),N.u=Z,N.R=!0,sa(N,null)}function sa(N,q){N.F=Date.now(),oa(N),N.B=yr(N.A);var Z=N.B,me=N.S;Array.isArray(me)||(me=[String(me)]),vc(Z.i,"t",me),N.C=0,Z=N.j.L,N.h=new Ei,N.g=Rt(N.j,Z?q:null,!N.u),N.P>0&&(N.O=new ot(h(N.Y,N,N.g),N.P)),q=N.V,Z=N.g,me=N.ba;var Ue="readystatechange";Array.isArray(Ue)||(Ue&&(ct[0]=Ue.toString()),Ue=ct);for(let We=0;We<Ue.length;We++){const wt=ge(Z,Ue[We],me||q.handleEvent,!1,q.h||q);if(!wt)break;q.g[wt.key]=wt}q=N.J?H(N.J):{},N.u?(N.v||(N.v="POST"),q["Content-Type"]="application/x-www-form-urlencoded",N.g.ea(N.B,N.v,N.u,q)):(N.v="GET",N.g.ea(N.B,N.v,null,q)),Je(),Wn(N.i,N.v,N.B,N.l,N.S,N.u)}Fi.prototype.ba=function(N){N=N.target;const q=this.O;q&&Pa(N)==3?q.j():this.Y(N)},Fi.prototype.Y=function(N){try{if(N==this.g)e:{const ir=Pa(this.g),an=this.g.ya(),vr=this.g.ca();if(!(ir<3)&&(ir!=3||this.g&&(this.h.h||this.g.la()||Xn(this.g)))){this.K||ir!=4||an==7||(an==8||vr<=0?Je(3):Je(2)),Ta(this);var q=this.g.ca();this.X=q;var Z=Xa(this);if(this.o=q==200,na(this.i,this.v,this.B,this.l,this.S,ir,q),this.o){if(this.U&&!this.L){t:{if(this.g){var me,Ue=this.g;if((me=Ue.g?Ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(me)){var We=me;break t}}We=null}if(N=We)Gn(this.i,this.l,N,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Za(this,N);else{this.o=!1,this.m=3,At(12),Ca(this),Ui(this);break e}}if(this.R){N=!0;let $r;for(;!this.K&&this.C<Z.length;)if($r=gs(this,Z),$r==rn){ir==4&&(this.m=4,At(14),N=!1),Gn(this.i,this.l,null,"[Incomplete Response]");break}else if($r==Vr){this.m=4,At(15),Gn(this.i,this.l,Z,"[Invalid Chunk]"),N=!1;break}else Gn(this.i,this.l,$r,null),Za(this,$r);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ir!=4||Z.length!=0||this.h.h||(this.m=1,At(16),N=!1),this.o=this.o&&N,!N)Gn(this.i,this.l,Z,"[Invalid Chunked Response]"),Ca(this),Ui(this);else if(Z.length>0&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.aa&&!wt.P&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),_c(wt),wt.P=!0,At(11))}}else Gn(this.i,this.l,Z,null),Za(this,Z);ir==4&&Ca(this),this.o&&!this.K&&(ir==4?_e(this.j,this):(this.o=!1,oa(this)))}else Ra(this.g),q==400&&Z.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),Ca(this),Ui(this)}}}catch{}finally{}};function Xa(N){if(!Yo(N))return N.g.la();const q=Xn(N.g);if(q==="")return"";let Z="";const me=q.length,Ue=Pa(N.g)==4;if(!N.h.i){if(typeof TextDecoder>"u")return Ca(N),Ui(N),"";N.h.i=new l.TextDecoder}for(let We=0;We<me;We++)N.h.h=!0,Z+=N.h.i.decode(q[We],{stream:!(Ue&&We==me-1)});return q.length=0,N.h.g+=Z,N.C=0,N.h.g}function Yo(N){return N.g?N.v=="GET"&&N.M!=2&&N.j.Aa:!1}function gs(N,q){var Z=N.C,me=q.indexOf(`
`,Z);return me==-1?rn:(Z=Number(q.substring(Z,me)),isNaN(Z)?Vr:(me+=1,me+Z>q.length?rn:(q=q.slice(me,me+Z),N.C=me+Z,q)))}Fi.prototype.cancel=function(){this.K=!0,Ca(this)};function oa(N){N.T=Date.now()+N.H,vo(N,N.H)}function vo(N,q){if(N.D!=null)throw Error("WatchDog timer not null");N.D=sr(h(N.aa,N),q)}function Ta(N){N.D&&(l.clearTimeout(N.D),N.D=null)}Fi.prototype.aa=function(){this.D=null;const N=Date.now();N-this.T>=0?(Wt(this.i,this.B),this.M!=2&&(Je(),At(17)),Ca(this),this.m=2,Ui(this)):vo(this,this.T-N)};function Ui(N){N.j.I==0||N.K||_e(N.j,N)}function Ca(N){Ta(N);var q=N.O;q&&typeof q.dispose=="function"&&q.dispose(),N.O=null,Tt(N.V),N.g&&(q=N.g,N.g=null,q.abort(),q.dispose())}function Za(N,q){try{var Z=N.j;if(Z.I!=0&&(Z.g==N||ys(Z.h,N))){if(!N.L&&ys(Z.h,N)&&Z.I==3){try{var me=Z.Ba.g.parse(q)}catch{me=null}if(Array.isArray(me)&&me.length==3){var Ue=me;if(Ue[0]==0){e:if(!Z.v){if(Z.g)if(Z.g.F+3e3<N.F)te(Z),qs(Z);else break e;js(Z),At(18)}}else Z.xa=Ue[1],0<Z.xa-Z.K&&Ue[2]<37500&&Z.F&&Z.A==0&&!Z.C&&(Z.C=sr(h(Z.Va,Z),6e3));Qa(Z.h)<=1&&Z.ta&&(Z.ta=void 0)}else Me(Z,11)}else if((N.L||Z.g==N)&&te(Z),!B(q))for(Ue=Z.Ba.g.parse(q),q=0;q<Ue.length;q++){let vr=Ue[q];const $r=vr[0];if(!($r<=Z.K))if(Z.K=$r,vr=vr[1],Z.I==2)if(vr[0]=="c"){Z.M=vr[1],Z.ba=vr[2];const Ci=vr[3];Ci!=null&&(Z.ka=Ci,Z.j.info("VER="+Z.ka));const ha=vr[4];ha!=null&&(Z.za=ha,Z.j.info("SVER="+Z.za));const mn=vr[5];mn!=null&&typeof mn=="number"&&mn>0&&(me=1.5*mn,Z.O=me,Z.j.info("backChannelRequestTimeoutMs_="+me)),me=Z;const qi=N.g;if(qi){const Ss=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ss){var We=me.h;We.g||Ss.indexOf("spdy")==-1&&Ss.indexOf("quic")==-1&&Ss.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(kl(We,We.h),We.h=null))}if(me.G){const Qo=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(me.wa=Qo,Nr(me.J,me.G,Qo))}}Z.I=3,Z.l&&Z.l.ra(),Z.aa&&(Z.T=Date.now()-N.F,Z.j.info("Handshake RTT: "+Z.T+"ms")),me=Z;var wt=N;if(me.na=gt(me,me.L?me.ba:null,me.W),wt.L){pc(me.h,wt);var ir=wt,an=me.O;an&&(ir.H=an),ir.D&&(Ta(ir),oa(ir)),me.g=wt}else du(me);Z.i.length>0&&_s(Z)}else vr[0]!="stop"&&vr[0]!="close"||Me(Z,7);else Z.I==3&&(vr[0]=="stop"||vr[0]=="close"?vr[0]=="stop"?Me(Z,7):Zo(Z):vr[0]!="noop"&&Z.l&&Z.l.qa(vr),Z.A=0)}}Je(4)}catch{}}var En=class{constructor(N,q){this.g=N,this.map=q}};function mc(N){this.l=N||10,l.PerformanceNavigationTiming?(N=l.performance.getEntriesByType("navigation"),N=N.length>0&&(N[0].nextHopProtocol=="hq"||N[0].nextHopProtocol=="h2")):N=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=N?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function la(N){return N.h?!0:N.g?N.g.size>=N.j:!1}function Qa(N){return N.h?1:N.g?N.g.size:0}function ys(N,q){return N.h?N.h==q:N.g?N.g.has(q):!1}function kl(N,q){N.g?N.g.add(q):N.h=q}function pc(N,q){N.h&&N.h==q?N.h=null:N.g&&N.g.has(q)&&N.g.delete(q)}mc.prototype.cancel=function(){if(this.i=gc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const N of this.g.values())N.cancel();this.g.clear()}};function gc(N){if(N.h!=null)return N.i.concat(N.h.G);if(N.g!=null&&N.g.size!==0){let q=N.i;for(const Z of N.g.values())q=q.concat(Z.G);return q}return g(N.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bo(N,q){if(N){N=N.split("&");for(let Z=0;Z<N.length;Z++){const me=N[Z].indexOf("=");let Ue,We=null;me>=0?(Ue=N[Z].substring(0,me),We=N[Z].substring(me+1)):Ue=N[Z],q(Ue,We?decodeURIComponent(We.replace(/\+/g," ")):"")}}}function ka(N){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let q;N instanceof ka?(this.l=N.l,Yn(this,N.j),this.o=N.o,this.g=N.g,wo(this,N.u),this.h=N.h,xs(this,bc(N.i)),this.m=N.m):N&&(q=String(N).match(au))?(this.l=!1,Yn(this,q[1]||"",!0),this.o=ca(q[2]||""),this.g=ca(q[3]||"",!0),wo(this,q[4]),this.h=ca(q[5]||"",!0),xs(this,q[6]||"",!0),this.m=ca(q[7]||"")):(this.l=!1,this.i=new _o(null,this.l))}ka.prototype.toString=function(){const N=[];var q=this.j;q&&N.push(nn(q,yc,!0),":");var Z=this.g;return(Z||q=="file")&&(N.push("//"),(q=this.o)&&N.push(nn(q,yc,!0),"@"),N.push(hn(Z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.u,Z!=null&&N.push(":",String(Z))),(Z=this.h)&&(this.g&&Z.charAt(0)!="/"&&N.push("/"),N.push(nn(Z,Z.charAt(0)=="/"?su:gd,!0))),(Z=this.i.toString())&&N.push("?",Z),(Z=this.m)&&N.push("#",nn(Z,ou)),N.join("")},ka.prototype.resolve=function(N){const q=yr(this);let Z=!!N.j;Z?Yn(q,N.j):Z=!!N.o,Z?q.o=N.o:Z=!!N.g,Z?q.g=N.g:Z=N.u!=null;var me=N.h;if(Z)wo(q,N.u);else if(Z=!!N.h){if(me.charAt(0)!="/")if(this.g&&!this.h)me="/"+me;else{var Ue=q.h.lastIndexOf("/");Ue!=-1&&(me=q.h.slice(0,Ue+1)+me)}if(Ue=me,Ue==".."||Ue==".")me="";else if(Ue.indexOf("./")!=-1||Ue.indexOf("/.")!=-1){me=Ue.lastIndexOf("/",0)==0,Ue=Ue.split("/");const We=[];for(let wt=0;wt<Ue.length;){const ir=Ue[wt++];ir=="."?me&&wt==Ue.length&&We.push(""):ir==".."?((We.length>1||We.length==1&&We[0]!="")&&We.pop(),me&&wt==Ue.length&&We.push("")):(We.push(ir),me=!0)}me=We.join("/")}else me=Ue}return Z?q.h=me:Z=N.i.toString()!=="",Z?xs(q,bc(N.i)):Z=!!N.m,Z&&(q.m=N.m),q};function yr(N){return new ka(N)}function Yn(N,q,Z){N.j=Z?ca(q,!0):q,N.j&&(N.j=N.j.replace(/:$/,""))}function wo(N,q){if(q){if(q=Number(q),isNaN(q)||q<0)throw Error("Bad port number "+q);N.u=q}else N.u=null}function xs(N,q,Z){q instanceof _o?(N.i=q,vs(N.i,N.l)):(Z||(q=nn(q,Vi)),N.i=new _o(q,N.l))}function Nr(N,q,Z){N.i.set(q,Z)}function Bi(N){return Nr(N,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),N}function ca(N,q){return N?q?decodeURI(N.replace(/%25/g,"%2525")):decodeURIComponent(N):""}function nn(N,q,Z){return typeof N=="string"?(N=encodeURI(N).replace(q,Ti),Z&&(N=N.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N):null}function Ti(N){return N=N.charCodeAt(0),"%"+(N>>4&15).toString(16)+(N&15).toString(16)}var yc=/[#\/\?@]/g,gd=/[#\?:]/g,su=/[#\?]/g,Vi=/[#\?@]/g,ou=/#/g;function _o(N,q){this.h=this.g=null,this.i=N||null,this.j=!!q}function Kn(N){N.g||(N.g=new Map,N.h=0,N.i&&bo(N.i,function(q,Z){N.add(decodeURIComponent(q.replace(/\+/g," ")),Z)}))}t=_o.prototype,t.add=function(N,q){Kn(this),this.i=null,N=Ja(this,N);let Z=this.g.get(N);return Z||this.g.set(N,Z=[]),Z.push(q),this.h+=1,this};function xc(N,q){Kn(N),q=Ja(N,q),N.g.has(q)&&(N.i=null,N.h-=N.g.get(q).length,N.g.delete(q))}function lu(N,q){return Kn(N),q=Ja(N,q),N.g.has(q)}t.forEach=function(N,q){Kn(this),this.g.forEach(function(Z,me){Z.forEach(function(Ue){N.call(q,Ue,me,this)},this)},this)};function cu(N,q){Kn(N);let Z=[];if(typeof q=="string")lu(N,q)&&(Z=Z.concat(N.g.get(Ja(N,q))));else for(N=Array.from(N.g.values()),q=0;q<N.length;q++)Z=Z.concat(N[q]);return Z}t.set=function(N,q){return Kn(this),this.i=null,N=Ja(this,N),lu(this,N)&&(this.h-=this.g.get(N).length),this.g.set(N,[q]),this.h+=1,this},t.get=function(N,q){return N?(N=cu(this,N),N.length>0?String(N[0]):q):q};function vc(N,q,Z){xc(N,q),Z.length>0&&(N.i=null,N.g.set(Ja(N,q),g(Z)),N.h+=Z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const N=[],q=Array.from(this.g.keys());for(let me=0;me<q.length;me++){var Z=q[me];const Ue=hn(Z);Z=cu(this,Z);for(let We=0;We<Z.length;We++){let wt=Ue;Z[We]!==""&&(wt+="="+hn(Z[We])),N.push(wt)}}return this.i=N.join("&")};function bc(N){const q=new _o;return q.i=N.i,N.g&&(q.g=new Map(N.g),q.h=N.h),q}function Ja(N,q){return q=String(q),N.j&&(q=q.toLowerCase()),q}function vs(N,q){q&&!N.j&&(Kn(N),N.i=null,N.g.forEach(function(Z,me){const Ue=me.toLowerCase();me!=Ue&&(xc(this,me),vc(this,Ue,Z))},N)),N.j=q}function bs(N,q){const Z=new yi;if(l.Image){const me=new Image;me.onload=f(ua,Z,"TestLoadImage: loaded",!0,q,me),me.onerror=f(ua,Z,"TestLoadImage: error",!1,q,me),me.onabort=f(ua,Z,"TestLoadImage: abort",!1,q,me),me.ontimeout=f(ua,Z,"TestLoadImage: timeout",!1,q,me),l.setTimeout(function(){me.ontimeout&&me.ontimeout()},1e4),me.src=N}else q(!1)}function No(N,q){const Z=new yi,me=new AbortController,Ue=setTimeout(()=>{me.abort(),ua(Z,"TestPingServer: timeout",!1,q)},1e4);fetch(N,{signal:me.signal}).then(We=>{clearTimeout(Ue),We.ok?ua(Z,"TestPingServer: ok",!0,q):ua(Z,"TestPingServer: server error",!1,q)}).catch(()=>{clearTimeout(Ue),ua(Z,"TestPingServer: error",!1,q)})}function ua(N,q,Z,me,Ue){try{Ue&&(Ue.onload=null,Ue.onerror=null,Ue.onabort=null,Ue.ontimeout=null),me(Z)}catch{}}function Jt(){this.g=new Le}function Us(N){this.i=N.Sb||null,this.h=N.ab||!1}p(Us,Xe),Us.prototype.g=function(){return new Il(this.i,this.h)};function Il(N,q){ve.call(this),this.H=N,this.o=q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Il,ve),t=Il.prototype,t.open=function(N,q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=N,this.D=q,this.readyState=1,xi(this)},t.send=function(N){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const q={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};N&&(q.body=N),(this.H||l).fetch(new Request(this.D,q)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Pa=function(N){if(this.g&&(this.l=N,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=N.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")N.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in N){if(this.j=N.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wc(this)}else N.text().then(this.Oa.bind(this),this.ga.bind(this))};function wc(N){N.j.read().then(N.Ma.bind(N)).catch(N.ga.bind(N))}t.Ma=function(N){if(this.g){if(this.o&&N.value)this.response.push(N.value);else if(!this.o){var q=N.value?N.value:new Uint8Array(0);(q=this.B.decode(q,{stream:!N.done}))&&(this.response=this.responseText+=q)}N.done?Ko(this):xi(this),this.readyState==3&&wc(this)}},t.Oa=function(N){this.g&&(this.response=this.responseText=N,Ko(this))},t.Na=function(N){this.g&&(this.response=N,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(N){N.readyState=4,N.l=null,N.j=null,N.B=null,xi(N)}t.setRequestHeader=function(N,q){this.A.append(N,q)},t.getResponseHeader=function(N){return this.h&&this.h.get(N.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const N=[],q=this.h.entries();for(var Z=q.next();!Z.done;)Z=Z.value,N.push(Z[0]+": "+Z[1]),Z=q.next();return N.join(`\r
`)};function xi(N){N.onreadystatechange&&N.onreadystatechange.call(N)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(N){this.m=N?"include":"same-origin"}});function oi(N){let q="";return oe(N,function(Z,me){q+=me,q+=":",q+=Z,q+=`\r
`}),q}function Pl(N,q,Z){e:{for(me in Z){var me=!1;break e}me=!0}me||(Z=oi(Z),typeof N=="string"?Z!=null&&hn(Z):Nr(N,q,Z))}function qr(N){ve.call(this),this.headers=new Map,this.L=N||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(qr,ve);var Ia=/^https?$/i,Rl=["POST","PUT"];t=qr.prototype,t.Fa=function(N){this.H=N},t.ea=function(N,q,Z,me){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+N);q=q?q.toUpperCase():"GET",this.D=N,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():aa.g(),this.g.onreadystatechange=x(h(this.Ca,this));try{this.B=!0,this.g.open(q,String(N),!0),this.B=!1}catch(We){ws(this,We);return}if(N=Z||"",Z=new Map(this.headers),me)if(Object.getPrototypeOf(me)===Object.prototype)for(var Ue in me)Z.set(Ue,me[Ue]);else if(typeof me.keys=="function"&&typeof me.get=="function")for(const We of me.keys())Z.set(We,me.get(We));else throw Error("Unknown input type for opt_headers: "+String(me));me=Array.from(Z.keys()).find(We=>We.toLowerCase()=="content-type"),Ue=l.FormData&&N instanceof l.FormData,!(Array.prototype.indexOf.call(Rl,q,void 0)>=0)||me||Ue||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,wt]of Z)this.g.setRequestHeader(We,wt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(N),this.v=!1}catch(We){ws(this,We)}};function ws(N,q){N.h=!1,N.g&&(N.j=!0,N.g.abort(),N.j=!1),N.l=q,N.o=5,Xo(N),jo(N)}function Xo(N){N.A||(N.A=!0,ze(N,"complete"),ze(N,"error"))}t.abort=function(N){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=N||7,ze(this,"complete"),ze(this,"abort"),jo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jo(this,!0)),qr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Bs(this):this.Xa())},t.Xa=function(){Bs(this)};function Bs(N){if(N.h&&typeof a<"u"){if(N.v&&Pa(N)==4)setTimeout(N.Ca.bind(N),0);else if(ze(N,"readystatechange"),Pa(N)==4){N.h=!1;try{const We=N.ca();e:switch(We){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var q=!0;break e;default:q=!1}var Z;if(!(Z=q)){var me;if(me=We===0){let wt=String(N.D).match(au)[1]||null;!wt&&l.self&&l.self.location&&(wt=l.self.location.protocol.slice(0,-1)),me=!Ia.test(wt?wt.toLowerCase():"")}Z=me}if(Z)ze(N,"complete"),ze(N,"success");else{N.o=6;try{var Ue=Pa(N)>2?N.g.statusText:""}catch{Ue=""}N.l=Ue+" ["+N.ca()+"]",Xo(N)}}finally{jo(N)}}}}function jo(N,q){if(N.g){N.m&&(clearTimeout(N.m),N.m=null);const Z=N.g;N.g=null,q||ze(N,"ready");try{Z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Pa(N){return N.g?N.g.readyState:0}t.ca=function(){try{return Pa(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(N){if(this.g){var q=this.g.responseText;return N&&q.indexOf(N)==0&&(q=q.substring(N.length)),Se(q)}};function Xn(N){try{if(!N.g)return null;if("response"in N.g)return N.g.response;switch(N.F){case"":case"text":return N.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in N.g)return N.g.mozResponseArrayBuffer}return null}catch{return null}}function Ra(N){const q={};N=(N.g&&Pa(N)>=2&&N.g.getAllResponseHeaders()||"").split(`\r
`);for(let me=0;me<N.length;me++){if(B(N[me]))continue;var Z=ai(N[me]);const Ue=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const We=q[Ue]||[];q[Ue]=We,We.push(Z)}pe(q,function(me){return me.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function da(N,q,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[N]||q}function Vs(N){this.za=0,this.i=[],this.j=new yi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=da("failFast",!1,N),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=da("baseRetryDelayMs",5e3,N),this.Za=da("retryDelaySeedMs",1e4,N),this.Ta=da("forwardChannelMaxRetries",2,N),this.va=da("forwardChannelRequestTimeoutMs",2e4,N),this.ma=N&&N.xmlHttpFactory||void 0,this.Ua=N&&N.Rb||void 0,this.Aa=N&&N.useFetchStreams||!1,this.O=void 0,this.L=N&&N.supportsCrossDomainXhr||!1,this.M="",this.h=new mc(N&&N.concurrentRequestLimit),this.Ba=new Jt,this.S=N&&N.fastHandshake||!1,this.R=N&&N.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=N&&N.Pb||!1,N&&N.ua&&this.j.ua(),N&&N.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&N&&N.detectBufferingProxy||!1,this.ia=void 0,N&&N.longPollingTimeout&&N.longPollingTimeout>0&&(this.ia=N.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Vs.prototype,t.ka=8,t.I=1,t.connect=function(N,q,Z,me){At(0),this.W=N,this.H=q||{},Z&&me!==void 0&&(this.H.OSID=Z,this.H.OAID=me),this.F=this.X,this.J=gt(this,null,this.W),_s(this)};function Zo(N){if($s(N),N.I==3){var q=N.V++,Z=yr(N.J);if(Nr(Z,"SID",N.M),Nr(Z,"RID",q),Nr(Z,"TYPE","terminate"),Oa(N,Z),q=new Fi(N,N.j,q),q.M=2,q.A=Bi(yr(Z)),Z=!1,l.navigator&&l.navigator.sendBeacon)try{Z=l.navigator.sendBeacon(q.A.toString(),"")}catch{}!Z&&l.Image&&(new Image().src=q.A,Z=!0),Z||(q.g=Rt(q.j,null),q.g.ea(q.A)),q.F=Date.now(),oa(q)}nt(N)}function qs(N){N.g&&(_c(N),N.g.cancel(),N.g=null)}function $s(N){qs(N),N.v&&(l.clearTimeout(N.v),N.v=null),te(N),N.h.cancel(),N.m&&(typeof N.m=="number"&&l.clearTimeout(N.m),N.m=null)}function _s(N){if(!la(N.h)&&!N.m){N.m=!0;var q=N.Ea;P||M(),X||(P(),X=!0),U.add(q,N),N.D=0}}function Ol(N,q){return Qa(N.h)>=N.h.j-(N.m?1:0)?!1:N.m?(N.i=q.G.concat(N.i),!0):N.I==1||N.I==2||N.D>=(N.Sa?0:N.Ta)?!1:(N.m=sr(h(N.Ea,N,q),Ee(N,N.D)),N.D++,!0)}t.Ea=function(N){if(this.m)if(this.m=null,this.I==1){if(!N){this.V=Math.floor(Math.random()*1e5),N=this.V++;const Ue=new Fi(this,this.j,N);let We=this.o;if(this.U&&(We?(We=H(We),J(We,this.U)):We=this.U),this.u!==null||this.R||(Ue.J=We,We=null),this.S)e:{for(var q=0,Z=0;Z<this.i.length;Z++){t:{var me=this.i[Z];if("__data__"in me.map&&(me=me.map.__data__,typeof me=="string")){me=me.length;break t}me=void 0}if(me===void 0)break;if(q+=me,q>4096){q=Z;break e}if(q===4096||Z===this.i.length-1){q=Z+1;break e}}q=1e3}else q=1e3;q=uu(this,Ue,q),Z=yr(this.J),Nr(Z,"RID",N),Nr(Z,"CVER",22),this.G&&Nr(Z,"X-HTTP-Session-Id",this.G),Oa(this,Z),We&&(this.R?q="headers="+hn(oi(We))+"&"+q:this.u&&Pl(Z,this.u,We)),kl(this.h,Ue),this.Ra&&Nr(Z,"TYPE","init"),this.S?(Nr(Z,"$req",q),Nr(Z,"SID","null"),Ue.U=!0,si(Ue,Z,null)):si(Ue,Z,q),this.I=2}}else this.I==3&&(N?Ns(this,N):this.i.length==0||la(this.h)||Ns(this))};function Ns(N,q){var Z;q?Z=q.l:Z=N.V++;const me=yr(N.J);Nr(me,"SID",N.M),Nr(me,"RID",Z),Nr(me,"AID",N.K),Oa(N,me),N.u&&N.o&&Pl(me,N.u,N.o),Z=new Fi(N,N.j,Z,N.D+1),N.u===null&&(Z.J=N.o),q&&(N.i=q.G.concat(N.i)),q=uu(N,Z,1e3),Z.H=Math.round(N.va*.5)+Math.round(N.va*.5*Math.random()),kl(N.h,Z),si(Z,me,q)}function Oa(N,q){N.H&&oe(N.H,function(Z,me){Nr(q,me,Z)}),N.l&&oe({},function(Z,me){Nr(q,me,Z)})}function uu(N,q,Z){Z=Math.min(N.i.length,Z);const me=N.l?h(N.l.Ka,N.l,N):null;e:{var Ue=N.i;let ir=-1;for(;;){const an=["count="+Z];ir==-1?Z>0?(ir=Ue[0].g,an.push("ofs="+ir)):ir=0:an.push("ofs="+ir);let vr=!0;for(let $r=0;$r<Z;$r++){var We=Ue[$r].g;const Ci=Ue[$r].map;if(We-=ir,We<0)ir=Math.max(0,Ue[$r].g-100),vr=!1;else try{We="req"+We+"_"||"";try{var wt=Ci instanceof Map?Ci:Object.entries(Ci);for(const[ha,mn]of wt){let qi=mn;c(mn)&&(qi=bt(mn)),an.push(We+ha+"="+encodeURIComponent(qi))}}catch(ha){throw an.push(We+"type="+encodeURIComponent("_badmap")),ha}}catch{me&&me(Ci)}}if(vr){wt=an.join("&");break e}}wt=void 0}return N=N.i.splice(0,Z),q.G=N,wt}function du(N){if(!N.g&&!N.v){N.Y=1;var q=N.Da;P||M(),X||(P(),X=!0),U.add(q,N),N.A=0}}function js(N){return N.g||N.v||N.A>=3?!1:(N.Y++,N.v=sr(h(N.Da,N),Ee(N,N.A)),N.A++,!0)}t.Da=function(){if(this.v=null,O(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var N=4*this.T;this.j.info("BP detection timer enabled: "+N),this.B=sr(h(this.Wa,this),N)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),qs(this),O(this))};function _c(N){N.B!=null&&(l.clearTimeout(N.B),N.B=null)}function O(N){N.g=new Fi(N,N.j,"rpc",N.Y),N.u===null&&(N.g.J=N.o),N.g.P=0;var q=yr(N.na);Nr(q,"RID","rpc"),Nr(q,"SID",N.M),Nr(q,"AID",N.K),Nr(q,"CI",N.F?"0":"1"),!N.F&&N.ia&&Nr(q,"TO",N.ia),Nr(q,"TYPE","xmlhttp"),Oa(N,q),N.u&&N.o&&Pl(q,N.u,N.o),N.O&&(N.g.H=N.O);var Z=N.g;N=N.ba,Z.M=1,Z.A=Bi(yr(q)),Z.u=null,Z.R=!0,sa(Z,N)}t.Va=function(){this.C!=null&&(this.C=null,qs(this),js(this),At(19))};function te(N){N.C!=null&&(l.clearTimeout(N.C),N.C=null)}function _e(N,q){var Z=null;if(N.g==q){te(N),_c(N),N.g=null;var me=2}else if(ys(N.h,q))Z=q.G,pc(N.h,q),me=1;else return;if(N.I!=0){if(q.o)if(me==1){Z=q.u?q.u.length:0,q=Date.now()-q.F;var Ue=N.D;me=ur(),ze(me,new Nt(me,Z)),_s(N)}else du(N);else if(Ue=q.m,Ue==3||Ue==0&&q.X>0||!(me==1&&Ol(N,q)||me==2&&js(N)))switch(Z&&Z.length>0&&(q=N.h,q.i=q.i.concat(Z)),Ue){case 1:Me(N,5);break;case 4:Me(N,10);break;case 3:Me(N,6);break;default:Me(N,2)}}}function Ee(N,q){let Z=N.Qa+Math.floor(Math.random()*N.Za);return N.isActive()||(Z*=2),Z*q}function Me(N,q){if(N.j.info("Error code "+q),q==2){var Z=h(N.bb,N),me=N.Ua;const Ue=!me;me=new ka(me||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Yn(me,"https"),Bi(me),Ue?bs(me.toString(),Z):No(me.toString(),Z)}else At(2);N.I=0,N.l&&N.l.pa(q),nt(N),$s(N)}t.bb=function(N){N?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function nt(N){if(N.I=0,N.ja=[],N.l){const q=gc(N.h);(q.length!=0||N.i.length!=0)&&(w(N.ja,q),w(N.ja,N.i),N.h.i.length=0,g(N.i),N.i.length=0),N.l.oa()}}function gt(N,q,Z){var me=Z instanceof ka?yr(Z):new ka(Z);if(me.g!="")q&&(me.g=q+"."+me.g),wo(me,me.u);else{var Ue=l.location;me=Ue.protocol,q=q?q+"."+Ue.hostname:Ue.hostname,Ue=+Ue.port;const We=new ka(null);me&&Yn(We,me),q&&(We.g=q),Ue&&wo(We,Ue),Z&&(We.h=Z),me=We}return Z=N.G,q=N.wa,Z&&q&&Nr(me,Z,q),Nr(me,"VER",N.ka),Oa(N,me),me}function Rt(N,q,Z){if(q&&!N.L)throw Error("Can't create secondary domain capable XhrIo object.");return q=N.Aa&&!N.ma?new qr(new Us({ab:Z})):new qr(N.ma),q.Fa(N.L),q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function zt(){}t=zt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Kt(){}Kt.prototype.g=function(N,q){return new Ht(N,q)};function Ht(N,q){ve.call(this),this.g=new Vs(q),this.l=N,this.h=q&&q.messageUrlParams||null,N=q&&q.messageHeaders||null,q&&q.clientProtocolHeaderRequired&&(N?N["X-Client-Protocol"]="webchannel":N={"X-Client-Protocol":"webchannel"}),this.g.o=N,N=q&&q.initMessageHeaders||null,q&&q.messageContentType&&(N?N["X-WebChannel-Content-Type"]=q.messageContentType:N={"X-WebChannel-Content-Type":q.messageContentType}),q&&q.sa&&(N?N["X-WebChannel-Client-Profile"]=q.sa:N={"X-WebChannel-Client-Profile":q.sa}),this.g.U=N,(N=q&&q.Qb)&&!B(N)&&(this.g.u=N),this.A=q&&q.supportsCrossDomainXhr||!1,this.v=q&&q.sendRawJson||!1,(q=q&&q.httpSessionIdParam)&&!B(q)&&(this.g.G=q,N=this.h,N!==null&&q in N&&(N=this.h,q in N&&delete N[q])),this.j=new Qr(this)}p(Ht,ve),Ht.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){Zo(this.g)},Ht.prototype.o=function(N){var q=this.g;if(typeof N=="string"){var Z={};Z.__data__=N,N=Z}else this.v&&(Z={},Z.__data__=bt(N),N=Z);q.i.push(new En(q.Ya++,N)),q.I==3&&_s(q)},Ht.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,Ht.Z.N.call(this)};function Er(N){ft.call(this),N.__headers__&&(this.headers=N.__headers__,this.statusCode=N.__status__,delete N.__headers__,delete N.__status__);var q=N.__sm__;if(q){e:{for(const Z in q){N=Z;break e}N=void 0}(this.i=N)&&(N=this.i,q=q!==null&&N in q?q[N]:void 0),this.data=q}else this.data=N}p(Er,ft);function fn(){Ct.call(this),this.status=1}p(fn,Ct);function Qr(N){this.g=N}p(Qr,zt),Qr.prototype.ra=function(){ze(this.g,"a")},Qr.prototype.qa=function(N){ze(this.g,new Er(N))},Qr.prototype.pa=function(N){ze(this.g,new fn)},Qr.prototype.oa=function(){ze(this.g,"b")},Kt.prototype.createWebChannel=Kt.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,oO=function(){return new Kt},sO=function(){return ur()},aO=Bt,z_={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,Xx=Ea,ia.COMPLETE="complete",iO=ia,xt.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",ve.prototype.listen=ve.prototype.J,Bg=xt,qr.prototype.listenOnce=qr.prototype.K,qr.prototype.getLastError=qr.prototype.Ha,qr.prototype.getLastErrorCode=qr.prototype.ya,qr.prototype.getStatus=qr.prototype.ca,qr.prototype.getResponseJson=qr.prototype.La,qr.prototype.getResponseText=qr.prototype.la,qr.prototype.send=qr.prototype.ea,qr.prototype.setWithCredentials=qr.prototype.Fa,nO=qr}).apply(typeof ux<"u"?ux:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",wE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};cs.UNAUTHENTICATED=new cs(null),cs.GOOGLE_CREDENTIALS=new cs("google-credentials-uid"),cs.FIRST_PARTY=new cs("first-party-uid"),cs.MOCK_USER=new cs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf=new k1("@firebase/firestore");function Rm(){return wf.logLevel}function Ot(t,...e){if(wf.logLevel<=kr.DEBUG){const r=e.map(Oj);wf.debug(`Firestore (${Sp}): ${t}`,...r)}}function ed(t,...e){if(wf.logLevel<=kr.ERROR){const r=e.map(Oj);wf.error(`Firestore (${Sp}): ${t}`,...r)}}function np(t,...e){if(wf.logLevel<=kr.WARN){const r=e.map(Oj);wf.warn(`Firestore (${Sp}): ${t}`,...r)}}function Oj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,lO(t,n,r)}function lO(t,e,r){let n=`FIRESTORE (${Sp}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw ed(n),new Error(n)}function tn(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||lO(e,i,n)}function pr(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class St extends Ho{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(cs.UNAUTHENTICATED)))}shutdown(){}}class EG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class TG{constructor(e){this.t=e,this.currentUser=cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){tn(this.o===void 0,42304);let n=this.i;const i=d=>this.i!==n?(n=this.i,r(d)):Promise.resolve();let a=new $u;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new $u,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const d=a;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},c=d=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new $u)}}),0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(tn(typeof n.accessToken=="string",31837,{l:n}),new cO(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string",2055,{h:e}),new cs(e)}}class CG{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=cs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kG{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new CG(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(cs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _E{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class IG{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){tn(this.o===void 0,3512);const n=a=>{a.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,Ot("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _E(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(tn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new _E(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=PG(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function Ir(t,e){return t<e?-1:t>e?1:0}function F_(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return hw(i)===hw(a)?Ir(i,a):hw(i)?1:-1}return Ir(t.length,e.length)}const RG=55296,OG=57343;function hw(t){const e=t.charCodeAt(0);return e>=RG&&e<=OG}function ip(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__name__";class Fc{constructor(e,r,n){r===void 0?r=0:r>e.length&&ar(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&ar(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Fc.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Fc?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=Fc.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return Ir(e.length,r.length)}static compareSegments(e,r){const n=Fc.isNumericId(e),i=Fc.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Fc.extractNumericId(e).compare(Fc.extractNumericId(r)):F_(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lh.fromString(e.substring(4,e.length-2))}}class Sn extends Fc{construct(e,r,n){return new Sn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new St(lt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Sn(r)}static emptyPath(){return new Sn([])}}const DG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qa extends Fc{construct(e,r,n){return new qa(e,r,n)}static isValidIdentifier(e){return DG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===NE}static keyField(){return new qa([NE])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new St(lt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new St(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new St(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(n+=c,i++):(a(),i++)}if(a(),l)throw new St(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qa(r)}static emptyPath(){return new qa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Sn.fromString(e))}static fromName(e){return new Qt(Sn.fromString(e).popFirst(5))}static empty(){return new Qt(Sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Sn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Sn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t,e,r){if(!r)throw new St(lt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LG(t,e,r,n){if(e===!0&&n===!0)throw new St(lt.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function jE(t){if(!Qt.isDocumentKey(t))throw new St(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SE(t){if(Qt.isDocumentKey(t))throw new St(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dO(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function D1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ar(12329,{type:typeof t})}function sc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new St(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=D1(t);throw new St(lt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t,e){const r={typeString:t};return e&&(r.value=e),r}function H0(t,e){if(!dO(t))throw new St(lt.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const l=t[n];if(i&&typeof l!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&l!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new St(lt.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=-62135596800,EE=1e6;class Rn{static now(){return Rn.fromMillis(Date.now())}static fromDate(e){return Rn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*EE);return new Rn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new St(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new St(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<AE)throw new St(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new St(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/EE}_compareTo(e){return this.seconds===e.seconds?Ir(this.nanoseconds,e.nanoseconds):Ir(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(H0(e,Rn._jsonSchema))return new Rn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-AE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rn._jsonSchemaVersion="firestore/timestamp/1.0",Rn._jsonSchema={type:Li("string",Rn._jsonSchemaVersion),seconds:Li("number"),nanoseconds:Li("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{static fromTimestamp(e){return new dr(e)}static min(){return new dr(new Rn(0,0))}static max(){return new dr(new Rn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=-1;function MG(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=dr.fromTimestamp(n===1e9?new Rn(r+1,0):new Rn(r,n));return new hh(i,Qt.empty(),e)}function zG(t){return new hh(t.readTime,t.key,f0)}class hh{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new hh(dr.min(),Qt.empty(),f0)}static max(){return new hh(dr.max(),Qt.empty(),f0)}}function FG(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Qt.comparator(t.documentKey,e.documentKey),r!==0?r:Ir(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t){if(t.code!==lt.FAILED_PRECONDITION||t.message!==UG)throw t;Ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&ar(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new pt(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof pt?r:pt.resolve(r)}catch(r){return pt.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):pt.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):pt.reject(r)}static resolve(e){return new pt(((r,n)=>{r(e)}))}static reject(e){return new pt(((r,n)=>{n(e)}))}static waitFor(e){return new pt(((r,n)=>{let i=0,a=0,l=!1;e.forEach((c=>{++i,c.next((()=>{++a,l&&a===i&&r()}),(d=>n(d)))})),l=!0,a===i&&r()}))}static or(e){let r=pt.resolve(!1);for(const n of e)r=r.next((i=>i?pt.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new pt(((n,i)=>{const a=e.length,l=new Array(a);let c=0;for(let d=0;d<a;d++){const h=d;r(e[h]).next((f=>{l[h]=f,++c,c===a&&n(l)}),(f=>i(f)))}}))}static doWhile(e,r){return new pt(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function VG(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ep(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}L1.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj=-1;function M1(t){return t==null}function vv(t){return t===0&&1/t==-1/0}function qG(t){return typeof t=="number"&&Number.isInteger(t)&&!vv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="";function $G(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=TE(e)),e=HG(t.get(r),e);return TE(e)}function HG(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case hO:r+="";break;default:r+=a}}return r}function TE(t){return t+hO+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function _h(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function fO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,r){this.comparator=e,this.root=r||Ba.EMPTY}insert(e,r){return new ri(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Ba.BLACK,null,null))}remove(e){return new ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ba.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dx(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dx(this.root,e,this.comparator,!1)}getReverseIterator(){return new dx(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dx(this.root,e,this.comparator,!0)}}class dx{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ba{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Ba.RED,this.left=i??Ba.EMPTY,this.right=a??Ba.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Ba(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ba.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Ba.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ba.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ba.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ar(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ar(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ar(27949);return e+(this.isRed()?0:1)}}Ba.EMPTY=null,Ba.RED=!0,Ba.BLACK=!1;Ba.EMPTY=new class{constructor(){this.size=0}get key(){throw ar(57766)}get value(){throw ar(16141)}get color(){throw ar(16727)}get left(){throw ar(29726)}get right(){throw ar(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Ba(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.comparator=e,this.data=new ri(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new kE(this.data.getIterator())}getIteratorFrom(e){return new kE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new ea(this.comparator);return r.data=e,r}}class kE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.fields=e,e.sort(qa.comparator)}static empty(){return new zo([])}unionWith(e){let r=new ea(qa.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new zo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return ip(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mO("Invalid base64 string: "+a):a}})(e);return new Ga(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new Ga(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ir(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ga.EMPTY_BYTE_STRING=new Ga("");const WG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fh(t){if(tn(!!t,39018),typeof t=="string"){let e=0;const r=WG.exec(t);if(tn(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:_i(t.seconds),nanos:_i(t.nanos)}}function _i(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function mh(t){return typeof t=="string"?Ga.fromBase64String(t):Ga.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="server_timestamp",gO="__type__",yO="__previous_value__",xO="__local_write_time__";function Mj(t){return(t?.mapValue?.fields||{})[gO]?.stringValue===pO}function z1(t){const e=t.mapValue.fields[yO];return Mj(e)?z1(e):e}function m0(t){const e=fh(t.mapValue.fields[xO].timestampValue);return new Rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,r,n,i,a,l,c,d,h,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=f}}const bv="(default)";class p0{constructor(e,r){this.projectId=e,this.database=r||bv}static empty(){return new p0("","")}get isDefaultDatabase(){return this.database===bv}isEqual(e){return e instanceof p0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO="__type__",YG="__max__",hx={mapValue:{}},bO="__vector__",wv="value";function ph(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mj(t)?4:XG(t)?9007199254740991:KG(t)?10:11:ar(28295,{value:t})}function Jc(t,e){if(t===e)return!0;const r=ph(t);if(r!==ph(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return m0(t).isEqual(m0(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=fh(i.timestampValue),c=fh(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return mh(i.bytesValue).isEqual(mh(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return _i(i.geoPointValue.latitude)===_i(a.geoPointValue.latitude)&&_i(i.geoPointValue.longitude)===_i(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return _i(i.integerValue)===_i(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=_i(i.doubleValue),c=_i(a.doubleValue);return l===c?vv(l)===vv(c):isNaN(l)&&isNaN(c)}return!1})(t,e);case 9:return ip(t.arrayValue.values||[],e.arrayValue.values||[],Jc);case 10:case 11:return(function(i,a){const l=i.mapValue.fields||{},c=a.mapValue.fields||{};if(CE(l)!==CE(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!Jc(l[d],c[d])))return!1;return!0})(t,e);default:return ar(52216,{left:t})}}function g0(t,e){return(t.values||[]).find((r=>Jc(r,e)))!==void 0}function ap(t,e){if(t===e)return 0;const r=ph(t),n=ph(e);if(r!==n)return Ir(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ir(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const c=_i(a.integerValue||a.doubleValue),d=_i(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(t,e);case 3:return IE(t.timestampValue,e.timestampValue);case 4:return IE(m0(t),m0(e));case 5:return F_(t.stringValue,e.stringValue);case 6:return(function(a,l){const c=mh(a),d=mh(l);return c.compareTo(d)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const c=a.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const f=Ir(c[h],d[h]);if(f!==0)return f}return Ir(c.length,d.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const c=Ir(_i(a.latitude),_i(l.latitude));return c!==0?c:Ir(_i(a.longitude),_i(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return PE(t.arrayValue,e.arrayValue);case 10:return(function(a,l){const c=a.fields||{},d=l.fields||{},h=c[wv]?.arrayValue,f=d[wv]?.arrayValue,p=Ir(h?.values?.length||0,f?.values?.length||0);return p!==0?p:PE(h,f)})(t.mapValue,e.mapValue);case 11:return(function(a,l){if(a===hx.mapValue&&l===hx.mapValue)return 0;if(a===hx.mapValue)return 1;if(l===hx.mapValue)return-1;const c=a.fields||{},d=Object.keys(c),h=l.fields||{},f=Object.keys(h);d.sort(),f.sort();for(let p=0;p<d.length&&p<f.length;++p){const x=F_(d[p],f[p]);if(x!==0)return x;const g=ap(c[d[p]],h[f[p]]);if(g!==0)return g}return Ir(d.length,f.length)})(t.mapValue,e.mapValue);default:throw ar(23264,{he:r})}}function IE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ir(t,e);const r=fh(t),n=fh(e),i=Ir(r.seconds,n.seconds);return i!==0?i:Ir(r.nanos,n.nanos)}function PE(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=ap(r[i],n[i]);if(a)return a}return Ir(r.length,n.length)}function sp(t){return U_(t)}function U_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=fh(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return mh(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return Qt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=U_(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const l of n)a?a=!1:i+=",",i+=`${l}:${U_(r.fields[l])}`;return i+"}"})(t.mapValue):ar(61005,{value:t})}function Zx(t){switch(ph(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=z1(t);return e?16+Zx(e):16;case 5:return 2*t.stringValue.length;case 6:return mh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+Zx(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return _h(n.fields,((a,l)=>{i+=a.length+Zx(l)})),i})(t.mapValue);default:throw ar(13486,{value:t})}}function RE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function B_(t){return!!t&&"integerValue"in t}function zj(t){return!!t&&"arrayValue"in t}function OE(t){return!!t&&"nullValue"in t}function DE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qx(t){return!!t&&"mapValue"in t}function KG(t){return(t?.mapValue?.fields||{})[vO]?.stringValue===bO}function Qg(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return _h(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=Qg(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=Qg(t.arrayValue.values[r]);return e}return{...t}}function XG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YG}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.value=e}static empty(){return new co({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!Qx(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qg(r)}setAll(e){let r=qa.emptyPath(),n={},i=[];e.forEach(((l,c)=>{if(!r.isImmediateParentOf(c)){const d=this.getFieldsMap(r);this.applyChanges(d,n,i),n={},i=[],r=c.popLast()}l?n[c.lastSegment()]=Qg(l):i.push(c.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());Qx(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Jc(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];Qx(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){_h(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new co(Qg(this.value))}}function wO(t){const e=[];return _h(t.fields,((r,n)=>{const i=new qa([r]);if(Qx(n)){const a=wO(n.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new zo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,r,n,i,a,l,c){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new us(e,0,dr.min(),dr.min(),dr.min(),co.empty(),0)}static newFoundDocument(e,r,n,i){return new us(e,1,r,dr.min(),n,i,0)}static newNoDocument(e,r){return new us(e,2,r,dr.min(),dr.min(),co.empty(),0)}static newUnknownDocument(e,r){return new us(e,3,r,dr.min(),dr.min(),co.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(dr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=co.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=co.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=dr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof us&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new us(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,r){this.position=e,this.inclusive=r}}function LE(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?n=Qt.comparator(Qt.fromName(l.referenceValue),r.key):n=ap(l,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function ME(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Jc(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,r="asc"){this.field=e,this.dir=r}}function ZG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{}class Di extends _O{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new JG(e,r,n):r==="array-contains"?new rY(e,n):r==="in"?new nY(e,n):r==="not-in"?new iY(e,n):r==="array-contains-any"?new aY(e,n):new Di(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new eY(e,n):new tY(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ap(r,this.value)):r!==null&&ph(this.value)===ph(r)&&this.matchesComparison(ap(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ar(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oc extends _O{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new oc(e,r)}matches(e){return NO(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NO(t){return t.op==="and"}function jO(t){return QG(t)&&NO(t)}function QG(t){for(const e of t.filters)if(e instanceof oc)return!1;return!0}function V_(t){if(t instanceof Di)return t.field.canonicalString()+t.op.toString()+sp(t.value);if(jO(t))return t.filters.map((e=>V_(e))).join(",");{const e=t.filters.map((r=>V_(r))).join(",");return`${t.op}(${e})`}}function SO(t,e){return t instanceof Di?(function(n,i){return i instanceof Di&&n.op===i.op&&n.field.isEqual(i.field)&&Jc(n.value,i.value)})(t,e):t instanceof oc?(function(n,i){return i instanceof oc&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,l,c)=>a&&SO(l,i.filters[c])),!0):!1})(t,e):void ar(19439)}function AO(t){return t instanceof Di?(function(r){return`${r.field.canonicalString()} ${r.op} ${sp(r.value)}`})(t):t instanceof oc?(function(r){return r.op.toString()+" {"+r.getFilters().map(AO).join(" ,")+"}"})(t):"Filter"}class JG extends Di{constructor(e,r,n){super(e,r,n),this.key=Qt.fromName(n.referenceValue)}matches(e){const r=Qt.comparator(e.key,this.key);return this.matchesComparison(r)}}class eY extends Di{constructor(e,r){super(e,"in",r),this.keys=EO("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class tY extends Di{constructor(e,r){super(e,"not-in",r),this.keys=EO("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function EO(t,e){return(e.arrayValue?.values||[]).map((r=>Qt.fromName(r.referenceValue)))}class rY extends Di{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return zj(r)&&g0(r.arrayValue,this.value)}}class nY extends Di{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&g0(this.value.arrayValue,r)}}class iY extends Di{constructor(e,r){super(e,"not-in",r)}matches(e){if(g0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!g0(this.value.arrayValue,r)}}class aY extends Di{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!zj(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>g0(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e,r=null,n=[],i=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=l,this.endAt=c,this.Te=null}}function zE(t,e=null,r=[],n=[],i=null,a=null,l=null){return new sY(t,e,r,n,i,a,l)}function Fj(t){const e=pr(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>V_(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),M1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>sp(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>sp(n))).join(",")),e.Te=r}return e.Te}function Uj(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!ZG(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!SO(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ME(t.startAt,e.startAt)&&ME(t.endAt,e.endAt)}function q_(t){return Qt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,r=null,n=[],i=[],a=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oY(t,e,r,n,i,a,l,c){return new Tp(t,e,r,n,i,a,l,c)}function Bj(t){return new Tp(t)}function FE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TO(t){return t.collectionGroup!==null}function Jg(t){const e=pr(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new ea(qa.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new y0(a,n))})),r.has(qa.keyField().canonicalString())||e.Ie.push(new y0(qa.keyField(),n))}return e.Ie}function Wc(t){const e=pr(t);return e.Ee||(e.Ee=lY(e,Jg(t))),e.Ee}function lY(t,e){if(t.limitType==="F")return zE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new y0(i.field,a)}));const r=t.endAt?new _v(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new _v(t.startAt.position,t.startAt.inclusive):null;return zE(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function $_(t,e){const r=t.filters.concat([e]);return new Tp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Nv(t,e,r){return new Tp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function F1(t,e){return Uj(Wc(t),Wc(e))&&t.limitType===e.limitType}function CO(t){return`${Fj(Wc(t))}|lt:${t.limitType}`}function Om(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>AO(i))).join(", ")}]`),M1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>sp(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>sp(i))).join(",")),`Target(${n})`})(Wc(t))}; limitType=${t.limitType})`}function U1(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Qt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of Jg(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(l,c,d){const h=LE(l,c,d);return l.inclusive?h<=0:h<0})(n.startAt,Jg(n),i)||n.endAt&&!(function(l,c,d){const h=LE(l,c,d);return l.inclusive?h>=0:h>0})(n.endAt,Jg(n),i))})(t,e)}function cY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kO(t){return(e,r)=>{let n=!1;for(const i of Jg(t)){const a=uY(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function uY(t,e,r){const n=t.field.isKeyField()?Qt.comparator(e.key,r.key):(function(a,l,c){const d=l.data.field(a),h=c.data.field(a);return d!==null&&h!==null?ap(d,h):ar(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return ar(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_h(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return fO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY=new ri(Qt.comparator);function td(){return dY}const IO=new ri(Qt.comparator);function Vg(...t){let e=IO;for(const r of t)e=e.insert(r.key,r);return e}function PO(t){let e=IO;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function rf(){return e0()}function RO(){return e0()}function e0(){return new Mf((t=>t.toString()),((t,e)=>t.isEqual(e)))}const hY=new ri(Qt.comparator),fY=new ea(Qt.comparator);function Pr(...t){let e=fY;for(const r of t)e=e.add(r);return e}const mY=new ea(Ir);function pY(){return mY}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vv(e)?"-0":e}}function OO(t){return{integerValue:""+t}}function DO(t,e){return qG(e)?OO(e):Vj(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this._=void 0}}function gY(t,e,r){return t instanceof x0?(function(i,a){const l={fields:{[gO]:{stringValue:pO},[xO]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Mj(a)&&(a=z1(a)),a&&(l.fields[yO]=a),{mapValue:l}})(r,e):t instanceof v0?MO(t,e):t instanceof b0?zO(t,e):(function(i,a){const l=LO(i,a),c=UE(l)+UE(i.Ae);return B_(l)&&B_(i.Ae)?OO(c):Vj(i.serializer,c)})(t,e)}function yY(t,e,r){return t instanceof v0?MO(t,e):t instanceof b0?zO(t,e):r}function LO(t,e){return t instanceof w0?(function(n){return B_(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class x0 extends B1{}class v0 extends B1{constructor(e){super(),this.elements=e}}function MO(t,e){const r=FO(e);for(const n of t.elements)r.some((i=>Jc(i,n)))||r.push(n);return{arrayValue:{values:r}}}class b0 extends B1{constructor(e){super(),this.elements=e}}function zO(t,e){let r=FO(e);for(const n of t.elements)r=r.filter((i=>!Jc(i,n)));return{arrayValue:{values:r}}}class w0 extends B1{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function UE(t){return _i(t.integerValue||t.doubleValue)}function FO(t){return zj(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,r){this.field=e,this.transform=r}}function xY(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof v0&&i instanceof v0||n instanceof b0&&i instanceof b0?ip(n.elements,i.elements,Jc):n instanceof w0&&i instanceof w0?Jc(n.Ae,i.Ae):n instanceof x0&&i instanceof x0})(t.transform,e.transform)}class vY{constructor(e,r){this.version=e,this.transformResults=r}}class xl{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new xl}static exists(e){return new xl(void 0,e)}static updateTime(e){return new xl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jx(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class V1{}function BO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qj(t.key,xl.none()):new W0(t.key,t.data,xl.none());{const r=t.data,n=co.empty();let i=new ea(qa.comparator);for(let a of e.fields)if(!i.has(a)){let l=r.field(a);l===null&&a.length>1&&(a=a.popLast(),l=r.field(a)),l===null?n.delete(a):n.set(a,l),i=i.add(a)}return new Nh(t.key,n,new zo(i.toArray()),xl.none())}}function bY(t,e,r){t instanceof W0?(function(i,a,l){const c=i.value.clone(),d=VE(i.fieldTransforms,a,l.transformResults);c.setAll(d),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(t,e,r):t instanceof Nh?(function(i,a,l){if(!Jx(i.precondition,a))return void a.convertToUnknownDocument(l.version);const c=VE(i.fieldTransforms,a,l.transformResults),d=a.data;d.setAll(VO(i)),d.setAll(c),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,r):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,r)}function t0(t,e,r,n){return t instanceof W0?(function(a,l,c,d){if(!Jx(a.precondition,l))return c;const h=a.value.clone(),f=qE(a.fieldTransforms,d,l);return h.setAll(f),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(t,e,r,n):t instanceof Nh?(function(a,l,c,d){if(!Jx(a.precondition,l))return c;const h=qE(a.fieldTransforms,d,l),f=l.data;return f.setAll(VO(a)),f.setAll(h),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,l,c){return Jx(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(t,e,r)}function wY(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=LO(n.transform,i||null);a!=null&&(r===null&&(r=co.empty()),r.set(n.field,a))}return r||null}function BE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&ip(n,i,((a,l)=>xY(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class W0 extends V1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Nh extends V1{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function VO(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function VE(t,e,r){const n=new Map;tn(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const a=t[i],l=a.transform,c=e.data.field(a.field);n.set(a.field,yY(l,c,r[i]))}return n}function qE(t,e,r){const n=new Map;for(const i of t){const a=i.transform,l=r.data.field(i.field);n.set(i.field,gY(a,l,e))}return n}class qj extends V1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _Y extends V1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&bY(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=t0(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=t0(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=RO();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=r.has(i.key)?null:c;const d=BO(l,c);d!==null&&n.set(i.key,d),l.isValidDocument()||l.convertToNoDocument(dr.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Pr())}isEqual(e){return this.batchId===e.batchId&&ip(this.mutations,e.mutations,((r,n)=>BE(r,n)))&&ip(this.baseMutations,e.baseMutations,((r,n)=>BE(r,n)))}}class $j{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){tn(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return hY})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,n[l].version);return new $j(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SY{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri,zr;function AY(t){switch(t){case lt.OK:return ar(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return ar(15467,{code:t})}}function qO(t){if(t===void 0)return ed("GRPC error has no .code"),lt.UNKNOWN;switch(t){case Ri.OK:return lt.OK;case Ri.CANCELLED:return lt.CANCELLED;case Ri.UNKNOWN:return lt.UNKNOWN;case Ri.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case Ri.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case Ri.INTERNAL:return lt.INTERNAL;case Ri.UNAVAILABLE:return lt.UNAVAILABLE;case Ri.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case Ri.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case Ri.NOT_FOUND:return lt.NOT_FOUND;case Ri.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case Ri.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case Ri.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case Ri.ABORTED:return lt.ABORTED;case Ri.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case Ri.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case Ri.DATA_LOSS:return lt.DATA_LOSS;default:return ar(39323,{code:t})}}(zr=Ri||(Ri={}))[zr.OK=0]="OK",zr[zr.CANCELLED=1]="CANCELLED",zr[zr.UNKNOWN=2]="UNKNOWN",zr[zr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zr[zr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zr[zr.NOT_FOUND=5]="NOT_FOUND",zr[zr.ALREADY_EXISTS=6]="ALREADY_EXISTS",zr[zr.PERMISSION_DENIED=7]="PERMISSION_DENIED",zr[zr.UNAUTHENTICATED=16]="UNAUTHENTICATED",zr[zr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zr[zr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zr[zr.ABORTED=10]="ABORTED",zr[zr.OUT_OF_RANGE=11]="OUT_OF_RANGE",zr[zr.UNIMPLEMENTED=12]="UNIMPLEMENTED",zr[zr.INTERNAL=13]="INTERNAL",zr[zr.UNAVAILABLE=14]="UNAVAILABLE",zr[zr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY=new lh([4294967295,4294967295],0);function $E(t){const e=EY().encode(t),r=new rO;return r.update(e),new Uint8Array(r.digest())}function HE(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new lh([r,n],0),new lh([i,a],0)]}class Hj{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qg(`Invalid padding: ${r}`);if(n<0)throw new qg(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qg(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qg(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=lh.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(lh.fromNumber(n)));return i.compare(TY)===1&&(i=new lh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=$E(e),[n,i]=HE(r);for(let a=0;a<this.hashCount;a++){const l=this.ye(n,i,a);if(!this.we(l))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Hj(a,i,r);return n.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const r=$E(e),[n,i]=HE(r);for(let a=0;a<this.hashCount;a++){const l=this.ye(n,i,a);this.Se(l)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,G0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new q1(dr.min(),i,new ri(Ir),td(),Pr())}}class G0{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new G0(n,r,Pr(),Pr(),Pr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class $O{constructor(e,r){this.targetId=e,this.Ce=r}}class HO{constructor(e,r,n=Ga.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class WE{constructor(){this.ve=0,this.Fe=GE(),this.Me=Ga.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pr(),r=Pr(),n=Pr();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ar(38017,{changeType:a})}})),new G0(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=GE()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CY{constructor(e){this.Ge=e,this.ze=new Map,this.je=td(),this.Je=fx(),this.He=fx(),this.Ye=new ri(Ir)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:ar(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(q_(a))if(n===0){const l=new Qt(a.path);this.et(r,l,us.newNoDocument(l,dr.min()))}else tn(n===1,20013,{expectedCount:n});else{const l=this._t(r);if(l!==n){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(r);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,h)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let l,c;try{l=mh(n).toUint8Array()}catch(d){if(d instanceof mO)return np("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Hj(l,i,a)}catch(d){return np(d instanceof qg?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,l)=>{const c=this.ot(l);if(c){if(a.current&&q_(c.target)){const d=new Qt(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,us.newNoDocument(d,e))}a.Be&&(r.set(l,a.ke()),a.qe())}}));let n=Pr();this.He.forEach(((a,l)=>{let c=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(a))})),this.je.forEach(((a,l)=>l.setReadTime(e)));const i=new q1(e,r,this.Ye,this.je,n);return this.je=td(),this.Je=fx(),this.He=fx(),this.Ye=new ri(Ir),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new WE,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new ea(Ir),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new ea(Ir),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||Ot("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new WE),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function fx(){return new ri(Qt.comparator)}function GE(){return new ri(Qt.comparator)}const kY={asc:"ASCENDING",desc:"DESCENDING"},IY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PY={and:"AND",or:"OR"};class RY{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function H_(t,e){return t.useProto3Json||M1(e)?e:{value:e}}function jv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function OY(t,e){return jv(t,e.toTimestamp())}function Gc(t){return tn(!!t,49232),dr.fromTimestamp((function(r){const n=fh(r);return new Rn(n.seconds,n.nanos)})(t))}function Wj(t,e){return W_(t,e).canonicalString()}function W_(t,e){const r=(function(i){return new Sn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function GO(t){const e=Sn.fromString(t);return tn(QO(e),10190,{key:e.toString()}),e}function G_(t,e){return Wj(t.databaseId,e.path)}function fw(t,e){const r=GO(e);if(r.get(1)!==t.databaseId.projectId)throw new St(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new St(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Qt(KO(r))}function YO(t,e){return Wj(t.databaseId,e)}function DY(t){const e=GO(t);return e.length===4?Sn.emptyPath():KO(e)}function Y_(t){return new Sn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function KO(t){return tn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YE(t,e,r){return{name:G_(t,e),fields:r.value.mapValue.fields}}function LY(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ar(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(h,f){return h.useProto3Json?(tn(f===void 0||typeof f=="string",58123),Ga.fromBase64String(f||"")):(tn(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ga.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const f=h.code===void 0?lt.UNKNOWN:qO(h.code);return new St(f,h.message||"")})(l);r=new HO(n,i,a,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=fw(t,n.document.name),a=Gc(n.document.updateTime),l=n.document.createTime?Gc(n.document.createTime):dr.min(),c=new co({mapValue:{fields:n.document.fields}}),d=us.newFoundDocument(i,a,l,c),h=n.targetIds||[],f=n.removedTargetIds||[];r=new ev(h,f,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=fw(t,n.document),a=n.readTime?Gc(n.readTime):dr.min(),l=us.newNoDocument(i,a),c=n.removedTargetIds||[];r=new ev([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=fw(t,n.document),a=n.removedTargetIds||[];r=new ev([],a,i,null)}else{if(!("filter"in e))return ar(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,l=new SY(i,a),c=n.targetId;r=new $O(c,l)}}return r}function MY(t,e){let r;if(e instanceof W0)r={update:YE(t,e.key,e.value)};else if(e instanceof qj)r={delete:G_(t,e.key)};else if(e instanceof Nh)r={update:YE(t,e.key,e.data),updateMask:WY(e.fieldMask)};else{if(!(e instanceof _Y))return ar(16599,{Vt:e.type});r={verify:G_(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,l){const c=l.transform;if(c instanceof x0)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof v0)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof b0)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof w0)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw ar(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:OY(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ar(27497)})(t,e.precondition)),r}function zY(t,e){return t&&t.length>0?(tn(e!==void 0,14353),t.map((r=>(function(i,a){let l=i.updateTime?Gc(i.updateTime):Gc(a);return l.isEqual(dr.min())&&(l=Gc(a)),new vY(l,i.transformResults||[])})(r,e)))):[]}function FY(t,e){return{documents:[YO(t,e.path)]}}function UY(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=YO(t,i);const a=(function(h){if(h.length!==0)return ZO(oc.create(h,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const l=(function(h){if(h.length!==0)return h.map((f=>(function(x){return{field:Dm(x.field),direction:qY(x.dir)}})(f)))})(e.orderBy);l&&(r.structuredQuery.orderBy=l);const c=H_(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:r,parent:i}}function BY(t){let e=DY(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){tn(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];r.where&&(a=(function(p){const x=XO(p);return x instanceof oc&&jO(x)?x.getFilters():[x]})(r.where));let l=[];r.orderBy&&(l=(function(p){return p.map((x=>(function(w){return new y0(Lm(w.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(x)))})(r.orderBy));let c=null;r.limit&&(c=(function(p){let x;return x=typeof p=="object"?p.value:p,M1(x)?null:x})(r.limit));let d=null;r.startAt&&(d=(function(p){const x=!!p.before,g=p.values||[];return new _v(g,x)})(r.startAt));let h=null;return r.endAt&&(h=(function(p){const x=!p.before,g=p.values||[];return new _v(g,x)})(r.endAt)),oY(e,i,l,a,c,"F",d,h)}function VY(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ar(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function XO(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Lm(r.unaryFilter.field);return Di.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Lm(r.unaryFilter.field);return Di.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Lm(r.unaryFilter.field);return Di.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Lm(r.unaryFilter.field);return Di.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ar(61313);default:return ar(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Di.create(Lm(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ar(58110);default:return ar(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return oc.create(r.compositeFilter.filters.map((n=>XO(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ar(1026)}})(r.compositeFilter.op))})(t):ar(30097,{filter:t})}function qY(t){return kY[t]}function $Y(t){return IY[t]}function HY(t){return PY[t]}function Dm(t){return{fieldPath:t.canonicalString()}}function Lm(t){return qa.fromServerFormat(t.fieldPath)}function ZO(t){return t instanceof Di?(function(r){if(r.op==="=="){if(DE(r.value))return{unaryFilter:{field:Dm(r.field),op:"IS_NAN"}};if(OE(r.value))return{unaryFilter:{field:Dm(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(DE(r.value))return{unaryFilter:{field:Dm(r.field),op:"IS_NOT_NAN"}};if(OE(r.value))return{unaryFilter:{field:Dm(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dm(r.field),op:$Y(r.op),value:r.value}}})(t):t instanceof oc?(function(r){const n=r.getFilters().map((i=>ZO(i)));return n.length===1?n[0]:{compositeFilter:{op:HY(r.op),filters:n}}})(t):ar(54877,{filter:t})}function WY(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function QO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,r,n,i,a=dr.min(),l=dr.min(),c=Ga.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new rh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new rh(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GY{constructor(e){this.yt=e}}function YY(t){const e=BY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(){this.Cn=new XY}addToCollectionParentIndex(e,r){return this.Cn.add(r),pt.resolve()}getCollectionParents(e,r){return pt.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return pt.resolve()}deleteFieldIndex(e,r){return pt.resolve()}deleteAllFieldIndexes(e){return pt.resolve()}createTargetIndexes(e,r){return pt.resolve()}getDocumentsMatchingTarget(e,r){return pt.resolve(null)}getIndexType(e,r){return pt.resolve(0)}getFieldIndexes(e,r){return pt.resolve([])}getNextCollectionGroupToUpdate(e){return pt.resolve(null)}getMinOffset(e,r){return pt.resolve(hh.min())}getMinOffsetFromCollectionGroup(e,r){return pt.resolve(hh.min())}updateCollectionGroup(e,r,n){return pt.resolve()}updateIndexEntries(e,r){return pt.resolve()}}class XY{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ea(Sn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ea(Sn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JO=41943040;class oo{static withCacheSize(e){return new oo(e,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(JO,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new op(0)}static cr(){return new op(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="LruGarbageCollector",ZY=1048576;function ZE([t,e],[r,n]){const i=Ir(t,r);return i===0?Ir(e,n):i}class QY{constructor(e){this.Ir=e,this.buffer=new ea(ZE),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();ZE(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class JY{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ot(XE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Ep(r)?Ot(XE,"Ignoring IndexedDB error during garbage collection: ",r):await Ap(r)}await this.Vr(3e5)}))}}class eK{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return pt.resolve(L1.ce);const n=new QY(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(KE)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KE):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,a,l,c,d,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,l=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,c=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(h=Date.now(),Rm()<=kr.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-f}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${a} targets in `+(d-c)+`ms
	Removed ${p} documents in `+(h-d)+`ms
Total Duration: ${h-f}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function tK(t,e){return new eK(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(){this.changes=new Mf((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,us.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?pt.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nK{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iK{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&t0(n.mutation,i,zo.empty(),Rn.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,Pr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=Pr()){const i=rf();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let l=Vg();return a.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,r){const n=rf();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,Pr())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,c)=>{r.set(l,c)}))}))}computeViews(e,r,n,i){let a=td();const l=e0(),c=(function(){return e0()})();return r.forEach(((d,h)=>{const f=n.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof Nh)?a=a.insert(h.key,h):f!==void 0?(l.set(h.key,f.mutation.getFieldMask()),t0(f.mutation,h,f.mutation.getFieldMask(),Rn.now())):l.set(h.key,zo.empty())})),this.recalculateAndSaveOverlays(e,a).next((d=>(d.forEach(((h,f)=>l.set(h,f))),r.forEach(((h,f)=>c.set(h,new nK(f,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,r){const n=e0();let i=new ri(((l,c)=>l-c)),a=Pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((l=>{for(const c of l)c.keys().forEach((d=>{const h=r.get(d);if(h===null)return;let f=n.get(d)||zo.empty();f=c.applyToLocalView(h,f),n.set(d,f);const p=(i.get(c.batchId)||Pr()).add(d);i=i.insert(c.batchId,p)}))})).next((()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,f=d.value,p=RO();f.forEach((x=>{if(!a.has(x)){const g=BO(r.get(x),n.get(x));g!==null&&p.set(x,g),a=a.add(x)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,p))}return pt.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(l){return Qt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):TO(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):pt.resolve(rf());let c=f0,d=a;return l.next((h=>pt.forEach(h,((f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),a.get(f)?pt.resolve():this.remoteDocumentCache.getEntry(e,f).next((x=>{d=d.insert(f,x)}))))).next((()=>this.populateOverlays(e,h,a))).next((()=>this.computeViews(e,d,h,Pr()))).next((f=>({batchId:c,changes:PO(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Qt(r)).next((n=>{let i=Vg();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let l=Vg();return this.indexManager.getCollectionParents(e,a).next((c=>pt.forEach(c,(d=>{const h=(function(p,x){return new Tp(x,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,d.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next((f=>{f.forEach(((p,x)=>{l=l.insert(p,x)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((l=>{a.forEach(((d,h)=>{const f=h.getKey();l.get(f)===null&&(l=l.insert(f,us.newInvalidDocument(f)))}));let c=Vg();return l.forEach(((d,h)=>{const f=a.get(d);f!==void 0&&t0(f.mutation,h,zo.empty(),Rn.now()),U1(r,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return pt.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Gc(i.createTime)}})(r)),pt.resolve()}getNamedQuery(e,r){return pt.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:YY(i.bundledQuery),readTime:Gc(i.readTime)}})(r)),pt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sK{constructor(){this.overlays=new ri(Qt.comparator),this.qr=new Map}getOverlay(e,r){return pt.resolve(this.overlays.get(r))}getOverlays(e,r){const n=rf();return pt.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.St(e,r,a)})),pt.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(n)),pt.resolve()}getOverlaysForCollection(e,r,n){const i=rf(),a=r.length+1,l=new Qt(r.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!r.isPrefixOf(h.path))break;h.path.length===a&&d.largestBatchId>n&&i.set(d.getKey(),d)}return pt.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new ri(((h,f)=>h-f));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===r&&h.largestBatchId>n){let f=a.get(h.largestBatchId);f===null&&(f=rf(),a=a.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const c=rf(),d=a.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,f)=>c.set(h,f))),!(c.size()>=i)););return pt.resolve(c)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new jY(r,n));let a=this.qr.get(r);a===void 0&&(a=Pr(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oK{constructor(){this.sessionToken=Ga.EMPTY_BYTE_STRING}getSessionToken(e){return pt.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,pt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(){this.Qr=new ea(va.$r),this.Ur=new ea(va.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new va(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new va(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new Qt(new Sn([])),n=new va(r,e),i=new va(r,e+1),a=[];return this.Ur.forEachInRange([n,i],(l=>{this.Gr(l),a.push(l.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Qt(new Sn([])),n=new va(r,e),i=new va(r,e+1);let a=Pr();return this.Ur.forEachInRange([n,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const r=new va(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class va{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Qt.comparator(e.key,r.key)||Ir(e.Yr,r.Yr)}static Kr(e,r){return Ir(e.Yr,r.Yr)||Qt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lK{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new ea(va.$r)}checkEmpty(e){return pt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new NY(a,r,n,i);this.mutationQueue.push(l);for(const c of i)this.Zr=this.Zr.add(new va(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return pt.resolve(l)}lookupMutationBatch(e,r){return pt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return pt.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(this.mutationQueue.length===0?Lj:this.tr-1)}getAllMutationBatches(e){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new va(r,0),i=new va(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],(l=>{const c=this.Xr(l.Yr);a.push(c)})),pt.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ea(Ir);return r.forEach((i=>{const a=new va(i,0),l=new va(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,l],(c=>{n=n.add(c.Yr)}))})),pt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;Qt.isDocumentKey(a)||(a=a.child(""));const l=new va(new Qt(a),0);let c=new ea(Ir);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(c=c.add(d.Yr)),!0)}),l),pt.resolve(this.ti(c))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){tn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return pt.forEach(r.mutations,(i=>{const a=new va(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new va(r,0),i=this.Zr.firstAfterOrEqual(n);return pt.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,pt.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cK{constructor(e){this.ri=e,this.docs=(function(){return new ri(Qt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,l=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return pt.resolve(n?n.document.mutableCopy():us.newInvalidDocument(r))}getEntries(e,r){let n=td();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():us.newInvalidDocument(i))})),pt.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=td();const l=r.path,c=new Qt(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:f}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||FG(zG(f),n)<=0||(i.has(f.key)||U1(r,f))&&(a=a.insert(f.key,f.mutableCopy()))}return pt.resolve(a)}getAllFromCollectionGroup(e,r,n,i){ar(9500)}ii(e,r){return pt.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new uK(this)}getSize(e){return pt.resolve(this.size)}}class uK extends rK{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),pt.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dK{constructor(e){this.persistence=e,this.si=new Mf((r=>Fj(r)),Uj),this.lastRemoteSnapshotVersion=dr.min(),this.highestTargetId=0,this.oi=0,this._i=new Gj,this.targetCount=0,this.ai=op.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),pt.resolve()}getLastRemoteSnapshotVersion(e){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),pt.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new op(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,pt.resolve()}updateTargetData(e,r){return this.Pr(r),pt.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,pt.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.si.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)})),pt.waitFor(a).next((()=>i))}getTargetCount(e){return pt.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return pt.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),pt.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),pt.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),pt.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return pt.resolve(n)}containsKey(e,r){return pt.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,r){this.ui={},this.overlays={},this.ci=new L1(0),this.li=!1,this.li=!0,this.hi=new oK,this.referenceDelegate=e(this),this.Pi=new dK(this),this.indexManager=new KY,this.remoteDocumentCache=(function(i){return new cK(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new GY(r),this.Ii=new aK(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new sK,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new lK(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){Ot("MemoryPersistence","Starting transaction:",e);const i=new hK(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((a=>this.referenceDelegate.di(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ai(e,r){return pt.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class hK extends BG{constructor(e){super(),this.currentSequenceNumber=e}}class Yj{constructor(e){this.persistence=e,this.Ri=new Gj,this.Vi=null}static mi(e){return new Yj(e)}get fi(){if(this.Vi)return this.Vi;throw ar(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),pt.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),pt.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),pt.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.fi.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.fi,(n=>{const i=Qt.fromPath(n);return this.gi(e,i).next((a=>{a||r.removeEntry(i,dr.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return pt.or([()=>pt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Sv{constructor(e,r){this.persistence=e,this.pi=new Mf((n=>$G(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=tK(this,r)}static mi(e,r){return new Sv(e,r)}Ei(){}di(e){return pt.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return pt.forEach(this.pi,((n,i)=>this.br(e,n,i).next((a=>a?pt.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(e,(l=>this.br(e,l,r).next((c=>{c||(n++,a.removeEntry(l,dr.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),pt.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),pt.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),pt.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),pt.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Zx(e.data.value)),r}br(e,r,n){return pt.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return pt.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=Pr(),i=Pr();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Kj(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mK{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vq()?8:VG(ps())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.ys(e,r).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.ws(e,r,i,n).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new fK;return this.Ss(e,r,l).next((c=>{if(a.result=c,this.Vs)return this.bs(e,r,l,c.size)}))})).next((()=>a.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Rm()<=kr.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",Om(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),pt.resolve()):(Rm()<=kr.DEBUG&&Ot("QueryEngine","Query:",Om(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Rm()<=kr.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",Om(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wc(r))):pt.resolve())}ys(e,r){if(FE(r))return pt.resolve(null);let n=Wc(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=Nv(r,null,"F"),n=Wc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const l=Pr(...a);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.Ds(r,c);return this.Cs(r,h,l,d.readTime)?this.ys(e,Nv(r,null,"F")):this.vs(e,h,r,d)}))))})))))}ws(e,r,n,i){return FE(r)||i.isEqual(dr.min())?pt.resolve(null):this.ps.getDocuments(e,n).next((a=>{const l=this.Ds(r,a);return this.Cs(r,l,n,i)?pt.resolve(null):(Rm()<=kr.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Om(r)),this.vs(e,l,r,MG(i,f0)).next((c=>c)))}))}Ds(e,r){let n=new ea(kO(e));return r.forEach(((i,a)=>{U1(e,a)&&(n=n.add(a))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(e,r,n){return Rm()<=kr.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",Om(r)),this.ps.getDocumentsMatchingQuery(e,r,hh.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj="LocalStore",pK=3e8;class gK{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new ri(Ir),this.xs=new Mf((a=>Fj(a)),Uj),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new iK(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function yK(t,e,r,n){return new gK(t,e,r,n)}async function tD(t,e){const r=pr(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const l=[],c=[];let d=Pr();for(const h of i){l.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}for(const h of a){c.push(h.batchId);for(const f of h.mutations)d=d.add(f.key)}return r.localDocuments.getDocuments(n,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function xK(t,e){const r=pr(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,f){const p=h.batch,x=p.keys();let g=pt.resolve();return x.forEach((w=>{g=g.next((()=>f.getEntry(d,w))).next((v=>{const _=h.docVersions.get(w);tn(_!==null,48541),v.version.compareTo(_)<0&&(p.applyToRemoteDocument(v,h),v.isValidDocument()&&(v.setReadTime(h.commitVersion),f.addEntry(v)))}))})),g.next((()=>c.mutationQueue.removeMutationBatch(d,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let d=Pr();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function rD(t){const e=pr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function vK(t,e){const r=pr(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const c=[];e.targetChanges.forEach(((f,p)=>{const x=i.get(p);if(!x)return;c.push(r.Pi.removeMatchingKeys(a,f.removedDocuments,p).next((()=>r.Pi.addMatchingKeys(a,f.addedDocuments,p))));let g=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(Ga.EMPTY_BYTE_STRING,dr.min()).withLastLimboFreeSnapshotVersion(dr.min()):f.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(f.resumeToken,n)),i=i.insert(p,g),(function(v,_,j){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=pK?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(x,g,f)&&c.push(r.Pi.updateTargetData(a,g))}));let d=td(),h=Pr();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(a,f))})),c.push(bK(a,l,e.documentUpdates).next((f=>{d=f.ks,h=f.qs}))),!n.isEqual(dr.min())){const f=r.Pi.getLastRemoteSnapshotVersion(a).next((p=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n)));c.push(f)}return pt.waitFor(c).next((()=>l.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,d,h))).next((()=>d))})).then((a=>(r.Ms=i,a)))}function bK(t,e,r){let n=Pr(),i=Pr();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let l=td();return r.forEach(((c,d)=>{const h=a.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(c)),d.isNoDocument()&&d.version.isEqual(dr.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):Ot(Xj,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:i}}))}function wK(t,e){const r=pr(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Lj),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function _K(t,e){const r=pr(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((a=>a?(i=a,pt.resolve(i)):r.Pi.allocateTargetId(n).next((l=>(i=new rh(e,l,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function K_(t,e,r){const n=pr(t),i=n.Ms.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(l=>n.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!Ep(l))throw l;Ot(Xj,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function QE(t,e,r){const n=pr(t);let i=dr.min(),a=Pr();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,f){const p=pr(d),x=p.xs.get(f);return x!==void 0?pt.resolve(p.Ms.get(x)):p.Pi.getTargetData(h,f)})(n,l,Wc(e)).next((c=>{if(c)return i=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{a=d}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,r?i:dr.min(),r?a:Pr()))).next((c=>(NK(n,cY(e),c),{documents:c,Qs:a})))))}function NK(t,e,r){let n=t.Os.get(e)||dr.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Os.set(e,n)}class JE{constructor(){this.activeTargetIds=pY()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jK{constructor(){this.Mo=new JE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new JE,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SK{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="ConnectivityMonitor";class tT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ot(eT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ot(eT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mx=null;function X_(){return mx===null?mx=(function(){return 268435456+Math.round(2147483648*Math.random())})():mx++,"0x"+mx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="RestConnection",AK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EK{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===bv?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,a){const l=X_(),c=this.zo(e,r.toUriEncodedString());Ot(mw,`Sending RPC '${e}' ${l}:`,c,n);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,i,a);const{host:h}=new URL(c),f=nu(h);return this.Jo(e,c,d,n,f).then((p=>(Ot(mw,`Received RPC '${e}' ${l}: `,p),p)),(p=>{throw np(mw,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",n),p}))}Ho(e,r,n,i,a,l){return this.Go(e,r,n,i,a)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Sp})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}zo(e,r){const n=AK[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TK{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="WebChannelConnection";class CK extends EK{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,a){const l=X_();return new Promise(((c,d)=>{const h=new nO;h.setWithCredentials(!0),h.listenOnce(iO.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case Xx.NO_ERROR:const p=h.getResponseJson();Ot(ns,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(p)),c(p);break;case Xx.TIMEOUT:Ot(ns,`RPC '${e}' ${l} timed out`),d(new St(lt.DEADLINE_EXCEEDED,"Request time out"));break;case Xx.HTTP_ERROR:const x=h.getStatus();if(Ot(ns,`RPC '${e}' ${l} failed with status:`,x,"response text:",h.getResponseText()),x>0){let g=h.getResponseJson();Array.isArray(g)&&(g=g[0]);const w=g?.error;if(w&&w.status&&w.message){const v=(function(j){const E=j.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(E)>=0?E:lt.UNKNOWN})(w.status);d(new St(v,w.message))}else d(new St(lt.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new St(lt.UNAVAILABLE,"Connection failed."));break;default:ar(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{Ot(ns,`RPC '${e}' ${l} completed.`)}}));const f=JSON.stringify(i);Ot(ns,`RPC '${e}' ${l} sending request:`,i),h.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=X_(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=oO(),c=sO(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,r,n),d.encodeInitMessageHeaders=!0;const f=a.join("");Ot(ns,`Creating RPC '${e}' stream ${i}: ${f}`,d);const p=l.createWebChannel(f,d);this.I_(p);let x=!1,g=!1;const w=new TK({Yo:_=>{g?Ot(ns,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(x||(Ot(ns,`Opening RPC '${e}' stream ${i} transport.`),p.open(),x=!0),Ot(ns,`RPC '${e}' stream ${i} sending:`,_),p.send(_))},Zo:()=>p.close()}),v=(_,j,E)=>{_.listen(j,(C=>{try{E(C)}catch(z){setTimeout((()=>{throw z}),0)}}))};return v(p,Bg.EventType.OPEN,(()=>{g||(Ot(ns,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),v(p,Bg.EventType.CLOSE,(()=>{g||(g=!0,Ot(ns,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))})),v(p,Bg.EventType.ERROR,(_=>{g||(g=!0,np(ns,`RPC '${e}' stream ${i} transport errored. Name:`,_.name,"Message:",_.message),w.a_(new St(lt.UNAVAILABLE,"The operation could not be completed")))})),v(p,Bg.EventType.MESSAGE,(_=>{if(!g){const j=_.data[0];tn(!!j,16349);const E=j,C=E?.error||E[0]?.error;if(C){Ot(ns,`RPC '${e}' stream ${i} received error:`,C);const z=C.status;let P=(function(M){const D=Ri[M];if(D!==void 0)return qO(D)})(z),X=C.message;P===void 0&&(P=lt.INTERNAL,X="Unknown error status: "+z+" with message "+C.message),g=!0,w.a_(new St(P,X)),p.close()}else Ot(ns,`RPC '${e}' stream ${i} received:`,j),w.u_(j)}})),v(c,aO.STAT_EVENT,(_=>{_.stat===z_.PROXY?Ot(ns,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===z_.NOPROXY&&Ot(ns,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function pw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){return new RY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="PersistentStream";class iD{constructor(e,r,n,i,a,l,c,d){this.Mi=e,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new nD(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===lt.RESOURCE_EXHAUSTED?(ed(r.toString()),ed("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new St(lt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ot(rT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(Ot(rT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kK extends iD{constructor(e,r,n,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=LY(this.serializer,e),n=(function(a){if(!("targetChange"in a))return dr.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?dr.min():l.readTime?Gc(l.readTime):dr.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=Y_(this.serializer),r.addTarget=(function(a,l){let c;const d=l.target;if(c=q_(d)?{documents:FY(a,d)}:{query:UY(a,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=WO(a,l.resumeToken);const h=H_(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(dr.min())>0){c.readTime=jv(a,l.snapshotVersion.toTimestamp());const h=H_(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const n=VY(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=Y_(this.serializer),r.removeTarget=e,this.q_(r)}}class IK extends iD{constructor(e,r,n,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,l),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=zY(e.writeResults,e.commitTime),n=Gc(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=Y_(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>MY(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PK{}class RK extends PK{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new St(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Go(e,W_(r,n),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new St(lt.UNKNOWN,a.toString())}))}Ho(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,W_(r,n),i,l,c,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new St(lt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OK{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ed(r),this.aa=!1):Ot("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="RemoteStore";class DK{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{zf(this)&&(Ot(_f,"Restarting streams for network reachability change."),await(async function(d){const h=pr(d);h.Ea.add(4),await Y0(h),h.Ra.set("Unknown"),h.Ea.delete(4),await H1(h)})(this))}))})),this.Ra=new OK(n,i)}}async function H1(t){if(zf(t))for(const e of t.da)await e(!0)}async function Y0(t){for(const e of t.da)await e(!1)}function aD(t,e){const r=pr(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),eS(r)?Jj(r):Cp(r).O_()&&Qj(r,e))}function Zj(t,e){const r=pr(t),n=Cp(r);r.Ia.delete(e),n.O_()&&sD(r,e),r.Ia.size===0&&(n.O_()?n.L_():zf(r)&&r.Ra.set("Unknown"))}function Qj(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(dr.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Cp(t).Y_(e)}function sD(t,e){t.Va.Ue(e),Cp(t).Z_(e)}function Jj(t){t.Va=new CY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cp(t).start(),t.Ra.ua()}function eS(t){return zf(t)&&!Cp(t).x_()&&t.Ia.size>0}function zf(t){return pr(t).Ea.size===0}function oD(t){t.Va=void 0}async function LK(t){t.Ra.set("Online")}async function MK(t){t.Ia.forEach(((e,r)=>{Qj(t,e)}))}async function zK(t,e){oD(t),eS(t)?(t.Ra.ha(e),Jj(t)):t.Ra.set("Unknown")}async function FK(t,e,r){if(t.Ra.set("Online"),e instanceof HO&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const c of a.targetIds)i.Ia.has(c)&&(await i.remoteSyncer.rejectListen(c,l),i.Ia.delete(c),i.Va.removeTarget(c))})(t,e)}catch(n){Ot(_f,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Av(t,n)}else if(e instanceof ev?t.Va.Ze(e):e instanceof $O?t.Va.st(e):t.Va.tt(e),!r.isEqual(dr.min()))try{const n=await rD(t.localStore);r.compareTo(n)>=0&&await(function(a,l){const c=a.Va.Tt(l);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const f=a.Ia.get(h);f&&a.Ia.set(h,f.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,h)=>{const f=a.Ia.get(d);if(!f)return;a.Ia.set(d,f.withResumeToken(Ga.EMPTY_BYTE_STRING,f.snapshotVersion)),sD(a,d);const p=new rh(f.target,d,h,f.sequenceNumber);Qj(a,p)})),a.remoteSyncer.applyRemoteEvent(c)})(t,r)}catch(n){Ot(_f,"Failed to raise snapshot:",n),await Av(t,n)}}async function Av(t,e,r){if(!Ep(e))throw e;t.Ea.add(1),await Y0(t),t.Ra.set("Offline"),r||(r=()=>rD(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ot(_f,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await H1(t)}))}function lD(t,e){return e().catch((r=>Av(t,r,e)))}async function W1(t){const e=pr(t),r=gh(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lj;for(;UK(e);)try{const i=await wK(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,BK(e,i)}catch(i){await Av(e,i)}cD(e)&&uD(e)}function UK(t){return zf(t)&&t.Ta.length<10}function BK(t,e){t.Ta.push(e);const r=gh(t);r.O_()&&r.X_&&r.ea(e.mutations)}function cD(t){return zf(t)&&!gh(t).x_()&&t.Ta.length>0}function uD(t){gh(t).start()}async function VK(t){gh(t).ra()}async function qK(t){const e=gh(t);for(const r of t.Ta)e.ea(r.mutations)}async function $K(t,e,r){const n=t.Ta.shift(),i=$j.from(n,e,r);await lD(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await W1(t)}async function HK(t,e){e&&gh(t).X_&&await(async function(n,i){if((function(l){return AY(l)&&l!==lt.ABORTED})(i.code)){const a=n.Ta.shift();gh(n).B_(),await lD(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await W1(n)}})(t,e),cD(t)&&uD(t)}async function nT(t,e){const r=pr(t);r.asyncQueue.verifyOperationInProgress(),Ot(_f,"RemoteStore received new credentials");const n=zf(r);r.Ea.add(3),await Y0(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await H1(r)}async function WK(t,e){const r=pr(t);e?(r.Ea.delete(2),await H1(r)):e||(r.Ea.add(2),await Y0(r),r.Ra.set("Unknown"))}function Cp(t){return t.ma||(t.ma=(function(r,n,i){const a=pr(r);return a.sa(),new kK(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:LK.bind(null,t),t_:MK.bind(null,t),r_:zK.bind(null,t),H_:FK.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),eS(t)?Jj(t):t.Ra.set("Unknown")):(await t.ma.stop(),oD(t))}))),t.ma}function gh(t){return t.fa||(t.fa=(function(r,n,i){const a=pr(r);return a.sa(),new IK(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:VK.bind(null,t),r_:HK.bind(null,t),ta:qK.bind(null,t),na:$K.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await W1(t)):(await t.fa.stop(),t.Ta.length>0&&(Ot(_f,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new $u,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const l=Date.now()+n,c=new tS(e,r,l,i,a);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new St(lt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rS(t,e){if(ed("AsyncQueue",`${e}: ${t}`),Ep(t))return new St(lt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{static emptySet(e){return new Wm(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||Qt.comparator(r.key,n.key):(r,n)=>Qt.comparator(r.key,n.key),this.keyedMap=Vg(),this.sortedSet=new ri(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Wm)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Wm;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(){this.ga=new ri(Qt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):ar(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class lp{constructor(e,r,n,i,a,l,c,d,h){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,r,n,i,a){const l=[];return r.forEach((c=>{l.push({type:0,doc:c})})),new lp(e,r,Wm.emptySet(r),l,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class YK{constructor(){this.queries=aT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=pr(r),a=i.queries;i.queries=aT(),a.forEach(((l,c)=>{for(const d of c.Sa)d.onError(n)}))})(this,new St(lt.ABORTED,"Firestore shutting down"))}}function aT(){return new Mf((t=>CO(t)),F1)}async function dD(t,e){const r=pr(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.ba()&&e.Da()&&(n=2):(a=new GK,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(l){const c=rS(l,`Initialization of query '${Om(e.query)}' failed`);return void e.onError(c)}r.queries.set(i,a),a.Sa.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&nS(r)}async function hD(t,e){const r=pr(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?i=e.Da()?0:1:!a.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function KK(t,e){const r=pr(t);let n=!1;for(const i of e){const a=i.query,l=r.queries.get(a);if(l){for(const c of l.Sa)c.Fa(i)&&(n=!0);l.wa=i}}n&&nS(r)}function XK(t,e,r){const n=pr(t),i=n.queries.get(e);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(e)}function nS(t){t.Ca.forEach((e=>{e.next()}))}var Z_,sT;(sT=Z_||(Z_={})).Ma="default",sT.Cache="cache";class fD{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new lp(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=lp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Z_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.key=e}}class pD{constructor(e){this.key=e}}class ZK{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pr(),this.mutatedKeys=Pr(),this.eu=kO(e),this.tu=new Wm(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new iT,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,l=i,c=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const x=i.get(f),g=U1(this.query,p)?p:null,w=!!x&&this.mutatedKeys.has(x.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;x&&g?x.data.isEqual(g.data)?w!==v&&(n.track({type:3,doc:g}),_=!0):this.su(x,g)||(n.track({type:2,doc:g}),_=!0,(d&&this.eu(g,d)>0||h&&this.eu(g,h)<0)&&(c=!0)):!x&&g?(n.track({type:0,doc:g}),_=!0):x&&!g&&(n.track({type:1,doc:x}),_=!0,(d||h)&&(c=!0)),_&&(g?(l=l.add(g),a=v?a.add(f):a.delete(f)):(l=l.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const f=this.query.limitType==="F"?l.last():l.first();l=l.delete(f.key),a=a.delete(f.key),n.track({type:1,doc:f})}return{tu:l,iu:n,Cs:c,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((f,p)=>(function(g,w){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ar(20277,{Rt:_})}};return v(g)-v(w)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(n),i=i??!1;const c=r&&!i?this._u():[],d=this.Xa.size===0&&this.current&&!i?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new lp(this.query,e.tu,a,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new iT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new pD(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new mD(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=Pr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return lp.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const iS="SyncEngine";class QK{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class JK{constructor(e){this.key=e,this.hu=!1}}class eX{constructor(e,r,n,i,a,l){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Mf((c=>CO(c)),F1),this.Iu=new Map,this.Eu=new Set,this.du=new ri(Qt.comparator),this.Au=new Map,this.Ru=new Gj,this.Vu={},this.mu=new Map,this.fu=op.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tX(t,e,r=!0){const n=wD(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await gD(n,e,r,!0),i}async function rX(t,e){const r=wD(t);await gD(r,e,!0,!1)}async function gD(t,e,r,n){const i=await _K(t.localStore,Wc(e)),a=i.targetId,l=t.sharedClientState.addLocalQueryTarget(a,r);let c;return n&&(c=await nX(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&r&&aD(t.remoteStore,i),c}async function nX(t,e,r,n,i){t.pu=(p,x,g)=>(async function(v,_,j,E){let C=_.view.ru(j);C.Cs&&(C=await QE(v.localStore,_.query,!1).then((({documents:U})=>_.view.ru(U,C))));const z=E&&E.targetChanges.get(_.targetId),P=E&&E.targetMismatches.get(_.targetId)!=null,X=_.view.applyChanges(C,v.isPrimaryClient,z,P);return lT(v,_.targetId,X.au),X.snapshot})(t,p,x,g);const a=await QE(t.localStore,e,!0),l=new ZK(e,a.Qs),c=l.ru(a.documents),d=G0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),h=l.applyChanges(c,t.isPrimaryClient,d);lT(t,r,h.au);const f=new QK(e,r,l);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),h.snapshot}async function iX(t,e,r){const n=pr(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((l=>!F1(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await K_(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&Zj(n.remoteStore,i.targetId),Q_(n,i.targetId)})).catch(Ap)):(Q_(n,i.targetId),await K_(n.localStore,i.targetId,!0))}async function aX(t,e){const r=pr(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Zj(r.remoteStore,n.targetId))}async function sX(t,e,r){const n=fX(t);try{const i=await(function(l,c){const d=pr(l),h=Rn.now(),f=c.reduce(((g,w)=>g.add(w.key)),Pr());let p,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(g=>{let w=td(),v=Pr();return d.Ns.getEntries(g,f).next((_=>{w=_,w.forEach(((j,E)=>{E.isValidDocument()||(v=v.add(j))}))})).next((()=>d.localDocuments.getOverlayedDocuments(g,w))).next((_=>{p=_;const j=[];for(const E of c){const C=wY(E,p.get(E.key).overlayedDocument);C!=null&&j.push(new Nh(E.key,C,wO(C.value.mapValue),xl.exists(!0)))}return d.mutationQueue.addMutationBatch(g,h,j,c)})).next((_=>{x=_;const j=_.applyToLocalDocumentSet(p,v);return d.documentOverlayCache.saveOverlays(g,_.batchId,j)}))})).then((()=>({batchId:x.batchId,changes:PO(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new ri(Ir)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h})(n,i.batchId,r),await K0(n,i.changes),await W1(n.remoteStore)}catch(i){const a=rS(i,"Failed to persist write");r.reject(a)}}async function yD(t,e){const r=pr(t);try{const n=await vK(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=r.Au.get(a);l&&(tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.hu=!0:i.modifiedDocuments.size>0?tn(l.hu,14607):i.removedDocuments.size>0&&(tn(l.hu,42227),l.hu=!1))})),await K0(r,n,e)}catch(n){await Ap(n)}}function oT(t,e,r){const n=pr(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,l)=>{const c=l.view.va(e);c.snapshot&&i.push(c.snapshot)})),(function(l,c){const d=pr(l);d.onlineState=c;let h=!1;d.queries.forEach(((f,p)=>{for(const x of p.Sa)x.va(c)&&(h=!0)})),h&&nS(d)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function oX(t,e,r){const n=pr(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let l=new ri(Qt.comparator);l=l.insert(a,us.newNoDocument(a,dr.min()));const c=Pr().add(a),d=new q1(dr.min(),new Map,new ri(Ir),l,c);await yD(n,d),n.du=n.du.remove(a),n.Au.delete(e),aS(n)}else await K_(n.localStore,e,!1).then((()=>Q_(n,e,r))).catch(Ap)}async function lX(t,e){const r=pr(t),n=e.batch.batchId;try{const i=await xK(r.localStore,e);vD(r,n,null),xD(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await K0(r,i)}catch(i){await Ap(i)}}async function cX(t,e,r){const n=pr(t);try{const i=await(function(l,c){const d=pr(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let f;return d.mutationQueue.lookupMutationBatch(h,c).next((p=>(tn(p!==null,37113),f=p.keys(),d.mutationQueue.removeMutationBatch(h,p)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,f,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f))).next((()=>d.localDocuments.getDocuments(h,f)))}))})(n.localStore,e);vD(n,e,r),xD(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await K0(n,i)}catch(i){await Ap(i)}}function xD(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function vD(t,e,r){const n=pr(t);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function Q_(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||bD(t,n)}))}function bD(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(Zj(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),aS(t))}function lT(t,e,r){for(const n of r)n instanceof mD?(t.Ru.addReference(n.key,e),uX(t,n)):n instanceof pD?(Ot(iS,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||bD(t,n.key)):ar(19791,{wu:n})}function uX(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(Ot(iS,"New document in limbo: "+r),t.Eu.add(n),aS(t))}function aS(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new Qt(Sn.fromString(e)),n=t.fu.next();t.Au.set(n,new JK(r)),t.du=t.du.insert(r,n),aD(t.remoteStore,new rh(Wc(Bj(r.path)),n,"TargetPurposeLimboResolution",L1.ce))}}async function K0(t,e,r){const n=pr(t),i=[],a=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,d)=>{l.push(n.pu(d,e,r).then((h=>{if((h||r)&&n.isPrimaryClient){const f=h?!h.fromCache:r?.targetChanges.get(d.targetId)?.current;n.sharedClientState.updateQueryState(d.targetId,f?"current":"not-current")}if(h){i.push(h);const f=Kj.As(d.targetId,h);a.push(f)}})))})),await Promise.all(l),n.Pu.H_(i),await(async function(d,h){const f=pr(d);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>pt.forEach(h,(x=>pt.forEach(x.Es,(g=>f.persistence.referenceDelegate.addReference(p,x.targetId,g))).next((()=>pt.forEach(x.ds,(g=>f.persistence.referenceDelegate.removeReference(p,x.targetId,g)))))))))}catch(p){if(!Ep(p))throw p;Ot(Xj,"Failed to update sequence numbers: "+p)}for(const p of h){const x=p.targetId;if(!p.fromCache){const g=f.Ms.get(x),w=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(x,v)}}})(n.localStore,a))}async function dX(t,e){const r=pr(t);if(!r.currentUser.isEqual(e)){Ot(iS,"User change. New user:",e.toKey());const n=await tD(r.localStore,e);r.currentUser=e,(function(a,l){a.mu.forEach((c=>{c.forEach((d=>{d.reject(new St(lt.CANCELLED,l))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await K0(r,n.Ls)}}function hX(t,e){const r=pr(t),n=r.Au.get(e);if(n&&n.hu)return Pr().add(n.key);{let i=Pr();const a=r.Iu.get(e);if(!a)return i;for(const l of a){const c=r.Tu.get(l);i=i.unionWith(c.view.nu)}return i}}function wD(t){const e=pr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yD.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=oX.bind(null,e),e.Pu.H_=KK.bind(null,e.eventManager),e.Pu.yu=XK.bind(null,e.eventManager),e}function fX(t){const e=pr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cX.bind(null,e),e}class Ev{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$1(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return yK(this.persistence,new mK,e.initialUser,this.serializer)}Cu(e){return new eD(Yj.mi,this.serializer)}Du(e){return new jK}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ev.provider={build:()=>new Ev};class mX extends Ev{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){tn(this.persistence.referenceDelegate instanceof Sv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new JY(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new eD((n=>Sv.mi(n,r)),this.serializer)}}class J_{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>oT(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=dX.bind(null,this.syncEngine),await WK(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new YK})()}createDatastore(e){const r=$1(e.databaseInfo.databaseId),n=(function(a){return new CK(a)})(e.databaseInfo);return(function(a,l,c,d){return new RK(a,l,c,d)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,l,c){return new DK(n,i,a,l,c)})(this.localStore,this.datastore,e.asyncQueue,(r=>oT(this.syncEngine,r,0)),(function(){return tT.v()?new tT:new SK})())}createSyncEngine(e,r){return(function(i,a,l,c,d,h,f){const p=new eX(i,a,l,c,d,h);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=pr(r);Ot(_f,"RemoteStore shutting down."),n.Ea.add(5),await Y0(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}J_.provider={build:()=>new J_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ed("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh="FirestoreClient";class pX{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=cs.UNAUTHENTICATED,this.clientId=Dj.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async l=>{Ot(yh,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(Ot(yh,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $u;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=rS(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function gw(t,e){t.asyncQueue.verifyOperationInProgress(),Ot(yh,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await tD(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function cT(t,e){t.asyncQueue.verifyOperationInProgress();const r=await gX(t);Ot(yh,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>nT(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>nT(e.remoteStore,i))),t._onlineComponents=e}async function gX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ot(yh,"Using user provided OfflineComponentProvider");try{await gw(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===lt.FAILED_PRECONDITION||i.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;np("Error using user provided cache. Falling back to memory cache: "+r),await gw(t,new Ev)}}else Ot(yh,"Using default OfflineComponentProvider"),await gw(t,new mX(void 0));return t._offlineComponents}async function ND(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ot(yh,"Using user provided OnlineComponentProvider"),await cT(t,t._uninitializedComponentsProvider._online)):(Ot(yh,"Using default OnlineComponentProvider"),await cT(t,new J_))),t._onlineComponents}function yX(t){return ND(t).then((e=>e.syncEngine))}async function jD(t){const e=await ND(t),r=e.eventManager;return r.onListen=tX.bind(null,e.syncEngine),r.onUnlisten=iX.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=rX.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=aX.bind(null,e.syncEngine),r}function xX(t,e,r={}){const n=new $u;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,h){const f=new _D({next:x=>{f.Nu(),l.enqueueAndForget((()=>hD(a,p)));const g=x.docs.has(c);!g&&x.fromCache?h.reject(new St(lt.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&x.fromCache&&d&&d.source==="server"?h.reject(new St(lt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(x)},error:x=>h.reject(x)}),p=new fD(Bj(c.path),f,{includeMetadataChanges:!0,qa:!0});return dD(a,p)})(await jD(t),t.asyncQueue,e,r,n))),n.promise}function vX(t,e,r={}){const n=new $u;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,c,d,h){const f=new _D({next:x=>{f.Nu(),l.enqueueAndForget((()=>hD(a,p))),x.fromCache&&d.source==="server"?h.reject(new St(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(x)},error:x=>h.reject(x)}),p=new fD(c,f,{includeMetadataChanges:!0,qa:!0});return dD(a,p)})(await jD(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD="firestore.googleapis.com",dT=!0;class hT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new St(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=AD,this.ssl=dT}else this.host=e.host,this.ssl=e.ssl??dT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZY)throw new St(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SD(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new St(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new St(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new St(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class G1{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new St(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new St(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new AG;switch(n.type){case"firstParty":return new kG(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new St(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=uT.get(r);n&&(Ot("ComponentProvider","Removing Datastore"),uT.delete(r),n.terminate())})(this),Promise.resolve()}}function bX(t,e,r,n={}){t=sc(t,G1);const i=nu(e),a=t._getSettings(),l={...a,emulatorOptions:t._getEmulatorOptions()},c=`${e}:${r}`;i&&(T1(`https://${c}`),C1("Firestore",!0)),a.host!==AD&&a.host!==c&&np("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...a,host:c,ssl:i,emulatorOptions:n};if(!dh(d,l)&&(t._setSettings(d),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=cs.MOCK_USER;else{h=lR(n.mockUserToken,t._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new St(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new cs(p)}t._authCredentials=new EG(new cO(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class Ai{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ch(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ai(this.firestore,e,this._key)}toJSON(){return{type:Ai._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(H0(r,Ai._jsonSchema))return new Ai(e,n||null,new Qt(Sn.fromString(r.referencePath)))}}Ai._jsonSchemaVersion="firestore/documentReference/1.0",Ai._jsonSchema={type:Li("string",Ai._jsonSchemaVersion),referencePath:Li("string")};class ch extends jh{constructor(e,r,n){super(e,r,Bj(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ai(this.firestore,null,new Qt(e))}withConverter(e){return new ch(this.firestore,e,this._path)}}function vl(t,e,...r){if(t=Fr(t),uO("collection","path",e),t instanceof G1){const n=Sn.fromString(e,...r);return SE(n),new ch(t,null,n)}{if(!(t instanceof Ai||t instanceof ch))throw new St(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Sn.fromString(e,...r));return SE(n),new ch(t.firestore,null,n)}}function Ji(t,e,...r){if(t=Fr(t),arguments.length===1&&(e=Dj.newId()),uO("doc","path",e),t instanceof G1){const n=Sn.fromString(e,...r);return jE(n),new Ai(t,null,new Qt(n))}{if(!(t instanceof Ai||t instanceof ch))throw new St(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Sn.fromString(e,...r));return jE(n),new Ai(t.firestore,t instanceof ch?t.converter:null,new Qt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT="AsyncQueue";class mT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new nD(this,"async_queue_retry"),this._c=()=>{const n=pw();n&&Ot(fT,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=pw();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=pw();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new $u;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ep(e))throw e;Ot(fT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ed("INTERNAL UNHANDLED ERROR: ",pT(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=tS.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&ar(47125,{Pc:pT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function pT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ff extends G1{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new mT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mT(e),this._firestoreClient=void 0,await e}}}function wX(t,e){const r=typeof t=="object"?t:U0(),n=typeof t=="string"?t:bv,i=ld(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=pj("firestore");a&&bX(i,...a)}return i}function sS(t){if(t._terminated)throw new St(lt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_X(t),t._firestoreClient}function _X(t){const e=t._freezeSettings(),r=(function(i,a,l,c){return new GG(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,SD(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)})(t._databaseId,t._app?.options.appId||"",t._persistenceKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pX(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(Ga.fromBase64String(e))}catch(r){throw new St(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new ml(Ga.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ml._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(H0(e,ml._jsonSchema))return ml.fromBase64String(e.bytes)}}ml._jsonSchemaVersion="firestore/bytes/1.0",ml._jsonSchema={type:Li("string",ml._jsonSchemaVersion),bytes:Li("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new St(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qa(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new St(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new St(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ir(this._lat,e._lat)||Ir(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yc._jsonSchemaVersion}}static fromJSON(e){if(H0(e,Yc._jsonSchema))return new Yc(e.latitude,e.longitude)}}Yc._jsonSchemaVersion="firestore/geoPoint/1.0",Yc._jsonSchema={type:Li("string",Yc._jsonSchemaVersion),latitude:Li("number"),longitude:Li("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Kc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(H0(e,Kc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Kc(e.vectorValues);throw new St(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Kc._jsonSchemaVersion="firestore/vectorValue/1.0",Kc._jsonSchema={type:Li("string",Kc._jsonSchemaVersion),vectorValues:Li("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=/^__.*__$/;class jX{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Nh(e,this.data,this.fieldMask,r,this.fieldTransforms):new W0(e,this.data,r,this.fieldTransforms)}}class ED{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Nh(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function TD(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ar(40011,{Ac:t})}}class oS{constructor(e,r,n,i,a,l){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new oS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){const r=this.path?.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Tv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TD(this.Ac)&&NX.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class SX{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||$1(e)}Cc(e,r,n,i=!1){return new oS({Ac:e,methodName:r,Dc:n,path:qa.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function K1(t){const e=t._freezeSettings(),r=$1(t._databaseId);return new SX(t._databaseId,!!e.ignoreUndefinedProperties,r)}function CD(t,e,r,n,i,a={}){const l=t.Cc(a.merge||a.mergeFields?2:0,e,r,i);uS("Data must be an object, but it was:",l,n);const c=kD(n,l);let d,h;if(a.merge)d=new zo(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const f=[];for(const p of a.mergeFields){const x=eN(e,p,r);if(!l.contains(x))throw new St(lt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);PD(f,x)||f.push(x)}d=new zo(f),h=l.fieldTransforms.filter((p=>d.covers(p.field)))}else d=null,h=l.fieldTransforms;return new jX(new co(c),d,h)}class X1 extends X0{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof X1}}class lS extends X0{_toFieldTransform(e){return new UO(e.path,new x0)}isEqual(e){return e instanceof lS}}class cS extends X0{constructor(e,r){super(e),this.Fc=r}_toFieldTransform(e){const r=new w0(e.serializer,DO(e.serializer,this.Fc));return new UO(e.path,r)}isEqual(e){return e instanceof cS&&this.Fc===e.Fc}}function AX(t,e,r,n){const i=t.Cc(1,e,r);uS("Data must be an object, but it was:",i,n);const a=[],l=co.empty();_h(n,((d,h)=>{const f=dS(e,d,r);h=Fr(h);const p=i.yc(f);if(h instanceof X1)a.push(f);else{const x=Z0(h,p);x!=null&&(a.push(f),l.set(f,x))}}));const c=new zo(a);return new ED(l,c,i.fieldTransforms)}function EX(t,e,r,n,i,a){const l=t.Cc(1,e,r),c=[eN(e,n,r)],d=[i];if(a.length%2!=0)throw new St(lt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)c.push(eN(e,a[x])),d.push(a[x+1]);const h=[],f=co.empty();for(let x=c.length-1;x>=0;--x)if(!PD(h,c[x])){const g=c[x];let w=d[x];w=Fr(w);const v=l.yc(g);if(w instanceof X1)h.push(g);else{const _=Z0(w,v);_!=null&&(h.push(g),f.set(g,_))}}const p=new zo(h);return new ED(f,p,l.fieldTransforms)}function TX(t,e,r,n=!1){return Z0(r,t.Cc(n?4:3,e))}function Z0(t,e){if(ID(t=Fr(t)))return uS("Unsupported field value:",e,t),kD(t,e);if(t instanceof X0)return(function(n,i){if(!TD(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const a=[];let l=0;for(const c of n){let d=Z0(c,i.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),a.push(d),l++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=Fr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return DO(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Rn.fromDate(n);return{timestampValue:jv(i.serializer,a)}}if(n instanceof Rn){const a=new Rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:jv(i.serializer,a)}}if(n instanceof Yc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ml)return{bytesValue:WO(i.serializer,n._byteString)};if(n instanceof Ai){const a=i.databaseId,l=n.firestore._databaseId;if(!l.isEqual(a))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Wj(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Kc)return(function(l,c){return{mapValue:{fields:{[vO]:{stringValue:bO},[wv]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Vj(c.serializer,h)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${D1(n)}`)})(t,e)}function kD(t,e){const r={};return fO(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_h(t,((n,i)=>{const a=Z0(i,e.mc(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function ID(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rn||t instanceof Yc||t instanceof ml||t instanceof Ai||t instanceof X0||t instanceof Kc)}function uS(t,e,r){if(!ID(r)||!dO(r)){const n=D1(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function eN(t,e,r){if((e=Fr(e))instanceof Y1)return e._internalPath;if(typeof e=="string")return dS(t,e);throw Tv("Field path arguments must be of type string or ",t,!1,void 0,r)}const CX=new RegExp("[~\\*/\\[\\]]");function dS(t,e,r){if(e.search(CX)>=0)throw Tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Y1(...e.split("."))._internalPath}catch{throw Tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Tv(t,e,r,n,i){const a=n&&!n.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(a||l)&&(d+=" (found",a&&(d+=` in field ${n}`),l&&(d+=` in document ${i}`),d+=")"),new St(lt.INVALID_ARGUMENT,c+t+d)}function PD(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Z1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class kX extends RD{data(){return super.data()}}function Z1(t,e){return typeof e=="string"?dS(t,e):e instanceof Y1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IX(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new St(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hS{}class fS extends hS{}function Xc(t,e,...r){let n=[];e instanceof hS&&n.push(e),n=n.concat(r),(function(a){const l=a.filter((d=>d instanceof mS)).length,c=a.filter((d=>d instanceof Q1)).length;if(l>1||l>0&&c>0)throw new St(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Q1 extends fS{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Q1(e,r,n)}_apply(e){const r=this._parse(e);return OD(e._query,r),new jh(e.firestore,e.converter,$_(e._query,r))}_parse(e){const r=K1(e.firestore);return(function(a,l,c,d,h,f,p){let x;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new St(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){yT(p,f);const w=[];for(const v of p)w.push(gT(d,a,v));x={arrayValue:{values:w}}}else x=gT(d,a,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||yT(p,f),x=TX(c,l,p,f==="in"||f==="not-in");return Di.create(h,f,x)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Is(t,e,r){const n=e,i=Z1("where",t);return Q1._create(i,n,r)}class mS extends hS{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new mS(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:oc.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,a){let l=i;const c=a.getFlattenedFilters();for(const d of c)OD(l,d),l=$_(l,d)})(e._query,r),new jh(e.firestore,e.converter,$_(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pS extends fS{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new pS(e,r)}_apply(e){const r=(function(i,a,l){if(i.startAt!==null)throw new St(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new St(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new y0(a,l)})(e._query,this._field,this._direction);return new jh(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new Tp(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function Cv(t,e="asc"){const r=e,n=Z1("orderBy",t);return pS._create(n,r)}class gS extends fS{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new gS(e,r,n)}_apply(e){return new jh(e.firestore,e.converter,Nv(e._query,this._limit,this._limitType))}}function PX(t){return gS._create("limit",t,"F")}function gT(t,e,r){if(typeof(r=Fr(r))=="string"){if(r==="")throw new St(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TO(e)&&r.indexOf("/")!==-1)throw new St(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Sn.fromString(r));if(!Qt.isDocumentKey(n))throw new St(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return RE(t,new Qt(n))}if(r instanceof Ai)return RE(t,r._key);throw new St(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${D1(r)}.`)}function yT(t,e){if(!Array.isArray(t)||t.length===0)throw new St(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OD(t,e){const r=(function(i,a){for(const l of i)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new St(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new St(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class RX{convertValue(e,r="none"){switch(ph(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _i(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(mh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw ar(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return _h(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[wv].arrayValue?.values?.map((n=>_i(n.doubleValue)));return new Kc(r)}convertGeoPoint(e){return new Yc(_i(e.latitude),_i(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=z1(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(m0(e));default:return null}}convertTimestamp(e){const r=fh(e);return new Rn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Sn.fromString(e);tn(QO(n),9688,{name:e});const i=new p0(n.get(1),n.get(3)),a=new Qt(n.popFirst(5));return i.isEqual(r)||ed(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DD(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class $g{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class df extends RD{constructor(e,r,n,i,a,l){super(e,r,n,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new tv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Z1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new St(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=df._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}df._jsonSchemaVersion="firestore/documentSnapshot/1.0",df._jsonSchema={type:Li("string",df._jsonSchemaVersion),bundleSource:Li("string","DocumentSnapshot"),bundleName:Li("string"),bundle:Li("string")};class tv extends df{data(e={}){return super.data(e)}}class Gm{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new $g(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new tv(this._firestore,this._userDataWriter,n.key,n,new $g(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new St(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((c=>{const d=new tv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $g(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((c=>a||c.type!==3)).map((c=>{const d=new tv(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $g(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),f=l.indexOf(c.doc.key)),{type:OX(c.type),doc:d,oldIndex:h,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new St(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Gm._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dj.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ar(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(t){t=sc(t,Ai);const e=sc(t.firestore,Ff);return xX(sS(e),t._key).then((r=>LX(e,t,r)))}Gm._jsonSchemaVersion="firestore/querySnapshot/1.0",Gm._jsonSchema={type:Li("string",Gm._jsonSchemaVersion),bundleSource:Li("string","QuerySnapshot"),bundleName:Li("string"),bundle:Li("string")};class LD extends RX{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Ai(this.firestore,null,r)}}function Zc(t){t=sc(t,jh);const e=sc(t.firestore,Ff),r=sS(e),n=new LD(e);return IX(t._query),vX(r,t._query).then((i=>new Gm(e,n,t,i)))}function Hg(t,e,r){t=sc(t,Ai);const n=sc(t.firestore,Ff),i=DD(t.converter,e,r);return J1(n,[CD(K1(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,xl.none())])}function cp(t,e,r,...n){t=sc(t,Ai);const i=sc(t.firestore,Ff),a=K1(i);let l;return l=typeof(e=Fr(e))=="string"||e instanceof Y1?EX(a,"updateDoc",t._key,e,r,n):AX(a,"updateDoc",t._key,e),J1(i,[l.toMutation(t._key,xl.exists(!0))])}function DX(t){return J1(sc(t.firestore,Ff),[new qj(t._key,xl.none())])}function MD(t,e){const r=sc(t.firestore,Ff),n=Ji(t),i=DD(t.converter,e);return J1(r,[CD(K1(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,xl.exists(!1))]).then((()=>n))}function J1(t,e){return(function(n,i){const a=new $u;return n.asyncQueue.enqueueAndForget((async()=>sX(await yX(n),i,a))),a.promise})(sS(t),e)}function LX(t,e,r){const n=r.docs.get(e._key),i=new LD(t);return new df(t,i,e._key,n,new $g(r.hasPendingWrites,r.fromCache),e.converter)}function MX(){return new lS("serverTimestamp")}function xT(t){return new cS("increment",t)}(function(e,r=!0){(function(i){Sp=i})(Lf),_l(new qo("firestore",((n,{instanceIdentifier:i,options:a})=>{const l=n.getProvider("app").getImmediate(),c=new Ff(new TG(n.getProvider("auth-internal")),new IG(l,n.getProvider("app-check-internal")),(function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new St(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new p0(h.options.projectId,f)})(l,i),l);return a={useFetchStreams:r,...a},c._setSettings(a),c}),"PUBLIC").setMultipleInstances(!0)),ms(bE,wE,e),ms(bE,wE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX="type.googleapis.com/google.protobuf.Int64Value",FX="type.googleapis.com/google.protobuf.UInt64Value";function zD(t,e){const r={};for(const n in t)t.hasOwnProperty(n)&&(r[n]=e(t[n]));return r}function kv(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>kv(e));if(typeof t=="function"||typeof t=="object")return zD(t,e=>kv(e));throw new Error("Data cannot be encoded in JSON: "+t)}function up(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case zX:case FX:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>up(e)):typeof t=="function"||typeof t=="object"?zD(t,e=>up(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class uo extends Ho{constructor(e,r,n){super(`${yS}/${e}`,r||""),this.details=n,Object.setPrototypeOf(this,uo.prototype)}}function UX(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Iv(t,e){let r=UX(t),n=r,i;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!vT[l])return new uo("internal","internal");r=vT[l],n=l}const c=a.message;typeof c=="string"&&(n=c),i=a.details,i!==void 0&&(i=up(i))}}catch{}return r==="ok"?null:new uo(r,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e,r,n,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,hs(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||r.get().then(a=>this.auth=a,()=>{}),this.messaging||n.get().then(a=>this.messaging=a,()=>{}),this.appCheck||i?.get().then(a=>this.appCheck=a,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN="us-central1",VX=/^data: (.*?)(?:\n|$)/;function qX(t){let e=null;return{promise:new Promise((r,n)=>{e=setTimeout(()=>{n(new uo("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class $X{constructor(e,r,n,i,a=tN,l=(...c)=>fetch(...c)){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new BX(e,r,n,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=tN}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function HX(t,e,r){const n=nu(e);t.emulatorOrigin=`http${n?"s":""}://${e}:${r}`,n&&(T1(t.emulatorOrigin+"/backends"),C1("Functions",!0))}function WX(t,e,r){const n=i=>YX(t,e,i,{});return n.stream=(i,a)=>XX(t,e,i,a),n}function FD(t){return t.emulatorOrigin&&nu(t.emulatorOrigin)?"include":void 0}async function GX(t,e,r,n,i){r["Content-Type"]="application/json";let a;try{a=await n(t,{method:"POST",body:JSON.stringify(e),headers:r,credentials:FD(i)})}catch{return{status:0,json:null}}let l=null;try{l=await a.json()}catch{}return{status:a.status,json:l}}async function UD(t,e){const r={},n=await t.contextProvider.getContext(e.limitedUseAppCheckTokens);return n.authToken&&(r.Authorization="Bearer "+n.authToken),n.messagingToken&&(r["Firebase-Instance-ID-Token"]=n.messagingToken),n.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=n.appCheckToken),r}function YX(t,e,r,n){const i=t._url(e);return KX(t,i,r,n)}async function KX(t,e,r,n){r=kv(r);const i={data:r},a=await UD(t,n),l=n.timeout||7e4,c=qX(l),d=await Promise.race([GX(e,i,a,t.fetchImpl,t),c.promise,t.cancelAllRequests]);if(c.cancel(),!d)throw new uo("cancelled","Firebase Functions instance was deleted.");const h=Iv(d.status,d.json);if(h)throw h;if(!d.json)throw new uo("internal","Response is not valid JSON object.");let f=d.json.data;if(typeof f>"u"&&(f=d.json.result),typeof f>"u")throw new uo("internal","Response is missing data field.");return{data:up(f)}}function XX(t,e,r,n){const i=t._url(e);return ZX(t,i,r,n||{})}async function ZX(t,e,r,n){r=kv(r);const i={data:r},a=await UD(t,n);a["Content-Type"]="application/json",a.Accept="text/event-stream";let l;try{l=await t.fetchImpl(e,{method:"POST",body:JSON.stringify(i),headers:a,signal:n?.signal,credentials:FD(t)})}catch(x){if(x instanceof Error&&x.name==="AbortError"){const w=new uo("cancelled","Request was cancelled.");return{data:Promise.reject(w),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(w)}}}}}}const g=Iv(0,null);return{data:Promise.reject(g),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(g)}}}}}}let c,d;const h=new Promise((x,g)=>{c=x,d=g});n?.signal?.addEventListener("abort",()=>{const x=new uo("cancelled","Request was cancelled.");d(x)});const f=l.body.getReader(),p=QX(f,c,d,n?.signal);return{stream:{[Symbol.asyncIterator](){const x=p.getReader();return{async next(){const{value:g,done:w}=await x.read();return{value:g,done:w}},async return(){return await x.cancel(),{done:!0,value:void 0}}}}},data:h}}function QX(t,e,r,n){const i=(l,c)=>{const d=l.match(VX);if(!d)return;const h=d[1];try{const f=JSON.parse(h);if("result"in f){e(up(f.result));return}if("message"in f){c.enqueue(up(f.message));return}if("error"in f){const p=Iv(0,f);c.error(p),r(p);return}}catch(f){if(f instanceof uo){c.error(f),r(f);return}}},a=new TextDecoder;return new ReadableStream({start(l){let c="";return d();async function d(){if(n?.aborted){const h=new uo("cancelled","Request was cancelled");return l.error(h),r(h),Promise.resolve()}try{const{value:h,done:f}=await t.read();if(f){c.trim()&&i(c.trim(),l),l.close();return}if(n?.aborted){const x=new uo("cancelled","Request was cancelled");l.error(x),r(x),await t.cancel();return}c+=a.decode(h,{stream:!0});const p=c.split(`
`);c=p.pop()||"";for(const x of p)x.trim()&&i(x.trim(),l);return d()}catch(h){const f=h instanceof uo?h:Iv(0,null);l.error(f),r(f)}}},cancel(){return t.cancel()}})}const bT="@firebase/functions",wT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX="auth-internal",eZ="app-check-internal",tZ="messaging-internal";function rZ(t){const e=(r,{instanceIdentifier:n})=>{const i=r.getProvider("app").getImmediate(),a=r.getProvider(JX),l=r.getProvider(tZ),c=r.getProvider(eZ);return new $X(i,a,l,c,n)};_l(new qo(yS,e,"PUBLIC").setMultipleInstances(!0)),ms(bT,wT,t),ms(bT,wT,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t=U0(),e=tN){const n=ld(Fr(t),yS).getImmediate({identifier:e}),i=pj("functions");return i&&nZ(n,...i),n}function nZ(t,e,r){HX(Fr(t),e,r)}function wr(t,e,r){return WX(Fr(t),e)}rZ();var iZ="firebase",aZ="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(iZ,aZ,"app");const BD="@firebase/installations",xS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=1e4,qD=`w:${xS}`,$D="FIS_v2",sZ="https://firebaseinstallations.googleapis.com/v1",oZ=3600*1e3,lZ="installations",cZ="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jf=new Df(lZ,cZ,uZ);function HD(t){return t instanceof Ho&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD({projectId:t}){return`${sZ}/projects/${t}/installations`}function GD(t){return{token:t.token,requestStatus:2,expiresIn:hZ(t.expiresIn),creationTime:Date.now()}}async function YD(t,e){const n=(await e.json()).error;return jf.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function KD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dZ(t,{refreshToken:e}){const r=KD(t);return r.append("Authorization",fZ(e)),r}async function XD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function hZ(t){return Number(t.replace("s","000"))}function fZ(t){return`${$D} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mZ({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=WD(t),i=KD(t),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const l={fid:r,authVersion:$D,appId:t.appId,sdkVersion:qD},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await XD(()=>fetch(n,c));if(d.ok){const h=await d.json();return{fid:h.fid||r,registrationStatus:2,refreshToken:h.refreshToken,authToken:GD(h.authToken)}}else throw await YD("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gZ=/^[cdef][\w-]{21}$/,rN="";function yZ(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=xZ(t);return gZ.test(r)?r:rN}catch{return rN}}function xZ(t){return pZ(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Map;function JD(t,e){const r=eb(t);eL(r,e),vZ(r,e)}function eL(t,e){const r=QD.get(t);if(r)for(const n of r)n(e)}function vZ(t,e){const r=bZ();r&&r.postMessage({key:t,fid:e}),wZ()}let nf=null;function bZ(){return!nf&&"BroadcastChannel"in self&&(nf=new BroadcastChannel("[Firebase] FID Change"),nf.onmessage=t=>{eL(t.data.key,t.data.fid)}),nf}function wZ(){QD.size===0&&nf&&(nf.close(),nf=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Z="firebase-installations-database",NZ=1,Sf="firebase-installations-store";let yw=null;function vS(){return yw||(yw=mR(_Z,NZ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Sf)}}})),yw}async function Pv(t,e){const r=eb(t),i=(await vS()).transaction(Sf,"readwrite"),a=i.objectStore(Sf),l=await a.get(r);return await a.put(e,r),await i.done,(!l||l.fid!==e.fid)&&JD(t,e.fid),e}async function tL(t){const e=eb(t),n=(await vS()).transaction(Sf,"readwrite");await n.objectStore(Sf).delete(e),await n.done}async function tb(t,e){const r=eb(t),i=(await vS()).transaction(Sf,"readwrite"),a=i.objectStore(Sf),l=await a.get(r),c=e(l);return c===void 0?await a.delete(r):await a.put(c,r),await i.done,c&&(!l||l.fid!==c.fid)&&JD(t,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bS(t){let e;const r=await tb(t.appConfig,n=>{const i=jZ(n),a=SZ(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===rN?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function jZ(t){const e=t||{fid:yZ(),registrationStatus:0};return rL(e)}function SZ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(jf.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=AZ(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:EZ(t)}:{installationEntry:e}}async function AZ(t,e){try{const r=await mZ(t,e);return Pv(t.appConfig,r)}catch(r){throw HD(r)&&r.customData.serverCode===409?await tL(t.appConfig):await Pv(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function EZ(t){let e=await _T(t.appConfig);for(;e.registrationStatus===1;)await ZD(100),e=await _T(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await bS(t);return n||r}return e}function _T(t){return tb(t,e=>{if(!e)throw jf.create("installation-not-found");return rL(e)})}function rL(t){return TZ(t)?{fid:t.fid,registrationStatus:0}:t}function TZ(t){return t.registrationStatus===1&&t.registrationTime+VD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CZ({appConfig:t,heartbeatServiceProvider:e},r){const n=kZ(t,r),i=dZ(t,r),a=e.getImmediate({optional:!0});if(a){const h=await a.getHeartbeatsHeader();h&&i.append("x-firebase-client",h)}const l={installation:{sdkVersion:qD,appId:t.appId}},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await XD(()=>fetch(n,c));if(d.ok){const h=await d.json();return GD(h)}else throw await YD("Generate Auth Token",d)}function kZ(t,{fid:e}){return`${WD(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wS(t,e=!1){let r;const n=await tb(t.appConfig,a=>{if(!nL(a))throw jf.create("not-registered");const l=a.authToken;if(!e&&RZ(l))return a;if(l.requestStatus===1)return r=IZ(t,e),a;{if(!navigator.onLine)throw jf.create("app-offline");const c=DZ(a);return r=PZ(t,c),c}});return r?await r:n.authToken}async function IZ(t,e){let r=await NT(t.appConfig);for(;r.authToken.requestStatus===1;)await ZD(100),r=await NT(t.appConfig);const n=r.authToken;return n.requestStatus===0?wS(t,e):n}function NT(t){return tb(t,e=>{if(!nL(e))throw jf.create("not-registered");const r=e.authToken;return LZ(r)?{...e,authToken:{requestStatus:0}}:e})}async function PZ(t,e){try{const r=await CZ(t,e),n={...e,authToken:r};return await Pv(t.appConfig,n),r}catch(r){if(HD(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await tL(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await Pv(t.appConfig,n)}throw r}}function nL(t){return t!==void 0&&t.registrationStatus===2}function RZ(t){return t.requestStatus===2&&!OZ(t)}function OZ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+oZ}function DZ(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function LZ(t){return t.requestStatus===1&&t.requestTime+VD<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MZ(t){const e=t,{installationEntry:r,registrationPromise:n}=await bS(e);return n?n.catch(console.error):wS(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(t,e=!1){const r=t;return await FZ(r),(await wS(r,e)).token}async function FZ(t){const{registrationPromise:e}=await bS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UZ(t){if(!t||!t.options)throw xw("App Configuration");if(!t.name)throw xw("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw xw(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xw(t){return jf.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL="installations",BZ="installations-internal",VZ=t=>{const e=t.getProvider("app").getImmediate(),r=UZ(e),n=ld(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},qZ=t=>{const e=t.getProvider("app").getImmediate(),r=ld(e,iL).getImmediate();return{getId:()=>MZ(r),getToken:i=>zZ(r,i)}};function $Z(){_l(new qo(iL,VZ,"PUBLIC")),_l(new qo(BZ,qZ,"PRIVATE"))}$Z();ms(BD,xS);ms(BD,xS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="analytics",HZ="firebase_id",WZ="origin",GZ=60*1e3,YZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_S="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new k1("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Bo=new Df("analytics","Analytics",KZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XZ(t){if(!t.startsWith(_S)){const e=Bo.create("invalid-gtag-resource",{gtagURL:t});return Ms.warn(e.message),""}return t}function aL(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function ZZ(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function QZ(t,e){const r=ZZ("firebase-js-sdk-policy",{createScriptURL:XZ}),n=document.createElement("script"),i=`${_S}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function JZ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function eQ(t,e,r,n,i,a){const l=n[i];try{if(l)await e[l];else{const d=(await aL(r)).find(h=>h.measurementId===i);d&&await e[d.appId]}}catch(c){Ms.error(c)}t("config",i,a)}async function tQ(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let l=i.send_to;Array.isArray(l)||(l=[l]);const c=await aL(r);for(const d of l){const h=c.find(p=>p.measurementId===d),f=h&&e[h.appId];if(f)a.push(f);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){Ms.error(a)}}function rQ(t,e,r,n){async function i(a,...l){try{if(a==="event"){const[c,d]=l;await tQ(t,e,r,c,d)}else if(a==="config"){const[c,d]=l;await eQ(t,e,r,n,c,d)}else if(a==="consent"){const[c,d]=l;t("consent",c,d)}else if(a==="get"){const[c,d,h]=l;t("get",c,d,h)}else if(a==="set"){const[c]=l;t("set",c)}else t(a,...l)}catch(c){Ms.error(c)}}return i}function nQ(t,e,r,n,i){let a=function(...l){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=rQ(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function iQ(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(_S)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQ=30,sQ=1e3;class oQ{constructor(e={},r=sQ){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sL=new oQ;function lQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function cQ(t){const{appId:e,apiKey:r}=t,n={method:"GET",headers:lQ(r)},i=YZ.replace("{app-id}",e),a=await fetch(i,n);if(a.status!==200&&a.status!==304){let l="";try{const c=await a.json();c.error?.message&&(l=c.error.message)}catch{}throw Bo.create("config-fetch-failed",{httpStatus:a.status,responseMessage:l})}return a.json()}async function uQ(t,e=sL,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw Bo.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Bo.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new fQ;return setTimeout(async()=>{c.abort()},GZ),oL({appId:n,apiKey:i,measurementId:a},l,c,e)}async function oL(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=sL){const{appId:a,measurementId:l}=t;try{await dQ(n,e)}catch(c){if(l)return Ms.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:l};throw c}try{const c=await cQ(t);return i.deleteThrottleMetadata(a),c}catch(c){const d=c;if(!hQ(d)){if(i.deleteThrottleMetadata(a),l)return Ms.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:a,measurementId:l};throw c}const h=Number(d?.customData?.httpStatus)===503?B6(r,i.intervalMillis,aQ):B6(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return i.setThrottleMetadata(a,f),Ms.debug(`Calling attemptFetch again in ${h} millis`),oL(t,f,n,i)}}function dQ(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(Bo.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function hQ(t){if(!(t instanceof Ho)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class fQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mQ(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,l={...n,send_to:a};t("event",r,l)}}async function pQ(t,e,r,n){if(n&&n.global){const i={};for(const a of Object.keys(r))i[`user_properties.${a}`]=r[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gQ(){if(uR())try{await dR()}catch(t){return Ms.warn(Bo.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return Ms.warn(Bo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function yQ(t,e,r,n,i,a,l){const c=uQ(t);c.then(x=>{r[x.measurementId]=x.appId,t.options.measurementId&&x.measurementId!==t.options.measurementId&&Ms.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>Ms.error(x)),e.push(c);const d=gQ().then(x=>{if(x)return n.getId()}),[h,f]=await Promise.all([c,d]);iQ(a)||QZ(a,h.measurementId),i("js",new Date);const p=l?.config??{};return p[WZ]="firebase",p.update=!0,f!=null&&(p[HZ]=f),i("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e){this.app=e}_delete(){return delete Ym[this.app.options.appId],Promise.resolve()}}let Ym={},jT=[];const ST={};let vw="dataLayer",vQ="gtag",AT,NS,ET=!1;function bQ(){const t=[];if(cR()&&t.push("This is a browser extension environment."),bq()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Bo.create("invalid-analytics-context",{errorInfo:e});Ms.warn(r.message)}}function wQ(t,e,r){bQ();const n=t.options.appId;if(!n)throw Bo.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ms.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Bo.create("no-api-key");if(Ym[n]!=null)throw Bo.create("already-exists",{id:n});if(!ET){JZ(vw);const{wrappedGtag:a,gtagCore:l}=nQ(Ym,jT,ST,vw,vQ);NS=a,AT=l,ET=!0}return Ym[n]=yQ(t,jT,ST,e,AT,vw,r),new xQ(t)}function _Q(t=U0()){t=Fr(t);const e=ld(t,Rv);return e.isInitialized()?e.getImmediate():NQ(t)}function NQ(t,e={}){const r=ld(t,Rv);if(r.isInitialized()){const i=r.getImmediate();if(dh(e,r.getOptions()))return i;throw Bo.create("already-initialized")}return r.initialize({options:e})}function jQ(t,e,r){t=Fr(t),pQ(NS,Ym[t.app.options.appId],e,r).catch(n=>Ms.error(n))}function SQ(t,e,r,n){t=Fr(t),mQ(NS,Ym[t.app.options.appId],e,r,n).catch(i=>Ms.error(i))}const TT="@firebase/analytics",CT="0.10.19";function AQ(){_l(new qo(Rv,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return wQ(n,i,r)},"PUBLIC")),_l(new qo("analytics-internal",t,"PRIVATE")),ms(TT,CT),ms(TT,CT,"esm2020");function t(e){try{const r=e.getProvider(Rv).getImmediate();return{logEvent:(n,i,a)=>SQ(r,n,i,a),setUserProperties:(n,i)=>jQ(r,n,i)}}catch(r){throw Bo.create("interop-component-reg-failed",{reason:r})}}}AQ();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL="firebasestorage.googleapis.com",cL="storageBucket",EQ=120*1e3,TQ=600*1e3,CQ=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ho{constructor(e,r,n=0){super(bw(e),`Firebase Storage: ${r} (${bw(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ii.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Dn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Dn||(Dn={}));function bw(t){return"storage/"+t}function jS(){const t="An unknown error occurred, please check the error payload for server response.";return new ii(Dn.UNKNOWN,t)}function kQ(t){return new ii(Dn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function IQ(t){return new ii(Dn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ii(Dn.UNAUTHENTICATED,t)}function RQ(){return new ii(Dn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OQ(t){return new ii(Dn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uL(){return new ii(Dn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dL(){return new ii(Dn.CANCELED,"User canceled the upload/download.")}function DQ(t){return new ii(Dn.INVALID_URL,"Invalid URL '"+t+"'.")}function LQ(t){return new ii(Dn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function MQ(){return new ii(Dn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+cL+"' property when initializing the app?")}function hL(){return new ii(Dn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function zQ(){return new ii(Dn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function FQ(){return new ii(Dn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function UQ(t){return new ii(Dn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nN(t){return new ii(Dn.INVALID_ARGUMENT,t)}function fL(){return new ii(Dn.APP_DELETED,"The Firebase app was deleted.")}function BQ(t){return new ii(Dn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function r0(t,e){return new ii(Dn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Tg(t){throw new ii(Dn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Fo.makeFromUrl(e,r)}catch{return new Fo(e,"")}if(n.path==="")return n;throw LQ(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+i+l,"i"),d={bucket:1,path:3};function h(z){z.path_=decodeURIComponent(z.path)}const f="v[A-Za-z0-9_]+",p=r.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",g=new RegExp(`^https?://${p}/${f}/b/${i}/o${x}`,"i"),w={bucket:1,path:3},v=r===lL?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",j=new RegExp(`^https?://${v}/${i}/${_}`,"i"),C=[{regex:c,indices:d,postModify:a},{regex:g,indices:w,postModify:h},{regex:j,indices:{bucket:1,path:2},postModify:h}];for(let z=0;z<C.length;z++){const P=C[z],X=P.regex.exec(e);if(X){const U=X[P.indices.bucket];let M=X[P.indices.path];M||(M=""),n=new Fo(U,M),P.postModify(n);break}}if(n==null)throw DQ(e);return n}}class VQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(t,e,r){let n=1,i=null,a=null,l=!1,c=0;function d(){return c===2}let h=!1;function f(..._){h||(h=!0,e.apply(null,_))}function p(_){i=setTimeout(()=>{i=null,t(g,d())},_)}function x(){a&&clearTimeout(a)}function g(_,...j){if(h){x();return}if(_){x(),f.call(null,_,...j);return}if(d()||l){x(),f.call(null,_,...j);return}n<64&&(n*=2);let C;c===1?(c=2,C=0):C=(n+Math.random())*1e3,p(C)}let w=!1;function v(_){w||(w=!0,x(),!h&&(i!==null?(_||(c=2),clearTimeout(i),p(0)):_||(c=1)))}return p(0),a=setTimeout(()=>{l=!0,v(!0)},r),v}function $Q(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(t){return t!==void 0}function WQ(t){return typeof t=="function"}function GQ(t){return typeof t=="object"&&!Array.isArray(t)}function rb(t){return typeof t=="string"||t instanceof String}function kT(t){return SS()&&t instanceof Blob}function SS(){return typeof Blob<"u"}function IT(t,e,r,n){if(n<e)throw nN(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw nN(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q0(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function mL(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var hf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hf||(hf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,r,n,i,a,l,c,d,h,f,p,x=!0,g=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=h,this.progressCallback_=f,this.connectionFactory_=p,this.retry=x,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,v)=>{this.resolve_=w,this.reject_=v,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new px(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const d=c.loaded,h=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,h)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===hf.NO_ERROR,d=a.getStatus();if(!c||pL(d,this.additionalRetryCodes_)&&this.retry){const f=a.getErrorCode()===hf.ABORT;n(!1,new px(!1,null,f));return}const h=this.successCodes_.indexOf(d)!==-1;n(!0,new px(h,a))})},r=(n,i)=>{const a=this.resolve_,l=this.reject_,c=i.connection;if(i.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());HQ(d)?a(d):a()}catch(d){l(d)}else if(c!==null){const d=jS();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(i.canceled){const d=this.appDelete_?fL():dL();l(d)}else{const d=uL();l(d)}};this.canceled_?r(!1,new px(!1,null,!0)):this.backoffId_=qQ(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$Q(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class px{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function KQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function XQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function JQ(t,e,r,n,i,a,l=!0,c=!1){const d=mL(t.urlParams),h=t.url+d,f=Object.assign({},t.headers);return ZQ(f,e),KQ(f,r),XQ(f,a),QQ(f,n),new YQ(h,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function tJ(...t){const e=eJ();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(SS())return new Blob(t);throw new ii(Dn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function rJ(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nJ(t){if(typeof atob>"u")throw UQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bc={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ww{constructor(e,r){this.data=e,this.contentType=r||null}}function iJ(t,e){switch(t){case Bc.RAW:return new ww(gL(e));case Bc.BASE64:case Bc.BASE64URL:return new ww(yL(t,e));case Bc.DATA_URL:return new ww(sJ(e),oJ(e))}throw jS()}function gL(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const a=n,l=t.charCodeAt(++r);n=65536|(a&1023)<<10|l&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function aJ(t){let e;try{e=decodeURIComponent(t)}catch{throw r0(Bc.DATA_URL,"Malformed data URL.")}return gL(e)}function yL(t,e){switch(t){case Bc.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw r0(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bc.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw r0(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=nJ(e)}catch(i){throw i.message.includes("polyfill")?i:r0(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}class xL{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw r0(Bc.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=lJ(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function sJ(t){const e=new xL(t);return e.base64?yL(Bc.BASE64,e.rest):aJ(e.rest)}function oJ(t){return new xL(t).contentType}function lJ(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,r){let n=0,i="";kT(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,r){if(kT(this.data_)){const n=this.data_,i=rJ(n,e,r);return i===null?null:new eh(i)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new eh(n,!0)}}static getBlob(...e){if(SS()){const r=e.map(n=>n instanceof eh?n.data_:n);return new eh(tJ.apply(null,r))}else{const r=e.map(l=>rb(l)?iJ(Bc.RAW,l).data:l.data_);let n=0;r.forEach(l=>{n+=l.byteLength});const i=new Uint8Array(n);let a=0;return r.forEach(l=>{for(let c=0;c<l.length;c++)i[a++]=l[c]}),new eh(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(t){let e;try{e=JSON.parse(t)}catch{return null}return GQ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cJ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uJ(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function bL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dJ(t,e){return e}class ks{constructor(e,r,n,i){this.server=e,this.local=r||e,this.writable=!!n,this.xform=i||dJ}}let gx=null;function hJ(t){return!rb(t)||t.length<2?t:bL(t)}function wL(){if(gx)return gx;const t=[];t.push(new ks("bucket")),t.push(new ks("generation")),t.push(new ks("metageneration")),t.push(new ks("name","fullPath",!0));function e(a,l){return hJ(l)}const r=new ks("name");r.xform=e,t.push(r);function n(a,l){return l!==void 0?Number(l):l}const i=new ks("size");return i.xform=n,t.push(i),t.push(new ks("timeCreated")),t.push(new ks("updated")),t.push(new ks("md5Hash",null,!0)),t.push(new ks("cacheControl",null,!0)),t.push(new ks("contentDisposition",null,!0)),t.push(new ks("contentEncoding",null,!0)),t.push(new ks("contentLanguage",null,!0)),t.push(new ks("contentType",null,!0)),t.push(new ks("metadata","customMetadata",!0)),gx=t,gx}function fJ(t,e){function r(){const n=t.bucket,i=t.fullPath,a=new Fo(n,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:r})}function mJ(t,e,r){const n={};n.type="file";const i=r.length;for(let a=0;a<i;a++){const l=r[a];n[l.local]=l.xform(n,e[l.server])}return fJ(n,t),n}function _L(t,e,r){const n=vL(e);return n===null?null:mJ(t,n,r)}function pJ(t,e,r,n){const i=vL(e);if(i===null||!rb(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(h=>{const f=t.bucket,p=t.fullPath,x="/b/"+l(f)+"/o/"+l(p),g=Q0(x,r,n),w=mL({alt:"media",token:h});return g+w})[0]}function NL(t,e){const r={},n=e.length;for(let i=0;i<n;i++){const a=e[i];a.writable&&(r[a.server]=t[a.local])}return JSON.stringify(r)}class kp{constructor(e,r,n,i){this.url=e,this.method=r,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){if(!t)throw jS()}function AS(t,e){function r(n,i){const a=_L(t,i,e);return Hu(a!==null),a}return r}function gJ(t,e){function r(n,i){const a=_L(t,i,e);return Hu(a!==null),pJ(a,i,t.host,t._protocol)}return r}function J0(t){function e(r,n){let i;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?i=RQ():i=PQ():r.getStatus()===402?i=IQ(t.bucket):r.getStatus()===403?i=OQ(t.path):i=n,i.status=r.getStatus(),i.serverResponse=n.serverResponse,i}return e}function jL(t){const e=J0(t);function r(n,i){let a=e(n,i);return n.getStatus()===404&&(a=kQ(t.path)),a.serverResponse=i.serverResponse,a}return r}function yJ(t,e,r){const n=e.fullServerUrl(),i=Q0(n,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new kp(i,a,AS(t,r),l);return c.errorHandler=jL(e),c}function xJ(t,e,r){const n=e.fullServerUrl(),i=Q0(n,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new kp(i,a,gJ(t,r),l);return c.errorHandler=jL(e),c}function vJ(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function SL(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=vJ(null,e)),n}function bJ(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let C="";for(let z=0;z<2;z++)C=C+Math.random().toString().slice(2);return C}const d=c();l["Content-Type"]="multipart/related; boundary="+d;const h=SL(e,n,i),f=NL(h,r),p="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+d+`\r
Content-Type: `+h.contentType+`\r
\r
`,x=`\r
--`+d+"--",g=eh.getBlob(p,n,x);if(g===null)throw hL();const w={name:h.fullPath},v=Q0(a,t.host,t._protocol),_="POST",j=t.maxUploadRetryTime,E=new kp(v,_,AS(t,r),j);return E.urlParams=w,E.headers=l,E.body=g.uploadData(),E.errorHandler=J0(e),E}class Ov{constructor(e,r,n,i){this.current=e,this.total=r,this.finalized=!!n,this.metadata=i||null}}function ES(t,e){let r=null;try{r=t.getResponseHeader("X-Goog-Upload-Status")}catch{Hu(!1)}return Hu(!!r&&(e||["active"]).indexOf(r)!==-1),r}function wJ(t,e,r,n,i){const a=e.bucketOnlyServerUrl(),l=SL(e,n,i),c={name:l.fullPath},d=Q0(a,t.host,t._protocol),h="POST",f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.size()}`,"X-Goog-Upload-Header-Content-Type":l.contentType,"Content-Type":"application/json; charset=utf-8"},p=NL(l,r),x=t.maxUploadRetryTime;function g(v){ES(v);let _;try{_=v.getResponseHeader("X-Goog-Upload-URL")}catch{Hu(!1)}return Hu(rb(_)),_}const w=new kp(d,h,g,x);return w.urlParams=c,w.headers=f,w.body=p,w.errorHandler=J0(e),w}function _J(t,e,r,n){const i={"X-Goog-Upload-Command":"query"};function a(h){const f=ES(h,["active","final"]);let p=null;try{p=h.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Hu(!1)}p||Hu(!1);const x=Number(p);return Hu(!isNaN(x)),new Ov(x,n.size(),f==="final")}const l="POST",c=t.maxUploadRetryTime,d=new kp(r,l,a,c);return d.headers=i,d.errorHandler=J0(e),d}const PT=256*1024;function NJ(t,e,r,n,i,a,l,c){const d=new Ov(0,0);if(l?(d.current=l.current,d.total=l.total):(d.current=0,d.total=n.size()),n.size()!==d.total)throw zQ();const h=d.total-d.current;let f=h;i>0&&(f=Math.min(f,i));const p=d.current,x=p+f;let g="";f===0?g="finalize":h===f?g="upload, finalize":g="upload";const w={"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":`${d.current}`},v=n.slice(p,x);if(v===null)throw hL();function _(z,P){const X=ES(z,["active","final"]),U=d.current+f,M=n.size();let D;return X==="final"?D=AS(e,a)(z,P):D=null,new Ov(U,M,X==="final",D)}const j="POST",E=e.maxUploadRetryTime,C=new kp(r,j,_,E);return C.headers=w,C.body=v.uploadData(),C.progressCallback=c||null,C.errorHandler=J0(t),C}const lo={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _w(t){switch(t){case"running":case"pausing":case"canceling":return lo.RUNNING;case"paused":return lo.PAUSED;case"success":return lo.SUCCESS;case"canceled":return lo.CANCELED;case"error":return lo.ERROR;default:return lo.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e,r,n){if(WQ(e)||r!=null||n!=null)this.next=e,this.error=r??void 0,this.complete=n??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class SJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hf.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hf.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hf.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,i,a){if(this.sent_)throw Tg("cannot .send() more than once");if(nu(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(r,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tg("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tg("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Tg("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tg("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AJ extends SJ{initXhr(){this.xhr_.responseType="text"}}function Mm(){return new AJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,r,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=r,this._metadata=n,this._mappings=wL(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Dn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(pL(i.status,[]))if(a)i=uL();else{this.sleepTime=Math.max(this.sleepTime*2,CQ),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Dn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return r=>this._updateProgress(e+r)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([r,n])=>{switch(this._state){case"running":e(r,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,r)=>{const n=wJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Mm,e,r);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((r,n)=>{const i=_J(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,Mm,r,n);this._request=a,a.getPromise().then(l=>{l=l,this._request=void 0,this._updateProgress(l.current),this._needToFetchStatus=!1,l.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=PT*this._chunkMultiplier,r=new Ov(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((i,a)=>{let l;try{l=NJ(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,r,this._makeProgressCallback())}catch(d){this._error=d,this._transition("error");return}const c=this._ref.storage._makeRequest(l,Mm,i,a,!1);this._request=c,c.getPromise().then(d=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(d.current),d.finalized?(this._metadata=d.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){PT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,r)=>{const n=yJ(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(n,Mm,e,r);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,r)=>{const n=bJ(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(n,Mm,e,r);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const r=this._transferred;this._transferred=e,this._transferred!==r&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const r=this._state==="paused";this._state=e,r&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=dL(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=_w(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,r,n,i){const a=new jJ(r||void 0,n||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,r){return this._promise.then(e,r)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const r=this._observers.indexOf(e);r!==-1&&this._observers.splice(r,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(r=>{this._notifyObserver(r)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(_w(this._state)){case lo.SUCCESS:Tm(this._resolve.bind(null,this.snapshot))();break;case lo.CANCELED:case lo.ERROR:const r=this._reject;Tm(r.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(_w(this._state)){case lo.RUNNING:case lo.PAUSED:e.next&&Tm(e.next.bind(e,this.snapshot))();break;case lo.SUCCESS:e.complete&&Tm(e.complete.bind(e))();break;case lo.CANCELED:case lo.ERROR:e.error&&Tm(e.error.bind(e,this._error))();break;default:e.error&&Tm(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,r){this._service=e,r instanceof Fo?this._location=r:this._location=Fo.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Af(e,r)}get root(){const e=new Fo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bL(this._location.path)}get storage(){return this._service}get parent(){const e=cJ(this._location.path);if(e===null)return null;const r=new Fo(this._location.bucket,e);return new Af(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw BQ(e)}}function TJ(t,e,r){return t._throwIfRoot("uploadBytesResumable"),new EJ(t,new eh(e),r)}function CJ(t){t._throwIfRoot("getDownloadURL");const e=xJ(t.storage,t._location,wL());return t.storage.makeRequestWithTokens(e,Mm).then(r=>{if(r===null)throw FQ();return r})}function kJ(t,e){const r=uJ(t._location.path,e),n=new Fo(t._location.bucket,r);return new Af(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(t){return/^[A-Za-z]+:\/\//.test(t)}function PJ(t,e){return new Af(t,e)}function AL(t,e){if(t instanceof TS){const r=t;if(r._bucket==null)throw MQ();const n=new Af(r,r._bucket);return e!=null?AL(n,e):n}else return e!==void 0?kJ(t,e):t}function RJ(t,e){if(e&&IJ(e)){if(t instanceof TS)return PJ(t,e);throw nN("To use ref(service, url), the first argument must be a Storage instance.")}else return AL(t,e)}function RT(t,e){const r=e?.[cL];return r==null?null:Fo.makeFromBucketSpec(r,t)}function OJ(t,e,r,n={}){t.host=`${e}:${r}`;const i=nu(e);i&&(T1(`https://${t.host}/b`),C1("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(t._overrideAuthToken=typeof a=="string"?a:lR(a,t.app.options.projectId))}class TS{constructor(e,r,n,i,a,l=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=l,this._bucket=null,this._host=lL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EQ,this._maxUploadRetryTime=TQ,this._requests=new Set,i!=null?this._bucket=Fo.makeFromBucketSpec(i,this._host):this._bucket=RT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fo.makeFromBucketSpec(this._url,e):this._bucket=RT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(hs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Af(this,e)}_makeRequest(e,r,n,i,a=!0){if(this._deleted)return new VQ(fL());{const l=JQ(e,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const OT="@firebase/storage",DT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="storage";function DJ(t,e,r){return t=Fr(t),TJ(t,e,r)}function LJ(t){return t=Fr(t),CJ(t)}function MJ(t,e){return t=Fr(t),RJ(t,e)}function zJ(t=U0(),e){t=Fr(t);const n=ld(t,EL).getImmediate({identifier:e}),i=pj("storage");return i&&FJ(n,...i),n}function FJ(t,e,r,n={}){OJ(t,e,r,n)}function UJ(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new TS(r,n,i,e,Lf)}function BJ(){_l(new qo(EL,UJ,"PUBLIC").setMultipleInstances(!0)),ms(OT,DT,""),ms(OT,DT,"esm2020")}BJ();const VJ={apiKey:"AIzaSyCSMYG08Nf7TUtV5HfGEHIM-9yPz5nioC0",authDomain:"cvsift-3dff8.firebaseapp.com",projectId:"cvsift-3dff8",storageBucket:"cvsift-3dff8.firebasestorage.app",messagingSenderId:"796887835619",appId:"1:796887835619:web:db0557cb12ec69b637f6d6",measurementId:"G-LY1RPH3S11"},ey=pR(VJ);let qJ=null;try{qJ=_Q(ey)}catch(t){console.warn("Analytics not available:",t.message)}const Zi=jG(ey),Jr=wX(ey),$J=zJ(ey),ff=An(ey,"us-central1"),TL=V.createContext();function gi(){const t=V.useContext(TL);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function HJ({children:t}){const[e,r]=V.useState(null),[n,i]=V.useState(!0),[a,l]=V.useState(null);async function c(v,_,j){try{l(null);const E=await YH(Zi,v,_);return await qR(E.user,{displayName:j}),await Hg(Ji(Jr,"users",E.user.uid),{uid:E.user.uid,email:E.user.email,displayName:j,role:"user",plan:"free",cvUploadsThisMonth:0,cvUploadLimit:10,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()}),E.user}catch(E){throw l(E.message),E}}async function d(v,_){try{l(null);const j=await KH(Zi,v,_);await Hg(Ji(Jr,"users",j.user.uid),{lastLogin:new Date().toISOString()},{merge:!0});try{const E=An(),z=await wr(E,"initializeMasterAccount")();console.log("Master account check:",z.data);const P=await x(j.user.uid);P&&r({...j.user,userData:P})}catch(E){console.log("Master account check failed:",E.message)}return j.user}catch(j){throw j.code!=="auth/multi-factor-auth-required"&&l(j.message),j}}async function h(){try{l(null);const v=new Du,_=await PW(Zi,v);(await Nf(Ji(Jr,"users",_.user.uid))).exists()?await Hg(Ji(Jr,"users",_.user.uid),{lastLogin:new Date().toISOString()},{merge:!0}):await Hg(Ji(Jr,"users",_.user.uid),{uid:_.user.uid,email:_.user.email,displayName:_.user.displayName,photoURL:_.user.photoURL,role:"user",plan:"free",cvUploadsThisMonth:0,cvUploadLimit:10,createdAt:new Date().toISOString(),lastLogin:new Date().toISOString()});try{const E=An(),z=await wr(E,"initializeMasterAccount")();console.log("Master account check:",z.data);const P=await x(_.user.uid);P&&r({..._.user,userData:P})}catch(E){console.log("Master account check failed:",E.message)}return _.user}catch(v){throw v.code!=="auth/multi-factor-auth-required"&&l(v.message),v}}async function f(){try{l(null),await rW(Zi)}catch(v){throw l(v.message),v}}async function p(v){try{l(null),await GH(Zi,v)}catch(_){throw l(_.message),_}}async function x(v){try{const _=await Nf(Ji(Jr,"users",v));if(_.exists()){const j=_.data();try{const E=An(),z=await wr(E,"checkTeamAccess")();j.teamAccess={isTeamOwner:z.data.isTeamOwner||!1,isTeamMember:z.data.isTeamMember||!1,teamOwnerId:z.data.teamOwnerId||null,role:z.data.role||null},z.data.isTeamMember&&z.data.ownerPlan&&(j.plan=z.data.ownerPlan,console.log("Team member inheriting owner plan:",z.data.ownerPlan))}catch(E){console.log("Team access check failed:",E.message),j.teamAccess={isTeamOwner:!1,isTeamMember:!1,teamOwnerId:null,role:null}}return j}return null}catch(_){return console.error("Error getting user data:",_),null}}async function g(){if(e){const v=await x(e.uid);r({...e,userData:v})}}V.useEffect(()=>tW(Zi,async _=>{if(_){const j=await x(_.uid);r({..._,userData:j})}else r(null);i(!1)}),[]);const w={currentUser:e,userData:e?.userData,signup:c,signin:d,signInWithGoogle:h,logout:f,resetPassword:p,getUserData:x,refreshUserData:g,error:a,setError:l};return s.jsx(TL.Provider,{value:w,children:!n&&t})}/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GJ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),LT=t=>{const e=GJ(t);return e.charAt(0).toUpperCase()+e.slice(1)},CL=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),YJ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=V.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:l,...c},d)=>V.createElement("svg",{ref:d,...KJ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:CL("lucide",i),...!a&&!YJ(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,f])=>V.createElement(h,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(t,e)=>{const r=V.forwardRef(({className:n,...i},a)=>V.createElement(XJ,{ref:a,iconNode:e,className:CL(`lucide-${WJ(LT(t))}`,`lucide-${t}`,n),...i}));return r.displayName=LT(t),r};/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ql=jt("activity",ZJ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],JJ=jt("archive",QJ);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],po=jt("arrow-left",eee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ree=jt("arrow-right",tee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],xh=jt("award",nee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iee=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Nw=jt("bot",iee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Jl=jt("briefcase",aee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const see=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Uf=jt("calendar",see);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],MT=jt("camera",oee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nh=jt("chart-column",lee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],uee=jt("chart-pie",cee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pt=jt("check",dee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nc=jt("chevron-down",hee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kL=jt("chevron-right",fee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ih=jt("chevron-up",mee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],en=jt("circle-alert",pee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cn=jt("circle-check",gee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ps=jt("circle-check-big",yee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Dv=jt("circle-x",xee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nb=jt("clock",vee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],wee=jt("code",bee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Nee=jt("credit-card",_ee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],zT=jt("crown",jee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const See=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Aee=jt("dollar-sign",See);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eee=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ef=jt("download",Eee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Cee=jt("external-link",Tee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Iee=jt("eye-off",kee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],CS=jt("eye",Pee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ree=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]],Oee=jt("file-chart-column-increasing",Ree);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],Lee=jt("file-search",Dee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fs=jt("file-text",Mee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Fee=jt("folder",zee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],af=jt("funnel",Uee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],kS=jt("graduation-cap",Bee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],qee=jt("hash",Vee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],IS=jt("info",$ee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Wu=jt("list",Hee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ha=jt("loader-circle",Wee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Yee=jt("log-out",Gee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_0=jt("lock",Kee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ac=jt("mail",Xee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ib=jt("map-pin",Zee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Jee=jt("menu",Qee);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],IL=jt("message-circle",ete);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],FT=jt("message-square",tte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Lv=jt("package",rte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],UT=jt("pen-line",nte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],PS=jt("pen",ite);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ste=jt("phone",ate);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],mf=jt("plus",ote);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],BT=jt("power",lte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],N0=jt("refresh-cw",cte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],n0=jt("save",ute);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],PL=jt("search",dte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],RL=jt("send",hte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OL=jt("settings",fte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zl=jt("shield",mte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]],VT=jt("sliders-horizontal",pte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],i0=jt("smartphone",gte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],$a=jt("sparkles",yte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vte=jt("square-check-big",xte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qT=jt("star",bte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],DL=jt("target",wte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Os=jt("trash-2",_te);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],jte=jt("trending-down",Nte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dp=jt("trending-up",Ste);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mv=jt("triangle-alert",Ate);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],LL=jt("type",Ete);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rs=jt("upload",Tte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],zv=jt("user-plus",Cte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ds=jt("users",kte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ic=jt("user",Ite);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vt=jt("x",Pte);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ote=jt("zap",Rte),ML=V.createContext();function cd(){const t=V.useContext(ML);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function Dte({children:t}){const[e,r]=V.useState([]),n=V.useCallback((l,c="info",d=4e3)=>{const h=Math.random().toString(36).substring(7),f={id:h,message:l,type:c,duration:d};return r(p=>[...p,f]),d>0&&setTimeout(()=>{i(h)},d),h},[]),i=V.useCallback(l=>{r(c=>c.filter(d=>d.id!==l))},[]),a={success:(l,c)=>n(l,"success",c),error:(l,c)=>n(l,"error",c),info:(l,c)=>n(l,"info",c),warning:(l,c)=>n(l,"warning",c)};return s.jsxs(ML.Provider,{value:a,children:[t,s.jsx(Lte,{toasts:e,removeToast:i})]})}function Lte({toasts:t,removeToast:e}){return t.length===0?null:s.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-3 max-w-md",children:t.map(r=>s.jsx(Mte,{toast:r,onClose:()=>e(r.id)},r.id))})}function Mte({toast:t,onClose:e}){const n=(()=>{switch(t.type){case"success":return{icon:cn,bgGradient:"from-green-50 to-green-100",iconBg:"from-green-500 to-green-600",border:"border-green-200",textColor:"text-green-900"};case"error":return{icon:en,bgGradient:"from-red-50 to-red-100",iconBg:"from-red-500 to-red-600",border:"border-red-200",textColor:"text-red-900"};case"warning":return{icon:Mv,bgGradient:"from-orange-50 to-orange-100",iconBg:"from-orange-500 to-orange-600",border:"border-orange-200",textColor:"text-orange-900"};case"info":default:return{icon:IS,bgGradient:"from-blue-50 to-blue-100",iconBg:"from-blue-500 to-blue-600",border:"border-blue-200",textColor:"text-blue-900"}}})(),i=n.icon;return s.jsxs("div",{className:`bg-gradient-to-r ${n.bgGradient} border ${n.border} rounded-2xl shadow-2xl p-4 flex items-start gap-3 min-w-[320px] max-w-md animate-slideInRight`,children:[s.jsx("div",{className:`w-10 h-10 bg-gradient-to-br ${n.iconBg} rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg`,children:s.jsx(i,{className:"text-white",size:20})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:`${n.textColor} font-semibold text-sm leading-relaxed`,children:t.message})}),s.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 hover:bg-white/50 rounded-lg p-1.5 transition-all flex-shrink-0",children:s.jsx(Vt,{size:16})})]})}function zte(){const[t,e]=V.useState(!1),[r,n]=V.useState(null),[i,a]=V.useState(!1),[l,c]=V.useState([]),[d,h]=V.useState(!1),[f,p]=V.useState([]),[x,g]=V.useState(null),[w,v]=V.useState(!1),[_,j]=V.useState(!1),[E,C]=V.useState(!1),z=ni();V.useEffect(()=>{const re=()=>{e(window.scrollY>20)};return window.addEventListener("scroll",re),C(!0),()=>window.removeEventListener("scroll",re)},[]);const P=re=>{re.preventDefault(),a(!0)},X=re=>{re.preventDefault(),a(!1)},U=re=>{re.preventDefault(),a(!1);const Y=[{name:"CV_John_Doe.pdf",status:"uploading"},{name:"CV_Jane_Smith.docx",status:"uploading"},{name:"CV_Mike_Johnson.pdf",status:"uploading"}];c(Y),h(!0),Y.forEach((Q,se)=>{setTimeout(()=>{c(oe=>oe.map((pe,H)=>H===se?{...pe,status:"completed"}:pe)),se===Y.length-1&&setTimeout(()=>{h(!1),p([1])},1e3)},(se+1)*800)})},M=()=>{!d&&l.length===0&&U({preventDefault:()=>{}})};V.useEffect(()=>{if(f.includes(1)&&!f.includes(2)){const re=setTimeout(()=>{p([1,2])},2500);return()=>clearTimeout(re)}},[f]);const D=re=>{f.includes(2)&&!f.includes(3)&&(g(re),v(!0),setTimeout(()=>{p([1,2,3])},1e3))},G=()=>{c([]),h(!1),p([]),g(null),v(!1)},L=[{name:"Free",price:"R0",period:"forever",cvLimit:"10 CVs",description:"Perfect for small teams getting started",features:["Up to 10 CVs per month","Basic filtering (skills, location)","7-day data retention","Email support","Export to CSV"],cta:"Get Started Free",popular:!1,color:"gray"},{name:"Starter",price:"R199",period:"per month",cvLimit:"50 CVs",description:"For small teams with regular hiring",features:["Up to 50 CVs per month","Advanced filtering","30-day data retention","Bulk upload","Job spec creation","Email notifications"],cta:"Get Started",popular:!1,color:"blue"},{name:"Basic",price:"R399",period:"per month",cvLimit:"150 CVs",description:"For growing teams with regular hiring needs",features:["Up to 150 CVs per month","All filtering options","90-day data retention","Priority email support","Advanced export options","Bulk upload"],cta:"Get Started",popular:!0,color:"orange"},{name:"Professional",price:"R999",period:"per month",cvLimit:"600 CVs",description:"For scaling organizations",features:["Up to 600 CVs per month","AI Chatbot Assistant","API access","1-year data retention","Advanced analytics","Team collaboration (3 users)","Priority support"],cta:"Get Started",popular:!1,color:"purple"},{name:"Enterprise",price:"Custom",period:"tailored pricing",cvLimit:"Unlimited",description:"For large organizations with complex needs",features:["Unlimited CVs","Everything in Professional","Custom integrations","SSO & advanced security","White-label option","Custom SLA","Dedicated account manager","Unlimited users"],cta:"Contact Sales",popular:!1,color:"lime"}],I=[{icon:Rs,title:"Intelligent Upload",description:"Drag and drop hundreds of CVs at once. Supports PDF, Word, Pages, and text formats with automatic parsing."},{icon:$a,title:"AI-Powered Extraction",description:"Claude AI automatically extracts skills, experience, education, and contact details with 98% accuracy."},{icon:af,title:"Advanced Filtering",description:"Filter by skills, experience, location, education, salary expectations, and custom criteria instantly."},{icon:nh,title:"Smart Analytics",description:"Visualize candidate pools with interactive charts, skill distributions, and hiring insights."},{icon:Zl,title:"Enterprise Security",description:"Bank-level encryption, GDPR compliance, and SOC 2 certification to protect sensitive candidate data."},{icon:nb,title:"Save 20+ Hours/Week",description:"Automate the screening process and reduce time-to-hire by up to 70% with intelligent automation."}],B=[{value:"10,000+",label:"CVs Processed Daily"},{value:"500+",label:"Companies Trust Us"},{value:"70%",label:"Faster Hiring"},{value:"98%",label:"Accuracy Rate"}],k=[{quote:"CVSift reduced our time-to-hire from 6 weeks to just 2 weeks. The AI filtering is incredibly accurate."},{quote:"We processed 2,000 CVs in under an hour. This tool is a game-changer for high-volume recruitment."},{quote:"The analytics dashboard gives us insights we never had before. We can now make data-driven hiring decisions."},{quote:"The automated screening saved our team countless hours. We can now focus on interviewing the right candidates."},{quote:"Implementation was seamless and the ROI was evident within the first month. Highly recommend!"},{quote:"The skill extraction accuracy is phenomenal. It picks up technical skills we would have missed manually."},{quote:"We've increased our candidate quality significantly while reducing screening time by 80%."},{quote:"The best investment we've made in our recruitment process. The AI understands context remarkably well."},{quote:"Customer support is exceptional and the platform is incredibly intuitive to use."},{quote:"Finally, a tool that actually delivers on its promises. Our hiring pipeline has never been more efficient."},{quote:"The filtering capabilities are exactly what we needed for our high-volume recruitment campaigns."},{quote:"Game-changing technology. We've cut our cost-per-hire in half while improving candidate quality."}];return s.jsxs("div",{className:"min-h-screen bg-white text-gray-900 overflow-x-hidden",children:[s.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${t?"bg-white/95 backdrop-blur-lg shadow-sm":"bg-transparent"}`,children:[s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16 lg:h-20",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 cursor-pointer",onClick:()=>window.scrollTo(0,0),children:[s.jsx("div",{className:"w-9 h-9 lg:w-10 lg:h-10 bg-gradient-to-br from-orange-500 via-orange-600 to-orange-700 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-lg lg:text-xl",children:"CV"})}),s.jsx("span",{className:"text-xl lg:text-2xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Sift"})]}),s.jsxs("div",{className:"hidden sm:block text-xs text-gray-400",children:["by"," ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600 transition-colors",children:"Automore"})]})]}),s.jsxs("div",{className:"hidden lg:flex items-center space-x-8",children:[s.jsx("a",{href:"#features",className:"text-gray-600 hover:text-orange-600 transition-colors font-medium text-sm",children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"text-gray-600 hover:text-orange-600 transition-colors font-medium text-sm",children:"How It Works"}),s.jsx("a",{href:"#pricing",className:"text-gray-600 hover:text-orange-600 transition-colors font-medium text-sm",children:"Pricing"}),s.jsx("a",{href:"#testimonials",className:"text-gray-600 hover:text-orange-600 transition-colors font-medium text-sm",children:"Testimonials"})]}),s.jsxs("div",{className:"flex items-center space-x-3 lg:space-x-4",children:[s.jsx("button",{onClick:()=>z("/signin"),className:"hidden sm:block text-gray-700 hover:text-orange-600 font-medium transition-colors text-sm lg:text-base",children:"Sign In"}),s.jsx("button",{onClick:()=>z("/signup"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-4 lg:px-6 py-2 lg:py-2.5 rounded-lg font-medium transition-all hover:shadow-lg hover:shadow-orange-500/30 text-sm lg:text-base",children:"Get Started"}),s.jsx("button",{onClick:()=>j(!_),className:"lg:hidden p-2 text-gray-600 hover:text-orange-600",children:_?s.jsx(Vt,{size:24}):s.jsx(Jee,{size:24})})]})]})}),_&&s.jsx("div",{className:"lg:hidden bg-white border-t border-gray-100 shadow-lg",children:s.jsxs("div",{className:"px-4 py-4 space-y-3",children:[s.jsx("a",{href:"#features",className:"block text-gray-600 hover:text-orange-600 font-medium py-2",onClick:()=>j(!1),children:"Features"}),s.jsx("a",{href:"#how-it-works",className:"block text-gray-600 hover:text-orange-600 font-medium py-2",onClick:()=>j(!1),children:"How It Works"}),s.jsx("a",{href:"#pricing",className:"block text-gray-600 hover:text-orange-600 font-medium py-2",onClick:()=>j(!1),children:"Pricing"}),s.jsx("a",{href:"#testimonials",className:"block text-gray-600 hover:text-orange-600 font-medium py-2",onClick:()=>j(!1),children:"Testimonials"}),s.jsx("button",{onClick:()=>z("/signin"),className:"block w-full text-left text-gray-700 hover:text-orange-600 font-medium py-2",children:"Sign In"})]})})]}),s.jsx("section",{className:"pt-24 lg:pt-32 pb-16 lg:pb-24 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-orange-50/30 via-white to-white",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:`text-center max-w-4xl mx-auto transition-all duration-1000 ${E?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-orange-100 to-orange-50 text-orange-700 px-4 py-2 rounded-full mb-6 lg:mb-8 border border-orange-200/50",children:[s.jsx($a,{size:16,className:"animate-pulse"}),s.jsx("span",{className:"text-xs lg:text-sm font-semibold",children:"Powered by Claude AI"})]}),s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold mb-4 lg:mb-6 leading-tight",children:["Screen ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Thousands"})," of CVs",s.jsx("br",{className:"hidden sm:block"})," in"," ",s.jsxs("span",{className:"relative inline-block",children:[s.jsx("span",{className:"relative z-10",children:"Minutes"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 -rotate-1 rounded-xl opacity-20 blur-sm"})]})]}),s.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 mb-8 lg:mb-12 leading-relaxed px-4",children:"AI-powered CV screening that saves you 20+ hours per week. Upload, filter, and hire the best candidates faster."}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12 lg:mb-16",children:s.jsxs("button",{onClick:()=>z("/signup"),className:"w-full sm:w-auto bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white px-8 py-4 rounded-xl font-semibold text-base lg:text-lg transition-all hover:scale-105 flex items-center justify-center space-x-2 shadow-xl shadow-orange-500/30",children:[s.jsx("span",{children:"Get Started Free"}),s.jsx(kL,{size:20})]})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-8 mb-12 lg:mb-16",children:B.map((re,Y)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-1",children:re.value}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:re.label})]},Y))}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl lg:rounded-3xl p-4 lg:p-8 shadow-2xl border border-gray-200/50",children:s.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-inner",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-red-400 rounded-full"}),s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-yellow-400 rounded-full"}),s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-green-400 rounded-full"})]}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-400 font-medium",children:"CVSift Dashboard"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-gray-200 to-gray-100 rounded-full w-3/4 animate-pulse"}),s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-orange-200 to-orange-100 rounded-full w-1/2 animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-purple-200 to-purple-100 rounded-full w-2/3 animate-pulse",style:{animationDelay:"300ms"}}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 lg:gap-4 mt-6",children:[s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl shadow-sm"}),s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl shadow-sm"}),s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl shadow-sm"})]})]})]})}),s.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-orange-400 rounded-full blur-3xl opacity-40 animate-pulse"}),s.jsx("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 bg-purple-400 rounded-full blur-3xl opacity-40 animate-pulse",style:{animationDelay:"1s"}})]})]})})}),s.jsx("section",{id:"features",className:"py-16 lg:py-24 bg-gradient-to-b from-white to-gray-50",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-orange-100 text-orange-700 px-4 py-2 rounded-full mb-4",children:[s.jsx(qT,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"Powerful Features"})]}),s.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:["Everything You Need for"," ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Smarter Hiring"})]}),s.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:"Built for modern recruitment teams who want to move fast without compromising quality"})]}),s.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:I.map((re,Y)=>s.jsxs("div",{className:"group bg-white p-6 lg:p-8 rounded-2xl shadow-sm hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-gray-100 hover:border-orange-200",children:[s.jsx("div",{className:"w-12 h-12 lg:w-14 lg:h-14 bg-gradient-to-br from-orange-100 to-orange-50 rounded-xl flex items-center justify-center mb-4 lg:mb-6 group-hover:scale-110 transition-transform duration-300 shadow-sm",children:s.jsx(re.icon,{className:"text-orange-600",size:24})}),s.jsx("h3",{className:"text-lg lg:text-xl font-bold mb-2 lg:mb-3 text-gray-900",children:re.title}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed",children:re.description})]},Y))})]})}),s.jsx("section",{id:"how-it-works",className:"py-16 lg:py-24 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-purple-100 text-purple-700 px-4 py-2 rounded-full mb-4",children:[s.jsx(Ote,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"Interactive Demo"})]}),s.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:["See ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"CVSift"})," in Action"]}),s.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto mb-4",children:"Try our interactive demo - drag the folder to Step 1 to begin"}),f.length>0&&s.jsx("button",{onClick:G,className:"text-sm text-orange-600 hover:text-orange-700 font-semibold underline",children:"Reset Demo"})]}),l.length===0&&s.jsx("div",{className:"flex justify-center mb-8 lg:mb-12",children:s.jsxs("div",{draggable:"true",onDragStart:re=>re.dataTransfer.effectAllowed="move",className:"cursor-move bg-gradient-to-br from-orange-100 to-orange-200 p-6 lg:p-8 rounded-2xl border-2 border-orange-300 shadow-xl hover:scale-110 transition-all duration-300 animate-pulse",children:[s.jsx(Fee,{size:48,className:"text-orange-600 mx-auto mb-2"}),s.jsx("p",{className:"text-sm font-bold text-orange-700 text-center",children:"CVs Folder"}),s.jsx("p",{className:"text-xs text-orange-600 text-center mt-1",children:"Drag me to Step 1!"})]})}),s.jsxs("div",{className:"grid lg:grid-cols-4 gap-6 lg:gap-8",children:[s.jsxs("div",{className:`relative transition-all duration-300 ${f.includes(1)?"opacity-60":""}`,onMouseEnter:()=>n(0),onMouseLeave:()=>n(null),children:[s.jsxs("div",{className:`bg-gradient-to-br from-orange-50 to-orange-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${f.includes(1)?"border-green-400":"border-orange-200"}`,children:[(r===0||d)&&s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-400 rounded-full blur-3xl opacity-40 animate-pulse"}),f.includes(1)&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(cn,{size:24,className:"text-green-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-orange-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${r===0||d?"scale-110 rotate-6":""}`,children:s.jsx(Rs,{className:"text-white",size:28})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-xs lg:text-sm font-bold text-orange-600 bg-orange-200 px-3 py-1 rounded-full",children:"Step 1"})}),s.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-3 text-gray-900",children:"Upload CVs"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed mb-4",children:"Bulk upload hundreds of CVs instantly"}),!d&&l.length===0?s.jsxs("div",{className:`mt-6 border-2 border-dashed rounded-xl p-4 lg:p-6 text-center cursor-pointer transition-all duration-300 ${i?"border-orange-500 bg-orange-100 scale-105":"border-orange-300 bg-white hover:border-orange-400 hover:bg-orange-50"}`,onDragOver:P,onDragLeave:X,onDrop:U,onClick:M,children:[s.jsx(Rs,{size:28,className:`mx-auto mb-3 transition-colors ${i?"text-orange-600":"text-orange-400"}`}),s.jsx("p",{className:"text-xs lg:text-sm font-semibold text-gray-700 mb-1",children:i?"Drop here!":"Drop folder here"}),s.jsx("p",{className:"text-xs text-gray-500",children:"or click to try"})]}):s.jsx("div",{className:"mt-6 space-y-2",children:l.map((re,Y)=>s.jsxs("div",{className:"flex items-center gap-2 text-xs lg:text-sm text-gray-700 bg-white p-2 rounded-lg shadow-sm animate-fadeIn",style:{animationDelay:`${Y*100}ms`},children:[s.jsx(fs,{size:14,className:"text-orange-500 flex-shrink-0"}),s.jsx("span",{className:"truncate flex-1",children:re.name}),re.status==="completed"?s.jsx(cn,{size:14,className:"text-green-500 flex-shrink-0"}):s.jsx("div",{className:"w-12 h-1.5 bg-orange-200 rounded-full overflow-hidden flex-shrink-0",children:s.jsx("div",{className:"h-full bg-orange-500 animate-progress"})})]},Y))})]})]}),s.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${f.includes(1)?"bg-green-500":"bg-orange-500"} ${r===0||d?"scale-125":""}`,children:"1"})]}),f.includes(1)&&s.jsxs("div",{className:`relative transition-all duration-300 animate-fadeIn ${f.includes(2)?"opacity-60":""}`,onMouseEnter:()=>n(1),onMouseLeave:()=>n(null),children:[s.jsxs("div",{className:`bg-gradient-to-br from-purple-50 to-purple-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${f.includes(2)?"border-green-400":"border-purple-200"}`,children:[!f.includes(2)&&s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-400 rounded-full blur-3xl opacity-40 animate-pulse"}),f.includes(2)&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(cn,{size:24,className:"text-green-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-purple-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${f.includes(2)?"":"scale-110 rotate-12 animate-pulse"}`,children:s.jsx($a,{className:"text-white",size:28})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-xs lg:text-sm font-bold text-purple-600 bg-purple-200 px-3 py-1 rounded-full",children:"Step 2"})}),s.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-3 text-gray-900",children:"AI Processing"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed mb-4",children:"Claude AI extracts data automatically"}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mb-3",children:[!f.includes(2)&&s.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full animate-ping"}),s.jsx($a,{size:14,className:"text-purple-500"}),s.jsx("span",{className:`font-semibold ${f.includes(2)?"":"animate-pulse"}`,children:f.includes(2)?"Complete":"Analyzing..."})]}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",children:[s.jsx(cn,{size:12,className:"text-green-500 flex-shrink-0"}),s.jsxs("span",{className:"text-gray-700",children:[s.jsx("strong",{children:"Skills:"})," React, Node.js"]})]}),s.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",style:{animationDelay:"150ms"},children:[s.jsx(cn,{size:12,className:"text-green-500 flex-shrink-0"}),s.jsxs("span",{className:"text-gray-700",children:[s.jsx("strong",{children:"Experience:"})," 5 years"]})]}),s.jsxs("div",{className:"flex items-center gap-2 animate-fadeIn",style:{animationDelay:"300ms"},children:[s.jsx(cn,{size:12,className:"text-green-500 flex-shrink-0"}),s.jsxs("span",{className:"text-gray-700",children:[s.jsx("strong",{children:"Education:"})," BSc CS"]})]})]})]})})]})]}),s.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${f.includes(2)?"bg-green-500":"bg-purple-500 animate-pulse"}`,children:"2"})]}),f.includes(2)&&s.jsxs("div",{className:`relative transition-all duration-300 animate-fadeIn ${f.includes(3)?"opacity-60":""}`,onMouseEnter:()=>n(2),onMouseLeave:()=>n(null),children:[s.jsxs("div",{className:`bg-gradient-to-br from-blue-50 to-blue-100 p-6 lg:p-8 rounded-2xl border-2 relative overflow-hidden h-full ${f.includes(3)?"border-green-400":"border-blue-200"}`,children:[!f.includes(3)&&s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-400 rounded-full blur-3xl opacity-40 animate-pulse"}),f.includes(3)&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx(cn,{size:24,className:"text-green-500"})}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:`w-14 h-14 lg:w-16 lg:h-16 bg-blue-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg transition-transform duration-300 ${f.includes(3)?"":"scale-110 -rotate-6"}`,children:s.jsx(PL,{className:"text-white",size:28})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-xs lg:text-sm font-bold text-blue-600 bg-blue-200 px-3 py-1 rounded-full",children:"Step 3"})}),s.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-3 text-gray-900",children:"Filter & Match"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed mb-4",children:"Apply filters or job specifications"}),s.jsx("div",{className:"mt-6 space-y-2",children:x?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"bg-white p-2.5 rounded-lg shadow-md border-2 border-blue-400 animate-fadeIn",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(af,{size:14,className:"text-blue-500 flex-shrink-0"}),s.jsxs("span",{className:"font-semibold",children:["Applied: ",x]}),s.jsx(cn,{size:14,className:"text-green-500 ml-auto"})]})}),w&&s.jsx("div",{className:"mt-4 text-center animate-fadeIn",children:s.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-green-100 to-emerald-100 text-green-700 px-4 py-2 rounded-full text-xs font-bold shadow-lg scale-110",children:[s.jsx(Ds,{size:16}),s.jsx("span",{className:"animate-pulse",children:"47 matches!"})]})})]}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-xs text-gray-600 mb-2 font-semibold",children:"Click to apply:"}),s.jsx("button",{onClick:()=>D("skills"),className:"w-full bg-white p-2.5 rounded-lg shadow-sm border-2 border-blue-200 hover:border-blue-400 hover:scale-105 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(af,{size:14,className:"text-blue-500 flex-shrink-0"}),s.jsx("span",{className:"font-semibold",children:"Skills:"}),s.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-medium",children:"React"})]})}),s.jsx("button",{onClick:()=>D("experience"),className:"w-full bg-white p-2.5 rounded-lg shadow-sm border-2 border-blue-200 hover:border-blue-400 hover:scale-105 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(af,{size:14,className:"text-blue-500 flex-shrink-0"}),s.jsx("span",{className:"font-semibold",children:"Experience:"}),s.jsx("span",{className:"bg-blue-100 text-blue-700 px-2 py-0.5 rounded font-medium",children:"3+ years"})]})}),s.jsx("button",{onClick:()=>D("jobspec"),className:"w-full bg-gradient-to-r from-purple-50 to-purple-100 p-2.5 rounded-lg shadow-sm border-2 border-purple-300 hover:border-purple-400 hover:scale-105 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx($a,{size:14,className:"text-purple-500 flex-shrink-0"}),s.jsx("span",{className:"font-semibold text-purple-700",children:"Job Match"})]})})]})})]})]}),s.jsx("div",{className:`absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 transition-all duration-300 text-sm lg:text-base ${f.includes(3)?"bg-green-500":"bg-blue-500 animate-pulse"}`,children:"3"})]}),f.includes(3)&&s.jsxs("div",{className:"relative transition-all duration-300 animate-fadeIn",onMouseEnter:()=>n(3),onMouseLeave:()=>n(null),children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-6 lg:p-8 rounded-2xl border-2 border-green-200 relative overflow-hidden h-full",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-green-400 rounded-full blur-3xl opacity-40 animate-pulse"}),s.jsxs("div",{className:"relative z-10",children:[s.jsx("div",{className:"w-14 h-14 lg:w-16 lg:h-16 bg-green-500 rounded-2xl flex items-center justify-center mb-4 lg:mb-6 shadow-lg scale-110 rotate-6 animate-pulse",children:s.jsx(Ef,{className:"text-white",size:28})}),s.jsx("div",{className:"mb-4",children:s.jsx("span",{className:"text-xs lg:text-sm font-bold text-green-600 bg-green-200 px-3 py-1 rounded-full",children:"Step 4"})}),s.jsx("h3",{className:"text-xl lg:text-2xl font-bold mb-2 lg:mb-3 text-gray-900",children:"Export & Hire"}),s.jsx("p",{className:"text-sm lg:text-base text-gray-600 leading-relaxed mb-4",children:"Export and analyze results"}),s.jsxs("div",{className:"mt-6 space-y-3",children:[s.jsxs("button",{className:"w-full bg-green-500 hover:bg-green-600 text-white py-2.5 rounded-lg text-sm font-bold transition-all shadow-lg flex items-center justify-center gap-2 scale-105",children:[s.jsx(Ef,{size:16}),s.jsx("span",{children:"Downloading..."}),s.jsx(cn,{size:16,className:"animate-fadeIn"})]}),s.jsxs("div",{className:"bg-white p-3 rounded-lg shadow-md animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[s.jsx("span",{className:"text-gray-700 font-semibold",children:"Skills Distribution"}),s.jsx(nh,{size:14,className:"text-green-500"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-700 w-14 font-medium",children:"React"}),s.jsx("div",{className:"flex-1 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-500 rounded-full transition-all duration-700 w-[85%]"})}),s.jsx("span",{className:"text-xs text-gray-600 w-8 text-right",children:"85%"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-gray-700 w-14 font-medium",children:"Node.js"}),s.jsx("div",{className:"flex-1 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-green-400 rounded-full transition-all duration-700 w-[70%]"})}),s.jsx("span",{className:"text-xs text-gray-600 w-8 text-right",children:"70%"})]})]})]})]})]})]}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-10 h-10 lg:w-12 lg:h-12 bg-green-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg z-20 animate-pulse scale-125 text-sm lg:text-base",children:"4"})]})]})]})}),s.jsx("section",{id:"testimonials",className:"py-16 lg:py-24 bg-gradient-to-b from-gray-50 to-white overflow-hidden",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-green-100 text-green-700 px-4 py-2 rounded-full mb-4",children:[s.jsx(dp,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"Loved by HR Teams"})]}),s.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:["Trusted by ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"500+"})," Companies"]}),s.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:"See what recruitment teams are saying about CVSift"})]}),s.jsx("div",{className:"relative",children:s.jsx("div",{className:"testimonial-ticker",children:s.jsx("div",{className:"testimonial-track",children:[...k,...k].map((re,Y)=>s.jsxs("div",{className:"testimonial-card bg-white p-6 rounded-2xl shadow-sm border border-gray-100 flex-shrink-0",children:[s.jsx("div",{className:"flex mb-3",children:[...Array(5)].map((Q,se)=>s.jsx(qT,{size:16,className:"text-yellow-400 fill-yellow-400"},se))}),s.jsxs("p",{className:"text-gray-700 leading-relaxed italic",children:['"',re.quote,'"']})]},Y))})})})]})}),s.jsx("section",{id:"pricing",className:"py-16 lg:py-24 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"text-center mb-12 lg:mb-16",children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blue-100 text-blue-700 px-4 py-2 rounded-full mb-4",children:[s.jsx(cn,{size:16}),s.jsx("span",{className:"text-sm font-semibold",children:"Flexible Plans"})]}),s.jsxs("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:["Simple, ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Transparent"})," Pricing"]}),s.jsx("p",{className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:"Choose the perfect plan for your team. Start free and upgrade anytime."})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto mb-12",children:L.filter(re=>["Free","Basic","Professional"].includes(re.name)).map((re,Y)=>s.jsxs("div",{className:`relative bg-white rounded-xl p-6 border transition-all hover:shadow-xl ${re.popular?"border-orange-500 shadow-lg ring-2 ring-orange-500 ring-opacity-50":"border-gray-200"}`,children:[re.popular&&s.jsx("div",{className:"absolute -top-3 left-6 bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-bold",children:"MOST POPULAR"}),s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-3",children:re.name}),s.jsxs("div",{className:"mb-4",children:[s.jsx("span",{className:"text-3xl font-bold",children:re.price}),re.period==="per month"&&s.jsx("span",{className:"text-gray-500 ml-1",children:"/mo"})]}),s.jsx("div",{className:"inline-block bg-orange-50 border border-orange-200 px-4 py-1.5 rounded-full",children:s.jsxs("span",{className:"text-sm font-bold text-orange-700",children:[re.cvLimit,"/month"]})})]}),s.jsxs("ul",{className:"space-y-2.5 mb-6 min-h-[100px]",children:[re.features.slice(0,3).map((Q,se)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx(cn,{className:"text-orange-500 flex-shrink-0 mt-0.5",size:16}),s.jsx("span",{className:"text-gray-700 text-sm",children:Q})]},se)),re.features.length>3&&s.jsxs("li",{className:"text-sm text-gray-500 italic",children:["+ ",re.features.length-3," more"]})]}),s.jsx("button",{onClick:()=>z("/signup"),className:`w-full py-2.5 rounded-lg font-semibold transition-all ${re.popular?"bg-orange-500 text-white hover:bg-orange-600":"bg-gray-900 text-white hover:bg-gray-800"}`,children:re.cta})]},Y))}),L.filter(re=>re.name==="Enterprise").map((re,Y)=>s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsx("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-8 text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:re.name}),s.jsx("p",{className:"text-gray-300 mb-4",children:"For large organizations with complex needs"}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Unlimited CVs"}),s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Custom Integrations"}),s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Dedicated Support"})]})]}),s.jsx("button",{onClick:()=>z("/signup"),className:"px-8 py-3 bg-white text-gray-900 rounded-lg font-bold hover:bg-gray-100 transition-all",children:re.cta})]})})},Y)),s.jsx("div",{className:"text-center mt-8 lg:mt-12",children:s.jsxs("p",{className:"text-sm lg:text-base text-gray-600",children:["Need more capacity? ",s.jsx("a",{href:"/pricing",className:"text-orange-600 font-semibold hover:underline",children:"Purchase CV packs"})," to add extra processing capacity to any plan"]})})]})}),s.jsxs("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-orange-500 via-orange-600 to-orange-700 text-white relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNnoiIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLW9wYWNpdHk9Ii4xIi8+PC9nPjwvc3ZnPg==')] opacity-10"}),s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center relative z-10",children:[s.jsx("h2",{className:"text-3xl lg:text-5xl font-bold mb-4 lg:mb-6",children:"Ready to Hire Smarter?"}),s.jsx("p",{className:"text-lg lg:text-xl mb-8 lg:mb-12 opacity-90",children:"Join 500+ companies using CVSift to find top talent faster. Get started today."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[s.jsx("button",{onClick:()=>z("/signup"),className:"w-full sm:w-auto bg-white text-orange-600 px-8 py-4 rounded-xl font-semibold text-base lg:text-lg hover:scale-105 transition-all shadow-2xl hover:shadow-white/50",children:"Start Free"}),s.jsx("button",{className:"w-full sm:w-auto border-2 border-white text-white px-8 py-4 rounded-xl font-semibold text-base lg:text-lg hover:bg-white/10 transition-all",children:"Schedule a Demo"})]}),s.jsx("p",{className:"mt-6 text-sm opacity-80",children:"Free plan included  No credit card required  Upgrade anytime"})]})]}),s.jsx("footer",{className:"bg-gray-900 text-gray-400 py-12 lg:py-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 lg:gap-12 mb-8 lg:mb-12",children:[s.jsxs("div",{className:"col-span-2 md:col-span-1",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"CV"})}),s.jsx("span",{className:"text-white text-xl font-bold",children:"Sift"})]}),s.jsx("p",{className:"text-sm leading-relaxed mb-4",children:"Making hiring faster and smarter with AI-powered CV screening."}),s.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Support: ",s.jsx("a",{href:"mailto:emma@automore.co.za",className:"text-orange-500 hover:text-orange-400 transition-colors font-semibold",children:"emma@automore.co.za"})]}),s.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["Developed and designed by"," ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-400 transition-colors font-semibold",children:"Automore"})]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs("a",{href:"#",className:"w-8 h-8 bg-gray-800 hover:bg-orange-600 rounded-lg flex items-center justify-center transition-colors",children:[s.jsx("span",{className:"sr-only",children:"Twitter"}),s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]}),s.jsxs("a",{href:"#",className:"w-8 h-8 bg-gray-800 hover:bg-orange-600 rounded-lg flex items-center justify-center transition-colors",children:[s.jsx("span",{className:"sr-only",children:"LinkedIn"}),s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Product"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"#features",className:"hover:text-orange-500 transition-colors",children:"Features"})}),s.jsx("li",{children:s.jsx("a",{href:"#pricing",className:"hover:text-orange-500 transition-colors",children:"Pricing"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"API Docs"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Integrations"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Company"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/about",className:"hover:text-orange-500 transition-colors",children:"About Us"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Blog"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Careers"})}),s.jsx("li",{children:s.jsx("a",{href:"/contact",className:"hover:text-orange-500 transition-colors",children:"Contact"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Legal"}),s.jsxs("ul",{className:"space-y-2.5 text-sm",children:[s.jsx("li",{children:s.jsx("a",{href:"/privacy-policy",className:"hover:text-orange-500 transition-colors",children:"Privacy Policy"})}),s.jsx("li",{children:s.jsx("a",{href:"/terms-of-service",className:"hover:text-orange-500 transition-colors",children:"Terms of Service"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"GDPR"})}),s.jsx("li",{children:s.jsx("a",{href:"#",className:"hover:text-orange-500 transition-colors",children:"Security"})})]})]})]}),s.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center",children:[s.jsx("p",{className:"text-sm text-center md:text-left mb-4 md:mb-0",children:" 2025 CVSift. All rights reserved."}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm",children:[s.jsx("a",{href:"/privacy-policy",className:"hover:text-orange-500 transition-colors",children:"Privacy Policy"}),s.jsx("a",{href:"/terms-of-service",className:"hover:text-orange-500 transition-colors",children:"Terms of Service"}),s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"hover:text-orange-500 transition-colors",children:"About Automore"})]})]})]})}),s.jsx("style",{jsx:!0,children:`
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes progress {
          from {
            width: 0;
          }
          to {
            width: 100%;
          }
        }

        @keyframes scroll {
          0% {
            transform: translateX(0);
          }
          100% {
            transform: translateX(-50%);
          }
        }

        .animate-fadeIn {
          animation: fadeIn 0.5s ease-out forwards;
        }

        .animate-progress {
          animation: progress 1.5s ease-out forwards;
        }

        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }

        @keyframes ping {
          75%, 100% {
            transform: scale(2);
            opacity: 0;
          }
        }

        .animate-pulse {
          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .animate-ping {
          animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
        }

        .testimonial-ticker {
          overflow: hidden;
          width: 100%;
          position: relative;
        }

        .testimonial-track {
          display: flex;
          gap: 1.5rem;
          animation: scroll 60s linear infinite;
          width: fit-content;
        }

        .testimonial-track:hover {
          animation-play-state: paused;
        }

        .testimonial-card {
          width: 400px;
          max-width: 400px;
          min-height: 180px;
        }

        @media (max-width: 768px) {
          .testimonial-card {
            width: 320px;
            max-width: 320px;
          }
        }

        html {
          scroll-behavior: smooth;
        }
      `})]})}function Fte(){const[t,e]=V.useState({displayName:"",email:"",password:"",confirmPassword:""}),[r,n]=V.useState({}),[i,a]=V.useState(!1),[l,c]=V.useState(!1),[d,h]=V.useState(!1),{signup:f,signInWithGoogle:p}=gi(),x=ni(),g=j=>{e({...t,[j.target.name]:j.target.value}),r[j.target.name]&&n({...r,[j.target.name]:""})},w=()=>{const j={};return t.displayName.trim()||(j.displayName="Name is required"),t.email.trim()?t.email.includes("@")?t.email.includes(".")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(j.email="Please enter a valid email address"):j.email="Email must contain a domain (e.g., .com, .co.za)":j.email="Email must contain @":j.email="Email is required",t.password?t.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",t.password!==t.confirmPassword&&(j.confirmPassword="Passwords do not match"),n(j),Object.keys(j).length===0},v=async j=>{if(j.preventDefault(),!!w()){a(!0),n({});try{await f(t.email,t.password,t.displayName),c(!0),setTimeout(()=>{x("/dashboard")},2e3)}catch(E){n({submit:E.message||"Failed to create account. Please try again."})}finally{a(!1)}}},_=async()=>{h(!0),n({});try{await p(),x("/dashboard")}catch(j){n({submit:j.message||"Failed to sign in with Google. Please try again."})}finally{h(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),s.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Account"}),s.jsx("p",{className:"text-gray-600",children:"Start filtering CVs in seconds"})]}),l&&s.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-start space-x-3",children:[s.jsx(cn,{className:"text-green-500 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"text-green-800 font-medium",children:"Account created successfully!"}),s.jsx("p",{className:"text-green-700 text-sm",children:"Redirecting to dashboard..."})]})]}),r.submit&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(en,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-red-800 text-sm",children:r.submit})]}),s.jsxs("form",{onSubmit:v,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(ic,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",id:"displayName",name:"displayName",value:t.displayName,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${r.displayName?"border-red-500":"border-gray-300"}`,placeholder:"John Doe"})]}),r.displayName&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.displayName})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${r.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com"})]}),r.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"password",id:"password",name:"password",value:t.password,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${r.password?"border-red-500":"border-gray-300"}`,placeholder:""})]}),r.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(_0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:t.confirmPassword,onChange:g,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${r.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:""})]}),r.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword})]}),s.jsx("button",{type:"submit",disabled:i||l||d,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:i?"Creating Account...":"Create Account"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),s.jsxs("button",{onClick:_,disabled:i||l||d,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),d?"Signing in...":"Sign up with Google"]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Already have an account?"," ",s.jsx("a",{href:"/signin",className:"text-orange-500 font-semibold hover:text-orange-600",children:"Sign In"})]})})]}),s.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["By signing up, you agree to our"," ",s.jsx("a",{href:"#",className:"text-orange-500 hover:underline",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"#",className:"text-orange-500 hover:underline",children:"Privacy Policy"})]})]})})}function Ute(){const[t,e]=V.useState({email:"",password:""}),[r,n]=V.useState({}),[i,a]=V.useState(!1),[l,c]=V.useState(!1),[d,h]=V.useState(!1),[f,p]=V.useState(!1),[x,g]=V.useState(null),[w,v]=V.useState(""),[_,j]=V.useState(!1),[E,C]=V.useState(""),z=V.useRef(null),{signin:P,signInWithGoogle:X}=gi(),U=ni();V.useEffect(()=>(f&&!z.current&&setTimeout(()=>{try{const k=document.getElementById("mfa-recaptcha-container");if(!k)return;k.innerHTML="";const re=new QR(Zi,"mfa-recaptcha-container",{size:"invisible"});re.render().then(()=>{z.current=re}).catch(Y=>{console.error("Error rendering reCAPTCHA:",Y)})}catch(k){console.error("Error initializing reCAPTCHA:",k)}},100),()=>{if(z.current&&!f)try{z.current.clear(),z.current=null}catch(k){console.error("Error clearing reCAPTCHA:",k)}}),[f]);const M=k=>{e({...t,[k.target.name]:k.target.value}),r[k.target.name]&&n({...r,[k.target.name]:""})},D=()=>{const k={};return t.email.trim()?/\S+@\S+\.\S+/.test(t.email)||(k.email="Email is invalid"):k.email="Email is required",t.password||(k.password="Password is required"),n(k),Object.keys(k).length===0},G=async k=>{if(k.preventDefault(),!!D()){a(!0),n({});try{await P(t.email.trim(),t.password),U("/dashboard")}catch(re){if(re.code==="auth/multi-factor-auth-required"){const Q=oE(Zi,re);g(Q),p(!0),a(!1),setTimeout(()=>{I(Q)},500);return}let Y="Failed to sign in. Please try again.";re.code==="auth/user-not-found"||re.code==="auth/wrong-password"?Y="Invalid email or password":re.code==="auth/too-many-requests"?Y="Too many failed attempts. Please try again later.":re.code==="auth/invalid-credential"?Y="Invalid email or password. If you recently enabled MFA, please reset your password.":re.message&&(Y=re.message),n({submit:Y}),a(!1)}}},L=async()=>{c(!0),n({});try{await X(),U("/dashboard")}catch(k){if(k.code==="auth/multi-factor-auth-required"){const re=oE(Zi,k);g(re),p(!0),c(!1),setTimeout(()=>{I(re)},500);return}n({submit:k.message||"Failed to sign in with Google. Please try again."}),c(!1)}},I=async k=>{if(!z.current){setTimeout(()=>I(k),500);return}j(!0);try{const re={multiFactorHint:k.hints[0],session:k.session},Q=await new Hc(Zi).verifyPhoneNumber(re,z.current);C(Q);try{const se=An(),oe=wr(se,"logSmsVerification"),pe=k.hints[0]?.phoneNumber||"unknown";await oe({phoneNumber:pe,purpose:"mfa_signin"})}catch(se){console.error("Failed to log SMS verification:",se)}}catch(re){n({submit:`Failed to send verification code: ${re.message}`})}finally{j(!1)}},B=async()=>{if(!w||w.length!==6){n({submit:"Please enter a valid 6-digit code"});return}j(!0),n({});try{const k=Hc.credential(E,w),re=Rj.assertion(k);await x.resolveSignIn(re),U("/dashboard")}catch(k){k.code==="auth/invalid-verification-code"?n({submit:"Invalid verification code. Please try again."}):k.code==="auth/code-expired"?n({submit:"Verification code expired. Please request a new code."}):n({submit:"Failed to verify code. Please try again."})}finally{j(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),s.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:f?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(i0,{className:"text-orange-500",size:32})})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2 text-center",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-gray-600 text-center",children:"Enter the 6-digit code sent to your phone"})]}),r.submit&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(en,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-red-800 text-sm",children:r.submit})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-medium text-gray-700 mb-2 text-center",children:"Verification Code"}),s.jsx("input",{type:"text",id:"verificationCode",value:w,onChange:k=>v(k.target.value.replace(/\D/g,"").slice(0,6)),placeholder:"123456",maxLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none text-center text-2xl tracking-widest"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500 text-center",children:"Enter the 6-digit code sent to your phone"})]}),s.jsx("button",{onClick:B,disabled:_||w.length!==6,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:_?"Verifying...":"Verify & Sign In"}),s.jsx("button",{onClick:()=>{p(!1),v(""),n({})},disabled:_,className:"w-full text-gray-600 hover:text-gray-900 py-3 font-medium transition-colors disabled:opacity-50",children:"Back to Sign In"})]}),s.jsx("div",{id:"mfa-recaptcha-container"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome Back"}),s.jsx("p",{className:"text-gray-600",children:"Sign in to your CVSift account"})]}),r.submit&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(en,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-red-800 text-sm",children:r.submit})]}),s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:M,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${r.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com"})]}),r.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsx(mj,{to:"/reset-password",className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"Forgot?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(_0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:d?"text":"password",id:"password",name:"password",value:t.password,onChange:M,className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${r.password?"border-red-500":"border-gray-300"}`,placeholder:""}),s.jsx("button",{type:"button",onClick:()=>h(!d),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors","aria-label":d?"Hide password":"Show password",children:d?s.jsx(Iee,{size:20}):s.jsx(CS,{size:20})})]}),r.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.password})]}),s.jsx("button",{onClick:G,disabled:i||l,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:i?"Signing In...":"Sign In"})]}),s.jsxs("div",{className:"relative my-6",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),s.jsxs("button",{onClick:L,disabled:i||l,className:"w-full flex items-center justify-center gap-3 py-3 px-4 border-2 border-gray-300 rounded-lg font-medium text-gray-700 bg-white hover:bg-gray-50 transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),l?"Signing in...":"Sign in with Google"]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Don't have an account?"," ",s.jsx("a",{href:"/signup",className:"text-orange-500 font-semibold hover:text-orange-600",children:"Sign Up"})]})})]})}),s.jsxs("div",{className:"text-center text-sm text-gray-500 mt-6 space-y-2",children:[s.jsx("p",{children:"Protected by enterprise-grade security"}),s.jsxs("div",{className:"flex items-center justify-center space-x-4",children:[s.jsx("a",{href:"/privacy-policy",className:"hover:text-orange-500 transition-colors",children:"Privacy Policy"}),s.jsx("span",{children:""}),s.jsx("a",{href:"/terms-of-service",className:"hover:text-orange-500 transition-colors",children:"Terms of Service"})]})]})]})})}function Bte(){const[t,e]=V.useState(""),[r,n]=V.useState({}),[i,a]=V.useState(!1),[l,c]=V.useState(!1),{resetPassword:d}=gi(),h=x=>{e(x.target.value),r.email&&n({})},f=()=>{const x={};return t.trim()?/\S+@\S+\.\S+/.test(t)||(x.email="Email is invalid"):x.email="Email is required",n(x),Object.keys(x).length===0},p=async x=>{if(x.preventDefault(),!!f()){a(!0),n({});try{await d(t),c(!0)}catch(g){let w="Failed to send reset email. Please try again.";g.code==="auth/user-not-found"?w="No account found with this email address":g.code==="auth/invalid-email"?w="Invalid email address":g.code==="auth/too-many-requests"&&(w="Too many requests. Please try again later."),n({submit:w})}finally{a(!1)}}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-purple-50 flex items-center justify-center px-6 py-12",children:s.jsxs("div",{className:"max-w-md w-full",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsxs("a",{href:"/",className:"inline-flex items-center space-x-2",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"CV"})}),s.jsx("span",{className:"text-3xl font-bold",children:"Sift"})]})}),s.jsx("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:l?s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mb-6 flex justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx(Ps,{className:"text-green-600",size:32})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Check Your Email"}),s.jsx("p",{className:"text-gray-600 mb-2",children:"We've sent a password reset link to:"}),s.jsx("p",{className:"text-gray-900 font-semibold mb-6",children:t}),s.jsx("p",{className:"text-sm text-gray-500 mb-8",children:"Click the link in the email to reset your password. If you don't see the email, check your spam folder."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("a",{href:"/signin",className:"block w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02]",children:"Back to Sign In"}),s.jsx("button",{onClick:()=>{c(!1),e("")},className:"block w-full text-orange-500 hover:text-orange-600 py-2 font-medium transition-colors",children:"Send Another Link"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Password"}),s.jsx("p",{className:"text-gray-600",children:"Enter your email address and we'll send you a link to reset your password."})]}),r.submit&&s.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start space-x-3",children:[s.jsx(en,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-red-800 text-sm",children:r.submit})]}),s.jsxs("form",{onSubmit:p,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",id:"email",name:"email",value:t,onChange:h,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none transition-colors ${r.email?"border-red-500":"border-gray-300"}`,placeholder:"you@company.com",autoFocus:!0})]}),r.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:r.email})]}),s.jsx("button",{type:"submit",disabled:i,className:"w-full bg-orange-500 hover:bg-orange-600 text-white py-3 rounded-lg font-semibold transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:i?"Sending...":"Send Reset Link"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("a",{href:"/signin",className:"inline-flex items-center text-sm text-gray-600 hover:text-orange-500 font-medium transition-colors",children:[s.jsx(po,{size:16,className:"mr-1"}),"Back to Sign In"]})})]})}),s.jsx("p",{className:"text-center text-sm text-gray-500 mt-6",children:"Protected by enterprise-grade security"})]})})}const Ru={FREE:"free",STARTER:"starter",BASIC:"basic",PROFESSIONAL:"professional",BUSINESS:"business",ENTERPRISE:"enterprise"},bl={[Ru.FREE]:{name:"Free",cvLimit:10,jobSpecLimit:0,price:0,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:7,emailSupport:!0,jobSpecCreation:!1,advancedFiltering:!1,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!1,emailNotifications:!1,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["Basic filtering (skills, location)","7-day data retention","Email support","Export to CSV"]},[Ru.STARTER]:{name:"Starter",cvLimit:50,jobSpecLimit:3,price:199,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:30,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!1,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["Basic + advanced filtering","30-day data retention","Email support","Bulk upload","Job spec creation","Email notifications"]},[Ru.BASIC]:{name:"Basic",cvLimit:150,jobSpecLimit:10,price:399,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:90,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!1,apiAccess:!1,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!1,customFields:!1,prioritySupport:!1,advancedAnalytics:!1},description:["All filtering options","90-day data retention","Priority email support","Advanced export options","Bulk upload","Email notifications"]},[Ru.PROFESSIONAL]:{name:"Professional",cvLimit:600,jobSpecLimit:30,price:999,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:365,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:3,customFields:!0,prioritySupport:!0,advancedAnalytics:!0},description:["Everything in Basic","AI Chatbot Assistant","Predictive Analytics","API access","1-year data retention","Team collaboration (3 users)","Custom fields","Priority support"]},[Ru.BUSINESS]:{name:"Business",cvLimit:1500,jobSpecLimit:100,price:1999,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:365,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:10,customFields:!0,prioritySupport:!0,advancedAnalytics:!0,customIntegrations:!0,dedicatedAccountManager:!1,ssoSecurity:!1},description:["Everything in Professional","Higher volume (1,500 CVs)","Team collaboration (10 users)","Custom integrations","Priority support","Advanced analytics"]},[Ru.ENTERPRISE]:{name:"Enterprise",cvLimit:-1,jobSpecLimit:-1,price:null,currency:"ZAR",features:{cvUpload:!0,basicFiltering:!0,skillsMatch:!0,locationFilter:!0,exportCSV:!0,dataRetentionDays:-1,emailSupport:!0,jobSpecCreation:!0,advancedFiltering:!0,aiChatbot:!0,apiAccess:!0,analytics:!0,bulkUpload:!0,emailNotifications:!0,teamCollaboration:!0,teamSize:-1,customFields:!0,prioritySupport:!0,customIntegrations:!0,dedicatedAccountManager:!0,ssoSecurity:!0,whiteLabel:!0,slaGuarantee:!0,advancedAnalytics:!0},description:["Everything in Professional","Custom Analytics Reports","Custom integrations","Dedicated account manager","SSO & advanced security","White-label option","Custom data retention","SLA guarantee","Unlimited users"]}};function Ip(t,e){return!t||!bl[t]?bl[Ru.FREE].features[e]||!1:bl[t].features[e]||!1}function yx(t){return!t||!bl[t]?bl[Ru.FREE].cvLimit:bl[t].cvLimit}function Km(t){return Ip(t,"jobSpecCreation")}function iN(t){return Ip(t,"aiChatbot")}function jw(t){return!t||!bl[t]?bl[Ru.FREE].jobSpecLimit:bl[t].jobSpecLimit}const Vte={SMALL:{id:"cv_pack_small",name:"Small Pack",cvCount:25,price:99,currency:"ZAR",description:"Add 25 extra CVs to your account",popular:!1},MEDIUM:{id:"cv_pack_medium",name:"Medium Pack",cvCount:75,price:249,currency:"ZAR",description:"Add 75 extra CVs to your account",savings:"16% savings",popular:!0},LARGE:{id:"cv_pack_large",name:"Large Pack",cvCount:200,price:599,currency:"ZAR",description:"Add 200 extra CVs to your account",savings:"25% savings",popular:!1},JUMBO:{id:"cv_pack_jumbo",name:"Jumbo Pack",cvCount:500,price:1299,currency:"ZAR",description:"Add 500 extra CVs to your account",savings:"35% savings",popular:!1}};function qte(){return Object.values(Vte)}function zL({slot:t,format:e="auto",style:r={},className:n="",fullWidthResponsive:i=!0}){const{currentUser:a}=gi();V.useEffect(()=>{if(l())try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(c){console.error("AdSense error:",c)}},[a]);const l=()=>{if(!a)return!1;const c=a?.userData?.plan;return c==="free"||c==="Free"};return l()?s.jsxs("div",{className:`adsense-container my-6 ${n}`,style:r,children:[s.jsx("div",{className:"text-xs text-gray-400 text-center mb-1",children:"Advertisement"}),s.jsx("ins",{className:"adsbygoogle",style:{display:"block",...r},"data-ad-client":"ca-pub-8629316693437703","data-ad-slot":t,"data-ad-format":e,"data-full-width-responsive":i})]}):null}function $te({className:t=""}){return s.jsx(zL,{slot:"1234567890",format:"horizontal",className:t,style:{minHeight:"90px"}})}function Hte({className:t=""}){return s.jsx(zL,{slot:"1122334455",format:"fluid",className:t,style:{minHeight:"100px"}})}function Wte(){const{currentUser:t,logout:e,userData:r}=gi(),n=ni(),[i,a]=V.useState([]),[l,c]=V.useState(!0),[d,h]=V.useState(!1),[f,p]=V.useState(null);V.useEffect(()=>{g(),x()},[t,r]);const x=async()=>{if(!(!t||!r))try{const P=r?.teamAccess;if(P?.isTeamMember&&P?.teamOwnerId){console.log("Dashboard: Fetching team owner data for display");const X=An(),M=await wr(X,"getTeamOwnerData")();M.data.success?p(M.data.ownerData):p(r)}else p(r)}catch(P){console.error("Error loading display user data:",P),p(r)}},g=async()=>{if(t)try{c(!0);const P=r?.teamAccess;if(P?.isTeamMember&&P?.teamOwnerId){console.log("Dashboard: Fetching team CVs via Cloud Function for owner:",P.teamOwnerId);const X=An(),M=await wr(X,"getTeamCVs")();if(M.data.success){const G=M.data.cvs.map(L=>({...L,uploadedAt:L.uploadedAt?.toDate?L.uploadedAt.toDate():L.uploadedAt?._seconds?new Date(L.uploadedAt._seconds*1e3):new Date})).slice(0,5);console.log("Dashboard: Team CVs fetched:",G.length),a(G)}else throw new Error("Failed to fetch team CVs")}else{console.log("Dashboard: Fetching own CVs for user:",t.uid);const X=Xc(vl(Jr,"cvs"),Is("userId","==",t.uid),Cv("uploadedAt","desc"),PX(5)),M=(await Zc(X)).docs.map(D=>({id:D.id,...D.data()}));a(M)}c(!1)}catch(P){console.error("Error loading recent activity:",P),c(!1)}},w=async()=>{try{await e(),n("/")}catch(P){console.error("Failed to log out:",P)}},v=P=>P==="completed"?s.jsx(Ps,{className:"text-green-500",size:18}):P==="error"?s.jsx(en,{className:"text-red-500",size:18}):s.jsx(nb,{className:"text-orange-500",size:18}),_=P=>P==="completed"?"Parsed successfully":P==="error"?"Parsing failed":"Processing...",j=P=>{if(!P)return"Unknown";const X=P.toDate?P.toDate():new Date(P),M=Math.floor((new Date-X)/1e3);return M<60?"Just now":M<3600?`${Math.floor(M/60)}m ago`:M<86400?`${Math.floor(M/3600)}h ago`:`${Math.floor(M/86400)}d ago`},E=(f?.cvUploadsThisMonth||0)/(f?.cvUploadLimit||10)*100,C=t?.userData?.plan||"free",z=C==="professional"||C==="enterprise";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"CV"})}),s.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]}),s.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1.5 bg-gradient-to-r from-lime-50 to-lime-100 border border-lime-200 rounded-lg",children:[s.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Plan:"}),s.jsx("span",{className:"text-sm font-bold text-gray-900 capitalize",children:C}),z&&s.jsx(Ps,{size:14,className:"text-green-600"}),!z&&s.jsx("button",{onClick:()=>n("/pricing"),className:"text-xs text-orange-600 hover:text-orange-700 font-medium ml-1",children:"Upgrade"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[r?.role==="master"&&s.jsxs("button",{onClick:()=>n("/master-dashboard"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg transition-all shadow-sm hover:shadow-md",title:"Master Account Dashboard",children:[s.jsx(dp,{size:18}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Master Dashboard"})]}),iN(C)&&s.jsxs("button",{onClick:()=>n("/chatbot"),className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg transition-all shadow-sm hover:shadow-md",title:"AI Assistant",children:[s.jsx(IL,{size:18}),s.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"AI Assistant"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!d),className:"flex items-center space-x-3 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[t?.photoURL?s.jsx("img",{src:t.photoURL,alt:t.displayName,className:"w-8 h-8 rounded-full object-cover"}):s.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-orange-400 to-orange-600 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm font-bold",children:t?.displayName?.charAt(0).toUpperCase()||"U"})}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:t?.displayName||t?.email?.split("@")[0]}),s.jsx(nc,{size:16,className:"text-gray-600"})]}),d&&s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[s.jsxs("button",{onClick:()=>{h(!1),n("/settings")},className:"w-full flex items-center space-x-3 px-4 py-2 text-gray-700 hover:bg-gray-50 transition-colors",children:[s.jsx(OL,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:"Account Settings"})]}),s.jsx("div",{className:"border-t border-gray-200 my-2"}),s.jsxs("button",{onClick:()=>{h(!1),w()},className:"w-full flex items-center space-x-3 px-4 py-2 text-red-600 hover:bg-red-50 transition-colors",children:[s.jsx(Yee,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})]})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t?.displayName?.split(" ")[0]||"User","! "]}),s.jsx("p",{className:"text-gray-600",children:"Manage your CVs, create job specifications, and find the perfect candidates."})]}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[s.jsxs("button",{onClick:()=>n("/upload"),className:"group relative bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:s.jsx(Rs,{className:"text-white",size:28})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Upload CVs"}),s.jsx("p",{className:"text-orange-100 text-sm",children:"Add new candidate CVs to your library"})]})]}),s.jsxs("button",{onClick:()=>n("/job-specs"),className:"group relative bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:s.jsx(Jl,{className:"text-white",size:28})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Job Specs"}),s.jsx("p",{className:"text-blue-100 text-sm",children:"Create job specs and match CVs"})]})]}),s.jsxs("button",{onClick:()=>n("/cvs"),className:"group relative bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-8 shadow-lg hover:shadow-2xl transition-all hover:-translate-y-1 text-left overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center mb-4",children:s.jsx(Lee,{className:"text-white",size:28})}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:"Browse CVs"}),s.jsx("p",{className:"text-purple-100 text-sm",children:"Search, filter, and view your CV library"})]})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(Rs,{className:"text-orange-500",size:24})}),s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"This Month"})]}),s.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-1",children:f?.cvUploadsThisMonth||0}),s.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["CVs Uploaded",C!=="enterprise"?` / ${f?.cvUploadLimit||10}`:""]}),C!=="enterprise"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-orange-500 h-2 rounded-full transition-all",style:{width:`${Math.min(E,100)}%`}})}),s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:E>=100?"Limit reached":`${Math.round(100-E)}% remaining`})]}),C==="enterprise"&&s.jsxs("p",{className:"text-xs text-green-600 mt-2 flex items-center",children:[s.jsx(dp,{size:14,className:"mr-1"}),"Unlimited uploads"]})]}),(f?.cvPackBalance||0)>0&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-6 shadow-sm border-2 border-purple-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(Lv,{className:"text-white",size:24})}),s.jsx("span",{className:"text-sm font-medium text-purple-700",children:"CV Packs"})]}),s.jsx("h3",{className:"text-3xl font-bold text-purple-900 mb-1",children:f?.cvPackBalance||0}),s.jsx("p",{className:"text-purple-700 text-sm mb-2",children:"Bonus CVs Available"}),s.jsx("p",{className:"text-xs text-purple-600",children:"These CVs never expire and are used automatically when your monthly limit is reached"})]}),s.jsx("button",{onClick:()=>n("/analytics"),className:"w-full bg-gradient-to-br from-lime-50 to-lime-100 rounded-xl p-6 shadow-sm border-2 border-lime-200 hover:shadow-md transition-all hover:-translate-y-1 text-left",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-lime-600 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(nh,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"View Analytics"}),s.jsx("p",{className:"text-sm text-gray-600",children:"See insights & trends"})]})]})})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl p-8 shadow-sm border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Recent Activity"}),s.jsx("button",{onClick:()=>n("/cvs"),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"View All"})]}),l?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading activity..."})]}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fs,{className:"text-gray-400",size:32})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No CVs uploaded yet"}),s.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:"Start by uploading your first batch of CVs to begin filtering and finding the perfect candidates"}),s.jsx("button",{onClick:()=>n("/upload"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:"Upload Your First CV"})]}):s.jsx("div",{className:"space-y-3",children:i.map(P=>s.jsxs("div",{onClick:()=>n(`/cv/${P.id}`),className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(fs,{className:"text-orange-500",size:18})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-900 truncate group-hover:text-orange-500 transition-colors",children:P.metadata?.name||P.fileName||"Unknown CV"}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[v(P.status),s.jsx("span",{className:"text-sm text-gray-500",children:_(P.status)})]})]})]}),s.jsxs("div",{className:"text-right flex-shrink-0 ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:j(P.uploadedAt)}),s.jsx("p",{className:"text-xs text-gray-400",children:P.uploadedAt?.toDate?P.uploadedAt.toDate().toLocaleDateString():"Unknown date"})]})]},P.id))})]})]}),s.jsx($te,{className:"max-w-5xl mx-auto"}),!z&&s.jsx("div",{className:"mt-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl p-8 shadow-lg text-white",children:s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-6",children:[s.jsxs("div",{className:"flex-1 min-w-[280px]",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Ready to unlock more features?"}),s.jsx("p",{className:"text-orange-100 mb-4",children:"Upgrade to Professional for higher CV limits, AI assistance, and advanced analytics."}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-center",children:[s.jsx(Ps,{size:16,className:"mr-2 flex-shrink-0"}),s.jsx("span",{children:"600+ CVs per month (or 1,500 with Business plan)"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(Ps,{size:16,className:"mr-2 flex-shrink-0"}),s.jsx("span",{children:"AI chatbot assistant & advanced analytics"})]}),s.jsxs("li",{className:"flex items-center",children:[s.jsx(Ps,{size:16,className:"mr-2 flex-shrink-0"}),s.jsx("span",{children:"Add CV packs anytime for extra capacity"})]})]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("button",{onClick:()=>n("/pricing"),className:"bg-white text-orange-500 px-8 py-4 rounded-xl font-bold hover:bg-gray-50 transition-all hover:scale-105 shadow-lg",children:"View Plans & Pricing"})})]})})]})]})}function xx(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Sw={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var $T;function Gte(){return $T||($T=1,(function(t,e){(function(r){t.exports=r()})(function(){return(function r(n,i,a){function l(h,f){if(!i[h]){if(!n[h]){var p=typeof xx=="function"&&xx;if(!f&&p)return p(h,!0);if(c)return c(h,!0);var x=new Error("Cannot find module '"+h+"'");throw x.code="MODULE_NOT_FOUND",x}var g=i[h]={exports:{}};n[h][0].call(g.exports,function(w){var v=n[h][1][w];return l(v||w)},g,g.exports,r,n,i,a)}return i[h].exports}for(var c=typeof xx=="function"&&xx,d=0;d<a.length;d++)l(a[d]);return l})({1:[function(r,n,i){var a=r("./utils"),l=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var h,f,p,x,g,w,v,_=[],j=0,E=d.length,C=E,z=a.getTypeOf(d)!=="string";j<d.length;)C=E-j,p=z?(h=d[j++],f=j<E?d[j++]:0,j<E?d[j++]:0):(h=d.charCodeAt(j++),f=j<E?d.charCodeAt(j++):0,j<E?d.charCodeAt(j++):0),x=h>>2,g=(3&h)<<4|f>>4,w=1<C?(15&f)<<2|p>>6:64,v=2<C?63&p:64,_.push(c.charAt(x)+c.charAt(g)+c.charAt(w)+c.charAt(v));return _.join("")},i.decode=function(d){var h,f,p,x,g,w,v=0,_=0,j="data:";if(d.substr(0,j.length)===j)throw new Error("Invalid base64 input, it looks like a data url.");var E,C=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&C--,d.charAt(d.length-2)===c.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(E=l.uint8array?new Uint8Array(0|C):new Array(0|C);v<d.length;)h=c.indexOf(d.charAt(v++))<<2|(x=c.indexOf(d.charAt(v++)))>>4,f=(15&x)<<4|(g=c.indexOf(d.charAt(v++)))>>2,p=(3&g)<<6|(w=c.indexOf(d.charAt(v++))),E[_++]=h,g!==64&&(E[_++]=f),w!==64&&(E[_++]=p);return E}},{"./support":30,"./utils":32}],2:[function(r,n,i){var a=r("./external"),l=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function h(f,p,x,g,w){this.compressedSize=f,this.uncompressedSize=p,this.crc32=x,this.compression=g,this.compressedContent=w}h.prototype={getContentWorker:function(){var f=new l(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new l(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,p,x){return f.pipe(new c).pipe(new d("uncompressedSize")).pipe(p.compressWorker(x)).pipe(new d("compressedSize")).withStreamInfo("compression",p)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,i){var a=r("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,i){var a=r("./utils"),l=(function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var f=0;f<8;f++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d})();n.exports=function(c,d){return c!==void 0&&c.length?a.getTypeOf(c)!=="string"?(function(h,f,p,x){var g=l,w=x+p;h^=-1;for(var v=x;v<w;v++)h=h>>>8^g[255&(h^f[v])];return-1^h})(0|d,c,c.length,0):(function(h,f,p,x){var g=l,w=x+p;h^=-1;for(var v=x;v<w;v++)h=h>>>8^g[255&(h^f.charCodeAt(v))];return-1^h})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(r,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(r,n,i){var a=null;a=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:a}},{lie:37}],7:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=r("pako"),c=r("./utils"),d=r("./stream/GenericWorker"),h=a?"uint8array":"array";function f(p,x){d.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=x,this.meta={}}i.magic="\b\0",c.inherits(f,d),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,p.data),!1)},f.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(x){p.push({data:x,meta:p.meta})}},i.compressWorker=function(p){return new f("Deflate",p)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,i){function a(g,w){var v,_="";for(v=0;v<w;v++)_+=String.fromCharCode(255&g),g>>>=8;return _}function l(g,w,v,_,j,E){var C,z,P=g.file,X=g.compression,U=E!==h.utf8encode,M=c.transformTo("string",E(P.name)),D=c.transformTo("string",h.utf8encode(P.name)),G=P.comment,L=c.transformTo("string",E(G)),I=c.transformTo("string",h.utf8encode(G)),B=D.length!==P.name.length,k=I.length!==G.length,re="",Y="",Q="",se=P.dir,oe=P.date,pe={crc32:0,compressedSize:0,uncompressedSize:0};w&&!v||(pe.crc32=g.crc32,pe.compressedSize=g.compressedSize,pe.uncompressedSize=g.uncompressedSize);var H=0;w&&(H|=8),U||!B&&!k||(H|=2048);var R=0,J=0;se&&(R|=16),j==="UNIX"?(J=798,R|=(function(ae,be){var je=ae;return ae||(je=be?16893:33204),(65535&je)<<16})(P.unixPermissions,se)):(J=20,R|=(function(ae){return 63&(ae||0)})(P.dosPermissions)),C=oe.getUTCHours(),C<<=6,C|=oe.getUTCMinutes(),C<<=5,C|=oe.getUTCSeconds()/2,z=oe.getUTCFullYear()-1980,z<<=4,z|=oe.getUTCMonth()+1,z<<=5,z|=oe.getUTCDate(),B&&(Y=a(1,1)+a(f(M),4)+D,re+="up"+a(Y.length,2)+Y),k&&(Q=a(1,1)+a(f(L),4)+I,re+="uc"+a(Q.length,2)+Q);var ee="";return ee+=`
\0`,ee+=a(H,2),ee+=X.magic,ee+=a(C,2),ee+=a(z,2),ee+=a(pe.crc32,4),ee+=a(pe.compressedSize,4),ee+=a(pe.uncompressedSize,4),ee+=a(M.length,2),ee+=a(re.length,2),{fileRecord:p.LOCAL_FILE_HEADER+ee+M+re,dirRecord:p.CENTRAL_FILE_HEADER+a(J,2)+ee+a(L.length,2)+"\0\0\0\0"+a(R,4)+a(_,4)+M+re+L}}var c=r("../utils"),d=r("../stream/GenericWorker"),h=r("../utf8"),f=r("../crc32"),p=r("../signature");function x(g,w,v,_){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=v,this.encodeFileName=_,this.streamFiles=g,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(x,d),x.prototype.push=function(g){var w=g.meta.percent||0,v=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(g):(this.bytesWritten+=g.data.length,d.prototype.push.call(this,{data:g.data,meta:{currentFile:this.currentFile,percent:v?(w+100*(v-_-1))/v:100}}))},x.prototype.openedSource=function(g){this.currentSourceOffset=this.bytesWritten,this.currentFile=g.file.name;var w=this.streamFiles&&!g.file.dir;if(w){var v=l(g,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},x.prototype.closedSource=function(g){this.accumulate=!1;var w=this.streamFiles&&!g.file.dir,v=l(g,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),w)this.push({data:(function(_){return p.DATA_DESCRIPTOR+a(_.crc32,4)+a(_.compressedSize,4)+a(_.uncompressedSize,4)})(g),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},x.prototype.flush=function(){for(var g=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var v=this.bytesWritten-g,_=(function(j,E,C,z,P){var X=c.transformTo("string",P(z));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(j,2)+a(j,2)+a(E,4)+a(C,4)+a(X.length,2)+X})(this.dirRecords.length,v,g,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},x.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},x.prototype.registerPrevious=function(g){this._sources.push(g);var w=this;return g.on("data",function(v){w.processChunk(v)}),g.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),g.on("error",function(v){w.error(v)}),this},x.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},x.prototype.error=function(g){var w=this._sources;if(!d.prototype.error.call(this,g))return!1;for(var v=0;v<w.length;v++)try{w[v].error(g)}catch{}return!0},x.prototype.lock=function(){d.prototype.lock.call(this);for(var g=this._sources,w=0;w<g.length;w++)g[w].lock()},n.exports=x},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,i){var a=r("../compressions"),l=r("./ZipFileWorker");i.generateWorker=function(c,d,h){var f=new l(d.streamFiles,h,d.platform,d.encodeFileName),p=0;try{c.forEach(function(x,g){p++;var w=(function(E,C){var z=E||C,P=a[z];if(!P)throw new Error(z+" is not a valid compression method !");return P})(g.options.compression,d.compression),v=g.options.compressionOptions||d.compressionOptions||{},_=g.dir,j=g.date;g._compressWorker(w,v).withStreamInfo("file",{name:x,dir:_,date:j,comment:g.comment||"",unixPermissions:g.unixPermissions,dosPermissions:g.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(x){f.error(x)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new a;for(var c in this)typeof this[c]!="function"&&(l[c]=this[c]);return l}}(a.prototype=r("./object")).loadAsync=r("./load"),a.support=r("./support"),a.defaults=r("./defaults"),a.version="3.10.1",a.loadAsync=function(l,c){return new a().loadAsync(l,c)},a.external=r("./external"),n.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,i){var a=r("./utils"),l=r("./external"),c=r("./utf8"),d=r("./zipEntries"),h=r("./stream/Crc32Probe"),f=r("./nodejsUtils");function p(x){return new l.Promise(function(g,w){var v=x.decompressed.getContentWorker().pipe(new h);v.on("error",function(_){w(_)}).on("end",function(){v.streamInfo.crc32!==x.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):g()}).resume()})}n.exports=function(x,g){var w=this;return g=a.extend(g||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),f.isNode&&f.isStream(x)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",x,!0,g.optimizedBinaryString,g.base64).then(function(v){var _=new d(g);return _.load(v),_}).then(function(v){var _=[l.Promise.resolve(v)],j=v.files;if(g.checkCRC32)for(var E=0;E<j.length;E++)_.push(p(j[E]));return l.Promise.all(_)}).then(function(v){for(var _=v.shift(),j=_.files,E=0;E<j.length;E++){var C=j[E],z=C.fileNameStr,P=a.resolve(C.fileNameStr);w.file(P,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:g.createFolders}),C.dir||(w.file(P).unsafeOriginalName=z)}return _.zipComment.length&&(w.comment=_.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,i){var a=r("../utils"),l=r("../stream/GenericWorker");function c(d,h){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}a.inherits(c,l),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,i){var a=r("readable-stream").Readable;function l(c,d,h){a.call(this,d),this._helper=c;var f=this;c.on("data",function(p,x){f.push(p)||f._helper.pause(),h&&h(x)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}r("../utils").inherits(l,a),l.prototype._read=function(){this._helper.resume()},n.exports=l},{"../utils":32,"readable-stream":16}],14:[function(r,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,l);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,l)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var l=new Buffer(a);return l.fill(0),l},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(r,n,i){function a(P,X,U){var M,D=c.getTypeOf(X),G=c.extend(U||{},f);G.date=G.date||new Date,G.compression!==null&&(G.compression=G.compression.toUpperCase()),typeof G.unixPermissions=="string"&&(G.unixPermissions=parseInt(G.unixPermissions,8)),G.unixPermissions&&16384&G.unixPermissions&&(G.dir=!0),G.dosPermissions&&16&G.dosPermissions&&(G.dir=!0),G.dir&&(P=j(P)),G.createFolders&&(M=_(P))&&E.call(this,M,!0);var L=D==="string"&&G.binary===!1&&G.base64===!1;U&&U.binary!==void 0||(G.binary=!L),(X instanceof p&&X.uncompressedSize===0||G.dir||!X||X.length===0)&&(G.base64=!1,G.binary=!0,X="",G.compression="STORE",D="string");var I=null;I=X instanceof p||X instanceof d?X:w.isNode&&w.isStream(X)?new v(P,X):c.prepareContent(P,X,G.binary,G.optimizedBinaryString,G.base64);var B=new x(P,I,G);this.files[P]=B}var l=r("./utf8"),c=r("./utils"),d=r("./stream/GenericWorker"),h=r("./stream/StreamHelper"),f=r("./defaults"),p=r("./compressedObject"),x=r("./zipObject"),g=r("./generate"),w=r("./nodejsUtils"),v=r("./nodejs/NodejsStreamInputAdapter"),_=function(P){P.slice(-1)==="/"&&(P=P.substring(0,P.length-1));var X=P.lastIndexOf("/");return 0<X?P.substring(0,X):""},j=function(P){return P.slice(-1)!=="/"&&(P+="/"),P},E=function(P,X){return X=X!==void 0?X:f.createFolders,P=j(P),this.files[P]||a.call(this,P,null,{dir:!0,createFolders:X}),this.files[P]};function C(P){return Object.prototype.toString.call(P)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(P){var X,U,M;for(X in this.files)M=this.files[X],(U=X.slice(this.root.length,X.length))&&X.slice(0,this.root.length)===this.root&&P(U,M)},filter:function(P){var X=[];return this.forEach(function(U,M){P(U,M)&&X.push(M)}),X},file:function(P,X,U){if(arguments.length!==1)return P=this.root+P,a.call(this,P,X,U),this;if(C(P)){var M=P;return this.filter(function(G,L){return!L.dir&&M.test(G)})}var D=this.files[this.root+P];return D&&!D.dir?D:null},folder:function(P){if(!P)return this;if(C(P))return this.filter(function(D,G){return G.dir&&P.test(D)});var X=this.root+P,U=E.call(this,X),M=this.clone();return M.root=U.name,M},remove:function(P){P=this.root+P;var X=this.files[P];if(X||(P.slice(-1)!=="/"&&(P+="/"),X=this.files[P]),X&&!X.dir)delete this.files[P];else for(var U=this.filter(function(D,G){return G.name.slice(0,P.length)===P}),M=0;M<U.length;M++)delete this.files[U[M].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(P){var X,U={};try{if((U=c.extend(P||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");c.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var M=U.comment||this.comment||"";X=g.generateWorker(this,U,M)}catch(D){(X=new d("error")).error(D)}return new h(X,U.type||"string",U.mimeType)},generateAsync:function(P,X){return this.generateInternalStream(P).accumulate(X)},generateNodeStream:function(P,X){return(P=P||{}).type||(P.type="nodebuffer"),this.generateInternalStream(P).toNodejsStream(X)}};n.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,i){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,i){var a=r("./DataReader");function l(c){a.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}r("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data[this.zero+c]},l.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),x=this.length-4;0<=x;--x)if(this.data[x]===d&&this.data[x+1]===h&&this.data[x+2]===f&&this.data[x+3]===p)return x-this.zero;return-1},l.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),f=c.charCodeAt(2),p=c.charCodeAt(3),x=this.readData(4);return d===x[0]&&h===x[1]&&f===x[2]&&p===x[3]},l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=l},{"../utils":32,"./DataReader":18}],18:[function(r,n,i){var a=r("../utils");function l(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return a.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=l},{"../utils":32}],19:[function(r,n,i){var a=r("./Uint8ArrayReader");function l(c){a.call(this,c)}r("../utils").inherits(l,a),l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,i){var a=r("./DataReader");function l(c){a.call(this,c)}r("../utils").inherits(l,a),l.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},l.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},l.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},l.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=l},{"../utils":32,"./DataReader":18}],21:[function(r,n,i){var a=r("./ArrayReader");function l(c){a.call(this,c)}r("../utils").inherits(l,a),l.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,i){var a=r("../utils"),l=r("../support"),c=r("./ArrayReader"),d=r("./StringReader"),h=r("./NodeBufferReader"),f=r("./Uint8ArrayReader");n.exports=function(p){var x=a.getTypeOf(p);return a.checkSupport(x),x!=="string"||l.uint8array?x==="nodebuffer"?new h(p):l.uint8array?new f(a.transformTo("uint8array",p)):new c(a.transformTo("array",p)):new d(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,i){var a=r("./GenericWorker"),l=r("../utils");function c(d){a.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(c,a),c.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,i){var a=r("./GenericWorker"),l=r("../crc32");function c(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,a),c.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,i){var a=r("../utils"),l=r("./GenericWorker");function c(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}a.inherits(c,l),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}l.prototype.processChunk.call(this,d)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,i){var a=r("../utils"),l=r("./GenericWorker");function c(d){l.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=a.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}a.inherits(c,l),c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,i){function a(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,c){return this._listeners[l].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,c){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,c)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var c=this;return l.on("data",function(d){c.processChunk(d)}),l.on("end",function(){c.end()}),l.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,c){return this.extraStreamInfo[l]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},n.exports=a},{}],29:[function(r,n,i){var a=r("../utils"),l=r("./ConvertWorker"),c=r("./GenericWorker"),d=r("../base64"),h=r("../support"),f=r("../external"),p=null;if(h.nodestream)try{p=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function x(w,v){return new f.Promise(function(_,j){var E=[],C=w._internalType,z=w._outputType,P=w._mimeType;w.on("data",function(X,U){E.push(X),v&&v(U)}).on("error",function(X){E=[],j(X)}).on("end",function(){try{var X=(function(U,M,D){switch(U){case"blob":return a.newBlob(a.transformTo("arraybuffer",M),D);case"base64":return d.encode(M);default:return a.transformTo(U,M)}})(z,(function(U,M){var D,G=0,L=null,I=0;for(D=0;D<M.length;D++)I+=M[D].length;switch(U){case"string":return M.join("");case"array":return Array.prototype.concat.apply([],M);case"uint8array":for(L=new Uint8Array(I),D=0;D<M.length;D++)L.set(M[D],G),G+=M[D].length;return L;case"nodebuffer":return Buffer.concat(M);default:throw new Error("concat : unsupported type '"+U+"'")}})(C,E),P);_(X)}catch(U){j(U)}E=[]}).resume()})}function g(w,v,_){var j=v;switch(v){case"blob":case"arraybuffer":j="uint8array";break;case"base64":j="string"}try{this._internalType=j,this._outputType=v,this._mimeType=_,a.checkSupport(j),this._worker=w.pipe(new l(j)),w.lock()}catch(E){this._worker=new c("error"),this._worker.error(E)}}g.prototype={accumulate:function(w){return x(this,w)},on:function(w,v){var _=this;return w==="data"?this._worker.on(w,function(j){v.call(_,j.data,j.meta)}):this._worker.on(w,function(){a.delay(v,arguments,_)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=g},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(a),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!r("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,i){for(var a=r("./utils"),l=r("./support"),c=r("./nodejsUtils"),d=r("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function p(){d.call(this,"utf-8 decode"),this.leftOver=null}function x(){d.call(this,"utf-8 encode")}i.utf8encode=function(g){return l.nodebuffer?c.newBufferFrom(g,"utf-8"):(function(w){var v,_,j,E,C,z=w.length,P=0;for(E=0;E<z;E++)(64512&(_=w.charCodeAt(E)))==55296&&E+1<z&&(64512&(j=w.charCodeAt(E+1)))==56320&&(_=65536+(_-55296<<10)+(j-56320),E++),P+=_<128?1:_<2048?2:_<65536?3:4;for(v=l.uint8array?new Uint8Array(P):new Array(P),E=C=0;C<P;E++)(64512&(_=w.charCodeAt(E)))==55296&&E+1<z&&(64512&(j=w.charCodeAt(E+1)))==56320&&(_=65536+(_-55296<<10)+(j-56320),E++),_<128?v[C++]=_:(_<2048?v[C++]=192|_>>>6:(_<65536?v[C++]=224|_>>>12:(v[C++]=240|_>>>18,v[C++]=128|_>>>12&63),v[C++]=128|_>>>6&63),v[C++]=128|63&_);return v})(g)},i.utf8decode=function(g){return l.nodebuffer?a.transformTo("nodebuffer",g).toString("utf-8"):(function(w){var v,_,j,E,C=w.length,z=new Array(2*C);for(v=_=0;v<C;)if((j=w[v++])<128)z[_++]=j;else if(4<(E=h[j]))z[_++]=65533,v+=E-1;else{for(j&=E===2?31:E===3?15:7;1<E&&v<C;)j=j<<6|63&w[v++],E--;1<E?z[_++]=65533:j<65536?z[_++]=j:(j-=65536,z[_++]=55296|j>>10&1023,z[_++]=56320|1023&j)}return z.length!==_&&(z.subarray?z=z.subarray(0,_):z.length=_),a.applyFromCharCode(z)})(g=a.transformTo(l.uint8array?"uint8array":"array",g))},a.inherits(p,d),p.prototype.processChunk=function(g){var w=a.transformTo(l.uint8array?"uint8array":"array",g.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var v=w;(w=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),w.set(v,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var _=(function(E,C){var z;for((C=C||E.length)>E.length&&(C=E.length),z=C-1;0<=z&&(192&E[z])==128;)z--;return z<0||z===0?C:z+h[E[z]]>C?z:C})(w),j=w;_!==w.length&&(l.uint8array?(j=w.subarray(0,_),this.leftOver=w.subarray(_,w.length)):(j=w.slice(0,_),this.leftOver=w.slice(_,w.length))),this.push({data:i.utf8decode(j),meta:g.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,a.inherits(x,d),x.prototype.processChunk=function(g){this.push({data:i.utf8encode(g.data),meta:g.meta})},i.Utf8EncodeWorker=x},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,i){var a=r("./support"),l=r("./base64"),c=r("./nodejsUtils"),d=r("./external");function h(v){return v}function f(v,_){for(var j=0;j<v.length;++j)_[j]=255&v.charCodeAt(j);return _}r("setimmediate"),i.newBlob=function(v,_){i.checkSupport("blob");try{return new Blob([v],{type:_})}catch{try{var j=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return j.append(v),j.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(v,_,j){var E=[],C=0,z=v.length;if(z<=j)return String.fromCharCode.apply(null,v);for(;C<z;)_==="array"||_==="nodebuffer"?E.push(String.fromCharCode.apply(null,v.slice(C,Math.min(C+j,z)))):E.push(String.fromCharCode.apply(null,v.subarray(C,Math.min(C+j,z)))),C+=j;return E.join("")},stringifyByChar:function(v){for(var _="",j=0;j<v.length;j++)_+=String.fromCharCode(v[j]);return _},applyCanBeUsed:{uint8array:(function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function x(v){var _=65536,j=i.getTypeOf(v),E=!0;if(j==="uint8array"?E=p.applyCanBeUsed.uint8array:j==="nodebuffer"&&(E=p.applyCanBeUsed.nodebuffer),E)for(;1<_;)try{return p.stringifyByChunk(v,j,_)}catch{_=Math.floor(_/2)}return p.stringifyByChar(v)}function g(v,_){for(var j=0;j<v.length;j++)_[j]=v[j];return _}i.applyFromCharCode=x;var w={};w.string={string:h,array:function(v){return f(v,new Array(v.length))},arraybuffer:function(v){return w.string.uint8array(v).buffer},uint8array:function(v){return f(v,new Uint8Array(v.length))},nodebuffer:function(v){return f(v,c.allocBuffer(v.length))}},w.array={string:x,array:h,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(v)}},w.arraybuffer={string:function(v){return x(new Uint8Array(v))},array:function(v){return g(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:h,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return c.newBufferFrom(new Uint8Array(v))}},w.uint8array={string:x,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:h,nodebuffer:function(v){return c.newBufferFrom(v)}},w.nodebuffer={string:x,array:function(v){return g(v,new Array(v.length))},arraybuffer:function(v){return w.nodebuffer.uint8array(v).buffer},uint8array:function(v){return g(v,new Uint8Array(v.length))},nodebuffer:h},i.transformTo=function(v,_){if(_=_||"",!v)return _;i.checkSupport(v);var j=i.getTypeOf(_);return w[j][v](_)},i.resolve=function(v){for(var _=v.split("/"),j=[],E=0;E<_.length;E++){var C=_[E];C==="."||C===""&&E!==0&&E!==_.length-1||(C===".."?j.pop():j.push(C))}return j.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&c.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var _,j,E="";for(j=0;j<(v||"").length;j++)E+="\\x"+((_=v.charCodeAt(j))<16?"0":"")+_.toString(16).toUpperCase();return E},i.delay=function(v,_,j){setImmediate(function(){v.apply(j||null,_||[])})},i.inherits=function(v,_){function j(){}j.prototype=_.prototype,v.prototype=new j},i.extend=function(){var v,_,j={};for(v=0;v<arguments.length;v++)for(_ in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],_)&&j[_]===void 0&&(j[_]=arguments[v][_]);return j},i.prepareContent=function(v,_,j,E,C){return d.Promise.resolve(_).then(function(z){return a.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new d.Promise(function(P,X){var U=new FileReader;U.onload=function(M){P(M.target.result)},U.onerror=function(M){X(M.target.error)},U.readAsArrayBuffer(z)}):z}).then(function(z){var P=i.getTypeOf(z);return P?(P==="arraybuffer"?z=i.transformTo("uint8array",z):P==="string"&&(C?z=l.decode(z):j&&E!==!0&&(z=(function(X){return f(X,a.uint8array?new Uint8Array(X.length):new Array(X.length))})(z))),z):d.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,i){var a=r("./reader/readerFor"),l=r("./utils"),c=r("./signature"),d=r("./zipEntry"),h=r("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var x=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(x)+", expected "+l.pretty(p)+")")}},isSignature:function(p,x){var g=this.reader.index;this.reader.setIndex(p);var w=this.reader.readString(4)===x;return this.reader.setIndex(g),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),x=h.uint8array?"uint8array":"array",g=l.transformTo(x,p);this.zipComment=this.loadOptions.decodeFileName(g)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,x,g,w=this.zip64EndOfCentralSize-44;0<w;)p=this.reader.readInt(2),x=this.reader.readInt(4),g=this.reader.readData(x),this.zip64ExtensibleData[p]={id:p,length:x,value:g}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,x;for(p=0;p<this.files.length;p++)x=this.files[p],this.reader.setIndex(x.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),x.readLocalPart(this.reader),x.handleUTF8(),x.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(p=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var x=p;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var g=this.centralDirOffset+this.centralDirSize;this.zip64&&(g+=20,g+=12+this.zip64EndOfCentralSize);var w=x-g;if(0<w)this.isSignature(x,c.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(p){this.reader=a(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,i){var a=r("./reader/readerFor"),l=r("./utils"),c=r("./compressedObject"),d=r("./crc32"),h=r("./utf8"),f=r("./compressions"),p=r("./support");function x(g,w){this.options=g,this.loadOptions=w}x.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(g){var w,v;if(g.skip(22),this.fileNameLength=g.readInt(2),v=g.readInt(2),this.fileName=g.readData(this.fileNameLength),g.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=(function(_){for(var j in f)if(Object.prototype.hasOwnProperty.call(f,j)&&f[j].magic===_)return f[j];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,w,g.readData(this.compressedSize))},readCentralPart:function(g){this.versionMadeBy=g.readInt(2),g.skip(2),this.bitFlag=g.readInt(2),this.compressionMethod=g.readString(2),this.date=g.readDate(),this.crc32=g.readInt(4),this.compressedSize=g.readInt(4),this.uncompressedSize=g.readInt(4);var w=g.readInt(2);if(this.extraFieldsLength=g.readInt(2),this.fileCommentLength=g.readInt(2),this.diskNumberStart=g.readInt(2),this.internalFileAttributes=g.readInt(2),this.externalFileAttributes=g.readInt(4),this.localHeaderOffset=g.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");g.skip(w),this.readExtraFields(g),this.parseZIP64ExtraField(g),this.fileComment=g.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var g=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),g==0&&(this.dosPermissions=63&this.externalFileAttributes),g==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var g=a(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=g.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=g.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=g.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=g.readInt(4))}},readExtraFields:function(g){var w,v,_,j=g.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});g.index+4<j;)w=g.readInt(2),v=g.readInt(2),_=g.readData(v),this.extraFields[w]={id:w,length:v,value:_};g.setIndex(j)},handleUTF8:function(){var g=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var v=l.transformTo(g,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var j=l.transformTo(g,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(j)}}},findExtraFieldUnicodePath:function(){var g=this.extraFields[28789];if(g){var w=a(g.value);return w.readInt(1)!==1||d(this.fileName)!==w.readInt(4)?null:h.utf8decode(w.readData(g.length-5))}return null},findExtraFieldUnicodeComment:function(){var g=this.extraFields[25461];if(g){var w=a(g.value);return w.readInt(1)!==1||d(this.fileComment)!==w.readInt(4)?null:h.utf8decode(w.readData(g.length-5))}return null}},n.exports=x},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,i){function a(w,v,_){this.name=w,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=v,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var l=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),d=r("./utf8"),h=r("./compressedObject"),f=r("./stream/GenericWorker");a.prototype={internalStream:function(w){var v=null,_="string";try{if(!w)throw new Error("No output type specified.");var j=(_=w.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),v=this._decompressWorker();var E=!this._dataBinary;E&&!j&&(v=v.pipe(new d.Utf8EncodeWorker)),!E&&j&&(v=v.pipe(new d.Utf8DecodeWorker))}catch(C){(v=new f("error")).error(C)}return new l(v,_,"")},async:function(w,v){return this.internalStream(w).accumulate(v)},nodeStream:function(w,v){return this.internalStream(w||"nodebuffer").toNodejsStream(v)},_compressWorker:function(w,v){if(this._data instanceof h&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(_,w,v)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new c(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],x=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},g=0;g<p.length;g++)a.prototype[p[g]]=x;n.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,i){(function(a){var l,c,d=a.MutationObserver||a.WebKitMutationObserver;if(d){var h=0,f=new d(w),p=a.document.createTextNode("");f.observe(p,{characterData:!0}),l=function(){p.data=h=++h%2}}else if(a.setImmediate||a.MessageChannel===void 0)l="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){w(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(w,0)};else{var x=new a.MessageChannel;x.port1.onmessage=w,l=function(){x.port2.postMessage(0)}}var g=[];function w(){var v,_;c=!0;for(var j=g.length;j;){for(_=g,g=[],v=-1;++v<j;)_[v]();j=g.length}c=!1}n.exports=function(v){g.push(v)!==1||c||l()}}).call(this,typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,i){var a=r("immediate");function l(){}var c={},d=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function p(j){if(typeof j!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,j!==l&&v(this,j)}function x(j,E,C){this.promise=j,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function g(j,E,C){a(function(){var z;try{z=E(C)}catch(P){return c.reject(j,P)}z===j?c.reject(j,new TypeError("Cannot resolve promise with itself")):c.resolve(j,z)})}function w(j){var E=j&&j.then;if(j&&(typeof j=="object"||typeof j=="function")&&typeof E=="function")return function(){E.apply(j,arguments)}}function v(j,E){var C=!1;function z(U){C||(C=!0,c.reject(j,U))}function P(U){C||(C=!0,c.resolve(j,U))}var X=_(function(){E(P,z)});X.status==="error"&&z(X.value)}function _(j,E){var C={};try{C.value=j(E),C.status="success"}catch(z){C.status="error",C.value=z}return C}(n.exports=p).prototype.finally=function(j){if(typeof j!="function")return this;var E=this.constructor;return this.then(function(C){return E.resolve(j()).then(function(){return C})},function(C){return E.resolve(j()).then(function(){throw C})})},p.prototype.catch=function(j){return this.then(null,j)},p.prototype.then=function(j,E){if(typeof j!="function"&&this.state===h||typeof E!="function"&&this.state===d)return this;var C=new this.constructor(l);return this.state!==f?g(C,this.state===h?j:E,this.outcome):this.queue.push(new x(C,j,E)),C},x.prototype.callFulfilled=function(j){c.resolve(this.promise,j)},x.prototype.otherCallFulfilled=function(j){g(this.promise,this.onFulfilled,j)},x.prototype.callRejected=function(j){c.reject(this.promise,j)},x.prototype.otherCallRejected=function(j){g(this.promise,this.onRejected,j)},c.resolve=function(j,E){var C=_(w,E);if(C.status==="error")return c.reject(j,C.value);var z=C.value;if(z)v(j,z);else{j.state=h,j.outcome=E;for(var P=-1,X=j.queue.length;++P<X;)j.queue[P].callFulfilled(E)}return j},c.reject=function(j,E){j.state=d,j.outcome=E;for(var C=-1,z=j.queue.length;++C<z;)j.queue[C].callRejected(E);return j},p.resolve=function(j){return j instanceof this?j:c.resolve(new this(l),j)},p.reject=function(j){var E=new this(l);return c.reject(E,j)},p.all=function(j){var E=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=j.length,z=!1;if(!C)return this.resolve([]);for(var P=new Array(C),X=0,U=-1,M=new this(l);++U<C;)D(j[U],U);return M;function D(G,L){E.resolve(G).then(function(I){P[L]=I,++X!==C||z||(z=!0,c.resolve(M,P))},function(I){z||(z=!0,c.reject(M,I))})}},p.race=function(j){var E=this;if(Object.prototype.toString.call(j)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=j.length,z=!1;if(!C)return this.resolve([]);for(var P=-1,X=new this(l);++P<C;)U=j[P],E.resolve(U).then(function(M){z||(z=!0,c.resolve(X,M))},function(M){z||(z=!0,c.reject(X,M))});var U;return X}},{immediate:36}],38:[function(r,n,i){var a={};(0,r("./lib/utils/common").assign)(a,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,i){var a=r("./zlib/deflate"),l=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/messages"),h=r("./zlib/zstream"),f=Object.prototype.toString,p=0,x=-1,g=0,w=8;function v(j){if(!(this instanceof v))return new v(j);this.options=l.assign({level:x,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},j||{});var E=this.options;E.raw&&0<E.windowBits?E.windowBits=-E.windowBits:E.gzip&&0<E.windowBits&&E.windowBits<16&&(E.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var C=a.deflateInit2(this.strm,E.level,E.method,E.windowBits,E.memLevel,E.strategy);if(C!==p)throw new Error(d[C]);if(E.header&&a.deflateSetHeader(this.strm,E.header),E.dictionary){var z;if(z=typeof E.dictionary=="string"?c.string2buf(E.dictionary):f.call(E.dictionary)==="[object ArrayBuffer]"?new Uint8Array(E.dictionary):E.dictionary,(C=a.deflateSetDictionary(this.strm,z))!==p)throw new Error(d[C]);this._dict_set=!0}}function _(j,E){var C=new v(E);if(C.push(j,!0),C.err)throw C.msg||d[C.err];return C.result}v.prototype.push=function(j,E){var C,z,P=this.strm,X=this.options.chunkSize;if(this.ended)return!1;z=E===~~E?E:E===!0?4:0,typeof j=="string"?P.input=c.string2buf(j):f.call(j)==="[object ArrayBuffer]"?P.input=new Uint8Array(j):P.input=j,P.next_in=0,P.avail_in=P.input.length;do{if(P.avail_out===0&&(P.output=new l.Buf8(X),P.next_out=0,P.avail_out=X),(C=a.deflate(P,z))!==1&&C!==p)return this.onEnd(C),!(this.ended=!0);P.avail_out!==0&&(P.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(l.shrinkBuf(P.output,P.next_out))):this.onData(l.shrinkBuf(P.output,P.next_out)))}while((0<P.avail_in||P.avail_out===0)&&C!==1);return z===4?(C=a.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===p):z!==2||(this.onEnd(p),!(P.avail_out=0))},v.prototype.onData=function(j){this.chunks.push(j)},v.prototype.onEnd=function(j){j===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=j,this.msg=this.strm.msg},i.Deflate=v,i.deflate=_,i.deflateRaw=function(j,E){return(E=E||{}).raw=!0,_(j,E)},i.gzip=function(j,E){return(E=E||{}).gzip=!0,_(j,E)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,i){var a=r("./zlib/inflate"),l=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/constants"),h=r("./zlib/messages"),f=r("./zlib/zstream"),p=r("./zlib/gzheader"),x=Object.prototype.toString;function g(v){if(!(this instanceof g))return new g(v);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},v||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||v&&v.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var j=a.inflateInit2(this.strm,_.windowBits);if(j!==d.Z_OK)throw new Error(h[j]);this.header=new p,a.inflateGetHeader(this.strm,this.header)}function w(v,_){var j=new g(_);if(j.push(v,!0),j.err)throw j.msg||h[j.err];return j.result}g.prototype.push=function(v,_){var j,E,C,z,P,X,U=this.strm,M=this.options.chunkSize,D=this.options.dictionary,G=!1;if(this.ended)return!1;E=_===~~_?_:_===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof v=="string"?U.input=c.binstring2buf(v):x.call(v)==="[object ArrayBuffer]"?U.input=new Uint8Array(v):U.input=v,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new l.Buf8(M),U.next_out=0,U.avail_out=M),(j=a.inflate(U,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&D&&(X=typeof D=="string"?c.string2buf(D):x.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,j=a.inflateSetDictionary(this.strm,X)),j===d.Z_BUF_ERROR&&G===!0&&(j=d.Z_OK,G=!1),j!==d.Z_STREAM_END&&j!==d.Z_OK)return this.onEnd(j),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&j!==d.Z_STREAM_END&&(U.avail_in!==0||E!==d.Z_FINISH&&E!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=c.utf8border(U.output,U.next_out),z=U.next_out-C,P=c.buf2string(U.output,C),U.next_out=z,U.avail_out=M-z,z&&l.arraySet(U.output,U.output,C,z,0),this.onData(P)):this.onData(l.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(G=!0)}while((0<U.avail_in||U.avail_out===0)&&j!==d.Z_STREAM_END);return j===d.Z_STREAM_END&&(E=d.Z_FINISH),E===d.Z_FINISH?(j=a.inflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===d.Z_OK):E!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(U.avail_out=0))},g.prototype.onData=function(v){this.chunks.push(v)},g.prototype.onEnd=function(v){v===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=g,i.inflate=w,i.inflateRaw=function(v,_){return(_=_||{}).raw=!0,w(v,_)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(d[p]=f[p])}}return d},i.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var l={arraySet:function(d,h,f,p,x){if(h.subarray&&d.subarray)d.set(h.subarray(f,f+p),x);else for(var g=0;g<p;g++)d[x+g]=h[f+g]},flattenChunks:function(d){var h,f,p,x,g,w;for(h=p=0,f=d.length;h<f;h++)p+=d[h].length;for(w=new Uint8Array(p),h=x=0,f=d.length;h<f;h++)g=d[h],w.set(g,x),x+=g.length;return w}},c={arraySet:function(d,h,f,p,x){for(var g=0;g<p;g++)d[x+g]=h[f+g]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,c))},i.setTyped(a)},{}],42:[function(r,n,i){var a=r("./common"),l=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new a.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(p,x){if(x<65537&&(p.subarray&&c||!p.subarray&&l))return String.fromCharCode.apply(null,a.shrinkBuf(p,x));for(var g="",w=0;w<x;w++)g+=String.fromCharCode(p[w]);return g}d[254]=d[254]=1,i.string2buf=function(p){var x,g,w,v,_,j=p.length,E=0;for(v=0;v<j;v++)(64512&(g=p.charCodeAt(v)))==55296&&v+1<j&&(64512&(w=p.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(w-56320),v++),E+=g<128?1:g<2048?2:g<65536?3:4;for(x=new a.Buf8(E),v=_=0;_<E;v++)(64512&(g=p.charCodeAt(v)))==55296&&v+1<j&&(64512&(w=p.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(w-56320),v++),g<128?x[_++]=g:(g<2048?x[_++]=192|g>>>6:(g<65536?x[_++]=224|g>>>12:(x[_++]=240|g>>>18,x[_++]=128|g>>>12&63),x[_++]=128|g>>>6&63),x[_++]=128|63&g);return x},i.buf2binstring=function(p){return f(p,p.length)},i.binstring2buf=function(p){for(var x=new a.Buf8(p.length),g=0,w=x.length;g<w;g++)x[g]=p.charCodeAt(g);return x},i.buf2string=function(p,x){var g,w,v,_,j=x||p.length,E=new Array(2*j);for(g=w=0;g<j;)if((v=p[g++])<128)E[w++]=v;else if(4<(_=d[v]))E[w++]=65533,g+=_-1;else{for(v&=_===2?31:_===3?15:7;1<_&&g<j;)v=v<<6|63&p[g++],_--;1<_?E[w++]=65533:v<65536?E[w++]=v:(v-=65536,E[w++]=55296|v>>10&1023,E[w++]=56320|1023&v)}return f(E,w)},i.utf8border=function(p,x){var g;for((x=x||p.length)>p.length&&(x=p.length),g=x-1;0<=g&&(192&p[g])==128;)g--;return g<0||g===0?x:g+d[p[g]]>x?g:x}},{"./common":41}],43:[function(r,n,i){n.exports=function(a,l,c,d){for(var h=65535&a|0,f=a>>>16&65535|0,p=0;c!==0;){for(c-=p=2e3<c?2e3:c;f=f+(h=h+l[d++]|0)|0,--p;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(r,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,i){var a=(function(){for(var l,c=[],d=0;d<256;d++){l=d;for(var h=0;h<8;h++)l=1&l?3988292384^l>>>1:l>>>1;c[d]=l}return c})();n.exports=function(l,c,d,h){var f=a,p=h+d;l^=-1;for(var x=h;x<p;x++)l=l>>>8^f[255&(l^c[x])];return-1^l}},{}],46:[function(r,n,i){var a,l=r("../utils/common"),c=r("./trees"),d=r("./adler32"),h=r("./crc32"),f=r("./messages"),p=0,x=4,g=0,w=-2,v=-1,_=4,j=2,E=8,C=9,z=286,P=30,X=19,U=2*z+1,M=15,D=3,G=258,L=G+D+1,I=42,B=113,k=1,re=2,Y=3,Q=4;function se($,ie){return $.msg=f[ie],ie}function oe($){return($<<1)-(4<$?9:0)}function pe($){for(var ie=$.length;0<=--ie;)$[ie]=0}function H($){var ie=$.state,Pe=ie.pending;Pe>$.avail_out&&(Pe=$.avail_out),Pe!==0&&(l.arraySet($.output,ie.pending_buf,ie.pending_out,Pe,$.next_out),$.next_out+=Pe,ie.pending_out+=Pe,$.total_out+=Pe,$.avail_out-=Pe,ie.pending-=Pe,ie.pending===0&&(ie.pending_out=0))}function R($,ie){c._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,ie),$.block_start=$.strstart,H($.strm)}function J($,ie){$.pending_buf[$.pending++]=ie}function ee($,ie){$.pending_buf[$.pending++]=ie>>>8&255,$.pending_buf[$.pending++]=255&ie}function ae($,ie){var Pe,xe,he=$.max_chain_length,ve=$.strstart,ze=$.prev_length,De=$.nice_match,Ce=$.strstart>$.w_size-L?$.strstart-($.w_size-L):0,Ye=$.window,ot=$.w_mask,Qe=$.prev,ct=$.strstart+G,Tt=Ye[ve+ze-1],bt=Ye[ve+ze];$.prev_length>=$.good_match&&(he>>=2),De>$.lookahead&&(De=$.lookahead);do if(Ye[(Pe=ie)+ze]===bt&&Ye[Pe+ze-1]===Tt&&Ye[Pe]===Ye[ve]&&Ye[++Pe]===Ye[ve+1]){ve+=2,Pe++;do;while(Ye[++ve]===Ye[++Pe]&&Ye[++ve]===Ye[++Pe]&&Ye[++ve]===Ye[++Pe]&&Ye[++ve]===Ye[++Pe]&&Ye[++ve]===Ye[++Pe]&&Ye[++ve]===Ye[++Pe]&&Ye[++ve]===Ye[++Pe]&&Ye[++ve]===Ye[++Pe]&&ve<ct);if(xe=G-(ct-ve),ve=ct-G,ze<xe){if($.match_start=ie,De<=(ze=xe))break;Tt=Ye[ve+ze-1],bt=Ye[ve+ze]}}while((ie=Qe[ie&ot])>Ce&&--he!=0);return ze<=$.lookahead?ze:$.lookahead}function be($){var ie,Pe,xe,he,ve,ze,De,Ce,Ye,ot,Qe=$.w_size;do{if(he=$.window_size-$.lookahead-$.strstart,$.strstart>=Qe+(Qe-L)){for(l.arraySet($.window,$.window,Qe,Qe,0),$.match_start-=Qe,$.strstart-=Qe,$.block_start-=Qe,ie=Pe=$.hash_size;xe=$.head[--ie],$.head[ie]=Qe<=xe?xe-Qe:0,--Pe;);for(ie=Pe=Qe;xe=$.prev[--ie],$.prev[ie]=Qe<=xe?xe-Qe:0,--Pe;);he+=Qe}if($.strm.avail_in===0)break;if(ze=$.strm,De=$.window,Ce=$.strstart+$.lookahead,Ye=he,ot=void 0,ot=ze.avail_in,Ye<ot&&(ot=Ye),Pe=ot===0?0:(ze.avail_in-=ot,l.arraySet(De,ze.input,ze.next_in,ot,Ce),ze.state.wrap===1?ze.adler=d(ze.adler,De,ot,Ce):ze.state.wrap===2&&(ze.adler=h(ze.adler,De,ot,Ce)),ze.next_in+=ot,ze.total_in+=ot,ot),$.lookahead+=Pe,$.lookahead+$.insert>=D)for(ve=$.strstart-$.insert,$.ins_h=$.window[ve],$.ins_h=($.ins_h<<$.hash_shift^$.window[ve+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[ve+D-1])&$.hash_mask,$.prev[ve&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=ve,ve++,$.insert--,!($.lookahead+$.insert<D)););}while($.lookahead<L&&$.strm.avail_in!==0)}function je($,ie){for(var Pe,xe;;){if($.lookahead<L){if(be($),$.lookahead<L&&ie===p)return k;if($.lookahead===0)break}if(Pe=0,$.lookahead>=D&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+D-1])&$.hash_mask,Pe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),Pe!==0&&$.strstart-Pe<=$.w_size-L&&($.match_length=ae($,Pe)),$.match_length>=D)if(xe=c._tr_tally($,$.strstart-$.match_start,$.match_length-D),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=D){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+D-1])&$.hash_mask,Pe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else xe=c._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(xe&&(R($,!1),$.strm.avail_out===0))return k}return $.insert=$.strstart<D-1?$.strstart:D-1,ie===x?(R($,!0),$.strm.avail_out===0?Y:Q):$.last_lit&&(R($,!1),$.strm.avail_out===0)?k:re}function de($,ie){for(var Pe,xe,he;;){if($.lookahead<L){if(be($),$.lookahead<L&&ie===p)return k;if($.lookahead===0)break}if(Pe=0,$.lookahead>=D&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+D-1])&$.hash_mask,Pe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=D-1,Pe!==0&&$.prev_length<$.max_lazy_match&&$.strstart-Pe<=$.w_size-L&&($.match_length=ae($,Pe),$.match_length<=5&&($.strategy===1||$.match_length===D&&4096<$.strstart-$.match_start)&&($.match_length=D-1)),$.prev_length>=D&&$.match_length<=$.prev_length){for(he=$.strstart+$.lookahead-D,xe=c._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-D),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=he&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+D-1])&$.hash_mask,Pe=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=D-1,$.strstart++,xe&&(R($,!1),$.strm.avail_out===0))return k}else if($.match_available){if((xe=c._tr_tally($,0,$.window[$.strstart-1]))&&R($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return k}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(xe=c._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<D-1?$.strstart:D-1,ie===x?(R($,!0),$.strm.avail_out===0?Y:Q):$.last_lit&&(R($,!1),$.strm.avail_out===0)?k:re}function ge($,ie,Pe,xe,he){this.good_length=$,this.max_lazy=ie,this.nice_length=Pe,this.max_chain=xe,this.func=he}function Ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=E,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*U),this.dyn_dtree=new l.Buf16(2*(2*P+1)),this.bl_tree=new l.Buf16(2*(2*X+1)),pe(this.dyn_ltree),pe(this.dyn_dtree),pe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(M+1),this.heap=new l.Buf16(2*z+1),pe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*z+1),pe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ve($){var ie;return $&&$.state?($.total_in=$.total_out=0,$.data_type=j,(ie=$.state).pending=0,ie.pending_out=0,ie.wrap<0&&(ie.wrap=-ie.wrap),ie.status=ie.wrap?I:B,$.adler=ie.wrap===2?0:1,ie.last_flush=p,c._tr_init(ie),g):se($,w)}function Re($){var ie=Ve($);return ie===g&&(function(Pe){Pe.window_size=2*Pe.w_size,pe(Pe.head),Pe.max_lazy_match=a[Pe.level].max_lazy,Pe.good_match=a[Pe.level].good_length,Pe.nice_match=a[Pe.level].nice_length,Pe.max_chain_length=a[Pe.level].max_chain,Pe.strstart=0,Pe.block_start=0,Pe.lookahead=0,Pe.insert=0,Pe.match_length=Pe.prev_length=D-1,Pe.match_available=0,Pe.ins_h=0})($.state),ie}function mt($,ie,Pe,xe,he,ve){if(!$)return w;var ze=1;if(ie===v&&(ie=6),xe<0?(ze=0,xe=-xe):15<xe&&(ze=2,xe-=16),he<1||C<he||Pe!==E||xe<8||15<xe||ie<0||9<ie||ve<0||_<ve)return se($,w);xe===8&&(xe=9);var De=new Ie;return($.state=De).strm=$,De.wrap=ze,De.gzhead=null,De.w_bits=xe,De.w_size=1<<De.w_bits,De.w_mask=De.w_size-1,De.hash_bits=he+7,De.hash_size=1<<De.hash_bits,De.hash_mask=De.hash_size-1,De.hash_shift=~~((De.hash_bits+D-1)/D),De.window=new l.Buf8(2*De.w_size),De.head=new l.Buf16(De.hash_size),De.prev=new l.Buf16(De.w_size),De.lit_bufsize=1<<he+6,De.pending_buf_size=4*De.lit_bufsize,De.pending_buf=new l.Buf8(De.pending_buf_size),De.d_buf=1*De.lit_bufsize,De.l_buf=3*De.lit_bufsize,De.level=ie,De.strategy=ve,De.method=Pe,Re($)}a=[new ge(0,0,0,0,function($,ie){var Pe=65535;for(Pe>$.pending_buf_size-5&&(Pe=$.pending_buf_size-5);;){if($.lookahead<=1){if(be($),$.lookahead===0&&ie===p)return k;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var xe=$.block_start+Pe;if(($.strstart===0||$.strstart>=xe)&&($.lookahead=$.strstart-xe,$.strstart=xe,R($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-L&&(R($,!1),$.strm.avail_out===0))return k}return $.insert=0,ie===x?(R($,!0),$.strm.avail_out===0?Y:Q):($.strstart>$.block_start&&(R($,!1),$.strm.avail_out),k)}),new ge(4,4,8,4,je),new ge(4,5,16,8,je),new ge(4,6,32,32,je),new ge(4,4,16,16,de),new ge(8,16,32,32,de),new ge(8,16,128,128,de),new ge(8,32,128,256,de),new ge(32,128,258,1024,de),new ge(32,258,258,4096,de)],i.deflateInit=function($,ie){return mt($,ie,E,15,8,0)},i.deflateInit2=mt,i.deflateReset=Re,i.deflateResetKeep=Ve,i.deflateSetHeader=function($,ie){return $&&$.state?$.state.wrap!==2?w:($.state.gzhead=ie,g):w},i.deflate=function($,ie){var Pe,xe,he,ve;if(!$||!$.state||5<ie||ie<0)return $?se($,w):w;if(xe=$.state,!$.output||!$.input&&$.avail_in!==0||xe.status===666&&ie!==x)return se($,$.avail_out===0?-5:w);if(xe.strm=$,Pe=xe.last_flush,xe.last_flush=ie,xe.status===I)if(xe.wrap===2)$.adler=0,J(xe,31),J(xe,139),J(xe,8),xe.gzhead?(J(xe,(xe.gzhead.text?1:0)+(xe.gzhead.hcrc?2:0)+(xe.gzhead.extra?4:0)+(xe.gzhead.name?8:0)+(xe.gzhead.comment?16:0)),J(xe,255&xe.gzhead.time),J(xe,xe.gzhead.time>>8&255),J(xe,xe.gzhead.time>>16&255),J(xe,xe.gzhead.time>>24&255),J(xe,xe.level===9?2:2<=xe.strategy||xe.level<2?4:0),J(xe,255&xe.gzhead.os),xe.gzhead.extra&&xe.gzhead.extra.length&&(J(xe,255&xe.gzhead.extra.length),J(xe,xe.gzhead.extra.length>>8&255)),xe.gzhead.hcrc&&($.adler=h($.adler,xe.pending_buf,xe.pending,0)),xe.gzindex=0,xe.status=69):(J(xe,0),J(xe,0),J(xe,0),J(xe,0),J(xe,0),J(xe,xe.level===9?2:2<=xe.strategy||xe.level<2?4:0),J(xe,3),xe.status=B);else{var ze=E+(xe.w_bits-8<<4)<<8;ze|=(2<=xe.strategy||xe.level<2?0:xe.level<6?1:xe.level===6?2:3)<<6,xe.strstart!==0&&(ze|=32),ze+=31-ze%31,xe.status=B,ee(xe,ze),xe.strstart!==0&&(ee(xe,$.adler>>>16),ee(xe,65535&$.adler)),$.adler=1}if(xe.status===69)if(xe.gzhead.extra){for(he=xe.pending;xe.gzindex<(65535&xe.gzhead.extra.length)&&(xe.pending!==xe.pending_buf_size||(xe.gzhead.hcrc&&xe.pending>he&&($.adler=h($.adler,xe.pending_buf,xe.pending-he,he)),H($),he=xe.pending,xe.pending!==xe.pending_buf_size));)J(xe,255&xe.gzhead.extra[xe.gzindex]),xe.gzindex++;xe.gzhead.hcrc&&xe.pending>he&&($.adler=h($.adler,xe.pending_buf,xe.pending-he,he)),xe.gzindex===xe.gzhead.extra.length&&(xe.gzindex=0,xe.status=73)}else xe.status=73;if(xe.status===73)if(xe.gzhead.name){he=xe.pending;do{if(xe.pending===xe.pending_buf_size&&(xe.gzhead.hcrc&&xe.pending>he&&($.adler=h($.adler,xe.pending_buf,xe.pending-he,he)),H($),he=xe.pending,xe.pending===xe.pending_buf_size)){ve=1;break}ve=xe.gzindex<xe.gzhead.name.length?255&xe.gzhead.name.charCodeAt(xe.gzindex++):0,J(xe,ve)}while(ve!==0);xe.gzhead.hcrc&&xe.pending>he&&($.adler=h($.adler,xe.pending_buf,xe.pending-he,he)),ve===0&&(xe.gzindex=0,xe.status=91)}else xe.status=91;if(xe.status===91)if(xe.gzhead.comment){he=xe.pending;do{if(xe.pending===xe.pending_buf_size&&(xe.gzhead.hcrc&&xe.pending>he&&($.adler=h($.adler,xe.pending_buf,xe.pending-he,he)),H($),he=xe.pending,xe.pending===xe.pending_buf_size)){ve=1;break}ve=xe.gzindex<xe.gzhead.comment.length?255&xe.gzhead.comment.charCodeAt(xe.gzindex++):0,J(xe,ve)}while(ve!==0);xe.gzhead.hcrc&&xe.pending>he&&($.adler=h($.adler,xe.pending_buf,xe.pending-he,he)),ve===0&&(xe.status=103)}else xe.status=103;if(xe.status===103&&(xe.gzhead.hcrc?(xe.pending+2>xe.pending_buf_size&&H($),xe.pending+2<=xe.pending_buf_size&&(J(xe,255&$.adler),J(xe,$.adler>>8&255),$.adler=0,xe.status=B)):xe.status=B),xe.pending!==0){if(H($),$.avail_out===0)return xe.last_flush=-1,g}else if($.avail_in===0&&oe(ie)<=oe(Pe)&&ie!==x)return se($,-5);if(xe.status===666&&$.avail_in!==0)return se($,-5);if($.avail_in!==0||xe.lookahead!==0||ie!==p&&xe.status!==666){var De=xe.strategy===2?(function(Ce,Ye){for(var ot;;){if(Ce.lookahead===0&&(be(Ce),Ce.lookahead===0)){if(Ye===p)return k;break}if(Ce.match_length=0,ot=c._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++,ot&&(R(Ce,!1),Ce.strm.avail_out===0))return k}return Ce.insert=0,Ye===x?(R(Ce,!0),Ce.strm.avail_out===0?Y:Q):Ce.last_lit&&(R(Ce,!1),Ce.strm.avail_out===0)?k:re})(xe,ie):xe.strategy===3?(function(Ce,Ye){for(var ot,Qe,ct,Tt,bt=Ce.window;;){if(Ce.lookahead<=G){if(be(Ce),Ce.lookahead<=G&&Ye===p)return k;if(Ce.lookahead===0)break}if(Ce.match_length=0,Ce.lookahead>=D&&0<Ce.strstart&&(Qe=bt[ct=Ce.strstart-1])===bt[++ct]&&Qe===bt[++ct]&&Qe===bt[++ct]){Tt=Ce.strstart+G;do;while(Qe===bt[++ct]&&Qe===bt[++ct]&&Qe===bt[++ct]&&Qe===bt[++ct]&&Qe===bt[++ct]&&Qe===bt[++ct]&&Qe===bt[++ct]&&Qe===bt[++ct]&&ct<Tt);Ce.match_length=G-(Tt-ct),Ce.match_length>Ce.lookahead&&(Ce.match_length=Ce.lookahead)}if(Ce.match_length>=D?(ot=c._tr_tally(Ce,1,Ce.match_length-D),Ce.lookahead-=Ce.match_length,Ce.strstart+=Ce.match_length,Ce.match_length=0):(ot=c._tr_tally(Ce,0,Ce.window[Ce.strstart]),Ce.lookahead--,Ce.strstart++),ot&&(R(Ce,!1),Ce.strm.avail_out===0))return k}return Ce.insert=0,Ye===x?(R(Ce,!0),Ce.strm.avail_out===0?Y:Q):Ce.last_lit&&(R(Ce,!1),Ce.strm.avail_out===0)?k:re})(xe,ie):a[xe.level].func(xe,ie);if(De!==Y&&De!==Q||(xe.status=666),De===k||De===Y)return $.avail_out===0&&(xe.last_flush=-1),g;if(De===re&&(ie===1?c._tr_align(xe):ie!==5&&(c._tr_stored_block(xe,0,0,!1),ie===3&&(pe(xe.head),xe.lookahead===0&&(xe.strstart=0,xe.block_start=0,xe.insert=0))),H($),$.avail_out===0))return xe.last_flush=-1,g}return ie!==x?g:xe.wrap<=0?1:(xe.wrap===2?(J(xe,255&$.adler),J(xe,$.adler>>8&255),J(xe,$.adler>>16&255),J(xe,$.adler>>24&255),J(xe,255&$.total_in),J(xe,$.total_in>>8&255),J(xe,$.total_in>>16&255),J(xe,$.total_in>>24&255)):(ee(xe,$.adler>>>16),ee(xe,65535&$.adler)),H($),0<xe.wrap&&(xe.wrap=-xe.wrap),xe.pending!==0?g:1)},i.deflateEnd=function($){var ie;return $&&$.state?(ie=$.state.status)!==I&&ie!==69&&ie!==73&&ie!==91&&ie!==103&&ie!==B&&ie!==666?se($,w):($.state=null,ie===B?se($,-3):g):w},i.deflateSetDictionary=function($,ie){var Pe,xe,he,ve,ze,De,Ce,Ye,ot=ie.length;if(!$||!$.state||(ve=(Pe=$.state).wrap)===2||ve===1&&Pe.status!==I||Pe.lookahead)return w;for(ve===1&&($.adler=d($.adler,ie,ot,0)),Pe.wrap=0,ot>=Pe.w_size&&(ve===0&&(pe(Pe.head),Pe.strstart=0,Pe.block_start=0,Pe.insert=0),Ye=new l.Buf8(Pe.w_size),l.arraySet(Ye,ie,ot-Pe.w_size,Pe.w_size,0),ie=Ye,ot=Pe.w_size),ze=$.avail_in,De=$.next_in,Ce=$.input,$.avail_in=ot,$.next_in=0,$.input=ie,be(Pe);Pe.lookahead>=D;){for(xe=Pe.strstart,he=Pe.lookahead-(D-1);Pe.ins_h=(Pe.ins_h<<Pe.hash_shift^Pe.window[xe+D-1])&Pe.hash_mask,Pe.prev[xe&Pe.w_mask]=Pe.head[Pe.ins_h],Pe.head[Pe.ins_h]=xe,xe++,--he;);Pe.strstart=xe,Pe.lookahead=D-1,be(Pe)}return Pe.strstart+=Pe.lookahead,Pe.block_start=Pe.strstart,Pe.insert=Pe.lookahead,Pe.lookahead=0,Pe.match_length=Pe.prev_length=D-1,Pe.match_available=0,$.next_in=De,$.input=Ce,$.avail_in=ze,Pe.wrap=ve,g},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,i){n.exports=function(a,l){var c,d,h,f,p,x,g,w,v,_,j,E,C,z,P,X,U,M,D,G,L,I,B,k,re;c=a.state,d=a.next_in,k=a.input,h=d+(a.avail_in-5),f=a.next_out,re=a.output,p=f-(l-a.avail_out),x=f+(a.avail_out-257),g=c.dmax,w=c.wsize,v=c.whave,_=c.wnext,j=c.window,E=c.hold,C=c.bits,z=c.lencode,P=c.distcode,X=(1<<c.lenbits)-1,U=(1<<c.distbits)-1;e:do{C<15&&(E+=k[d++]<<C,C+=8,E+=k[d++]<<C,C+=8),M=z[E&X];t:for(;;){if(E>>>=D=M>>>24,C-=D,(D=M>>>16&255)===0)re[f++]=65535&M;else{if(!(16&D)){if((64&D)==0){M=z[(65535&M)+(E&(1<<D)-1)];continue t}if(32&D){c.mode=12;break e}a.msg="invalid literal/length code",c.mode=30;break e}G=65535&M,(D&=15)&&(C<D&&(E+=k[d++]<<C,C+=8),G+=E&(1<<D)-1,E>>>=D,C-=D),C<15&&(E+=k[d++]<<C,C+=8,E+=k[d++]<<C,C+=8),M=P[E&U];r:for(;;){if(E>>>=D=M>>>24,C-=D,!(16&(D=M>>>16&255))){if((64&D)==0){M=P[(65535&M)+(E&(1<<D)-1)];continue r}a.msg="invalid distance code",c.mode=30;break e}if(L=65535&M,C<(D&=15)&&(E+=k[d++]<<C,(C+=8)<D&&(E+=k[d++]<<C,C+=8)),g<(L+=E&(1<<D)-1)){a.msg="invalid distance too far back",c.mode=30;break e}if(E>>>=D,C-=D,(D=f-p)<L){if(v<(D=L-D)&&c.sane){a.msg="invalid distance too far back",c.mode=30;break e}if(B=j,(I=0)===_){if(I+=w-D,D<G){for(G-=D;re[f++]=j[I++],--D;);I=f-L,B=re}}else if(_<D){if(I+=w+_-D,(D-=_)<G){for(G-=D;re[f++]=j[I++],--D;);if(I=0,_<G){for(G-=D=_;re[f++]=j[I++],--D;);I=f-L,B=re}}}else if(I+=_-D,D<G){for(G-=D;re[f++]=j[I++],--D;);I=f-L,B=re}for(;2<G;)re[f++]=B[I++],re[f++]=B[I++],re[f++]=B[I++],G-=3;G&&(re[f++]=B[I++],1<G&&(re[f++]=B[I++]))}else{for(I=f-L;re[f++]=re[I++],re[f++]=re[I++],re[f++]=re[I++],2<(G-=3););G&&(re[f++]=re[I++],1<G&&(re[f++]=re[I++]))}break}}break}}while(d<h&&f<x);d-=G=C>>3,E&=(1<<(C-=G<<3))-1,a.next_in=d,a.next_out=f,a.avail_in=d<h?h-d+5:5-(d-h),a.avail_out=f<x?x-f+257:257-(f-x),c.hold=E,c.bits=C}},{}],49:[function(r,n,i){var a=r("../utils/common"),l=r("./adler32"),c=r("./crc32"),d=r("./inffast"),h=r("./inftrees"),f=1,p=2,x=0,g=-2,w=1,v=852,_=592;function j(I){return(I>>>24&255)+(I>>>8&65280)+((65280&I)<<8)+((255&I)<<24)}function E(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(I){var B;return I&&I.state?(B=I.state,I.total_in=I.total_out=B.total=0,I.msg="",B.wrap&&(I.adler=1&B.wrap),B.mode=w,B.last=0,B.havedict=0,B.dmax=32768,B.head=null,B.hold=0,B.bits=0,B.lencode=B.lendyn=new a.Buf32(v),B.distcode=B.distdyn=new a.Buf32(_),B.sane=1,B.back=-1,x):g}function z(I){var B;return I&&I.state?((B=I.state).wsize=0,B.whave=0,B.wnext=0,C(I)):g}function P(I,B){var k,re;return I&&I.state?(re=I.state,B<0?(k=0,B=-B):(k=1+(B>>4),B<48&&(B&=15)),B&&(B<8||15<B)?g:(re.window!==null&&re.wbits!==B&&(re.window=null),re.wrap=k,re.wbits=B,z(I))):g}function X(I,B){var k,re;return I?(re=new E,(I.state=re).window=null,(k=P(I,B))!==x&&(I.state=null),k):g}var U,M,D=!0;function G(I){if(D){var B;for(U=new a.Buf32(512),M=new a.Buf32(32),B=0;B<144;)I.lens[B++]=8;for(;B<256;)I.lens[B++]=9;for(;B<280;)I.lens[B++]=7;for(;B<288;)I.lens[B++]=8;for(h(f,I.lens,0,288,U,0,I.work,{bits:9}),B=0;B<32;)I.lens[B++]=5;h(p,I.lens,0,32,M,0,I.work,{bits:5}),D=!1}I.lencode=U,I.lenbits=9,I.distcode=M,I.distbits=5}function L(I,B,k,re){var Y,Q=I.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new a.Buf8(Q.wsize)),re>=Q.wsize?(a.arraySet(Q.window,B,k-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(re<(Y=Q.wsize-Q.wnext)&&(Y=re),a.arraySet(Q.window,B,k-re,Y,Q.wnext),(re-=Y)?(a.arraySet(Q.window,B,k-re,re,0),Q.wnext=re,Q.whave=Q.wsize):(Q.wnext+=Y,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=Y))),0}i.inflateReset=z,i.inflateReset2=P,i.inflateResetKeep=C,i.inflateInit=function(I){return X(I,15)},i.inflateInit2=X,i.inflate=function(I,B){var k,re,Y,Q,se,oe,pe,H,R,J,ee,ae,be,je,de,ge,Ie,Ve,Re,mt,$,ie,Pe,xe,he=0,ve=new a.Buf8(4),ze=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!I||!I.state||!I.output||!I.input&&I.avail_in!==0)return g;(k=I.state).mode===12&&(k.mode=13),se=I.next_out,Y=I.output,pe=I.avail_out,Q=I.next_in,re=I.input,oe=I.avail_in,H=k.hold,R=k.bits,J=oe,ee=pe,ie=x;e:for(;;)switch(k.mode){case w:if(k.wrap===0){k.mode=13;break}for(;R<16;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if(2&k.wrap&&H===35615){ve[k.check=0]=255&H,ve[1]=H>>>8&255,k.check=c(k.check,ve,2,0),R=H=0,k.mode=2;break}if(k.flags=0,k.head&&(k.head.done=!1),!(1&k.wrap)||(((255&H)<<8)+(H>>8))%31){I.msg="incorrect header check",k.mode=30;break}if((15&H)!=8){I.msg="unknown compression method",k.mode=30;break}if(R-=4,$=8+(15&(H>>>=4)),k.wbits===0)k.wbits=$;else if($>k.wbits){I.msg="invalid window size",k.mode=30;break}k.dmax=1<<$,I.adler=k.check=1,k.mode=512&H?10:12,R=H=0;break;case 2:for(;R<16;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if(k.flags=H,(255&k.flags)!=8){I.msg="unknown compression method",k.mode=30;break}if(57344&k.flags){I.msg="unknown header flags set",k.mode=30;break}k.head&&(k.head.text=H>>8&1),512&k.flags&&(ve[0]=255&H,ve[1]=H>>>8&255,k.check=c(k.check,ve,2,0)),R=H=0,k.mode=3;case 3:for(;R<32;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}k.head&&(k.head.time=H),512&k.flags&&(ve[0]=255&H,ve[1]=H>>>8&255,ve[2]=H>>>16&255,ve[3]=H>>>24&255,k.check=c(k.check,ve,4,0)),R=H=0,k.mode=4;case 4:for(;R<16;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}k.head&&(k.head.xflags=255&H,k.head.os=H>>8),512&k.flags&&(ve[0]=255&H,ve[1]=H>>>8&255,k.check=c(k.check,ve,2,0)),R=H=0,k.mode=5;case 5:if(1024&k.flags){for(;R<16;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}k.length=H,k.head&&(k.head.extra_len=H),512&k.flags&&(ve[0]=255&H,ve[1]=H>>>8&255,k.check=c(k.check,ve,2,0)),R=H=0}else k.head&&(k.head.extra=null);k.mode=6;case 6:if(1024&k.flags&&(oe<(ae=k.length)&&(ae=oe),ae&&(k.head&&($=k.head.extra_len-k.length,k.head.extra||(k.head.extra=new Array(k.head.extra_len)),a.arraySet(k.head.extra,re,Q,ae,$)),512&k.flags&&(k.check=c(k.check,re,ae,Q)),oe-=ae,Q+=ae,k.length-=ae),k.length))break e;k.length=0,k.mode=7;case 7:if(2048&k.flags){if(oe===0)break e;for(ae=0;$=re[Q+ae++],k.head&&$&&k.length<65536&&(k.head.name+=String.fromCharCode($)),$&&ae<oe;);if(512&k.flags&&(k.check=c(k.check,re,ae,Q)),oe-=ae,Q+=ae,$)break e}else k.head&&(k.head.name=null);k.length=0,k.mode=8;case 8:if(4096&k.flags){if(oe===0)break e;for(ae=0;$=re[Q+ae++],k.head&&$&&k.length<65536&&(k.head.comment+=String.fromCharCode($)),$&&ae<oe;);if(512&k.flags&&(k.check=c(k.check,re,ae,Q)),oe-=ae,Q+=ae,$)break e}else k.head&&(k.head.comment=null);k.mode=9;case 9:if(512&k.flags){for(;R<16;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if(H!==(65535&k.check)){I.msg="header crc mismatch",k.mode=30;break}R=H=0}k.head&&(k.head.hcrc=k.flags>>9&1,k.head.done=!0),I.adler=k.check=0,k.mode=12;break;case 10:for(;R<32;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}I.adler=k.check=j(H),R=H=0,k.mode=11;case 11:if(k.havedict===0)return I.next_out=se,I.avail_out=pe,I.next_in=Q,I.avail_in=oe,k.hold=H,k.bits=R,2;I.adler=k.check=1,k.mode=12;case 12:if(B===5||B===6)break e;case 13:if(k.last){H>>>=7&R,R-=7&R,k.mode=27;break}for(;R<3;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}switch(k.last=1&H,R-=1,3&(H>>>=1)){case 0:k.mode=14;break;case 1:if(G(k),k.mode=20,B!==6)break;H>>>=2,R-=2;break e;case 2:k.mode=17;break;case 3:I.msg="invalid block type",k.mode=30}H>>>=2,R-=2;break;case 14:for(H>>>=7&R,R-=7&R;R<32;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if((65535&H)!=(H>>>16^65535)){I.msg="invalid stored block lengths",k.mode=30;break}if(k.length=65535&H,R=H=0,k.mode=15,B===6)break e;case 15:k.mode=16;case 16:if(ae=k.length){if(oe<ae&&(ae=oe),pe<ae&&(ae=pe),ae===0)break e;a.arraySet(Y,re,Q,ae,se),oe-=ae,Q+=ae,pe-=ae,se+=ae,k.length-=ae;break}k.mode=12;break;case 17:for(;R<14;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if(k.nlen=257+(31&H),H>>>=5,R-=5,k.ndist=1+(31&H),H>>>=5,R-=5,k.ncode=4+(15&H),H>>>=4,R-=4,286<k.nlen||30<k.ndist){I.msg="too many length or distance symbols",k.mode=30;break}k.have=0,k.mode=18;case 18:for(;k.have<k.ncode;){for(;R<3;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}k.lens[ze[k.have++]]=7&H,H>>>=3,R-=3}for(;k.have<19;)k.lens[ze[k.have++]]=0;if(k.lencode=k.lendyn,k.lenbits=7,Pe={bits:k.lenbits},ie=h(0,k.lens,0,19,k.lencode,0,k.work,Pe),k.lenbits=Pe.bits,ie){I.msg="invalid code lengths set",k.mode=30;break}k.have=0,k.mode=19;case 19:for(;k.have<k.nlen+k.ndist;){for(;ge=(he=k.lencode[H&(1<<k.lenbits)-1])>>>16&255,Ie=65535&he,!((de=he>>>24)<=R);){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if(Ie<16)H>>>=de,R-=de,k.lens[k.have++]=Ie;else{if(Ie===16){for(xe=de+2;R<xe;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if(H>>>=de,R-=de,k.have===0){I.msg="invalid bit length repeat",k.mode=30;break}$=k.lens[k.have-1],ae=3+(3&H),H>>>=2,R-=2}else if(Ie===17){for(xe=de+3;R<xe;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}R-=de,$=0,ae=3+(7&(H>>>=de)),H>>>=3,R-=3}else{for(xe=de+7;R<xe;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}R-=de,$=0,ae=11+(127&(H>>>=de)),H>>>=7,R-=7}if(k.have+ae>k.nlen+k.ndist){I.msg="invalid bit length repeat",k.mode=30;break}for(;ae--;)k.lens[k.have++]=$}}if(k.mode===30)break;if(k.lens[256]===0){I.msg="invalid code -- missing end-of-block",k.mode=30;break}if(k.lenbits=9,Pe={bits:k.lenbits},ie=h(f,k.lens,0,k.nlen,k.lencode,0,k.work,Pe),k.lenbits=Pe.bits,ie){I.msg="invalid literal/lengths set",k.mode=30;break}if(k.distbits=6,k.distcode=k.distdyn,Pe={bits:k.distbits},ie=h(p,k.lens,k.nlen,k.ndist,k.distcode,0,k.work,Pe),k.distbits=Pe.bits,ie){I.msg="invalid distances set",k.mode=30;break}if(k.mode=20,B===6)break e;case 20:k.mode=21;case 21:if(6<=oe&&258<=pe){I.next_out=se,I.avail_out=pe,I.next_in=Q,I.avail_in=oe,k.hold=H,k.bits=R,d(I,ee),se=I.next_out,Y=I.output,pe=I.avail_out,Q=I.next_in,re=I.input,oe=I.avail_in,H=k.hold,R=k.bits,k.mode===12&&(k.back=-1);break}for(k.back=0;ge=(he=k.lencode[H&(1<<k.lenbits)-1])>>>16&255,Ie=65535&he,!((de=he>>>24)<=R);){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if(ge&&(240&ge)==0){for(Ve=de,Re=ge,mt=Ie;ge=(he=k.lencode[mt+((H&(1<<Ve+Re)-1)>>Ve)])>>>16&255,Ie=65535&he,!(Ve+(de=he>>>24)<=R);){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}H>>>=Ve,R-=Ve,k.back+=Ve}if(H>>>=de,R-=de,k.back+=de,k.length=Ie,ge===0){k.mode=26;break}if(32&ge){k.back=-1,k.mode=12;break}if(64&ge){I.msg="invalid literal/length code",k.mode=30;break}k.extra=15&ge,k.mode=22;case 22:if(k.extra){for(xe=k.extra;R<xe;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}k.length+=H&(1<<k.extra)-1,H>>>=k.extra,R-=k.extra,k.back+=k.extra}k.was=k.length,k.mode=23;case 23:for(;ge=(he=k.distcode[H&(1<<k.distbits)-1])>>>16&255,Ie=65535&he,!((de=he>>>24)<=R);){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if((240&ge)==0){for(Ve=de,Re=ge,mt=Ie;ge=(he=k.distcode[mt+((H&(1<<Ve+Re)-1)>>Ve)])>>>16&255,Ie=65535&he,!(Ve+(de=he>>>24)<=R);){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}H>>>=Ve,R-=Ve,k.back+=Ve}if(H>>>=de,R-=de,k.back+=de,64&ge){I.msg="invalid distance code",k.mode=30;break}k.offset=Ie,k.extra=15&ge,k.mode=24;case 24:if(k.extra){for(xe=k.extra;R<xe;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}k.offset+=H&(1<<k.extra)-1,H>>>=k.extra,R-=k.extra,k.back+=k.extra}if(k.offset>k.dmax){I.msg="invalid distance too far back",k.mode=30;break}k.mode=25;case 25:if(pe===0)break e;if(ae=ee-pe,k.offset>ae){if((ae=k.offset-ae)>k.whave&&k.sane){I.msg="invalid distance too far back",k.mode=30;break}be=ae>k.wnext?(ae-=k.wnext,k.wsize-ae):k.wnext-ae,ae>k.length&&(ae=k.length),je=k.window}else je=Y,be=se-k.offset,ae=k.length;for(pe<ae&&(ae=pe),pe-=ae,k.length-=ae;Y[se++]=je[be++],--ae;);k.length===0&&(k.mode=21);break;case 26:if(pe===0)break e;Y[se++]=k.length,pe--,k.mode=21;break;case 27:if(k.wrap){for(;R<32;){if(oe===0)break e;oe--,H|=re[Q++]<<R,R+=8}if(ee-=pe,I.total_out+=ee,k.total+=ee,ee&&(I.adler=k.check=k.flags?c(k.check,Y,ee,se-ee):l(k.check,Y,ee,se-ee)),ee=pe,(k.flags?H:j(H))!==k.check){I.msg="incorrect data check",k.mode=30;break}R=H=0}k.mode=28;case 28:if(k.wrap&&k.flags){for(;R<32;){if(oe===0)break e;oe--,H+=re[Q++]<<R,R+=8}if(H!==(4294967295&k.total)){I.msg="incorrect length check",k.mode=30;break}R=H=0}k.mode=29;case 29:ie=1;break e;case 30:ie=-3;break e;case 31:return-4;case 32:default:return g}return I.next_out=se,I.avail_out=pe,I.next_in=Q,I.avail_in=oe,k.hold=H,k.bits=R,(k.wsize||ee!==I.avail_out&&k.mode<30&&(k.mode<27||B!==4))&&L(I,I.output,I.next_out,ee-I.avail_out)?(k.mode=31,-4):(J-=I.avail_in,ee-=I.avail_out,I.total_in+=J,I.total_out+=ee,k.total+=ee,k.wrap&&ee&&(I.adler=k.check=k.flags?c(k.check,Y,ee,I.next_out-ee):l(k.check,Y,ee,I.next_out-ee)),I.data_type=k.bits+(k.last?64:0)+(k.mode===12?128:0)+(k.mode===20||k.mode===15?256:0),(J==0&&ee===0||B===4)&&ie===x&&(ie=-5),ie)},i.inflateEnd=function(I){if(!I||!I.state)return g;var B=I.state;return B.window&&(B.window=null),I.state=null,x},i.inflateGetHeader=function(I,B){var k;return I&&I.state?(2&(k=I.state).wrap)==0?g:((k.head=B).done=!1,x):g},i.inflateSetDictionary=function(I,B){var k,re=B.length;return I&&I.state?(k=I.state).wrap!==0&&k.mode!==11?g:k.mode===11&&l(1,B,re,0)!==k.check?-3:L(I,B,re,re)?(k.mode=31,-4):(k.havedict=1,x):g},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,i){var a=r("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,p,x,g,w,v,_,j){var E,C,z,P,X,U,M,D,G,L=j.bits,I=0,B=0,k=0,re=0,Y=0,Q=0,se=0,oe=0,pe=0,H=0,R=null,J=0,ee=new a.Buf16(16),ae=new a.Buf16(16),be=null,je=0;for(I=0;I<=15;I++)ee[I]=0;for(B=0;B<g;B++)ee[p[x+B]]++;for(Y=L,re=15;1<=re&&ee[re]===0;re--);if(re<Y&&(Y=re),re===0)return w[v++]=20971520,w[v++]=20971520,j.bits=1,0;for(k=1;k<re&&ee[k]===0;k++);for(Y<k&&(Y=k),I=oe=1;I<=15;I++)if(oe<<=1,(oe-=ee[I])<0)return-1;if(0<oe&&(f===0||re!==1))return-1;for(ae[1]=0,I=1;I<15;I++)ae[I+1]=ae[I]+ee[I];for(B=0;B<g;B++)p[x+B]!==0&&(_[ae[p[x+B]]++]=B);if(U=f===0?(R=be=_,19):f===1?(R=l,J-=257,be=c,je-=257,256):(R=d,be=h,-1),I=k,X=v,se=B=H=0,z=-1,P=(pe=1<<(Q=Y))-1,f===1&&852<pe||f===2&&592<pe)return 1;for(;;){for(M=I-se,G=_[B]<U?(D=0,_[B]):_[B]>U?(D=be[je+_[B]],R[J+_[B]]):(D=96,0),E=1<<I-se,k=C=1<<Q;w[X+(H>>se)+(C-=E)]=M<<24|D<<16|G|0,C!==0;);for(E=1<<I-1;H&E;)E>>=1;if(E!==0?(H&=E-1,H+=E):H=0,B++,--ee[I]==0){if(I===re)break;I=p[x+_[B]]}if(Y<I&&(H&P)!==z){for(se===0&&(se=Y),X+=k,oe=1<<(Q=I-se);Q+se<re&&!((oe-=ee[Q+se])<=0);)Q++,oe<<=1;if(pe+=1<<Q,f===1&&852<pe||f===2&&592<pe)return 1;w[z=H&P]=Y<<24|Q<<16|X-v|0}}return H!==0&&(w[X+H]=I-se<<24|64<<16|0),j.bits=Y,0}},{"../utils/common":41}],51:[function(r,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,i){var a=r("../utils/common"),l=0,c=1;function d(he){for(var ve=he.length;0<=--ve;)he[ve]=0}var h=0,f=29,p=256,x=p+1+f,g=30,w=19,v=2*x+1,_=15,j=16,E=7,C=256,z=16,P=17,X=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],M=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(x+2));d(L);var I=new Array(2*g);d(I);var B=new Array(512);d(B);var k=new Array(256);d(k);var re=new Array(f);d(re);var Y,Q,se,oe=new Array(g);function pe(he,ve,ze,De,Ce){this.static_tree=he,this.extra_bits=ve,this.extra_base=ze,this.elems=De,this.max_length=Ce,this.has_stree=he&&he.length}function H(he,ve){this.dyn_tree=he,this.max_code=0,this.stat_desc=ve}function R(he){return he<256?B[he]:B[256+(he>>>7)]}function J(he,ve){he.pending_buf[he.pending++]=255&ve,he.pending_buf[he.pending++]=ve>>>8&255}function ee(he,ve,ze){he.bi_valid>j-ze?(he.bi_buf|=ve<<he.bi_valid&65535,J(he,he.bi_buf),he.bi_buf=ve>>j-he.bi_valid,he.bi_valid+=ze-j):(he.bi_buf|=ve<<he.bi_valid&65535,he.bi_valid+=ze)}function ae(he,ve,ze){ee(he,ze[2*ve],ze[2*ve+1])}function be(he,ve){for(var ze=0;ze|=1&he,he>>>=1,ze<<=1,0<--ve;);return ze>>>1}function je(he,ve,ze){var De,Ce,Ye=new Array(_+1),ot=0;for(De=1;De<=_;De++)Ye[De]=ot=ot+ze[De-1]<<1;for(Ce=0;Ce<=ve;Ce++){var Qe=he[2*Ce+1];Qe!==0&&(he[2*Ce]=be(Ye[Qe]++,Qe))}}function de(he){var ve;for(ve=0;ve<x;ve++)he.dyn_ltree[2*ve]=0;for(ve=0;ve<g;ve++)he.dyn_dtree[2*ve]=0;for(ve=0;ve<w;ve++)he.bl_tree[2*ve]=0;he.dyn_ltree[2*C]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function ge(he){8<he.bi_valid?J(he,he.bi_buf):0<he.bi_valid&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function Ie(he,ve,ze,De){var Ce=2*ve,Ye=2*ze;return he[Ce]<he[Ye]||he[Ce]===he[Ye]&&De[ve]<=De[ze]}function Ve(he,ve,ze){for(var De=he.heap[ze],Ce=ze<<1;Ce<=he.heap_len&&(Ce<he.heap_len&&Ie(ve,he.heap[Ce+1],he.heap[Ce],he.depth)&&Ce++,!Ie(ve,De,he.heap[Ce],he.depth));)he.heap[ze]=he.heap[Ce],ze=Ce,Ce<<=1;he.heap[ze]=De}function Re(he,ve,ze){var De,Ce,Ye,ot,Qe=0;if(he.last_lit!==0)for(;De=he.pending_buf[he.d_buf+2*Qe]<<8|he.pending_buf[he.d_buf+2*Qe+1],Ce=he.pending_buf[he.l_buf+Qe],Qe++,De===0?ae(he,Ce,ve):(ae(he,(Ye=k[Ce])+p+1,ve),(ot=U[Ye])!==0&&ee(he,Ce-=re[Ye],ot),ae(he,Ye=R(--De),ze),(ot=M[Ye])!==0&&ee(he,De-=oe[Ye],ot)),Qe<he.last_lit;);ae(he,C,ve)}function mt(he,ve){var ze,De,Ce,Ye=ve.dyn_tree,ot=ve.stat_desc.static_tree,Qe=ve.stat_desc.has_stree,ct=ve.stat_desc.elems,Tt=-1;for(he.heap_len=0,he.heap_max=v,ze=0;ze<ct;ze++)Ye[2*ze]!==0?(he.heap[++he.heap_len]=Tt=ze,he.depth[ze]=0):Ye[2*ze+1]=0;for(;he.heap_len<2;)Ye[2*(Ce=he.heap[++he.heap_len]=Tt<2?++Tt:0)]=1,he.depth[Ce]=0,he.opt_len--,Qe&&(he.static_len-=ot[2*Ce+1]);for(ve.max_code=Tt,ze=he.heap_len>>1;1<=ze;ze--)Ve(he,Ye,ze);for(Ce=ct;ze=he.heap[1],he.heap[1]=he.heap[he.heap_len--],Ve(he,Ye,1),De=he.heap[1],he.heap[--he.heap_max]=ze,he.heap[--he.heap_max]=De,Ye[2*Ce]=Ye[2*ze]+Ye[2*De],he.depth[Ce]=(he.depth[ze]>=he.depth[De]?he.depth[ze]:he.depth[De])+1,Ye[2*ze+1]=Ye[2*De+1]=Ce,he.heap[1]=Ce++,Ve(he,Ye,1),2<=he.heap_len;);he.heap[--he.heap_max]=he.heap[1],(function(bt,Se){var Le,Xe,xt,ht,ft,Ct,Bt=Se.dyn_tree,$t=Se.max_code,ur=Se.stat_desc.static_tree,er=Se.stat_desc.has_stree,Je=Se.stat_desc.extra_bits,vt=Se.stat_desc.extra_base,At=Se.stat_desc.max_length,Nt=0;for(ht=0;ht<=_;ht++)bt.bl_count[ht]=0;for(Bt[2*bt.heap[bt.heap_max]+1]=0,Le=bt.heap_max+1;Le<v;Le++)At<(ht=Bt[2*Bt[2*(Xe=bt.heap[Le])+1]+1]+1)&&(ht=At,Nt++),Bt[2*Xe+1]=ht,$t<Xe||(bt.bl_count[ht]++,ft=0,vt<=Xe&&(ft=Je[Xe-vt]),Ct=Bt[2*Xe],bt.opt_len+=Ct*(ht+ft),er&&(bt.static_len+=Ct*(ur[2*Xe+1]+ft)));if(Nt!==0){do{for(ht=At-1;bt.bl_count[ht]===0;)ht--;bt.bl_count[ht]--,bt.bl_count[ht+1]+=2,bt.bl_count[At]--,Nt-=2}while(0<Nt);for(ht=At;ht!==0;ht--)for(Xe=bt.bl_count[ht];Xe!==0;)$t<(xt=bt.heap[--Le])||(Bt[2*xt+1]!==ht&&(bt.opt_len+=(ht-Bt[2*xt+1])*Bt[2*xt],Bt[2*xt+1]=ht),Xe--)}})(he,ve),je(Ye,Tt,he.bl_count)}function $(he,ve,ze){var De,Ce,Ye=-1,ot=ve[1],Qe=0,ct=7,Tt=4;for(ot===0&&(ct=138,Tt=3),ve[2*(ze+1)+1]=65535,De=0;De<=ze;De++)Ce=ot,ot=ve[2*(De+1)+1],++Qe<ct&&Ce===ot||(Qe<Tt?he.bl_tree[2*Ce]+=Qe:Ce!==0?(Ce!==Ye&&he.bl_tree[2*Ce]++,he.bl_tree[2*z]++):Qe<=10?he.bl_tree[2*P]++:he.bl_tree[2*X]++,Ye=Ce,Tt=(Qe=0)===ot?(ct=138,3):Ce===ot?(ct=6,3):(ct=7,4))}function ie(he,ve,ze){var De,Ce,Ye=-1,ot=ve[1],Qe=0,ct=7,Tt=4;for(ot===0&&(ct=138,Tt=3),De=0;De<=ze;De++)if(Ce=ot,ot=ve[2*(De+1)+1],!(++Qe<ct&&Ce===ot)){if(Qe<Tt)for(;ae(he,Ce,he.bl_tree),--Qe!=0;);else Ce!==0?(Ce!==Ye&&(ae(he,Ce,he.bl_tree),Qe--),ae(he,z,he.bl_tree),ee(he,Qe-3,2)):Qe<=10?(ae(he,P,he.bl_tree),ee(he,Qe-3,3)):(ae(he,X,he.bl_tree),ee(he,Qe-11,7));Ye=Ce,Tt=(Qe=0)===ot?(ct=138,3):Ce===ot?(ct=6,3):(ct=7,4)}}d(oe);var Pe=!1;function xe(he,ve,ze,De){ee(he,(h<<1)+(De?1:0),3),(function(Ce,Ye,ot,Qe){ge(Ce),J(Ce,ot),J(Ce,~ot),a.arraySet(Ce.pending_buf,Ce.window,Ye,ot,Ce.pending),Ce.pending+=ot})(he,ve,ze)}i._tr_init=function(he){Pe||((function(){var ve,ze,De,Ce,Ye,ot=new Array(_+1);for(Ce=De=0;Ce<f-1;Ce++)for(re[Ce]=De,ve=0;ve<1<<U[Ce];ve++)k[De++]=Ce;for(k[De-1]=Ce,Ce=Ye=0;Ce<16;Ce++)for(oe[Ce]=Ye,ve=0;ve<1<<M[Ce];ve++)B[Ye++]=Ce;for(Ye>>=7;Ce<g;Ce++)for(oe[Ce]=Ye<<7,ve=0;ve<1<<M[Ce]-7;ve++)B[256+Ye++]=Ce;for(ze=0;ze<=_;ze++)ot[ze]=0;for(ve=0;ve<=143;)L[2*ve+1]=8,ve++,ot[8]++;for(;ve<=255;)L[2*ve+1]=9,ve++,ot[9]++;for(;ve<=279;)L[2*ve+1]=7,ve++,ot[7]++;for(;ve<=287;)L[2*ve+1]=8,ve++,ot[8]++;for(je(L,x+1,ot),ve=0;ve<g;ve++)I[2*ve+1]=5,I[2*ve]=be(ve,5);Y=new pe(L,U,p+1,x,_),Q=new pe(I,M,0,g,_),se=new pe(new Array(0),D,0,w,E)})(),Pe=!0),he.l_desc=new H(he.dyn_ltree,Y),he.d_desc=new H(he.dyn_dtree,Q),he.bl_desc=new H(he.bl_tree,se),he.bi_buf=0,he.bi_valid=0,de(he)},i._tr_stored_block=xe,i._tr_flush_block=function(he,ve,ze,De){var Ce,Ye,ot=0;0<he.level?(he.strm.data_type===2&&(he.strm.data_type=(function(Qe){var ct,Tt=4093624447;for(ct=0;ct<=31;ct++,Tt>>>=1)if(1&Tt&&Qe.dyn_ltree[2*ct]!==0)return l;if(Qe.dyn_ltree[18]!==0||Qe.dyn_ltree[20]!==0||Qe.dyn_ltree[26]!==0)return c;for(ct=32;ct<p;ct++)if(Qe.dyn_ltree[2*ct]!==0)return c;return l})(he)),mt(he,he.l_desc),mt(he,he.d_desc),ot=(function(Qe){var ct;for($(Qe,Qe.dyn_ltree,Qe.l_desc.max_code),$(Qe,Qe.dyn_dtree,Qe.d_desc.max_code),mt(Qe,Qe.bl_desc),ct=w-1;3<=ct&&Qe.bl_tree[2*G[ct]+1]===0;ct--);return Qe.opt_len+=3*(ct+1)+5+5+4,ct})(he),Ce=he.opt_len+3+7>>>3,(Ye=he.static_len+3+7>>>3)<=Ce&&(Ce=Ye)):Ce=Ye=ze+5,ze+4<=Ce&&ve!==-1?xe(he,ve,ze,De):he.strategy===4||Ye===Ce?(ee(he,2+(De?1:0),3),Re(he,L,I)):(ee(he,4+(De?1:0),3),(function(Qe,ct,Tt,bt){var Se;for(ee(Qe,ct-257,5),ee(Qe,Tt-1,5),ee(Qe,bt-4,4),Se=0;Se<bt;Se++)ee(Qe,Qe.bl_tree[2*G[Se]+1],3);ie(Qe,Qe.dyn_ltree,ct-1),ie(Qe,Qe.dyn_dtree,Tt-1)})(he,he.l_desc.max_code+1,he.d_desc.max_code+1,ot+1),Re(he,he.dyn_ltree,he.dyn_dtree)),de(he),De&&ge(he)},i._tr_tally=function(he,ve,ze){return he.pending_buf[he.d_buf+2*he.last_lit]=ve>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&ve,he.pending_buf[he.l_buf+he.last_lit]=255&ze,he.last_lit++,ve===0?he.dyn_ltree[2*ze]++:(he.matches++,ve--,he.dyn_ltree[2*(k[ze]+p+1)]++,he.dyn_dtree[2*R(ve)]++),he.last_lit===he.lit_bufsize-1},i._tr_align=function(he){ee(he,2,3),ae(he,C,L),(function(ve){ve.bi_valid===16?(J(ve,ve.bi_buf),ve.bi_buf=0,ve.bi_valid=0):8<=ve.bi_valid&&(ve.pending_buf[ve.pending++]=255&ve.bi_buf,ve.bi_buf>>=8,ve.bi_valid-=8)})(he)}},{"../utils/common":41}],53:[function(r,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,i){(function(a){(function(l,c){if(!l.setImmediate){var d,h,f,p,x=1,g={},w=!1,v=l.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(l);_=_&&_.setTimeout?_:l,d={}.toString.call(l.process)==="[object process]"?function(z){process.nextTick(function(){E(z)})}:(function(){if(l.postMessage&&!l.importScripts){var z=!0,P=l.onmessage;return l.onmessage=function(){z=!1},l.postMessage("","*"),l.onmessage=P,z}})()?(p="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",C,!1):l.attachEvent("onmessage",C),function(z){l.postMessage(p+z,"*")}):l.MessageChannel?((f=new MessageChannel).port1.onmessage=function(z){E(z.data)},function(z){f.port2.postMessage(z)}):v&&"onreadystatechange"in v.createElement("script")?(h=v.documentElement,function(z){var P=v.createElement("script");P.onreadystatechange=function(){E(z),P.onreadystatechange=null,h.removeChild(P),P=null},h.appendChild(P)}):function(z){setTimeout(E,0,z)},_.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var P=new Array(arguments.length-1),X=0;X<P.length;X++)P[X]=arguments[X+1];var U={callback:z,args:P};return g[x]=U,d(x),x++},_.clearImmediate=j}function j(z){delete g[z]}function E(z){if(w)setTimeout(E,0,z);else{var P=g[z];if(P){w=!0;try{(function(X){var U=X.callback,M=X.args;switch(M.length){case 0:U();break;case 1:U(M[0]);break;case 2:U(M[0],M[1]);break;case 3:U(M[0],M[1],M[2]);break;default:U.apply(c,M)}})(P)}finally{j(z),w=!1}}}}function C(z){z.source===l&&typeof z.data=="string"&&z.data.indexOf(p)===0&&E(+z.data.slice(p.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Sw)),Sw.exports}var Yte=Gte();const Kte=ru(Yte);function Xte(){const{currentUser:t,refreshUserData:e,userData:r}=gi(),n=ni(),i=V.useRef(null),[a,l]=V.useState([]),[c,d]=V.useState(!1),[h,f]=V.useState(!1),[p,x]=V.useState({}),[g,w]=V.useState([]),[v,_]=V.useState(!1),j=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.apple.pages","application/x-iwork-pages-sffpages"],E=["application/zip","application/x-zip-compressed"],C=5*1024*1024,z=50*1024*1024,P=50,X=Y=>{Y.preventDefault(),Y.stopPropagation(),d(!0)},U=Y=>{Y.preventDefault(),Y.stopPropagation(),d(!1)},M=Y=>{Y.preventDefault(),Y.stopPropagation()},D=Y=>{Y.preventDefault(),Y.stopPropagation(),d(!1);const Q=Array.from(Y.dataTransfer.files);I(Q)},G=Y=>{const Q=Array.from(Y.target.files);I(Q)},L=async Y=>{_(!0);const Q=[],se=[];try{const pe=await new Kte().loadAsync(Y);for(const[H,R]of Object.entries(pe.files)){if(R.dir||H.startsWith("__MACOSX/")||H.startsWith("."))continue;const J=H.split(".").pop().toLowerCase();if(!["pdf","doc","docx","pages"].includes(J)){Q.push(`${H}: Skipped (not a supported document format)`);continue}const ee=await R.async("blob");let ae="application/pdf";J==="doc"&&(ae="application/msword"),J==="docx"&&(ae="application/vnd.openxmlformats-officedocument.wordprocessingml.document"),J==="pages"&&(ae="application/vnd.apple.pages");const be=new File([ee],H,{type:ae});if(be.size>C){Q.push(`${H}: File too large (max 5MB)`);continue}se.push(be)}se.length===0&&Q.push(`${Y.name}: No valid CV files found in ZIP`)}catch(oe){Q.push(`${Y.name}: Failed to extract ZIP file`),console.error("ZIP extraction error:",oe)}return _(!1),{extractedFiles:se,newErrors:Q}},I=async Y=>{const Q=[],se=[],oe=t?.userData?.plan||"free",pe=yx(oe),H=t?.userData?.cvUploadsThisMonth||0,R=t?.userData?.cvPackBalance||0;if(pe!==-1&&H>=pe&&R===0){w([`You have reached your monthly upload limit of ${pe} CVs. Purchase a CV Pack or upgrade your plan to upload more CVs.`]);return}for(const J of Y)if(E.includes(J.type)||J.name.toLowerCase().endsWith(".zip")){if(J.size>z){se.push(`${J.name}: ZIP file too large. Maximum size is 50MB.`);continue}const{extractedFiles:ee,newErrors:ae}=await L(J);se.push(...ae);for(const be of ee){if(a.some(je=>je.name===be.name&&je.size===be.size)){se.push(`${be.name}: File already added.`);continue}Q.push({file:be,id:Math.random().toString(36).substring(7),status:"pending",progress:0,error:null,fromZip:!0})}}else{const ee=J.name.split(".").pop().toLowerCase();if(!(j.includes(J.type)||ee==="pages")){se.push(`${J.name}: Invalid file type. Only PDF, Word, and Pages documents are allowed.`);continue}if(J.size>C){se.push(`${J.name}: File too large. Maximum size is 5MB.`);continue}if(a.some(be=>be.name===J.name&&be.size===J.size)){se.push(`${J.name}: File already added.`);continue}Q.push({file:J,id:Math.random().toString(36).substring(7),status:"pending",progress:0,error:null})}if(a.length+Q.length>P){se.push(`Total files exceed maximum of ${P} files`),w(se);return}if(pe!==-1&&H+Q.length>pe){const J=pe-H;se.push(`Adding ${Q.length} file(s) would exceed your monthly limit. You can upload ${J} more CV(s) this month.`),w(se);return}l([...a,...Q]),se.length>0&&w(se)},B=Y=>{l(a.filter(Q=>Q.id!==Y))},k=async Y=>{const{file:Q,id:se}=Y;try{const oe=r?.teamAccess,pe=oe?.isTeamMember&&oe?.teamOwnerId?oe.teamOwnerId:t.uid;console.log("Uploading CV for user:",pe,"(Team member:",oe?.isTeamMember,")");const H=MJ($J,`cvs/${pe}/${Date.now()}_${Q.name}`),R=DJ(H,Q);return new Promise((J,ee)=>{R.on("state_changed",ae=>{const be=ae.bytesTransferred/ae.totalBytes*100;x(je=>({...je,[se]:be}))},ae=>{console.error("Upload error:",ae),ee(ae)},async()=>{try{const ae=await LJ(R.snapshot.ref),be={userId:pe,uploadedBy:t.uid,uploadedByEmail:t.email,uploadedByName:t.displayName||t.email,fileName:Q.name,fileSize:Q.size,fileType:Q.type,downloadURL:ae,storagePath:R.snapshot.ref.fullPath,uploadedAt:MX(),status:"processing",parsed:!1,metadata:{name:null,email:null,phone:null,skills:[],experience:[],education:[]}},je=await MD(vl(Jr,"cvs"),be);console.log("CV document created with ID:",je.id,"for user:",pe);const de=Ji(Jr,"users",pe),ge=t?.userData?.plan||"free",Ie=yx(ge),Ve=t?.userData?.cvUploadsThisMonth||0,Re=t?.userData?.cvPackBalance||0;Ie!==-1&&Ve>=Ie&&Re>0?(await cp(de,{cvPackBalance:xT(-1)}),console.log("Deducted 1 CV from pack balance")):(await cp(de,{cvUploadsThisMonth:xT(1)}),console.log("User counter incremented successfully")),J({id:se,docId:je.id,downloadURL:ae})}catch(ae){ee(ae)}})})}catch(oe){throw oe}},re=async()=>{const Y=a.filter(R=>R.status==="pending");if(Y.length===0)return;const Q=t?.userData?.plan||"free",se=yx(Q),oe=t?.userData?.cvUploadsThisMonth||0;if(se!==-1&&oe+Y.length>se){const R=se-oe;w([`You can only upload ${R} more CV(s) this month. Please upgrade your plan for more uploads.`]);return}f(!0);const pe=[];for(const R of Y){const J=k(R).then(ee=>{l(ae=>ae.map(be=>be.id===ee.id?{...be,status:"success",downloadURL:ee.downloadURL}:be))}).catch(ee=>{l(ae=>ae.map(be=>be.id===R.id?{...be,status:"error",error:ee.message}:be))});pe.push(J)}await Promise.all(pe),f(!1),await e(),a.every(R=>R.status==="success")&&setTimeout(()=>{n("/dashboard")},2e3)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Rs,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Upload CVs"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Bulk Upload Manager"})]})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(Rs,{size:28})}),"Upload CVs"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Upload PDF, Word, or Apple Pages documents individually, or upload a ZIP file containing multiple CVs for bulk processing"})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(fs,{className:"w-24 h-24 text-white/20"})})]})}),(()=>{const Y=t?.userData?.plan||"free",Q=yx(Y),se=t?.userData?.cvUploadsThisMonth||0,oe=t?.userData?.cvPackBalance||0,pe=Q===-1,H=!pe&&se>=Q*.8&&oe===0,R=!pe&&se>=Q&&oe===0,J=pe?0:se/Q*100;return s.jsx("div",{className:`mb-6 rounded-2xl p-5 shadow-lg border ${R?"bg-red-50 border-red-200":H?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${R?"bg-red-100":H?"bg-orange-100":"bg-blue-100"}`,children:s.jsx(Rs,{className:R?"text-red-500":H?"text-orange-500":"text-blue-500",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-bold ${R?"text-red-900":H?"text-orange-900":"text-blue-900"}`,children:pe?"Unlimited Uploads":`${se} / ${Q} CVs Uploaded This Month`}),s.jsx("p",{className:`text-sm ${R?"text-red-700":H?"text-orange-700":"text-blue-700"}`,children:pe?"Enterprise plan with unlimited CV uploads":R?"Upload limit reached. Purchase a CV Pack or upgrade your plan to continue.":oe>0?`${Q-se} monthly uploads + ${oe} CV pack credits`:`${Q-se} upload(s) remaining`})]})]}),!pe&&s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-48 bg-gray-200 rounded-full h-3",children:s.jsx("div",{className:`h-3 rounded-full transition-all ${R?"bg-red-500":H?"bg-orange-500":"bg-blue-500"}`,style:{width:`${Math.min(J,100)}%`}})}),(R||H)&&s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>n("/settings?tab=cvpacks"),className:"px-4 py-2 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white rounded-lg font-semibold text-sm transition-all hover:scale-105 shadow-lg",children:"Buy CV Pack"}),s.jsx("button",{onClick:()=>n("/pricing"),className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-semibold text-sm transition-all hover:scale-105 shadow-lg",children:"Upgrade Plan"})]})]})]})})})(),g.length>0&&s.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-2xl p-5 shadow-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(en,{className:"text-red-500",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-red-900 font-bold mb-2 flex items-center gap-2",children:"Upload Errors"}),s.jsx("ul",{className:"space-y-1",children:g.map((Y,Q)=>s.jsxs("li",{className:"text-sm text-red-700",children:[" ",Y]},Q))})]}),s.jsx("button",{onClick:()=>w([]),className:"text-red-500 hover:text-red-700 transition-colors p-2 hover:bg-red-100 rounded-lg",children:s.jsx(Vt,{size:20})})]})}),s.jsxs("div",{className:`border-2 border-dashed rounded-2xl p-12 text-center transition-all shadow-lg ${c?"border-orange-500 bg-gradient-to-br from-orange-50 to-orange-100 scale-105":"border-gray-300 bg-white hover:border-orange-400 hover:shadow-xl"}`,onDragEnter:X,onDragOver:M,onDragLeave:U,onDrop:D,children:[s.jsx("div",{className:`w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg ${c?"scale-110":""} transition-transform`,children:s.jsx(Rs,{className:"text-white",size:40})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Drag and drop your CVs or ZIP files here"}),s.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:v?s.jsxs("span",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ha,{className:"animate-spin text-orange-500",size:20}),s.jsx("span",{className:"font-semibold text-orange-600",children:"Extracting ZIP file..."})]}):"or click the button below to browse files"}),s.jsx("input",{ref:i,type:"file",multiple:!0,accept:".pdf,.doc,.docx,.pages,.zip",onChange:G,className:"hidden"}),s.jsx("button",{onClick:()=>i.current?.click(),disabled:h||v,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3 rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30 hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:v?"Extracting ZIP...":"Browse Files"}),s.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm text-gray-500",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(fs,{size:14}),s.jsx("span",{children:"PDF, DOC, DOCX, PAGES, ZIP"})]}),s.jsx("span",{children:""}),s.jsx("span",{children:"Max 5MB per CV, 50MB per ZIP"})]})]}),a.length>0&&a.every(Y=>Y.status==="success")&&s.jsx("div",{className:"mt-8 bg-gradient-to-r from-green-50 to-green-100 border border-green-200 rounded-2xl p-6 shadow-xl",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(cn,{className:"text-white",size:28})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-green-900 font-bold text-xl mb-2",children:"All files uploaded successfully!"}),s.jsx("p",{className:"text-green-700 font-medium",children:"Your CVs are now being processed. Redirecting to dashboard..."})]})]})}),a.length>0&&s.jsxs("div",{className:"mt-8 bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-lg",children:[s.jsxs("div",{className:"px-6 py-5 bg-gradient-to-r from-gray-50 to-orange-50/30 border-b border-gray-200 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(fs,{className:"text-white",size:20})}),s.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Selected Files (",a.length,")"]})]}),!h&&a.some(Y=>Y.status==="pending")&&s.jsxs("button",{onClick:re,className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-2.5 rounded-xl font-bold transition-all hover:scale-105 flex items-center gap-2 shadow-lg shadow-orange-500/30",children:[s.jsx(Rs,{size:18}),s.jsx("span",{children:"Upload All"})]})]}),s.jsx("div",{className:"divide-y divide-gray-100",children:a.map((Y,Q)=>s.jsxs("div",{className:"px-6 py-5 flex items-center gap-4 hover:bg-gradient-to-r hover:from-gray-50 hover:to-orange-50/30 transition-all group",style:{animationDelay:`${Q*50}ms`},children:[s.jsxs("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center flex-shrink-0 relative shadow-md transition-transform group-hover:scale-110 ${Y.status==="success"?"bg-gradient-to-br from-green-500 to-green-600":Y.status==="error"?"bg-gradient-to-br from-red-500 to-red-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:[Y.status==="success"?s.jsx(cn,{className:"text-white",size:28}):Y.status==="error"?s.jsx(en,{className:"text-white",size:28}):s.jsx(fs,{className:"text-white",size:28}),Y.fromZip&&s.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center shadow-md",title:"Extracted from ZIP",children:s.jsx(JJ,{className:"text-white",size:14})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-gray-900 truncate text-lg",children:Y.file.name}),s.jsxs("p",{className:"text-sm text-gray-600 font-medium",children:[(Y.file.size/1024).toFixed(1)," KB"]}),Y.status==="pending"&&h&&s.jsxs("div",{className:"mt-3",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 shadow-inner overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-3 rounded-full transition-all shadow-sm flex items-center justify-end pr-2",style:{width:`${p[Y.id]||0}%`},children:p[Y.id]>10&&s.jsxs("span",{className:"text-xs text-white font-bold",children:[Math.round(p[Y.id]),"%"]})})}),s.jsxs("p",{className:"text-xs text-gray-600 mt-1 font-semibold",children:[Math.round(p[Y.id]||0),"% uploaded"]})]}),Y.status==="error"&&s.jsxs("p",{className:"text-sm text-red-600 mt-2 font-semibold flex items-center gap-1",children:[s.jsx(en,{size:14}),Y.error]}),Y.status==="success"&&s.jsxs("p",{className:"text-sm text-green-600 mt-2 font-semibold flex items-center gap-1",children:[s.jsx(cn,{size:14}),"Upload complete!"]})]}),s.jsx("div",{className:"flex-shrink-0",children:Y.status==="pending"&&h?s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:s.jsx(Ha,{className:"text-orange-500 animate-spin",size:24})}):h?null:s.jsx("button",{onClick:()=>B(Y.id),className:"w-10 h-10 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-all flex items-center justify-center",children:s.jsx(Vt,{size:22})})})]},Y.id))})]})]})]})}function pl({isOpen:t,onClose:e,onConfirm:r,title:n,message:i,confirmText:a="Confirm",cancelText:l="Cancel",type:c="warning",icon:d,confirmLoading:h=!1}){if(!t)return null;const f=()=>{if(d)return d;switch(c){case"danger":return Os;case"success":return Ps;case"info":return IS;case"warning":default:return Mv}},p=()=>{switch(c){case"danger":return{iconBg:"from-red-500 to-red-600",iconContainer:"bg-red-100",button:"from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 shadow-red-500/30",border:"border-red-200"};case"success":return{iconBg:"from-green-500 to-green-600",iconContainer:"bg-green-100",button:"from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 shadow-green-500/30",border:"border-green-200"};case"info":return{iconBg:"from-blue-500 to-blue-600",iconContainer:"bg-blue-100",button:"from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 shadow-blue-500/30",border:"border-blue-200"};case"warning":default:return{iconBg:"from-orange-500 to-orange-600",iconContainer:"bg-orange-100",button:"from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 shadow-orange-500/30",border:"border-orange-200"}}},x=f(),g=p(),w=v=>{v.target===v.currentTarget&&e()};return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",onClick:w,children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl animate-slideUp",children:[s.jsx("div",{className:`p-6 border-b ${g.border} bg-gradient-to-r from-gray-50 to-orange-50/20`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-14 h-14 ${g.iconContainer} rounded-xl flex items-center justify-center`,children:s.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${g.iconBg} rounded-lg flex items-center justify-center shadow-lg`,children:s.jsx(x,{className:"text-white",size:24})})}),s.jsx("div",{children:s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n})})]}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-all",disabled:h,children:s.jsx(Vt,{size:20})})]})}),s.jsx("div",{className:"p-6",children:s.jsx("p",{className:"text-gray-700 text-base leading-relaxed",children:i})}),s.jsxs("div",{className:"p-6 bg-gray-50 rounded-b-2xl flex gap-3",children:[s.jsx("button",{onClick:e,disabled:h,className:"flex-1 px-6 py-3 bg-white border-2 border-gray-300 text-gray-700 rounded-xl font-bold hover:bg-gray-50 hover:border-gray-400 transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:l}),s.jsx("button",{onClick:r,disabled:h,className:`flex-1 px-6 py-3 bg-gradient-to-r ${g.button} text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center gap-2`,children:h?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),s.jsx("span",{children:"Processing..."})]}):a})]})]})})}function Zte({cv:t,jobSpec:e,matchScore:r,onClose:n}){if(!t||!e)return null;const i=()=>{const g=(t.metadata?.skills||[]).map(C=>C.toLowerCase()),w=(e.requiredSkills||[]).map(C=>C.toLowerCase()),v=(e.preferredSkills||[]).map(C=>C.toLowerCase()),_=w.filter(C=>g.some(z=>z.includes(C)||C.includes(z))),j=v.filter(C=>g.some(z=>z.includes(C)||C.includes(z))),E=w.filter(C=>!_.includes(C));return{matchedRequired:_,matchedPreferred:j,missingRequired:E,requiredTotal:w.length,preferredTotal:v.length,requiredScore:w.length>0?_.length/w.length*100:100}},a=()=>{const w=(t.metadata?.experience||[]).reduce((z,P)=>{const X=P.duration?l(P.duration):1;return z+X},0),v=parseInt(e.minExperience)||0,_=parseInt(e.maxExperience)||999,j=w>=v&&w<=_,E=w<v,C=w>_;return{totalYears:w,minRequired:v,maxRequired:_,meetsRequirement:j,isUnderqualified:E,isOverqualified:C,difference:Math.abs(w-v)}},l=g=>{const w=g.match(/(\d+)\s*(?:year|yr)/i);if(w)return parseInt(w[1]);const v=g.match(/\b(19|20)\d{2}\b/g);return v&&v.length>=2?parseInt(v[v.length-1])-parseInt(v[0]):1},c=()=>{const g=(t.metadata?.education||[]).map(E=>(E.degree||"").toLowerCase()),w=(e.education||"").toLowerCase();if(!w)return{matches:!0,details:"No specific requirement"};const v={phd:6,doctorate:6,masters:5,master:5,mba:5,honours:4,bachelor:3,degree:3,diploma:2,certificate:1},_=Object.entries(v).find(([E])=>w.includes(E))?.[1]||0,j=Math.max(...g.map(E=>Object.entries(v).find(([z])=>E.includes(z))?.[1]||0),0);return{matches:j>=_,cvLevel:j,requiredLevel:_,details:j>=_?"Meets requirement":"Below requirement"}},d=()=>{const g=(t.metadata?.location||"").toLowerCase(),w=(e.location||"").toLowerCase();if(!w||e.locationType==="remote")return{matches:!0,details:e.locationType==="remote"?"Remote position":"No location requirement"};const v=g.includes(w)||w.includes(g);return{matches:v,details:v?"Location matches":"Different location"}},h=i(),f=a(),p=c(),x=d();return s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-4xl w-full my-8 shadow-2xl",children:[s.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-orange-500 to-orange-600 text-white p-6 rounded-t-2xl",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-3",children:[s.jsx(xh,{size:28}),"Match Breakdown Report"]}),s.jsxs("p",{className:"text-orange-100",children:["Detailed analysis: ",t.metadata?.name||t.fileName,"  ",e.title]})]}),s.jsx("button",{onClick:n,className:"text-white hover:bg-white/20 rounded-lg p-2 transition-all",children:s.jsx(Vt,{size:24})})]})}),s.jsxs("div",{className:"p-6 max-h-[calc(100vh-16rem)] overflow-y-auto",children:[s.jsx("div",{className:"mb-6 bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 border-2 border-blue-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Overall Match Score"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Comprehensive fit assessment"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:`text-4xl font-bold ${r>=80?"text-green-600":r>=60?"text-blue-600":r>=40?"text-yellow-600":"text-red-600"}`,children:[r,"%"]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:r>=80?"Excellent Match":r>=60?"Good Match":r>=40?"Fair Match":"Poor Match"})]})]})}),s.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(xh,{className:"text-white",size:16})}),"Skills Analysis"]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-700",children:"Required Skills"}),s.jsxs("span",{className:`px-3 py-1 rounded-lg text-sm font-bold ${h.requiredScore===100?"bg-green-100 text-green-700":h.requiredScore>=70?"bg-blue-100 text-blue-700":h.requiredScore>=40?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:[h.matchedRequired.length," / ",h.requiredTotal," matched"]})]}),h.matchedRequired.length>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("p",{className:"text-xs font-semibold text-green-700 mb-2 flex items-center gap-1",children:[s.jsx(Ps,{size:14})," Matched Required Skills:"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.matchedRequired.map((g,w)=>s.jsx("span",{className:"px-3 py-1 bg-green-50 text-green-700 rounded-lg text-sm border border-green-200",children:g},w))})]}),h.missingRequired.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-xs font-semibold text-red-700 mb-2 flex items-center gap-1",children:[s.jsx(Dv,{size:14})," Missing Required Skills:"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.missingRequired.map((g,w)=>s.jsx("span",{className:"px-3 py-1 bg-red-50 text-red-700 rounded-lg text-sm border border-red-200",children:g},w))})]})]}),h.preferredTotal>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h4",{className:"font-semibold text-gray-700",children:"Preferred Skills"}),s.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-lg text-sm font-bold",children:[h.matchedPreferred.length," / ",h.preferredTotal," matched"]})]}),h.matchedPreferred.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2",children:h.matchedPreferred.map((g,w)=>s.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-lg text-sm border border-blue-200",children:g},w))})]})]}),s.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx(Jl,{className:"text-white",size:16})}),"Experience Analysis"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Candidate Experience:"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[f.totalYears," years"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Required Experience:"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[f.minRequired,f.maxRequired<999?` - ${f.maxRequired}`:"+"," years"]})]}),s.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${f.meetsRequirement?"bg-green-50 border border-green-200":f.isUnderqualified?"bg-yellow-50 border border-yellow-200":"bg-blue-50 border border-blue-200"}`,children:f.meetsRequirement?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Meets experience requirement"})]}):f.isUnderqualified?s.jsxs(s.Fragment,{children:[s.jsx(en,{className:"text-yellow-600",size:20}),s.jsxs("span",{className:"text-sm font-semibold text-yellow-700",children:["Underqualified by ",f.difference," years"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(en,{className:"text-blue-600",size:20}),s.jsxs("span",{className:"text-sm font-semibold text-blue-700",children:["Overqualified by ",f.totalYears-f.maxRequired," years"]})]})})]})]}),s.jsxs("div",{className:"mb-6 bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(kS,{className:"text-white",size:16})}),"Education Analysis"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Required:"}),s.jsx("span",{className:"font-bold text-gray-900",children:e.education||"Not specified"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Candidate:"}),s.jsx("span",{className:"font-bold text-gray-900",children:t.metadata?.education?.[0]?.degree||"Not specified"})]}),s.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${p.matches?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:p.matches?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:p.details})]}):s.jsxs(s.Fragment,{children:[s.jsx(Dv,{className:"text-red-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-red-700",children:p.details})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl p-6 border border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-lg flex items-center justify-center",children:s.jsx(ib,{className:"text-white",size:16})}),"Location Analysis"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Job Location:"}),s.jsxs("span",{className:"font-bold text-gray-900",children:[e.location||"Not specified",e.locationType&&` (${e.locationType})`]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Candidate Location:"}),s.jsx("span",{className:"font-bold text-gray-900",children:t.metadata?.location||"Not specified"})]}),s.jsx("div",{className:`flex items-center gap-2 p-3 rounded-lg ${x.matches?"bg-green-50 border border-green-200":"bg-yellow-50 border border-yellow-200"}`,children:x.matches?s.jsxs(s.Fragment,{children:[s.jsx(Ps,{className:"text-green-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-green-700",children:x.details})]}):s.jsxs(s.Fragment,{children:[s.jsx(en,{className:"text-yellow-600",size:20}),s.jsx("span",{className:"text-sm font-semibold text-yellow-700",children:x.details})]})})]})]})]}),s.jsx("div",{className:"sticky bottom-0 bg-gray-50 p-6 rounded-b-2xl border-t border-gray-200",children:s.jsx("button",{onClick:n,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-3 rounded-xl font-bold transition-all hover:scale-105",children:"Close Report"})})]})})}function Qte(t){if(!t.duration&&!t.startDate&&!t.endDate)return 0;try{const e=t.duration||`${t.startDate||""} - ${t.endDate||""}`,r=e.match(/\b(19|20)\d{2}\b/g);if(r&&r.length>=2){const n=parseInt(r[0]);let i=parseInt(r[r.length-1]);return(e.toLowerCase().includes("present")||e.toLowerCase().includes("current"))&&(i=new Date().getFullYear()),Math.max(0,i-n)}return r&&r.length===1?1:0}catch(e){return console.warn("Error calculating experience years:",e),0}}function Wd({value:t,onChange:e,options:r,placeholder:n="Select...",className:i=""}){const[a,l]=V.useState(!1),c=V.useRef(null);V.useEffect(()=>{function h(f){c.current&&!c.current.contains(f.target)&&l(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=r.find(h=>h.value===t);return s.jsxs("div",{ref:c,className:`relative ${i}`,style:{zIndex:a?1e3:"auto"},children:[s.jsxs("button",{type:"button",onClick:()=>l(!a),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg flex items-center justify-between hover:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[s.jsx("span",{className:`text-sm ${t==="all"||!t?"text-gray-500":"text-gray-900 font-medium"}`,children:d?.label||n}),s.jsx(nc,{size:16,className:`text-gray-400 transition-transform ${a?"transform rotate-180":""}`})]}),a&&s.jsx("div",{className:"absolute z-[1001] w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-auto",children:r.map(h=>s.jsxs("button",{type:"button",onClick:()=>{e(h.value),l(!1)},className:`w-full px-4 py-2.5 text-left text-sm hover:bg-orange-50 transition-colors flex items-center justify-between ${t===h.value?"bg-orange-50 text-orange-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:h.label}),t===h.value&&s.jsx(Pt,{size:16,className:"text-orange-600"})]},h.value))})]})}function Jte(){const{currentUser:t,userData:e}=gi(),r=ni(),n=cd(),[i,a]=V.useState([]),[l,c]=V.useState([]),[d,h]=V.useState(!0),[f,p]=V.useState(""),[x,g]=V.useState([]),[w,v]=V.useState(!1),[_,j]=V.useState(!1),[E,C]=V.useState({demographic:!1,professional:!1,advanced:!1,custom:!1}),[z,P]=V.useState([]),[X,U]=V.useState(null),[M,D]=V.useState(!1),[G,L]=V.useState(!1),[I,B]=V.useState({isOpen:!1,cvId:null,isBulk:!1}),[k,re]=V.useState(!1),[Y,Q]=V.useState(null),[se,oe]=V.useState([]),[pe,H]=V.useState([]),[R,J]=V.useState({}),ee=V.useRef(null),ae=V.useRef(null),be=e?.plan||"free",je=e?Ip(be,"customFields"):!1,[de,ge]=V.useState({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0});V.useEffect(()=>{!t||!e||(Ie(),Re(),je&&Ve())},[t,e,je]),V.useEffect(()=>{t&&xe()},[i,f,de,X,R,t]),V.useEffect(()=>{const Se=()=>{if(ee.current&&ae.current){const Xe=ee.current.querySelector("table");if(Xe){const xt=ae.current.querySelector("div");xt&&(xt.style.width=`${Xe.scrollWidth}px`)}}};Se();const Le=new ResizeObserver(Se);return ee.current&&Le.observe(ee.current),()=>Le.disconnect()},[l,pe,X]);const Ie=async()=>{try{h(!0),console.log("Fetching CVs for user:",t.uid);const Se=e?.teamAccess;if(Se?.isTeamMember&&Se?.teamOwnerId){console.log("Fetching team CVs via Cloud Function for owner:",Se.teamOwnerId);const Le=An(),xt=await wr(Le,"getTeamCVs")();if(xt.data.success){const ht=xt.data.cvs.map(ft=>({...ft,uploadedAt:ft.uploadedAt?.toDate?ft.uploadedAt.toDate():ft.uploadedAt?._seconds?new Date(ft.uploadedAt._seconds*1e3):new Date}));console.log("Team CVs fetched:",ht.length),a(ht),c(ht)}else throw new Error("Failed to fetch team CVs")}else{console.log("Fetching own CVs for user:",t.uid);const Le=Xc(vl(Jr,"cvs"),Is("userId","==",t.uid),Cv("uploadedAt","desc")),Xe=await Zc(Le);console.log("Query successful. Found documents:",Xe.docs.length);const xt=Xe.docs.map(ht=>({id:ht.id,...ht.data(),uploadedAt:ht.data().uploadedAt?.toDate()||new Date}));console.log("CVs data:",xt),a(xt),c(xt)}}catch(Se){console.error("Error fetching CVs:",Se),console.error("Error code:",Se.code),console.error("Error message:",Se.message),(Se.code==="failed-precondition"||Se.message?.includes("index"))&&(console.error("FIRESTORE INDEX REQUIRED!"),console.error("Create a composite index for: userId (Ascending) + uploadedAt (Descending)"))}finally{h(!1)}},Ve=async()=>{if(t)try{const Se=Ji(Jr,"customFieldConfigs",t.uid),Le=await Nf(Se);if(Le.exists()){const Xe=Le.data().fields||[];oe(Xe);const xt={};Xe.forEach(ht=>{xt[ht.name]=""}),J(xt)}else oe([]),J({})}catch(Se){console.error("Error loading custom field configs:",Se),oe([]),J({})}},Re=async()=>{try{if(e?.teamAccess?.isTeamMember){const Xe=An(),ht=await wr(Xe,"getTeamJobSpecs")();if(ht.data.success){const ft=ht.data.jobSpecs.map(Ct=>({id:Ct.id,...Ct,createdAt:Ct.createdAt?._seconds?new Date(Ct.createdAt._seconds*1e3):new Date(Ct.createdAt)}));ft.sort((Ct,Bt)=>new Date(Bt.createdAt)-new Date(Ct.createdAt)),P(ft)}else P([])}else{const Xe=Xc(vl(Jr,"jobSpecs"),Is("userId","==",t.uid),Is("isActive","==",!0),Cv("createdAt","desc")),ht=(await Zc(Xe)).docs.map(ft=>({id:ft.id,...ft.data()}));P(ht)}}catch(Se){if(Se.code==="failed-precondition"||Se.message.includes("index"))try{const Le=Xc(vl(Jr,"jobSpecs"),Is("userId","==",t.uid),Is("isActive","==",!0)),xt=(await Zc(Le)).docs.map(ht=>({id:ht.id,...ht.data()}));xt.sort((ht,ft)=>new Date(ft.createdAt)-new Date(ht.createdAt)),P(xt)}catch(Le){console.error("Error fetching job specs (retry):",Le)}else console.error("Error fetching job specs:",Se)}},mt=async Se=>{if(!Km(e?.plan)){L(!0);return}if(!Se){U(null);return}U(Se),await $(Se)},$=async Se=>{D(!0);try{const Le=An(),Xe=wr(Le,"batchCalculateMatches"),xt=i.map(ft=>ft.id);(await Xe({cvIds:xt,jobSpecId:Se})).data.success&&await Ie()}catch(Le){console.error("Error calculating matches:",Le),console.error("Error details:",{message:Le.message,code:Le.code,details:Le.details,stack:Le.stack,name:Le.name});let Xe="Failed to calculate match scores. ";Le.code==="functions/internal"?Xe+="There was an internal error in the matching function. Please check the Firebase Functions logs for details.":Le.code==="functions/unauthenticated"?Xe+="You must be logged in to use this feature.":Le.code==="functions/permission-denied"?Xe+="You do not have permission to perform this action.":Le.message?Xe+=Le.message:Xe+="An unknown error occurred.",alert(Xe+`

Please check the browser console for more details.`)}finally{D(!1)}},ie=Se=>!X||!Se.matchScores?null:Se.matchScores[X]?.score||null,Pe=Se=>{if(Se==null)return s.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-600 rounded-full",children:"No Match"});let Le="bg-red-100 text-red-700",Xe="Poor Match";return Se>=80?(Le="bg-green-100 text-green-700",Xe="Excellent"):Se>=60?(Le="bg-blue-100 text-blue-700",Xe="Good"):Se>=40&&(Le="bg-yellow-100 text-yellow-700",Xe="Fair"),s.jsxs("span",{className:`px-2 py-1 text-xs ${Le} rounded-full font-medium flex items-center gap-1`,children:[s.jsx(DL,{size:12}),Se,"% ",Xe]})},xe=()=>{let Se=[...i];if(de.onlyParsed&&(Se=Se.filter(Le=>Le.parsed&&Le.status==="completed")),f&&(Se=Se.filter(Le=>Le.metadata?.name?.toLowerCase().includes(f.toLowerCase())||Le.metadata?.email?.toLowerCase().includes(f.toLowerCase())||Le.metadata?.phone?.toLowerCase().includes(f.toLowerCase())||Le.metadata?.location?.toLowerCase().includes(f.toLowerCase()))),de.status!=="all"&&(Se=Se.filter(Le=>Le.status===de.status)),de.fileType!=="all"&&(Se=Se.filter(Le=>Le.fileType.includes(de.fileType))),de.dateFrom){const Le=new Date(de.dateFrom);Se=Se.filter(Xe=>Xe.uploadedAt>=Le)}if(de.dateTo){const Le=new Date(de.dateTo);Le.setHours(23,59,59),Se=Se.filter(Xe=>Xe.uploadedAt<=Le)}if(de.gender!=="all"&&(Se=Se.filter(Le=>Le.metadata?.gender?Le.metadata.gender.toLowerCase()===de.gender.toLowerCase():de.includeUnknown)),de.ageMin&&(Se=Se.filter(Le=>Le.metadata?.age?Le.metadata.age>=parseInt(de.ageMin):de.includeUnknown)),de.ageMax&&(Se=Se.filter(Le=>Le.metadata?.age?Le.metadata.age<=parseInt(de.ageMax):de.includeUnknown)),de.race!=="all"&&(Se=Se.filter(Le=>Le.metadata?.race?Le.metadata.race.toLowerCase()===de.race.toLowerCase():de.includeUnknown)),de.location&&(Se=Se.filter(Le=>Le.metadata?.location?Le.metadata.location.toLowerCase().includes(de.location.toLowerCase()):!1)),de.skills){const Le=de.skills.toLowerCase().split(",").map(Xe=>Xe.trim());Se=Se.filter(Xe=>Xe.metadata?.skills&&Xe.metadata.skills.length>0?Xe.metadata.skills.some(ht=>Le.some(ft=>ht.toLowerCase().includes(ft))):!1)}de.experienceYears!=="all"&&(Se=Se.filter(Le=>{if(!(Le.metadata?.experience&&Le.metadata.experience.length>0))return!1;let xt=0;switch(Le.metadata.experience.forEach(ht=>{const ft=Qte(ht);xt+=ft}),xt===0&&(xt=Le.metadata.experience.length*1.5),de.experienceYears){case"0-2":return xt<=2;case"3-5":return xt>=3&&xt<=5;case"6-10":return xt>=6&&xt<=10;case"10+":return xt>10;default:return!0}})),je&&se.length>0&&R&&se.forEach(Le=>{const Xe=R[Le.name];Xe&&Xe!==""&&(Se=Se.filter(xt=>{const ht=xt.customFields?.[Le.name];return Le.type==="boolean"?ht===(Xe==="true"):Le.type==="select"||Le.type==="text"?ht?String(ht).toLowerCase().includes(String(Xe).toLowerCase()):!1:Le.type==="number"?ht?ht===Number(Xe):!1:Le.type==="date"?ht?ht===Xe:!1:!0}))}),X&&Se.sort((Le,Xe)=>{const xt=ie(Le)||0;return(ie(Xe)||0)-xt}),c(Se)},he=Se=>{g(Le=>Le.includes(Se)?Le.filter(Xe=>Xe!==Se):[...Le,Se])},ve=()=>{x.length===l.length?g([]):g(l.map(Se=>Se.id))},ze=async Se=>{try{re(!0);const Le=An(),xt=await wr(Le,"deleteCV")({cvId:Se});if(xt.data.success)a(ht=>ht.filter(ft=>ft.id!==Se)),g(ht=>ht.filter(ft=>ft!==Se)),n.success("CV deleted successfully");else throw new Error(xt.data.message||"Failed to delete CV")}catch(Le){console.error("Error deleting CV:",Le),n.error("Failed to delete CV. Please try again.")}finally{re(!1),B({isOpen:!1,cvId:null,isBulk:!1})}},De=async()=>{if(x.length!==0)try{re(!0);const Se=An(),Le=wr(Se,"deleteCV");let Xe=0,xt=0;for(const ht of x)try{(await Le({cvId:ht})).data.success?Xe++:xt++}catch(ft){console.error("Error deleting CV:",ht,ft),xt++}a(ht=>ht.filter(ft=>!x.includes(ft.id))),xt===0?n.success(`${Xe} CV(s) deleted successfully`):n.warning(`${Xe} CV(s) deleted, ${xt} failed`),g([])}catch(Se){console.error("Error deleting CVs:",Se),n.error("Failed to delete some CVs. Please try again.")}finally{re(!1),B({isOpen:!1,cvId:null,isBulk:!1})}},Ce=(Se=null,Le=!1)=>{B({isOpen:!0,cvId:Se,isBulk:Le})},Ye=async()=>{I.isBulk?await De():await ze(I.cvId)},ot=Se=>{if(Se===0)return"0 Bytes";const Le=1024,Xe=["Bytes","KB","MB"],xt=Math.floor(Math.log(Se)/Math.log(Le));return Math.round(Se/Math.pow(Le,xt)*100)/100+" "+Xe[xt]},Qe=Se=>new Date(Se).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ct=()=>{let Se=0;return de.status!=="all"&&Se++,de.fileType!=="all"&&Se++,de.dateFrom&&Se++,de.dateTo&&Se++,de.gender!=="all"&&Se++,de.ageMin&&Se++,de.ageMax&&Se++,de.race!=="all"&&Se++,de.location&&Se++,de.skills&&Se++,de.experienceYears!=="all"&&Se++,de.onlyParsed&&Se++,de.includeUnknown||Se++,R&&Object.values(R).forEach(Le=>{Le&&Le!==""&&Se++}),Se},Tt=Se=>{C(Le=>({...Le,[Se]:!Le[Se]}))},bt=Se=>{const Le={processing:{bg:"bg-yellow-100",text:"text-yellow-800",label:"Processing"},completed:{bg:"bg-green-100",text:"text-green-800",label:"Completed"},error:{bg:"bg-red-100",text:"text-red-800",label:"Error"}},Xe=Le[Se]||Le.processing;return s.jsx("span",{className:`${Xe.bg} ${Xe.text} text-xs font-medium px-2.5 py-1 rounded-full`,children:Xe.label})};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(fs,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CV Library"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Document Manager"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(fs,{size:28})}),"CV Library"]}),s.jsxs("p",{className:"text-orange-100 text-lg",children:[l.length," ",l.length===1?"CV":"CVs"," found",ct()>0&&`  ${ct()} filter${ct()>1?"s":""} active`]}),e?.teamAccess?.isTeamMember&&s.jsxs("div",{className:"mt-2 flex items-center gap-2 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-white/20 backdrop-blur rounded-full border border-white/30",children:[s.jsx(Ds,{size:14}),s.jsx("span",{children:"Team Member View"})]}),s.jsx("span",{className:"text-orange-100 text-xs",children:"Viewing team owner's CVs"})]})]}),s.jsxs("button",{onClick:()=>r("/upload"),className:"hidden lg:flex items-center gap-2 px-6 py-3 bg-white/20 backdrop-blur hover:bg-white/30 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg",children:[s.jsx(Rs,{size:20}),"Upload CVs"]})]})}),s.jsxs("button",{onClick:()=>r("/upload"),className:"lg:hidden w-full mb-6 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[s.jsx(Rs,{size:20}),"Upload CVs"]}),s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 mb-6 shadow-lg",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(PL,{className:"text-white",size:18})}),s.jsx("input",{type:"text",placeholder:"Search by filename, name, or email...",value:f,onChange:Se=>p(Se.target.value),className:"w-full pl-16 pr-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all"})]}),s.jsxs("button",{onClick:()=>v(!w),className:`flex items-center gap-2 px-6 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-md relative ${w?"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-orange-500/30":"border-2 border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(VT,{size:20}),s.jsx("span",{children:"Filters"}),ct()>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-br from-red-500 to-red-600 text-white text-xs font-bold rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:ct()})]}),je&&se&&se.length>0&&s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>j(!_),className:`flex items-center gap-2 px-6 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-md relative ${_?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-purple-500/30":"border-2 border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(Wu,{size:20}),s.jsx("span",{children:"Columns"}),pe.length>0&&s.jsx("span",{className:"absolute -top-2 -right-2 bg-gradient-to-br from-purple-500 to-purple-600 text-white text-xs font-bold rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:pe.length})]}),_&&s.jsxs("div",{className:"absolute right-0 mt-2 w-72 bg-white border-2 border-purple-200 rounded-xl shadow-2xl z-50 p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Wu,{size:18,className:"text-purple-500"}),"Custom Columns"]}),s.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Vt,{size:18})})]}),s.jsx("p",{className:"text-xs text-gray-600 mb-3",children:"Select which custom fields to show as columns in the table"}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:se.map(Se=>s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer hover:bg-purple-50 p-2 rounded-lg transition-colors group",children:[s.jsx("input",{type:"checkbox",checked:pe.includes(Se.name),onChange:Le=>{Le.target.checked?H([...pe,Se.name]):H(pe.filter(Xe=>Xe!==Se.name))},className:"w-4 h-4 text-purple-500 border-gray-300 rounded focus:ring-purple-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700 group-hover:text-purple-600",children:Se.label}),s.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",Se.type,")"]})]})]},Se.id))}),pe.length>0&&s.jsx("button",{onClick:()=>H([]),className:"mt-3 w-full text-xs text-purple-600 hover:text-purple-700 font-medium",children:"Clear all"})]})]})]}),(Km(e?.plan)||z.length>0)&&s.jsxs("div",{className:"mt-6 pt-6 border-t-2 border-gray-100",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-fit",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(Jl,{size:18,className:"text-white"})}),s.jsx("label",{className:"text-sm font-bold text-gray-900",children:"Match to Job Spec:"})]}),s.jsx("div",{className:"flex-1 min-w-[280px]",children:M?s.jsxs("div",{className:"w-full px-4 py-2.5 bg-gray-50 border border-gray-300 rounded-lg flex items-center gap-2 text-sm text-gray-500",children:[s.jsx(Ha,{size:16,className:"animate-spin text-orange-500"}),s.jsx("span",{children:"Calculating matches..."})]}):s.jsx(Wd,{value:X||"",onChange:Se=>mt(Se),options:[{value:"",label:"No job spec selected"},...z.map(Se=>({value:Se.id,label:`${Se.title}${Se.department?` - ${Se.department}`:""}`}))],placeholder:"Select a job specification..."})}),z.length===0&&Km(e?.plan)&&s.jsx("button",{onClick:()=>r("/job-specs"),className:"text-sm text-orange-500 hover:text-orange-600 font-medium whitespace-nowrap flex items-center gap-1",children:"Create Job Spec "})]}),X&&!M&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-gray-600 bg-blue-50 px-3 py-2 rounded-lg",children:[s.jsx(dp,{size:16,className:"text-blue-600"}),s.jsx("span",{children:"CVs are sorted by match score (highest first)"})]})]}),G&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:s.jsx(xh,{className:"text-orange-500",size:24})}),s.jsx("button",{onClick:()=>L(!1),className:"text-gray-400 hover:text-gray-600",children:s.jsx(Vt,{size:20})})]}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Upgrade to Premium"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"CV matching with job specifications is a premium feature. Upgrade your plan to unlock this powerful tool."}),s.jsx("button",{onClick:()=>r("/pricing"),className:"w-full py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"View Plans"})]})}),ct()>0&&s.jsxs("div",{className:"mt-3 flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-600",children:"Active filters:"}),de.status!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded-full",children:["Status: ",de.status,s.jsx("button",{onClick:()=>ge({...de,status:"all"}),className:"hover:bg-orange-200 rounded-full p-0.5",children:s.jsx(Vt,{size:12})})]}),de.race!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:["Race: ",de.race,s.jsx("button",{onClick:()=>ge({...de,race:"all"}),className:"hover:bg-purple-200 rounded-full p-0.5",children:s.jsx(Vt,{size:12})})]}),de.gender!=="all"&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded-full",children:["Gender: ",de.gender,s.jsx("button",{onClick:()=>ge({...de,gender:"all"}),className:"hover:bg-blue-200 rounded-full p-0.5",children:s.jsx(Vt,{size:12})})]}),de.location&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:["Location: ",de.location,s.jsx("button",{onClick:()=>ge({...de,location:""}),className:"hover:bg-green-200 rounded-full p-0.5",children:s.jsx(Vt,{size:12})})]}),de.skills&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-full",children:["Skills: ",de.skills,s.jsx("button",{onClick:()=>ge({...de,skills:""}),className:"hover:bg-indigo-200 rounded-full p-0.5",children:s.jsx(Vt,{size:12})})]}),ct()>1&&s.jsx("button",{onClick:()=>ge({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0}),className:"text-xs text-gray-600 hover:text-orange-500 underline",children:"Clear all"})]}),w&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 space-y-3",children:[s.jsx("div",{className:"p-4 bg-gradient-to-r from-orange-50 to-amber-50 border border-orange-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:["Showing ",l.length," of ",i.length," CVs"]}),s.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:ct()>0?`${ct()} filter${ct()>1?"s":""} active`:"No filters applied"})]}),s.jsx(af,{className:"text-orange-500",size:24})]})}),s.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-xl shadow-sm",children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(OL,{size:18,className:"text-orange-500"}),"Quick Filters"]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),s.jsx(Wd,{value:de.status,onChange:Se=>ge({...de,status:Se}),options:[{value:"all",label:"All Status"},{value:"processing",label:"Processing"},{value:"completed",label:"Completed"},{value:"error",label:"Error"}]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Type"}),s.jsx(Wd,{value:de.fileType,onChange:Se=>ge({...de,fileType:Se}),options:[{value:"all",label:"All Types"},{value:"pdf",label:"PDF"},{value:"word",label:"Word"}]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date From"}),s.jsx("input",{type:"date",value:de.dateFrom,onChange:Se=>ge({...de,dateFrom:Se.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date To"}),s.jsx("input",{type:"date",value:de.dateTo,onChange:Se=>ge({...de,dateTo:Se.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"})]})]})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.demographic?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{onClick:()=>Tt("demographic"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ds,{size:16,className:"text-purple-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Demographic Filters"}),(de.gender!=="all"||de.ageMin||de.ageMax||de.race!=="all")&&s.jsx("span",{className:"bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),E.demographic?s.jsx(ih,{size:20}):s.jsx(nc,{size:20})]}),E.demographic&&s.jsx("div",{className:"p-6 bg-white",children:s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),s.jsx(Wd,{value:de.gender,onChange:Se=>ge({...de,gender:Se}),options:[{value:"all",label:"All Genders"},{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"non-binary",label:"Non-Binary"},{value:"prefer-not-to-say",label:"Prefer Not to Say"}]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Min"}),s.jsx("input",{type:"number",placeholder:"Min age",value:de.ageMin,onChange:Se=>ge({...de,ageMin:Se.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm",min:"18",max:"99"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age Max"}),s.jsx("input",{type:"number",placeholder:"Max age",value:de.ageMax,onChange:Se=>ge({...de,ageMax:Se.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm",min:"18",max:"99"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Race/Ethnicity"}),s.jsx(Wd,{value:de.race,onChange:Se=>ge({...de,race:Se}),options:[{value:"all",label:"All Races"},{value:"african",label:"African"},{value:"coloured",label:"Coloured"},{value:"indian",label:"Indian"},{value:"white",label:"White"},{value:"asian",label:"Asian"},{value:"other",label:"Other"}]})]})]})})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.professional?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{onClick:()=>Tt("professional"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jl,{size:16,className:"text-green-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Professional Filters"}),(de.location||de.skills||de.experienceYears!=="all")&&s.jsx("span",{className:"bg-green-100 text-green-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),E.professional?s.jsx(ih,{size:20}):s.jsx(nc,{size:20})]}),E.professional&&s.jsx("div",{className:"p-6 bg-white",children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),s.jsx("input",{type:"text",placeholder:"e.g., Cape Town, Johannesburg",value:de.location,onChange:Se=>ge({...de,location:Se.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Skills"}),s.jsx("input",{type:"text",placeholder:"e.g., React, Python, Java",value:de.skills,onChange:Se=>ge({...de,skills:Se.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:"Separate multiple skills with commas"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Experience"}),s.jsx(Wd,{value:de.experienceYears,onChange:Se=>ge({...de,experienceYears:Se}),options:[{value:"all",label:"All Experience Levels"},{value:"0-2",label:"Entry Level (0-2 years)"},{value:"3-5",label:"Mid Level (3-5 years)"},{value:"6-10",label:"Senior (6-10 years)"},{value:"10+",label:"Expert (10+ years)"}]})]})]})})]}),je&&se&&se.length>0&&s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.custom?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{onClick:()=>Tt("custom"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Wu,{size:16,className:"text-purple-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Custom Fields"}),R&&Object.values(R).some(Se=>Se!=="")&&s.jsx("span",{className:"bg-purple-100 text-purple-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),E.custom?s.jsx(ih,{size:20}):s.jsx(nc,{size:20})]}),E.custom&&s.jsx("div",{className:"p-6 bg-white",children:s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:se.map(Se=>s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[Se.label,s.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",Se.type,")"]})]}),Se.type==="boolean"?s.jsx(Wd,{value:R&&R[Se.name]||"",onChange:Le=>J({...R||{},[Se.name]:Le}),options:[{value:"",label:"All"},{value:"true",label:"Yes"},{value:"false",label:"No"}]}):Se.type==="select"?s.jsx(Wd,{value:R&&R[Se.name]||"",onChange:Le=>J({...R||{},[Se.name]:Le}),options:[{value:"",label:"All"},...(Se.options||[]).map(Le=>({value:Le,label:Le}))]}):Se.type==="date"?s.jsx("input",{type:"date",value:R&&R[Se.name]||"",onChange:Le=>J({...R||{},[Se.name]:Le.target.value}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm"}):s.jsx("input",{type:Se.type==="number"?"number":"text",value:R&&R[Se.name]||"",onChange:Le=>J({...R||{},[Se.name]:Le.target.value}),placeholder:`Filter by ${Se.label.toLowerCase()}`,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-orange-400 outline-none transition-colors text-sm placeholder-gray-400"})]},Se.id))})})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.advanced?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{onClick:()=>Tt("advanced"),className:"w-full p-4 bg-gray-50 hover:bg-gray-100 transition-colors flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(VT,{size:16,className:"text-blue-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Advanced Options"}),(de.onlyParsed||!de.includeUnknown)&&s.jsx("span",{className:"bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded-full",children:"Active"})]}),E.advanced?s.jsx(ih,{size:20}):s.jsx(nc,{size:20})]}),E.advanced&&s.jsx("div",{className:"p-4 bg-white",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:de.onlyParsed,onChange:Se=>ge({...de,onlyParsed:Se.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-orange-500 transition-colors",children:"Only show successfully parsed CVs"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Exclude CVs that are still processing or failed to parse"})]})]}),s.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",checked:de.includeUnknown,onChange:Se=>ge({...de,includeUnknown:Se.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 group-hover:text-orange-500 transition-colors",children:"Include CVs with missing demographic data"}),s.jsx("p",{className:"text-xs text-gray-500",children:"When filtering by race/gender/age, also show CVs where this info wasn't found"})]})]}),s.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(en,{className:"text-blue-500 flex-shrink-0 mt-0.5",size:14}),s.jsxs("p",{className:"text-xs text-blue-800",children:[s.jsx("strong",{children:"Tip:"}),' Turn off "Include missing data" to see only CVs with complete demographic information for compliance reporting.']})]})})]})})]})]})]}),x.length>0&&s.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl p-6 mb-6 flex items-center justify-between shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Pt,{className:"text-white",size:24})}),s.jsxs("span",{className:"text-orange-900 font-bold text-lg",children:[x.length," CV",x.length>1?"s":""," selected"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("button",{onClick:()=>Ce(null,!0),className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-red-500/30",children:[s.jsx(Os,{size:18}),s.jsx("span",{children:"Delete Selected"})]}),s.jsx("button",{onClick:()=>g([]),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-all font-semibold hover:scale-105",children:"Cancel"})]})]}),d&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ha,{className:"text-orange-500 animate-spin",size:48})}),!d&&i.length===0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(fs,{className:"text-gray-400",size:32})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No CVs uploaded yet"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Start by uploading your first batch of CVs"}),s.jsx("button",{onClick:()=>r("/upload"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Upload CVs"})]}),!d&&i.length>0&&l.length===0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-12 text-center shadow-lg",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-400 to-gray-500 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(en,{className:"text-white",size:40})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No CVs found"}),s.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Try adjusting your search or filters"}),s.jsxs("button",{onClick:()=>{p(""),ge({status:"all",dateFrom:"",dateTo:"",fileType:"all",gender:"all",ageMin:"",ageMax:"",race:"all",location:"",skills:"",experienceYears:"all",onlyParsed:!1,includeUnknown:!0}),U(null),J({})},className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[s.jsx(Vt,{size:20}),"Clear all filters"]})]}),!d&&l.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-lg",children:[s.jsx("div",{ref:ae,className:"overflow-x-auto overflow-y-hidden scrollbar-thin",style:{height:"8px",scrollbarWidth:"thin",scrollbarColor:"#ff6d38 transparent"},onScroll:Se=>{ee.current&&(ee.current.scrollLeft=Se.target.scrollLeft)},children:s.jsx("div",{style:{width:"fit-content",minWidth:"100%",height:"1px"}})}),s.jsx("div",{ref:ee,className:"overflow-x-auto table-container-no-scrollbar",onScroll:Se=>{ae.current&&(ae.current.scrollLeft=Se.target.scrollLeft)},children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{className:"bg-gradient-to-r from-gray-50 to-orange-50/30 border-b-2 border-gray-100",children:s.jsxs("tr",{children:[s.jsx("th",{className:"sticky left-0 z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left border-r border-gray-200",children:s.jsx("input",{type:"checkbox",checked:x.length===l.length,onChange:ve,className:"w-5 h-5 text-orange-500 rounded-lg focus:ring-orange-500 focus:ring-2"})}),s.jsx("th",{className:"sticky left-[72px] z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-r border-gray-200 min-w-[280px]",children:"File Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Uploaded"}),X&&s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Match Score"}),pe.map(Se=>{const Le=se.find(Xe=>Xe.name===Se);return Le?s.jsx("th",{className:"px-6 py-4 text-left text-xs font-bold text-purple-700 uppercase tracking-wider min-w-[180px]",children:Le.label},Se):null}),s.jsx("th",{className:"sticky right-0 z-20 bg-gradient-to-r from-gray-50 to-orange-50/30 px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider border-l border-gray-200 min-w-[140px]",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:l.map(Se=>s.jsxs("tr",{className:"hover:bg-gradient-to-r hover:from-gray-50 hover:to-orange-50/30 transition-all group",children:[s.jsx("td",{className:"sticky left-0 z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-r border-gray-100",children:s.jsx("input",{type:"checkbox",checked:x.includes(Se.id),onChange:()=>he(Se.id),className:"w-4 h-4 text-orange-500 rounded focus:ring-orange-500"})}),s.jsx("td",{className:"sticky left-[72px] z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-r border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(fs,{className:"text-orange-500",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Se.fileName}),Se.metadata?.name&&s.jsx("p",{className:"text-sm text-gray-500",children:Se.metadata.name})]})]})}),s.jsx("td",{className:"px-6 py-4",children:bt(Se.status)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:ot(Se.fileSize)}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Uf,{size:16,className:"text-gray-400"}),s.jsx("span",{children:Qe(Se.uploadedAt)})]})}),X&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[Pe(ie(Se)),ie(Se)!==null&&s.jsx("button",{onClick:()=>Q(Se),className:"p-1.5 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"View Match Breakdown",children:s.jsx(Oee,{size:16})})]})}),pe.map(Le=>{const Xe=se.find(ht=>ht.name===Le);if(!Xe)return null;const xt=Se.customFields?.[Le];return s.jsx("td",{className:"px-6 py-4 text-sm",children:xt!=null&&xt!==""?Xe?.type==="boolean"?s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${xt?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:xt?s.jsxs(s.Fragment,{children:[s.jsx(Pt,{size:12,className:"mr-1"}),"Yes"]}):s.jsxs(s.Fragment,{children:[s.jsx(Vt,{size:12,className:"mr-1"}),"No"]})}):Xe?.type==="date"?s.jsx("span",{className:"text-gray-700",children:new Date(xt).toLocaleDateString()}):s.jsx("span",{className:"text-gray-700 font-medium",children:String(xt)}):s.jsx("span",{className:"text-gray-400 italic text-xs",children:"-"})},Le)}),s.jsx("td",{className:"sticky right-0 z-10 bg-white group-hover:bg-gradient-to-r group-hover:from-gray-50 group-hover:to-orange-50/30 px-6 py-4 border-l border-gray-100",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>r(`/cv/${Se.id}`),className:"p-2 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"View Details",children:s.jsx(CS,{size:18})}),s.jsx("a",{href:Se.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"p-2 text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-lg transition-colors",title:"Download",children:s.jsx(Ef,{size:18})}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsx("button",{onClick:()=>Ce(Se.id,!1),className:"p-2 text-gray-600 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:s.jsx(Os,{size:18})})]})})]},Se.id))})]})})]}),s.jsx(Hte,{className:"max-w-5xl mx-auto"})]}),s.jsx(pl,{isOpen:I.isOpen,onClose:()=>B({isOpen:!1,cvId:null,isBulk:!1}),onConfirm:Ye,title:I.isBulk?"Delete Multiple CVs":"Delete CV",message:I.isBulk?`Are you sure you want to delete ${x.length} CV(s)? This action cannot be undone.`:"Are you sure you want to delete this CV? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:k}),Y&&X&&s.jsx(Zte,{cv:Y,jobSpec:z.find(Se=>Se.id===X),matchScore:ie(Y),onClose:()=>Q(null)})]})}function ere(){const{id:t}=sV(),e=ni(),{currentUser:r,userData:n}=gi(),i=cd(),[a,l]=V.useState(null),[c,d]=V.useState(!0),[h,f]=V.useState(null),[p,x]=V.useState(!1),[g,w]=V.useState(!1),[v,_]=V.useState(!1),[j,E]=V.useState(!1),[C,z]=V.useState([]),[P,X]=V.useState({}),[U,M]=V.useState(!1),[D,G]=V.useState(!1),L=n?.plan||"free",I=Ip(L,"customFields");V.useEffect(()=>{B(),I&&k()},[t,I]);const B=async()=>{try{if(d(!0),n?.teamAccess?.isTeamMember){const J=await wr(ff,"getTeamCV")({cvId:t});if(J.data.success&&J.data.cv){const ee={...J.data.cv,uploadedAt:J.data.cv.uploadedAt?.toDate?.()||(J.data.cv.uploadedAt?._seconds?new Date(J.data.cv.uploadedAt._seconds*1e3):new Date)};l(ee),ee.customFields&&X(ee.customFields)}else f("CV not found")}else{const R=await Nf(Ji(Jr,"cvs",t));if(R.exists()){const J={id:R.id,...R.data(),uploadedAt:R.data().uploadedAt?.toDate()||new Date};l(J),J.customFields&&X(J.customFields)}else f("CV not found")}}catch(H){console.error("Error fetching CV:",H),f("Failed to load CV details")}finally{d(!1)}},k=async()=>{if(r)try{const H=await Nf(Ji(Jr,"customFieldConfigs",r.uid));H.exists()&&z(H.data().fields||[])}catch(H){console.error("Error loading custom field configs:",H)}},re=async()=>{try{G(!0),await cp(Ji(Jr,"cvs",t),{customFields:P}),l(H=>({...H,customFields:P})),i.success("Custom fields saved successfully"),M(!1)}catch(H){console.error("Error saving custom fields:",H),i.error("Failed to save custom fields")}finally{G(!1)}},Y=(H,R)=>{X(J=>({...J,[H]:R}))},Q=async()=>{try{x(!0);const R=await wr(ff,"deleteCV")({cvId:t});if(R.data.success)i.success("CV deleted successfully"),setTimeout(()=>{e("/cvs")},1e3);else throw new Error(R.data.message||"Failed to delete CV")}catch(H){console.error("Error deleting CV:",H),i.error("Failed to delete CV. Please try again."),x(!1),_(!1)}},se=async()=>{try{w(!0),E(!1);const R=await wr(ff,"retryParsing")({cvId:t});console.log("Retry result:",R.data),i.success("CV reprocessing initiated! Refreshing data..."),setTimeout(()=>{B(),w(!1)},2e3)}catch(H){console.error("Error retrying CV parsing:",H),i.error("Failed to retry parsing. Please try again."),w(!1)}},oe=H=>new Date(H).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),pe=H=>{if(H===0)return"0 Bytes";const R=1024,J=["Bytes","KB","MB"],ee=Math.floor(Math.log(H)/Math.log(R));return Math.round(H/Math.pow(R,ee)*100)/100+" "+J[ee]};return c?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx(Ha,{className:"text-orange-500 animate-spin",size:48})}):h?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(en,{className:"text-red-500 mx-auto mb-4",size:48}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:h}),s.jsx("button",{onClick:()=>e("/cvs"),className:"text-orange-500 hover:text-orange-600 font-medium",children:" Back to CV List"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/cvs"),className:"flex items-center space-x-2 text-gray-600 hover:text-orange-500 transition-colors",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-medium",children:"Back to CV List"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-xl",children:"CV"})}),s.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]})]})})}),s.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-8",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-8 mb-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-xl flex items-center justify-center flex-shrink-0",children:s.jsx(fs,{className:"text-orange-500",size:32})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:a.fileName}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Uf,{size:16}),s.jsx("span",{children:oe(a.uploadedAt)})]}),s.jsx("span",{children:""}),s.jsx("span",{children:pe(a.fileSize)}),s.jsx("span",{children:""}),s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a.status==="completed"?"bg-green-100 text-green-800":a.status==="error"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:a.status||"Processing"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("a",{href:a.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsx(Ef,{size:18}),s.jsx("span",{className:"font-medium",children:"Download"})]}),(a.status==="error"||!a.parsed)&&s.jsx("button",{onClick:()=>E(!0),disabled:g,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?s.jsxs(s.Fragment,{children:[s.jsx(Ha,{size:18,className:"animate-spin"}),s.jsx("span",{children:"Retrying..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(N0,{size:18}),s.jsx("span",{children:"Retry Parsing"})]})}),(!n?.teamAccess?.isTeamMember||n?.teamAccess?.role==="admin")&&s.jsx("button",{onClick:()=>_(!0),disabled:p,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:p?s.jsxs(s.Fragment,{children:[s.jsx(Ha,{size:18,className:"animate-spin"}),s.jsx("span",{children:"Deleting..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Os,{size:18}),s.jsx("span",{children:"Delete"})]})})]})]}),s.jsxs("a",{href:a.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center space-x-2 text-orange-500 hover:text-orange-600 font-medium",children:[s.jsx(Cee,{size:16}),s.jsx("span",{children:"View Original Document"})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[a.metadata&&(a.metadata.name||a.metadata.email||a.metadata.phone)&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(ic,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Personal Information"})]}),s.jsxs("div",{className:"space-y-3",children:[a.metadata.name&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ic,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Full Name"}),s.jsx("p",{className:"text-gray-900 font-medium",children:a.metadata.name})]})]}),a.metadata.email&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ac,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),s.jsx("a",{href:`mailto:${a.metadata.email}`,className:"text-gray-900 font-medium hover:text-orange-500",children:a.metadata.email})]})]}),a.metadata.phone&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ste,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Phone"}),s.jsx("a",{href:`tel:${a.metadata.phone}`,className:"text-gray-900 font-medium hover:text-orange-500",children:a.metadata.phone})]})]}),a.metadata.location&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(ib,{size:18,className:"text-gray-400 mt-0.5 flex-shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Location"}),s.jsx("p",{className:"text-gray-900 font-medium",children:a.metadata.location})]})]})]})]}),a.metadata?.skills&&a.metadata.skills.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(xh,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Skills"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.metadata.skills.map((H,R)=>s.jsx("span",{className:"px-3 py-1.5 bg-orange-50 text-orange-700 rounded-lg text-sm font-medium",children:H},R))})]}),a.metadata?.experience&&a.metadata.experience.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(Jl,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Work Experience"})]}),s.jsx("div",{className:"space-y-4",children:a.metadata.experience.map((H,R)=>s.jsxs("div",{className:"pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:H.title||H.position}),s.jsx("p",{className:"text-gray-700 mb-1",children:H.company}),H.duration&&s.jsx("p",{className:"text-sm text-gray-500 mb-2",children:H.duration}),H.description&&s.jsx("p",{className:"text-sm text-gray-600",children:H.description})]},R))})]}),a.metadata?.education&&a.metadata.education.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center space-x-2",children:[s.jsx(kS,{size:20,className:"text-orange-500"}),s.jsx("span",{children:"Education"})]}),s.jsx("div",{className:"space-y-4",children:a.metadata.education.map((H,R)=>s.jsxs("div",{className:"pb-4 border-b border-gray-200 last:border-0 last:pb-0",children:[s.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:H.degree||H.qualification}),s.jsx("p",{className:"text-gray-700 mb-1",children:H.institution||H.school}),H.year&&s.jsx("p",{className:"text-sm text-gray-500",children:H.year})]},R))})]}),a.status==="error"&&a.errorMessage&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(en,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-red-900 mb-2",children:"Processing Error"}),s.jsx("p",{className:"text-sm text-red-800 mb-3 whitespace-pre-wrap",children:a.errorMessage}),a.errorMessage.includes("Pages format")&&s.jsxs("div",{className:"mt-3 p-3 bg-white rounded-lg border border-red-200",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-900 mb-1",children:"How to fix this:"}),s.jsxs("ol",{className:"text-xs text-gray-700 space-y-1 list-decimal list-inside",children:[s.jsx("li",{children:"Open your CV in Apple Pages"}),s.jsxs("li",{children:["Go to ",s.jsx("strong",{children:"File  Export To  PDF"})]}),s.jsx("li",{children:"Save the PDF and upload it to CVSift"})]})]})]})]})}),a.status!=="error"&&(!a.metadata||!a.metadata.name&&!a.metadata.email&&!a.metadata.skills?.length&&!a.metadata.experience?.length&&!a.metadata.education?.length)&&s.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(en,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-yellow-900 mb-1",children:"CV Processing"}),s.jsx("p",{className:"text-sm text-yellow-800",children:"This CV is still being processed. Extracted information will appear here once processing is complete."})]})]})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"File Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"File Type"}),s.jsx("p",{className:"text-gray-900 font-medium uppercase",children:a.fileType?.split("/")[1]||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"File Size"}),s.jsx("p",{className:"text-gray-900 font-medium",children:pe(a.fileSize)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"Uploaded"}),s.jsx("p",{className:"text-gray-900 font-medium",children:oe(a.uploadedAt)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"Status"}),s.jsx("p",{className:"text-gray-900 font-medium capitalize",children:a.status||"Processing"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-gray-500 mb-1",children:"Parsed"}),s.jsx("p",{className:"text-gray-900 font-medium",children:a.parsed?"Yes":"No"})]})]})]}),I&&C.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center space-x-2",children:[s.jsx(Wu,{size:20,className:"text-purple-500"}),s.jsx("span",{children:"Custom Fields"})]}),U?s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>{M(!1),X(a.customFields||{})},className:"text-sm text-gray-500 hover:text-gray-700 font-medium flex items-center space-x-1",children:[s.jsx(Vt,{size:16}),s.jsx("span",{children:"Cancel"})]}),s.jsxs("button",{onClick:re,disabled:D,className:"text-sm text-orange-500 hover:text-orange-600 font-medium flex items-center space-x-1 disabled:opacity-50",children:[D?s.jsx(Ha,{size:16,className:"animate-spin"}):s.jsx(n0,{size:16}),s.jsx("span",{children:"Save"})]})]}):s.jsxs("button",{onClick:()=>M(!0),className:"text-sm text-orange-500 hover:text-orange-600 font-medium flex items-center space-x-1",children:[s.jsx(PS,{size:16}),s.jsx("span",{children:"Edit"})]})]}),s.jsx("div",{className:"space-y-3",children:C.map(H=>H.conditionalOn&&P[H.conditionalOn]!==H.conditionalValue?null:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:[H.label,H.required&&s.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),U?s.jsxs(s.Fragment,{children:[H.type==="text"&&s.jsx("input",{type:"text",value:P[H.name]||"",onChange:R=>Y(H.name,R.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Enter ${H.label.toLowerCase()}`}),H.type==="number"&&s.jsx("input",{type:"number",value:P[H.name]||"",onChange:R=>Y(H.name,R.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:`Enter ${H.label.toLowerCase()}`}),H.type==="date"&&s.jsx("input",{type:"date",value:P[H.name]||"",onChange:R=>Y(H.name,R.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),H.type==="boolean"&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:P[H.name]===!0,onChange:R=>Y(H.name,R.target.checked),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("span",{className:"text-sm text-gray-700",children:P[H.name]?"Yes":"No"})]}),H.type==="select"&&s.jsxs("select",{value:P[H.name]||"",onChange:R=>Y(H.name,R.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[s.jsxs("option",{value:"",children:["Select ",H.label.toLowerCase()]}),H.options?.map((R,J)=>s.jsx("option",{value:R,children:R},J))]})]}):s.jsx("p",{className:"text-gray-900 font-medium text-sm",children:P[H.name]!==void 0&&P[H.name]!==null&&P[H.name]!==""?H.type==="boolean"?P[H.name]?"Yes":"No":P[H.name]:s.jsx("span",{className:"text-gray-400 italic",children:"Not set"})})]},H.id))})]}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 rounded-xl border-2 border-orange-200 p-6",children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("a",{href:a.downloadURL,download:!0,className:"flex items-center justify-center space-x-2 w-full px-4 py-2 bg-white border border-orange-300 rounded-lg hover:bg-orange-50 transition-colors",children:[s.jsx(Ef,{size:18}),s.jsx("span",{className:"font-medium",children:"Download CV"})]}),s.jsxs("button",{onClick:()=>e("/cvs"),className:"flex items-center justify-center space-x-2 w-full px-4 py-2 bg-white border border-orange-300 rounded-lg hover:bg-orange-50 transition-colors",children:[s.jsx(fs,{size:18}),s.jsx("span",{className:"font-medium",children:"View All CVs"})]})]})]})]})]})]}),s.jsx(pl,{isOpen:v,onClose:()=>_(!1),onConfirm:Q,title:"Delete CV",message:"Are you sure you want to delete this CV? This action cannot be undone and will permanently remove all associated data.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:p}),s.jsx(pl,{isOpen:j,onClose:()=>E(!1),onConfirm:se,title:"Retry CV Parsing",message:"This will reprocess the CV document with Claude AI. The process may take a few moments. Do you want to continue?",confirmText:"Retry Parsing",cancelText:"Cancel",type:"info",icon:N0,confirmLoading:g})]})}function tre(){const{currentUser:t}=gi(),e=ni(),[r,n]=V.useState(null),[i,a]=V.useState(null),l=[{id:"free",name:"Free",price:0,currency:"ZAR",cvLimit:10,features:["Basic filtering (skills, location)","Email support","Advanced analytics"],current:t?.userData?.plan==="free",disabled:t?.userData?.plan==="free"},{id:"starter",name:"Starter",price:199,currency:"ZAR",cvLimit:50,features:["Basic + advanced filtering","Email support","Bulk upload","Job spec creation","Email notifications","Advanced analytics"],popular:!1,current:t?.userData?.plan==="starter"},{id:"basic",name:"Basic",price:399,currency:"ZAR",cvLimit:150,features:["All filtering options","Priority email support","Advanced analytics","Bulk upload","Email notifications","Match CVs to job specs"],popular:!0,current:t?.userData?.plan==="basic"},{id:"professional",name:"Professional",price:999,currency:"ZAR",cvLimit:600,features:["Everything in Basic","AI Chatbot Assistant","API access","Team collaboration (3 users)","Custom fields","Priority support"],current:t?.userData?.plan==="professional"},{id:"business",name:"Business",price:1999,currency:"ZAR",cvLimit:1500,features:["Everything in Professional","Higher volume (1,500 CVs)","Team collaboration (10 users)","Custom integrations","Priority support"],current:t?.userData?.plan==="business"},{id:"enterprise",name:"Enterprise",price:null,currency:"ZAR",cvLimit:"Unlimited",features:["Everything in Business","Unlimited CV processing","Custom integrations","Dedicated account manager","SSO & advanced security","White-label option","SLA guarantee"],contact:!0,current:t?.userData?.plan==="enterprise"}],c=async d=>{if(!t){e("/signup");return}if(d.contact){window.location.href="mailto:sales@cvsift.com";return}if(!(d.id==="free"||d.disabled))try{n(d.id),a(null);const f=await wr(ff,"createPayment")({plan:d.id,amount:d.price,itemName:`CVSift ${d.name} Plan - Monthly Subscription`}),{paymentUrl:p,paymentData:x,paymentId:g}=f.data;localStorage.setItem("pendingPaymentId",g);const w=document.createElement("form");w.method="POST",w.action=p,Object.keys(x).forEach(v=>{const _=document.createElement("input");_.type="hidden",_.name=v,_.value=x[v],w.appendChild(_)}),document.body.appendChild(w),w.submit()}catch(h){console.error("Payment error:",h),a(h.message||"Failed to initiate payment. Please try again."),n(null)}};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsx("div",{className:"px-6 py-4 mx-auto max-w-7xl",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center space-x-2 text-gray-600 transition-colors hover:text-orange-500",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-medium",children:"Back to Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-gradient-to-br from-orange-500 to-orange-600",children:s.jsx("span",{className:"text-xl font-bold text-white",children:"CV"})}),s.jsx("span",{className:"text-2xl font-bold",children:"Sift"})]})]})})}),s.jsxs("div",{className:"px-6 py-12 mx-auto max-w-7xl",children:[s.jsxs("div",{className:"mb-12 text-center",children:[s.jsxs("h1",{className:"mb-4 text-4xl font-bold text-gray-900 md:text-5xl",children:["Choose Your ",s.jsx("span",{className:"text-orange-500",children:"Plan"})]}),s.jsx("p",{className:"max-w-2xl mx-auto text-xl text-gray-600",children:"Upgrade your account to unlock more features and increase your CV upload limit"}),t?.userData?.plan&&s.jsx("div",{className:"mt-4",children:s.jsxs("span",{className:"inline-block px-4 py-2 text-sm font-medium text-orange-800 bg-orange-100 rounded-full",children:["Current Plan: ",s.jsx("span",{className:"capitalize",children:t.userData.plan})]})})]}),i&&s.jsx("div",{className:"max-w-3xl p-4 mx-auto mb-6 border border-red-200 rounded-lg bg-red-50",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(en,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"font-medium text-red-800",children:i})}),s.jsx("button",{onClick:()=>a(null),className:"text-red-500 hover:text-red-700",children:""})]})}),s.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 max-w-6xl mx-auto",children:l.filter(d=>d.id!=="enterprise").map(d=>s.jsxs("div",{className:`relative bg-white rounded-xl p-6 border transition-all hover:shadow-xl ${d.popular?"border-orange-500 shadow-lg ring-2 ring-orange-500 ring-opacity-50":d.current?"border-green-500":"border-gray-200"}`,children:[d.popular&&s.jsx("div",{className:"absolute px-3 py-1 text-xs font-bold text-white bg-orange-500 rounded-full -top-3 left-6",children:"MOST POPULAR"}),d.current&&s.jsx("div",{className:"absolute px-3 py-1 text-xs font-bold text-white bg-green-500 rounded-full -top-3 left-6",children:"CURRENT"}),s.jsxs("div",{className:"mb-6 text-center",children:[s.jsx("h3",{className:"mb-3 text-xl font-bold text-gray-900",children:d.name}),s.jsx("div",{className:"mb-4",children:d.price!==null?s.jsxs("div",{className:"flex items-baseline justify-center",children:[s.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["R",d.price]}),s.jsx("span",{className:"ml-2 text-gray-500",children:"/mo"})]}):s.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"Custom"})}),s.jsx("div",{className:"inline-block px-4 py-1.5 bg-orange-50 border border-orange-200 rounded-full",children:s.jsxs("span",{className:"text-sm font-bold text-orange-700",children:[d.cvLimit," CVs/month"]})})]}),s.jsxs("ul",{className:"mb-6 space-y-2.5 min-h-[120px]",children:[d.features.slice(0,3).map((h,f)=>s.jsxs("li",{className:"flex items-start space-x-2",children:[s.jsx(cn,{className:"text-orange-500 flex-shrink-0 mt-0.5",size:16}),s.jsx("span",{className:"text-sm text-gray-700",children:h})]},f)),d.features.length>3&&s.jsxs("li",{className:"text-sm text-gray-500 italic",children:["+ ",d.features.length-3," more features"]})]}),s.jsx("button",{onClick:()=>c(d),disabled:r===d.id||d.disabled,className:`w-full py-2.5 rounded-lg font-semibold transition-all ${d.current?"bg-green-500 text-white cursor-default":d.popular?"bg-orange-500 text-white hover:bg-orange-600":d.disabled?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-900 text-white hover:bg-gray-800"} ${r===d.id?"opacity-50 cursor-wait":""}`,children:r===d.id?s.jsxs("span",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ha,{size:16,className:"animate-spin"}),s.jsx("span",{children:"Processing..."})]}):d.current?"Current Plan":d.contact?"Contact Sales":"Get Started"}),!d.current&&!d.contact&&d.price!==null&&s.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Billed monthly. Cancel anytime."})]},d.id))}),l.filter(d=>d.id==="enterprise").map(d=>s.jsx("div",{className:"max-w-4xl mx-auto mt-12",children:s.jsx("div",{className:"relative bg-gradient-to-br from-gray-900 to-gray-800 rounded-xl p-8 text-white",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"flex-1 text-center md:text-left",children:[s.jsx("h3",{className:"text-2xl font-bold mb-2",children:d.name}),s.jsx("p",{className:"text-gray-300 mb-4",children:"For large organizations with complex needs"}),s.jsxs("div",{className:"flex flex-wrap gap-3 justify-center md:justify-start",children:[s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Unlimited CVs"}),s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Custom Integrations"}),s.jsx("span",{className:"px-3 py-1 bg-white/10 rounded-full text-sm",children:"Dedicated Support"})]})]}),s.jsx("button",{onClick:()=>c(d),className:"px-8 py-3 bg-white text-gray-900 rounded-lg font-bold hover:bg-gray-100 transition-all",children:"Contact Sales"})]})})},d.id)),s.jsxs("div",{className:"mt-16 max-w-6xl mx-auto",children:[s.jsxs("h2",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:["Compare ",s.jsx("span",{className:"text-orange-500",children:"Plans"})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-900",children:"Features"}),l.map(d=>s.jsx("th",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("span",{className:`text-sm font-bold ${d.popular?"text-orange-500":"text-gray-900"}`,children:d.name}),d.price!==null?s.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:["R",d.price,"/mo"]}):s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Custom"})]})},d.id))]})}),s.jsxs("tbody",{className:"divide-y divide-gray-100",children:[s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:l.length+1,children:"CV Processing"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Monthly CV limit"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"10"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"50"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"150"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"600"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-gray-900",children:"1,500"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm font-medium text-orange-600",children:"Unlimited"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Bulk upload"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:l.length+1,children:"Filtering & Search"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Advanced filtering (skills, location, etc.)"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Match job specs to CVs"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Custom fields"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:l.length+1,children:"Features & Tools"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Job spec creation"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"AI Chatbot Assistant"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Email notifications"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Advanced analytics"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Ads displayed"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Minimal ads"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-green-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-green-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-green-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-green-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-green-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"API access"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:l.length+1,children:"Collaboration & Security"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Team collaboration"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"1 user"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"3 users"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"10 users"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Unlimited"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Custom integrations"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"SSO & advanced security"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"White-label option"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsx("tr",{className:"bg-orange-50/30",children:s.jsx("td",{className:"px-6 py-3 text-sm font-semibold text-gray-900",colSpan:l.length+1,children:"Support"})}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Email support"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Priority"}),s.jsx("td",{className:"px-6 py-4 text-center text-sm text-gray-600",children:"Dedicated"})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"Dedicated account manager"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]}),s.jsxs("tr",{children:[s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:"SLA guarantee"}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Vt,{size:18,className:"mx-auto text-gray-300"})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx(Pt,{size:18,className:"mx-auto text-orange-500"})})]})]})]})})})]}),s.jsxs("div",{className:"mt-12 text-center",children:[s.jsx("p",{className:"mb-4 text-gray-600",children:"Start with our free plan. Upgrade anytime as your needs grow."}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Need help choosing? ",s.jsx("a",{href:"mailto:support@cvsift.com",className:"text-orange-500 hover:underline",children:"Contact our sales team"})]})]})]})]})}function rre(){const t=ni(),{currentUser:e,refreshUserData:r}=gi(),[n,i]=V.useState("checking"),[a,l]=V.useState(null),[c,d]=V.useState(5);if(V.useEffect(()=>{const f=localStorage.getItem("pendingPaymentId");if(!f){i("complete");return}let p=0;const x=20,g=async()=>{try{const w=An(),_=await wr(w,"getPaymentStatus")({paymentId:f});if(_.data.payment){const j=_.data.payment;if(l(j),j.status==="COMPLETE")return i("complete"),localStorage.removeItem("pendingPaymentId"),r&&await r(),!0;if(j.status==="CANCELLED")return i("error"),localStorage.removeItem("pendingPaymentId"),!0;i("pending")}return p++,p>=x?(i("pending"),!0):!1}catch(w){return console.error("Error checking payment status:",w),p++,p>=x?(i("error"),!0):!1}};g().then(w=>{if(w)return;const v=setInterval(async()=>{await g()&&clearInterval(v)},2e3);return()=>clearInterval(v)})},[e]),V.useEffect(()=>{if(n==="complete"){const f=setInterval(()=>{d(p=>p<=1?(t("/dashboard"),0):p-1)},1e3);return()=>clearInterval(f)}},[n,t]),n==="checking"||n==="pending")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center px-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(nb,{className:"text-blue-500 animate-pulse",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Processing Your Payment"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"We're confirming your payment with PayFast. This usually takes just a few moments..."}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-8",children:s.jsx("p",{className:"text-sm text-blue-800",children:"Please don't close this window. Your account will be updated automatically once payment is confirmed."})}),s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})});if(n==="error")return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center px-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(en,{className:"text-red-500",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Issue"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"We encountered an issue confirming your payment. Please contact support if this issue persists."}),s.jsx("button",{onClick:()=>t("/pricing"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Return to Pricing"})]})});const h=a?.purchaseType==="cv_pack";return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-green-100 flex items-center justify-center px-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(cn,{className:"text-green-500",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Successful!"}),s.jsx("p",{className:"text-gray-600 mb-8",children:h?`Thank you for your purchase! ${a?.cvCount||""} CVs have been added to your account.`:"Thank you for upgrading your CVSift plan. Your account has been updated and you can now enjoy all the premium features."}),s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-8",children:s.jsx("p",{className:"text-sm text-green-800",children:h?"Your CV pack has been added to your account. These CVs never expire and will be used automatically when your monthly limit is reached.":"Your monthly subscription is now active. You will receive a confirmation email shortly."})}),s.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"Go to Dashboard"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Redirecting automatically in ",c," seconds..."]})]})})}function nre(){const t=ni();return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center px-6",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Dv,{className:"text-red-500",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Payment Cancelled"}),s.jsx("p",{className:"text-gray-600 mb-8",children:"Your payment was cancelled. No charges have been made to your account. You can try again whenever you're ready."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("button",{onClick:()=>t("/pricing"),className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105",children:"View Pricing Plans"}),s.jsx("button",{onClick:()=>t("/dashboard"),className:"w-full border-2 border-gray-300 hover:border-orange-500 text-gray-700 px-6 py-3 rounded-lg font-semibold transition-all",children:"Back to Dashboard"})]})]})})}function FL(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=FL(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ln(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=FL(t))&&(n&&(n+=" "),n+=e);return n}var Aw={},Ew={},HT;function ire(){return HT||(HT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(Ew)),Ew}var Tw={},WT;function UL(){return WT||(WT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(Tw)),Tw}var Cw={},GT;function RS(){return GT||(GT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(Cw)),Cw}var kw={},Iw={},YT;function are(){return YT||(YT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(Iw)),Iw}var KT;function OS(){return KT||(KT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=are(),r=RS();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],l=i.length;if(l===0)return a;let c=0,d="",h="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),c++);c<l;){const p=i[c];h?p==="\\"&&c+1<l?(c++,d+=i[c]):p===h?h="":d+=p:f?p==='"'||p==="'"?h=p:p==="]"?(f=!1,a.push(d),d=""):d+=p:p==="["?(f=!0,d&&(a.push(d),d="")):p==="."?d&&(a.push(d),d=""):d+=p,c++}return d&&a.push(d),a}t.toPath=n})(kw)),kw}var XT;function DS(){return XT||(XT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ire(),r=UL(),n=RS(),i=OS();function a(c,d,h){if(c==null)return h;switch(typeof d){case"string":{if(e.isUnsafeProperty(d))return h;const f=c[d];return f===void 0?r.isDeepKey(d)?a(c,i.toPath(d),h):h:f}case"number":case"symbol":{typeof d=="number"&&(d=n.toKey(d));const f=c[d];return f===void 0?h:f}default:{if(Array.isArray(d))return l(c,d,h);if(Object.is(d?.valueOf(),-0)?d="-0":d=String(d),e.isUnsafeProperty(d))return h;const f=c[d];return f===void 0?h:f}}}function l(c,d,h){if(d.length===0)return h;let f=c;for(let p=0;p<d.length;p++){if(f==null||e.isUnsafeProperty(d[p]))return h;f=f[d[p]]}return f===void 0?h:f}t.get=a})(Aw)),Aw}var Pw,ZT;function sre(){return ZT||(ZT=1,Pw=DS().get),Pw}var ore=sre();const ab=ru(ore);var gl=t=>t===0?0:t>0?1:-1,Nl=t=>typeof t=="number"&&t!=+t,sf=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,cr=t=>(typeof t=="number"||t instanceof Number)&&!Nl(t),eu=t=>cr(t)||typeof t=="string",lre=0,j0=t=>{var e=++lre;return"".concat(t||"").concat(e)},vh=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!cr(e)&&typeof e!="string")return n;var a;if(sf(e)){if(r==null)return n;var l=e.indexOf("%");a=r*parseFloat(e.slice(0,l))/100}else a=+e;return Nl(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},BL=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[t[n]])r[t[n]]=!0;else return!0;return!1};function Lu(t,e,r){return cr(t)&&cr(e)?t+r*(e-t):e}function VL(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):ab(n,e))===r)}var _a=t=>t===null||typeof t>"u",LS=t=>_a(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),cre=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function MS(t){if(typeof t!="string")return!1;var e=cre;return e.includes(t)}var ure=["viewBox","children"],QT=["points","pathLength"],Rw={svg:ure,polygon:QT,polyline:QT},zS=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(V.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{MS(i)&&(n[i]=(a=>r[i](r,a)))}),n},dre=(t,e,r)=>n=>(t(e,r,n),null),hre=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];MS(i)&&typeof a=="function"&&(n||(n={}),n[i]=dre(a,e,r))}),n},fre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function qL(t){if(typeof t!="string")return!1;var e=fre;return e.includes(t)}function Bf(t){var e=Object.entries(t).filter(r=>{var[n]=r;return qL(n)});return Object.fromEntries(e)}var $L=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,mre=(t,e,r,n)=>{var i;if(typeof e=="symbol"||typeof e=="number")return!0;var a=(i=n&&Rw?.[n])!==null&&i!==void 0?i:[],l=e.startsWith("data-"),c=typeof t!="function"&&(!!n&&a.includes(e)||qL(e)),d=!!r&&MS(e);return l||c||d},Ya=(t,e,r)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(V.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var l;mre((l=n)===null||l===void 0?void 0:l[a],a,e,r)&&(i[a]=n[a])}),i},pre=["children","width","height","viewBox","className","style","title","desc"];function aN(){return aN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aN.apply(null,arguments)}function gre(t,e){if(t==null)return{};var r,n,i=yre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function yre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var HL=V.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:l,style:c,title:d,desc:h}=t,f=gre(t,pre),p=a||{width:n,height:i,x:0,y:0},x=Ln("recharts-surface",l);return V.createElement("svg",aN({},Ya(f,!0,"svg"),{className:x,width:n,height:i,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),V.createElement("title",null,d),V.createElement("desc",null,h),r)}),xre=["children","className"];function sN(){return sN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sN.apply(null,arguments)}function vre(t,e){if(t==null)return{};var r,n,i=bre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function bre(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Pp=V.forwardRef((t,e)=>{var{children:r,className:n}=t,i=vre(t,xre),a=Ln("recharts-layer",n);return V.createElement("g",sN({className:a},Ya(i,!0),{ref:e}),r)}),wre=V.createContext(null);function mi(t){return function(){return t}}const oN=Math.PI,lN=2*oN,Kh=1e-6,_re=lN-Kh;function WL(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Nre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return WL;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class jre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?WL:Nre(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,l){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+l}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let l=this._x1,c=this._y1,d=n-e,h=i-r,f=l-e,p=c-r,x=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(x>Kh)if(!(Math.abs(p*d-h*f)>Kh)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-l,w=i-c,v=d*d+h*h,_=g*g+w*w,j=Math.sqrt(v),E=Math.sqrt(x),C=a*Math.tan((oN-Math.acos((v+x-_)/(2*j*E)))/2),z=C/E,P=C/j;Math.abs(z-1)>Kh&&this._append`L${e+z*f},${r+z*p}`,this._append`A${a},${a},0,0,${+(p*g>f*w)},${this._x1=e+P*d},${this._y1=r+P*h}`}}arc(e,r,n,i,a,l){if(e=+e,r=+r,n=+n,l=!!l,n<0)throw new Error(`negative radius: ${n}`);let c=n*Math.cos(i),d=n*Math.sin(i),h=e+c,f=r+d,p=1^l,x=l?i-a:a-i;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>Kh||Math.abs(this._y1-f)>Kh)&&this._append`L${h},${f}`,n&&(x<0&&(x=x%lN+lN),x>_re?this._append`A${n},${n},0,1,${p},${e-c},${r-d}A${n},${n},0,1,${p},${this._x1=h},${this._y1=f}`:x>Kh&&this._append`A${n},${n},0,${+(x>=oN)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function GL(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new jre(e)}function FS(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function YL(t){this._context=t}YL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function sb(t){return new YL(t)}function KL(t){return t[0]}function XL(t){return t[1]}function ZL(t,e){var r=mi(!0),n=null,i=sb,a=null,l=GL(c);t=typeof t=="function"?t:t===void 0?KL:mi(t),e=typeof e=="function"?e:e===void 0?XL:mi(e);function c(d){var h,f=(d=FS(d)).length,p,x=!1,g;for(n==null&&(a=i(g=l())),h=0;h<=f;++h)!(h<f&&r(p=d[h],h,d))===x&&((x=!x)?a.lineStart():a.lineEnd()),x&&a.point(+t(p,h,d),+e(p,h,d));if(g)return a=null,g+""||null}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:mi(+d),c):t},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:mi(+d),c):e},c.defined=function(d){return arguments.length?(r=typeof d=="function"?d:mi(!!d),c):r},c.curve=function(d){return arguments.length?(i=d,n!=null&&(a=i(n)),c):i},c.context=function(d){return arguments.length?(d==null?n=a=null:a=i(n=d),c):n},c}function vx(t,e,r){var n=null,i=mi(!0),a=null,l=sb,c=null,d=GL(h);t=typeof t=="function"?t:t===void 0?KL:mi(+t),e=typeof e=="function"?e:mi(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?XL:mi(+r);function h(p){var x,g,w,v=(p=FS(p)).length,_,j=!1,E,C=new Array(v),z=new Array(v);for(a==null&&(c=l(E=d())),x=0;x<=v;++x){if(!(x<v&&i(_=p[x],x,p))===j)if(j=!j)g=x,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=x-1;w>=g;--w)c.point(C[w],z[w]);c.lineEnd(),c.areaEnd()}j&&(C[x]=+t(_,x,p),z[x]=+e(_,x,p),c.point(n?+n(_,x,p):C[x],r?+r(_,x,p):z[x]))}if(E)return c=null,E+""||null}function f(){return ZL().defined(i).curve(l).context(a)}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:mi(+p),n=null,h):t},h.x0=function(p){return arguments.length?(t=typeof p=="function"?p:mi(+p),h):t},h.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:mi(+p),h):n},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:mi(+p),r=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:mi(+p),h):e},h.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:mi(+p),h):r},h.lineX0=h.lineY0=function(){return f().x(t).y(e)},h.lineY1=function(){return f().x(t).y(r)},h.lineX1=function(){return f().x(n).y(e)},h.defined=function(p){return arguments.length?(i=typeof p=="function"?p:mi(!!p),h):i},h.curve=function(p){return arguments.length?(l=p,a!=null&&(c=l(a)),h):l},h.context=function(p){return arguments.length?(p==null?a=c=null:c=l(a=p),h):a},h}class QL{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Sre(t){return new QL(t,!0)}function Are(t){return new QL(t,!1)}function Fv(){}function Uv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function JL(t){this._context=t}JL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Uv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Ere(t){return new JL(t)}function eM(t){this._context=t}eM.prototype={areaStart:Fv,areaEnd:Fv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Tre(t){return new eM(t)}function tM(t){this._context=t}tM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Uv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cre(t){return new tM(t)}function rM(t){this._context=t}rM.prototype={areaStart:Fv,areaEnd:Fv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function kre(t){return new rM(t)}function JT(t){return t<0?-1:1}function eC(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),l=(r-t._y1)/(i||n<0&&-0),c=(a*i+l*n)/(n+i);return(JT(a)+JT(l))*Math.min(Math.abs(a),Math.abs(l),.5*Math.abs(c))||0}function tC(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ow(t,e,r){var n=t._x0,i=t._y0,a=t._x1,l=t._y1,c=(a-n)/3;t._context.bezierCurveTo(n+c,i+c*e,a-c,l-c*r,a,l)}function Bv(t){this._context=t}Bv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ow(this,this._t0,tC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ow(this,tC(this,r=eC(this,t,e)),r);break;default:Ow(this,this._t0,r=eC(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function nM(t){this._context=new iM(t)}(nM.prototype=Object.create(Bv.prototype)).point=function(t,e){Bv.prototype.point.call(this,e,t)};function iM(t){this._context=t}iM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function Ire(t){return new Bv(t)}function Pre(t){return new nM(t)}function aM(t){this._context=t}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=rC(t),i=rC(e),a=0,l=1;l<r;++a,++l)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[l],e[l]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function rC(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),l=new Array(r);for(i[0]=0,a[0]=2,l[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,l[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,l[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,l[e]-=n*l[e-1];for(i[r-1]=l[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(l[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Rre(t){return new aM(t)}function ob(t,e){this._context=t,this._t=e}ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function Ore(t){return new ob(t,.5)}function Dre(t){return new ob(t,0)}function Lre(t){return new ob(t,1)}function hp(t,e){if((l=t.length)>1)for(var r=1,n,i,a=t[e[0]],l,c=a.length;r<l;++r)for(i=a,a=t[e[r]],n=0;n<c;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function cN(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Mre(t,e){return t[e]}function zre(t){const e=[];return e.key=t,e}function Fre(){var t=mi([]),e=cN,r=hp,n=Mre;function i(a){var l=Array.from(t.apply(this,arguments),zre),c,d=l.length,h=-1,f;for(const p of a)for(c=0,++h;c<d;++c)(l[c][h]=[0,+n(p,l[c].key,h,a)]).data=p;for(c=0,f=FS(e(l));c<d;++c)l[f[c]].index=c;return r(l,f),l}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:mi(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:mi(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?cN:typeof a=="function"?a:mi(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??hp,i):r},i}function Ure(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,l;i<a;++i){for(l=r=0;r<n;++r)l+=t[r][i][1]||0;if(l)for(r=0;r<n;++r)t[r][i][1]/=l}hp(t,e)}}function Bre(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var l=0,c=0;l<i;++l)c+=t[l][r][1]||0;n[r][1]+=n[r][0]=-c/2}hp(t,e)}}function Vre(t,e){if(!(!((l=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,l;n<a;++n){for(var c=0,d=0,h=0;c<l;++c){for(var f=t[e[c]],p=f[n][1]||0,x=f[n-1][1]||0,g=(p-x)/2,w=0;w<c;++w){var v=t[e[w]],_=v[n][1]||0,j=v[n-1][1]||0;g+=_-j}d+=p,h+=g*p}i[n-1][1]+=i[n-1][0]=r,d&&(r-=h/d)}i[n-1][1]+=i[n-1][0]=r,hp(t,e)}}var Dw={},Lw={},nC;function qre(){return nC||(nC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const l=r[a],c=n(l);i.has(c)||i.set(c,l)}return Array.from(i.values())}t.uniqBy=e})(Lw)),Lw}var Mw={},iC;function sM(){return iC||(iC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(Mw)),Mw}var zw={},Fw={},Uw={},aC;function $re(){return aC||(aC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(Uw)),Uw}var sC;function US(){return sC||(sC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$re();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(Fw)),Fw}var Bw={},oC;function Hre(){return oC||(oC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(Bw)),Bw}var lC;function Wre(){return lC||(lC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=US(),r=Hre();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(zw)),zw}var Vw={},qw={},cC;function Gre(){return cC||(cC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DS();function r(n){return function(i){return e.get(i,n)}}t.property=r})(qw)),qw}var $w={},Hw={},Ww={},Gw={},uC;function oM(){return uC||(uC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(Gw)),Gw}var Yw={},dC;function lM(){return dC||(dC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(Yw)),Yw}var Kw={},hC;function cM(){return hC||(hC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(Kw)),Kw}var fC;function Yre(){return fC||(fC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BS(),r=oM(),n=lM(),i=cM();function a(p,x,g){return typeof g!="function"?e.isMatch(p,x):l(p,x,function w(v,_,j,E,C,z){const P=g(v,_,j,E,C,z);return P!==void 0?!!P:l(v,_,w,z)},new Map)}function l(p,x,g,w){if(x===p)return!0;switch(typeof x){case"object":return c(p,x,g,w);case"function":return Object.keys(x).length>0?l(p,{...x},g,w):i.eq(p,x);default:return r.isObject(p)?typeof x=="string"?x==="":!0:i.eq(p,x)}}function c(p,x,g,w){if(x==null)return!0;if(Array.isArray(x))return h(p,x,g,w);if(x instanceof Map)return d(p,x,g,w);if(x instanceof Set)return f(p,x,g,w);const v=Object.keys(x);if(p==null)return v.length===0;if(v.length===0)return!0;if(w&&w.has(x))return w.get(x)===p;w&&w.set(x,p);try{for(let _=0;_<v.length;_++){const j=v[_];if(!n.isPrimitive(p)&&!(j in p)||x[j]===void 0&&p[j]!==void 0||x[j]===null&&p[j]!==null||!g(p[j],x[j],j,p,x,w))return!1}return!0}finally{w&&w.delete(x)}}function d(p,x,g,w){if(x.size===0)return!0;if(!(p instanceof Map))return!1;for(const[v,_]of x.entries()){const j=p.get(v);if(g(j,_,v,p,x,w)===!1)return!1}return!0}function h(p,x,g,w){if(x.length===0)return!0;if(!Array.isArray(p))return!1;const v=new Set;for(let _=0;_<x.length;_++){const j=x[_];let E=!1;for(let C=0;C<p.length;C++){if(v.has(C))continue;const z=p[C];let P=!1;if(g(z,j,_,p,x,w)&&(P=!0),P){v.add(C),E=!0;break}}if(!E)return!1}return!0}function f(p,x,g,w){return x.size===0?!0:p instanceof Set?h([...p],[...x],g,w):!1}t.isMatchWith=a,t.isSetMatch=f})(Ww)),Ww}var mC;function BS(){return mC||(mC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yre();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(Hw)),Hw}var Xw={},Zw={},Qw={},pC;function Kre(){return pC||(pC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(Qw)),Qw}var Jw={},gC;function uM(){return gC||(gC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(Jw)),Jw}var e5={},yC;function dM(){return yC||(yC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",l="[object Symbol]",c="[object Date]",d="[object Map]",h="[object Set]",f="[object Array]",p="[object Function]",x="[object ArrayBuffer]",g="[object Object]",w="[object Error]",v="[object DataView]",_="[object Uint8Array]",j="[object Uint8ClampedArray]",E="[object Uint16Array]",C="[object Uint32Array]",z="[object BigUint64Array]",P="[object Int8Array]",X="[object Int16Array]",U="[object Int32Array]",M="[object BigInt64Array]",D="[object Float32Array]",G="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=x,t.arrayTag=f,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=z,t.booleanTag=i,t.dataViewTag=v,t.dateTag=c,t.errorTag=w,t.float32ArrayTag=D,t.float64ArrayTag=G,t.functionTag=p,t.int16ArrayTag=X,t.int32ArrayTag=U,t.int8ArrayTag=P,t.mapTag=d,t.numberTag=n,t.objectTag=g,t.regexpTag=e,t.setTag=h,t.stringTag=r,t.symbolTag=l,t.uint16ArrayTag=E,t.uint32ArrayTag=C,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=j})(e5)),e5}var t5={},xC;function Xre(){return xC||(xC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(t5)),t5}var vC;function hM(){return vC||(vC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kre(),r=uM(),n=dM(),i=lM(),a=Xre();function l(f,p){return c(f,void 0,f,new Map,p)}function c(f,p,x,g=new Map,w=void 0){const v=w?.(f,p,x,g);if(v!==void 0)return v;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const _=new Array(f.length);g.set(f,_);for(let j=0;j<f.length;j++)_[j]=c(f[j],j,x,g,w);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;g.set(f,_);for(const[j,E]of f)_.set(j,c(E,j,x,g,w));return _}if(f instanceof Set){const _=new Set;g.set(f,_);for(const j of f)_.add(c(j,void 0,x,g,w));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,_);for(let j=0;j<f.length;j++)_[j]=c(f[j],j,x,g,w);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,_),d(_,f,x,g,w),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return g.set(f,_),d(_,f,x,g,w),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return g.set(f,_),d(_,f,x,g,w),_}if(f instanceof Error){const _=new f.constructor;return g.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,d(_,f,x,g,w),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return g.set(f,_),d(_,f,x,g,w),_}if(f instanceof Number){const _=new Number(f.valueOf());return g.set(f,_),d(_,f,x,g,w),_}if(f instanceof String){const _=new String(f.valueOf());return g.set(f,_),d(_,f,x,g,w),_}if(typeof f=="object"&&h(f)){const _=Object.create(Object.getPrototypeOf(f));return g.set(f,_),d(_,f,x,g,w),_}return f}function d(f,p,x=f,g,w){const v=[...Object.keys(p),...e.getSymbols(p)];for(let _=0;_<v.length;_++){const j=v[_],E=Object.getOwnPropertyDescriptor(f,j);(E==null||E.writable)&&(f[j]=c(p[j],j,x,g,w))}}function h(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=l,t.cloneDeepWithImpl=c,t.copyProperties=d})(Zw)),Zw}var bC;function Zre(){return bC||(bC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hM();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(Xw)),Xw}var wC;function Qre(){return wC||(wC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BS(),r=Zre();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})($w)),$w}var r5={},n5={},i5={},_C;function Jre(){return _C||(_C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hM(),r=dM();function n(i,a){return e.cloneDeepWith(i,(l,c,d,h)=>{const f=a?.(l,c,d,h);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i?.valueOf());return e.copyProperties(p,i),p}case r.argumentsTag:{const p={};return e.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}})}t.cloneDeepWith=n})(i5)),i5}var NC;function ene(){return NC||(NC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jre();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(n5)),n5}var a5={},s5={},jC;function fM(){return jC||(jC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(s5)),s5}var o5={},SC;function tne(){return SC||(SC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uM();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(o5)),o5}var AC;function rne(){return AC||(AC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UL(),r=fM(),n=tne(),i=OS();function a(l,c){let d;if(Array.isArray(c)?d=c:typeof c=="string"&&e.isDeepKey(c)&&l?.[c]==null?d=i.toPath(c):d=[c],d.length===0)return!1;let h=l;for(let f=0;f<d.length;f++){const p=d[f];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||n.isArguments(h))&&r.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}t.has=a})(a5)),a5}var EC;function nne(){return EC||(EC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BS(),r=RS(),n=ene(),i=DS(),a=rne();function l(c,d){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=r.toKey(c);break}}return d=n.cloneDeep(d),function(h){const f=i.get(h,c);return f===void 0?a.has(h,c):d===void 0?f===void 0:e.isMatch(f,d)}}t.matchesProperty=l})(r5)),r5}var TC;function ine(){return TC||(TC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sM(),r=Gre(),n=Qre(),i=nne();function a(l){if(l==null)return e.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):n.matches(l);case"string":case"symbol":case"number":return r.property(l)}}t.iteratee=a})(Vw)),Vw}var CC;function ane(){return CC||(CC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qre(),r=sM(),n=Wre(),i=ine();function a(l,c=r.identity){return n.isArrayLikeObject(l)?e.uniqBy(Array.from(l),i.iteratee(c)):[]}t.uniqBy=a})(Dw)),Dw}var l5,kC;function sne(){return kC||(kC=1,l5=ane().uniqBy),l5}var one=sne();const IC=ru(one);function lne(t,e,r){return e===!0?IC(t,r):typeof e=="function"?IC(t,e):t}var c5={exports:{}},u5={},d5={exports:{}},h5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC;function cne(){if(PC)return h5;PC=1;var t=vp();function e(p,x){return p===x&&(p!==0||1/p===1/x)||p!==p&&x!==x}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(p,x){var g=x(),w=n({inst:{value:g,getSnapshot:x}}),v=w[0].inst,_=w[1];return a(function(){v.value=g,v.getSnapshot=x,d(v)&&_({inst:v})},[p,g,x]),i(function(){return d(v)&&_({inst:v}),p(function(){d(v)&&_({inst:v})})},[p]),l(g),g}function d(p){var x=p.getSnapshot;p=p.value;try{var g=x();return!r(p,g)}catch{return!0}}function h(p,x){return x()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return h5.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,h5}var RC;function une(){return RC||(RC=1,d5.exports=cne()),d5.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OC;function dne(){if(OC)return u5;OC=1;var t=vp(),e=une();function r(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return u5.useSyncExternalStoreWithSelector=function(h,f,p,x,g){var w=a(null);if(w.current===null){var v={hasValue:!1,value:null};w.current=v}else v=w.current;w=c(function(){function j(X){if(!E){if(E=!0,C=X,X=x(X),g!==void 0&&v.hasValue){var U=v.value;if(g(U,X))return z=U}return z=X}if(U=z,n(C,X))return U;var M=x(X);return g!==void 0&&g(U,M)?(C=X,U):(C=X,z=M)}var E=!1,C,z,P=p===void 0?null:p;return[function(){return j(f())},P===null?void 0:function(){return j(P())}]},[f,p,x,g]);var _=i(h,w[0],w[1]);return l(function(){v.hasValue=!0,v.value=_},[_]),d(_),_},u5}var DC;function hne(){return DC||(DC=1,c5.exports=dne()),c5.exports}var fne=hne(),VS=V.createContext(null),mne=t=>t,Fs=()=>{var t=V.useContext(VS);return t?t.store.dispatch:mne},rv=()=>{},pne=()=>rv,gne=(t,e)=>t===e;function rr(t){var e=V.useContext(VS);return fne.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:pne,e?e.store.getState:rv,e?e.store.getState:rv,e?t:rv,gne)}function yne(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function xne(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function vne(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var LC=t=>Array.isArray(t)?t:[t];function bne(t){const e=Array.isArray(t[0])?t[0]:t;return vne(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function wne(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var _ne=class{constructor(t){this.value=t}deref(){return this.value}},Nne=typeof WeakRef<"u"?WeakRef:_ne,jne=0,MC=1;function bx(){return{s:jne,v:void 0,o:null,p:null}}function mM(t,e={}){let r=bx();const{resultEqualityCheck:n}=e;let i,a=0;function l(){let c=r;const{length:d}=arguments;for(let p=0,x=d;p<x;p++){const g=arguments[p];if(typeof g=="function"||typeof g=="object"&&g!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const v=w.get(g);v===void 0?(c=bx(),w.set(g,c)):c=v}else{let w=c.p;w===null&&(c.p=w=new Map);const v=w.get(g);v===void 0?(c=bx(),w.set(g,c)):c=v}}const h=c;let f;if(c.s===MC)f=c.v;else if(f=t.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,f)&&(f=p,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new Nne(f):f}return h.s=MC,h.v=f,f}return l.clearCache=()=>{r=bx(),l.resetResultsCount()},l.resultsCount=()=>a,l.resetResultsCount=()=>{a=0},l}function Sne(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,l=0,c,d={},h=i.pop();typeof h=="object"&&(d=h,h=i.pop()),yne(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...r,...d},{memoize:p,memoizeOptions:x=[],argsMemoize:g=mM,argsMemoizeOptions:w=[]}=f,v=LC(x),_=LC(w),j=bne(i),E=p(function(){return a++,h.apply(null,arguments)},...v),C=g(function(){l++;const P=wne(j,arguments);return c=E.apply(null,P),c},..._);return Object.assign(C,{resultFunc:h,memoizedResultFunc:E,dependencies:j,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>c,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:g})};return Object.assign(n,{withTypes:()=>n}),n}var rt=Sne(mM),Ane=Object.assign((t,e=rt)=>{xne(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((l,c,d)=>(l[r[d]]=c,l),{}))},{withTypes:()=>Ane}),f5={},m5={},p5={},zC;function Ene(){return zC||(zC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const l=e(n),c=e(i);if(l===c&&l===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?c-l:l-c}return 0};t.compareValues=r})(p5)),p5}var g5={},y5={},FC;function pM(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(y5)),y5}var UC;function Tne(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pM(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,l){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||l!=null&&Object.hasOwn(l,a)}t.isKey=i})(g5)),g5}var BC;function Cne(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ene(),r=Tne(),n=OS();function i(a,l,c,d){if(a==null)return[];c=d?void 0:c,Array.isArray(a)||(a=Object.values(a)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(g=>String(g));const h=(g,w)=>{let v=g;for(let _=0;_<w.length&&v!=null;++_)v=v[w[_]];return v},f=(g,w)=>w==null||g==null?w:typeof g=="object"&&"key"in g?Object.hasOwn(w,g.key)?w[g.key]:h(w,g.path):typeof g=="function"?g(w):Array.isArray(g)?h(w,g):typeof w=="object"?w[g]:w,p=l.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||r.isKey(g)?g:{key:g,path:n.toPath(g)}));return a.map(g=>({original:g,criteria:p.map(w=>f(w,g))})).slice().sort((g,w)=>{for(let v=0;v<p.length;v++){const _=e.compareValues(g.criteria[v],w.criteria[v],c[v]);if(_!==0)return _}return 0}).map(g=>g.original)}t.orderBy=i})(m5)),m5}var x5={},VC;function kne(){return VC||(VC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),l=(c,d)=>{for(let h=0;h<c.length;h++){const f=c[h];Array.isArray(f)&&d<a?l(f,d+1):i.push(f)}};return l(r,0),i}t.flatten=e})(x5)),x5}var v5={},qC;function gM(){return qC||(qC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fM(),r=US(),n=oM(),i=cM();function a(l,c,d){return n.isObject(d)&&(typeof c=="number"&&r.isArrayLike(d)&&e.isIndex(c)&&c<d.length||typeof c=="string"&&c in d)?i.eq(d[c],l):!1}t.isIterateeCall=a})(v5)),v5}var $C;function Ine(){return $C||($C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cne(),r=kne(),n=gM();function i(a,...l){const c=l.length;return c>1&&n.isIterateeCall(a,l[0],l[1])?l=[]:c>2&&n.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),e.orderBy(a,r.flatten(l),["asc"])}t.sortBy=i})(f5)),f5}var b5,HC;function Pne(){return HC||(HC=1,b5=Ine().sortBy),b5}var Rne=Pne();const lb=ru(Rne);var yM=t=>t.legend.settings,One=t=>t.legend.size,Dne=t=>t.legend.payload;rt([Dne,yM],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?lb(n,r):n});var wx=1;function Lne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=V.useState({height:0,left:0,top:0,width:0}),n=V.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),l={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(l.height-e.height)>wx||Math.abs(l.left-e.left)>wx||Math.abs(l.top-e.top)>wx||Math.abs(l.width-e.width)>wx)&&r({height:l.height,left:l.left,top:l.top,width:l.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Ua(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Mne=typeof Symbol=="function"&&Symbol.observable||"@@observable",WC=Mne,w5=()=>Math.random().toString(36).substring(7).split("").join("."),zne={INIT:`@@redux/INIT${w5()}`,REPLACE:`@@redux/REPLACE${w5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${w5()}`},Vv=zne;function qS(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function xM(t,e,r){if(typeof t!="function")throw new Error(Ua(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ua(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ua(1));return r(xM)(t,e)}let n=t,i=e,a=new Map,l=a,c=0,d=!1;function h(){l===a&&(l=new Map,a.forEach((_,j)=>{l.set(j,_)}))}function f(){if(d)throw new Error(Ua(3));return i}function p(_){if(typeof _!="function")throw new Error(Ua(4));if(d)throw new Error(Ua(5));let j=!0;h();const E=c++;return l.set(E,_),function(){if(j){if(d)throw new Error(Ua(6));j=!1,h(),l.delete(E),a=null}}}function x(_){if(!qS(_))throw new Error(Ua(7));if(typeof _.type>"u")throw new Error(Ua(8));if(typeof _.type!="string")throw new Error(Ua(17));if(d)throw new Error(Ua(9));try{d=!0,i=n(i,_)}finally{d=!1}return(a=l).forEach(E=>{E()}),_}function g(_){if(typeof _!="function")throw new Error(Ua(10));n=_,x({type:Vv.REPLACE})}function w(){const _=p;return{subscribe(j){if(typeof j!="object"||j===null)throw new Error(Ua(11));function E(){const z=j;z.next&&z.next(f())}return E(),{unsubscribe:_(E)}},[WC](){return this}}}return x({type:Vv.INIT}),{dispatch:x,subscribe:p,getState:f,replaceReducer:g,[WC]:w}}function Fne(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:Vv.INIT})>"u")throw new Error(Ua(12));if(typeof r(void 0,{type:Vv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ua(13))})}function vM(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const l=e[a];typeof t[l]=="function"&&(r[l]=t[l])}const n=Object.keys(r);let i;try{Fne(r)}catch(a){i=a}return function(l={},c){if(i)throw i;let d=!1;const h={};for(let f=0;f<n.length;f++){const p=n[f],x=r[p],g=l[p],w=x(g,c);if(typeof w>"u")throw c&&c.type,new Error(Ua(14));h[p]=w,d=d||w!==g}return d=d||n.length!==Object.keys(l).length,d?h:l}}function qv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function Une(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Ua(15))};const l={getState:i.getState,dispatch:(d,...h)=>a(d,...h)},c=t.map(d=>d(l));return a=qv(...c)(i.dispatch),{...i,dispatch:a}}}function bM(t){return qS(t)&&"type"in t&&typeof t.type=="string"}var wM=Symbol.for("immer-nothing"),GC=Symbol.for("immer-draftable"),$o=Symbol.for("immer-state");function ec(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var fp=Object.getPrototypeOf;function Tf(t){return!!t&&!!t[$o]}function rd(t){return t?_M(t)||Array.isArray(t)||!!t[GC]||!!t.constructor?.[GC]||ty(t)||ub(t):!1}var Bne=Object.prototype.constructor.toString();function _M(t){if(!t||typeof t!="object")return!1;const e=fp(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Bne}function $v(t,e){cb(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,n)=>e(n,r,t))}function cb(t){const e=t[$o];return e?e.type_:Array.isArray(t)?1:ty(t)?2:ub(t)?3:0}function uN(t,e){return cb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NM(t,e,r){const n=cb(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function Vne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ty(t){return t instanceof Map}function ub(t){return t instanceof Set}function Xh(t){return t.copy_||t.base_}function dN(t,e){if(ty(t))return new Map(t);if(ub(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=_M(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[$o];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const l=i[a],c=n[l];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(n[l]={configurable:!0,writable:!0,enumerable:c.enumerable,value:t[l]})}return Object.create(fp(t),n)}else{const n=fp(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function $S(t,e=!1){return db(t)||Tf(t)||!rd(t)||(cb(t)>1&&Object.defineProperties(t,{set:{value:_x},add:{value:_x},clear:{value:_x},delete:{value:_x}}),Object.freeze(t),e&&Object.values(t).forEach(r=>$S(r,!0))),t}function _x(){ec(2)}function db(t){return Object.isFrozen(t)}var qne={};function Cf(t){const e=qne[t];return e||ec(0,t),e}var S0;function jM(){return S0}function $ne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function YC(t,e){e&&(Cf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hN(t){fN(t),t.drafts_.forEach(Hne),t.drafts_=null}function fN(t){t===S0&&(S0=t.parent_)}function KC(t){return S0=$ne(S0,t)}function Hne(t){const e=t[$o];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function XC(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[$o].modified_&&(hN(e),ec(4)),rd(t)&&(t=Hv(e,t),e.parent_||Wv(e,t)),e.patches_&&Cf("Patches").generateReplacementPatches_(r[$o].base_,t,e.patches_,e.inversePatches_)):t=Hv(e,r,[]),hN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==wM?t:void 0}function Hv(t,e,r){if(db(e))return e;const n=e[$o];if(!n)return $v(e,(i,a)=>ZC(t,n,e,i,a,r)),e;if(n.scope_!==t)return e;if(!n.modified_)return Wv(t,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,l=!1;n.type_===3&&(a=new Set(i),i.clear(),l=!0),$v(a,(c,d)=>ZC(t,n,i,c,d,r,l)),Wv(t,i,!1),r&&t.patches_&&Cf("Patches").generatePatches_(n,r,t.patches_,t.inversePatches_)}return n.copy_}function ZC(t,e,r,n,i,a,l){if(Tf(i)){const c=a&&e&&e.type_!==3&&!uN(e.assigned_,n)?a.concat(n):void 0,d=Hv(t,i,c);if(NM(r,n,d),Tf(d))t.canAutoFreeze_=!1;else return}else l&&r.add(i);if(rd(i)&&!db(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;Hv(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(ty(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Wv(t,i)}}function Wv(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$S(e,r)}function Wne(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:jM(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=HS;r&&(i=[n],a=A0);const{revoke:l,proxy:c}=Proxy.revocable(i,a);return n.draft_=c,n.revoke_=l,c}var HS={get(t,e){if(e===$o)return t;const r=Xh(t);if(!uN(r,e))return Gne(t,r,e);const n=r[e];return t.finalized_||!rd(n)?n:n===_5(t.base_,e)?(N5(t),t.copy_[e]=pN(n,t)):n},has(t,e){return e in Xh(t)},ownKeys(t){return Reflect.ownKeys(Xh(t))},set(t,e,r){const n=SM(Xh(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=_5(Xh(t),e),a=i?.[$o];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(Vne(r,i)&&(r!==void 0||uN(t.base_,e)))return!0;N5(t),mN(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _5(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,N5(t),mN(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Xh(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ec(11)},getPrototypeOf(t){return fp(t.base_)},setPrototypeOf(){ec(12)}},A0={};$v(HS,(t,e)=>{A0[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});A0.deleteProperty=function(t,e){return A0.set.call(this,t,e,void 0)};A0.set=function(t,e,r){return HS.set.call(this,t[0],e,r,t[0])};function _5(t,e){const r=t[$o];return(r?Xh(r):t)[e]}function Gne(t,e,r){const n=SM(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function SM(t,e){if(!(e in t))return;let r=fp(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=fp(r)}}function mN(t){t.modified_||(t.modified_=!0,t.parent_&&mN(t.parent_))}function N5(t){t.copy_||(t.copy_=dN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Yne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const l=this;return function(d=a,...h){return l.produce(d,f=>r.call(this,f,...h))}}typeof r!="function"&&ec(6),n!==void 0&&typeof n!="function"&&ec(7);let i;if(rd(e)){const a=KC(this),l=pN(e,void 0);let c=!0;try{i=r(l),c=!1}finally{c?hN(a):fN(a)}return YC(a,n),XC(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===wM&&(i=void 0),this.autoFreeze_&&$S(i,!0),n){const a=[],l=[];Cf("Patches").generateReplacementPatches_(e,i,a,l),n(a,l)}return i}else ec(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(l,...c)=>this.produceWithPatches(l,d=>e(d,...c));let n,i;return[this.produce(e,r,(l,c)=>{n=l,i=c}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){rd(t)||ec(8),Tf(t)&&(t=Gu(t));const e=KC(this),r=pN(t,void 0);return r[$o].isManual_=!0,fN(e),r}finishDraft(t,e){const r=t&&t[$o];(!r||!r.isManual_)&&ec(9);const{scope_:n}=r;return YC(n,e),XC(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Cf("Patches").applyPatches_;return Tf(t)?n(t,e):this.produce(t,i=>n(i,e))}};function pN(t,e){const r=ty(t)?Cf("MapSet").proxyMap_(t,e):ub(t)?Cf("MapSet").proxySet_(t,e):Wne(t,e);return(e?e.scope_:jM()).drafts_.push(r),r}function Gu(t){return Tf(t)||ec(10,t),AM(t)}function AM(t){if(!rd(t)||db(t))return t;const e=t[$o];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=dN(t,e.scope_.immer_.useStrictShallowCopy_)}else r=dN(t,!0);return $v(r,(n,i)=>{NM(r,n,AM(i))}),e&&(e.finalized_=!1),r}var Kne=new Yne,EM=Kne.produce;function TM(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var Xne=TM(),Zne=TM,Qne=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?qv:qv.apply(null,arguments)};function jl(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Vo(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>bM(n)&&n.type===t,r}var CM=class Wg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Wg.prototype)}static get[Symbol.species](){return Wg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Wg(...e[0].concat(this)):new Wg(...e.concat(this))}};function QC(t){return rd(t)?EM(t,()=>{}):t}function Nx(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function Jne(t){return typeof t=="boolean"}var eie=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let l=new CM;return r&&(Jne(r)?l.push(Xne):l.push(Zne(r.extraArgument))),l},tie="RTK_autoBatch",JC=t=>e=>{setTimeout(e,t)},rie=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,l=!1;const c=new Set,d=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:JC(10):t.type==="callback"?t.queueNotification:JC(t.timeout),h=()=>{l=!1,a&&(a=!1,c.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),x=n.subscribe(p);return c.add(f),()=>{x(),c.delete(f)}},dispatch(f){try{return i=!f?.meta?.[tie],a=!i,a&&(l||(l=!0,d(h))),n.dispatch(f)}finally{i=!0}}})},nie=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new CM(t);return n&&i.push(rie(typeof n=="object"?n:void 0)),i};function iie(t){const e=eie(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=t||{};let c;if(typeof r=="function")c=r;else if(qS(r))c=vM(r);else throw new Error(Vo(1));let d;typeof n=="function"?d=n(e):d=e();let h=qv;i&&(h=Qne({trace:!1,...typeof i=="object"&&i}));const f=Une(...d),p=nie(f);let x=typeof l=="function"?l(p):p();const g=h(...x);return xM(c,a,g)}function kM(t){const e={},r=[];let n;const i={addCase(a,l){const c=typeof a=="string"?a:a.type;if(!c)throw new Error(Vo(28));if(c in e)throw new Error(Vo(29));return e[c]=l,i},addAsyncThunk(a,l){return l.pending&&(e[a.pending.type]=l.pending),l.rejected&&(e[a.rejected.type]=l.rejected),l.fulfilled&&(e[a.fulfilled.type]=l.fulfilled),l.settled&&r.push({matcher:a.settled,reducer:l.settled}),i},addMatcher(a,l){return r.push({matcher:a,reducer:l}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function aie(t){return typeof t=="function"}function sie(t,e){let[r,n,i]=kM(e),a;if(aie(t))a=()=>QC(t());else{const c=QC(t);a=()=>c}function l(c=a(),d){let h=[r[d.type],...n.filter(({matcher:f})=>f(d)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[i]),h.reduce((f,p)=>{if(p)if(Tf(f)){const g=p(f,d);return g===void 0?f:g}else{if(rd(f))return EM(f,x=>p(x,d));{const x=p(f,d);if(x===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}}return f},c)}return l.getInitialState=a,l}var oie="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",lie=(t=21)=>{let e="",r=t;for(;r--;)e+=oie[Math.random()*64|0];return e},cie=Symbol.for("rtk-slice-createasyncthunk");function uie(t,e){return`${t}/${e}`}function die({creators:t}={}){const e=t?.asyncThunk?.[cie];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(Vo(11));const l=(typeof n.reducers=="function"?n.reducers(fie()):n.reducers)||{},c=Object.keys(l),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(C,z){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(Vo(12));if(P in d.sliceCaseReducersByType)throw new Error(Vo(13));return d.sliceCaseReducersByType[P]=z,h},addMatcher(C,z){return d.sliceMatchers.push({matcher:C,reducer:z}),h},exposeAction(C,z){return d.actionCreators[C]=z,h},exposeCaseReducer(C,z){return d.sliceCaseReducersByName[C]=z,h}};c.forEach(C=>{const z=l[C],P={reducerName:C,type:uie(i,C),createNotation:typeof n.reducers=="function"};pie(z)?yie(P,z,h,e):mie(P,z,h)});function f(){const[C={},z=[],P=void 0]=typeof n.extraReducers=="function"?kM(n.extraReducers):[n.extraReducers],X={...C,...d.sliceCaseReducersByType};return sie(n.initialState,U=>{for(let M in X)U.addCase(M,X[M]);for(let M of d.sliceMatchers)U.addMatcher(M.matcher,M.reducer);for(let M of z)U.addMatcher(M.matcher,M.reducer);P&&U.addDefaultCase(P)})}const p=C=>C,x=new Map,g=new WeakMap;let w;function v(C,z){return w||(w=f()),w(C,z)}function _(){return w||(w=f()),w.getInitialState()}function j(C,z=!1){function P(U){let M=U[C];return typeof M>"u"&&z&&(M=Nx(g,P,_)),M}function X(U=p){const M=Nx(x,z,()=>new WeakMap);return Nx(M,U,()=>{const D={};for(const[G,L]of Object.entries(n.selectors??{}))D[G]=hie(L,U,()=>Nx(g,U,_),z);return D})}return{reducerPath:C,getSelectors:X,get selectors(){return X(P)},selectSlice:P}}const E={name:i,reducer:v,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:_,...j(a),injectInto(C,{reducerPath:z,...P}={}){const X=z??a;return C.inject({reducerPath:X,reducer:v},P),{...E,...j(X,!0)}}};return E}}function hie(t,e,r,n){function i(a,...l){let c=e(a);return typeof c>"u"&&n&&(c=r()),t(c,...l)}return i.unwrapped=t,i}var Go=die();function fie(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function mie({type:t,reducerName:e,createNotation:r},n,i){let a,l;if("reducer"in n){if(r&&!gie(n))throw new Error(Vo(17));a=n.reducer,l=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,l?jl(t,l):jl(t))}function pie(t){return t._reducerDefinitionType==="asyncThunk"}function gie(t){return t._reducerDefinitionType==="reducerWithPrepare"}function yie({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Vo(18));const{payloadCreator:a,fulfilled:l,pending:c,rejected:d,settled:h,options:f}=r,p=i(t,a,f);n.exposeAction(e,p),l&&n.addCase(p.fulfilled,l),c&&n.addCase(p.pending,c),d&&n.addCase(p.rejected,d),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(e,{fulfilled:l||jx,pending:c||jx,rejected:d||jx,settled:h||jx})}function jx(){}var xie="task",IM="listener",PM="completed",WS="cancelled",vie=`task-${WS}`,bie=`task-${PM}`,gN=`${IM}-${WS}`,wie=`${IM}-${PM}`,hb=class{constructor(t){this.code=t,this.message=`${xie} ${WS} (reason: ${t})`}name="TaskAbortError";message},GS=(t,e)=>{if(typeof t!="function")throw new TypeError(Vo(32))},Gv=()=>{},RM=(t,e=Gv)=>(t.catch(e),t),OM=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),pf=(t,e)=>{const r=t.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},gf=t=>{if(t.aborted){const{reason:e}=t;throw new hb(e)}};function DM(t,e){let r=Gv;return new Promise((n,i)=>{const a=()=>i(new hb(t.reason));if(t.aborted){a();return}r=OM(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Gv})}var _ie=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof hb?"cancelled":"rejected",error:r}}finally{e?.()}},Yv=t=>e=>RM(DM(t,e).then(r=>(gf(t),r))),LM=t=>{const e=Yv(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:Xm}=Object,ek={},fb="listenerMiddleware",Nie=(t,e)=>{const r=n=>OM(t,()=>pf(n,t.reason));return(n,i)=>{GS(n);const a=new AbortController;r(a);const l=_ie(async()=>{gf(t),gf(a.signal);const c=await n({pause:Yv(a.signal),delay:LM(a.signal),signal:a.signal});return gf(a.signal),c},()=>pf(a,bie));return i?.autoJoin&&e.push(l.catch(Gv)),{result:Yv(t)(l),cancel(){pf(a,vie)}}}},jie=(t,e)=>{const r=async(n,i)=>{gf(e);let a=()=>{};const c=[new Promise((d,h)=>{let f=t({predicate:n,effect:(p,x)=>{x.unsubscribe(),d([p,x.getState(),x.getOriginalState()])}});a=()=>{f(),h()}})];i!=null&&c.push(new Promise(d=>setTimeout(d,i,null)));try{const d=await DM(e,Promise.race(c));return gf(e),d}finally{a()}};return(n,i)=>RM(r(n,i))},MM=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=jl(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Vo(21));return GS(a),{predicate:i,type:e,effect:a}},zM=Xm(t=>{const{type:e,predicate:r,effect:n}=MM(t);return{id:lie(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Vo(22))}}},{withTypes:()=>zM}),tk=(t,e)=>{const{type:r,effect:n,predicate:i}=MM(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},yN=t=>{t.pending.forEach(e=>{pf(e,gN)})},Sie=t=>()=>{t.forEach(yN),t.clear()},rk=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},FM=Xm(jl(`${fb}/add`),{withTypes:()=>FM}),Aie=jl(`${fb}/removeAll`),UM=Xm(jl(`${fb}/remove`),{withTypes:()=>UM}),Eie=(...t)=>{console.error(`${fb}/error`,...t)},ry=(t={})=>{const e=new Map,{extra:r,onError:n=Eie}=t;GS(n);const i=f=>(f.unsubscribe=()=>e.delete(f.id),e.set(f.id,f),p=>{f.unsubscribe(),p?.cancelActive&&yN(f)}),a=f=>{const p=tk(e,f)??zM(f);return i(p)};Xm(a,{withTypes:()=>a});const l=f=>{const p=tk(e,f);return p&&(p.unsubscribe(),f.cancelActive&&yN(p)),!!p};Xm(l,{withTypes:()=>l});const c=async(f,p,x,g)=>{const w=new AbortController,v=jie(a,w.signal),_=[];try{f.pending.add(w),await Promise.resolve(f.effect(p,Xm({},x,{getOriginalState:g,condition:(j,E)=>v(j,E).then(Boolean),take:v,delay:LM(w.signal),pause:Yv(w.signal),extra:r,signal:w.signal,fork:Nie(w.signal,_),unsubscribe:f.unsubscribe,subscribe:()=>{e.set(f.id,f)},cancelActiveListeners:()=>{f.pending.forEach((j,E,C)=>{j!==w&&(pf(j,gN),C.delete(j))})},cancel:()=>{pf(w,gN),f.pending.delete(w)},throwIfCancelled:()=>{gf(w.signal)}})))}catch(j){j instanceof hb||rk(n,j,{raisedBy:"effect"})}finally{await Promise.all(_),pf(w,wie),f.pending.delete(w)}},d=Sie(e);return{middleware:f=>p=>x=>{if(!bM(x))return p(x);if(FM.match(x))return a(x.payload);if(Aie.match(x)){d();return}if(UM.match(x))return l(x.payload);let g=f.getState();const w=()=>{if(g===ek)throw new Error(Vo(23));return g};let v;try{if(v=p(x),e.size>0){const _=f.getState(),j=Array.from(e.values());for(const E of j){let C=!1;try{C=E.predicate(x,_,g)}catch(z){C=!1,rk(n,z,{raisedBy:"predicate"})}C&&c(E,x,f,w)}}}finally{g=ek}return v},startListening:a,stopListening:l,clearListeners:d}};function Vo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Tie={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},BM=Go({name:"chartLayout",initialState:Tie,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Cie,setLayout:kie,setChartSize:Iie,setScale:Pie}=BM.actions,Rie=BM.reducer;function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ik(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){Oie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Oie(t,e,r){return(e=Die(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Die(t){var e=Lie(t,"string");return typeof e=="symbol"?e:e+""}function Lie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kv=Math.PI/180,Mie=t=>t*180/Math.PI,Wa=(t,e,r,n)=>({x:t+Math.cos(-Kv*n)*r,y:e+Math.sin(-Kv*n)*r}),zie=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},Fie=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},Uie=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,l=Fie({x:r,y:n},{x:i,y:a});if(l<=0)return{radius:l,angle:0};var c=(r-i)/l,d=Math.acos(c);return n>a&&(d=2*Math.PI-d),{radius:l,angle:Mie(d),angleInRadian:d}},Bie=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},Vie=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),l=Math.min(i,a);return t+l*360},qie=(t,e)=>{var{x:r,y:n}=t,{radius:i,angle:a}=Uie({x:r,y:n},e),{innerRadius:l,outerRadius:c}=e;if(i<l||i>c||i===0)return null;var{startAngle:d,endAngle:h}=Bie(e),f=a,p;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=d}return p?ik(ik({},e),{},{radius:i,angle:Vie(f,e)}):null};function VM(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ak(Object(r),!0).forEach(function(n){$ie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ie(t,e,r){return(e=Hie(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hie(t){var e=Wie(t,"string");return typeof e=="symbol"?e:e+""}function Wie(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zs(t,e,r){return _a(t)||_a(e)?r:eu(e)?ab(t,e,r):typeof e=="function"?e(t):r}var Gie=(t,e,r,n,i)=>{var a,l=-1,c=(a=e?.length)!==null&&a!==void 0?a:0;if(c<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var d=0;d<c;d++){var h=d>0?r[d-1].coordinate:r[c-1].coordinate,f=r[d].coordinate,p=d>=c-1?r[0].coordinate:r[d+1].coordinate,x=void 0;if(gl(f-h)!==gl(p-f)){var g=[];if(gl(p-f)===gl(i[1]-i[0])){x=p;var w=f+i[1]-i[0];g[0]=Math.min(w,(w+h)/2),g[1]=Math.max(w,(w+h)/2)}else{x=h;var v=p+i[1]-i[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var _=[Math.min(f,(x+f)/2),Math.max(f,(x+f)/2)];if(t>_[0]&&t<=_[1]||t>=g[0]&&t<=g[1]){({index:l}=r[d]);break}}else{var j=Math.min(h,p),E=Math.max(h,p);if(t>(j+f)/2&&t<=(E+f)/2){({index:l}=r[d]);break}}}else if(e){for(var C=0;C<c;C++)if(C===0&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C>0&&C<c-1&&t>(e[C].coordinate+e[C-1].coordinate)/2&&t<=(e[C].coordinate+e[C+1].coordinate)/2||C===c-1&&t>(e[C].coordinate+e[C-1].coordinate)/2){({index:l}=e[C]);break}}return l},Yie=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:l,layout:c}=e;if((c==="vertical"||c==="horizontal"&&l==="middle")&&a!=="center"&&cr(t[a]))return fl(fl({},t),{},{[a]:t[a]+(n||0)});if((c==="horizontal"||c==="vertical"&&a==="center")&&l!=="middle"&&cr(t[l]))return fl(fl({},t),{},{[l]:t[l]+(i||0)})}return t},Sh=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",qM=(t,e,r,n)=>{if(n)return t.map(c=>c.coordinate);var i,a,l=t.map(c=>(c.coordinate===e&&(i=!0),c.coordinate===r&&(a=!0),c.coordinate));return i||l.push(e),a||l.push(r),l},$M=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:l,realScaleType:c,isCategorical:d,categoricalDomain:h,tickCount:f,ticks:p,niceTicks:x,axisType:g}=t;if(!l)return null;var w=c==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,v=i==="category"&&l.bandwidth?l.bandwidth()/w:0;if(v=g==="angleAxis"&&a&&a.length>=2?gl(a[0]-a[1])*2*v:v,p||x){var _=(p||x||[]).map((j,E)=>{var C=n?n.indexOf(j):j;return{coordinate:l(C)+v,value:j,offset:v,index:E}});return _.filter(j=>!Nl(j.coordinate))}return d&&h?h.map((j,E)=>({coordinate:l(j)+v,value:j,index:E,offset:v})):l.ticks&&f!=null?l.ticks(f).map((j,E)=>({coordinate:l(j)+v,value:j,offset:v,index:E})):l.domain().map((j,E)=>({coordinate:l(j)+v,value:n?n[j]:j,index:E,offset:v}))},sk=1e-4,Kie=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-sk,a=Math.max(n[0],n[1])+sk,l=t(e[0]),c=t(e[r-1]);(l<i||l>a||c<i||c>a)&&t.domain([e[0],e[r-1]])}},Xie=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0,l=0;l<e;++l){var c=Nl(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=i,t[l][r][1]=i+c,i=t[l][r][1]):(t[l][r][0]=a,t[l][r][1]=a+c,a=t[l][r][1])}},Zie=t=>{var e=t.length;if(!(e<=0))for(var r=0,n=t[0].length;r<n;++r)for(var i=0,a=0;a<e;++a){var l=Nl(t[a][r][1])?t[a][r][0]:t[a][r][1];l>=0?(t[a][r][0]=i,t[a][r][1]=i+l,i=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},Qie={sign:Xie,expand:Ure,none:hp,silhouette:Bre,wiggle:Vre,positive:Zie},Jie=(t,e,r)=>{var n=Qie[r],i=Fre().keys(e).value((a,l)=>+zs(a,l,0)).order(cN).offset(n);return i(t)};function ok(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:l}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!_a(i[e.dataKey])){var c=VL(r,"value",i[e.dataKey]);if(c)return c.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var d=zs(i,_a(l)?e.dataKey:l);return _a(d)?null:e.scale(d)}var eae=t=>{var e=t.flat(2).filter(cr);return[Math.min(...e),Math.max(...e)]},tae=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],rae=(t,e,r)=>{if(t!=null)return tae(Object.keys(t).reduce((n,i)=>{var a=t[i],{stackedData:l}=a,c=l.reduce((d,h)=>{var f=VM(h,e,r),p=eae(f);return[Math.min(d[0],p[0]),Math.max(d[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],n[0]),Math.max(c[1],n[1])]},[1/0,-1/0]))},lk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ck=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xN=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=lb(e,f=>f.coordinate),a=1/0,l=1,c=i.length;l<c;l++){var d=i[l],h=i[l-1];a=Math.min((d.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function uk(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return fl(fl({},e),{},{dataKey:r,payload:n,value:i,name:a})}function HM(t,e){if(t)return String(t);if(typeof e=="string")return e}function nae(t,e,r,n,i){if(r==="horizontal"||r==="vertical"){var a=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return a?{x:t,y:e}:null}return n?qie({x:t,y:e},n):null}var iae=(t,e,r,n)=>{var i=e.find(h=>h&&h.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.y};if(t==="vertical")return{x:n.x,y:i.coordinate};if(t==="centric"){var a=i.coordinate,{radius:l}=n;return fl(fl(fl({},n),Wa(n.cx,n.cy,l,a)),{},{angle:a,radius:l})}var c=i.coordinate,{angle:d}=n;return fl(fl(fl({},n),Wa(n.cx,n.cy,c,d)),{},{angle:d,radius:c})}return{x:0,y:0}},aae=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,ud=t=>t.layout.width,dd=t=>t.layout.height,sae=t=>t.layout.scale,WM=t=>t.layout.margin,mb=rt(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),pb=rt(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),oae="data-recharts-item-index",lae="data-recharts-item-data-key",ny=60;function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){cae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cae(t,e,r){return(e=uae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uae(t){var e=dae(t,"string");return typeof e=="symbol"?e:e+""}function dae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hae=t=>t.brush.height;function fae(t){var e=pb(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ny;return r+i}return r},0)}function mae(t){var e=pb(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:ny;return r+i}return r},0)}function pae(t){var e=mb(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function gae(t){var e=mb(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ka=rt([ud,dd,WM,hae,fae,mae,pae,gae,yM,One],(t,e,r,n,i,a,l,c,d,h)=>{var f={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+l,bottom:(r.bottom||0)+c},x=Sx(Sx({},p),f),g=x.bottom;x.bottom+=n,x=Yie(x,d,h);var w=t-x.left-x.right,v=e-x.top-x.bottom;return Sx(Sx({brushBottom:g},x),{},{width:Math.max(w,0),height:Math.max(v,0)})}),yae=rt(Ka,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),GM=rt(ud,dd,(t,e)=>({x:0,y:0,width:t,height:e})),xae=V.createContext(null),El=()=>V.useContext(xae)!=null,gb=t=>t.brush,yb=rt([gb,Ka,WM],(t,e,r)=>({height:t.height,x:cr(t.x)?t.x:e.left,y:cr(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:cr(t.width)?t.width:e.width})),YS=()=>{var t,e=El(),r=rr(yae),n=rr(yb),i=(t=rr(gb))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},vae={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YM=()=>{var t;return(t=rr(Ka))!==null&&t!==void 0?t:vae},KM=()=>rr(ud),XM=()=>rr(dd),Mn=t=>t.layout.layoutType,KS=()=>rr(Mn),bae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ZM=Go({name:"legend",initialState:bae,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var r=Gu(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)}}}),{setLegendSize:Jve,setLegendSettings:e1e,addLegendPayload:wae,removeLegendPayload:_ae}=ZM.actions,Nae=ZM.reducer;function vN(){return vN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vN.apply(null,arguments)}function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){jae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jae(t,e,r){return(e=Sae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sae(t){var e=Aae(t,"string");return typeof e=="symbol"?e:e+""}function Aae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eae(t){return Array.isArray(t)&&eu(t[0])&&eu(t[1])?t.join(" ~ "):t}var Tae=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:l,itemSorter:c,wrapperClassName:d,labelClassName:h,label:f,labelFormatter:p,accessibilityLayer:x=!1}=t,g=()=>{if(a&&a.length){var P={padding:0,margin:0},X=(c?lb(a,c):a).map((U,M)=>{if(U.type==="none")return null;var D=U.formatter||l||Eae,{value:G,name:L}=U,I=G,B=L;if(D){var k=D(G,L,U,M,a);if(Array.isArray(k))[I,B]=k;else if(k!=null)I=k;else return null}var re=j5({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},n);return V.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:re},eu(B)?V.createElement("span",{className:"recharts-tooltip-item-name"},B):null,eu(B)?V.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,V.createElement("span",{className:"recharts-tooltip-item-value"},I),V.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return V.createElement("ul",{className:"recharts-tooltip-item-list",style:P},X)}return null},w=j5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=j5({margin:0},i),_=!_a(f),j=_?f:"",E=Ln("recharts-default-tooltip",d),C=Ln("recharts-tooltip-label",h);_&&p&&a!==void 0&&a!==null&&(j=p(f,a));var z=x?{role:"status","aria-live":"assertive"}:{};return V.createElement("div",vN({className:E,style:w},z),V.createElement("p",{className:C,style:v},V.isValidElement(j)?j:"".concat(j)),g())},Cg="recharts-tooltip-wrapper",Cae={visibility:"hidden"};function kae(t){var{coordinate:e,translateX:r,translateY:n}=t;return Ln(Cg,{["".concat(Cg,"-right")]:cr(r)&&e&&cr(e.x)&&r>=e.x,["".concat(Cg,"-left")]:cr(r)&&e&&cr(e.x)&&r<e.x,["".concat(Cg,"-bottom")]:cr(n)&&e&&cr(e.y)&&n>=e.y,["".concat(Cg,"-top")]:cr(n)&&e&&cr(e.y)&&n<e.y})}function fk(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:l,tooltipDimension:c,viewBox:d,viewBoxDimension:h}=t;if(a&&cr(a[n]))return a[n];var f=r[n]-c-(i>0?i:0),p=r[n]+i;if(e[n])return l[n]?f:p;var x=d[n];if(x==null)return 0;if(l[n]){var g=f,w=x;return g<w?Math.max(p,x):Math.max(f,x)}if(h==null)return 0;var v=p+c,_=x+h;return v>_?Math.max(f,x):Math.max(p,x)}function Iae(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function Pae(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,h,f,p;return l.height>0&&l.width>0&&r?(f=fk({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=fk({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),h=Iae({translateX:f,translateY:p,useTranslate3d:c})):h=Cae,{cssProperties:h,cssClasses:kae({translateX:f,translateY:p,coordinate:r})}}function mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ax(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(r),!0).forEach(function(n){bN(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bN(t,e,r){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rae(t){var e=Oae(t,"string");return typeof e=="symbol"?e:e+""}function Oae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dae extends V.PureComponent{constructor(){super(...arguments),bN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),bN(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:l,hasPayload:c,isAnimationActive:d,offset:h,position:f,reverseDirection:p,useTranslate3d:x,viewBox:g,wrapperStyle:w,lastBoundingBox:v,innerRef:_,hasPortalFromProps:j}=this.props,{cssClasses:E,cssProperties:C}=Pae({allowEscapeViewBox:r,coordinate:l,offsetTopLeft:h,position:f,reverseDirection:p,tooltipBox:{height:v.height,width:v.width},useTranslate3d:x,viewBox:g}),z=j?{}:Ax(Ax({transition:d&&e?"transform ".concat(n,"ms ").concat(i):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),P=Ax(Ax({},z),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return V.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:E,style:P,ref:_},a)}}var Lae=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rp={devToolsEnabled:!1,isSsr:Lae()},QM=()=>rr(t=>t.rootProps.accessibilityLayer);function lc(t){return Number.isFinite(t)}function Xv(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function wN(){return wN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wN.apply(null,arguments)}function pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(r),!0).forEach(function(n){Mae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mae(t,e,r){return(e=zae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zae(t){var e=Fae(t,"string");return typeof e=="symbol"?e:e+""}function Fae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yk={curveBasisClosed:Tre,curveBasisOpen:Cre,curveBasis:Ere,curveBumpX:Sre,curveBumpY:Are,curveLinearClosed:kre,curveLinear:sb,curveMonotoneX:Ire,curveMonotoneY:Pre,curveNatural:Rre,curveStep:Ore,curveStepAfter:Lre,curveStepBefore:Dre},Ex=t=>lc(t.x)&&lc(t.y),kg=t=>t.x,Ig=t=>t.y,Uae=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(LS(t));return(r==="curveMonotone"||r==="curveBump")&&e?yk["".concat(r).concat(e==="vertical"?"Y":"X")]:yk[r]||sb},Bae=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=t,l=Uae(e,i),c=a?r.filter(Ex):r,d;if(Array.isArray(n)){var h=a?n.filter(p=>Ex(p)):n,f=c.map((p,x)=>gk(gk({},p),{},{base:h[x]}));return i==="vertical"?d=vx().y(Ig).x1(kg).x0(p=>p.base.x):d=vx().x(kg).y1(Ig).y0(p=>p.base.y),d.defined(Ex).curve(l),d(f)}return i==="vertical"&&cr(n)?d=vx().y(Ig).x1(kg).x0(n):cr(n)?d=vx().x(kg).y1(Ig).y0(n):d=ZL().x(kg).y(Ig),d.defined(Ex).curve(l),d(c)},JM=t=>{var{className:e,points:r,path:n,pathRef:i}=t;if((!r||!r.length)&&!n)return null;var a=r&&r.length?Bae(t):n;return V.createElement("path",wN({},Bf(t),zS(t),{className:Ln("recharts-curve",e),d:a===null?void 0:a,ref:i}))},Vae=["x","y","top","left","width","height","className"];function _N(){return _N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_N.apply(null,arguments)}function xk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xk(Object(r),!0).forEach(function(n){$ae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ae(t,e,r){return(e=Hae(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hae(t){var e=Wae(t,"string");return typeof e=="symbol"?e:e+""}function Wae(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gae(t,e){if(t==null)return{};var r,n,i=Yae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yae(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Kae=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),Xae=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:l=0,className:c}=t,d=Gae(t,Vae),h=qae({x:e,y:r,top:n,left:i,width:a,height:l},d);return!cr(e)||!cr(r)||!cr(a)||!cr(l)||!cr(n)||!cr(i)?null:V.createElement("path",_N({},Ya(h,!0),{className:Ln("recharts-cross",c),d:Kae(e,r,a,l,n,i)}))};function Zae(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qae(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){Jae(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jae(t,e,r){return(e=ese(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ese(t){var e=tse(t,"string");return typeof e=="symbol"?e:e+""}function tse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tl(t,e){var r=Qae({},t),n=e,i=Object.keys(e),a=i.reduce((l,c)=>(l[c]===void 0&&n[c]!==void 0&&(l[c]=n[c]),l),r);return a}function rse(){}function bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(r),!0).forEach(function(n){nse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nse(t,e,r){return(e=ise(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ise(t){var e=ase(t,"string");return typeof e=="symbol"?e:e+""}function ase(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sse=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),ose=(t,e,r)=>t.map(n=>"".concat(sse(n)," ").concat(e,"ms ").concat(r)).join(","),lse=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),E0=(t,e)=>Object.keys(e).reduce((r,n)=>wk(wk({},r),{},{[n]:t(n,e[n])}),{});function _k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(r),!0).forEach(function(n){cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_k(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cse(t,e,r){return(e=use(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function use(t){var e=dse(t,"string");return typeof e=="symbol"?e:e+""}function dse(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zv=(t,e,r)=>t+(e-t)*r,NN=t=>{var{from:e,to:r}=t;return e!==r},e7=(t,e,r)=>{var n=E0((i,a)=>{if(NN(a)){var[l,c]=t(a.from,a.to,a.velocity);return Va(Va({},a),{},{from:l,velocity:c})}return a},e);return r<1?E0((i,a)=>NN(a)?Va(Va({},a),{},{velocity:Zv(a.velocity,n[i].velocity,r),from:Zv(a.from,n[i].from,r)}):a,e):e7(t,n,r-1)};function hse(t,e,r,n,i,a){var l,c=n.reduce((x,g)=>Va(Va({},x),{},{[g]:{from:t[g],velocity:0,to:e[g]}}),{}),d=()=>E0((x,g)=>g.from,c),h=()=>!Object.values(c).filter(NN).length,f=null,p=x=>{l||(l=x);var g=x-l,w=g/r.dt;c=e7(r,c,w),i(Va(Va(Va({},t),e),d())),l=x,h()||(f=a.setTimeout(p))};return()=>(f=a.setTimeout(p),()=>{f()})}function fse(t,e,r,n,i,a,l){var c=null,d=i.reduce((p,x)=>Va(Va({},p),{},{[x]:[t[x],e[x]]}),{}),h,f=p=>{h||(h=p);var x=(p-h)/n,g=E0((v,_)=>Zv(..._,r(x)),d);if(a(Va(Va(Va({},t),e),g)),x<1)c=l.setTimeout(f);else{var w=E0((v,_)=>Zv(..._,r(1)),d);a(Va(Va(Va({},t),e),w))}};return()=>(c=l.setTimeout(f),()=>{c()})}const mse=(t,e,r,n,i,a)=>{var l=lse(t,e);return r.isStepper===!0?hse(t,e,r,l,i,a):fse(t,e,r,n,l,i,a)};var Qv=1e-4,t7=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],r7=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),Nk=(t,e)=>r=>{var n=t7(t,e);return r7(n,r)},pse=(t,e)=>r=>{var n=t7(t,e),i=[...n.map((a,l)=>a*l).slice(1),0];return r7(i,r)},jk=function(){for(var e,r,n,i,a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];if(l.length===1)switch(l[0]){case"linear":[e,n,r,i]=[0,0,1,1];break;case"ease":[e,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[e,n,r,i]=[.42,0,1,1];break;case"ease-out":[e,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[e,n,r,i]=[0,0,.58,1];break;default:{var d=l[0].split("(");d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4&&([e,n,r,i]=d[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else l.length===4&&([e,n,r,i]=l);var h=Nk(e,r),f=Nk(n,i),p=pse(e,r),x=w=>w>1?1:w<0?0:w,g=w=>{for(var v=w>1?1:w,_=v,j=0;j<8;++j){var E=h(_)-v,C=p(_);if(Math.abs(E-v)<Qv||C<Qv)return f(_);_=x(_-E/C)}return f(_)};return g.isStepper=!1,g},gse=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(l,c,d)=>{var h=-(l-c)*r,f=d*n,p=d+(h-f)*i/1e3,x=d*i/1e3+l;return Math.abs(x-c)<Qv&&Math.abs(p)<Qv?[c,0]:[x,p]};return a.isStepper=!0,a.dt=i,a},yse=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jk(t);case"spring":return gse();default:if(t.split("(")[0]==="cubic-bezier")return jk(t)}return typeof t=="function"?t:null};function xse(t){var e,r=()=>null,n=!1,i=null,a=l=>{if(!n){if(Array.isArray(l)){if(!l.length)return;var c=l,[d,...h]=c;if(typeof d=="number"){i=t.setTimeout(a.bind(null,h),d);return}a(d),i=t.setTimeout(a.bind(null,h));return}typeof l=="string"&&(e=l,r(e)),typeof l=="object"&&(e=l,r(e)),typeof l=="function"&&l()}};return{stop:()=>{n=!0},start:l=>{n=!1,i&&(i(),i=null),a(l)},subscribe:l=>(r=l,()=>{r=()=>null}),getTimeoutController:()=>t}}class vse{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=l=>{l-n>=r?e(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function bse(){return xse(new vse)}var wse=V.createContext(bse);function _se(t,e){var r=V.useContext(wse);return V.useMemo(()=>e??r(t),[t,e,r])}var Nse={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Sk={t:0},S5={t:1};function n7(t){var e=Tl(t,Nse),{isActive:r,canBegin:n,duration:i,easing:a,begin:l,onAnimationEnd:c,onAnimationStart:d,children:h}=e,f=_se(e.animationId,e.animationManager),[p,x]=V.useState(r?Sk:S5),g=V.useRef(null);return V.useEffect(()=>{r||x(S5)},[r]),V.useEffect(()=>{if(!r||!n)return rse;var w=mse(Sk,S5,yse(a),i,x,f.getTimeoutController()),v=()=>{g.current=w()};return f.start([d,l,v,i,c]),()=>{f.stop(),g.current&&g.current(),c()}},[r,n,i,a,l,d,c,f]),h(p.t)}function i7(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=V.useRef(j0(e)),n=V.useRef(t);return n.current!==t&&(r.current=j0(e),n.current=t),r.current}function Ak(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ek(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(r),!0).forEach(function(n){jse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ak(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jse(t,e,r){return(e=Sse(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sse(t){var e=Ase(t,"string");return typeof e=="symbol"?e:e+""}function Ase(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jv.apply(null,arguments)}var Tk=(t,e,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),l=n>=0?1:-1,c=r>=0?1:-1,d=n>=0&&r>=0||n<0&&r<0?1:0,h;if(a>0&&i instanceof Array){for(var f=[0,0,0,0],p=0,x=4;p<x;p++)f[p]=i[p]>a?a:i[p];h="M".concat(t,",").concat(e+l*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(d,",").concat(t+c*f[0],",").concat(e)),h+="L ".concat(t+r-c*f[1],",").concat(e),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(e+l*f[1])),h+="L ".concat(t+r,",").concat(e+n-l*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(d,`,
        `).concat(t+r-c*f[2],",").concat(e+n)),h+="L ".concat(t+c*f[3],",").concat(e+n),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(e+n-l*f[3])),h+="Z"}else if(a>0&&i===+i&&i>0){var g=Math.min(a,i);h="M ".concat(t,",").concat(e+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+c*g,",").concat(e,`
            L `).concat(t+r-c*g,",").concat(e,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+r,",").concat(e+l*g,`
            L `).concat(t+r,",").concat(e+n-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t+r-c*g,",").concat(e+n,`
            L `).concat(t+c*g,",").concat(e+n,`
            A `).concat(g,",").concat(g,",0,0,").concat(d,",").concat(t,",").concat(e+n-l*g," Z")}else h="M ".concat(t,",").concat(e," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return h},Ese={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tse=t=>{var e=Tl(t,Ese),r=V.useRef(null),[n,i]=V.useState(-1);V.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&i(k)}catch{}},[]);var{x:a,y:l,width:c,height:d,radius:h,className:f}=e,{animationEasing:p,animationDuration:x,animationBegin:g,isAnimationActive:w,isUpdateAnimationActive:v}=e,_=V.useRef(c),j=V.useRef(d),E=V.useRef(a),C=V.useRef(l),z=V.useMemo(()=>({x:a,y:l,width:c,height:d,radius:h}),[a,l,c,d,h]),P=i7(z,"rectangle-");if(a!==+a||l!==+l||c!==+c||d!==+d||c===0||d===0)return null;var X=Ln("recharts-rectangle",f);if(!v)return V.createElement("path",Jv({},Ya(e,!0),{className:X,d:Tk(a,l,c,d,h)}));var U=_.current,M=j.current,D=E.current,G=C.current,L="0px ".concat(n===-1?1:n,"px"),I="".concat(n,"px 0px"),B=ose(["strokeDasharray"],x,typeof p=="string"?p:void 0);return V.createElement(n7,{animationId:P,key:P,canBegin:n>0,duration:x,easing:p,isActive:v,begin:g},k=>{var re=Lu(U,c,k),Y=Lu(M,d,k),Q=Lu(D,a,k),se=Lu(G,l,k);r.current&&(_.current=re,j.current=Y,E.current=Q,C.current=se);var oe;return w?k>0?oe={transition:B,strokeDasharray:I}:oe={strokeDasharray:L}:oe={strokeDasharray:I},V.createElement("path",Jv({},Ya(e,!0),{className:X,d:Tk(Q,se,re,Y,h),ref:r,style:Ek(Ek({},oe),e.style)}))})};function a7(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,l=Wa(e,r,n,i),c=Wa(e,r,n,a);return{points:[l,c],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function jN(){return jN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jN.apply(null,arguments)}var Cse=(t,e)=>{var r=gl(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Tx=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:l,cornerRadius:c,cornerIsExternal:d}=t,h=c*(l?1:-1)+n,f=Math.asin(c/h)/Kv,p=d?i:i+a*f,x=Wa(e,r,h,p),g=Wa(e,r,n,p),w=d?i-a*f:i,v=Wa(e,r,h*Math.cos(f*Kv),w);return{center:x,circleTangency:g,lineTangency:v,theta:f}},s7=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:l}=t,c=Cse(a,l),d=a+c,h=Wa(e,r,i,a),f=Wa(e,r,i,d),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(a>d),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var x=Wa(e,r,n,a),g=Wa(e,r,n,d);p+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(a<=d),`,
            `).concat(x.x,",").concat(x.y," Z")}else p+="L ".concat(e,",").concat(r," Z");return p},kse=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}=t,f=gl(h-d),{circleTangency:p,lineTangency:x,theta:g}=Tx({cx:e,cy:r,radius:i,angle:d,sign:f,cornerRadius:a,cornerIsExternal:c}),{circleTangency:w,lineTangency:v,theta:_}=Tx({cx:e,cy:r,radius:i,angle:h,sign:-f,cornerRadius:a,cornerIsExternal:c}),j=c?Math.abs(d-h):Math.abs(d-h)-g-_;if(j<0)return l?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):s7({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:d,endAngle:h});var E="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(j>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:C,lineTangency:z,theta:P}=Tx({cx:e,cy:r,radius:n,angle:d,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),{circleTangency:X,lineTangency:U,theta:M}=Tx({cx:e,cy:r,radius:n,angle:h,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:c}),D=c?Math.abs(d-h):Math.abs(d-h)-P-M;if(D<0&&a===0)return"".concat(E,"L").concat(e,",").concat(r,"Z");E+="L".concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(X.x,",").concat(X.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(D>180),",").concat(+(f>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(z.x,",").concat(z.y,"Z")}else E+="L".concat(e,",").concat(r,"Z");return E},Ise={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Pse=t=>{var e=Tl(t,Ise),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f,className:p}=e;if(a<i||h===f)return null;var x=Ln("recharts-sector",p),g=a-i,w=vh(l,g,0,!0),v;return w>0&&Math.abs(h-f)<360?v=kse({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,g/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:f}):v=s7({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:h,endAngle:f}),V.createElement("path",jN({},Ya(e,!0),{className:x,d:v}))};function Rse(t,e,r){var n,i,a,l;if(t==="horizontal")n=e.x,a=n,i=r.top,l=r.top+r.height;else if(t==="vertical")i=e.y,l=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:c,cy:d,innerRadius:h,outerRadius:f,angle:p}=e,x=Wa(c,d,h,p),g=Wa(c,d,f,p);n=x.x,i=x.y,a=g.x,l=g.y}else return a7(e);return[{x:n,y:i},{x:a,y:l}]}var A5={},E5={},T5={},Ck;function Ose(){return Ck||(Ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pM();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(T5)),T5}var kk;function Dse(){return kk||(kk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ose();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(E5)),E5}var Ik;function Lse(){return Ik||(Ik=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gM(),r=Dse();function n(i,a,l){l&&typeof l!="number"&&e.isIterateeCall(i,a,l)&&(a=l=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),l=l===void 0?i<a?1:-1:r.toFinite(l);const c=Math.max(Math.ceil((a-i)/(l||1)),0),d=new Array(c);for(let h=0;h<c;h++)d[h]=i,i+=l;return d}t.range=n})(A5)),A5}var C5,Pk;function Mse(){return Pk||(Pk=1,C5=Lse().range),C5}var zse=Mse();const o7=ru(zse);function uh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fse(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function XS(t){let e,r,n;t.length!==2?(e=uh,r=(c,d)=>uh(t(c),d),n=(c,d)=>t(c)-d):(e=t===uh||t===Fse?t:Use,r=t,n=t);function i(c,d,h=0,f=c.length){if(h<f){if(e(d,d)!==0)return f;do{const p=h+f>>>1;r(c[p],d)<0?h=p+1:f=p}while(h<f)}return h}function a(c,d,h=0,f=c.length){if(h<f){if(e(d,d)!==0)return f;do{const p=h+f>>>1;r(c[p],d)<=0?h=p+1:f=p}while(h<f)}return h}function l(c,d,h=0,f=c.length){const p=i(c,d,h,f-1);return p>h&&n(c[p-1],d)>-n(c[p],d)?p-1:p}return{left:i,center:l,right:a}}function Use(){return 0}function l7(t){return t===null?NaN:+t}function*Bse(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Vse=XS(uh),iy=Vse.right;XS(l7).center;class Rk extends Map{constructor(e,r=Hse){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Ok(this,e))}has(e){return super.has(Ok(this,e))}set(e,r){return super.set(qse(this,e),r)}delete(e){return super.delete($se(this,e))}}function Ok({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function qse({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function $se({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Hse(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Wse(t=uh){if(t===uh)return c7;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function c7(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Gse=Math.sqrt(50),Yse=Math.sqrt(10),Kse=Math.sqrt(2);function e1(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),l=a>=Gse?10:a>=Yse?5:a>=Kse?2:1;let c,d,h;return i<0?(h=Math.pow(10,-i)/l,c=Math.round(t*h),d=Math.round(e*h),c/h<t&&++c,d/h>e&&--d,h=-h):(h=Math.pow(10,i)*l,c=Math.round(t/h),d=Math.round(e/h),c*h<t&&++c,d*h>e&&--d),d<c&&.5<=r&&r<2?e1(t,e,r*2):[c,d,h]}function SN(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,l]=n?e1(e,t,r):e1(t,e,r);if(!(a>=i))return[];const c=a-i+1,d=new Array(c);if(n)if(l<0)for(let h=0;h<c;++h)d[h]=(a-h)/-l;else for(let h=0;h<c;++h)d[h]=(a-h)*l;else if(l<0)for(let h=0;h<c;++h)d[h]=(i+h)/-l;else for(let h=0;h<c;++h)d[h]=(i+h)*l;return d}function AN(t,e,r){return e=+e,t=+t,r=+r,e1(t,e,r)[2]}function EN(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?AN(e,t,r):AN(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Dk(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Lk(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function u7(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?c7:Wse(i);n>r;){if(n-r>600){const d=n-r+1,h=e-r+1,f=Math.log(d),p=.5*Math.exp(2*f/3),x=.5*Math.sqrt(f*p*(d-p)/d)*(h-d/2<0?-1:1),g=Math.max(r,Math.floor(e-h*p/d+x)),w=Math.min(n,Math.floor(e+(d-h)*p/d+x));u7(t,e,g,w,i)}const a=t[e];let l=r,c=n;for(Pg(t,r,e),i(t[n],a)>0&&Pg(t,r,n);l<c;){for(Pg(t,l,c),++l,--c;i(t[l],a)<0;)++l;for(;i(t[c],a)>0;)--c}i(t[r],a)===0?Pg(t,r,c):(++c,Pg(t,c,n)),c<=e&&(r=c+1),e<=c&&(n=c-1)}return t}function Pg(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Xse(t,e,r){if(t=Float64Array.from(Bse(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Lk(t);if(e>=1)return Dk(t);var n,i=(n-1)*e,a=Math.floor(i),l=Dk(u7(t,a).subarray(0,a+1)),c=Lk(t.subarray(a+1));return l+(c-l)*(i-a)}}function Zse(t,e,r=l7){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),l=+r(t[a],a,t),c=+r(t[a+1],a+1,t);return l+(c-l)*(i-a)}}function Qse(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function Cl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function hd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const TN=Symbol("implicit");function ZS(){var t=new Rk,e=[],r=[],n=TN;function i(a){let l=t.get(a);if(l===void 0){if(n!==TN)return n;t.set(a,l=e.push(a)-1)}return r[l%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new Rk;for(const l of a)t.has(l)||t.set(l,e.push(l)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return ZS(e,r).unknown(n)},Cl.apply(i,arguments),i}function QS(){var t=ZS().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,l,c=!1,d=0,h=0,f=.5;delete t.unknown;function p(){var x=e().length,g=i<n,w=g?i:n,v=g?n:i;a=(v-w)/Math.max(1,x-d+h*2),c&&(a=Math.floor(a)),w+=(v-w-a*(x-d))*f,l=a*(1-d),c&&(w=Math.round(w),l=Math.round(l));var _=Qse(x).map(function(j){return w+a*j});return r(g?_.reverse():_)}return t.domain=function(x){return arguments.length?(e(x),p()):e()},t.range=function(x){return arguments.length?([n,i]=x,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(x){return[n,i]=x,n=+n,i=+i,c=!0,p()},t.bandwidth=function(){return l},t.step=function(){return a},t.round=function(x){return arguments.length?(c=!!x,p()):c},t.padding=function(x){return arguments.length?(d=Math.min(1,h=+x),p()):d},t.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),p()):d},t.paddingOuter=function(x){return arguments.length?(h=+x,p()):h},t.align=function(x){return arguments.length?(f=Math.max(0,Math.min(1,x)),p()):f},t.copy=function(){return QS(e(),[n,i]).round(c).paddingInner(d).paddingOuter(h).align(f)},Cl.apply(p(),arguments)}function d7(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return d7(e())},t}function Jse(){return d7(QS.apply(null,arguments).paddingInner(1))}function JS(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function h7(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function ay(){}var T0=.7,t1=1/T0,Zm="\\s*([+-]?\\d+)\\s*",C0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eoe=/^#([0-9a-f]{3,8})$/,toe=new RegExp(`^rgb\\(${Zm},${Zm},${Zm}\\)$`),roe=new RegExp(`^rgb\\(${Qc},${Qc},${Qc}\\)$`),noe=new RegExp(`^rgba\\(${Zm},${Zm},${Zm},${C0}\\)$`),ioe=new RegExp(`^rgba\\(${Qc},${Qc},${Qc},${C0}\\)$`),aoe=new RegExp(`^hsl\\(${C0},${Qc},${Qc}\\)$`),soe=new RegExp(`^hsla\\(${C0},${Qc},${Qc},${C0}\\)$`),Mk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};JS(ay,k0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:zk,formatHex:zk,formatHex8:ooe,formatHsl:loe,formatRgb:Fk,toString:Fk});function zk(){return this.rgb().formatHex()}function ooe(){return this.rgb().formatHex8()}function loe(){return f7(this).formatHsl()}function Fk(){return this.rgb().formatRgb()}function k0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=eoe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Uk(e):r===3?new ho(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Cx(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Cx(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=toe.exec(t))?new ho(e[1],e[2],e[3],1):(e=roe.exec(t))?new ho(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=noe.exec(t))?Cx(e[1],e[2],e[3],e[4]):(e=ioe.exec(t))?Cx(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=aoe.exec(t))?qk(e[1],e[2]/100,e[3]/100,1):(e=soe.exec(t))?qk(e[1],e[2]/100,e[3]/100,e[4]):Mk.hasOwnProperty(t)?Uk(Mk[t]):t==="transparent"?new ho(NaN,NaN,NaN,0):null}function Uk(t){return new ho(t>>16&255,t>>8&255,t&255,1)}function Cx(t,e,r,n){return n<=0&&(t=e=r=NaN),new ho(t,e,r,n)}function coe(t){return t instanceof ay||(t=k0(t)),t?(t=t.rgb(),new ho(t.r,t.g,t.b,t.opacity)):new ho}function CN(t,e,r,n){return arguments.length===1?coe(t):new ho(t,e,r,n??1)}function ho(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}JS(ho,CN,h7(ay,{brighter(t){return t=t==null?t1:Math.pow(t1,t),new ho(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?T0:Math.pow(T0,t),new ho(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ho(yf(this.r),yf(this.g),yf(this.b),r1(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bk,formatHex:Bk,formatHex8:uoe,formatRgb:Vk,toString:Vk}));function Bk(){return`#${of(this.r)}${of(this.g)}${of(this.b)}`}function uoe(){return`#${of(this.r)}${of(this.g)}${of(this.b)}${of((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vk(){const t=r1(this.opacity);return`${t===1?"rgb(":"rgba("}${yf(this.r)}, ${yf(this.g)}, ${yf(this.b)}${t===1?")":`, ${t})`}`}function r1(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function of(t){return t=yf(t),(t<16?"0":"")+t.toString(16)}function qk(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new tc(t,e,r,n)}function f7(t){if(t instanceof tc)return new tc(t.h,t.s,t.l,t.opacity);if(t instanceof ay||(t=k0(t)),!t)return new tc;if(t instanceof tc)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),l=NaN,c=a-i,d=(a+i)/2;return c?(e===a?l=(r-n)/c+(r<n)*6:r===a?l=(n-e)/c+2:l=(e-r)/c+4,c/=d<.5?a+i:2-a-i,l*=60):c=d>0&&d<1?0:l,new tc(l,c,d,t.opacity)}function doe(t,e,r,n){return arguments.length===1?f7(t):new tc(t,e,r,n??1)}function tc(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}JS(tc,doe,h7(ay,{brighter(t){return t=t==null?t1:Math.pow(t1,t),new tc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?T0:Math.pow(T0,t),new tc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new ho(k5(t>=240?t-240:t+120,i,n),k5(t,i,n),k5(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new tc($k(this.h),kx(this.s),kx(this.l),r1(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=r1(this.opacity);return`${t===1?"hsl(":"hsla("}${$k(this.h)}, ${kx(this.s)*100}%, ${kx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $k(t){return t=(t||0)%360,t<0?t+360:t}function kx(t){return Math.max(0,Math.min(1,t||0))}function k5(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const eA=t=>()=>t;function hoe(t,e){return function(r){return t+r*e}}function foe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function moe(t){return(t=+t)==1?m7:function(e,r){return r-e?foe(e,r,t):eA(isNaN(e)?r:e)}}function m7(t,e){var r=e-t;return r?hoe(t,r):eA(isNaN(t)?e:t)}const Hk=(function t(e){var r=moe(e);function n(i,a){var l=r((i=CN(i)).r,(a=CN(a)).r),c=r(i.g,a.g),d=r(i.b,a.b),h=m7(i.opacity,a.opacity);return function(f){return i.r=l(f),i.g=c(f),i.b=d(f),i.opacity=h(f),i+""}}return n.gamma=t,n})(1);function poe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function goe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yoe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),l;for(l=0;l<n;++l)i[l]=Op(t[l],e[l]);for(;l<r;++l)a[l]=e[l];return function(c){for(l=0;l<n;++l)a[l]=i[l](c);return a}}function xoe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function n1(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function voe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Op(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var kN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,I5=new RegExp(kN.source,"g");function boe(t){return function(){return t}}function woe(t){return function(e){return t(e)+""}}function _oe(t,e){var r=kN.lastIndex=I5.lastIndex=0,n,i,a,l=-1,c=[],d=[];for(t=t+"",e=e+"";(n=kN.exec(t))&&(i=I5.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),c[l]?c[l]+=a:c[++l]=a),(n=n[0])===(i=i[0])?c[l]?c[l]+=i:c[++l]=i:(c[++l]=null,d.push({i:l,x:n1(n,i)})),r=I5.lastIndex;return r<e.length&&(a=e.slice(r),c[l]?c[l]+=a:c[++l]=a),c.length<2?d[0]?woe(d[0].x):boe(e):(e=d.length,function(h){for(var f=0,p;f<e;++f)c[(p=d[f]).i]=p.x(h);return c.join("")})}function Op(t,e){var r=typeof e,n;return e==null||r==="boolean"?eA(e):(r==="number"?n1:r==="string"?(n=k0(e))?(e=n,Hk):_oe:e instanceof k0?Hk:e instanceof Date?xoe:goe(e)?poe:Array.isArray(e)?yoe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?voe:n1)(t,e)}function tA(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Noe(t,e){e===void 0&&(e=t,t=Op);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(l){var c=Math.max(0,Math.min(n-1,Math.floor(l*=n)));return a[c](l-c)}}function joe(t){return function(){return t}}function i1(t){return+t}var Wk=[0,1];function Ls(t){return t}function IN(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:joe(isNaN(e)?NaN:.5)}function Soe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Aoe(t,e,r){var n=t[0],i=t[1],a=e[0],l=e[1];return i<n?(n=IN(i,n),a=r(l,a)):(n=IN(n,i),a=r(a,l)),function(c){return a(n(c))}}function Eoe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),l=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++l<n;)i[l]=IN(t[l],t[l+1]),a[l]=r(e[l],e[l+1]);return function(c){var d=iy(t,c,1,n)-1;return a[d](i[d](c))}}function sy(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function xb(){var t=Wk,e=Wk,r=Op,n,i,a,l=Ls,c,d,h;function f(){var x=Math.min(t.length,e.length);return l!==Ls&&(l=Soe(t[0],t[x-1])),c=x>2?Eoe:Aoe,d=h=null,p}function p(x){return x==null||isNaN(x=+x)?a:(d||(d=c(t.map(n),e,r)))(n(l(x)))}return p.invert=function(x){return l(i((h||(h=c(e,t.map(n),n1)))(x)))},p.domain=function(x){return arguments.length?(t=Array.from(x,i1),f()):t.slice()},p.range=function(x){return arguments.length?(e=Array.from(x),f()):e.slice()},p.rangeRound=function(x){return e=Array.from(x),r=tA,f()},p.clamp=function(x){return arguments.length?(l=x?!0:Ls,f()):l!==Ls},p.interpolate=function(x){return arguments.length?(r=x,f()):r},p.unknown=function(x){return arguments.length?(a=x,p):a},function(x,g){return n=x,i=g,f()}}function rA(){return xb()(Ls,Ls)}function Toe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function a1(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function mp(t){return t=a1(Math.abs(t)),t?t[1]:NaN}function Coe(t,e){return function(r,n){for(var i=r.length,a=[],l=0,c=t[0],d=0;i>0&&c>0&&(d+c+1>n&&(c=Math.max(1,n-d)),a.push(r.substring(i-=c,i+c)),!((d+=c+1)>n));)c=t[l=(l+1)%t.length];return a.reverse().join(e)}}function koe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Ioe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function I0(t){if(!(e=Ioe.exec(t)))throw new Error("invalid format: "+t);var e;return new nA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}I0.prototype=nA.prototype;function nA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}nA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Poe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var p7;function Roe(t,e){var r=a1(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(p7=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=n.length;return a===l?n:a>l?n+new Array(a-l+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+a1(t,Math.max(0,e+a-1))[0]}function Gk(t,e){var r=a1(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Yk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Toe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Gk(t*100,e),r:Gk,s:Roe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Kk(t){return t}var Xk=Array.prototype.map,Zk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ooe(t){var e=t.grouping===void 0||t.thousands===void 0?Kk:Coe(Xk.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Kk:koe(Xk.call(t.numerals,String)),l=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"":t.minus+"",d=t.nan===void 0?"NaN":t.nan+"";function h(p){p=I0(p);var x=p.fill,g=p.align,w=p.sign,v=p.symbol,_=p.zero,j=p.width,E=p.comma,C=p.precision,z=p.trim,P=p.type;P==="n"?(E=!0,P="g"):Yk[P]||(C===void 0&&(C=12),z=!0,P="g"),(_||x==="0"&&g==="=")&&(_=!0,x="0",g="=");var X=v==="$"?r:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",U=v==="$"?n:/[%p]/.test(P)?l:"",M=Yk[P],D=/[defgprs%]/.test(P);C=C===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function G(L){var I=X,B=U,k,re,Y;if(P==="c")B=M(L)+B,L="";else{L=+L;var Q=L<0||1/L<0;if(L=isNaN(L)?d:M(Math.abs(L),C),z&&(L=Poe(L)),Q&&+L==0&&w!=="+"&&(Q=!1),I=(Q?w==="("?w:c:w==="-"||w==="("?"":w)+I,B=(P==="s"?Zk[8+p7/3]:"")+B+(Q&&w==="("?")":""),D){for(k=-1,re=L.length;++k<re;)if(Y=L.charCodeAt(k),48>Y||Y>57){B=(Y===46?i+L.slice(k+1):L.slice(k))+B,L=L.slice(0,k);break}}}E&&!_&&(L=e(L,1/0));var se=I.length+L.length+B.length,oe=se<j?new Array(j-se+1).join(x):"";switch(E&&_&&(L=e(oe+L,oe.length?j-B.length:1/0),oe=""),g){case"<":L=I+L+B+oe;break;case"=":L=I+oe+L+B;break;case"^":L=oe.slice(0,se=oe.length>>1)+I+L+B+oe.slice(se);break;default:L=oe+I+L+B;break}return a(L)}return G.toString=function(){return p+""},G}function f(p,x){var g=h((p=I0(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(mp(x)/3)))*3,v=Math.pow(10,-w),_=Zk[8+w/3];return function(j){return g(v*j)+_}}return{format:h,formatPrefix:f}}var Ix,iA,g7;Doe({thousands:",",grouping:[3],currency:["$",""]});function Doe(t){return Ix=Ooe(t),iA=Ix.format,g7=Ix.formatPrefix,Ix}function Loe(t){return Math.max(0,-mp(Math.abs(t)))}function Moe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mp(e)/3)))*3-mp(Math.abs(t)))}function zoe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,mp(e)-mp(t))+1}function y7(t,e,r,n){var i=EN(t,e,r),a;switch(n=I0(n??",f"),n.type){case"s":{var l=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=Moe(i,l))&&(n.precision=a),g7(n,l)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=zoe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Loe(i))&&(n.precision=a-(n.type==="%")*2);break}}return iA(n)}function Ah(t){var e=t.domain;return t.ticks=function(r){var n=e();return SN(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return y7(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,l=n[i],c=n[a],d,h,f=10;for(c<l&&(h=l,l=c,c=h,h=i,i=a,a=h);f-- >0;){if(h=AN(l,c,r),h===d)return n[i]=l,n[a]=c,e(n);if(h>0)l=Math.floor(l/h)*h,c=Math.ceil(c/h)*h;else if(h<0)l=Math.ceil(l*h)/h,c=Math.floor(c*h)/h;else break;d=h}return t},t}function x7(){var t=rA();return t.copy=function(){return sy(t,x7())},Cl.apply(t,arguments),Ah(t)}function v7(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,i1),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return v7(t).unknown(e)},t=arguments.length?Array.from(t,i1):[0,1],Ah(r)}function b7(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],l;return a<i&&(l=r,r=n,n=l,l=i,i=a,a=l),t[r]=e.floor(i),t[n]=e.ceil(a),t}function Qk(t){return Math.log(t)}function Jk(t){return Math.exp(t)}function Foe(t){return-Math.log(-t)}function Uoe(t){return-Math.exp(-t)}function Boe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Voe(t){return t===10?Boe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function eI(t){return(e,r)=>-t(-e,r)}function aA(t){const e=t(Qk,Jk),r=e.domain;let n=10,i,a;function l(){return i=qoe(n),a=Voe(n),r()[0]<0?(i=eI(i),a=eI(a),t(Foe,Uoe)):t(Qk,Jk),e}return e.base=function(c){return arguments.length?(n=+c,l()):n},e.domain=function(c){return arguments.length?(r(c),l()):r()},e.ticks=c=>{const d=r();let h=d[0],f=d[d.length-1];const p=f<h;p&&([h,f]=[f,h]);let x=i(h),g=i(f),w,v;const _=c==null?10:+c;let j=[];if(!(n%1)&&g-x<_){if(x=Math.floor(x),g=Math.ceil(g),h>0){for(;x<=g;++x)for(w=1;w<n;++w)if(v=x<0?w/a(-x):w*a(x),!(v<h)){if(v>f)break;j.push(v)}}else for(;x<=g;++x)for(w=n-1;w>=1;--w)if(v=x>0?w/a(-x):w*a(x),!(v<h)){if(v>f)break;j.push(v)}j.length*2<_&&(j=SN(h,f,_))}else j=SN(x,g,Math.min(g-x,_)).map(a);return p?j.reverse():j},e.tickFormat=(c,d)=>{if(c==null&&(c=10),d==null&&(d=n===10?"s":","),typeof d!="function"&&(!(n%1)&&(d=I0(d)).precision==null&&(d.trim=!0),d=iA(d)),c===1/0)return d;const h=Math.max(1,n*c/e.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=h?d(f):""}},e.nice=()=>r(b7(r(),{floor:c=>a(Math.floor(i(c))),ceil:c=>a(Math.ceil(i(c)))})),e}function w7(){const t=aA(xb()).domain([1,10]);return t.copy=()=>sy(t,w7()).base(t.base()),Cl.apply(t,arguments),t}function tI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function rI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function sA(t){var e=1,r=t(tI(e),rI(e));return r.constant=function(n){return arguments.length?t(tI(e=+n),rI(e)):e},Ah(r)}function _7(){var t=sA(xb());return t.copy=function(){return sy(t,_7()).constant(t.constant())},Cl.apply(t,arguments)}function nI(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function $oe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Hoe(t){return t<0?-t*t:t*t}function oA(t){var e=t(Ls,Ls),r=1;function n(){return r===1?t(Ls,Ls):r===.5?t($oe,Hoe):t(nI(r),nI(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ah(e)}function lA(){var t=oA(xb());return t.copy=function(){return sy(t,lA()).exponent(t.exponent())},Cl.apply(t,arguments),t}function Woe(){return lA.apply(null,arguments).exponent(.5)}function iI(t){return Math.sign(t)*t*t}function Goe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function N7(){var t=rA(),e=[0,1],r=!1,n;function i(a){var l=Goe(t(a));return isNaN(l)?n:r?Math.round(l):l}return i.invert=function(a){return t.invert(iI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,i1)).map(iI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return N7(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Cl.apply(i,arguments),Ah(i)}function j7(){var t=[],e=[],r=[],n;function i(){var l=0,c=Math.max(1,e.length);for(r=new Array(c-1);++l<c;)r[l-1]=Zse(t,l/c);return a}function a(l){return l==null||isNaN(l=+l)?n:e[iy(r,l)]}return a.invertExtent=function(l){var c=e.indexOf(l);return c<0?[NaN,NaN]:[c>0?r[c-1]:t[0],c<r.length?r[c]:t[t.length-1]]},a.domain=function(l){if(!arguments.length)return t.slice();t=[];for(let c of l)c!=null&&!isNaN(c=+c)&&t.push(c);return t.sort(uh),i()},a.range=function(l){return arguments.length?(e=Array.from(l),i()):e.slice()},a.unknown=function(l){return arguments.length?(n=l,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return j7().domain(t).range(e).unknown(n)},Cl.apply(a,arguments)}function S7(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function l(d){return d!=null&&d<=d?i[iy(n,d,0,r)]:a}function c(){var d=-1;for(n=new Array(r);++d<r;)n[d]=((d+1)*e-(d-r)*t)/(r+1);return l}return l.domain=function(d){return arguments.length?([t,e]=d,t=+t,e=+e,c()):[t,e]},l.range=function(d){return arguments.length?(r=(i=Array.from(d)).length-1,c()):i.slice()},l.invertExtent=function(d){var h=i.indexOf(d);return h<0?[NaN,NaN]:h<1?[t,n[0]]:h>=r?[n[r-1],e]:[n[h-1],n[h]]},l.unknown=function(d){return arguments.length&&(a=d),l},l.thresholds=function(){return n.slice()},l.copy=function(){return S7().domain([t,e]).range(i).unknown(a)},Cl.apply(Ah(l),arguments)}function A7(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[iy(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var l=e.indexOf(a);return[t[l-1],t[l]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return A7().domain(t).range(e).unknown(r)},Cl.apply(i,arguments)}const P5=new Date,R5=new Date;function ta(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const l=i(a),c=i.ceil(a);return a-l<c-a?l:c},i.offset=(a,l)=>(e(a=new Date(+a),l==null?1:Math.floor(l)),a),i.range=(a,l,c)=>{const d=[];if(a=i.ceil(a),c=c==null?1:Math.floor(c),!(a<l)||!(c>0))return d;let h;do d.push(h=new Date(+a)),e(a,c),t(a);while(h<a&&a<l);return d},i.filter=a=>ta(l=>{if(l>=l)for(;t(l),!a(l);)l.setTime(l-1)},(l,c)=>{if(l>=l)if(c<0)for(;++c<=0;)for(;e(l,-1),!a(l););else for(;--c>=0;)for(;e(l,1),!a(l););}),r&&(i.count=(a,l)=>(P5.setTime(+a),R5.setTime(+l),t(P5),t(R5),Math.floor(r(P5,R5))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?l=>n(l)%a===0:l=>i.count(0,l)%a===0):i)),i}const s1=ta(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);s1.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ta(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):s1);s1.range;const Uu=1e3,yl=Uu*60,Bu=yl*60,nd=Bu*24,cA=nd*7,aI=nd*30,O5=nd*365,lf=ta(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Uu)},(t,e)=>(e-t)/Uu,t=>t.getUTCSeconds());lf.range;const uA=ta(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uu)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getMinutes());uA.range;const dA=ta(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*yl)},(t,e)=>(e-t)/yl,t=>t.getUTCMinutes());dA.range;const hA=ta(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Uu-t.getMinutes()*yl)},(t,e)=>{t.setTime(+t+e*Bu)},(t,e)=>(e-t)/Bu,t=>t.getHours());hA.range;const fA=ta(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Bu)},(t,e)=>(e-t)/Bu,t=>t.getUTCHours());fA.range;const oy=ta(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yl)/nd,t=>t.getDate()-1);oy.range;const vb=ta(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nd,t=>t.getUTCDate()-1);vb.range;const E7=ta(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/nd,t=>Math.floor(t/nd));E7.range;function Vf(t){return ta(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*yl)/cA)}const bb=Vf(0),o1=Vf(1),Yoe=Vf(2),Koe=Vf(3),pp=Vf(4),Xoe=Vf(5),Zoe=Vf(6);bb.range;o1.range;Yoe.range;Koe.range;pp.range;Xoe.range;Zoe.range;function qf(t){return ta(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/cA)}const wb=qf(0),l1=qf(1),Qoe=qf(2),Joe=qf(3),gp=qf(4),ele=qf(5),tle=qf(6);wb.range;l1.range;Qoe.range;Joe.range;gp.range;ele.range;tle.range;const mA=ta(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mA.range;const pA=ta(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());pA.range;const id=ta(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());id.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ta(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});id.range;const ad=ta(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ad.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ta(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});ad.range;function T7(t,e,r,n,i,a){const l=[[lf,1,Uu],[lf,5,5*Uu],[lf,15,15*Uu],[lf,30,30*Uu],[a,1,yl],[a,5,5*yl],[a,15,15*yl],[a,30,30*yl],[i,1,Bu],[i,3,3*Bu],[i,6,6*Bu],[i,12,12*Bu],[n,1,nd],[n,2,2*nd],[r,1,cA],[e,1,aI],[e,3,3*aI],[t,1,O5]];function c(h,f,p){const x=f<h;x&&([h,f]=[f,h]);const g=p&&typeof p.range=="function"?p:d(h,f,p),w=g?g.range(h,+f+1):[];return x?w.reverse():w}function d(h,f,p){const x=Math.abs(f-h)/p,g=XS(([,,_])=>_).right(l,x);if(g===l.length)return t.every(EN(h/O5,f/O5,p));if(g===0)return s1.every(Math.max(EN(h,f,p),1));const[w,v]=l[x/l[g-1][2]<l[g][2]/x?g-1:g];return w.every(v)}return[c,d]}const[rle,nle]=T7(ad,pA,wb,E7,fA,dA),[ile,ale]=T7(id,mA,bb,oy,hA,uA);function D5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function L5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function sle(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,l=t.shortDays,c=t.months,d=t.shortMonths,h=Og(i),f=Dg(i),p=Og(a),x=Dg(a),g=Og(l),w=Dg(l),v=Og(c),_=Dg(c),j=Og(d),E=Dg(d),C={a:Q,A:se,b:oe,B:pe,c:null,d:dI,e:dI,f:Cle,g:Fle,G:Ble,H:Ale,I:Ele,j:Tle,L:C7,m:kle,M:Ile,p:H,q:R,Q:mI,s:pI,S:Ple,u:Rle,U:Ole,V:Dle,w:Lle,W:Mle,x:null,X:null,y:zle,Y:Ule,Z:Vle,"%":fI},z={a:J,A:ee,b:ae,B:be,c:null,d:hI,e:hI,f:Wle,g:rce,G:ice,H:qle,I:$le,j:Hle,L:I7,m:Gle,M:Yle,p:je,q:de,Q:mI,s:pI,S:Kle,u:Xle,U:Zle,V:Qle,w:Jle,W:ece,x:null,X:null,y:tce,Y:nce,Z:ace,"%":fI},P={a:G,A:L,b:I,B,c:k,d:cI,e:cI,f:_le,g:lI,G:oI,H:uI,I:uI,j:xle,L:wle,m:yle,M:vle,p:D,q:gle,Q:jle,s:Sle,S:ble,u:dle,U:hle,V:fle,w:ule,W:mle,x:re,X:Y,y:lI,Y:oI,Z:ple,"%":Nle};C.x=X(r,C),C.X=X(n,C),C.c=X(e,C),z.x=X(r,z),z.X=X(n,z),z.c=X(e,z);function X(ge,Ie){return function(Ve){var Re=[],mt=-1,$=0,ie=ge.length,Pe,xe,he;for(Ve instanceof Date||(Ve=new Date(+Ve));++mt<ie;)ge.charCodeAt(mt)===37&&(Re.push(ge.slice($,mt)),(xe=sI[Pe=ge.charAt(++mt)])!=null?Pe=ge.charAt(++mt):xe=Pe==="e"?" ":"0",(he=Ie[Pe])&&(Pe=he(Ve,xe)),Re.push(Pe),$=mt+1);return Re.push(ge.slice($,mt)),Re.join("")}}function U(ge,Ie){return function(Ve){var Re=Rg(1900,void 0,1),mt=M(Re,ge,Ve+="",0),$,ie;if(mt!=Ve.length)return null;if("Q"in Re)return new Date(Re.Q);if("s"in Re)return new Date(Re.s*1e3+("L"in Re?Re.L:0));if(Ie&&!("Z"in Re)&&(Re.Z=0),"p"in Re&&(Re.H=Re.H%12+Re.p*12),Re.m===void 0&&(Re.m="q"in Re?Re.q:0),"V"in Re){if(Re.V<1||Re.V>53)return null;"w"in Re||(Re.w=1),"Z"in Re?($=L5(Rg(Re.y,0,1)),ie=$.getUTCDay(),$=ie>4||ie===0?l1.ceil($):l1($),$=vb.offset($,(Re.V-1)*7),Re.y=$.getUTCFullYear(),Re.m=$.getUTCMonth(),Re.d=$.getUTCDate()+(Re.w+6)%7):($=D5(Rg(Re.y,0,1)),ie=$.getDay(),$=ie>4||ie===0?o1.ceil($):o1($),$=oy.offset($,(Re.V-1)*7),Re.y=$.getFullYear(),Re.m=$.getMonth(),Re.d=$.getDate()+(Re.w+6)%7)}else("W"in Re||"U"in Re)&&("w"in Re||(Re.w="u"in Re?Re.u%7:"W"in Re?1:0),ie="Z"in Re?L5(Rg(Re.y,0,1)).getUTCDay():D5(Rg(Re.y,0,1)).getDay(),Re.m=0,Re.d="W"in Re?(Re.w+6)%7+Re.W*7-(ie+5)%7:Re.w+Re.U*7-(ie+6)%7);return"Z"in Re?(Re.H+=Re.Z/100|0,Re.M+=Re.Z%100,L5(Re)):D5(Re)}}function M(ge,Ie,Ve,Re){for(var mt=0,$=Ie.length,ie=Ve.length,Pe,xe;mt<$;){if(Re>=ie)return-1;if(Pe=Ie.charCodeAt(mt++),Pe===37){if(Pe=Ie.charAt(mt++),xe=P[Pe in sI?Ie.charAt(mt++):Pe],!xe||(Re=xe(ge,Ve,Re))<0)return-1}else if(Pe!=Ve.charCodeAt(Re++))return-1}return Re}function D(ge,Ie,Ve){var Re=h.exec(Ie.slice(Ve));return Re?(ge.p=f.get(Re[0].toLowerCase()),Ve+Re[0].length):-1}function G(ge,Ie,Ve){var Re=g.exec(Ie.slice(Ve));return Re?(ge.w=w.get(Re[0].toLowerCase()),Ve+Re[0].length):-1}function L(ge,Ie,Ve){var Re=p.exec(Ie.slice(Ve));return Re?(ge.w=x.get(Re[0].toLowerCase()),Ve+Re[0].length):-1}function I(ge,Ie,Ve){var Re=j.exec(Ie.slice(Ve));return Re?(ge.m=E.get(Re[0].toLowerCase()),Ve+Re[0].length):-1}function B(ge,Ie,Ve){var Re=v.exec(Ie.slice(Ve));return Re?(ge.m=_.get(Re[0].toLowerCase()),Ve+Re[0].length):-1}function k(ge,Ie,Ve){return M(ge,e,Ie,Ve)}function re(ge,Ie,Ve){return M(ge,r,Ie,Ve)}function Y(ge,Ie,Ve){return M(ge,n,Ie,Ve)}function Q(ge){return l[ge.getDay()]}function se(ge){return a[ge.getDay()]}function oe(ge){return d[ge.getMonth()]}function pe(ge){return c[ge.getMonth()]}function H(ge){return i[+(ge.getHours()>=12)]}function R(ge){return 1+~~(ge.getMonth()/3)}function J(ge){return l[ge.getUTCDay()]}function ee(ge){return a[ge.getUTCDay()]}function ae(ge){return d[ge.getUTCMonth()]}function be(ge){return c[ge.getUTCMonth()]}function je(ge){return i[+(ge.getUTCHours()>=12)]}function de(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Ie=X(ge+="",C);return Ie.toString=function(){return ge},Ie},parse:function(ge){var Ie=U(ge+="",!1);return Ie.toString=function(){return ge},Ie},utcFormat:function(ge){var Ie=X(ge+="",z);return Ie.toString=function(){return ge},Ie},utcParse:function(ge){var Ie=U(ge+="",!0);return Ie.toString=function(){return ge},Ie}}}var sI={"-":"",_:" ",0:"0"},Sa=/^\s*\d+/,ole=/^%/,lle=/[\\^$*+?|[\]().{}]/g;function Gr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function cle(t){return t.replace(lle,"\\$&")}function Og(t){return new RegExp("^(?:"+t.map(cle).join("|")+")","i")}function Dg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ule(t,e,r){var n=Sa.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function dle(t,e,r){var n=Sa.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function hle(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function fle(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function mle(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function oI(t,e,r){var n=Sa.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function lI(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ple(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gle(t,e,r){var n=Sa.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function yle(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function cI(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function xle(t,e,r){var n=Sa.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function uI(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function vle(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function ble(t,e,r){var n=Sa.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function wle(t,e,r){var n=Sa.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function _le(t,e,r){var n=Sa.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Nle(t,e,r){var n=ole.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function jle(t,e,r){var n=Sa.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Sle(t,e,r){var n=Sa.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function dI(t,e){return Gr(t.getDate(),e,2)}function Ale(t,e){return Gr(t.getHours(),e,2)}function Ele(t,e){return Gr(t.getHours()%12||12,e,2)}function Tle(t,e){return Gr(1+oy.count(id(t),t),e,3)}function C7(t,e){return Gr(t.getMilliseconds(),e,3)}function Cle(t,e){return C7(t,e)+"000"}function kle(t,e){return Gr(t.getMonth()+1,e,2)}function Ile(t,e){return Gr(t.getMinutes(),e,2)}function Ple(t,e){return Gr(t.getSeconds(),e,2)}function Rle(t){var e=t.getDay();return e===0?7:e}function Ole(t,e){return Gr(bb.count(id(t)-1,t),e,2)}function k7(t){var e=t.getDay();return e>=4||e===0?pp(t):pp.ceil(t)}function Dle(t,e){return t=k7(t),Gr(pp.count(id(t),t)+(id(t).getDay()===4),e,2)}function Lle(t){return t.getDay()}function Mle(t,e){return Gr(o1.count(id(t)-1,t),e,2)}function zle(t,e){return Gr(t.getFullYear()%100,e,2)}function Fle(t,e){return t=k7(t),Gr(t.getFullYear()%100,e,2)}function Ule(t,e){return Gr(t.getFullYear()%1e4,e,4)}function Ble(t,e){var r=t.getDay();return t=r>=4||r===0?pp(t):pp.ceil(t),Gr(t.getFullYear()%1e4,e,4)}function Vle(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gr(e/60|0,"0",2)+Gr(e%60,"0",2)}function hI(t,e){return Gr(t.getUTCDate(),e,2)}function qle(t,e){return Gr(t.getUTCHours(),e,2)}function $le(t,e){return Gr(t.getUTCHours()%12||12,e,2)}function Hle(t,e){return Gr(1+vb.count(ad(t),t),e,3)}function I7(t,e){return Gr(t.getUTCMilliseconds(),e,3)}function Wle(t,e){return I7(t,e)+"000"}function Gle(t,e){return Gr(t.getUTCMonth()+1,e,2)}function Yle(t,e){return Gr(t.getUTCMinutes(),e,2)}function Kle(t,e){return Gr(t.getUTCSeconds(),e,2)}function Xle(t){var e=t.getUTCDay();return e===0?7:e}function Zle(t,e){return Gr(wb.count(ad(t)-1,t),e,2)}function P7(t){var e=t.getUTCDay();return e>=4||e===0?gp(t):gp.ceil(t)}function Qle(t,e){return t=P7(t),Gr(gp.count(ad(t),t)+(ad(t).getUTCDay()===4),e,2)}function Jle(t){return t.getUTCDay()}function ece(t,e){return Gr(l1.count(ad(t)-1,t),e,2)}function tce(t,e){return Gr(t.getUTCFullYear()%100,e,2)}function rce(t,e){return t=P7(t),Gr(t.getUTCFullYear()%100,e,2)}function nce(t,e){return Gr(t.getUTCFullYear()%1e4,e,4)}function ice(t,e){var r=t.getUTCDay();return t=r>=4||r===0?gp(t):gp.ceil(t),Gr(t.getUTCFullYear()%1e4,e,4)}function ace(){return"+0000"}function fI(){return"%"}function mI(t){return+t}function pI(t){return Math.floor(+t/1e3)}var Cm,R7,O7;sce({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sce(t){return Cm=sle(t),R7=Cm.format,Cm.parse,O7=Cm.utcFormat,Cm.utcParse,Cm}function oce(t){return new Date(t)}function lce(t){return t instanceof Date?+t:+new Date(+t)}function gA(t,e,r,n,i,a,l,c,d,h){var f=rA(),p=f.invert,x=f.domain,g=h(".%L"),w=h(":%S"),v=h("%I:%M"),_=h("%I %p"),j=h("%a %d"),E=h("%b %d"),C=h("%B"),z=h("%Y");function P(X){return(d(X)<X?g:c(X)<X?w:l(X)<X?v:a(X)<X?_:n(X)<X?i(X)<X?j:E:r(X)<X?C:z)(X)}return f.invert=function(X){return new Date(p(X))},f.domain=function(X){return arguments.length?x(Array.from(X,lce)):x().map(oce)},f.ticks=function(X){var U=x();return t(U[0],U[U.length-1],X??10)},f.tickFormat=function(X,U){return U==null?P:h(U)},f.nice=function(X){var U=x();return(!X||typeof X.range!="function")&&(X=e(U[0],U[U.length-1],X??10)),X?x(b7(U,X)):f},f.copy=function(){return sy(f,gA(t,e,r,n,i,a,l,c,d,h))},f}function cce(){return Cl.apply(gA(ile,ale,id,mA,bb,oy,hA,uA,lf,R7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uce(){return Cl.apply(gA(rle,nle,ad,pA,wb,vb,fA,dA,lf,O7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function _b(){var t=0,e=1,r,n,i,a,l=Ls,c=!1,d;function h(p){return p==null||isNaN(p=+p)?d:l(i===0?.5:(p=(a(p)-r)*i,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),h):[t,e]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(l=p,h):l};function f(p){return function(x){var g,w;return arguments.length?([g,w]=x,l=p(g,w),h):[l(0),l(1)]}}return h.range=f(Op),h.rangeRound=f(tA),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),h}}function Eh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function D7(){var t=Ah(_b()(Ls));return t.copy=function(){return Eh(t,D7())},hd.apply(t,arguments)}function L7(){var t=aA(_b()).domain([1,10]);return t.copy=function(){return Eh(t,L7()).base(t.base())},hd.apply(t,arguments)}function M7(){var t=sA(_b());return t.copy=function(){return Eh(t,M7()).constant(t.constant())},hd.apply(t,arguments)}function yA(){var t=oA(_b());return t.copy=function(){return Eh(t,yA()).exponent(t.exponent())},hd.apply(t,arguments)}function dce(){return yA.apply(null,arguments).exponent(.5)}function z7(){var t=[],e=Ls;function r(n){if(n!=null&&!isNaN(n=+n))return e((iy(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(uh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>Xse(t,a/n))},r.copy=function(){return z7(e).domain(t)},hd.apply(r,arguments)}function Nb(){var t=0,e=.5,r=1,n=1,i,a,l,c,d,h=Ls,f,p=!1,x;function g(v){return isNaN(v=+v)?x:(v=.5+((v=+f(v))-a)*(n*v<n*a?c:d),h(p?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,r]=v,i=f(t=+t),a=f(e=+e),l=f(r=+r),c=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),n=a<i?-1:1,g):[t,e,r]},g.clamp=function(v){return arguments.length?(p=!!v,g):p},g.interpolator=function(v){return arguments.length?(h=v,g):h};function w(v){return function(_){var j,E,C;return arguments.length?([j,E,C]=_,h=Noe(v,[j,E,C]),g):[h(0),h(.5),h(1)]}}return g.range=w(Op),g.rangeRound=w(tA),g.unknown=function(v){return arguments.length?(x=v,g):x},function(v){return f=v,i=v(t),a=v(e),l=v(r),c=i===a?0:.5/(a-i),d=a===l?0:.5/(l-a),n=a<i?-1:1,g}}function F7(){var t=Ah(Nb()(Ls));return t.copy=function(){return Eh(t,F7())},hd.apply(t,arguments)}function U7(){var t=aA(Nb()).domain([.1,1,10]);return t.copy=function(){return Eh(t,U7()).base(t.base())},hd.apply(t,arguments)}function B7(){var t=sA(Nb());return t.copy=function(){return Eh(t,B7()).constant(t.constant())},hd.apply(t,arguments)}function xA(){var t=oA(Nb());return t.copy=function(){return Eh(t,xA()).exponent(t.exponent())},hd.apply(t,arguments)}function hce(){return xA.apply(null,arguments).exponent(.5)}const Gg=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:QS,scaleDiverging:F7,scaleDivergingLog:U7,scaleDivergingPow:xA,scaleDivergingSqrt:hce,scaleDivergingSymlog:B7,scaleIdentity:v7,scaleImplicit:TN,scaleLinear:x7,scaleLog:w7,scaleOrdinal:ZS,scalePoint:Jse,scalePow:lA,scaleQuantile:j7,scaleQuantize:S7,scaleRadial:N7,scaleSequential:D7,scaleSequentialLog:L7,scaleSequentialPow:yA,scaleSequentialQuantile:z7,scaleSequentialSqrt:dce,scaleSequentialSymlog:M7,scaleSqrt:Woe,scaleSymlog:_7,scaleThreshold:A7,scaleTime:cce,scaleUtc:uce,tickFormat:y7},Symbol.toStringTag,{value:"Module"}));var Th=t=>t.chartData,fce=rt([Th],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),vA=(t,e,r,n)=>n?fce(t):Th(t);function yp(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(lc(e)&&lc(r))return!0}return!1}function gI(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function mce(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(lc(r))i=r;else if(typeof r=="function")return;if(lc(n))a=n;else if(typeof n=="function")return;var l=[i,a];if(yp(l))return l}}function pce(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(yp(n))return gI(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,l,c;if(i==="auto")e!=null&&(l=Math.min(...e));else if(cr(i))l=i;else if(typeof i=="function")try{e!=null&&(l=i(e?.[0]))}catch{}else if(typeof i=="string"&&lk.test(i)){var d=lk.exec(i);if(d==null||e==null)l=void 0;else{var h=+d[1];l=e[0]-h}}else l=e?.[0];if(a==="auto")e!=null&&(c=Math.max(...e));else if(cr(a))c=a;else if(typeof a=="function")try{e!=null&&(c=a(e?.[1]))}catch{}else if(typeof a=="string"&&ck.test(a)){var f=ck.exec(a);if(f==null||e==null)c=void 0;else{var p=+f[1];c=e[1]+p}}else c=e?.[1];var x=[l,c];if(yp(x))return e==null?x:gI(x,e,r)}}}var Dp=1e9,gce={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},wA,$n=!0,Sl="[DecimalError] ",xf=Sl+"Invalid argument: ",bA=Sl+"Exponent out of range: ",Lp=Math.floor,Zh=Math.pow,yce=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mo,ba=1e7,Pn=7,V7=9007199254740991,c1=Lp(V7/Pn),Lt={};Lt.absoluteValue=Lt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Lt.comparedTo=Lt.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Lt.decimalPlaces=Lt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Pn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Lt.dividedBy=Lt.div=function(t){return Yu(this,new this.constructor(t))};Lt.dividedToIntegerBy=Lt.idiv=function(t){var e=this,r=e.constructor;return jn(Yu(e,new r(t),0,1),r.precision)};Lt.equals=Lt.eq=function(t){return!this.cmp(t)};Lt.exponent=function(){return Mi(this)};Lt.greaterThan=Lt.gt=function(t){return this.cmp(t)>0};Lt.greaterThanOrEqualTo=Lt.gte=function(t){return this.cmp(t)>=0};Lt.isInteger=Lt.isint=function(){return this.e>this.d.length-2};Lt.isNegative=Lt.isneg=function(){return this.s<0};Lt.isPositive=Lt.ispos=function(){return this.s>0};Lt.isZero=function(){return this.s===0};Lt.lessThan=Lt.lt=function(t){return this.cmp(t)<0};Lt.lessThanOrEqualTo=Lt.lte=function(t){return this.cmp(t)<1};Lt.logarithm=Lt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Mo))throw Error(Sl+"NaN");if(r.s<1)throw Error(Sl+(r.s?"NaN":"-Infinity"));return r.eq(Mo)?new n(0):($n=!1,e=Yu(P0(r,a),P0(t,a),a),$n=!0,jn(e,i))};Lt.minus=Lt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?H7(e,t):q7(e,(t.s=-t.s,t))};Lt.modulo=Lt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Sl+"NaN");return r.s?($n=!1,e=Yu(r,t,0,1).times(t),$n=!0,r.minus(e)):jn(new n(r),i)};Lt.naturalExponential=Lt.exp=function(){return $7(this)};Lt.naturalLogarithm=Lt.ln=function(){return P0(this)};Lt.negated=Lt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Lt.plus=Lt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?q7(e,t):H7(e,(t.s=-t.s,t))};Lt.precision=Lt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xf+t);if(e=Mi(i)+1,n=i.d.length-1,r=n*Pn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Lt.squareRoot=Lt.sqrt=function(){var t,e,r,n,i,a,l,c=this,d=c.constructor;if(c.s<1){if(!c.s)return new d(0);throw Error(Sl+"NaN")}for(t=Mi(c),$n=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=Vc(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Lp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new d(e)):n=new d(i.toString()),r=d.precision,i=l=r+3;;)if(a=n,n=a.plus(Yu(c,a,l+2)).times(.5),Vc(a.d).slice(0,l)===(e=Vc(n.d)).slice(0,l)){if(e=e.slice(l-3,l+1),i==l&&e=="4999"){if(jn(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if(e!="9999")break;l+=4}return $n=!0,jn(n,r)};Lt.times=Lt.mul=function(t){var e,r,n,i,a,l,c,d,h,f=this,p=f.constructor,x=f.d,g=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,d=x.length,h=g.length,d<h&&(a=x,x=g,g=a,l=d,d=h,h=l),a=[],l=d+h,n=l;n--;)a.push(0);for(n=h;--n>=0;){for(e=0,i=d+n;i>n;)c=a[i]+g[n]*x[i-n-1]+e,a[i--]=c%ba|0,e=c/ba|0;a[i]=(a[i]+e)%ba|0}for(;!a[--l];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,$n?jn(t,p.precision):t};Lt.toDecimalPlaces=Lt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(tu(t,0,Dp),e===void 0?e=n.rounding:tu(e,0,8),jn(r,t+Mi(r)+1,e))};Lt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=kf(n,!0):(tu(t,0,Dp),e===void 0?e=i.rounding:tu(e,0,8),n=jn(new i(n),t+1,e),r=kf(n,!0,t+1)),r};Lt.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?kf(i):(tu(t,0,Dp),e===void 0?e=a.rounding:tu(e,0,8),n=jn(new a(i),t+Mi(i)+1,e),r=kf(n.abs(),!1,t+Mi(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Lt.toInteger=Lt.toint=function(){var t=this,e=t.constructor;return jn(new e(t),Mi(t)+1,e.rounding)};Lt.toNumber=function(){return+this};Lt.toPower=Lt.pow=function(t){var e,r,n,i,a,l,c=this,d=c.constructor,h=12,f=+(t=new d(t));if(!t.s)return new d(Mo);if(c=new d(c),!c.s){if(t.s<1)throw Error(Sl+"Infinity");return c}if(c.eq(Mo))return c;if(n=d.precision,t.eq(Mo))return jn(c,n);if(e=t.e,r=t.d.length-1,l=e>=r,a=c.s,l){if((r=f<0?-f:f)<=V7){for(i=new d(Mo),e=Math.ceil(n/Pn+4),$n=!1;r%2&&(i=i.times(c),xI(i.d,e)),r=Lp(r/2),r!==0;)c=c.times(c),xI(c.d,e);return $n=!0,t.s<0?new d(Mo).div(i):jn(i,n)}}else if(a<0)throw Error(Sl+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,c.s=1,$n=!1,i=t.times(P0(c,n+h)),$n=!0,i=$7(i),i.s=a,i};Lt.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=Mi(i),n=kf(i,r<=a.toExpNeg||r>=a.toExpPos)):(tu(t,1,Dp),e===void 0?e=a.rounding:tu(e,0,8),i=jn(new a(i),t,e),r=Mi(i),n=kf(i,t<=r||r<=a.toExpNeg,t)),n};Lt.toSignificantDigits=Lt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(tu(t,1,Dp),e===void 0?e=n.rounding:tu(e,0,8)),jn(new n(r),t,e)};Lt.toString=Lt.valueOf=Lt.val=Lt.toJSON=Lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Mi(t),r=t.constructor;return kf(t,e<=r.toExpNeg||e>=r.toExpPos)};function q7(t,e){var r,n,i,a,l,c,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),$n?jn(e,p):e;if(d=t.d,h=e.d,l=t.e,i=e.e,d=d.slice(),a=l-i,a){for(a<0?(n=d,a=-a,c=h.length):(n=h,i=l,c=d.length),l=Math.ceil(p/Pn),c=l>c?l+1:c+1,a>c&&(a=c,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(c=d.length,a=h.length,c-a<0&&(a=c,n=h,h=d,d=n),r=0;a;)r=(d[--a]=d[a]+h[a]+r)/ba|0,d[a]%=ba;for(r&&(d.unshift(r),++i),c=d.length;d[--c]==0;)d.pop();return e.d=d,e.e=i,$n?jn(e,p):e}function tu(t,e,r){if(t!==~~t||t<e||t>r)throw Error(xf+t)}function Vc(t){var e,r,n,i=t.length-1,a="",l=t[0];if(i>0){for(a+=l,e=1;e<i;e++)n=t[e]+"",r=Pn-n.length,r&&(a+=Kd(r)),a+=n;l=t[e],n=l+"",r=Pn-n.length,r&&(a+=Kd(r))}else if(l===0)return"0";for(;l%10===0;)l/=10;return a+l}var Yu=(function(){function t(n,i){var a,l=0,c=n.length;for(n=n.slice();c--;)a=n[c]*i+l,n[c]=a%ba|0,l=a/ba|0;return l&&n.unshift(l),n}function e(n,i,a,l){var c,d;if(a!=l)d=a>l?1:-1;else for(c=d=0;c<a;c++)if(n[c]!=i[c]){d=n[c]>i[c]?1:-1;break}return d}function r(n,i,a){for(var l=0;a--;)n[a]-=l,l=n[a]<i[a]?1:0,n[a]=l*ba+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,l){var c,d,h,f,p,x,g,w,v,_,j,E,C,z,P,X,U,M,D=n.constructor,G=n.s==i.s?1:-1,L=n.d,I=i.d;if(!n.s)return new D(n);if(!i.s)throw Error(Sl+"Division by zero");for(d=n.e-i.e,U=I.length,P=L.length,g=new D(G),w=g.d=[],h=0;I[h]==(L[h]||0);)++h;if(I[h]>(L[h]||0)&&--d,a==null?E=a=D.precision:l?E=a+(Mi(n)-Mi(i))+1:E=a,E<0)return new D(0);if(E=E/Pn+2|0,h=0,U==1)for(f=0,I=I[0],E++;(h<P||f)&&E--;h++)C=f*ba+(L[h]||0),w[h]=C/I|0,f=C%I|0;else{for(f=ba/(I[0]+1)|0,f>1&&(I=t(I,f),L=t(L,f),U=I.length,P=L.length),z=U,v=L.slice(0,U),_=v.length;_<U;)v[_++]=0;M=I.slice(),M.unshift(0),X=I[0],I[1]>=ba/2&&++X;do f=0,c=e(I,v,U,_),c<0?(j=v[0],U!=_&&(j=j*ba+(v[1]||0)),f=j/X|0,f>1?(f>=ba&&(f=ba-1),p=t(I,f),x=p.length,_=v.length,c=e(p,v,x,_),c==1&&(f--,r(p,U<x?M:I,x))):(f==0&&(c=f=1),p=I.slice()),x=p.length,x<_&&p.unshift(0),r(v,p,_),c==-1&&(_=v.length,c=e(I,v,U,_),c<1&&(f++,r(v,U<_?M:I,_))),_=v.length):c===0&&(f++,v=[0]),w[h++]=f,c&&v[0]?v[_++]=L[z]||0:(v=[L[z]],_=1);while((z++<P||v[0]!==void 0)&&E--)}return w[0]||w.shift(),g.e=d,jn(g,l?a+Mi(g)+1:a)}})();function $7(t,e){var r,n,i,a,l,c,d=0,h=0,f=t.constructor,p=f.precision;if(Mi(t)>16)throw Error(bA+Mi(t));if(!t.s)return new f(Mo);for($n=!1,c=p,l=new f(.03125);t.abs().gte(.1);)t=t.times(l),h+=5;for(n=Math.log(Zh(2,h))/Math.LN10*2+5|0,c+=n,r=i=a=new f(Mo),f.precision=c;;){if(i=jn(i.times(t),c),r=r.times(++d),l=a.plus(Yu(i,r,c)),Vc(l.d).slice(0,c)===Vc(a.d).slice(0,c)){for(;h--;)a=jn(a.times(a),c);return f.precision=p,e==null?($n=!0,jn(a,p)):a}a=l}}function Mi(t){for(var e=t.e*Pn,r=t.d[0];r>=10;r/=10)e++;return e}function M5(t,e,r){if(e>t.LN10.sd())throw $n=!0,r&&(t.precision=r),Error(Sl+"LN10 precision limit exceeded");return jn(new t(t.LN10),e)}function Kd(t){for(var e="";t--;)e+="0";return e}function P0(t,e){var r,n,i,a,l,c,d,h,f,p=1,x=10,g=t,w=g.d,v=g.constructor,_=v.precision;if(g.s<1)throw Error(Sl+(g.s?"NaN":"-Infinity"));if(g.eq(Mo))return new v(0);if(e==null?($n=!1,h=_):h=e,g.eq(10))return e==null&&($n=!0),M5(v,h);if(h+=x,v.precision=h,r=Vc(w),n=r.charAt(0),a=Mi(g),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Vc(g.d),n=r.charAt(0),p++;a=Mi(g),n>1?(g=new v("0."+r),a++):g=new v(n+"."+r.slice(1))}else return d=M5(v,h+2,_).times(a+""),g=P0(new v(n+"."+r.slice(1)),h-x).plus(d),v.precision=_,e==null?($n=!0,jn(g,_)):g;for(c=l=g=Yu(g.minus(Mo),g.plus(Mo),h),f=jn(g.times(g),h),i=3;;){if(l=jn(l.times(f),h),d=c.plus(Yu(l,new v(i),h)),Vc(d.d).slice(0,h)===Vc(c.d).slice(0,h))return c=c.times(2),a!==0&&(c=c.plus(M5(v,h+2,_).times(a+""))),c=Yu(c,new v(p),h),v.precision=_,e==null?($n=!0,jn(c,_)):c;c=d,i+=2}}function yI(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Lp(r/Pn),t.d=[],n=(r+1)%Pn,r<0&&(n+=Pn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Pn;n<i;)t.d.push(+e.slice(n,n+=Pn));e=e.slice(n),n=Pn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),$n&&(t.e>c1||t.e<-c1))throw Error(bA+r)}else t.s=0,t.e=0,t.d=[0];return t}function jn(t,e,r){var n,i,a,l,c,d,h,f,p=t.d;for(l=1,a=p[0];a>=10;a/=10)l++;if(n=e-l,n<0)n+=Pn,i=e,h=p[f=0];else{if(f=Math.ceil((n+1)/Pn),a=p.length,f>=a)return t;for(h=a=p[f],l=1;a>=10;a/=10)l++;n%=Pn,i=n-Pn+l}if(r!==void 0&&(a=Zh(10,l-i-1),c=h/a%10|0,d=e<0||p[f+1]!==void 0||h%a,d=r<4?(c||d)&&(r==0||r==(t.s<0?3:2)):c>5||c==5&&(r==4||d||r==6&&(n>0?i>0?h/Zh(10,l-i):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return d?(a=Mi(t),p.length=1,e=e-a-1,p[0]=Zh(10,(Pn-e%Pn)%Pn),t.e=Lp(-e/Pn)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,a=1,f--):(p.length=f+1,a=Zh(10,Pn-n),p[f]=i>0?(h/Zh(10,l-i)%Zh(10,i)|0)*a:0),d)for(;;)if(f==0){(p[0]+=a)==ba&&(p[0]=1,++t.e);break}else{if(p[f]+=a,p[f]!=ba)break;p[f--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if($n&&(t.e>c1||t.e<-c1))throw Error(bA+Mi(t));return t}function H7(t,e){var r,n,i,a,l,c,d,h,f,p,x=t.constructor,g=x.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new x(t),$n?jn(e,g):e;if(d=t.d,p=e.d,n=e.e,h=t.e,d=d.slice(),l=h-n,l){for(f=l<0,f?(r=d,l=-l,c=p.length):(r=p,n=h,c=d.length),i=Math.max(Math.ceil(g/Pn),c)+2,l>i&&(l=i,r.length=1),r.reverse(),i=l;i--;)r.push(0);r.reverse()}else{for(i=d.length,c=p.length,f=i<c,f&&(c=i),i=0;i<c;i++)if(d[i]!=p[i]){f=d[i]<p[i];break}l=0}for(f&&(r=d,d=p,p=r,e.s=-e.s),c=d.length,i=p.length-c;i>0;--i)d[c++]=0;for(i=p.length;i>l;){if(d[--i]<p[i]){for(a=i;a&&d[--a]===0;)d[a]=ba-1;--d[a],d[i]+=ba}d[i]-=p[i]}for(;d[--c]===0;)d.pop();for(;d[0]===0;d.shift())--n;return d[0]?(e.d=d,e.e=n,$n?jn(e,g):e):new x(0)}function kf(t,e,r){var n,i=Mi(t),a=Vc(t.d),l=a.length;return e?(r&&(n=r-l)>0?a=a.charAt(0)+"."+a.slice(1)+Kd(n):l>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Kd(-i-1)+a,r&&(n=r-l)>0&&(a+=Kd(n))):i>=l?(a+=Kd(i+1-l),r&&(n=r-i-1)>0&&(a=a+"."+Kd(n))):((n=i+1)<l&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(a+="."),a+=Kd(n))),t.s<0?"-"+a:a}function xI(t,e){if(t.length>e)return t.length=e,!0}function W7(t){var e,r,n;function i(a){var l=this;if(!(l instanceof i))return new i(a);if(l.constructor=i,a instanceof i){l.s=a.s,l.e=a.e,l.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(xf+a);if(a>0)l.s=1;else if(a<0)a=-a,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(a===~~a&&a<1e7){l.e=0,l.d=[a];return}return yI(l,a.toString())}else if(typeof a!="string")throw Error(xf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),l.s=-1):l.s=1,yce.test(a))yI(l,a);else throw Error(xf+a)}if(i.prototype=Lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=W7,i.config=i.set=xce,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function xce(t){if(!t||typeof t!="object")throw Error(Sl+"Object expected");var e,r,n,i=["precision",1,Dp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Lp(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(xf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(xf+r+": "+n);return this}var wA=W7(gce);Mo=new wA(1);const un=wA;var vce=t=>t,G7={},Y7=t=>t===G7,vI=t=>function e(){return arguments.length===0||arguments.length===1&&Y7(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},K7=(t,e)=>t===1?e:vI(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(l=>l!==G7).length;return a>=t?e(...n):K7(t-a,vI(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=n.map(f=>Y7(f)?c.shift():f);return e(...h,...c)}))}),jb=t=>K7(t.length,t),PN=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},bce=jb((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),wce=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return vce;var i=r.reverse(),a=i[0],l=i.slice(1);return function(){return l.reduce((c,d)=>d(c),a(...arguments))}},RN=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),X7=t=>{var e=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e&&i.every((l,c)=>{var d;return l===((d=e)===null||d===void 0?void 0:d[c])})||(e=i,r=t(...i)),r}};function Z7(t){var e;return t===0?e=1:e=Math.floor(new un(t).abs().log(10).toNumber())+1,e}function Q7(t,e,r){for(var n=new un(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}jb((t,e,r)=>{var n=+t,i=+e;return n+r*(i-n)});jb((t,e,r)=>{var n=e-+t;return n=n||1/0,(r-t)/n});jb((t,e,r)=>{var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});var J7=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},e9=(t,e,r)=>{if(t.lte(0))return new un(0);var n=Z7(t.toNumber()),i=new un(10).pow(n),a=t.div(i),l=n!==1?.05:.1,c=new un(Math.ceil(a.div(l).toNumber())).add(r).mul(l),d=c.mul(i);return e?new un(d.toNumber()):new un(Math.ceil(d.toNumber()))},_ce=(t,e,r)=>{var n=new un(1),i=new un(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new un(10).pow(Z7(t)-1),i=new un(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new un(Math.floor(t)))}else t===0?i=new un(Math.floor((e-1)/2)):r||(i=new un(Math.floor(t)));var l=Math.floor((e-1)/2),c=wce(bce(d=>i.add(new un(d-l).mul(n)).toNumber()),PN);return c(0,e)},t9=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new un(0),tickMin:new un(0),tickMax:new un(0)};var l=e9(new un(r).sub(e).div(n-1),i,a),c;e<=0&&r>=0?c=new un(0):(c=new un(e).add(r).div(2),c=c.sub(new un(c).mod(l)));var d=Math.ceil(c.sub(e).div(l).toNumber()),h=Math.ceil(new un(r).sub(c).div(l).toNumber()),f=d+h+1;return f>n?t9(e,r,n,i,a+1):(f<n&&(h=r>0?h+(n-f):h,d=r>0?d:d+(n-f)),{step:l,tickMin:c.sub(new un(d).mul(l)),tickMax:c.add(new un(h).mul(l))})};function Nce(t){var[e,r]=t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[l,c]=J7([e,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...PN(0,n-1).map(()=>1/0)]:[...PN(0,n-1).map(()=>-1/0),c];return e>r?RN(d):d}if(l===c)return _ce(l,n,i);var{step:h,tickMin:f,tickMax:p}=t9(l,c,a,i,0),x=Q7(f,p.add(new un(.1).mul(h)),h);return e>r?RN(x):x}function jce(t,e){var[r,n]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=J7([r,n]);if(a===-1/0||l===1/0)return[r,n];if(a===l)return[a];var c=Math.max(e,2),d=e9(new un(l).sub(a).div(c-1),i,0),h=[...Q7(new un(a),new un(l),d),l];return i===!1&&(h=h.map(f=>Math.round(f))),r>n?RN(h):h}var Sce=X7(Nce),Ace=X7(jce),Ece=t=>t.rootProps.barCategoryGap,Sb=t=>t.rootProps.stackOffset,_A=t=>t.options.chartName,NA=t=>t.rootProps.syncId,r9=t=>t.rootProps.syncMethod,jA=t=>t.options.eventEmitter,Mu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Do={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ab=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},Tce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Mu.angleAxisId,includeHidden:!1,name:void 0,reversed:Mu.reversed,scale:Mu.scale,tick:Mu.tick,tickCount:void 0,ticks:void 0,type:Mu.type,unit:void 0},Cce={allowDataOverflow:Do.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Do.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Do.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Do.scale,tick:Do.tick,tickCount:Do.tickCount,ticks:void 0,type:Do.type,unit:void 0},kce={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Mu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Mu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Mu.scale,tick:Mu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ice={allowDataOverflow:Do.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Do.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Do.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Do.scale,tick:Do.tick,tickCount:Do.tickCount,ticks:void 0,type:"category",unit:void 0},SA=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?kce:Tce,AA=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Ice:Cce,Eb=t=>t.polarOptions,EA=rt([ud,dd,Ka],zie),n9=rt([Eb,EA],(t,e)=>{if(t!=null)return vh(t.innerRadius,e,0)}),i9=rt([Eb,EA],(t,e)=>{if(t!=null)return vh(t.outerRadius,e,e*.8)}),Pce=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},a9=rt([Eb],Pce);rt([SA,a9],Ab);var s9=rt([EA,n9,i9],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});rt([AA,s9],Ab);var o9=rt([Mn,Eb,n9,i9,ud,dd],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:l,cy:c,startAngle:d,endAngle:h}=e;return{cx:vh(l,i,i/2),cy:vh(c,a,a/2),innerRadius:r,outerRadius:n,startAngle:d,endAngle:h,clockWise:!1}}}),zi=(t,e)=>e,Tb=(t,e,r)=>r;function l9(t){return t?.id}var ra=t=>{var e=Mn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Mp=t=>t.tooltip.settings.axisId,Aa=t=>{var e=ra(t),r=Mp(t);return ly(t,e,r)},c9=rt([Aa],t=>t?.dataKey);function u9(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,l=new Map;return t.forEach(c=>{var d,h=(d=c.data)!==null&&d!==void 0?d:n;if(!(h==null||h.length===0)){var f=l9(c);h.forEach((p,x)=>{var g=a==null||i?x:String(zs(p,a,null)),w=zs(p,c.dataKey,0),v;l.has(g)?v=l.get(g):v={},Object.assign(v,{[f]:w}),l.set(g,v)})}}),Array.from(l.values())}function TA(t){return t.stackId!=null&&t.dataKey!=null}function bI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bI(Object(r),!0).forEach(function(n){Rce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rce(t,e,r){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oce(t){var e=Dce(t,"string");return typeof e=="symbol"?e:e+""}function Dce(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ON=[0,"auto"],Ro={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},d9=(t,e)=>t.cartesianAxis.xAxis[e],fd=(t,e)=>{var r=d9(t,e);return r??Ro},Oo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ON,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:ny},h9=(t,e)=>t.cartesianAxis.yAxis[e],md=(t,e)=>{var r=h9(t,e);return r??Oo},Lce={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},CA=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??Lce},go=(t,e,r)=>{switch(e){case"xAxis":return fd(t,r);case"yAxis":return md(t,r);case"zAxis":return CA(t,r);case"angleAxis":return SA(t,r);case"radiusAxis":return AA(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Mce=(t,e,r)=>{switch(e){case"xAxis":return fd(t,r);case"yAxis":return md(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},ly=(t,e,r)=>{switch(e){case"xAxis":return fd(t,r);case"yAxis":return md(t,r);case"angleAxis":return SA(t,r);case"radiusAxis":return AA(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},f9=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function m9(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var p9=t=>t.graphicalItems.cartesianItems,zce=rt([zi,Tb],m9),g9=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),cy=rt([p9,go,zce],g9),y9=rt([cy],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(TA)),x9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),v9=rt([cy],x9),b9=t=>t.map(e=>e.data).filter(Boolean).flat(1),Fce=rt([cy],b9),w9=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},kA=rt([Fce,vA],w9),_9=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:zs(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:zs(i,n)}))):t.map(n=>({value:n})),Cb=rt([kA,go,cy],_9);function N9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function $f(t){return t.filter(e=>eu(e)||e instanceof Date).map(Number).filter(e=>Nl(e)===!1)}function Uce(t,e,r){return!r||typeof e!="number"||Nl(e)?[]:r.length?$f(r.flatMap(n=>{var i=zs(t,n.dataKey),a,l;if(Array.isArray(i)?[a,l]=i:a=l=i,!(!lc(a)||!lc(l)))return[e-a,e+l]})):[]}var Bce=rt([y9,vA,Aa],u9),j9=(t,e,r)=>{var n={},i=e.reduce((a,l)=>(l.stackId==null||(a[l.stackId]==null&&(a[l.stackId]=[]),a[l.stackId].push(l)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[l,c]=a,d=c.map(l9);return[l,{stackedData:Jie(t,d,r),graphicalItems:c}]}))},Vce=rt([Bce,y9,Sb],j9),S9=(t,e,r)=>{var{dataStartIndex:n,dataEndIndex:i}=e;if(r!=="zAxis"){var a=rae(t,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},qce=rt([Vce,Th,zi],S9),A9=(t,e,r,n,i)=>r.length>0?t.flatMap(a=>r.flatMap(l=>{var c,d,h=(c=n[l.id])===null||c===void 0?void 0:c.filter(p=>N9(i,p)),f=zs(a,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey);return{value:f,errorDomain:Uce(a,f,h)}})).filter(Boolean):e?.dataKey!=null?t.map(a=>({value:zs(a,e.dataKey),errorDomain:[]})):t.map(a=>({value:a,errorDomain:[]})),kb=t=>t.errorBars,E9=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>N9(r,n));rt([v9,kb,zi],E9);var $ce=rt([kA,go,v9,kb,zi],A9);function Hce(t){var{value:e}=t;if(eu(e)||e instanceof Date)return e}var wI=t=>{var e=t.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=$f(e);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Wce=(t,e,r)=>{var n=t.map(Hce).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&BL(n))?o7(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},IA=t=>{var e;if(t==null||!("domain"in t))return ON;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var r=$f(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:ON},d1=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),l=Math.min(...a),c=Math.max(...a);return[l,c]}},T9=t=>t.referenceElements.dots,zp=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Gce=rt([T9,zi,Tb],zp),C9=t=>t.referenceElements.areas,Yce=rt([C9,zi,Tb],zp),k9=t=>t.referenceElements.lines,Kce=rt([k9,zi,Tb],zp),I9=(t,e)=>{var r=$f(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Xce=rt(Gce,zi,I9),P9=(t,e)=>{var r=$f(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Zce=rt([Yce,zi],P9),R9=(t,e)=>{var r=$f(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Qce=rt(Kce,zi,R9),Jce=rt(Xce,Qce,Zce,(t,e,r)=>d1(t,r,e)),eue=rt([go],IA),O9=(t,e,r,n,i,a,l)=>{var c=mce(e,t.allowDataOverflow);if(c!=null)return c;var d=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",h=d?d1(r,i,wI(n)):d1(i,wI(n));return pce(e,h,t.allowDataOverflow)},tue=rt([go,eue,qce,$ce,Jce,Mn,zi],O9),rue=[0,1],D9=(t,e,r,n,i,a,l)=>{if(!((t==null||r==null||r.length===0)&&l===void 0)){var{dataKey:c,type:d}=t,h=Sh(e,a);return h&&c==null?o7(0,r.length):d==="category"?Wce(n,t,h):i==="expand"?rue:l}},PA=rt([go,Mn,kA,Cb,Sb,zi,tue],D9),L9=(t,e,r,n,i)=>{if(t!=null){var{scale:a,type:l}=t;if(a==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":l==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":l==="category"?"band":"linear";if(typeof a=="string"){var c="scale".concat(LS(a));return c in Gg?c:"point"}}},uy=rt([go,Mn,f9,_A,zi],L9);function nue(t){if(t!=null){if(t in Gg)return Gg[t]();var e="scale".concat(LS(t));if(e in Gg)return Gg[e]()}}function RA(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=nue(e);if(i!=null){var a=i.domain(r).range(n);return Kie(a),a}}}var M9=(t,e,r)=>{var n=IA(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&yp(t))return Sce(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&yp(t))return Ace(t,e.tickCount,e.allowDecimals)}},OA=rt([PA,ly,uy],M9),z9=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&yp(e)&&Array.isArray(r)&&r.length>0){var i=e[0],a=r[0],l=e[1],c=r[r.length-1];return[Math.min(i,a),Math.max(l,c)]}return e},iue=rt([go,PA,OA,zi],z9),aue=rt(Cb,go,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from($f(t.map(c=>c.value))).sort((c,d)=>c-d);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var l=n[a+1]-n[a];r=Math.min(r,l)}return r/i}}),F9=rt(aue,Mn,Ece,Ka,(t,e,r,n)=>n,(t,e,r,n,i)=>{if(!lc(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var l=vh(r,t*a),c=t*a/2;return c-l-(c-l)/a*l}return 0}),sue=(t,e)=>{var r=fd(t,e);return r==null||typeof r.padding!="string"?0:F9(t,"xAxis",e,r.padding)},oue=(t,e)=>{var r=md(t,e);return r==null||typeof r.padding!="string"?0:F9(t,"yAxis",e,r.padding)},lue=rt(fd,sue,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),cue=rt(md,oue,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),uue=rt([Ka,lue,yb,gb,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),due=rt([Ka,Mn,cue,yb,gb,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:l}=i;return a?[n.height-l.bottom,l.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),dy=(t,e,r,n)=>{var i;switch(e){case"xAxis":return uue(t,r,n);case"yAxis":return due(t,r,n);case"zAxis":return(i=CA(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return a9(t);case"radiusAxis":return s9(t,r);default:return}},U9=rt([go,dy],Ab),Fp=rt([go,uy,iue,U9],RA);rt([cy,kb,zi],E9);function B9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Ib=(t,e)=>e,Pb=(t,e,r)=>r,hue=rt(mb,Ib,Pb,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(B9)),fue=rt(pb,Ib,Pb,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(B9)),V9=(t,e)=>({width:t.width,height:e.height}),mue=(t,e)=>{var r=typeof e.width=="number"?e.width:ny;return{width:r,height:t.height}},pue=rt(Ka,fd,V9),gue=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},yue=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},xue=rt(dd,Ka,hue,Ib,Pb,(t,e,r,n,i)=>{var a={},l;return r.forEach(c=>{var d=V9(e,c);l==null&&(l=gue(e,n,t));var h=n==="top"&&!i||n==="bottom"&&i;a[c.id]=l-Number(h)*d.height,l+=(h?-1:1)*d.height}),a}),vue=rt(ud,Ka,fue,Ib,Pb,(t,e,r,n,i)=>{var a={},l;return r.forEach(c=>{var d=mue(e,c);l==null&&(l=yue(e,n,t));var h=n==="left"&&!i||n==="right"&&i;a[c.id]=l-Number(h)*d.width,l+=(h?-1:1)*d.width}),a}),bue=(t,e)=>{var r=fd(t,e);if(r!=null)return xue(t,r.orientation,r.mirror)},wue=rt([Ka,fd,bue,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),_ue=(t,e)=>{var r=md(t,e);if(r!=null)return vue(t,r.orientation,r.mirror)},Nue=rt([Ka,md,_ue,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),jue=rt(Ka,md,(t,e)=>{var r=typeof e.width=="number"?e.width:ny;return{width:r,height:t.height}}),q9=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:l}=r,c=Sh(t,n),d=e.map(h=>h.value);if(l&&c&&a==="category"&&i&&BL(d))return d}},DA=rt([Mn,Cb,go,zi],q9),$9=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,l=Sh(t,n);if(l&&(i==="number"||a!=="auto"))return e.map(c=>c.value)}},LA=rt([Mn,Cb,ly,zi],$9),_I=rt([Mn,Mce,uy,Fp,DA,LA,dy,OA,zi],(t,e,r,n,i,a,l,c,d)=>{if(e==null)return null;var h=Sh(t,d);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:d,categoricalDomain:a,duplicateDomain:i,isCategorical:h,niceTicks:c,range:l,realScaleType:r,scale:n}}),Sue=(t,e,r,n,i,a,l,c,d)=>{if(!(e==null||n==null)){var h=Sh(t,d),{type:f,ticks:p,tickCount:x}=e,g=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=f==="category"&&n.bandwidth?n.bandwidth()/g:0;w=d==="angleAxis"&&a!=null&&a.length>=2?gl(a[0]-a[1])*2*w:w;var v=p||i;if(v){var _=v.map((j,E)=>{var C=l?l.indexOf(j):j;return{index:E,coordinate:n(C)+w,value:j,offset:w}});return _.filter(j=>!Nl(j.coordinate))}return h&&c?c.map((j,E)=>({coordinate:n(j)+w,value:j,index:E,offset:w})):n.ticks?n.ticks(x).map(j=>({coordinate:n(j)+w,value:j,offset:w})):n.domain().map((j,E)=>({coordinate:n(j)+w,value:l?l[j]:j,index:E,offset:w}))}},H9=rt([Mn,ly,uy,Fp,OA,dy,DA,LA,zi],Sue),Aue=(t,e,r,n,i,a,l)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var c=Sh(t,l),{tickCount:d}=e,h=0;return h=l==="angleAxis"&&n?.length>=2?gl(n[0]-n[1])*2*h:h,c&&a?a.map((f,p)=>({coordinate:r(f)+h,value:f,index:p,offset:h})):r.ticks?r.ticks(d).map(f=>({coordinate:r(f)+h,value:f,offset:h})):r.domain().map((f,p)=>({coordinate:r(f)+h,value:i?i[f]:f,index:p,offset:h}))}},W9=rt([Mn,ly,Fp,dy,DA,LA,zi],Aue),G9=rt(go,Fp,(t,e)=>{if(!(t==null||e==null))return u1(u1({},t),{},{scale:e})}),Eue=rt([go,uy,PA,U9],RA);rt((t,e,r)=>CA(t,r),Eue,(t,e)=>{if(!(t==null||e==null))return u1(u1({},t),{},{scale:e})});var Tue=rt([Mn,mb,pb],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Y9=t=>t.options.defaultTooltipEventType,K9=t=>t.options.validateTooltipEventTypes;function X9(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function MA(t,e){var r=Y9(t),n=K9(t);return X9(e,r,n)}function Cue(t){return rr(e=>MA(e,t))}var Z9=(t,e)=>{var r,n=Number(e);if(!(Nl(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},kue=t=>t.tooltip.settings,th={active:!1,index:null,dataKey:void 0,coordinate:void 0},Iue={itemInteraction:{click:th,hover:th},axisInteraction:{click:th,hover:th},keyboardInteraction:th,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Q9=Go({name:"tooltip",initialState:Iue,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var r=Gu(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:Pue,removeTooltipEntrySettings:Rue,setTooltipSettingsState:Oue,setActiveMouseOverItemIndex:Due,mouseLeaveItem:t1e,mouseLeaveChart:J9,setActiveClickItemIndex:r1e,setMouseOverAxisIndex:ez,setMouseClickAxisIndex:Lue,setSyncInteraction:DN,setKeyboardInteraction:LN}=Q9.actions,Mue=Q9.reducer;function NI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Px(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NI(Object(r),!0).forEach(function(n){zue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zue(t,e,r){return(e=Fue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fue(t){var e=Uue(t,"string");return typeof e=="symbol"?e:e+""}function Uue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bue(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Vue(t){return t.index!=null}var tz=(t,e,r,n)=>{if(e==null)return th;var i=Bue(t,e,r);if(i==null)return th;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Vue(i)){if(a)return Px(Px({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Px(Px({},th),{},{coordinate:i.coordinate})},zA=(t,e)=>{var r=t?.index;if(r==null)return null;var n=Number(r);if(!lc(n))return r;var i=0,a=1/0;return e.length>0&&(a=e.length-1),String(Math.max(i,Math.min(n,a)))},rz=(t,e,r,n,i,a,l,c)=>{if(!(a==null||c==null)){var d=l[0],h=d==null?void 0:c(d.positions,a);if(h!=null)return h;var f=i?.[Number(a)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:f.coordinate}}}},nz=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&n!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.dataKey)===i})},hy=t=>t.options.tooltipPayloadSearcher,Up=t=>t.tooltip;function jI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jI(Object(r),!0).forEach(function(n){que(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function que(t,e,r){return(e=$ue(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ue(t){var e=Hue(t,"string");return typeof e=="symbol"?e:e+""}function Hue(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wue(t,e){return t??e}var iz=(t,e,r,n,i,a,l)=>{if(!(e==null||a==null)){var{chartData:c,computedData:d,dataStartIndex:h,dataEndIndex:f}=r,p=[];return t.reduce((x,g)=>{var w,{dataDefinedOnItem:v,settings:_}=g,j=Wue(v,c),E=Array.isArray(j)?VM(j,h,f):j,C=(w=_?.dataKey)!==null&&w!==void 0?w:n,z=_?.nameKey,P;if(n&&Array.isArray(E)&&!Array.isArray(E[0])&&l==="axis"?P=VL(E,n,i):P=a(E,e,d,z),Array.isArray(P))P.forEach(U=>{var M=SI(SI({},_),{},{name:U.name,unit:U.unit,color:void 0,fill:void 0});x.push(uk({tooltipEntrySettings:M,dataKey:U.dataKey,payload:U.payload,value:zs(U.payload,U.dataKey),name:U.name}))});else{var X;x.push(uk({tooltipEntrySettings:_,dataKey:C,payload:P,value:zs(P,C),name:(X=zs(P,z))!==null&&X!==void 0?X:_?.name}))}return x},p)}},FA=rt([Aa,Mn,f9,_A,ra],L9),Gue=rt([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Yue=rt([ra,Mp],m9),fy=rt([Gue,Aa,Yue],g9),Kue=rt([fy],t=>t.filter(TA)),Xue=rt([fy],b9),Bp=rt([Xue,Th],w9),Zue=rt([Kue,Th,Aa],u9),UA=rt([Bp,Aa,fy],_9),Que=rt([Aa],IA),Jue=rt([fy],t=>t.filter(TA)),ede=rt([Zue,Jue,Sb],j9),tde=rt([ede,Th,ra],S9),rde=rt([fy],x9),nde=rt([Bp,Aa,rde,kb,ra],A9),ide=rt([T9,ra,Mp],zp),ade=rt([ide,ra],I9),sde=rt([C9,ra,Mp],zp),ode=rt([sde,ra],P9),lde=rt([k9,ra,Mp],zp),cde=rt([lde,ra],R9),ude=rt([ade,cde,ode],d1),dde=rt([Aa,Que,tde,nde,ude,Mn,ra],O9),az=rt([Aa,Mn,Bp,UA,Sb,ra,dde],D9),hde=rt([az,Aa,FA],M9),fde=rt([Aa,az,hde,ra],z9),sz=t=>{var e=ra(t),r=Mp(t),n=!1;return dy(t,e,r,n)},oz=rt([Aa,sz],Ab),lz=rt([Aa,FA,fde,oz],RA),mde=rt([Mn,UA,Aa,ra],q9),pde=rt([Mn,UA,Aa,ra],$9),gde=(t,e,r,n,i,a,l,c)=>{if(e){var{type:d}=e,h=Sh(t,c);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=c==="angleAxis"&&i!=null&&i?.length>=2?gl(i[0]-i[1])*2*p:p,h&&l?l.map((x,g)=>({coordinate:n(x)+p,value:x,index:g,offset:p})):n.domain().map((x,g)=>({coordinate:n(x)+p,value:a?a[x]:x,index:g,offset:p}))}}},pd=rt([Mn,Aa,FA,lz,sz,mde,pde,ra],gde),BA=rt([Y9,K9,kue],(t,e,r)=>X9(r.shared,t,e)),cz=t=>t.tooltip.settings.trigger,VA=t=>t.tooltip.settings.defaultIndex,Rb=rt([Up,BA,cz,VA],tz),R0=rt([Rb,Bp],zA),uz=rt([pd,R0],Z9),yde=rt([Rb],t=>{if(t)return t.dataKey}),dz=rt([Up,BA,cz,VA],nz),xde=rt([ud,dd,Mn,Ka,pd,VA,dz,hy],rz),vde=rt([Rb,xde],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),bde=rt([Rb],t=>t.active),wde=rt([dz,R0,Th,c9,uz,hy,BA],iz),_de=rt([wde],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function AI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function EI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AI(Object(r),!0).forEach(function(n){Nde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nde(t,e,r){return(e=jde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jde(t){var e=Sde(t,"string");return typeof e=="symbol"?e:e+""}function Sde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ade=()=>rr(Aa),Ede=()=>{var t=Ade(),e=rr(pd),r=rr(lz);return xN(EI(EI({},t),{},{scale:r}),e)},Tde=()=>rr(_A),qA=(t,e)=>e,hz=(t,e,r)=>r,$A=(t,e,r,n)=>n,Cde=rt(pd,t=>lb(t,e=>e.coordinate)),HA=rt([Up,qA,hz,$A],tz),fz=rt([HA,Bp],zA),kde=(t,e,r)=>{if(e!=null){var n=Up(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},mz=rt([Up,qA,hz,$A],nz),h1=rt([ud,dd,Mn,Ka,pd,$A,mz,hy],rz),Ide=rt([HA,h1],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),pz=rt(pd,fz,Z9),Pde=rt([mz,fz,Th,c9,pz,hy,qA],iz),Rde=rt([HA],t=>({isActive:t.active,activeIndex:t.index})),Ode=(t,e,r,n,i,a,l,c)=>{if(!(!t||!e||!n||!i||!a)){var d=nae(t.chartX,t.chartY,e,r,c);if(d){var h=aae(d,e),f=Gie(h,l,a,n,i),p=iae(e,a,f,d);return{activeIndex:String(f),activeCoordinate:p}}}};function MN(){return MN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MN.apply(null,arguments)}function TI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(r),!0).forEach(function(n){Dde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dde(t,e,r){return(e=Lde(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Lde(t){var e=Mde(t,"string");return typeof e=="symbol"?e:e+""}function Mde(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zde(t){var{coordinate:e,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:d,chartName:h}=t,f=e,p=r,x=n;if(!c||!f||h!=="ScatterChart"&&d!=="axis")return null;var g,w;if(h==="ScatterChart")g=f,w=Xae;else if(h==="BarChart")g=Zae(l,f,i,a),w=Tse;else if(l==="radial"){var{cx:v,cy:_,radius:j,startAngle:E,endAngle:C}=a7(f);g={cx:v,cy:_,startAngle:E,endAngle:C,innerRadius:j,outerRadius:j},w=Pse}else g={points:Rse(l,f,i)},w=JM;var z=typeof c=="object"&&"className"in c?c.className:void 0,P=Rx(Rx(Rx(Rx({stroke:"#ccc",pointerEvents:"none"},i),g),Ya(c,!1)),{},{payload:p,payloadIndex:x,className:Ln("recharts-tooltip-cursor",z)});return V.isValidElement(c)?V.cloneElement(c,P):V.createElement(w,P)}function Fde(t){var e=Ede(),r=YM(),n=KS(),i=Tde();return V.createElement(zde,MN({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var gz=V.createContext(null),Ude=()=>V.useContext(gz),z5={exports:{}},CI;function Bde(){return CI||(CI=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(d,h,f){this.fn=d,this.context=h,this.once=f||!1}function a(d,h,f,p,x){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,p||d,x),w=r?r+h:h;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],g]:d._events[w].push(g):(d._events[w]=g,d._eventsCount++),d}function l(d,h){--d._eventsCount===0?d._events=new n:delete d._events[h]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)e.call(f,p)&&h.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=r?r+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,g=p.length,w=new Array(g);x<g;x++)w[x]=p[x].fn;return w},c.prototype.listenerCount=function(h){var f=r?r+h:h,p=this._events[f];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,f,p,x,g,w){var v=r?r+h:h;if(!this._events[v])return!1;var _=this._events[v],j=arguments.length,E,C;if(_.fn){switch(_.once&&this.removeListener(h,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,x),!0;case 5:return _.fn.call(_.context,f,p,x,g),!0;case 6:return _.fn.call(_.context,f,p,x,g,w),!0}for(C=1,E=new Array(j-1);C<j;C++)E[C-1]=arguments[C];_.fn.apply(_.context,E)}else{var z=_.length,P;for(C=0;C<z;C++)switch(_[C].once&&this.removeListener(h,_[C].fn,void 0,!0),j){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,f);break;case 3:_[C].fn.call(_[C].context,f,p);break;case 4:_[C].fn.call(_[C].context,f,p,x);break;default:if(!E)for(P=1,E=new Array(j-1);P<j;P++)E[P-1]=arguments[P];_[C].fn.apply(_[C].context,E)}}return!0},c.prototype.on=function(h,f,p){return a(this,h,f,p,!1)},c.prototype.once=function(h,f,p){return a(this,h,f,p,!0)},c.prototype.removeListener=function(h,f,p,x){var g=r?r+h:h;if(!this._events[g])return this;if(!f)return l(this,g),this;var w=this._events[g];if(w.fn)w.fn===f&&(!x||w.once)&&(!p||w.context===p)&&l(this,g);else{for(var v=0,_=[],j=w.length;v<j;v++)(w[v].fn!==f||x&&!w[v].once||p&&w[v].context!==p)&&_.push(w[v]);_.length?this._events[g]=_.length===1?_[0]:_:l(this,g)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&l(this,f)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=r,c.EventEmitter=c,t.exports=c})(z5)),z5.exports}var Vde=Bde();const qde=ru(Vde);var O0=new qde,zN="recharts.syncEvent.tooltip",kI="recharts.syncEvent.brush";function $de(t,e){if(e){var r=Number.parseInt(e,10);if(!Nl(r))return t?.[r]}}var Hde={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yz=Go({name:"options",initialState:Hde,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Wde=yz.reducer,{createEventEmitter:Gde}=yz.actions;function Yde(t){return t.tooltip.syncInteraction}var Kde={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},xz=Go({name:"chartData",initialState:Kde,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:II,setDataStartEndIndexes:Xde,setComputedData:n1e}=xz.actions,Zde=xz.reducer,Qde=["x","y"];function PI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PI(Object(r),!0).forEach(function(n){Jde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Jde(t,e,r){return(e=ehe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ehe(t){var e=the(t,"string");return typeof e=="symbol"?e:e+""}function the(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rhe(t,e){if(t==null)return{};var r,n,i=nhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function nhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var vz=()=>{};function ihe(){var t=rr(NA),e=rr(jA),r=Fs(),n=rr(r9),i=rr(pd),a=KS(),l=YS(),c=rr(d=>d.rootProps.className);V.useEffect(()=>{if(t==null)return vz;var d=(h,f,p)=>{if(e!==p&&t===h){if(n==="index"){var x;if(l&&f!==null&&f!==void 0&&(x=f.payload)!==null&&x!==void 0&&x.coordinate){var g=f.payload.coordinate,{x:w,y:v}=g,_=rhe(g,Qde),j=Wh(Wh(Wh({},_),typeof w=="number"&&{x:Math.max(l.x,Math.min(w,l.x+l.width))}),typeof v=="number"&&{y:Math.max(l.y,Math.min(v,l.y+l.height))}),E=Wh(Wh({},f),{},{payload:Wh(Wh({},f.payload),{},{coordinate:j})});r(E)}else r(f);return}if(i!=null){var C;if(typeof n=="function"){var z={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},P=n(i,z);C=i[P]}else n==="value"&&(C=i.find(B=>String(B.value)===f.payload.label));var{coordinate:X}=f.payload;if(C==null||f.payload.active===!1||X==null||l==null){r(DN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:U,y:M}=X,D=Math.min(U,l.x+l.width),G=Math.min(M,l.y+l.height),L={x:a==="horizontal"?C.coordinate:D,y:a==="horizontal"?G:C.coordinate},I=DN({active:f.payload.active,coordinate:L,dataKey:f.payload.dataKey,index:String(C.index),label:f.payload.label});r(I)}}};return O0.on(zN,d),()=>{O0.off(zN,d)}},[c,r,e,t,n,i,a,l])}function ahe(){var t=rr(NA),e=rr(jA),r=Fs();V.useEffect(()=>{if(t==null)return vz;var n=(i,a,l)=>{e!==l&&t===i&&r(Xde(a))};return O0.on(kI,n),()=>{O0.off(kI,n)}},[r,e,t])}function she(){var t=Fs();V.useEffect(()=>{t(Gde())},[t]),ihe(),ahe()}function ohe(t,e,r,n,i,a){var l=rr(x=>kde(x,t,e)),c=rr(jA),d=rr(NA),h=rr(r9),f=rr(Yde),p=f?.active;V.useEffect(()=>{if(!p&&d!=null&&c!=null){var x=DN({active:a,coordinate:r,dataKey:l,index:i,label:typeof n=="number"?String(n):n});O0.emit(zN,d,x,c)}},[p,r,l,i,n,c,d,h,a])}function RI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OI(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RI(Object(r),!0).forEach(function(n){lhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lhe(t,e,r){return(e=che(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function che(t){var e=uhe(t,"string");return typeof e=="symbol"?e:e+""}function uhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dhe(t){return t.dataKey}function hhe(t,e){return V.isValidElement(t)?V.cloneElement(t,e):typeof t=="function"?V.createElement(t,e):V.createElement(Tae,e)}var DI=[],fhe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Rp.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function mhe(t){var e=Tl(t,fhe),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:l,filterNull:c,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:x,useTranslate3d:g,wrapperStyle:w,cursor:v,shared:_,trigger:j,defaultIndex:E,portal:C,axisId:z}=e,P=Fs(),X=typeof E=="number"?String(E):E;V.useEffect(()=>{P(Oue({shared:_,trigger:j,axisId:z,active:r,defaultIndex:X}))},[P,_,j,z,r,X]);var U=YS(),M=QM(),D=Cue(_),{activeIndex:G,isActive:L}=rr(ae=>Rde(ae,D,j,X)),I=rr(ae=>Pde(ae,D,j,X)),B=rr(ae=>pz(ae,D,j,X)),k=rr(ae=>Ide(ae,D,j,X)),re=I,Y=Ude(),Q=r??L,[se,oe]=Lne([re,Q]),pe=D==="axis"?B:void 0;ohe(D,j,k,pe,G,Q);var H=C??Y;if(H==null)return null;var R=re??DI;Q||(R=DI),c&&R.length&&(R=lne(re.filter(ae=>ae.value!=null&&(ae.hide!==!0||e.includeHidden)),f,dhe));var J=R.length>0,ee=V.createElement(Dae,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:d,active:Q,coordinate:k,hasPayload:J,offset:h,position:p,reverseDirection:x,useTranslate3d:g,viewBox:U,wrapperStyle:w,lastBoundingBox:se,innerRef:oe,hasPortalFromProps:!!C},hhe(l,OI(OI({},e),{},{payload:R,label:pe,active:Q,coordinate:k,accessibilityLayer:M})));return V.createElement(V.Fragment,null,rq.createPortal(ee,H),Q&&V.createElement(Fde,{cursor:v,tooltipEventType:D,coordinate:k,payload:re,index:G}))}var F5={},U5={},B5={},LI;function phe(){return LI||(LI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let l,c=null;const d=a!=null&&a.includes("leading"),h=a==null||a.includes("trailing"),f=()=>{c!==null&&(r.apply(l,c),l=void 0,c=null)},p=()=>{h&&f(),v()};let x=null;const g=()=>{x!=null&&clearTimeout(x),x=setTimeout(()=>{x=null,p()},n)},w=()=>{x!==null&&(clearTimeout(x),x=null)},v=()=>{w(),l=void 0,c=null},_=()=>{f()},j=function(...E){if(i?.aborted)return;l=this,c=E;const C=x==null;g(),d&&C&&f()};return j.schedule=g,j.cancel=v,j.flush=_,i?.addEventListener("abort",v,{once:!0}),j}t.debounce=e})(B5)),B5}var MI;function ghe(){return MI||(MI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=phe();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:l=!1,trailing:c=!0,maxWait:d}=a,h=Array(2);l&&(h[0]="leading"),c&&(h[1]="trailing");let f,p=null;const x=e.debounce(function(...v){f=n.apply(this,v),p=null},i,{edges:h}),g=function(...v){return d!=null&&(p===null&&(p=Date.now()),Date.now()-p>=d)?(f=n.apply(this,v),p=Date.now(),x.cancel(),x.schedule(),f):(x.apply(this,v),f)},w=()=>(x.flush(),f);return g.cancel=x.cancel,g.flush=w,g}t.debounce=r})(U5)),U5}var zI;function yhe(){return zI||(zI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ghe();function r(n,i=0,a={}){const{leading:l=!0,trailing:c=!0}=a;return e.debounce(n,i,{leading:l,maxWait:i,trailing:c})}t.throttle=r})(F5)),F5}var V5,FI;function xhe(){return FI||(FI=1,V5=yhe().throttle),V5}var vhe=xhe();const bhe=ru(vhe);var a0=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function UI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UI(Object(r),!0).forEach(function(n){whe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function whe(t,e,r){return(e=_he(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _he(t){var e=Nhe(t,"string");return typeof e=="symbol"?e:e+""}function Nhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jhe=V.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:l=0,minHeight:c,maxHeight:d,children:h,debounce:f=0,id:p,className:x,onResize:g,style:w={}}=t,v=V.useRef(null),_=V.useRef();_.current=g,V.useImperativeHandle(e,()=>v.current);var[j,E]=V.useState({containerWidth:n.width,containerHeight:n.height}),C=V.useCallback((P,X)=>{E(U=>{var M=Math.round(P),D=Math.round(X);return U.containerWidth===M&&U.containerHeight===D?U:{containerWidth:M,containerHeight:D}})},[]);V.useEffect(()=>{var P=D=>{var G,{width:L,height:I}=D[0].contentRect;C(L,I),(G=_.current)===null||G===void 0||G.call(_,L,I)};f>0&&(P=bhe(P,f,{trailing:!0,leading:!1}));var X=new ResizeObserver(P),{width:U,height:M}=v.current.getBoundingClientRect();return C(U,M),X.observe(v.current),()=>{X.disconnect()}},[C,f]);var z=V.useMemo(()=>{var{containerWidth:P,containerHeight:X}=j;if(P<0||X<0)return null;a0(sf(i)||sf(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),a0(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=sf(i)?P:i,M=sf(a)?X:a;return r&&r>0&&(U?M=U/r:M&&(U=M*r),d&&M>d&&(M=d)),a0(U>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,M,i,a,l,c,r),V.Children.map(h,D=>V.cloneElement(D,{width:U,height:M,style:q5({width:U,height:M},D.props.style)}))},[r,h,a,d,c,l,j,i]);return V.createElement("div",{id:p?"".concat(p):void 0,className:Ln("recharts-responsive-container",x),style:q5(q5({},w),{},{width:i,height:a,minWidth:l,minHeight:c,maxHeight:d}),ref:v},V.createElement("div",{style:{width:0,height:0,overflow:"visible"}},z))});function She(t,e,r){return(e=Ahe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ahe(t){var e=Ehe(t,"string");return typeof e=="symbol"?e:e+""}function Ehe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class The{constructor(e){She(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function BI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Che(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BI(Object(r),!0).forEach(function(n){khe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function khe(t,e,r){return(e=Ihe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ihe(t){var e=Phe(t,"string");return typeof e=="symbol"?e:e+""}function Phe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rhe={cacheSize:2e3,enableCache:!0},bz=Che({},Rhe),VI=new The(bz.cacheSize),Ohe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qI="recharts_measurement_span";function Dhe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",l=e.letterSpacing||"",c=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(l,"|").concat(c)}var $I=(t,e)=>{try{var r=document.getElementById(qI);r||(r=document.createElement("span"),r.setAttribute("id",qI),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Ohe,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},s0=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Rp.isSsr)return{width:0,height:0};if(!bz.enableCache)return $I(e,r);var n=Dhe(e,r),i=VI.get(n);if(i)return i;var a=$I(e,r);return VI.set(n,a),a},HI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lhe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mhe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zhe=Object.keys(wz),Um="NaN";function Fhe(t,e){return t*wz[e]}class so{static parse(e){var r,[,n,i]=(r=Mhe.exec(e))!==null&&r!==void 0?r:[];return new so(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Nl(e)&&(this.unit=""),r!==""&&!Lhe.test(r)&&(this.num=NaN,this.unit=""),zhe.includes(r)&&(this.num=Fhe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new so(NaN,""):new so(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new so(NaN,""):new so(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new so(NaN,""):new so(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new so(NaN,""):new so(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Nl(this.num)}}function _z(t){if(t.includes(Um))return Um;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=HI.exec(e))!==null&&r!==void 0?r:[],l=so.parse(n??""),c=so.parse(a??""),d=i==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return Um;e=e.replace(HI,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,f,p,x]=(h=WI.exec(e))!==null&&h!==void 0?h:[],g=so.parse(f??""),w=so.parse(x??""),v=p==="+"?g.add(w):g.subtract(w);if(v.isNaN())return Um;e=e.replace(WI,v.toString())}return e}var GI=/\(([^()]*)\)/;function Uhe(t){for(var e=t,r;(r=GI.exec(e))!=null;){var[,n]=r;e=e.replace(GI,_z(n))}return e}function Bhe(t){var e=t.replace(/\s+/g,"");return e=Uhe(e),e=_z(e),e}function Vhe(t){try{return Bhe(t)}catch{return Um}}function $5(t){var e=Vhe(t.slice(5,-1));return e===Um?"":e}var qhe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$he=["dx","dy","angle","className","breakAll"];function FN(){return FN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FN.apply(null,arguments)}function YI(t,e){if(t==null)return{};var r,n,i=Hhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Hhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Nz=/[ \f\n\r\t\v\u2028\u2029]+/,jz=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];_a(e)||(r?i=e.toString().split(""):i=e.toString().split(Nz));var a=i.map(c=>({word:c,width:s0(c,n).width})),l=r?0:s0("",n).width;return{wordsWithComputedWidth:a,spaceWidth:l}}catch{return null}},Whe=(t,e,r,n,i)=>{var{maxLines:a,children:l,style:c,breakAll:d}=t,h=cr(a),f=l,p=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((I,B)=>{var{word:k,width:re}=B,Y=I[I.length-1];if(Y&&(n==null||i||Y.width+re+r<Number(n)))Y.words.push(k),Y.width+=re+r;else{var Q={words:[k],width:re};I.push(Q)}return I},[])},x=p(e),g=G=>G.reduce((L,I)=>L.width>I.width?L:I);if(!h||i)return x;var w=x.length>a||g(x).width>Number(n);if(!w)return x;for(var v="",_=G=>{var L=f.slice(0,G),I=jz({breakAll:d,style:c,children:L+v}).wordsWithComputedWidth,B=p(I),k=B.length>a||g(B).width>Number(n);return[k,B]},j=0,E=f.length-1,C=0,z;j<=E&&C<=f.length-1;){var P=Math.floor((j+E)/2),X=P-1,[U,M]=_(X),[D]=_(P);if(!U&&!D&&(j=P+1),U&&D&&(E=P-1),!U&&D){z=M;break}C++}return z||x},KI=t=>{var e=_a(t)?[]:t.toString().split(Nz);return[{words:e}]},Ghe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:l}=t;if((e||r)&&!Rp.isSsr){var c,d,h=jz({breakAll:a,children:n,style:i});if(h){var{wordsWithComputedWidth:f,spaceWidth:p}=h;c=f,d=p}else return KI(n);return Whe({breakAll:a,children:n,maxLines:l,style:i},c,d,e,r)}return KI(n)},XI="#808080",WA=V.forwardRef((t,e)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:l=!1,textAnchor:c="start",verticalAnchor:d="end",fill:h=XI}=t,f=YI(t,qhe),p=V.useMemo(()=>Ghe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:x,dy:g,angle:w,className:v,breakAll:_}=f,j=YI(f,$he);if(!eu(r)||!eu(n)||p.length===0)return null;var E=r+(cr(x)?x:0),C=n+(cr(g)?g:0),z;switch(d){case"start":z=$5("calc(".concat(a,")"));break;case"middle":z=$5("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:z=$5("calc(".concat(p.length-1," * -").concat(i,")"));break}var P=[];if(l){var X=p[0].width,{width:U}=f;P.push("scale(".concat(cr(U)?U/X:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(E,", ").concat(C,")")),P.length&&(j.transform=P.join(" ")),V.createElement("text",FN({},Ya(j,!0),{ref:e,x:E,y:C,className:Ln("recharts-text",v),textAnchor:c,fill:h.includes("url")?XI:h}),p.map((M,D)=>{var G=M.words.join(_?"":" ");return V.createElement("tspan",{x:E,dy:D===0?z:i,key:"".concat(G,"-").concat(D)},G)}))});WA.displayName="Text";var Yhe=["labelRef"];function Khe(t,e){if(t==null)return{};var r,n,i=Xhe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Xhe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ZI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(r),!0).forEach(function(n){Zhe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zhe(t,e,r){return(e=Qhe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qhe(t){var e=Jhe(t,"string");return typeof e=="symbol"?e:e+""}function Jhe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(null,arguments)}var Sz=V.createContext(null),efe=t=>{var{x:e,y:r,width:n,height:i,children:a}=t,l=V.useMemo(()=>({x:e,y:r,width:n,height:i}),[e,r,n,i]);return V.createElement(Sz.Provider,{value:l},a)},Az=()=>{var t=V.useContext(Sz),e=YS();return t||e},tfe=V.createContext(null),rfe=()=>{var t=V.useContext(tfe),e=rr(o9);return t||e},nfe=t=>{var{value:e,formatter:r}=t,n=_a(t.children)?e:t.children;return typeof r=="function"?r(n):n},GA=t=>t!=null&&typeof t=="function",ife=(t,e)=>{var r=gl(e-t),n=Math.min(Math.abs(e-t),360);return r*n},afe=(t,e,r,n,i)=>{var{offset:a,className:l}=t,{cx:c,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:x,clockWise:g}=i,w=(h+f)/2,v=ife(p,x),_=v>=0?1:-1,j,E;switch(e){case"insideStart":j=p+_*a,E=g;break;case"insideEnd":j=x-_*a,E=!g;break;case"end":j=x+_*a,E=g;break;default:throw new Error("Unsupported position ".concat(e))}E=v<=0?E:!E;var C=Wa(c,d,w,j),z=Wa(c,d,w,j+(E?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(E?0:1,`,
    `).concat(z.x,",").concat(z.y),X=_a(t.id)?j0("recharts-radial-line-"):t.id;return V.createElement("text",zu({},n,{dominantBaseline:"central",className:Ln("recharts-radial-bar-label",l)}),V.createElement("defs",null,V.createElement("path",{id:X,d:P})),V.createElement("textPath",{xlinkHref:"#".concat(X)},r))},sfe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:l,startAngle:c,endAngle:d}=t,h=(c+d)/2;if(r==="outside"){var{x:f,y:p}=Wa(n,i,l+e,h);return{x:f,y:p,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var x=(a+l)/2,{x:g,y:w}=Wa(n,i,x,h);return{x:g,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ez=t=>"cx"in t&&cr(t.cx),ofe=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,a;r!=null&&!Ez(r)&&(a=r);var{x:l,y:c,width:d,height:h}=e,f=h>=0?1:-1,p=f*n,x=f>0?"end":"start",g=f>0?"start":"end",w=d>=0?1:-1,v=w*n,_=w>0?"end":"start",j=w>0?"start":"end";if(i==="top"){var E={x:l+d/2,y:c-f*n,textAnchor:"middle",verticalAnchor:x};return wi(wi({},E),a?{height:Math.max(c-a.y,0),width:d}:{})}if(i==="bottom"){var C={x:l+d/2,y:c+h+p,textAnchor:"middle",verticalAnchor:g};return wi(wi({},C),a?{height:Math.max(a.y+a.height-(c+h),0),width:d}:{})}if(i==="left"){var z={x:l-v,y:c+h/2,textAnchor:_,verticalAnchor:"middle"};return wi(wi({},z),a?{width:Math.max(z.x-a.x,0),height:h}:{})}if(i==="right"){var P={x:l+d+v,y:c+h/2,textAnchor:j,verticalAnchor:"middle"};return wi(wi({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:h}:{})}var X=a?{width:d,height:h}:{};return i==="insideLeft"?wi({x:l+v,y:c+h/2,textAnchor:j,verticalAnchor:"middle"},X):i==="insideRight"?wi({x:l+d-v,y:c+h/2,textAnchor:_,verticalAnchor:"middle"},X):i==="insideTop"?wi({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:g},X):i==="insideBottom"?wi({x:l+d/2,y:c+h-p,textAnchor:"middle",verticalAnchor:x},X):i==="insideTopLeft"?wi({x:l+v,y:c+p,textAnchor:j,verticalAnchor:g},X):i==="insideTopRight"?wi({x:l+d-v,y:c+p,textAnchor:_,verticalAnchor:g},X):i==="insideBottomLeft"?wi({x:l+v,y:c+h-p,textAnchor:j,verticalAnchor:x},X):i==="insideBottomRight"?wi({x:l+d-v,y:c+h-p,textAnchor:_,verticalAnchor:x},X):i&&typeof i=="object"&&(cr(i.x)||sf(i.x))&&(cr(i.y)||sf(i.y))?wi({x:l+vh(i.x,d),y:c+vh(i.y,h),textAnchor:"end",verticalAnchor:"end"},X):wi({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},X)},lfe={offset:5};function Xd(t){var e=Tl(t,lfe),{viewBox:r,position:n,value:i,children:a,content:l,className:c="",textBreakAll:d,labelRef:h}=e,f=rfe(),p=Az(),x=n==="center"?p:f??p,g=r||x;if(!g||_a(i)&&_a(a)&&!V.isValidElement(l)&&typeof l!="function")return null;var w=wi(wi({},e),{},{viewBox:g});if(V.isValidElement(l)){var{labelRef:v}=w,_=Khe(w,Yhe);return V.cloneElement(l,_)}var j;if(typeof l=="function"){if(j=V.createElement(l,w),V.isValidElement(j))return j}else j=nfe(e);var E=Ez(g),C=Ya(e,!0);if(E&&(n==="insideStart"||n==="insideEnd"||n==="end"))return afe(e,n,j,C,g);var z=E?sfe(g,e.offset,e.position):ofe(e,g);return V.createElement(WA,zu({ref:h,className:Ln("recharts-label",c)},C,z,{breakAll:d}),j)}Xd.displayName="Label";var cfe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?V.createElement(Xd,zu({key:"label-implicit"},n)):eu(t)?V.createElement(Xd,zu({key:"label-implicit",value:t},n)):V.isValidElement(t)?t.type===Xd?V.cloneElement(t,wi({key:"label-implicit"},n)):V.createElement(Xd,zu({key:"label-implicit",content:t},n)):GA(t)?V.createElement(Xd,zu({key:"label-implicit",content:t},n)):t&&typeof t=="object"?V.createElement(Xd,zu({},t,{key:"label-implicit"},n)):null};function ufe(t){var{label:e}=t,r=Az();return cfe(e,r)||null}var H5={},W5={},QI;function dfe(){return QI||(QI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(W5)),W5}var G5={},JI;function hfe(){return JI||(JI=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(G5)),G5}var eP;function ffe(){return eP||(eP=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dfe(),r=hfe(),n=US();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(H5)),H5}var Y5,tP;function mfe(){return tP||(tP=1,Y5=ffe().last),Y5}var pfe=mfe();const gfe=ru(pfe);var yfe=["valueAccessor"],xfe=["dataKey","clockWise","id","textBreakAll"];function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f1.apply(null,arguments)}function rP(t,e){if(t==null)return{};var r,n,i=vfe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function vfe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var bfe=t=>Array.isArray(t.value)?gfe(t.value):t.value,Tz=V.createContext(void 0),wfe=Tz.Provider,Cz=V.createContext(void 0);Cz.Provider;function _fe(){return V.useContext(Tz)}function Nfe(){return V.useContext(Cz)}function nv(t){var{valueAccessor:e=bfe}=t,r=rP(t,yfe),{dataKey:n,clockWise:i,id:a,textBreakAll:l}=r,c=rP(r,xfe),d=_fe(),h=Nfe(),f=d||h;return!f||!f.length?null:V.createElement(Pp,{className:"recharts-label-list"},f.map((p,x)=>{var g,w=_a(n)?e(p,x):zs(p&&p.payload,n),v=_a(a)?{}:{id:"".concat(a,"-").concat(x)};return V.createElement(Xd,f1({},Ya(p,!0),c,v,{fill:(g=r.fill)!==null&&g!==void 0?g:p.fill,parentViewBox:p.parentViewBox,value:w,textBreakAll:l,viewBox:p.viewBox,key:"label-".concat(x),index:x}))}))}nv.displayName="LabelList";function jfe(t){var{label:e}=t;return e?e===!0?V.createElement(nv,{key:"labelList-implicit"}):V.isValidElement(e)||GA(e)?V.createElement(nv,{key:"labelList-implicit",content:e}):typeof e=="object"?V.createElement(nv,f1({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function UN(){return UN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UN.apply(null,arguments)}var kz=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=Ln("recharts-dot",i);return e===+e&&r===+r&&n===+n?V.createElement("circle",UN({},Bf(t),zS(t),{className:a,cx:e,cy:r,r:n})):null},Sfe={radiusAxis:{},angleAxis:{}},Iz=Go({name:"polarAxis",initialState:Sfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:i1e,removeRadiusAxis:a1e,addAngleAxis:s1e,removeAngleAxis:o1e}=Iz.actions,Afe=Iz.reducer;function Efe(t){var{fn:e,args:r}=t,n=Fs(),i=El();return V.useEffect(()=>{if(!i){var a=e(r);return n(Pue(a)),()=>{n(Rue(a))}}},[e,r,n,i]),null}var Tfe=()=>{};function Cfe(t){var{legendPayload:e}=t,r=Fs(),n=El();return V.useEffect(()=>n?Tfe:(r(wae(e)),()=>{r(_ae(e))}),[r,n,e]),null}var K5,kfe=()=>{var[t]=V.useState(()=>j0("uid-"));return t},Ife=(K5=NB.useId)!==null&&K5!==void 0?K5:kfe;function Pfe(t,e){var r=Ife();return e||(t?"".concat(t,"-").concat(r):r)}var Rfe=V.createContext(void 0),Ofe=t=>{var{id:e,type:r,children:n}=t,i=Pfe("recharts-".concat(r),e);return V.createElement(Rfe.Provider,{value:i},n(i))},Dfe={cartesianItems:[],polarItems:[]},Pz=Go({name:"graphicalItems",initialState:Dfe,reducers:{addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:r,next:n}=e.payload,i=Gu(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},removeCartesianGraphicalItem(t,e){var r=Gu(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var r=Gu(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Lfe,replaceCartesianGraphicalItem:Mfe,removeCartesianGraphicalItem:zfe,addPolarGraphicalItem:l1e,removePolarGraphicalItem:c1e}=Pz.actions,Ffe=Pz.reducer;function Ufe(t){var e=Fs(),r=V.useRef(null);return V.useEffect(()=>{r.current===null?e(Lfe(t)):r.current!==t&&e(Mfe({prev:r.current,next:t})),r.current=t},[e,t]),V.useEffect(()=>()=>{r.current&&(e(zfe(r.current)),r.current=null)},[e]),null}function nP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(r),!0).forEach(function(n){Bfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bfe(t,e,r){return(e=Vfe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vfe(t){var e=qfe(t,"string");return typeof e=="symbol"?e:e+""}function qfe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $fe={xAxis:{},yAxis:{},zAxis:{}},Rz=Go({name:"cartesianAxis",initialState:$fe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload;t.yAxis[r]&&(t.yAxis[r]=iP(iP({},t.yAxis[r]),{},{width:n}))}}}),{addXAxis:Hfe,removeXAxis:Wfe,addYAxis:Gfe,removeYAxis:Yfe,addZAxis:u1e,removeZAxis:d1e,updateYAxisWidth:Kfe}=Rz.actions,Xfe=Rz.reducer,Zfe=rt([Ka],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),Qfe=rt([Zfe,ud,dd],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),YA=()=>rr(Qfe),Jfe=()=>rr(_de);function aP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sP(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aP(Object(r),!0).forEach(function(n){eme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eme(t,e,r){return(e=tme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tme(t){var e=rme(t,"string");return typeof e=="symbol"?e:e+""}function rme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nme=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l=sP(sP({index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},Ya(i,!1)),zS(i)),c;return V.isValidElement(i)?c=V.cloneElement(i,l):typeof i=="function"?c=i(l):c=V.createElement(kz,l),V.createElement(Pp,{className:"recharts-active-dot"},c)};function ime(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i}=t,a=rr(R0),l=Jfe();if(e==null||l==null)return null;var c=e.find(d=>l.includes(d.payload));return _a(c)?null:nme({point:c,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var ame={},Oz=Go({name:"errorBars",initialState:ame,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:h1e,replaceErrorBar:f1e,removeErrorBar:m1e}=Oz.actions,sme=Oz.reducer,ome=["children"];function lme(t,e){if(t==null)return{};var r,n,i=cme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ume={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dme=V.createContext(ume);function hme(t){var{children:e}=t,r=lme(t,ome);return V.createElement(dme.Provider,{value:r},e)}function Dz(t,e){var r,n,i=rr(h=>fd(h,t)),a=rr(h=>md(h,e)),l=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Ro.allowDataOverflow,c=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Oo.allowDataOverflow,d=l||c;return{needClip:d,needClipX:l,needClipY:c}}function fme(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=YA(),{needClipX:a,needClipY:l,needClip:c}=Dz(e,r);if(!c)return null;var{x:d,y:h,width:f,height:p}=i;return V.createElement("clipPath",{id:"clipPath-".concat(n)},V.createElement("rect",{x:a?d:d-f/2,y:l?h:h-p/2,width:a?f:f*2,height:l?p:p*2}))}var mme=t=>{var{chartData:e}=t,r=Fs(),n=El();return V.useEffect(()=>n?()=>{}:(r(II(e)),()=>{r(II(void 0))}),[e,r,n]),null},oP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Lz=Go({name:"brush",initialState:oP,reducers:{setBrushSettings(t,e){return e.payload==null?oP:e.payload}}}),{setBrushSettings:p1e}=Lz.actions,pme=Lz.reducer;function gme(t,e,r){return(e=yme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yme(t){var e=xme(t,"string");return typeof e=="symbol"?e:e+""}function xme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class KA{static create(e){return new KA(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}default:return this.scale(e)}if(r){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+l}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}gme(KA,"EPS",1e-4);function vme(t){return(t%180+180)%180}var bme=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=vme(i),l=a*Math.PI/180,c=Math.atan(n/r),d=l>c&&l<Math.PI-c?n/Math.sin(l):r/Math.cos(l);return Math.abs(d)},wme={dots:[],areas:[],lines:[]},Mz=Go({name:"referenceElements",initialState:wme,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Gu(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Gu(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Gu(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:g1e,removeDot:y1e,addArea:x1e,removeArea:v1e,addLine:b1e,removeLine:w1e}=Mz.actions,_me=Mz.reducer,Nme=V.createContext(void 0),jme=t=>{var{children:e}=t,[r]=V.useState("".concat(j0("recharts"),"-clip")),n=YA();if(n==null)return null;var{x:i,y:a,width:l,height:c}=n;return V.createElement(Nme.Provider,{value:r},V.createElement("defs",null,V.createElement("clipPath",{id:r},V.createElement("rect",{x:i,y:a,height:c,width:l}))),e)};function xp(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function zz(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Sme(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return bme(n,r)}function Ame(t,e,r){var n=r==="width",{x:i,y:a,width:l,height:c}=t;return e===1?{start:n?i:a,end:n?i+l:a+c}:{start:n?i+l:a+c,end:n?i:a}}function m1(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Eme(t,e){return zz(t,e+1)}function Tme(t,e,r,n,i){for(var a=(n||[]).slice(),{start:l,end:c}=e,d=0,h=1,f=l,p=function(){var w=n?.[d];if(w===void 0)return{v:zz(n,h)};var v=d,_,j=()=>(_===void 0&&(_=r(w,v)),_),E=w.coordinate,C=d===0||m1(t,E,j,f,c);C||(d=0,f=l,h+=1),C&&(f=E+t*(j()/2+i),d+=h)},x;h<=a.length;)if(x=p(),x)return x.v;return[]}function lP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ls(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lP(Object(r),!0).forEach(function(n){Cme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cme(t,e,r){return(e=kme(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kme(t){var e=Ime(t,"string");return typeof e=="symbol"?e:e+""}function Ime(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pme(t,e,r,n,i){for(var a=(n||[]).slice(),l=a.length,{start:c}=e,{end:d}=e,h=function(x){var g=a[x],w,v=()=>(w===void 0&&(w=r(g,x)),w);if(x===l-1){var _=t*(g.coordinate+t*v()/2-d);a[x]=g=ls(ls({},g),{},{tickCoord:_>0?g.coordinate-_*t:g.coordinate})}else a[x]=g=ls(ls({},g),{},{tickCoord:g.coordinate});var j=m1(t,g.tickCoord,v,c,d);j&&(d=g.tickCoord-t*(v()/2+i),a[x]=ls(ls({},g),{},{isShow:!0}))},f=l-1;f>=0;f--)h(f);return a}function Rme(t,e,r,n,i,a){var l=(n||[]).slice(),c=l.length,{start:d,end:h}=e;if(a){var f=n[c-1],p=r(f,c-1),x=t*(f.coordinate+t*p/2-h);l[c-1]=f=ls(ls({},f),{},{tickCoord:x>0?f.coordinate-x*t:f.coordinate});var g=m1(t,f.tickCoord,()=>p,d,h);g&&(h=f.tickCoord-t*(p/2+i),l[c-1]=ls(ls({},f),{},{isShow:!0}))}for(var w=a?c-1:c,v=function(E){var C=l[E],z,P=()=>(z===void 0&&(z=r(C,E)),z);if(E===0){var X=t*(C.coordinate-t*P()/2-d);l[E]=C=ls(ls({},C),{},{tickCoord:X<0?C.coordinate-X*t:C.coordinate})}else l[E]=C=ls(ls({},C),{},{tickCoord:C.coordinate});var U=m1(t,C.tickCoord,P,d,h);U&&(d=C.tickCoord+t*(P()/2+i),l[E]=ls(ls({},C),{},{isShow:!0}))},_=0;_<w;_++)v(_);return l}function XA(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:l,orientation:c,interval:d,tickFormatter:h,unit:f,angle:p}=t;if(!i||!i.length||!n)return[];if(cr(d)||Rp.isSsr){var x;return(x=Eme(i,cr(d)?d:0))!==null&&x!==void 0?x:[]}var g=[],w=c==="top"||c==="bottom"?"width":"height",v=f&&w==="width"?s0(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},_=(C,z)=>{var P=typeof h=="function"?h(C.value,z):C.value;return w==="width"?Sme(s0(P,{fontSize:e,letterSpacing:r}),v,p):s0(P,{fontSize:e,letterSpacing:r})[w]},j=i.length>=2?gl(i[1].coordinate-i[0].coordinate):1,E=Ame(a,j,w);return d==="equidistantPreserveStart"?Tme(j,E,_,i,l):(d==="preserveStart"||d==="preserveStartEnd"?g=Rme(j,E,_,i,l,d==="preserveStartEnd"):g=Pme(j,E,_,i,l),g.filter(C=>C.isShow))}var Ome=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,l=0;if(e){e.forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>l&&(l=p.width)}});var c=r?r.getBoundingClientRect().width:0,d=i+a,h=l+d+c+(r?n:0);return Math.round(h)}return 0},Dme=["axisLine","width","height","className","hide","ticks"],Lme=["viewBox"],Mme=["viewBox"];function BN(t,e){if(t==null)return{};var r,n,i=zme(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function zme(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function If(){return If=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},If.apply(null,arguments)}function cP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cP(Object(r),!0).forEach(function(n){Fme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fme(t,e,r){return(e=Ume(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ume(t){var e=Bme(t,"string");return typeof e=="symbol"?e:e+""}function Bme(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZA={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Vme(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:l,axisLine:c,otherSvgProps:d}=t;if(!c)return null;var h=Qi(Qi(Qi({},d),Ya(c,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!l||a==="bottom"&&l);h=Qi(Qi({},h),{},{x1:e,y1:r+f*i,x2:e+n,y2:r+f*i})}else{var p=+(a==="left"&&!l||a==="right"&&l);h=Qi(Qi({},h),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+i})}return V.createElement("line",If({},h,{className:Ln("recharts-cartesian-axis-line",ab(c,"className"))}))}function qme(t,e,r,n,i,a,l,c,d){var h,f,p,x,g,w,v=c?-1:1,_=t.tickSize||l,j=cr(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":h=f=t.coordinate,x=r+ +!c*i,p=x-v*_,w=p-v*d,g=j;break;case"left":p=x=t.coordinate,f=e+ +!c*n,h=f-v*_,g=h-v*d,w=j;break;case"right":p=x=t.coordinate,f=e+ +c*n,h=f+v*_,g=h+v*d,w=j;break;default:h=f=t.coordinate,x=r+ +c*i,p=x+v*_,w=p+v*d,g=j;break}return{line:{x1:h,y1:p,x2:f,y2:x},tick:{x:g,y:w}}}function $me(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Hme(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Wme(t){var{option:e,tickProps:r,value:n}=t,i,a=Ln(r.className,"recharts-cartesian-axis-tick-value");if(V.isValidElement(e))i=V.cloneElement(e,Qi(Qi({},r),{},{className:a}));else if(typeof e=="function")i=e(Qi(Qi({},r),{},{className:a}));else{var l="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(l=Ln(l,e?.className)),i=V.createElement(WA,If({},r,{className:l}),n)}return i}function Gme(t){var{ticks:e=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:l,padding:c,tickTextProps:d,orientation:h,mirror:f,x:p,y:x,width:g,height:w,tickSize:v,tickMargin:_,fontSize:j,letterSpacing:E,getTicksConfig:C,events:z}=t,P=XA(Qi(Qi({},C),{},{ticks:e}),j,E),X=$me(h,f),U=Hme(h,f),M=Bf(C),D=Ya(r,!1),G=Qi(Qi({},M),{},{fill:"none"},Ya(n,!1)),L=P.map((I,B)=>{var{line:k,tick:re}=qme(I,p,x,g,w,h,v,f,_),Y=Qi(Qi(Qi(Qi({textAnchor:X,verticalAnchor:U},M),{},{stroke:"none",fill:i},D),re),{},{index:B,payload:I,visibleTicksCount:P.length,tickFormatter:a,padding:c},d);return V.createElement(Pp,If({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},hre(z,I,B)),n&&V.createElement("line",If({},G,k,{className:Ln("recharts-cartesian-axis-tick-line",ab(n,"className"))})),r&&V.createElement(Wme,{option:r,tickProps:Y,value:"".concat(typeof a=="function"?a(I.value,B):I.value).concat(l||"")}))});return L.length>0?V.createElement("g",{className:"recharts-cartesian-axis-ticks"},L):null}var Yme=V.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:l,ticks:c}=t,d=BN(t,Dme),[h,f]=V.useState(""),[p,x]=V.useState(""),g=V.useRef([]);V.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var v;return Ome({ticks:g.current,label:(v=t.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=V.useCallback(v=>{if(v){var _=v.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=Array.from(_);var j=_[0];if(j){var E=window.getComputedStyle(j),C=E.fontSize,z=E.letterSpacing;(C!==h||z!==p)&&(f(C),x(z))}}},[h,p]);return l||n!=null&&n<=0||i!=null&&i<=0?null:V.createElement(Pp,{className:Ln("recharts-cartesian-axis",a),ref:w},V.createElement(Vme,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Bf(t)}),V.createElement(Gme,{ticks:c,tick:t.tick,tickLine:t.tickLine,stroke:t.stroke,tickFormatter:t.tickFormatter,unit:t.unit,padding:t.padding,tickTextProps:t.tickTextProps,orientation:t.orientation,mirror:t.mirror,x:t.x,y:t.y,width:t.width,height:t.height,tickSize:t.tickSize,tickMargin:t.tickMargin,fontSize:h,letterSpacing:p,getTicksConfig:t,events:d}),V.createElement(efe,{x:t.x,y:t.y,width:t.width,height:t.height},V.createElement(ufe,{label:t.label}),t.children))}),Kme=V.memo(Yme,(t,e)=>{var{viewBox:r}=t,n=BN(t,Lme),{viewBox:i}=e,a=BN(e,Mme);return xp(r,i)&&xp(n,a)}),QA=V.forwardRef((t,e)=>{var r=Tl(t,ZA);return V.createElement(Kme,If({},r,{ref:e}))});QA.displayName="CartesianAxis";var Xme=["x1","y1","x2","y2","key"],Zme=["offset"],Qme=["xAxisId","yAxisId"],Jme=["xAxisId","yAxisId"];function uP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uP(Object(r),!0).forEach(function(n){epe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function epe(t,e,r){return(e=tpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tpe(t){var e=rpe(t,"string");return typeof e=="symbol"?e:e+""}function rpe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cf(){return cf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cf.apply(null,arguments)}function p1(t,e){if(t==null)return{};var r,n,i=npe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function npe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ipe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:l,ry:c}=t;return V.createElement("rect",{x:n,y:i,ry:c,width:a,height:l,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Fz(t,e){var r;if(V.isValidElement(t))r=V.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var{x1:n,y1:i,x2:a,y2:l,key:c}=e,d=p1(e,Xme),h=Bf(d),{offset:f}=h,p=p1(h,Zme);r=V.createElement("line",cf({},p,{x1:n,y1:i,x2:a,y2:l,fill:"none",key:c}))}return r}function ape(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,c=p1(t,Qme),d=i.map((h,f)=>{var p=ds(ds({},c),{},{x1:e,y1:h,x2:e+r,y2:h,key:"line-".concat(f),index:f});return Fz(n,p)});return V.createElement("g",{className:"recharts-cartesian-grid-horizontal"},d)}function spe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:l}=t,c=p1(t,Jme),d=i.map((h,f)=>{var p=ds(ds({},c),{},{x1:h,y1:e,x2:h,y2:e+r,key:"line-".concat(f),index:f});return Fz(n,p)});return V.createElement("g",{className:"recharts-cartesian-grid-vertical"},d)}function ope(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:l,horizontalPoints:c,horizontal:d=!0}=t;if(!d||!e||!e.length)return null;var h=c.map(p=>Math.round(p+i-i)).sort((p,x)=>p-x);i!==h[0]&&h.unshift(0);var f=h.map((p,x)=>{var g=!h[x+1],w=g?i+l-p:h[x+1]-p;if(w<=0)return null;var v=x%e.length;return V.createElement("rect",{key:"react-".concat(x),y:p,x:n,height:w,width:a,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function lpe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:l,height:c,verticalPoints:d}=t;if(!e||!r||!r.length)return null;var h=d.map(p=>Math.round(p+i-i)).sort((p,x)=>p-x);i!==h[0]&&h.unshift(0);var f=h.map((p,x)=>{var g=!h[x+1],w=g?i+l-p:h[x+1]-p;if(w<=0)return null;var v=x%r.length;return V.createElement("rect",{key:"react-".concat(x),x:p,y:a,width:w,height:c,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return V.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var cpe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return qM(XA(ds(ds(ds({},ZA),r),{},{ticks:$M(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},upe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return qM(XA(ds(ds(ds({},ZA),r),{},{ticks:$M(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},dpe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Uz(t){var e=KM(),r=XM(),n=YM(),i=ds(ds({},Tl(t,dpe)),{},{x:cr(t.x)?t.x:n.left,y:cr(t.y)?t.y:n.top,width:cr(t.width)?t.width:n.width,height:cr(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:l,x:c,y:d,width:h,height:f,syncWithTicks:p,horizontalValues:x,verticalValues:g}=i,w=El(),v=rr(D=>_I(D,"xAxis",a,w)),_=rr(D=>_I(D,"yAxis",l,w));if(!cr(h)||h<=0||!cr(f)||f<=0||!cr(c)||c!==+c||!cr(d)||d!==+d)return null;var j=i.verticalCoordinatesGenerator||cpe,E=i.horizontalCoordinatesGenerator||upe,{horizontalPoints:C,verticalPoints:z}=i;if((!C||!C.length)&&typeof E=="function"){var P=x&&x.length,X=E({yAxis:_?ds(ds({},_),{},{ticks:P?x:_.ticks}):void 0,width:e,height:r,offset:n},P?!0:p);a0(Array.isArray(X),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof X,"]")),Array.isArray(X)&&(C=X)}if((!z||!z.length)&&typeof j=="function"){var U=g&&g.length,M=j({xAxis:v?ds(ds({},v),{},{ticks:U?g:v.ticks}):void 0,width:e,height:r,offset:n},U?!0:p);a0(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(z=M)}return V.createElement("g",{className:"recharts-cartesian-grid"},V.createElement(ipe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),V.createElement(ope,cf({},i,{horizontalPoints:C})),V.createElement(lpe,cf({},i,{verticalPoints:z})),V.createElement(ape,cf({},i,{offset:n,horizontalPoints:C,xAxis:v,yAxis:_})),V.createElement(spe,cf({},i,{offset:n,verticalPoints:z,xAxis:v,yAxis:_})))}Uz.displayName="CartesianGrid";var Bz=(t,e,r,n)=>G9(t,"xAxis",e,n),Vz=(t,e,r,n)=>W9(t,"xAxis",e,n),qz=(t,e,r,n)=>G9(t,"yAxis",r,n),$z=(t,e,r,n)=>W9(t,"yAxis",r,n),hpe=rt([Mn,Bz,qz,Vz,$z],(t,e,r,n,i)=>Sh(t,"xAxis")?xN(e,n,!1):xN(r,i,!1)),fpe=(t,e,r,n,i)=>i;function mpe(t){return t.type==="line"}var ppe=rt([p9,fpe],(t,e)=>t.filter(mpe).find(r=>r.id===e)),gpe=rt([Mn,Bz,qz,Vz,$z,ppe,hpe,vA],(t,e,r,n,i,a,l,c)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=c;if(!(a==null||e==null||r==null||n==null||i==null||n.length===0||i.length===0||l==null)){var{dataKey:p,data:x}=a,g;if(x!=null&&x.length>0?g=x:g=d?.slice(h,f+1),g!=null)return zpe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:p,bandSize:l,displayedData:g})}}),ype=["id"],xpe=["type","layout","connectNulls","needClip"],vpe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function dP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dP(Object(r),!0).forEach(function(n){bpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bpe(t,e,r){return(e=wpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wpe(t){var e=_pe(t,"string");return typeof e=="symbol"?e:e+""}function _pe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JA(t,e){if(t==null)return{};var r,n,i=Npe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Npe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pf.apply(null,arguments)}var jpe=t=>{var{dataKey:e,name:r,stroke:n,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:n,value:HM(r,e),payload:t}]};function Spe(t){var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:l,hide:c,unit:d}=t;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:HM(l,e),hide:c,type:t.tooltipType,color:t.stroke,unit:d}}}var Hz=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Ape(t,e){for(var r=t.length%2!==0?[...t,0]:t,n=[],i=0;i<e;++i)n=[...n,...r];return n}var Epe=(t,e,r)=>{var n=r.reduce((p,x)=>p+x);if(!n)return Hz(e,t);for(var i=Math.floor(t/n),a=t%n,l=e-t,c=[],d=0,h=0;d<r.length;h+=r[d],++d)if(h+r[d]>a){c=[...r.slice(0,d),a-h];break}var f=c.length%2===0?[0,l]:[l];return[...Ape(r,i),...c,...f].map(p=>"".concat(p,"px")).join(", ")};function Tpe(t,e){var r;if(V.isValidElement(t))r=V.cloneElement(t,e);else if(typeof t=="function")r=t(e);else{var n=Ln("recharts-line-dot",typeof t!="boolean"?t.className:"");r=V.createElement(kz,Pf({},e,{className:n}))}return r}function Cpe(t,e){return t==null?!1:e?!0:t.length===1}function kpe(t){var{clipPathId:e,points:r,props:n}=t,{dot:i,dataKey:a,needClip:l}=n;if(!Cpe(r,i))return null;var{id:c}=n,d=JA(n,ype),h=$L(i),f=Bf(d),p=Ya(i,!0),x=r.map((w,v)=>{var _=Lo(Lo(Lo({key:"dot-".concat(v),r:3},f),p),{},{index:v,cx:w.x,cy:w.y,dataKey:a,value:w.value,payload:w.payload,points:r});return Tpe(i,_)}),g={clipPath:l?"url(#clipPath-".concat(h?"":"dots-").concat(e,")"):void 0};return V.createElement(Pp,Pf({className:"recharts-line-dots",key:"dots"},g),x)}function Ipe(t){var{showLabels:e,children:r,points:n}=t,i=V.useMemo(()=>n?.map(a=>{var l={x:a.x,y:a.y,width:0,height:0};return Lo(Lo({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return V.createElement(wfe,{value:e?i:null},r)}function hP(t){var{clipPathId:e,pathRef:r,points:n,strokeDasharray:i,props:a}=t,{type:l,layout:c,connectNulls:d,needClip:h}=a,f=JA(a,xpe),p=Lo(Lo({},Ya(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(e,")"):void 0,points:n,type:l,layout:c,connectNulls:d,strokeDasharray:i??a.strokeDasharray});return V.createElement(V.Fragment,null,n?.length>1&&V.createElement(JM,Pf({},p,{pathRef:r})),V.createElement(kpe,{points:n,clipPathId:e,props:a}))}function Ppe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Rpe(t){var{clipPathId:e,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:l,strokeDasharray:c,isAnimationActive:d,animationBegin:h,animationDuration:f,animationEasing:p,animateNewValues:x,width:g,height:w,onAnimationEnd:v,onAnimationStart:_}=r,j=i.current,E=i7(r,"recharts-line-"),[C,z]=V.useState(!1),P=!C,X=V.useCallback(()=>{typeof v=="function"&&v(),z(!1)},[v]),U=V.useCallback(()=>{typeof _=="function"&&_(),z(!0)},[_]),M=Ppe(n.current),D=a.current;return V.createElement(Ipe,{points:l,showLabels:P},r.children,V.createElement(n7,{animationId:E,begin:h,duration:f,isActive:d,easing:p,onAnimationEnd:X,onAnimationStart:U,key:E},G=>{var L=Lu(D,M+D,G),I=Math.min(L,M),B;if(d)if(c){var k="".concat(c).split(/[,\s]+/gim).map(Q=>parseFloat(Q));B=Epe(I,M,k)}else B=Hz(M,I);else B=c==null?void 0:String(c);if(j){var re=j.length/l.length,Y=G===1?l:l.map((Q,se)=>{var oe=Math.floor(se*re);if(j[oe]){var pe=j[oe];return Lo(Lo({},Q),{},{x:Lu(pe.x,Q.x,G),y:Lu(pe.y,Q.y,G)})}return x?Lo(Lo({},Q),{},{x:Lu(g*2,Q.x,G),y:Lu(w/2,Q.y,G)}):Lo(Lo({},Q),{},{x:Q.x,y:Q.y})});return i.current=Y,V.createElement(hP,{props:r,points:Y,clipPathId:e,pathRef:n,strokeDasharray:B})}return G>0&&M>0&&(i.current=l,a.current=I),V.createElement(hP,{props:r,points:l,clipPathId:e,pathRef:n,strokeDasharray:B})}),V.createElement(jfe,{label:r.label}))}function Ope(t){var{clipPathId:e,props:r}=t,n=V.useRef(null),i=V.useRef(0),a=V.useRef(null);return V.createElement(Rpe,{props:r,clipPathId:e,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var Dpe=(t,e)=>({x:t.x,y:t.y,value:t.value,errorVal:zs(t.payload,e)});class Lpe extends V.Component{render(){var e,{hide:r,dot:n,points:i,className:a,xAxisId:l,yAxisId:c,top:d,left:h,width:f,height:p,id:x,needClip:g}=this.props;if(r)return null;var w=Ln("recharts-line",a),v=x,{r:_=3,strokeWidth:j=2}=(e=Ya(n,!1))!==null&&e!==void 0?e:{r:3,strokeWidth:2},E=$L(n),C=_*2+j;return V.createElement(V.Fragment,null,V.createElement(Pp,{className:w},g&&V.createElement("defs",null,V.createElement(fme,{clipPathId:v,xAxisId:l,yAxisId:c}),!E&&V.createElement("clipPath",{id:"clipPath-dots-".concat(v)},V.createElement("rect",{x:h-C/2,y:d-C/2,width:f+C,height:p+C}))),V.createElement(hme,{xAxisId:l,yAxisId:c,data:i,dataPointFormatter:Dpe,errorBarOffset:0},V.createElement(Ope,{props:this.props,clipPathId:v}))),V.createElement(ime,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Wz={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Rp.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Mpe(t){var e=Tl(t,Wz),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:l,connectNulls:c,dot:d,hide:h,isAnimationActive:f,label:p,legendType:x,xAxisId:g,yAxisId:w,id:v}=e,_=JA(e,vpe),{needClip:j}=Dz(g,w),E=YA(),C=KS(),z=El(),P=rr(G=>gpe(G,g,w,z,v));if(C!=="horizontal"&&C!=="vertical"||P==null||E==null)return null;var{height:X,width:U,x:M,y:D}=E;return V.createElement(Lpe,Pf({},_,{id:v,connectNulls:c,dot:d,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:l,isAnimationActive:f,hide:h,label:p,legendType:x,xAxisId:g,yAxisId:w,points:P,layout:C,height:X,width:U,left:M,top:D,needClip:j}))}function zpe(t){var{layout:e,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:l,bandSize:c,displayedData:d}=t;return d.map((h,f)=>{var p=zs(h,l);if(e==="horizontal"){var x=ok({axis:r,ticks:i,bandSize:c,entry:h,index:f}),g=_a(p)?null:n.scale(p);return{x,y:g,value:p,payload:h}}var w=_a(p)?null:r.scale(p),v=ok({axis:n,ticks:a,bandSize:c,entry:h,index:f});return w==null||v==null?null:{x:w,y:v,value:p,payload:h}}).filter(Boolean)}function Fpe(t){var e=Tl(t,Wz),r=El();return V.createElement(Ofe,{id:e.id,type:"line"},n=>V.createElement(V.Fragment,null,V.createElement(Cfe,{legendPayload:jpe(e)}),V.createElement(Efe,{fn:Spe,args:e}),V.createElement(Ufe,{type:"line",id:n,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:r}),V.createElement(Mpe,Pf({},e,{id:n}))))}var Gz=V.memo(Fpe);Gz.displayName="Line";var Upe=["dangerouslySetInnerHTML","ticks"],Bpe=["id"],Vpe=["domain"],qpe=["domain"];function VN(){return VN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VN.apply(null,arguments)}function g1(t,e){if(t==null)return{};var r,n,i=$pe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function $pe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Hpe(t){var e=Fs();return V.useEffect(()=>(e(Hfe(t)),()=>{e(Wfe(t))}),[t,e]),null}var Wpe=t=>{var{xAxisId:e,className:r}=t,n=rr(GM),i=El(),a="xAxis",l=rr(_=>Fp(_,a,e,i)),c=rr(_=>H9(_,a,e,i)),d=rr(_=>pue(_,e)),h=rr(_=>wue(_,e)),f=rr(_=>d9(_,e));if(d==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:x}=t,g=g1(t,Upe),{id:w}=f,v=g1(f,Bpe);return V.createElement(QA,VN({},g,v,{scale:l,x:h.x,y:h.y,width:d.width,height:d.height,className:Ln("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:c}))},Gpe={allowDataOverflow:Ro.allowDataOverflow,allowDecimals:Ro.allowDecimals,allowDuplicatedCategory:Ro.allowDuplicatedCategory,height:Ro.height,hide:!1,mirror:Ro.mirror,orientation:Ro.orientation,padding:Ro.padding,reversed:Ro.reversed,scale:Ro.scale,tickCount:Ro.tickCount,type:Ro.type,xAxisId:0},Ype=t=>{var e,r,n,i,a,l=Tl(t,Gpe);return V.createElement(V.Fragment,null,V.createElement(Hpe,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.xAxisId,scale:l.scale,type:l.type,padding:l.padding,allowDataOverflow:l.allowDataOverflow,domain:l.domain,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,height:l.height,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),V.createElement(Wpe,l))},Kpe=(t,e)=>{var{domain:r}=t,n=g1(t,Vpe),{domain:i}=e,a=g1(e,qpe);return xp(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:xp({domain:r},{domain:i}):!1},Yz=V.memo(Ype,Kpe);Yz.displayName="XAxis";var Xpe=["dangerouslySetInnerHTML","ticks"],Zpe=["id"],Qpe=["domain"],Jpe=["domain"];function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qN.apply(null,arguments)}function y1(t,e){if(t==null)return{};var r,n,i=ege(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ege(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function tge(t){var e=Fs();return V.useEffect(()=>(e(Gfe(t)),()=>{e(Yfe(t))}),[t,e]),null}var rge=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,a=V.useRef(null),l=V.useRef(null),c=rr(GM),d=El(),h=Fs(),f="yAxis",p=rr(P=>Fp(P,f,e,d)),x=rr(P=>jue(P,e)),g=rr(P=>Nue(P,e)),w=rr(P=>H9(P,f,e,d)),v=rr(P=>h9(P,e));if(V.useLayoutEffect(()=>{if(!(n!=="auto"||!x||GA(i)||V.isValidElement(i)||v==null)){var P=a.current;if(P){var X=P.getCalculatedWidth();Math.round(x.width)!==Math.round(X)&&h(Kfe({id:e,width:X}))}}},[w,x,h,i,e,n,v]),x==null||g==null||v==null)return null;var{dangerouslySetInnerHTML:_,ticks:j}=t,E=y1(t,Xpe),{id:C}=v,z=y1(v,Zpe);return V.createElement(QA,qN({},E,z,{ref:a,labelRef:l,scale:p,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:x.width,height:x.height,className:Ln("recharts-".concat(f," ").concat(f),r),viewBox:c,ticks:w}))},nge={allowDataOverflow:Oo.allowDataOverflow,allowDecimals:Oo.allowDecimals,allowDuplicatedCategory:Oo.allowDuplicatedCategory,hide:!1,mirror:Oo.mirror,orientation:Oo.orientation,padding:Oo.padding,reversed:Oo.reversed,scale:Oo.scale,tickCount:Oo.tickCount,type:Oo.type,width:Oo.width,yAxisId:0},ige=t=>{var e,r,n,i,a,l=Tl(t,nge);return V.createElement(V.Fragment,null,V.createElement(tge,{interval:(e=l.interval)!==null&&e!==void 0?e:"preserveEnd",id:l.yAxisId,scale:l.scale,type:l.type,domain:l.domain,allowDataOverflow:l.allowDataOverflow,dataKey:l.dataKey,allowDuplicatedCategory:l.allowDuplicatedCategory,allowDecimals:l.allowDecimals,tickCount:l.tickCount,padding:l.padding,includeHidden:(r=l.includeHidden)!==null&&r!==void 0?r:!1,reversed:l.reversed,ticks:l.ticks,width:l.width,orientation:l.orientation,mirror:l.mirror,hide:l.hide,unit:l.unit,name:l.name,angle:(n=l.angle)!==null&&n!==void 0?n:0,minTickGap:(i=l.minTickGap)!==null&&i!==void 0?i:5,tick:(a=l.tick)!==null&&a!==void 0?a:!0,tickFormatter:l.tickFormatter}),V.createElement(rge,l))},age=(t,e)=>{var{domain:r}=t,n=y1(t,Qpe),{domain:i}=e,a=y1(e,Jpe);return xp(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:xp({domain:r},{domain:i}):!1},Kz=V.memo(ige,age);Kz.displayName="YAxis";var X5={exports:{}},Z5={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fP;function sge(){if(fP)return Z5;fP=1;var t=vp();function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Z5.useSyncExternalStoreWithSelector=function(d,h,f,p,x){var g=i(null);if(g.current===null){var w={hasValue:!1,value:null};g.current=w}else w=g.current;g=l(function(){function _(P){if(!j){if(j=!0,E=P,P=p(P),x!==void 0&&w.hasValue){var X=w.value;if(x(X,P))return C=X}return C=P}if(X=C,r(E,P))return X;var U=p(P);return x!==void 0&&x(X,U)?(E=P,X):(E=P,C=U)}var j=!1,E,C,z=f===void 0?null:f;return[function(){return _(h())},z===null?void 0:function(){return _(z())}]},[h,f,p,x]);var v=n(d,g[0],g[1]);return a(function(){w.hasValue=!0,w.value=v},[v]),c(v),v},Z5}var mP;function oge(){return mP||(mP=1,X5.exports=sge()),X5.exports}oge();function lge(t){t()}function cge(){let t=null,e=null;return{clear(){t=null,e=null},notify(){lge(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var pP={notify(){},get:()=>[]};function uge(t,e){let r,n=pP,i=0,a=!1;function l(v){f();const _=n.subscribe(v);let j=!1;return()=>{j||(j=!0,_(),p())}}function c(){n.notify()}function d(){w.onStateChange&&w.onStateChange()}function h(){return a}function f(){i++,r||(r=t.subscribe(d),n=cge())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=pP)}function x(){a||(a=!0,f())}function g(){a&&(a=!1,p())}const w={addNestedSub:l,notifyNestedSubs:c,handleChangeWrapper:d,isSubscribed:h,trySubscribe:x,tryUnsubscribe:g,getListeners:()=>n};return w}var dge=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hge=dge(),fge=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mge=fge(),pge=()=>hge||mge?V.useLayoutEffect:V.useEffect,gge=pge(),yge=Symbol.for("react-redux-context"),xge=typeof globalThis<"u"?globalThis:{};function vge(){if(!V.createContext)return{};const t=xge[yge]??=new Map;let e=t.get(V.createContext);return e||(e=V.createContext(null),t.set(V.createContext,e)),e}var bge=vge();function wge(t){const{children:e,context:r,serverState:n,store:i}=t,a=V.useMemo(()=>{const d=uge(i);return{store:i,subscription:d,getServerState:n?()=>n:void 0}},[i,n]),l=V.useMemo(()=>i.getState(),[i]);gge(()=>{const{subscription:d}=a;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==i.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[a,l]);const c=r||bge;return V.createElement(c.Provider,{value:a},e)}var _ge=wge,Nge=(t,e)=>e,e4=rt([Nge,Mn,o9,ra,oz,pd,Cde,Ka],Ode),t4=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},Xz=jl("mouseClick"),Zz=ry();Zz.startListening({actionCreator:Xz,effect:(t,e)=>{var r=t.payload,n=e4(e.getState(),t4(r));n?.activeIndex!=null&&e.dispatch(Lue({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var $N=jl("mouseMove"),Qz=ry();Qz.startListening({actionCreator:$N,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=MA(n,n.tooltip.settings.shared),a=e4(n,t4(r));i==="axis"&&(a?.activeIndex!=null?e.dispatch(ez({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(J9()))}});var gP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Jz=Go({name:"rootProps",initialState:gP,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:gP.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),jge=Jz.reducer,{updateOptions:Sge}=Jz.actions,eF=Go({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:_1e}=eF.actions,Age=eF.reducer,tF=jl("keyDown"),rF=jl("focus"),r4=ry();r4.startListening({actionCreator:tF,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var l=Number(zA(i,Bp(r))),c=pd(r);if(a==="Enter"){var d=h1(r,"axis","hover",String(i.index));e.dispatch(LN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=Tue(r),f=h==="left-to-right"?1:-1,p=a==="ArrowRight"?1:-1,x=l+p*f;if(!(c==null||x>=c.length||x<0)){var g=h1(r,"axis","hover",String(x));e.dispatch(LN({active:!0,activeIndex:x.toString(),activeDataKey:void 0,activeCoordinate:g}))}}}}});r4.startListening({actionCreator:rF,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",l=h1(r,"axis","hover",String(a));e.dispatch(LN({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:l}))}}}});var hl=jl("externalEvent"),nF=ry();nF.startListening({actionCreator:hl,effect:(t,e)=>{if(t.payload.handler!=null){var r=e.getState(),n={activeCoordinate:vde(r),activeDataKey:yde(r),activeIndex:R0(r),activeLabel:uz(r),activeTooltipIndex:R0(r),isTooltipActive:bde(r)};t.payload.handler(n,t.payload.reactEvent)}}});var Ege=rt([Up],t=>t.tooltipItemPayloads),Tge=rt([Ege,hy,(t,e,r)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(c=>c.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var l=e(a,r);return l}}}),iF=jl("touchMove"),aF=ry();aF.startListening({actionCreator:iF,effect:(t,e)=>{var r=t.payload,n=e.getState(),i=MA(n,n.tooltip.settings.shared);if(i==="axis"){var a=e4(n,t4({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));a?.activeIndex!=null&&e.dispatch(ez({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=r.touches[0],d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var h=d.getAttribute(oae),f=(l=d.getAttribute(lae))!==null&&l!==void 0?l:void 0,p=Tge(e.getState(),h,f);e.dispatch(Due({activeDataKey:f,activeIndex:h,activeCoordinate:p}))}}});var Cge=vM({brush:pme,cartesianAxis:Xfe,chartData:Zde,errorBars:sme,graphicalItems:Ffe,layout:Rie,legend:Nae,options:Wde,polarAxis:Afe,polarOptions:Age,referenceElements:_me,rootProps:jge,tooltip:Mue}),kge=function(e){return iie({reducer:Cge,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([Zz.middleware,Qz.middleware,r4.middleware,nF.middleware,aF.middleware]),devTools:Rp.devToolsEnabled})};function Ige(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=El(),a=V.useRef(null);if(i)return r;a.current==null&&(a.current=kge(e));var l=VS;return V.createElement(_ge,{context:l,store:a.current},r)}function Pge(t){var{layout:e,width:r,height:n,margin:i}=t,a=Fs(),l=El();return V.useEffect(()=>{l||(a(kie(e)),a(Iie({width:r,height:n})),a(Cie(i)))},[a,l,e,r,n,i]),null}function Rge(t){var e=Fs();return V.useEffect(()=>{e(Sge(t))},[e,t]),null}var Oge=["children"];function Dge(t,e){if(t==null)return{};var r,n,i=Lge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Lge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function x1(){return x1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x1.apply(null,arguments)}var Mge={width:"100%",height:"100%"},zge=V.forwardRef((t,e)=>{var r=KM(),n=XM(),i=QM();if(!Xv(r)||!Xv(n))return null;var{children:a,otherAttributes:l,title:c,desc:d}=t,h,f;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?f=l.role:f=i?"application":void 0,V.createElement(HL,x1({},l,{title:c,desc:d,role:f,tabIndex:h,width:r,height:n,style:Mge,ref:e}),a)}),Fge=t=>{var{children:e}=t,r=rr(yb);if(!r)return null;var{width:n,height:i,y:a,x:l}=r;return V.createElement(HL,{width:n,height:i,x:l,y:a},e)},yP=V.forwardRef((t,e)=>{var{children:r}=t,n=Dge(t,Oge),i=El();return i?V.createElement(Fge,null,r):V.createElement(zge,x1({ref:e},n),r)});function Uge(){var t=Fs(),[e,r]=V.useState(null),n=rr(sae);return V.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;lc(a)&&a!==n&&t(Pie(a))}},[e,t,n]),r}function xP(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bge(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xP(Object(r),!0).forEach(function(n){Vge(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vge(t,e,r){return(e=qge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qge(t){var e=$ge(t,"string");return typeof e=="symbol"?e:e+""}function $ge(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hge=V.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:l,onDoubleClick:c,onMouseDown:d,onMouseEnter:h,onMouseLeave:f,onMouseMove:p,onMouseUp:x,onTouchEnd:g,onTouchMove:w,onTouchStart:v,style:_,width:j}=t,E=Fs(),[C,z]=V.useState(null),[P,X]=V.useState(null);she();var U=Uge(),M=V.useCallback(R=>{U(R),typeof e=="function"&&e(R),z(R),X(R)},[U,e,z,X]),D=V.useCallback(R=>{E(Xz(R)),E(hl({handler:a,reactEvent:R}))},[E,a]),G=V.useCallback(R=>{E($N(R)),E(hl({handler:h,reactEvent:R}))},[E,h]),L=V.useCallback(R=>{E(J9()),E(hl({handler:f,reactEvent:R}))},[E,f]),I=V.useCallback(R=>{E($N(R)),E(hl({handler:p,reactEvent:R}))},[E,p]),B=V.useCallback(()=>{E(rF())},[E]),k=V.useCallback(R=>{E(tF(R.key))},[E]),re=V.useCallback(R=>{E(hl({handler:l,reactEvent:R}))},[E,l]),Y=V.useCallback(R=>{E(hl({handler:c,reactEvent:R}))},[E,c]),Q=V.useCallback(R=>{E(hl({handler:d,reactEvent:R}))},[E,d]),se=V.useCallback(R=>{E(hl({handler:x,reactEvent:R}))},[E,x]),oe=V.useCallback(R=>{E(hl({handler:v,reactEvent:R}))},[E,v]),pe=V.useCallback(R=>{E(iF(R)),E(hl({handler:w,reactEvent:R}))},[E,w]),H=V.useCallback(R=>{E(hl({handler:g,reactEvent:R}))},[E,g]);return V.createElement(gz.Provider,{value:C},V.createElement(wre.Provider,{value:P},V.createElement("div",{className:Ln("recharts-wrapper",n),style:Bge({position:"relative",cursor:"default",width:j,height:i},_),onClick:D,onContextMenu:re,onDoubleClick:Y,onFocus:B,onKeyDown:k,onMouseDown:Q,onMouseEnter:G,onMouseLeave:L,onMouseMove:I,onMouseUp:se,onTouchEnd:H,onTouchMove:pe,onTouchStart:oe,ref:M},r)))}),Wge=["children","className","width","height","style","compact","title","desc"];function Gge(t,e){if(t==null)return{};var r,n,i=Yge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Yge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Kge=V.forwardRef((t,e)=>{var{children:r,className:n,width:i,height:a,style:l,compact:c,title:d,desc:h}=t,f=Gge(t,Wge),p=Bf(f);return c?V.createElement(yP,{otherAttributes:p,title:d,desc:h},r):V.createElement(Hge,{className:n,style:l,width:i,height:a,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},V.createElement(yP,{otherAttributes:p,title:d,desc:h,ref:e},V.createElement(jme,null,r)))}),Xge=["width","height"];function HN(){return HN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HN.apply(null,arguments)}function Zge(t,e){if(t==null)return{};var r,n,i=Qge(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Qge(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Jge={top:5,right:5,bottom:5,left:5},e0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jge,reverseStackOrder:!1,syncMethod:"index"},t0e=V.forwardRef(function(e,r){var n,i=Tl(e.categoricalChartProps,e0e),{width:a,height:l}=i,c=Zge(i,Xge);if(!Xv(a)||!Xv(l))return null;var{chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,categoricalChartProps:x}=e,g={chartName:d,defaultTooltipEventType:h,validateTooltipEventTypes:f,tooltipPayloadSearcher:p,eventEmitter:void 0};return V.createElement(Ige,{preloadedState:{options:g},reduxStoreName:(n=x.id)!==null&&n!==void 0?n:d},V.createElement(mme,{chartData:x.data}),V.createElement(Pge,{width:a,height:l,layout:i.layout,margin:i.margin}),V.createElement(Rge,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),V.createElement(Kge,HN({},c,{width:a,height:l,ref:r})))}),r0e=["axis"],n0e=V.forwardRef((t,e)=>V.createElement(t0e,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:r0e,tooltipPayloadSearcher:$de,categoricalChartProps:t,ref:e}));function i0e(t){if(!t.duration&&!t.startDate&&!t.endDate)return 0;try{const e=t.duration||`${t.startDate||""} - ${t.endDate||""}`,r=e.match(/\b(19|20)\d{2}\b/g);if(r&&r.length>=2){const n=parseInt(r[0]);let i=parseInt(r[r.length-1]);return(e.toLowerCase().includes("present")||e.toLowerCase().includes("current"))&&(i=new Date().getFullYear()),Math.max(0,i-n)}return r&&r.length===1?1:0}catch(e){return console.warn("Error calculating experience years:",e),0}}function Gh(t){if(!t)return new Date(0);if(t instanceof Date)return t;if(t.toDate&&typeof t.toDate=="function")return t.toDate();if(t._seconds)return new Date(t._seconds*1e3);const e=new Date(t);return isNaN(e.getTime())?new Date(0):e}function a0e(){const{currentUser:t,userData:e}=gi(),r=ni(),[n,i]=V.useState(!0),[a,l]=V.useState({totalUploads:0,uploadsThisMonth:0,uploadsLastMonth:0,monthlySpend:0,monthlySpendBreakdown:{subscription:0,cvPacks:0},averageUploadSize:0,recentActivity:[],uploadTrend:0,spendTrend:0,dailyUploads:[],topSkills:[],experienceLevels:{junior:0,mid:0,senior:0,unknown:0},topLocations:[],averageCompleteness:0,completenessDistribution:{excellent:0,good:0,fair:0,poor:0},educationDistribution:[],parsingSuccessRate:0,parsedCVs:0,failedCVs:0});V.useEffect(()=>{if(console.log("Analytics useEffect triggered"),console.log("currentUser:",t?.uid),console.log("userData:",e),console.log("userData.teamAccess:",e?.teamAccess),!t||!e){console.log("Skipping analytics load - missing currentUser or userData");return}console.log("Loading analytics..."),c()},[t,e]);const c=async()=>{if(t)try{i(!0);const h=new Date,f=new Date(h.getFullYear(),h.getMonth(),1),p=new Date(h.getFullYear(),h.getMonth()-1,1),x=new Date(h.getFullYear(),h.getMonth(),0),g=e?.teamAccess,w=g?.isTeamMember&&g?.teamOwnerId?g.teamOwnerId:t.uid;console.log("Loading CVs for user:",w,"(Team member:",g?.isTeamMember,")");let v=[];if(g?.isTeamMember&&g?.teamOwnerId){console.log("Fetching team CVs via Cloud Function");const je=An(),ge=await wr(je,"getTeamCVs")();ge.data.success&&(v=ge.data.cvs.map(Ie=>({...Ie,id:Ie.id,uploadedAt:Gh(Ie.uploadedAt)})),console.log("Team CVs fetched:",v.length))}else{console.log("Current user ID:",t.uid);const je=Xc(vl(Jr,"cvs"),Is("userId","==",t.uid));console.log("Executing Firestore query...");const de=await Zc(je);console.log("Query completed. Documents found:",de.docs.length),v=de.docs.map(ge=>({id:ge.id,...ge.data()}))}v=v.sort((je,de)=>{const ge=Gh(je.uploadedAt);return Gh(de.uploadedAt)-ge}),v.length===0&&(console.warn(" No CVs found for user:",w),console.warn("Check Firestore console to verify CVs exist with correct userId")),console.log("CVs data:",v),console.log("Sample CV metadata:",v[0]?.metadata),console.log("Sample CV fields:",Object.keys(v[0]||{}));const _=v.length;console.log("Total uploads:",_);const j={};v.forEach(je=>{const de=je.metadata?.skills||[];de.length>0&&console.log("CV has skills:",de),de.forEach(ge=>{j[ge]=(j[ge]||0)+1})}),console.log("Skills map:",j);const E=Object.entries(j).sort((je,de)=>de[1]-je[1]).slice(0,10).map(([je,de])=>({skill:je,count:de,percentage:_>0?(de/_*100).toFixed(1):0})),C={junior:0,mid:0,senior:0,unknown:0};v.forEach(je=>{const de=je.metadata?.experience||[];if(de.length===0)C.unknown++;else{let ge=0;de.forEach(Ie=>{const Ve=i0e(Ie);ge+=Ve}),ge===0&&(ge=de.length*1.5),ge<=2?C.junior++:ge>=3&&ge<=5?C.mid++:ge>=6&&C.senior++}});const z={};v.forEach(je=>{const de=je.metadata?.location||"Unknown";z[de]=(z[de]||0)+1});const P=Object.entries(z).sort((je,de)=>de[1]-je[1]).slice(0,8).map(([je,de])=>({location:je,count:de,percentage:_>0?(de/_*100).toFixed(1):0}));let X=0;const U={excellent:0,good:0,fair:0,poor:0};v.forEach(je=>{const de=je.metadata||{};let ge=0;de.name&&(ge+=15),de.email&&(ge+=15),de.phone&&(ge+=10),de.location&&(ge+=10),de.skills?.length>0&&(ge+=20),de.experience?.length>0&&(ge+=20),de.education?.length>0&&(ge+=10),X+=ge,ge>=90?U.excellent++:ge>=70?U.good++:ge>=50?U.fair++:U.poor++});const M=_>0?(X/_).toFixed(1):0,D={};v.forEach(je=>{const de=je.metadata?.education||[];if(de.length===0)D["Not Specified"]=(D["Not Specified"]||0)+1;else{const ge=de[0]?.degree||"Unknown";D[ge]=(D[ge]||0)+1}});const G=Object.entries(D).sort((je,de)=>de[1]-je[1]).slice(0,6).map(([je,de])=>({degree:je,count:de,percentage:_>0?(de/_*100).toFixed(1):0})),L=v.filter(je=>je.parsed===!0).length,I=v.filter(je=>je.status==="error").length,B=_>0?(L/_*100).toFixed(1):0,k=v.filter(je=>Gh(je.uploadedAt)>=f).length;let re=0,Y=0,Q=0;const se=e?.plan||"free";bl[se]&&bl[se].price&&(Y=bl[se].price);try{const je=Xc(vl(Jr,"payments"),Is("userId","==",w),Is("status","==","complete"),Is("purchaseType","==","cv_pack"));(await Zc(je)).docs.forEach(ge=>{const Ie=ge.data(),Ve=Ie.completedAt?.toDate()||Ie.createdAt?.toDate();Ve&&Ve>=f&&(Q+=parseFloat(Ie.amount)||0)})}catch(je){console.log("Could not fetch CV pack purchases:",je)}re=Y+Q;const oe=Y,pe=oe>0?((re-oe)/oe*100).toFixed(1):re>0?100:0,H=v.filter(je=>{const de=Gh(je.uploadedAt);return de>=p&&de<=x}).length,R=H>0?((k-H)/H*100).toFixed(1):k>0?100:0,J=v.slice(0,10).map(je=>({id:je.id,name:je.fileName||"Unknown",date:Gh(je.uploadedAt),action:"Uploaded CV"})),ee={},ae=new Date;ae.setDate(ae.getDate()-30);for(let je=29;je>=0;je--){const de=new Date;de.setDate(de.getDate()-je);const ge=de.toLocaleDateString("en-US",{month:"short",day:"numeric"});ee[ge]=0}v.forEach(je=>{const de=Gh(je.uploadedAt);if(de&&de>=ae){const ge=de.toLocaleDateString("en-US",{month:"short",day:"numeric"});ee.hasOwnProperty(ge)&&ee[ge]++}});const be=Object.entries(ee).map(([je,de])=>({date:je,uploads:de}));l({totalUploads:_,uploadsThisMonth:k,uploadsLastMonth:H,monthlySpend:re,monthlySpendBreakdown:{subscription:Y,cvPacks:Q},averageUploadSize:_>0?(k/_*100).toFixed(1):0,recentActivity:J,uploadTrend:R,spendTrend:pe,dailyUploads:be,topSkills:E,experienceLevels:C,topLocations:P,averageCompleteness:M,completenessDistribution:U,educationDistribution:G,parsingSuccessRate:B,parsedCVs:L,failedCVs:I}),i(!1)}catch(h){console.error("Error loading analytics:",h),console.error("Error details:",h.message),console.error("Error code:",h.code),(h.code==="failed-precondition"||h.message?.includes("index"))&&(console.error("FIRESTORE INDEX ERROR: You need to create a composite index."),console.error("Click the link in the error below or create an index for:"),console.error("Collection: cvs"),console.error("Fields: userId (Ascending), uploadedAt (Descending)")),i(!1)}},d=({title:h,value:f,subtitle:p,icon:x,trend:g,color:w="orange"})=>{const v={orange:"from-orange-500 to-orange-600",purple:"from-purple-500 to-purple-600",lime:"from-lime-500 to-lime-600",blue:"from-blue-500 to-blue-600"};return s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200 hover:shadow-xl transition-all hover:-translate-y-1 group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:`w-14 h-14 bg-gradient-to-br ${v[w]} rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform`,children:s.jsx(x,{size:24,className:"text-white"})}),g!==void 0&&s.jsxs("div",{className:`flex items-center gap-1 text-sm font-bold px-3 py-1.5 rounded-full ${g>=0?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[g>=0?s.jsx(dp,{size:14}):s.jsx(jte,{size:14}),Math.abs(g),"%"]})]}),s.jsx("h3",{className:"text-4xl font-bold text-gray-900 mb-2",children:f}),s.jsx("p",{className:"text-gray-700 font-semibold text-sm",children:h}),p&&s.jsx("p",{className:"text-gray-500 text-xs mt-1",children:p})]})};return n?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ql,{className:"w-12 h-12 text-orange-500 animate-pulse mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading analytics..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(nh,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Analytics"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Performance Insights"})]})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(nh,{size:28})}),"Analytics Dashboard"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Track your CV filtering performance and gain actionable insights"})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(Ql,{className:"w-24 h-24 text-white/20"})})]})}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[s.jsx(d,{title:"Total CVs Uploaded",value:a.totalUploads,subtitle:"All time",icon:Rs,color:"orange"}),s.jsx(d,{title:"Uploads This Month",value:a.uploadsThisMonth,subtitle:t?.userData?.plan==="enterprise"||t?.userData?.cvUploadLimit===-1?"Unlimited uploads":`Out of ${t?.userData?.cvUploadLimit||10} limit`,icon:dp,trend:a.uploadTrend,color:"purple"}),s.jsx(d,{title:"Monthly Spend",value:`R${a.monthlySpend.toFixed(0)}`,subtitle:`Subscription: R${a.monthlySpendBreakdown.subscription} | Packs: R${a.monthlySpendBreakdown.cvPacks}`,icon:nh,trend:a.spendTrend,color:"lime"}),s.jsx(d,{title:"Last Month",value:a.uploadsLastMonth,subtitle:"Previous period",icon:Uf,color:"blue"})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mb-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx(nh,{className:"text-white",size:16})}),"Upload Trend"]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Last 30 Days"})]}),a.dailyUploads.length>0&&a.dailyUploads.some(h=>h.uploads>0)?s.jsx(jhe,{width:"100%",height:250,children:s.jsxs(n0e,{data:a.dailyUploads,children:[s.jsx(Uz,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),s.jsx(Yz,{dataKey:"date",tick:{fontSize:12},interval:"preserveStartEnd",angle:-45,textAnchor:"end",height:60}),s.jsx(Kz,{tick:{fontSize:12}}),s.jsx(mhe,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px",padding:"8px 12px"}}),s.jsx(Gz,{type:"monotone",dataKey:"uploads",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",r:4},activeDot:{r:6}})]})}):s.jsx("div",{className:"h-64 flex items-center justify-center bg-gradient-to-br from-gray-50 to-orange-50 rounded-xl",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(uee,{className:"w-10 h-10 text-gray-300"})}),s.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:"No upload data yet"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Start uploading CVs to see trends"})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(Ql,{className:"text-white",size:16})}),"Usage Overview"]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 rounded-xl p-5 border border-orange-100",children:[s.jsxs("div",{className:"flex justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Monthly Upload Limit"}),s.jsx("span",{className:"text-lg font-bold text-orange-600",children:t?.userData?.plan==="enterprise"||t?.userData?.cvUploadLimit===-1?`${a.uploadsThisMonth} (Unlimited)`:`${a.uploadsThisMonth} / ${t?.userData?.cvUploadLimit||10}`})]}),t?.userData?.plan!=="enterprise"&&t?.userData?.cvUploadLimit!==-1&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-4 rounded-full transition-all shadow-sm flex items-center justify-end pr-2",style:{width:`${Math.min(a.uploadsThisMonth/(t?.userData?.cvUploadLimit||10)*100,100)}%`},children:a.uploadsThisMonth>0&&s.jsxs("span",{className:"text-xs text-white font-bold",children:[Math.round(a.uploadsThisMonth/(t?.userData?.cvUploadLimit||10)*100),"%"]})})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded flex items-center justify-center",children:s.jsx(Ql,{className:"text-blue-600",size:12})}),"Quick Stats"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average daily uploads"}),s.jsx("span",{className:"text-sm font-bold text-gray-900 px-3 py-1 bg-white rounded-lg shadow-sm",children:(a.uploadsThisMonth/new Date().getDate()).toFixed(1)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current plan"}),s.jsx("span",{className:"text-sm font-bold text-orange-600 capitalize px-3 py-1 bg-orange-50 rounded-lg",children:t?.userData?.plan||"Free"})]}),(t?.userData?.cvPackBalance||0)>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 bg-purple-50 rounded-xl hover:bg-purple-100 transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"CV Pack Balance"}),s.jsxs("span",{className:"text-sm font-bold text-purple-600 px-3 py-1 bg-purple-100 rounded-lg",children:["+",t?.userData?.cvPackBalance||0," Bonus CVs"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl hover:bg-gray-100 transition-colors",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Growth this month"}),s.jsxs("span",{className:`text-sm font-bold px-3 py-1 rounded-lg ${a.uploadTrend>=0?"text-green-700 bg-green-50":"text-red-700 bg-red-50"}`,children:[a.uploadTrend>=0?"+":"",a.uploadTrend,"%"]})]})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(Ql,{className:"text-white",size:16})}),"Recent Activity"]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Last 10 Actions"})]}),a.recentActivity.length===0?s.jsxs("div",{className:"text-center py-16 bg-gradient-to-br from-gray-50 to-orange-50 rounded-xl",children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-2xl shadow-lg flex items-center justify-center mx-auto mb-4",children:s.jsx(Rs,{className:"w-10 h-10 text-gray-300"})}),s.jsx("p",{className:"text-gray-700 font-semibold mb-2",children:"No activity yet"}),s.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Upload your first CV to see activity here"}),s.jsx("button",{onClick:()=>r("/upload"),className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3 rounded-xl font-semibold transition-all shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-105",children:"Upload CV"})]}):s.jsx("div",{className:"space-y-3",children:a.recentActivity.map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-orange-50/50 rounded-xl hover:from-gray-100 hover:to-orange-100/50 transition-all border border-gray-100 hover:border-orange-200 group",style:{animationDelay:`${f*50}ms`},children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md group-hover:scale-110 transition-transform",children:s.jsx(Rs,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:h.action}),s.jsx("p",{className:"text-sm text-gray-600 truncate max-w-md",children:h.name})]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-sm font-medium text-gray-700",children:h.date?new Date(h.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Unknown"}),s.jsx("p",{className:"text-xs text-gray-500",children:h.date?new Date(h.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):""})]})]},h.id))})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mt-8",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-lime-500 rounded-lg flex items-center justify-center",children:s.jsx(xh,{className:"text-white",size:16})}),"Top Skills in Database"]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Top 10"})]}),a.topSkills.length>0?s.jsx("div",{className:"space-y-3",children:a.topSkills.map((h,f)=>s.jsxs("div",{className:"group",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900",children:h.skill}),s.jsxs("span",{className:"text-sm font-bold text-lime-600",children:[h.count," CVs (",h.percentage,"%)"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-gradient-to-r from-lime-500 to-lime-600 h-2.5 rounded-full transition-all group-hover:scale-105",style:{width:`${h.percentage}%`}})})]},f))}):s.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:s.jsx("p",{className:"text-gray-600",children:"No skills data available yet"})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(Ds,{className:"text-white",size:16})}),"Experience Level Distribution"]})}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 rounded-xl p-5 border border-green-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-3xl font-bold text-green-700 mb-1",children:a.experienceLevels.junior}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Junior Level"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"0-2 years exp."})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-5 border border-blue-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-700 mb-1",children:a.experienceLevels.mid}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Mid Level"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"3-5 years exp."})]}),s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl p-5 border border-purple-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-3xl font-bold text-purple-700 mb-1",children:a.experienceLevels.senior}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Senior Level"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"6+ years exp."})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl p-5 border border-gray-200 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"text-3xl font-bold text-gray-700 mb-1",children:a.experienceLevels.unknown}),s.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Unknown"}),s.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"No exp. listed"})]})]})})]})]}),s.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 mt-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center",children:s.jsx(DL,{className:"text-white",size:16})}),"Candidate Locations"]}),s.jsx("span",{className:"text-xs text-gray-500 font-medium px-3 py-1 bg-gray-100 rounded-full",children:"Top 8"})]}),a.topLocations.length>0?s.jsx("div",{className:"space-y-3",children:a.topLocations.map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-orange-50 rounded-xl hover:from-gray-100 hover:to-orange-100 transition-all border border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.location}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 h-2 rounded-full",style:{width:`${h.percentage}%`}})}),s.jsxs("span",{className:"text-sm font-bold text-orange-600 min-w-[60px] text-right",children:[h.count," (",h.percentage,"%)"]})]})]},f))}):s.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:s.jsx("p",{className:"text-gray-600",children:"No location data available yet"})})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center",children:s.jsx(xh,{className:"text-white",size:16})}),"Education Levels"]})}),a.educationDistribution.length>0?s.jsx("div",{className:"space-y-3",children:a.educationDistribution.map((h,f)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl hover:from-gray-100 hover:to-blue-100 transition-all border border-gray-100",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:h.degree}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full",style:{width:`${h.percentage}%`}})}),s.jsxs("span",{className:"text-sm font-bold text-blue-600 min-w-[60px] text-right",children:[h.count," (",h.percentage,"%)"]})]})]},f))}):s.jsx("div",{className:"text-center py-12 bg-gray-50 rounded-xl",children:s.jsx("p",{className:"text-gray-600",children:"No education data available yet"})})]})]}),s.jsx("div",{className:"mt-6",children:s.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-200",children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-lime-500 rounded-lg flex items-center justify-center",children:s.jsx(Ps,{className:"text-white",size:16})}),"CV Data Quality"]})}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Average Completeness Score"}),s.jsxs("span",{className:"text-3xl font-bold text-lime-600",children:[a.averageCompleteness,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 shadow-inner",children:s.jsx("div",{className:"bg-gradient-to-r from-lime-500 to-lime-600 h-4 rounded-full transition-all flex items-center justify-end pr-2",style:{width:`${a.averageCompleteness}%`},children:a.averageCompleteness>10&&s.jsxs("span",{className:"text-xs text-white font-bold",children:[a.averageCompleteness,"%"]})})})]}),s.jsxs("div",{className:"p-3 bg-gray-50 rounded-xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Parsing Success Rate"}),s.jsxs("span",{className:"text-sm font-bold text-green-600",children:[a.parsingSuccessRate,"%"]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.parsedCVs," successfully parsed, ",a.failedCVs," failed"]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-xl border border-green-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ps,{className:"text-green-600",size:16}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Excellent (90%+)"})]}),s.jsxs("span",{className:"text-sm font-bold text-green-700",children:[a.completenessDistribution.excellent," CVs"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-xl border border-blue-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ps,{className:"text-blue-600",size:16}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Good (70-89%)"})]}),s.jsxs("span",{className:"text-sm font-bold text-blue-700",children:[a.completenessDistribution.good," CVs"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-xl border border-yellow-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mv,{className:"text-yellow-600",size:16}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Fair (50-69%)"})]}),s.jsxs("span",{className:"text-sm font-bold text-yellow-700",children:[a.completenessDistribution.fair," CVs"]})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-xl border border-red-200",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mv,{className:"text-red-600",size:16}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Poor (<50%)"})]}),s.jsxs("span",{className:"text-sm font-bold text-red-700",children:[a.completenessDistribution.poor," CVs"]})]})]})]})]})}),!1]})]})}function s0e(){const{currentUser:t}=gi(),[e,r]=V.useState(null),[n,i]=V.useState(null),a=qte(),l=t?.userData?.cvPackBalance||0,c=async d=>{try{r(d.id),i(null);const f=await wr(ff,"createPayment")({purchaseType:"cv_pack",cvPackId:d.id,cvCount:d.cvCount,amount:d.price,itemName:d.name}),{paymentUrl:p,paymentData:x,paymentId:g}=f.data;localStorage.setItem("pendingPaymentId",g);const w=document.createElement("form");w.method="POST",w.action=p,Object.keys(x).forEach(v=>{const _=document.createElement("input");_.type="hidden",_.name=v,_.value=x[v],w.appendChild(_)}),document.body.appendChild(w),w.submit()}catch(h){console.error("Payment error:",h),i(h.message||"Failed to initiate payment. Please try again."),r(null)}};return s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Lv,{className:"text-white",size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"CV Packs"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Purchase extra CVs to supplement your monthly plan"})]})]}),l>0&&s.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-200 rounded-xl",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx($a,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-700",children:"Available CV Pack Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[l," CVs"]})]})]})}),n&&s.jsx("div",{className:"mb-6 p-4 border border-red-200 rounded-lg bg-red-50",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(en,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"font-medium text-red-800",children:n})}),s.jsx("button",{onClick:()=>i(null),className:"text-red-500 hover:text-red-700",children:""})]})}),s.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:"How CV Packs Work"}),s.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:16,className:"mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"CV Packs never expire - use them anytime"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:16,className:"mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Used automatically when your monthly limit is reached"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:16,className:"mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Works with all subscription plans"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:16,className:"mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Larger packs offer better value per CV"})]})]})]}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:a.map(d=>s.jsxs("div",{className:`relative bg-white rounded-xl p-6 border-2 transition-all hover:shadow-lg ${d.popular?"border-purple-500 shadow-xl shadow-purple-500/20":"border-gray-200 hover:border-purple-300"}`,children:[d.popular&&s.jsx("div",{className:"absolute px-3 py-1 text-xs font-semibold text-white bg-purple-500 rounded-full -top-3 left-1/2 -translate-x-1/2",children:"Best Value"}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl shadow-lg mb-3",children:s.jsx(Lv,{className:"text-white",size:32})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:d.name}),s.jsx("div",{className:"inline-block px-3 py-1 bg-purple-100 rounded-full",children:s.jsxs("span",{className:"text-sm font-bold text-purple-900",children:[d.cvCount," CVs"]})})]}),s.jsxs("div",{className:"text-center mb-4",children:[s.jsxs("div",{className:"flex items-baseline justify-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-500 mr-1",children:"ZAR"}),s.jsx("span",{className:"text-3xl font-bold text-gray-900",children:d.price})]}),d.savings&&s.jsx("p",{className:"text-xs font-semibold text-green-600",children:d.savings}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["R",(d.price/d.cvCount).toFixed(2)," per CV"]})]}),s.jsx("button",{onClick:()=>c(d),disabled:e===d.id,className:`w-full py-3 rounded-lg font-semibold transition-all flex items-center justify-center space-x-2 ${d.popular?"bg-purple-500 text-white hover:bg-purple-600 shadow-lg shadow-purple-500/30":"bg-gray-100 text-gray-700 hover:bg-gray-200"} ${e===d.id?"opacity-50 cursor-wait":""}`,children:e===d.id?s.jsxs(s.Fragment,{children:[s.jsx(Ha,{size:18,className:"animate-spin"}),s.jsx("span",{children:"Processing..."})]}):s.jsx("span",{children:"Purchase Pack"})})]},d.id))}),s.jsx("div",{className:"mt-6 text-center text-sm text-gray-500",children:s.jsx("p",{children:"All transactions are processed securely through PayFast"})})]})}const Q5=[{value:"text",label:"Text",icon:LL,description:"Short text input"},{value:"number",label:"Number",icon:qee,description:"Numeric values"},{value:"date",label:"Date",icon:Uf,description:"Date picker"},{value:"boolean",label:"Yes/No",icon:vte,description:"True/false checkbox"},{value:"select",label:"Dropdown",icon:Wu,description:"Single choice from list"}],J5={recruitment:{name:"Recruitment Agency",icon:$a,color:"blue",fields:[{name:"notice_period",label:"Notice Period",type:"select",required:!0,options:["Immediate","1 Week","2 Weeks","1 Month","2 Months","3 Months"]},{name:"salary_expectation",label:"Salary Expectation",type:"text",required:!1},{name:"available_for_relocation",label:"Available for Relocation",type:"boolean",required:!1},{name:"driver_license",label:"Has Driver License",type:"boolean",required:!1},{name:"security_clearance",label:"Security Clearance",type:"select",required:!1,options:["None","Confidential","Secret","Top Secret"]},{name:"interview_availability",label:"Interview Availability",type:"date",required:!1}]},corporate:{name:"Corporate HR",icon:$a,color:"purple",fields:[{name:"employee_id",label:"Employee ID",type:"text",required:!1},{name:"department",label:"Department",type:"select",required:!0,options:["Engineering","Sales","Marketing","Finance","HR","Operations"]},{name:"seniority_level",label:"Seniority Level",type:"select",required:!0,options:["Entry","Junior","Mid","Senior","Lead","Manager","Director","Executive"]},{name:"hire_date",label:"Hire Date",type:"date",required:!1},{name:"performance_rating",label:"Performance Rating",type:"select",required:!1,options:["1 - Needs Improvement","2 - Meets Expectations","3 - Exceeds Expectations","4 - Outstanding","5 - Exceptional"]},{name:"internal_referral",label:"Internal Referral",type:"boolean",required:!1}]},construction:{name:"Construction/Trades",icon:$a,color:"orange",fields:[{name:"trade_certification",label:"Trade Certification",type:"text",required:!0},{name:"years_in_trade",label:"Years in Trade",type:"number",required:!0},{name:"has_own_tools",label:"Has Own Tools",type:"boolean",required:!1},{name:"vehicle_type",label:"Vehicle Type",type:"select",required:!1,options:["None","Car","Bakkie","Van","Truck"]},{name:"willing_to_travel",label:"Willing to Travel",type:"boolean",required:!1},{name:"site_experience",label:"Site Experience",type:"select",required:!1,options:["Residential","Commercial","Industrial","Infrastructure","All"]}]},tech:{name:"Tech/IT",icon:$a,color:"green",fields:[{name:"github_profile",label:"GitHub Profile",type:"text",required:!1},{name:"linkedin_profile",label:"LinkedIn Profile",type:"text",required:!1},{name:"portfolio_url",label:"Portfolio URL",type:"text",required:!1},{name:"remote_work_preference",label:"Remote Work Preference",type:"select",required:!1,options:["On-site","Hybrid","Remote","Flexible"]},{name:"tech_stack",label:"Primary Tech Stack",type:"text",required:!1},{name:"certifications_count",label:"Number of Certifications",type:"number",required:!1}]}};function o0e(){const{currentUser:t}=gi(),e=cd(),[r,n]=V.useState([]),[i,a]=V.useState(!0),[l,c]=V.useState(!1),[d,h]=V.useState(null),[f,p]=V.useState(!1),[x,g]=V.useState(!1),[w,v]=V.useState({isOpen:!1,fieldId:null,fieldLabel:""}),[_,j]=V.useState({isOpen:!1,templateKey:null,templateName:""}),[E,C]=V.useState({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null}),z=t?.userData?.plan||"free",P=Ip(z,"customFields");V.useEffect(()=>{X()},[t]);const X=async()=>{if(t)try{a(!0);const Y=Ji(Jr,"customFieldConfigs",t.uid),Q=await Nf(Y);Q.exists()&&n(Q.data().fields||[])}catch(Y){console.error("Error loading custom fields:",Y),e.error("Failed to load custom fields")}finally{a(!1)}},U=async Y=>{if(t)try{c(!0);const Q=Ji(Jr,"customFieldConfigs",t.uid);return await Hg(Q,{userId:t.uid,fields:Y,updatedAt:new Date}),n(Y),e.success("Custom fields saved successfully"),!0}catch(Q){return console.error("Error saving custom fields:",Q),e.error("Failed to save custom fields"),!1}finally{c(!1)}},M=async()=>{if(!E.name.trim()||!E.label.trim()){e.error("Field name and label are required");return}if(r.some(oe=>oe.name===E.name)){e.error("A field with this name already exists");return}if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(E.name)){e.error("Field name must start with a letter and contain only letters, numbers, and underscores");return}if(E.type==="select"&&E.options.length===0){e.error("Dropdown fields must have at least one option");return}const Y={...E,id:`custom_${Date.now()}`,createdAt:new Date},Q=[...r,Y];await U(Q)&&(C({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null}),p(!1))},D=async Y=>{const Q=r.map(oe=>oe.id===Y?{...d}:oe);await U(Q)&&h(null)},G=Y=>{const se=r.find(oe=>oe.id===Y)?.label||"this field";v({isOpen:!0,fieldId:Y,fieldLabel:se})},L=async()=>{const Y=r.filter(Q=>Q.id!==w.fieldId);await U(Y),v({isOpen:!1,fieldId:null,fieldLabel:""})},I=(Y,Q)=>{const se=prompt("Enter option value:");se&&se.trim()&&Q({...Y,options:[...Y.options||[],se.trim()]})},B=(Y,Q,se)=>{se({...Q,options:Q.options.filter((oe,pe)=>pe!==Y)})},k=Y=>{const Q=J5[Y];Q&&(r.length>0?j({isOpen:!0,templateKey:Y,templateName:Q.name}):re(Y))},re=async Y=>{const Q=J5[Y];if(!Q)return;const se=Q.fields.map((pe,H)=>({...pe,id:`custom_${Date.now()}_${H}`,createdAt:new Date}));await U(se)&&(e.success(`Applied "${Q.name}" template successfully`),g(!1),j({isOpen:!1,templateKey:null,templateName:""}))};return i?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})}):P?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Custom Fields"}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add custom fields to track additional information on CVs"})]}),!f&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("button",{onClick:()=>g(!x),className:"flex items-center space-x-2 px-4 py-2 border border-purple-300 text-purple-600 rounded-lg font-semibold hover:bg-purple-50 transition-colors",children:[s.jsx($a,{size:18}),s.jsx("span",{children:"Templates"})]}),s.jsxs("button",{onClick:()=>p(!0),className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:[s.jsx(mf,{size:18}),s.jsx("span",{children:"Add Field"})]})]})]}),x&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-xl p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-bold text-gray-900 flex items-center space-x-2",children:[s.jsx($a,{className:"text-purple-500",size:20}),s.jsx("span",{children:"Field Templates"})]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Quick start with pre-configured field sets for common industries"})]}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-500 hover:text-gray-700",children:s.jsx(Vt,{size:20})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(J5).map(([Y,Q])=>{const se=Q.icon,oe={blue:"from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700",purple:"from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700",orange:"from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700",green:"from-green-500 to-green-600 hover:from-green-600 hover:to-green-700"};return s.jsxs("button",{onClick:()=>k(Y),className:`text-left p-4 bg-gradient-to-br ${oe[Q.color]} text-white rounded-xl shadow-md hover:shadow-lg transition-all`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(se,{size:24}),s.jsx("h5",{className:"font-bold text-lg",children:Q.name})]}),s.jsxs("span",{className:"text-xs bg-white/20 px-2 py-1 rounded-full",children:[Q.fields.length," fields"]})]}),s.jsxs("p",{className:"text-sm text-white/90 mb-3",children:[Q.fields.slice(0,3).map(pe=>pe.label).join(", "),Q.fields.length>3&&` +${Q.fields.length-3} more`]}),s.jsx("div",{className:"text-xs text-white/80",children:"Click to apply this template"})]},Y)})})]}),r.length>0?s.jsx("div",{className:"space-y-3",children:r.map(Y=>s.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:d?.id===Y.id?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Field Name"}),s.jsx("input",{type:"text",value:d.name,onChange:Q=>h({...d,name:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",disabled:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Cannot be changed after creation"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Label"}),s.jsx("input",{type:"text",value:d.label,onChange:Q=>h({...d,label:Q.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),d.type==="select"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Options"}),s.jsxs("div",{className:"space-y-2",children:[d.options?.map((Q,se)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-200 rounded-lg text-sm",children:Q}),s.jsx("button",{onClick:()=>B(se,d,h),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Os,{size:16})})]},se)),s.jsx("button",{onClick:()=>I(d,h),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"+ Add Option"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:d.required,onChange:Q=>h({...d,required:Q.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("label",{className:"text-sm text-gray-700",children:"Required field"})]}),s.jsxs("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>h(null),className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:()=>D(Y.id),disabled:l,className:"flex items-center space-x-2 px-4 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50",children:[s.jsx(n0,{size:16}),s.jsx("span",{children:"Save"})]})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[M0.createElement(Q5.find(Q=>Q.value===Y.type)?.icon||LL,{size:18,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:Y.label})]}),s.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-full",children:Y.name}),s.jsx("span",{className:"text-xs px-2 py-1 bg-orange-100 text-orange-600 rounded-full",children:Q5.find(Q=>Q.value===Y.type)?.label||Y.type}),Y.required&&s.jsx("span",{className:"text-xs px-2 py-1 bg-red-100 text-red-600 rounded-full",children:"Required"})]}),Y.type==="select"&&Y.options?.length>0&&s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Options: ",Y.options.join(", ")]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>h({...Y}),className:"p-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(PS,{size:18})}),s.jsx("button",{onClick:()=>G(Y.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Os,{size:18})})]})]})},Y.id))}):!f&&s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300",children:[s.jsx(Wu,{size:48,className:"mx-auto text-gray-400 mb-4"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"No custom fields defined yet"}),s.jsx("button",{onClick:()=>p(!0),className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:"Create Your First Field"})]}),f&&s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Add New Custom Field"}),s.jsx("button",{onClick:()=>{p(!1),C({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null})},className:"p-1 text-gray-500 hover:text-gray-700",children:s.jsx(Vt,{size:20})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Field Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:E.name,onChange:Y=>C({...E,name:Y.target.value}),placeholder:"e.g., years_of_experience",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Used internally (lowercase, underscores only)"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Display Label ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:E.label,onChange:Y=>C({...E,label:Y.target.value}),placeholder:"e.g., Years of Experience",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Shown to users in the interface"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Field Type"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:Q5.map(Y=>{const Q=Y.icon;return s.jsxs("button",{onClick:()=>C({...E,type:Y.value}),className:`p-3 rounded-lg border-2 transition-all ${E.type===Y.value?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:[s.jsx(Q,{size:20,className:E.type===Y.value?"text-orange-500 mx-auto":"text-gray-400 mx-auto"}),s.jsx("p",{className:`text-xs font-medium mt-1 ${E.type===Y.value?"text-orange-600":"text-gray-600"}`,children:Y.label})]},Y.value)})})]}),E.type==="select"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Dropdown Options ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"space-y-2",children:[E.options?.map((Y,Q)=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"flex-1 px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm",children:Y}),s.jsx("button",{onClick:()=>B(Q,E,C),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",children:s.jsx(Os,{size:16})})]},Q)),s.jsx("button",{onClick:()=>I(E,C),className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"+ Add Option"})]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-5 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(IS,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-base font-bold text-gray-900",children:"Conditional Display"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Show this field only when another field has a specific value"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Show when field:"}),s.jsxs("select",{value:E.conditionalOn||"",onChange:Y=>C({...E,conditionalOn:Y.target.value||null,conditionalValue:null}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[s.jsx("option",{value:"",children:"Always show this field"}),r.filter(Y=>Y.type==="boolean"||Y.type==="select").map(Y=>s.jsx("option",{value:Y.name,children:Y.label},Y.id))]})]}),E.conditionalOn&&s.jsxs("div",{className:"animate-fadeIn",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Equals value:"}),(()=>{const Y=r.find(Q=>Q.name===E.conditionalOn);return Y?.type==="boolean"?s.jsxs("select",{value:E.conditionalValue===null?"":String(E.conditionalValue),onChange:Q=>C({...E,conditionalValue:Q.target.value==="true"}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[s.jsx("option",{value:"",children:"Select value..."}),s.jsx("option",{value:"true",children:" Yes"}),s.jsx("option",{value:"false",children:" No"})]}):Y?.type==="select"?s.jsxs("select",{value:E.conditionalValue||"",onChange:Q=>C({...E,conditionalValue:Q.target.value}),className:"w-full px-4 py-3 text-sm bg-white border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all font-medium text-gray-700 hover:border-blue-300 cursor-pointer",children:[s.jsx("option",{value:"",children:"Select value..."}),Y.options?.map((Q,se)=>s.jsx("option",{value:Q,children:Q},se))]}):null})()]}),E.conditionalOn&&E.conditionalValue!==null&&E.conditionalValue!==""&&s.jsxs("div",{className:"animate-slideUp",children:[s.jsx("label",{className:"block text-sm font-semibold text-blue-700 mb-2",children:"Active filters:"}),s.jsxs("div",{className:"flex items-start gap-3 text-sm text-blue-900 bg-white rounded-lg px-4 py-3 border-2 border-blue-300 shadow-sm",children:[s.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-1",children:"Conditional display enabled"}),s.jsxs("p",{className:"text-blue-700",children:["Field will appear when ",s.jsxs("span",{className:"font-bold",children:['"',r.find(Y=>Y.name===E.conditionalOn)?.label,'"']})," equals ",s.jsxs("span",{className:"font-bold",children:['"',E.conditionalValue===!0?"Yes":E.conditionalValue===!1?"No":E.conditionalValue,'"']})]})]})]})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:E.required,onChange:Y=>C({...E,required:Y.target.checked}),className:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"}),s.jsx("label",{className:"text-sm text-gray-700",children:"Make this field required"})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-4 border-t border-orange-200",children:[s.jsx("button",{onClick:()=>{p(!1),C({name:"",label:"",type:"text",required:!1,options:[],conditionalOn:null,conditionalValue:null})},className:"px-4 py-2 text-gray-700 hover:bg-white rounded-lg transition-colors",children:"Cancel"}),s.jsxs("button",{onClick:M,disabled:l,className:"flex items-center space-x-2 px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors disabled:opacity-50",children:[s.jsx(mf,{size:18}),s.jsx("span",{children:"Add Field"})]})]})]}),s.jsx(pl,{isOpen:w.isOpen,onClose:()=>v({isOpen:!1,fieldId:null,fieldLabel:""}),onConfirm:L,title:`Delete "${w.fieldLabel}"?`,message:"This will permanently remove this custom field from your configuration. The data in existing CVs will not be deleted, but you won't be able to view or edit it through the interface anymore.",confirmText:"Delete Field",cancelText:"Cancel",type:"danger",icon:Os,confirmLoading:l}),s.jsx(pl,{isOpen:_.isOpen,onClose:()=>j({isOpen:!1,templateKey:null,templateName:""}),onConfirm:()=>re(_.templateKey),title:`Apply "${_.templateName}" Template?`,message:`This will replace your current ${r.length} custom field${r.length!==1?"s":""} with the "${_.templateName}" template. Your existing custom field configuration will be overwritten, but data in CVs will remain intact.`,confirmText:"Apply Template",cancelText:"Cancel",type:"warning",icon:$a,confirmLoading:l})]}):s.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6 text-center",children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto",children:s.jsx(Wu,{size:32,className:"text-orange-500"})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Custom Fields"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Custom fields allow you to add your own data fields to CVs for tracking additional information."}),s.jsx("p",{className:"text-orange-600 font-semibold mb-4",children:"Available on Professional, Business, and Enterprise plans"}),s.jsx("button",{onClick:()=>window.location.href="/pricing",className:"px-6 py-2 bg-orange-500 text-white rounded-lg font-semibold hover:bg-orange-600 transition-colors",children:"Upgrade Plan"})]})}function l0e(){const{currentUser:t}=gi(),e=t?.userData,r=cd(),[n,i]=V.useState([]),[a,l]=V.useState(!0),[c,d]=V.useState("all"),[h,f]=V.useState("all"),[p,x]=V.useState(!1);V.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{l(!0);const P=An(),U=await wr(P,"getActivityLogs")();U.data.success&&i(U.data.logs||[])}catch(P){console.error("Error loading activity logs:",P),P.code==="permission-denied"?r.error("Activity logs are only available for Professional, Business, and Enterprise plans"):r.error("Failed to load activity logs")}finally{l(!1)}},w=P=>{switch(P){case"cv_uploaded":return s.jsx(mf,{className:"text-green-600",size:18});case"cv_deleted":return s.jsx(Os,{className:"text-red-600",size:18});case"cv_updated":return s.jsx(UT,{className:"text-blue-600",size:18});case"cv_viewed":return s.jsx(CS,{className:"text-gray-600",size:18});case"jobspec_created":return s.jsx(mf,{className:"text-green-600",size:18});case"jobspec_updated":return s.jsx(UT,{className:"text-blue-600",size:18});case"jobspec_deleted":return s.jsx(Os,{className:"text-red-600",size:18});default:return s.jsx(Ql,{className:"text-gray-600",size:18})}},v=P=>P.includes("deleted")?{bg:"bg-red-50",border:"border-red-200",text:"text-red-900"}:P.includes("uploaded")||P.includes("created")?{bg:"bg-green-50",border:"border-green-200",text:"text-green-900"}:P.includes("updated")?{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-900"}:{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-900"},_=P=>P.replace(/_/g," ").replace(/\b\w/g,X=>X.toUpperCase()),j=P=>{if(!P)return"N/A";const X=new Date(P),U=new Date,M=U-X,D=Math.floor(M/6e4),G=Math.floor(M/36e5),L=Math.floor(M/864e5);return D<1?"Just now":D<60?`${D}m ago`:G<24?`${G}h ago`:L<7?`${L}d ago`:X.toLocaleDateString("en-US",{month:"short",day:"numeric",year:X.getFullYear()!==U.getFullYear()?"numeric":void 0})},E=n.filter(P=>!(c!=="all"&&P.action!==c||h!=="all"&&P.resourceType!==h)),C=[...new Set(n.map(P=>P.action))],z=[...new Set(n.map(P=>P.resourceType))];return a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex items-center gap-3 text-gray-600",children:[s.jsx(N0,{className:"animate-spin",size:20}),s.jsx("span",{children:"Loading activity logs..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Ql,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Activity Log"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Track all team member actions and changes"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>x(!p),className:`px-4 py-2 rounded-xl font-semibold transition-all flex items-center gap-2 ${p?"bg-orange-100 text-orange-700 border-2 border-orange-300":"bg-gray-100 text-gray-700 border-2 border-gray-200 hover:bg-gray-200"}`,children:[s.jsx(af,{size:18}),s.jsx("span",{children:"Filters"})]}),s.jsxs("button",{onClick:g,className:"px-4 py-2 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 shadow-lg shadow-orange-500/30",children:[s.jsx(N0,{size:18}),s.jsx("span",{children:"Refresh"})]})]})]}),p&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-orange-50 border-2 border-orange-200 rounded-xl p-5 animate-slideUp",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(af,{size:18}),"Filter Activity"]}),s.jsxs("button",{onClick:()=>{d("all"),f("all")},className:"text-sm text-orange-600 hover:text-orange-700 font-semibold flex items-center gap-1",children:[s.jsx(Vt,{size:16}),"Clear filters"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),s.jsxs("select",{value:c,onChange:P=>d(P.target.value),className:"w-full px-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all",children:[s.jsx("option",{value:"all",children:"All Actions"}),C.map(P=>s.jsx("option",{value:P,children:_(P)},P))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Resource Type"}),s.jsxs("select",{value:h,onChange:P=>f(P.target.value),className:"w-full px-4 py-2.5 bg-white border-2 border-gray-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all",children:[s.jsx("option",{value:"all",children:"All Resources"}),z.map(P=>s.jsx("option",{value:P,children:P.toUpperCase()},P))]})]})]}),(c!=="all"||h!=="all")&&s.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-gray-700",children:[s.jsx("span",{className:"font-semibold",children:"Active filters:"}),c!=="all"&&s.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full font-medium",children:_(c)}),h!=="all"&&s.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full font-medium",children:h.toUpperCase()})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Ql,{className:"text-blue-600",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Activities"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(fs,{className:"text-green-600",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"CV Actions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(P=>P.resourceType==="cv").length})]})]})}),s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl p-5",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Jl,{className:"text-purple-600",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Job Spec Actions"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(P=>P.resourceType==="jobspec").length})]})]})})]}),s.jsx("div",{className:"bg-white border-2 border-gray-200 rounded-xl overflow-hidden",children:E.length===0?s.jsx("div",{className:"py-12 text-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center",children:s.jsx(en,{className:"text-gray-400",size:32})}),s.jsx("p",{className:"text-gray-600 text-lg font-semibold",children:"No activity logs found"}),s.jsx("p",{className:"text-gray-500 text-sm",children:n.length===0?"Team member actions will appear here once they start using the system":"Try adjusting your filters to see more results"})]})}):s.jsx("div",{className:"divide-y divide-gray-200",children:E.map((P,X)=>{const U=v(P.action);return s.jsx("div",{className:"p-5 hover:bg-gray-50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-10 h-10 ${U.bg} border-2 ${U.border} rounded-lg flex items-center justify-center flex-shrink-0`,children:w(P.action)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-base font-semibold text-gray-900",children:_(P.action)}),P.resourceName&&s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:s.jsx("span",{className:"font-medium",children:P.resourceName})}),P.metadata?.description&&s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:P.metadata.description})]}),s.jsx("div",{className:"text-right flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[s.jsx(nb,{size:14}),s.jsx("span",{children:j(P.timestamp)})]})})]}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(ic,{size:14}),s.jsx("span",{className:"font-medium",children:P.userName})]}),P.isTeamMemberAction&&s.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs font-semibold",children:"Team Member"}),s.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-semibold",children:P.role}),s.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold",children:P.resourceType?.toUpperCase()})]})]})]})},P.id||X)})})}),E.length>0&&s.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Showing ",E.length," of ",n.length," total activities"]})]})}function c0e(){const{currentUser:t,userData:e}=gi(),r=cd(),n=e?.plan||"free",[i,a]=V.useState("invite"),[l,c]=V.useState([]),[d,h]=V.useState([]),[f,p]=V.useState(""),[x,g]=V.useState("member"),[w,v]=V.useState(!0),[_,j]=V.useState(!1),[E,C]=V.useState({isOpen:!1,memberId:null,memberEmail:""}),[z,P]=V.useState(null),X=e?.teamAccess?.isTeamMember,U=e?.teamAccess?.teamOwnerId,M=Ip(n,"teamCollaboration"),G=(()=>{switch(n){case"professional":return 3;case"business":return 10;case"enterprise":return 999;default:return 1}})();V.useEffect(()=>{t&&M?L():v(!1)},[t,M]);const L=async()=>{try{v(!0);const oe=X?U:t.uid;if(X&&U){const J=await Nf(Ji(Jr,"users",U));J.exists()&&P({uid:U,...J.data()})}const pe=Xc(vl(Jr,"teamMembers"),Is("teamOwnerId","==",oe)),R=(await Zc(pe)).docs.map(J=>({id:J.id,...J.data()}));if(c(R),!X){const J=Xc(vl(Jr,"teamInvites"),Is("invitedBy","==",t.uid),Is("status","==","pending")),ae=(await Zc(J)).docs.map(be=>({id:be.id,...be.data()}));h(ae)}}catch(oe){console.error("Error loading team data:",oe),r.error("Failed to load team data")}finally{v(!1)}},I=async oe=>{if(oe.preventDefault(),!f.trim()){r.error("Please enter an email address");return}if(l.length+d.length+1>=G){r.error(`Your ${n} plan supports up to ${G} team member${G>1?"s":""}. Upgrade to add more.`);return}if(l.some(H=>H.email===f)){r.error("This user is already a team member");return}if(d.some(H=>H.email===f)){r.error("An invitation has already been sent to this email");return}try{j(!0);const H=An();(await wr(H,"sendTeamInvite")({email:f,role:x,teamOwnerName:e?.displayName||t.email})).data.success&&(r.success(`Invitation sent to ${f}`),p(""),g("member"),await L())}catch(H){console.error("Error sending invite:",H),r.error(H.message||"Failed to send invitation")}finally{j(!1)}},B=async oe=>{try{await DX(Ji(Jr,"teamInvites",oe)),r.success("Invitation cancelled"),await L()}catch(pe){console.error("Error cancelling invite:",pe),r.error("Failed to cancel invitation")}},k=(oe,pe)=>{C({isOpen:!0,memberId:oe,memberEmail:pe})},re=async()=>{try{const oe=An();await wr(oe,"removeTeamMember")({memberId:E.memberId}),r.success("Team member removed"),C({isOpen:!1,memberId:null,memberEmail:""}),await L()}catch(oe){console.error("Error removing member:",oe),r.error("Failed to remove team member")}},Y=async(oe,pe)=>{try{const H=An();(await wr(H,"updateTeamMemberRole")({memberId:oe,newRole:pe})).data.success&&(r.success(`Member role updated to ${pe}`),await L())}catch(H){console.error("Error updating member role:",H),r.error(H.message||"Failed to update member role")}},Q=oe=>{switch(oe){case"owner":return s.jsx(zT,{size:16,className:"text-orange-500"});case"admin":return s.jsx(Zl,{size:16,className:"text-blue-500"});default:return s.jsx(ic,{size:16,className:"text-gray-500"})}},se=oe=>{const pe={owner:"bg-orange-100 text-orange-700 border-orange-200",admin:"bg-blue-100 text-blue-700 border-blue-200",member:"bg-gray-100 text-gray-700 border-gray-200"};return pe[oe]||pe.member};return w?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Ha,{className:"animate-spin text-orange-500",size:32})}):M?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Collaboration"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Invite team members to collaborate  ",l.length+1," of ",G===999?"":G," members"]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-orange-100 to-amber-100 text-orange-700 rounded-full text-sm font-semibold border border-orange-200",children:[s.jsx(Ds,{size:16}),s.jsxs("span",{className:"capitalize",children:[n," Plan"]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-200 shadow-sm overflow-hidden",children:[s.jsxs("div",{className:"flex border-b-2 border-gray-200",children:[s.jsx("button",{onClick:()=>a("invite"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${i==="invite"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50 -mb-0.5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(zv,{size:18}),s.jsx("span",{children:"Invite & Members"})]})}),s.jsx("button",{onClick:()=>a("activity"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${i==="activity"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50 -mb-0.5":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ql,{size:18}),s.jsx("span",{children:"Activity Log"})]})})]}),s.jsxs("div",{className:"p-6",children:[i==="invite"&&s.jsxs("div",{className:"space-y-6",children:[X&&s.jsx("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-xl p-6 shadow-sm",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-500 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(en,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-purple-900",children:"Team Member View"}),s.jsx("p",{className:"text-sm text-purple-700 mt-1",children:"Only the team owner can invite new members. You can view the team structure below."})]})]})}),!X&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(zv,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-gray-900",children:"Invite Team Member"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Send an invitation via email"})]})]}),s.jsxs("form",{onSubmit:I,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",value:f,onChange:oe=>p(oe.target.value),placeholder:"colleague@company.com",className:"w-full px-4 py-3 border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",disabled:_})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Role"}),s.jsxs("select",{value:x,onChange:oe=>g(oe.target.value),className:"w-full px-4 py-3 border-2 border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",disabled:_,children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"admin",children:"Admin"})]})]})]}),s.jsx("button",{type:"submit",disabled:_||!f.trim(),className:"w-full md:w-auto px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-semibold hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 shadow-lg hover:shadow-xl hover:scale-105 disabled:hover:scale-100",children:_?s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"animate-spin",size:18}),"Sending Invitation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(ac,{size:18}),"Send Invitation"]})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-orange-50/20",children:s.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(Ds,{size:18,className:"text-orange-500"}),"Team Members (",l.length+1,")"]})}),s.jsxs("div",{className:"divide-y divide-gray-100",children:[s.jsxs("div",{className:"px-6 py-4 flex items-center justify-between bg-orange-50/30",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:X?z?.displayName?.charAt(0)||z?.email?.charAt(0)||"O":e?.displayName?.charAt(0)||t.email?.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:X?z?.displayName||z?.email||"Team Owner":e?.displayName||"You"}),s.jsx("p",{className:"text-sm text-gray-600",children:X?z?.email:t.email})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${se("owner")}`,children:[Q("owner"),"Owner"]})})]}),l.map(oe=>s.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center text-white font-bold shadow-md",children:oe.displayName?.charAt(0)||oe.email?.charAt(0)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:oe.displayName||"Team Member"}),s.jsx("p",{className:"text-sm text-gray-600",children:oe.email}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Joined ",new Date(oe.joinedAt?.toDate?.()||oe.joinedAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[X?s.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-bold border flex items-center gap-1 ${se(oe.role)}`,children:[Q(oe.role),oe.role]}):s.jsxs("select",{value:oe.role,onChange:pe=>Y(oe.id,pe.target.value),className:`px-3 py-1 rounded-full text-xs font-bold border cursor-pointer transition-colors ${se(oe.role)} hover:opacity-80`,children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"admin",children:"Admin"})]}),!X&&s.jsx("button",{onClick:()=>k(oe.id,oe.email),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Remove member",children:s.jsx(Os,{size:18})})]})]},oe.id)),l.length===0&&s.jsxs("div",{className:"px-6 py-8 text-center text-gray-500",children:[s.jsx(Ds,{size:48,className:"mx-auto mb-3 text-gray-300"}),s.jsx("p",{className:"text-sm",children:"No team members yet. Invite your first team member above!"})]})]})]}),d.length>0&&s.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-amber-50/20",children:s.jsxs("h4",{className:"font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(ac,{size:18,className:"text-amber-500"}),"Pending Invitations (",d.length,")"]})}),s.jsx("div",{className:"divide-y divide-gray-100",children:d.map(oe=>s.jsxs("div",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:s.jsx(ac,{size:20,className:"text-amber-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900",children:oe.email}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Invited ",new Date(oe.createdAt?.toDate?.()||oe.createdAt).toLocaleDateString()]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold border ${se(oe.role)}`,children:oe.role}),s.jsx("button",{onClick:()=>B(oe.id),className:"p-2 text-gray-500 hover:bg-gray-100 rounded-lg transition-colors",title:"Cancel invitation",children:s.jsx(Vt,{size:18})})]})]},oe.id))})]}),s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6",children:[s.jsxs("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(en,{size:18,className:"text-gray-500"}),"Role Permissions"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(zT,{size:16,className:"text-orange-500"}),s.jsx("span",{className:"font-bold text-gray-900",children:"Owner"})]}),s.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[s.jsx("li",{children:" Full account access"}),s.jsx("li",{children:" Manage team members"}),s.jsx("li",{children:" Billing & subscriptions"}),s.jsx("li",{children:" Delete account"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Zl,{size:16,className:"text-blue-500"}),s.jsx("span",{className:"font-bold text-gray-900",children:"Admin"})]}),s.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[s.jsx("li",{children:" Create, edit & delete CVs"}),s.jsx("li",{children:" Create, edit & delete job specs"}),s.jsx("li",{children:" View all data & reports"}),s.jsx("li",{children:" Export CVs to CSV"}),s.jsx("li",{children:" Cannot manage team or billing"})]})]}),s.jsxs("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ic,{size:16,className:"text-gray-500"}),s.jsx("span",{className:"font-bold text-gray-900",children:"Member"})]}),s.jsxs("ul",{className:"space-y-1 text-gray-600 text-xs",children:[s.jsx("li",{children:" View CVs & job specs (read-only)"}),s.jsx("li",{children:" Upload CVs"}),s.jsx("li",{children:" Search, filter & export"}),s.jsx("li",{children:" Match CVs to job specs"}),s.jsx("li",{children:" Cannot edit or delete data"})]})]})]})]})]}),i==="activity"&&s.jsx(l0e,{})]})]}),s.jsx(pl,{isOpen:E.isOpen,onClose:()=>C({isOpen:!1,memberId:null,memberEmail:""}),onConfirm:re,title:"Remove Team Member?",message:`Are you sure you want to remove ${E.memberEmail} from your team? They will immediately lose access to your CVSift account and all shared data.`,confirmText:"Remove Member",cancelText:"Cancel",type:"danger",icon:Os})]}):s.jsx("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border-2 border-orange-200 rounded-xl p-6",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg",children:s.jsx(Ds,{className:"text-white",size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Team Collaboration"}),s.jsx("p",{className:"text-gray-700 mb-4",children:"Collaborate with your team by inviting members to access your CVSift account. Share CVs, job specs, and work together seamlessly."}),s.jsxs("div",{className:"bg-white border border-orange-200 rounded-lg p-4 mb-4",children:[s.jsx("p",{className:"text-sm font-semibold text-orange-900 mb-2",children:"Available on:"}),s.jsxs("ul",{className:"space-y-1 text-sm text-gray-700",children:[s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Pt,{size:16,className:"text-green-500"}),"Professional: Up to 3 team members"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Pt,{size:16,className:"text-green-500"}),"Business: Up to 10 team members"]}),s.jsxs("li",{className:"flex items-center gap-2",children:[s.jsx(Pt,{size:16,className:"text-green-500"}),"Enterprise: Unlimited team members"]})]})]}),s.jsx("button",{onClick:()=>window.location.href="/pricing",className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl hover:scale-105",children:"Upgrade to Professional"})]})]})})}function u0e(){const{currentUser:t,logout:e,userData:r}=gi(),n=ni(),i=cd(),a=An(),c=new URLSearchParams(window.location.search).get("tab"),[d,h]=V.useState({displayName:t?.displayName||"",email:t?.email||"",currentPassword:"",newPassword:"",confirmPassword:""}),[f,p]=V.useState(!1),[x,g]=V.useState(""),[w,v]=V.useState(""),[_,j]=V.useState(c||"profile"),[E,C]=V.useState(!1),[z,P]=V.useState(!1),[X,U]=V.useState([]),[M,D]=V.useState(!1),[G,L]=V.useState(""),[I,B]=V.useState(""),[k,re]=V.useState(""),[Y,Q]=V.useState(!1),[se,oe]=V.useState(null),[pe,H]=V.useState({isOpen:!1,factorUid:null}),[R,J]=V.useState(!1),[ee,ae]=V.useState([]),[be,je]=V.useState({email:"",password:"",displayName:""}),[de,ge]=V.useState(!1),[Ie,Ve]=V.useState({isOpen:!1,subMasterId:null,email:""}),[Re,mt]=V.useState({isOpen:!1,subMasterId:null,email:"",isActive:!1}),[$,ie]=V.useState(!1),[Pe,xe]=V.useState(""),[he,ve]=V.useState(!1),[ze,De]=V.useState(!1),[Ce,Ye]=V.useState(!1);V.useEffect(()=>{t&&(async()=>{try{const At=await wr(a,"checkPrimaryMaster")();J(At.data.isPrimaryMaster),At.data.isPrimaryMaster&&Tt()}catch(vt){console.error("Error checking primary master status:",vt)}})()},[t]),V.useEffect(()=>{if(t){const Je=Zi.currentUser;if(Je){const vt=Em(Je).enrolledFactors;U(vt),C(vt.length>0)}}},[t]),V.useEffect(()=>{if(M&&!se){const Je=setTimeout(()=>{try{const vt=document.getElementById("recaptcha-container");if(!vt)return;vt.innerHTML="";const At=new QR(Zi,"recaptcha-container",{size:"normal",callback:Nt=>{console.log("reCAPTCHA solved successfully")},"error-callback":Nt=>{console.error("reCAPTCHA error:",Nt),i.error("Security verification failed. Please try again.")}});At.render().then(Nt=>{console.log("reCAPTCHA widget rendered:",Nt),oe(At)}).catch(Nt=>{console.error("Error rendering reCAPTCHA:",Nt)})}catch(vt){console.error("Error initializing reCAPTCHA:",vt)}},100);return()=>clearTimeout(Je)}return()=>{if(se&&!M)try{se.clear(),oe(null)}catch(Je){console.error("Error clearing reCAPTCHA:",Je)}}},[M]);const ot=async()=>{if(console.log("=== MFA Enrollment Started ==="),console.log("Phone number:",G),console.log("RecaptchaVerifier exists:",!!se),!G||G.length<10){i.error("Please enter a valid phone number");return}if(!se){console.error("RecaptchaVerifier not initialized!"),i.error("Security verification not ready. Please wait a moment and try again.");return}P(!0);try{console.log("Step 1: Getting current user...");const Je=Zi.currentUser;if(!Je)throw new Error("Not authenticated");console.log("User ID:",Je.uid),console.log("Step 2: Getting MFA session...");const vt=await Em(Je).getSession();console.log("Session obtained:",!!vt);const At=G.startsWith("+")?G:`+${G}`;console.log("Step 3: Formatted phone number:",At);const Nt={phoneNumber:At,session:vt};console.log("Step 4: Initiating phone verification...");const sr=new Hc(Zi),yi=new Promise((na,Gn)=>{setTimeout(()=>Gn(new Error("Phone verification timeout after 30 seconds")),3e4)}),Wn=await Promise.race([sr.verifyPhoneNumber(Nt,se),yi]);console.log("Step 5: Verification ID received:",Wn),re(Wn),Q(!0),i.success("Verification code sent to your phone!"),console.log("=== MFA Enrollment Success ===");try{await wr(a,"logSmsVerification")({phoneNumber:G,purpose:"mfa_enrollment"})}catch(na){console.error("Failed to log SMS verification:",na)}}catch(Je){console.error("=== MFA Enrollment Error ==="),console.error("Error code:",Je.code),console.error("Error message:",Je.message),console.error("Full error:",Je),Je.code==="auth/operation-not-allowed"?i.error("Multi-factor authentication is not enabled. Please contact support to enable MFA for your account."):Je.code==="auth/invalid-phone-number"?i.error("Invalid phone number format. Please include country code (e.g., +27821234567)"):Je.code==="auth/too-many-requests"?i.error("Too many requests. Please try again later."):Je.code==="auth/captcha-check-failed"?i.error("Security verification failed. Please refresh the page and try again. If the issue persists, contact support."):Je.code==="auth/missing-phone-number"?i.error("Please enter a phone number"):i.error(Je.message||"Failed to send verification code")}finally{P(!1),console.log("MFA loading set to false")}},Qe=async()=>{if(!I||I.length!==6){i.error("Please enter a valid 6-digit code");return}P(!0);try{const Je=Zi.currentUser;if(!Je)throw new Error("Not authenticated");const vt=Hc.credential(k,I),At=Rj.assertion(vt);await Em(Je).enroll(At,G),i.success("Two-factor authentication enabled successfully!");const Nt=Em(Je).enrolledFactors;U(Nt),C(Nt.length>0),D(!1),L(""),B(""),re(""),Q(!1)}catch(Je){console.error("Error completing MFA enrollment:",Je),Je.code==="auth/invalid-verification-code"?i.error("Invalid verification code. Please check and try again."):Je.code==="auth/code-expired"?i.error("Verification code expired. Please request a new code."):Je.code==="auth/session-expired"?i.error("Session expired. Please start the enrollment process again."):i.error(Je.message||"Failed to verify code")}finally{P(!1)}},ct=async()=>{const{factorUid:Je}=pe;P(!0),H({isOpen:!1,factorUid:null});try{const vt=Zi.currentUser;if(!vt)throw new Error("Not authenticated");const At=Em(vt),Nt=At.enrolledFactors.find(sr=>sr.uid===Je);if(Nt){await At.unenroll(Nt),i.success("Two-factor authentication disabled");const sr=Em(vt).enrolledFactors;U(sr),C(sr.length>0)}}catch(vt){console.error("Error unenrolling MFA:",vt),i.error(vt.message||"Failed to disable 2FA")}finally{P(!1)}},Tt=async()=>{try{const vt=await wr(a,"listSubMasters")();ae(vt.data.subMasters||[])}catch(Je){console.error("Error loading sub-masters:",Je),i.error("Failed to load sub-master accounts")}},bt=async Je=>{Je.preventDefault(),ge(!0);try{await wr(a,"addSubMaster")({email:be.email,password:be.password,displayName:be.displayName}),i.success(`Sub-master account created for ${be.email}`),je({email:"",password:"",displayName:""}),Tt()}catch(vt){console.error("Error adding sub-master:",vt),i.error(vt.message||"Failed to add sub-master account")}finally{ge(!1)}},Se=async()=>{try{await wr(a,"toggleSubMasterStatus")({subMasterId:Re.subMasterId,isActive:!Re.isActive}),i.success(`Sub-master account ${Re.isActive?"disabled":"enabled"}`),mt({isOpen:!1,subMasterId:null,email:"",isActive:!1}),Tt()}catch(Je){console.error("Error toggling sub-master:",Je),i.error(Je.message||"Failed to toggle sub-master status")}},Le=async()=>{try{await wr(a,"deleteSubMaster")({subMasterId:Ie.subMasterId}),i.success("Sub-master account deleted successfully"),Ve({isOpen:!1,subMasterId:null,email:""}),Tt()}catch(Je){console.error("Error deleting sub-master:",Je),i.error(Je.message||"Failed to delete sub-master account")}},Xe=Je=>{h({...d,[Je.target.name]:Je.target.value})},xt=Je=>{je({...be,[Je.target.name]:Je.target.value})},ht=async Je=>{Je.preventDefault(),p(!0),v(""),g("");try{await qR(Zi.currentUser,{displayName:d.displayName}),await cp(Ji(Jr,"users",t.uid),{displayName:d.displayName}),g("Profile updated successfully!")}catch(vt){v(vt.message||"Failed to update profile")}finally{p(!1)}},ft=async Je=>{Je.preventDefault(),p(!0),v(""),g("");try{await ZH(Zi.currentUser,d.email),await cp(Ji(Jr,"users",t.uid),{email:d.email}),g("Email updated successfully!")}catch(vt){vt.code==="auth/requires-recent-login"?v("Please sign out and sign in again to update your email"):v(vt.message||"Failed to update email")}finally{p(!1)}},Ct=async Je=>{if(Je.preventDefault(),p(!0),v(""),g(""),d.newPassword!==d.confirmPassword){v("New passwords do not match"),p(!1);return}if(d.newPassword.length<6){v("Password must be at least 6 characters"),p(!1);return}try{await QH(Zi.currentUser,d.newPassword),g("Password updated successfully!"),h({...d,currentPassword:"",newPassword:"",confirmPassword:""})}catch(vt){vt.code==="auth/requires-recent-login"?v("Please sign out and sign in again to change your password"):v(vt.message||"Failed to update password")}finally{p(!1)}},Bt=Je=>Je?new Date(Je).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}):"Unknown",$t=async()=>{try{ve(!0);const vt=await wr(a,"cancelSubscription")();vt.data.success&&(De(!1),i.success(vt.data.message),window.location.reload())}catch(Je){console.error("Error cancelling subscription:",Je),i.error(Je.message||"Failed to cancel subscription")}finally{ve(!1)}},ur=()=>{Ye(!1),ie(!0)},er=async()=>{if(!Pe){i.error("Please select a plan to downgrade to");return}try{ve(!0);const vt=await wr(a,"downgradePlan")({newPlan:Pe});vt.data.success&&(i.success(vt.data.message),ie(!1),window.location.reload())}catch(Je){console.error("Error downgrading plan:",Je),i.error(Je.message||"Failed to downgrade plan")}finally{ve(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>n("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(ic,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Account Settings"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Profile Manager"})]})]})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(ic,{size:28})}),"Account Settings"]}),s.jsx("p",{className:"text-orange-100 text-lg",children:"Manage your account details and preferences"})]}),s.jsx("div",{className:"hidden lg:block",children:s.jsx(MT,{className:"w-24 h-24 text-white/20"})})]})}),x&&s.jsxs("div",{className:"mb-6 p-5 bg-gradient-to-r from-green-50 to-green-100 border-2 border-green-200 rounded-2xl flex items-start gap-4 shadow-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(cn,{className:"text-white",size:20})}),s.jsx("p",{className:"text-green-900 font-semibold",children:x})]}),w&&s.jsxs("div",{className:"mb-6 p-5 bg-gradient-to-r from-red-50 to-red-100 border-2 border-red-200 rounded-2xl flex items-start gap-4 shadow-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-red-500 to-red-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(en,{className:"text-white",size:20})}),s.jsx("p",{className:"text-red-900 font-semibold",children:w})]}),s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"border-b-2 border-gray-100 bg-gradient-to-r from-gray-50 to-orange-50/30",children:s.jsxs("div",{className:"flex",children:[s.jsx("button",{onClick:()=>j("profile"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="profile"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(ic,{size:18}),s.jsx("span",{children:"Profile"})]})}),s.jsx("button",{onClick:()=>j("account"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="account"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(ac,{size:18}),s.jsx("span",{children:"Account"})]})}),s.jsx("button",{onClick:()=>j("security"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="security"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(_0,{size:18}),s.jsx("span",{children:"Security"})]})}),(!r?.teamAccess?.isTeamMember||r?.teamAccess?.role==="admin")&&s.jsx("button",{onClick:()=>j("cvpacks"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="cvpacks"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Lv,{size:18}),s.jsx("span",{children:"CV Packs"})]})}),s.jsx("button",{onClick:()=>j("customfields"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="customfields"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Wu,{size:18}),s.jsx("span",{children:"Custom Fields"})]})}),!r?.teamAccess?.isTeamMember&&s.jsx("button",{onClick:()=>j("team"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="team"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Ds,{size:18}),s.jsx("span",{children:"Team"})]})}),R&&s.jsx("button",{onClick:()=>j("masters"),className:`flex-1 px-6 py-4 text-sm font-bold transition-all relative ${_==="masters"?"text-orange-500 border-b-2 border-orange-500 bg-orange-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:s.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[s.jsx(Zl,{size:18}),s.jsx("span",{children:"Master Management"})]})})]})}),s.jsxs("div",{className:"p-8",children:[_==="profile"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(ic,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Profile Information"})]}),s.jsxs("div",{className:"mb-8 flex items-center space-x-6 p-6 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-2xl border border-gray-200",children:[s.jsxs("div",{className:"relative",children:[t?.photoURL?s.jsx("img",{src:t.photoURL,alt:t.displayName,className:"w-24 h-24 rounded-2xl object-cover border-4 border-white shadow-lg"}):s.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-orange-500 to-orange-600 flex items-center justify-center border-4 border-white shadow-lg",children:s.jsx("span",{className:"text-white text-3xl font-bold",children:t?.displayName?.charAt(0).toUpperCase()||"U"})}),s.jsx("button",{className:"absolute bottom-0 right-0 w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl border-2 border-white flex items-center justify-center hover:scale-110 transition-all shadow-md",children:s.jsx(MT,{size:18,className:"text-white"})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t?.displayName}),s.jsx("p",{className:"text-gray-600 font-medium",children:t?.email})]})]}),s.jsxs("form",{onSubmit:ht,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",name:"displayName",value:d.displayName,onChange:Xe,className:"w-full px-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Your full name"})]}),s.jsxs("button",{type:"submit",disabled:f,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsx(n0,{size:20}),s.jsx("span",{children:f?"Saving...":"Save Changes"})]})]})]}),_==="account"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(ac,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Account Details"})]}),s.jsxs("div",{className:"space-y-6 mb-8",children:[r?.teamAccess?.isTeamMember&&s.jsx("div",{className:"p-5 bg-gradient-to-r from-purple-50 to-purple-100 border-2 border-purple-200 rounded-2xl shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(Ds,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-purple-900 font-bold text-lg mb-1",children:"Team Member Account"}),s.jsxs("p",{className:"text-purple-700 text-sm mb-2",children:["You are a ",s.jsx("span",{className:"font-semibold capitalize",children:r.teamAccess.role})," with access to the team owner's account"]}),s.jsxs("div",{className:"flex items-center gap-2 text-purple-600 text-xs",children:[s.jsx(Zl,{size:14}),s.jsxs("span",{children:["Access Level: ",r.teamAccess.role==="admin"?"Full Access":"Limited Access"]})]})]})]})}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(Uf,{className:"text-gray-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:r?.teamAccess?.isTeamMember?"Team Member Since":"Member Since"})]}),s.jsx("p",{className:"text-gray-900 font-semibold ml-8",children:Bt(t?.userData?.createdAt)})]}),s.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx(Nee,{className:"text-gray-600",size:20}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:r?.teamAccess?.isTeamMember?"Team Account Plan":"Current Plan"})]}),s.jsxs("p",{className:"text-gray-900 font-semibold ml-8 capitalize",children:[t?.userData?.plan||"Free"," Plan"]}),r?.teamAccess?.isTeamMember&&s.jsxs("p",{className:"text-xs text-purple-600 ml-8 mt-1 flex items-center gap-1",children:[s.jsx(Ds,{size:12}),"Inherited from team owner"]}),s.jsxs("p",{className:"text-sm text-gray-600 ml-8 mt-1",children:[t?.userData?.cvUploadsThisMonth||0,t?.userData?.plan!=="enterprise"&&t?.userData?.cvUploadLimit!==-1?` / ${t?.userData?.cvUploadLimit||10}`:""," CVs uploaded this month"]}),t?.userData?.subscriptionStatus==="active"&&!r?.teamAccess?.isTeamMember&&s.jsxs("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-green-600 font-medium mb-2",children:"Active Subscription"}),s.jsxs("div",{className:"flex gap-2",children:[(()=>{const Je={free:0,starter:1,basic:2,professional:3,business:4,enterprise:5},vt=(t?.userData?.plan||"free").toLowerCase();return Je[vt]>1?s.jsx("button",{onClick:()=>Ye(!0),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1.5 rounded-lg font-medium transition-all",children:"Downgrade Plan"}):null})(),s.jsx("button",{onClick:()=>De(!0),className:"text-xs bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-lg font-medium transition-all",children:"Cancel Subscription"})]})]}),r?.teamAccess?.isTeamMember&&s.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"Subscription managed by team owner"})}),t?.userData?.subscriptionStatus==="pending_cancellation"&&s.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Subscription ends at the end of billing period"})}),t?.userData?.pendingPlan&&s.jsx("div",{className:"ml-8 mt-3 pt-3 border-t border-gray-200",children:s.jsxs("p",{className:"text-xs text-blue-600 font-medium",children:["Scheduled downgrade to ",t?.userData?.pendingPlan," at end of billing period"]})})]})]}),s.jsxs("form",{onSubmit:ft,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsx("input",{type:"email",name:"email",value:d.email,onChange:Xe,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none",placeholder:"your.email@example.com"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Changing your email may require you to sign in again"})]}),s.jsxs("button",{type:"submit",disabled:f||d.email===t?.email,className:"flex items-center space-x-2 bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsx(n0,{size:20}),s.jsx("span",{children:f?"Updating...":"Update Email"})]})]})]}),_==="security"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(_0,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Security Settings"})]}),t?.providerData?.[0]?.providerId==="google.com"?s.jsx("div",{className:"p-6 bg-gradient-to-r from-blue-50 to-blue-100 border-2 border-blue-200 rounded-2xl shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(en,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-blue-900 font-bold text-lg mb-1",children:"Google Account"}),s.jsx("p",{className:"text-blue-800 font-medium",children:"You're signed in with Google. Password changes must be made through your Google Account settings."})]})]})}):s.jsxs("form",{onSubmit:Ct,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"New Password"}),s.jsx("input",{type:"password",name:"newPassword",value:d.newPassword,onChange:Xe,className:"w-full px-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Enter new password"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Confirm New Password"}),s.jsx("input",{type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:Xe,className:"w-full px-4 py-3.5 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Confirm new password"})]}),s.jsxs("button",{type:"submit",disabled:f||!d.newPassword||!d.confirmPassword,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-8 py-3.5 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsx(n0,{size:20}),s.jsx("span",{children:f?"Updating...":"Update Password"})]}),s.jsx("div",{className:"p-4 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-xl border border-gray-200",children:s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:"Password must be at least 6 characters long"})})]}),s.jsxs("div",{className:"mt-10 pt-10 border-t-2 border-gray-200",children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(i0,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Two-Factor Authentication (2FA)"}),s.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]})]}),!t?.userData?.plan||t?.userData?.plan==="free"||t?.userData?.plan==="Free"?s.jsx("div",{className:"p-6 bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl shadow-lg",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(Zl,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-900 font-bold text-lg mb-2",children:"Upgrade to Enable 2FA"}),s.jsx("p",{className:"text-orange-800 font-medium mb-4",children:"Two-factor authentication is available on Starter, Professional, and Enterprise plans."}),s.jsx("button",{onClick:()=>n("/pricing"),className:"px-6 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-lg font-semibold transition-all hover:scale-105 shadow-lg",children:"View Plans"})]})]})}):s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:`p-6 rounded-2xl border-2 shadow-lg ${E?"bg-gradient-to-r from-green-50 to-green-100 border-green-200":"bg-gradient-to-r from-gray-50 to-gray-100 border-gray-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md ${E?"bg-gradient-to-br from-green-500 to-green-600":"bg-gradient-to-br from-gray-400 to-gray-500"}`,children:s.jsx(Zl,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-lg text-gray-900 mb-1",children:E?"2FA Enabled":"2FA Disabled"}),s.jsx("p",{className:"text-sm text-gray-700 font-medium",children:E?"Your account is protected with two-factor authentication":"Add an extra layer of security to your account"}),E&&X.length>0&&s.jsx("div",{className:"mt-3 space-y-2",children:X.map((Je,vt)=>s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(i0,{size:16,className:"text-green-600"}),s.jsx("span",{className:"font-medium text-gray-700",children:Je.displayName||`Phone ending in ${Je.phoneNumber?.slice(-4)}`})]},vt))})]})]}),s.jsx("button",{onClick:()=>D(!M),disabled:z,className:`px-6 py-2.5 rounded-lg font-semibold transition-all hover:scale-105 shadow-lg ${E||M?"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white":"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white"} disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100`,children:z?"Processing...":E?"Manage 2FA":M?"Cancel":"Enable 2FA"})]})}),M&&!E&&s.jsxs("div",{className:"p-6 bg-white border-2 border-blue-200 rounded-2xl shadow-lg",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-4",children:"Enable Two-Factor Authentication"}),Y?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-green-800 font-medium",children:["Verification code sent to ",G]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Code"}),s.jsx("input",{type:"text",value:I,onChange:Je=>B(Je.target.value),placeholder:"123456",maxLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none text-center text-2xl tracking-widest"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter the 6-digit code sent to your phone"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{Q(!1),B("")},className:"flex-1 px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition-all",children:"Back"}),s.jsx("button",{onClick:Qe,disabled:z||I.length!==6,className:"flex-1 px-6 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white rounded-lg font-semibold transition-all hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:z?"Verifying...":"Verify & Enable"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (with country code)"}),s.jsx("input",{type:"tel",value:G,onChange:Je=>L(Je.target.value),placeholder:"+27821234567",className:"w-full px-4 py-3 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"}),s.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter your phone number with country code (e.g., +27 for South Africa)"})]}),s.jsx("button",{onClick:ot,disabled:z||!G,className:"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-lg font-semibold transition-all hover:scale-105 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:z?"Sending...":"Send Verification Code"})]}),s.jsx("div",{id:"recaptcha-container"})]}),E&&M&&s.jsxs("div",{className:"p-6 bg-white border-2 border-green-200 rounded-2xl shadow-lg",children:[s.jsx("h4",{className:"font-bold text-lg text-gray-900 mb-4",children:"Manage Two-Factor Authentication"}),s.jsx("div",{className:"space-y-3",children:X.map((Je,vt)=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(i0,{size:20,className:"text-green-600"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Je.displayName||"Phone Number"}),s.jsxs("p",{className:"text-sm text-gray-600",children:["Enrolled on ",Je.enrollmentTime?new Date(Je.enrollmentTime).toLocaleDateString():"N/A"]})]})]}),s.jsx("button",{onClick:()=>H({isOpen:!0,factorUid:Je.uid}),disabled:z,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg font-semibold transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:"Remove"})]},vt))})]}),s.jsx("div",{className:"p-5 bg-gradient-to-r from-blue-50 to-blue-100 border border-blue-200 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(en,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{className:"text-sm text-blue-900",children:[s.jsx("p",{className:"font-bold mb-1",children:"About Two-Factor Authentication"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-800",children:[s.jsx("li",{children:"Requires your phone number for SMS verification"}),s.jsx("li",{children:"You'll need to enter a code sent to your phone when signing in"}),s.jsx("li",{children:"Significantly increases your account security"}),s.jsx("li",{children:"Available on all paid plans"})]})]})]})})]})]})]}),_==="cvpacks"&&s.jsx(s0e,{}),_==="customfields"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Wu,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Custom Fields"})]}),s.jsx(o0e,{})]}),_==="team"&&!r?.teamAccess?.isTeamMember&&s.jsx(c0e,{}),_==="masters"&&R&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-6 flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Zl,{className:"text-white",size:20})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Master Account Management"})]}),s.jsx("div",{className:"mb-8 p-4 bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-200 rounded-2xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-md",children:s.jsx(en,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-orange-900 font-bold mb-1",children:"Primary Master Account"}),s.jsx("p",{className:"text-orange-800 text-sm",children:"You can create sub-master accounts with full SaaS access. Sub-masters cannot create additional master accounts."})]})]})}),s.jsxs("div",{className:"mb-8 p-6 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-2xl border-2 border-gray-200",children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(zv,{size:20,className:"text-orange-500"}),"Add New Sub-Master Account"]}),s.jsxs("form",{onSubmit:bt,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",name:"email",value:be.email,onChange:xt,required:!0,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"submaster@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Display Name"}),s.jsx("input",{type:"text",name:"displayName",value:be.displayName,onChange:xt,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"John Doe"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-bold text-gray-900 mb-2",children:"Password * (minimum 6 characters)"}),s.jsx("input",{type:"password",name:"password",value:be.password,onChange:xt,required:!0,minLength:6,className:"w-full px-4 py-3 border-2 border-gray-300 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none font-medium transition-all",placeholder:"Enter password"})]}),s.jsxs("button",{type:"submit",disabled:de||!be.email||!be.password,className:"flex items-center gap-2 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-6 py-3 rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[s.jsx(zv,{size:20}),s.jsx("span",{children:de?"Creating...":"Create Sub-Master Account"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Zl,{size:20,className:"text-orange-500"}),"Sub-Master Accounts (",ee.length,")"]}),ee.length===0?s.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border-2 border-dashed border-gray-300",children:[s.jsx(Zl,{className:"mx-auto text-gray-400 mb-3",size:48}),s.jsx("p",{className:"text-gray-600 font-medium",children:"No sub-master accounts yet"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Create your first sub-master account above"})]}):s.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-200 overflow-hidden shadow-lg",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gradient-to-r from-orange-500 to-orange-600 text-white",children:[s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Email"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Display Name"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold",children:"Created"}),s.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200",children:ee.map(Je=>s.jsxs("tr",{className:"hover:bg-orange-50/50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ac,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:Je.email})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-700 font-medium",children:Je.displayName})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-bold ${Je.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Je.isActive?"Active":"Disabled"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-gray-600",children:Je.createdAt?new Date(Je.createdAt).toLocaleDateString():"N/A"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>mt({isOpen:!0,subMasterId:Je.id,email:Je.email,isActive:Je.isActive}),className:`p-2 rounded-lg transition-all hover:scale-110 ${Je.isActive?"bg-red-100 text-red-600 hover:bg-red-200":"bg-green-100 text-green-600 hover:bg-green-200"}`,title:Je.isActive?"Disable":"Enable",children:s.jsx(BT,{size:16})}),s.jsx("button",{onClick:()=>Ve({isOpen:!0,subMasterId:Je.id,email:Je.email}),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all hover:scale-110",title:"Delete",children:s.jsx(Os,{size:16})})]})})]},Je.id))})]})})})]})]})]})]})]}),s.jsx(pl,{isOpen:Ie.isOpen,onClose:()=>Ve({isOpen:!1,subMasterId:null,email:""}),onConfirm:Le,title:"Delete Sub-Master Account",message:`Are you sure you want to permanently delete the sub-master account for ${Ie.email}? This action cannot be undone.`,confirmText:"Delete Account",type:"danger",icon:Os}),s.jsx(pl,{isOpen:Re.isOpen,onClose:()=>mt({isOpen:!1,subMasterId:null,email:"",isActive:!1}),onConfirm:Se,title:Re.isActive?"Disable Sub-Master Account":"Enable Sub-Master Account",message:`Are you sure you want to ${Re.isActive?"disable":"enable"} the sub-master account for ${Re.email}?`,confirmText:Re.isActive?"Disable":"Enable",type:Re.isActive?"warning":"success",icon:BT}),s.jsx(pl,{isOpen:pe.isOpen,onClose:()=>H({isOpen:!1,factorUid:null}),onConfirm:ct,title:"Disable Two-Factor Authentication",message:"Are you sure you want to disable two-factor authentication? Your account will be less secure without it.",confirmText:"Disable 2FA",cancelText:"Keep 2FA",type:"danger",icon:Zl,confirmLoading:z}),s.jsx(pl,{isOpen:ze,onClose:()=>De(!1),onConfirm:$t,title:"Cancel Subscription",message:"Are you sure you want to cancel your subscription? You will continue to have access until the end of your billing period.",confirmText:"Cancel Subscription",cancelText:"Keep Subscription",type:"danger",confirmLoading:he}),s.jsx(pl,{isOpen:Ce,onClose:()=>Ye(!1),onConfirm:ur,title:"Downgrade Plan",message:"Are you sure you want to downgrade your plan? The downgrade will take effect at the end of your billing period. You'll be able to select the new plan in the next step.",confirmText:"Continue",cancelText:"Cancel",type:"warning"}),$&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 shadow-2xl",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Downgrade Plan"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Select the plan you want to downgrade to. The downgrade will take effect at the end of your current billing period."}),s.jsx("div",{className:"space-y-3 mb-6",children:(()=>{const Je=["starter","basic","professional","business"].filter(vt=>{const At={free:0,starter:1,basic:2,professional:3,business:4,enterprise:5},Nt=(t?.userData?.plan||"free").toLowerCase();return At[vt]<At[Nt]});return Je.length===0?s.jsxs("div",{className:"p-6 bg-blue-50 border-2 border-blue-200 rounded-lg text-center",children:[s.jsx("p",{className:"text-blue-900 font-semibold mb-2",children:"You're on the lowest paid plan"}),s.jsx("p",{className:"text-sm text-blue-700",children:"To downgrade further, you can cancel your subscription and return to the Free plan."})]}):Je.map(vt=>s.jsxs("button",{onClick:()=>xe(vt),className:`w-full p-4 rounded-lg border-2 text-left transition-all ${Pe===vt?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300"}`,children:[s.jsxs("div",{className:"font-bold text-gray-900 capitalize",children:[vt," Plan"]}),s.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[vt==="starter"&&"50 CVs/month - R199/month",vt==="basic"&&"150 CVs/month - R399/month",vt==="professional"&&"600 CVs/month - R999/month",vt==="business"&&"1,500 CVs/month - R1,999/month"]})]},vt))})()}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{ie(!1),xe("")},className:"flex-1 px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-900 rounded-lg font-semibold transition-all",disabled:he,children:"Cancel"}),s.jsx("button",{onClick:er,disabled:!Pe||he,className:"flex-1 px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:he?"Processing...":"Confirm Downgrade"})]})]})})]})}function Ox({value:t,onChange:e,options:r,placeholder:n="Select...",className:i=""}){const[a,l]=V.useState(!1),c=V.useRef(null);V.useEffect(()=>{function h(f){c.current&&!c.current.contains(f.target)&&l(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=r.find(h=>h.value===t);return s.jsxs("div",{ref:c,className:`relative ${i}`,style:{zIndex:a?1e3:"auto"},children:[s.jsxs("button",{type:"button",onClick:()=>l(!a),className:"w-full px-4 py-2.5 bg-white border border-gray-300 rounded-lg flex items-center justify-between hover:border-orange-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-colors",children:[s.jsx("span",{className:`text-sm ${!t||t===""||t==="any"?"text-gray-500":"text-gray-900 font-medium"}`,children:d?.label||n}),s.jsx(nc,{size:16,className:`text-gray-400 transition-transform ${a?"transform rotate-180":""}`})]}),a&&s.jsx("div",{className:"absolute z-[1001] w-full mt-2 bg-white border border-gray-200 rounded-lg shadow-xl max-h-60 overflow-auto",children:r.map(h=>s.jsxs("button",{type:"button",onClick:()=>{e(h.value),l(!1)},className:`w-full px-4 py-2.5 text-left text-sm hover:bg-orange-50 transition-colors flex items-center justify-between ${t===h.value?"bg-orange-50 text-orange-600 font-medium":"text-gray-700"}`,children:[s.jsx("span",{children:h.label}),t===h.value&&s.jsx(Pt,{size:16,className:"text-orange-600"})]},h.value))})]})}function d0e(){const{currentUser:t,userData:e}=gi(),r=ni(),n=cd(),[i,a]=V.useState([]),[l,c]=V.useState(!0),[d,h]=V.useState(!1),[f,p]=V.useState(null),[x,g]=V.useState(!1),[w,v]=V.useState({isOpen:!1,specId:null}),[_,j]=V.useState(!1),[E,C]=V.useState({basic:!0,requirements:!0,demographic:!0}),z=k=>{C(re=>({...re,[k]:!re[k]}))},[P,X]=V.useState({title:"",location:"",locationType:"onsite",department:"",minExperience:"",maxExperience:"",requiredSkills:"",preferredSkills:"",education:"",gender:"any",race:"any",minAge:"",maxAge:"",description:"",isActive:!0});V.useEffect(()=>{!t||!e||U()},[t,e]);const U=async()=>{if(t)try{c(!0);const k=e?.teamAccess;let re=[];if(k?.isTeamMember&&k?.teamOwnerId){console.log("Fetching team job specs via Cloud Function");const Y=An(),se=await wr(Y,"getTeamJobSpecs")();se.data.success&&(re=se.data.jobSpecs,console.log("Team job specs fetched:",re.length))}else{console.log("Loading job specs for user:",t.uid);try{const Y=Xc(vl(Jr,"jobSpecs"),Is("userId","==",t.uid),Cv("createdAt","desc"));re=(await Zc(Y)).docs.map(se=>({id:se.id,...se.data()}))}catch(Y){if(Y.code==="failed-precondition"||Y.message.includes("index")){const Q=Xc(vl(Jr,"jobSpecs"),Is("userId","==",t.uid));re=(await Zc(Q)).docs.map(oe=>({id:oe.id,...oe.data()})),re.sort((oe,pe)=>new Date(pe.createdAt)-new Date(oe.createdAt))}else throw Y}}a(re)}catch(k){console.error("Error loading job specs:",k),alert(`Error loading job specs: ${k.message}`)}finally{c(!1)}},M=()=>{if(!e||!Km(e?.plan)){g(!0);return}const k=jw(e?.plan);if(k!==-1&&i.length>=k){n.error(`You've reached your plan's limit of ${k} job specifications. Upgrade your plan to create more.`),g(!0);return}p(null),X({title:"",location:"",locationType:"onsite",department:"",minExperience:"",maxExperience:"",requiredSkills:"",preferredSkills:"",education:"",gender:"any",race:"any",minAge:"",maxAge:"",description:"",isActive:!0}),h(!0)},D=k=>{p(k),X({title:k.title||"",location:k.location||"",locationType:k.locationType||"onsite",department:k.department||"",minExperience:k.minExperience||"",maxExperience:k.maxExperience||"",requiredSkills:Array.isArray(k.requiredSkills)?k.requiredSkills.join(", "):"",preferredSkills:Array.isArray(k.preferredSkills)?k.preferredSkills.join(", "):"",education:k.education||"",gender:k.gender||"any",race:k.race||"any",minAge:k.minAge||"",maxAge:k.maxAge||"",description:k.description||"",isActive:k.isActive!==!1}),h(!0)},G=async()=>{try{j(!0);const k=An(),Y=await wr(k,"deleteJobSpec")({jobSpecId:w.specId});if(Y.data.success)a(i.filter(Q=>Q.id!==w.specId)),n.success("Job specification deleted successfully");else throw new Error(Y.data.message||"Failed to delete job specification")}catch(k){console.error("Error deleting job spec:",k),n.error("Failed to delete job specification")}finally{j(!1),v({isOpen:!1,specId:null})}},L=k=>{v({isOpen:!0,specId:k})},I=async k=>{if(k.preventDefault(),!e||!Km(e?.plan)){g(!0),h(!1);return}try{const re=e?.teamAccess,Y=re?.isTeamMember&&re?.teamOwnerId?re.teamOwnerId:t.uid,Q={userId:Y,createdBy:t.uid,createdByEmail:t.email,createdByName:t.displayName||t.email,title:P.title,location:P.location,locationType:P.locationType,department:P.department,minExperience:P.minExperience?parseInt(P.minExperience):null,maxExperience:P.maxExperience?parseInt(P.maxExperience):null,requiredSkills:P.requiredSkills.split(",").map(se=>se.trim()).filter(se=>se.length>0),preferredSkills:P.preferredSkills.split(",").map(se=>se.trim()).filter(se=>se.length>0),education:P.education,gender:P.gender,race:P.race,minAge:P.minAge?parseInt(P.minAge):null,maxAge:P.maxAge?parseInt(P.maxAge):null,description:P.description,isActive:P.isActive,updatedAt:new Date().toISOString()};if(f){await cp(Ji(Jr,"jobSpecs",f.id),Q),n.success("Job specification updated successfully");try{const se=An();await wr(se,"logJobSpecUpdate")({jobSpecId:f.id,jobSpecTitle:Q.title,userId:t.uid,teamOwnerId:Y})}catch(se){console.error("Error logging job spec update:",se)}}else{Q.createdAt=new Date().toISOString();const se=await MD(vl(Jr,"jobSpecs"),Q);n.success("Job specification created successfully");try{const oe=An();await wr(oe,"logJobSpecCreate")({jobSpecId:se.id,jobSpecTitle:Q.title,userId:t.uid,teamOwnerId:Y})}catch(oe){console.error("Error logging job spec creation:",oe)}}h(!1),U()}catch(re){console.error("Error saving job spec:",re),n.error("Failed to save job specification: "+re.message)}},B=k=>{const{name:re,value:Y,type:Q,checked:se}=k.target;X({...P,[re]:Q==="checkbox"?se:Y})};return l?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Loading job specifications..."})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/30 to-purple-50/30",children:[s.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm sticky top-0 z-10",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>r("/dashboard"),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl transition-all hover:scale-105",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-semibold",children:"Dashboard"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(Jl,{className:"text-white",size:20})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Job Specifications"}),s.jsx("p",{className:"text-xs text-gray-600",children:"CV Matching Manager"})]})]})]})})}),x&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fadeIn",children:s.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full shadow-2xl animate-slideUp",children:[s.jsx("div",{className:"p-6 border-b border-orange-200 bg-gradient-to-r from-orange-50 to-amber-50",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-xl flex items-center justify-center",children:s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx(xh,{className:"text-white",size:24})})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Upgrade to Premium"})]}),s.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg p-2 transition-all",children:s.jsx(Vt,{size:20})})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-700 mb-6 text-base leading-relaxed",children:"Job Specifications with CV matching is a premium feature. Upgrade your plan to unlock more job specs:"}),s.jsxs("ul",{className:"space-y-3 mb-6",children:[s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-blue-50 to-blue-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Starter: 3 job specifications"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Basic: 10 job specifications"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-purple-50 to-purple-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Professional: 30 job specifications"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-orange-50 to-orange-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Business & Enterprise: Unlimited job specs"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"AI-powered CV matching with fit scores"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Advanced filtering by match percentage"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-green-50 to-green-100/50 rounded-xl p-3",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Pt,{className:"text-white",size:14})}),s.jsx("span",{className:"font-medium",children:"Detailed match breakdown reports"})]})]})]}),s.jsx("div",{className:"p-6 bg-gray-50 rounded-b-2xl",children:s.jsx("button",{onClick:()=>r("/settings"),className:"w-full py-3.5 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:"Upgrade Now"})})]})}),!d&&s.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[s.jsx("div",{className:"mb-8 bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 shadow-xl text-white",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(Jl,{size:28})}),"Job Specifications"]}),s.jsx("p",{className:"text-orange-100 text-lg mb-2",children:"Create job specs to match CVs with AI-powered fit scores"}),e&&Km(e?.plan)&&s.jsx("div",{className:"flex items-center gap-2 text-orange-100 text-sm",children:s.jsxs("span",{className:"font-semibold",children:[i.length," / ",jw(e?.plan)===-1?"Unlimited":jw(e?.plan)," Job Specs Used"]})})]}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("button",{onClick:M,className:"hidden lg:flex items-center gap-2 px-6 py-3 bg-white/20 backdrop-blur hover:bg-white/30 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg",children:[s.jsx(mf,{size:20}),"New Job Spec"]})]})}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("button",{onClick:M,className:"lg:hidden w-full mb-6 flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-bold transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[s.jsx(mf,{size:20}),"New Job Spec"]}),i.length===0?s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-12 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg",children:s.jsx(Jl,{className:"text-white",size:40})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Job Specifications Yet"}),s.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto text-lg",children:!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin"?"Create your first job specification to start matching CVs with AI-powered fit scores":"No job specifications available yet. Contact your team owner to create job specifications."}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("button",{onClick:M,className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-bold text-lg transition-all hover:scale-105 shadow-lg shadow-orange-500/30",children:[s.jsx(mf,{size:24}),"Create Job Specification"]})]}):s.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map((k,re)=>s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 hover:shadow-xl transition-all hover:-translate-y-1 group",style:{animationDelay:`${re*50}ms`},children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1 group-hover:text-orange-600 transition-colors",children:k.title}),k.department&&s.jsx("p",{className:"text-sm text-gray-600 font-medium",children:k.department})]}),s.jsx("div",{className:"flex items-center gap-2",children:k.isActive?s.jsx("span",{className:"px-3 py-1.5 bg-gradient-to-r from-green-500 to-green-600 text-white text-xs font-bold rounded-full shadow-md",children:"Active"}):s.jsx("span",{className:"px-3 py-1.5 bg-gray-200 text-gray-700 text-xs font-bold rounded-full",children:"Inactive"})})]}),s.jsxs("div",{className:"space-y-3 mb-6",children:[k.location&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(ib,{size:14,className:"text-white"})}),s.jsxs("span",{className:"font-medium",children:[k.location," ",s.jsxs("span",{className:"text-gray-500",children:["(",k.locationType,")"]})]})]}),(k.minExperience||k.maxExperience)&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(Uf,{size:14,className:"text-white"})}),s.jsxs("span",{className:"font-medium",children:[k.minExperience||0," - ",k.maxExperience||""," years experience"]})]}),k.education&&s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center shadow-md",children:s.jsx(kS,{size:14,className:"text-white"})}),s.jsx("span",{className:"font-medium",children:k.education})]}),k.requiredSkills&&k.requiredSkills.length>0&&s.jsxs("div",{className:"flex items-start gap-3 text-sm text-gray-700 bg-gradient-to-r from-gray-50 to-orange-50/30 rounded-lg p-2.5",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-md flex-shrink-0",children:s.jsx(wee,{size:14,className:"text-white"})}),s.jsxs("span",{className:"line-clamp-2 font-medium",children:[k.requiredSkills.slice(0,3).join(", "),k.requiredSkills.length>3&&` +${k.requiredSkills.length-3} more`]})]})]}),(!e?.teamAccess?.isTeamMember||e?.teamAccess?.role==="admin")&&s.jsxs("div",{className:"flex gap-3 pt-4 border-t-2 border-gray-100",children:[s.jsxs("button",{onClick:()=>D(k),className:"flex-1 flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-gray-100 to-gray-200 text-gray-700 rounded-xl hover:from-gray-200 hover:to-gray-300 transition-all font-semibold hover:scale-105",children:[s.jsx(PS,{size:16}),"Edit"]}),s.jsx("button",{onClick:()=>L(k.id),className:"flex items-center justify-center gap-2 px-4 py-2.5 bg-gradient-to-r from-red-50 to-red-100 text-red-600 rounded-xl hover:from-red-100 hover:to-red-200 transition-all font-semibold hover:scale-105",children:s.jsx(Os,{size:16})})]})]},k.id))})]}),d&&s.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 px-8 py-6",children:[s.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center",children:s.jsx(Jl,{size:20,className:"text-white"})}),f?"Edit Job Specification":"Create New Job Specification"]}),s.jsx("p",{className:"text-orange-100 mt-2",children:"Define requirements to match the perfect candidates"})]}),s.jsxs("form",{onSubmit:I,className:"p-8 space-y-8",children:[s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.basic?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{type:"button",onClick:()=>z("basic"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(Jl,{size:16,className:"text-white"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Basic Information"})]}),E.basic?s.jsx(ih,{size:20,className:"text-gray-600"}):s.jsx(nc,{size:20,className:"text-gray-600"})]}),E.basic&&s.jsxs("div",{className:"p-6 bg-gradient-to-br from-orange-50 to-amber-50",children:[s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Job Title *"}),s.jsx("input",{type:"text",name:"title",value:P.title,onChange:B,required:!0,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Senior Software Engineer"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Department"}),s.jsx("input",{type:"text",name:"department",value:P.department,onChange:B,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Engineering & Technology"})]})]}),s.jsxs("div",{className:"grid gap-5 md:grid-cols-2 mt-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Location"}),s.jsx("input",{type:"text",name:"location",value:P.location,onChange:B,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"e.g. Tech City, California, United States"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Location Type"}),s.jsx(Ox,{value:P.locationType,onChange:k=>X({...P,locationType:k}),options:[{value:"onsite",label:"On-site"},{value:"remote",label:"Remote"},{value:"hybrid",label:"Hybrid"}]})]})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Job Description"}),s.jsx("textarea",{name:"description",value:P.description,onChange:B,rows:4,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300 resize-none",placeholder:`Write clean, efficient, and well-documented code.

Collaborate with cross-functional teams, including product management and design, to define and build new features.`})]})]})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.requirements?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{type:"button",onClick:()=>z("requirements"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-purple-50 to-blue-50 hover:from-purple-100 hover:to-blue-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500 rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(xh,{size:16,className:"text-white"})}),s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Requirements"})]}),E.requirements?s.jsx(ih,{size:20,className:"text-gray-600"}):s.jsx(nc,{size:20,className:"text-gray-600"})]}),E.requirements&&s.jsxs("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-blue-50",children:[s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Min. Experience (years)"}),s.jsx("input",{type:"number",name:"minExperience",value:P.minExperience,onChange:B,min:"0",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"5"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Max. Experience (years)"}),s.jsx("input",{type:"number",name:"maxExperience",value:P.maxExperience,onChange:B,min:"0",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"12"})]})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Required Skills (comma-separated)"}),s.jsx("input",{type:"text",name:"requiredSkills",value:P.requiredSkills,onChange:B,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"Python, Java, JavaScript, TypeScript, SQL, Django, Flask, Spring, React, Node.js, PostgreSQL, MongoDB"})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Preferred Skills (comma-separated)"}),s.jsx("input",{type:"text",name:"preferredSkills",value:P.preferredSkills,onChange:B,className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"AWS, Docker, Kubernetes, CI/CD, Microservices"})]}),s.jsxs("div",{className:"mt-5",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Education Level"}),s.jsx(Ox,{value:P.education,onChange:k=>X({...P,education:k}),options:[{value:"",label:"Any"},{value:"High School",label:"High School"},{value:"Associate Degree",label:"Associate Degree"},{value:"Bachelor's Degree",label:"Bachelor's Degree"},{value:"Master's Degree",label:"Master's Degree"},{value:"Doctorate",label:"Doctorate"}],placeholder:"Select education level"})]})]})]}),s.jsxs("div",{className:`border border-gray-200 rounded-lg ${E.demographic?"overflow-visible":"overflow-hidden"}`,children:[s.jsxs("button",{type:"button",onClick:()=>z("demographic"),className:"w-full px-6 py-4 flex items-center justify-between bg-gradient-to-r from-blue-50 to-cyan-50 hover:from-blue-100 hover:to-cyan-100 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm",children:s.jsx(Ds,{size:16,className:"text-white"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Demographic Preferences"}),s.jsx("p",{className:"text-xs text-gray-600",children:"Optional filters for compliance requirements"})]})]}),E.demographic?s.jsx(ih,{size:20,className:"text-gray-600"}):s.jsx(nc,{size:20,className:"text-gray-600"})]}),E.demographic&&s.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-cyan-50",children:[s.jsxs("div",{className:"grid gap-5 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Gender Preference"}),s.jsx(Ox,{value:P.gender,onChange:k=>X({...P,gender:k}),options:[{value:"any",label:"Any"},{value:"male",label:"Male"},{value:"female",label:"Female"}]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Race Preference"}),s.jsx(Ox,{value:P.race,onChange:k=>X({...P,race:k}),options:[{value:"any",label:"Any"},{value:"african",label:"African"},{value:"asian",label:"Asian"},{value:"coloured",label:"Coloured"},{value:"indian",label:"Indian"},{value:"white",label:"White"}]})]})]}),s.jsxs("div",{className:"grid gap-5 md:grid-cols-2 mt-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Min. Age"}),s.jsx("input",{type:"number",name:"minAge",value:P.minAge,onChange:B,min:"18",max:"100",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"18"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-900 mb-2",children:"Max. Age"}),s.jsx("input",{type:"number",name:"maxAge",value:P.maxAge,onChange:B,min:"18",max:"100",className:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-300",placeholder:"65"})]})]})]})]}),s.jsx("div",{className:"bg-gray-50 rounded-xl p-5 border border-gray-200",children:s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[s.jsx("input",{type:"checkbox",name:"isActive",checked:P.isActive,onChange:B,className:"w-5 h-5 text-orange-500 border-2 border-gray-300 rounded focus:ring-2 focus:ring-orange-500 cursor-pointer"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm font-semibold text-gray-900 block",children:"Active Job Specification"}),s.jsx("span",{className:"text-xs text-gray-600",children:"Make this job spec available for CV matching"})]})]})}),s.jsxs("div",{className:"flex gap-4 pt-2",children:[s.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-all font-semibold hover:scale-[1.02] shadow-sm",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-semibold shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-[1.02]",children:f?"Update Job Specification":"Create Job Specification"})]})]})]})}),s.jsx(pl,{isOpen:w.isOpen,onClose:()=>v({isOpen:!1,specId:null}),onConfirm:G,title:"Delete Job Specification",message:"Are you sure you want to delete this job specification? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",type:"danger",confirmLoading:_})]})}function h0e(){const{currentUser:t}=gi(),e=ni(),r=t?.userData,[n,i]=V.useState([]),[a,l]=V.useState(""),[c,d]=V.useState(!1),[h,f]=V.useState(!1),p=V.useRef(null),x=V.useRef(null),g=()=>{p.current?.scrollIntoView({behavior:"smooth"})};V.useEffect(()=>{g()},[n]),V.useEffect(()=>{r&&!iN(r.plan)?f(!0):r&&i([{role:"assistant",content:" Hi! I'm CVSift Assistant. I'm here to help you with anything related to CVSift - from uploading CVs to understanding match scores. How can I assist you today?",timestamp:new Date}])},[r]);const w=async E=>{if(E.preventDefault(),!a.trim()||c)return;if(!r||!iN(r.plan)){f(!0);return}const C=a.trim();l("");const z={role:"user",content:C,timestamp:new Date};i(P=>[...P,z]),d(!0);try{const P=An(),X=wr(P,"chatWithAssistant"),U=n.slice(-10).map(G=>({role:G.role,content:G.content})),D={role:"assistant",content:(await X({message:C,conversationHistory:U})).data.message,timestamp:new Date};i(G=>[...G,D])}catch(P){console.error("Error sending message:",P);let X="Sorry, I encountered an error. Please try again.";P.code==="permission-denied"&&(f(!0),X="Chatbot is only available for Pro and Enterprise users.");const U={role:"assistant",content:X,timestamp:new Date,isError:!0};i(M=>[...M,U])}finally{d(!1),x.current?.focus()}},v=["How do I upload CVs?","How do I create custom fields?","How does CV matching work?","How do I use custom field templates?","What are the different subscription plans?","How do I filter CVs by custom fields?"],_=E=>{l(E),x.current?.focus()},j=()=>s.jsx("div",{className:"flex justify-start animate-fade-in",children:s.jsxs("div",{className:"flex items-center gap-3 bg-white border border-gray-200 rounded-2xl px-5 py-3.5 shadow-sm",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:s.jsx(Nw,{className:"text-white",size:18})}),s.jsxs("div",{className:"flex gap-1.5",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})});return h?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50 to-purple-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-scale-in",children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(IL,{className:"text-white",size:32})}),s.jsx("button",{onClick:()=>e("/dashboard"),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(Vt,{size:20})})]}),s.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-3",children:"AI Assistant"}),s.jsx("p",{className:"text-gray-600 mb-6 text-lg",children:"Get instant help with CVSift features, best practices, and troubleshooting with our AI-powered assistant."}),s.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-amber-50 border border-orange-200 rounded-xl p-5 mb-6",children:[s.jsxs("p",{className:"text-sm text-orange-900 font-semibold mb-4 flex items-center gap-2",children:[s.jsx($a,{size:16,className:"text-orange-600"}),"Premium Feature - Upgrade to access:"]}),s.jsxs("ul",{className:"space-y-3",children:[s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[s.jsx(Pt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),s.jsx("span",{children:"24/7 AI-powered assistance"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[s.jsx(Pt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),s.jsx("span",{children:"Instant answers to CVSift questions"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[s.jsx(Pt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),s.jsx("span",{children:"Best practices and tips"})]}),s.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[s.jsx(Pt,{className:"text-green-500 flex-shrink-0 mt-0.5",size:18}),s.jsx("span",{children:"Troubleshooting support"})]})]})]}),s.jsx("button",{onClick:()=>e("/settings"),className:"w-full py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all font-semibold shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-[1.02]",children:"Upgrade to Pro"}),s.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full mt-3 py-4 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors font-medium",children:"Back to Dashboard"})]})}):s.jsxs("div",{className:"h-screen bg-gradient-to-br from-gray-50 via-purple-50 to-orange-50 flex flex-col overflow-hidden",children:[s.jsx("div",{className:"flex-shrink-0 bg-white/80 backdrop-blur-sm border-b border-gray-200 shadow-sm z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("button",{onClick:()=>e("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-xl transition-colors",children:s.jsx(po,{size:20})}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:s.jsx(Nw,{className:"text-white",size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CVSift Assistant"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI-powered help  Always here to assist"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-orange-100 to-amber-100 text-orange-700 rounded-full text-sm shadow-sm",children:[s.jsx($a,{size:14}),s.jsx("span",{className:"font-semibold",children:"Pro Feature"})]})]})})}),s.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-transparent min-h-0",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"space-y-6",children:[n.map((E,C)=>s.jsxs("div",{className:`flex ${E.role==="user"?"justify-end":"justify-start"} animate-slide-up`,style:{animationDelay:`${C*50}ms`},children:[E.role==="assistant"&&s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-400 to-purple-600 rounded-full flex items-center justify-center flex-shrink-0 mr-3 shadow-md",children:s.jsx(Nw,{className:"text-white",size:18})}),s.jsxs("div",{className:`max-w-[75%] rounded-2xl px-5 py-3.5 shadow-md ${E.role==="user"?"bg-gradient-to-br from-orange-500 to-orange-600 text-white":E.isError?"bg-red-50 text-red-800 border-2 border-red-200":"bg-white border border-gray-200 text-gray-900"}`,children:[s.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:E.content}),s.jsx("p",{className:`text-xs mt-2 ${E.role==="user"?"text-orange-100":"text-gray-500"}`,children:E.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),E.role==="user"&&s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-400 to-gray-600 rounded-full flex items-center justify-center flex-shrink-0 ml-3 shadow-md",children:s.jsx(ic,{className:"text-white",size:18})})]},C)),c&&s.jsx(j,{}),s.jsx("div",{ref:p})]}),n.length===1&&!c&&s.jsxs("div",{className:"mt-12 animate-fade-in",children:[s.jsxs("p",{className:"text-sm text-gray-700 mb-4 font-semibold flex items-center gap-2",children:[s.jsx($a,{size:16,className:"text-orange-500"}),"Try asking me:"]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:v.map((E,C)=>s.jsx("button",{onClick:()=>_(E),className:"px-5 py-3.5 bg-white border-2 border-gray-200 rounded-xl hover:border-orange-300 hover:bg-orange-50 text-sm text-gray-700 transition-all text-left hover:shadow-md hover:-translate-y-0.5",children:E},C))})]})]})}),s.jsx("div",{className:"flex-shrink-0 bg-white/80 backdrop-blur-sm border-t border-gray-200 shadow-lg z-10",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-5",children:[s.jsxs("form",{onSubmit:w,className:"flex gap-3",children:[s.jsx("input",{ref:x,type:"text",value:a,onChange:E=>l(E.target.value),placeholder:"Ask me anything about CVSift...",className:"flex-1 px-5 py-4 border-2 border-gray-300 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all placeholder-gray-400 hover:border-gray-400",disabled:c}),s.jsxs("button",{type:"submit",disabled:!a.trim()||c,className:"px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-2xl hover:from-orange-600 hover:to-orange-700 transition-all disabled:from-gray-300 disabled:to-gray-300 disabled:cursor-not-allowed flex items-center gap-2 font-medium shadow-lg shadow-orange-500/30 hover:shadow-xl hover:scale-105 disabled:shadow-none disabled:scale-100",children:[s.jsx(RL,{size:20}),s.jsx("span",{className:"hidden sm:inline",children:"Send"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-3 text-center",children:"CVSift Assistant can make mistakes. Please verify important information."})]})}),s.jsx("style",{jsx:!0,children:`
        @keyframes slide-up {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes fade-in {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        @keyframes scale-in {
          from {
            opacity: 0;
            transform: scale(0.95);
          }
          to {
            opacity: 1;
            transform: scale(1);
          }
        }

        .animate-slide-up {
          animation: slide-up 0.3s ease-out forwards;
        }

        .animate-fade-in {
          animation: fade-in 0.4s ease-out forwards;
        }

        .animate-scale-in {
          animation: scale-in 0.3s ease-out forwards;
        }
      `})]})}function f0e(){const[t]=XV(),e=ni(),{currentUser:r}=gi(),n=cd(),[i]=V.useState(t.get("inviteId")),[a,l]=V.useState(!0),[c,d]=V.useState(!1),[h,f]=V.useState(null),[p,x]=V.useState(null),[g,w]=V.useState(!1);V.useEffect(()=>{if(!i){x("Invalid invitation link"),l(!1);return}v()},[i]);const v=async()=>{try{l(!0),x(null);const E=An(),z=await wr(E,"getInviteData")({inviteId:i});z.data.success?f(z.data.invite):x(z.data.message||"Invalid or expired invitation")}catch(E){console.error("Error loading invite:",E),x(E.message||"Failed to load invitation")}finally{l(!1)}},_=async()=>{if(!r){n.error("Please sign in to accept this invitation"),e(`/login?redirect=/accept-invite?inviteId=${i}`);return}try{d(!0);const E=An(),z=await wr(E,"acceptTeamInvite")({inviteId:i});z.data.success?(w(!0),n.success("Successfully joined the team!"),setTimeout(()=>{e("/dashboard")},2e3)):x(z.data.message||"Failed to accept invitation")}catch(E){console.error("Error accepting invite:",E),n.error(E.message||"Failed to accept invitation"),x(E.message||"Failed to accept invitation")}finally{d(!1)}},j=()=>{e("/")};return a?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[s.jsx(Ha,{className:"animate-spin mx-auto text-orange-500 mb-4",size:48}),s.jsx("p",{className:"text-gray-600 font-semibold",children:"Loading invitation..."})]})}):g?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-green-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(cn,{className:"text-green-600",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Welcome to the Team!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"You've successfully joined the team. Redirecting to dashboard..."}),s.jsxs("div",{className:"flex items-center justify-center gap-2 text-orange-500",children:[s.jsx(Ha,{className:"animate-spin",size:20}),s.jsx("span",{className:"font-semibold",children:"Loading..."})]})]})}):p?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 via-rose-50 to-red-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(Dv,{className:"text-red-600",size:48})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-3",children:"Invalid Invitation"}),s.jsx("p",{className:"text-gray-600 mb-6",children:p}),s.jsx("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl",children:"Go to Home"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-amber-50 to-orange-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:s.jsx(Ds,{className:"text-orange-500",size:40})}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Team Invitation"}),s.jsx("p",{className:"text-orange-100",children:"You've been invited to join a CVSift team"})]}),s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6 mb-6",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Invitation Details"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"From:"}),s.jsx("span",{className:"text-gray-900 font-bold",children:h?.teamOwnerName})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Role:"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-bold ${h?.role==="admin"?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:h?.role==="admin"?"Admin":"Member"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-gray-600 font-medium",children:"Email:"}),s.jsx("span",{className:"text-gray-900 font-semibold",children:h?.email})]})]})]}),s.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 rounded-xl p-6 mb-6",children:[s.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(en,{size:18,className:"text-orange-500"}),"What you'll be able to do:"]}),s.jsxs("ul",{className:"space-y-2 text-gray-700",children:[s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"View and search the team's CV database"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Upload new CVs to the library"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Match candidates to job specifications"})]}),s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:18,className:"text-green-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{children:"Access advanced analytics and insights"})]}),h?.role==="admin"&&s.jsxs("li",{className:"flex items-start gap-2",children:[s.jsx(cn,{size:18,className:"text-purple-600 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"font-semibold text-purple-700",children:"Manage team members and settings"})]})]})]}),!r&&s.jsx("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-xl p-4 mb-6",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(en,{className:"text-yellow-600 flex-shrink-0 mt-0.5",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"text-yellow-900 font-semibold mb-1",children:"Sign in required"}),s.jsxs("p",{className:"text-yellow-700 text-sm",children:["You'll need to sign in or create an account with ",s.jsx("strong",{children:h?.email})," to accept this invitation."]})]})]})}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("button",{onClick:j,className:"flex-1 px-6 py-4 bg-gray-100 text-gray-700 rounded-xl font-semibold hover:bg-gray-200 transition-all border-2 border-gray-200",children:"Decline"}),s.jsx("button",{onClick:_,disabled:c,className:"flex-1 px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl font-semibold hover:from-orange-600 hover:to-orange-700 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx(Ha,{className:"animate-spin",size:20}),"Accepting..."]}):s.jsxs(s.Fragment,{children:["Accept Invitation",s.jsx(ree,{size:20})]})})]})]})]})})}const m0e="modulepreload",p0e=function(t){return"/"+t},vP={},e_=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let d=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=d(r.map(h=>{if(h=p0e(h),h in vP)return;vP[h]=!0;const f=h.endsWith(".css"),p=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${p}`))return;const x=document.createElement("link");if(x.rel=f?"stylesheet":m0e,f||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),f)return new Promise((g,w)=>{x.addEventListener("load",g),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function dn(t){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(t)}var cc=Uint8Array,Uo=Uint16Array,n4=Int32Array,i4=new cc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a4=new cc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bP=new cc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),sF=function(t,e){for(var r=new Uo(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new n4(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},oF=sF(i4,2),g0e=oF.b,WN=oF.r;g0e[28]=258,WN[258]=28;var y0e=sF(a4,0),wP=y0e.r,GN=new Uo(32768);for(var On=0;On<32768;++On){var Gd=(On&43690)>>1|(On&21845)<<1;Gd=(Gd&52428)>>2|(Gd&13107)<<2,Gd=(Gd&61680)>>4|(Gd&3855)<<4,GN[On]=((Gd&65280)>>8|(Gd&255)<<8)>>1}var o0=(function(t,e,r){for(var n=t.length,i=0,a=new Uo(e);i<n;++i)t[i]&&++a[t[i]-1];var l=new Uo(e);for(i=1;i<e;++i)l[i]=l[i-1]+a[i-1]<<1;var c;if(r){c=new Uo(1<<e);var d=15-e;for(i=0;i<n;++i)if(t[i])for(var h=i<<4|t[i],f=e-t[i],p=l[t[i]-1]++<<f,x=p|(1<<f)-1;p<=x;++p)c[GN[p]>>d]=h}else for(c=new Uo(n),i=0;i<n;++i)t[i]&&(c[i]=GN[l[t[i]-1]++]>>15-t[i]);return c}),Rf=new cc(288);for(var On=0;On<144;++On)Rf[On]=8;for(var On=144;On<256;++On)Rf[On]=9;for(var On=256;On<280;++On)Rf[On]=7;for(var On=280;On<288;++On)Rf[On]=8;var v1=new cc(32);for(var On=0;On<32;++On)v1[On]=5;var x0e=o0(Rf,9,0),v0e=o0(v1,5,0),lF=function(t){return(t+7)/8|0},b0e=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new cc(t.subarray(e,r))},Iu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Lg=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},t_=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,a=r.slice();if(!i)return{t:uF,l:0};if(i==1){var l=new cc(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(P,X){return P.f-X.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],h=0,f=1,p=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};f!=i-1;)c=r[r[h].f<r[p].f?h++:p++],d=r[h!=f&&r[h].f<r[p].f?h++:p++],r[f++]={s:-1,f:c.f+d.f,l:c,r:d};for(var x=a[0].s,n=1;n<i;++n)a[n].s>x&&(x=a[n].s);var g=new Uo(x+1),w=YN(r[f-1],g,0);if(w>e){var n=0,v=0,_=w-e,j=1<<_;for(a.sort(function(X,U){return g[U.s]-g[X.s]||X.f-U.f});n<i;++n){var E=a[n].s;if(g[E]>e)v+=j-(1<<w-g[E]),g[E]=e;else break}for(v>>=_;v>0;){var C=a[n].s;g[C]<e?v-=1<<e-g[C]++-1:++n}for(;n>=0&&v;--n){var z=a[n].s;g[z]==e&&(--g[z],++v)}w=e}return{t:new cc(g),l:w}},YN=function(t,e,r){return t.s==-1?Math.max(YN(t.l,e,r+1),YN(t.r,e,r+1)):e[t.s]=r},_P=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Uo(++e),n=0,i=t[0],a=1,l=function(d){r[n++]=d},c=1;c<=e;++c)if(t[c]==i&&c!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(i),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(i);a=1,i=t[c]}return{c:r.subarray(0,n),n:e}},Mg=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},cF=function(t,e,r){var n=r.length,i=lF(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var a=0;a<n;++a)t[i+a+4]=r[a];return(i+4+n)*8},NP=function(t,e,r,n,i,a,l,c,d,h,f){Iu(e,f++,r),++i[256];for(var p=t_(i,15),x=p.t,g=p.l,w=t_(a,15),v=w.t,_=w.l,j=_P(x),E=j.c,C=j.n,z=_P(v),P=z.c,X=z.n,U=new Uo(19),M=0;M<E.length;++M)++U[E[M]&31];for(var M=0;M<P.length;++M)++U[P[M]&31];for(var D=t_(U,7),G=D.t,L=D.l,I=19;I>4&&!G[bP[I-1]];--I);var B=h+5<<3,k=Mg(i,Rf)+Mg(a,v1)+l,re=Mg(i,x)+Mg(a,v)+l+14+3*I+Mg(U,G)+2*U[16]+3*U[17]+7*U[18];if(d>=0&&B<=k&&B<=re)return cF(e,f,t.subarray(d,d+h));var Y,Q,se,oe;if(Iu(e,f,1+(re<k)),f+=2,re<k){Y=o0(x,g,0),Q=x,se=o0(v,_,0),oe=v;var pe=o0(G,L,0);Iu(e,f,C-257),Iu(e,f+5,X-1),Iu(e,f+10,I-4),f+=14;for(var M=0;M<I;++M)Iu(e,f+3*M,G[bP[M]]);f+=3*I;for(var H=[E,P],R=0;R<2;++R)for(var J=H[R],M=0;M<J.length;++M){var ee=J[M]&31;Iu(e,f,pe[ee]),f+=G[ee],ee>15&&(Iu(e,f,J[M]>>5&127),f+=J[M]>>12)}}else Y=x0e,Q=Rf,se=v0e,oe=v1;for(var M=0;M<c;++M){var ae=n[M];if(ae>255){var ee=ae>>18&31;Lg(e,f,Y[ee+257]),f+=Q[ee+257],ee>7&&(Iu(e,f,ae>>23&31),f+=i4[ee]);var be=ae&31;Lg(e,f,se[be]),f+=oe[be],be>3&&(Lg(e,f,ae>>5&8191),f+=a4[be])}else Lg(e,f,Y[ae]),f+=Q[ae]}return Lg(e,f,Y[256]),f+Q[256]},w0e=new n4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),uF=new cc(0),_0e=function(t,e,r,n,i,a){var l=a.z||t.length,c=new cc(n+l+5*(1+Math.ceil(l/7e3))+i),d=c.subarray(n,c.length-i),h=a.l,f=(a.r||0)&7;if(e){f&&(d[0]=a.r>>3);for(var p=w0e[e-1],x=p>>13,g=p&8191,w=(1<<r)-1,v=a.p||new Uo(32768),_=a.h||new Uo(w+1),j=Math.ceil(r/3),E=2*j,C=function($){return(t[$]^t[$+1]<<j^t[$+2]<<E)&w},z=new n4(25e3),P=new Uo(288),X=new Uo(32),U=0,M=0,D=a.i||0,G=0,L=a.w||0,I=0;D+2<l;++D){var B=C(D),k=D&32767,re=_[B];if(v[k]=re,_[B]=k,L<=D){var Y=l-D;if((U>7e3||G>24576)&&(Y>423||!h)){f=NP(t,d,0,z,P,X,M,G,I,D-I,f),G=U=M=0,I=D;for(var Q=0;Q<286;++Q)P[Q]=0;for(var Q=0;Q<30;++Q)X[Q]=0}var se=2,oe=0,pe=g,H=k-re&32767;if(Y>2&&B==C(D-H))for(var R=Math.min(x,Y)-1,J=Math.min(32767,D),ee=Math.min(258,Y);H<=J&&--pe&&k!=re;){if(t[D+se]==t[D+se-H]){for(var ae=0;ae<ee&&t[D+ae]==t[D+ae-H];++ae);if(ae>se){if(se=ae,oe=H,ae>R)break;for(var be=Math.min(H,ae-2),je=0,Q=0;Q<be;++Q){var de=D-H+Q&32767,ge=v[de],Ie=de-ge&32767;Ie>je&&(je=Ie,re=de)}}}k=re,re=v[k],H+=k-re&32767}if(oe){z[G++]=268435456|WN[se]<<18|wP[oe];var Ve=WN[se]&31,Re=wP[oe]&31;M+=i4[Ve]+a4[Re],++P[257+Ve],++X[Re],L=D+se,++U}else z[G++]=t[D],++P[t[D]]}}for(D=Math.max(D,L);D<l;++D)z[G++]=t[D],++P[t[D]];f=NP(t,d,h,z,P,X,M,G,I,D-I,f),h||(a.r=f&7|d[f/8|0]<<3,f-=7,a.h=_,a.p=v,a.i=D,a.w=L)}else{for(var D=a.w||0;D<l+h;D+=65535){var mt=D+65535;mt>=l&&(d[f/8|0]=h,mt=l),f=cF(d,f+1,t.subarray(D,mt))}a.i=l}return b0e(c,0,n+lF(f)+i)},dF=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,a=r.length|0,l=0;l!=a;){for(var c=Math.min(l+2655,a);l<c;++l)i+=n+=r[l];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},N0e=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new cc(a.length+t.length);l.set(a),l.set(t,a.length),t=l,i.w=a.length}return _0e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},hF=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},j0e=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=dF();i.p(e.dictionary),hF(t,2,i.d())}};function KN(t,e){e||(e={});var r=dF();r.p(t);var n=N0e(t,e,e.dictionary?6:2,4);return j0e(n,e),hF(n,n.length-4,r.d()),n}var S0e=typeof TextDecoder<"u"&&new TextDecoder,A0e=0;try{S0e.decode(uF,{stream:!0}),A0e=1}catch{}function E0e(t){if(Array.isArray(t))return t}function T0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,l,c=[],d=!0,h=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(d=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(f){h=!0,i=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw i}}return c}}function jP(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function C0e(t,e){if(t){if(typeof t=="string")return jP(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jP(t,e):void 0}}function k0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SP(t,e){return E0e(t)||T0e(t,e)||C0e(t,e)||k0e()}function AP(t,e="utf8"){return new TextDecoder(e).decode(t)}const I0e=new TextEncoder;function P0e(t){return I0e.encode(t)}const R0e=1024*8,O0e=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),r_={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class s4{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=R0e,r={}){let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const i=r.offset?r.offset>>>0:0,a=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof s4)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=r_[r].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===O0e&&r!=="uint8"&&r!=="int8"){const c=new Uint8Array(this.buffer.slice(i,i+n));c.reverse();const d=new r_[r](c.buffer);return this.offset+=n,d.reverse(),d}const l=new r_[r](a);return this.offset+=n,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return AP(this.readBytes(e))}decodeText(e=1,r="utf8"){return AP(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(P0e(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Vp(t){let e=t.length;for(;--e>=0;)t[e]=0}const D0e=3,L0e=258,fF=29,M0e=256,z0e=M0e+1+fF,mF=30,F0e=512,U0e=new Array((z0e+2)*2);Vp(U0e);const B0e=new Array(mF*2);Vp(B0e);const V0e=new Array(F0e);Vp(V0e);const q0e=new Array(L0e-D0e+1);Vp(q0e);const $0e=new Array(fF);Vp($0e);const H0e=new Array(mF);Vp(H0e);const W0e=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do i=i+e[n++]|0,a=a+i|0;while(--l);i%=65521,a%=65521}return i|a<<16|0};var XN=W0e;const G0e=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},Y0e=new Uint32Array(G0e()),K0e=(t,e,r,n)=>{const i=Y0e,a=n+r;t^=-1;for(let l=n;l<a;l++)t=t>>>8^i[(t^e[l])&255];return t^-1};var Mc=K0e,ZN={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pF={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const X0e=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Z0e=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)X0e(r,n)&&(t[n]=r[n])}}return t},Q0e=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let l=t[n];r.set(l,i),i+=l.length}return r},gF={assign:Z0e,flattenChunks:Q0e};let yF=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{yF=!1}const D0=new Uint8Array(256);for(let t=0;t<256;t++)D0[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;D0[254]=D0[254]=1;var J0e=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,l=t.length,c=0;for(i=0;i<l;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<l&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(c),a=0,i=0;a<c;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<l&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const eye=(t,e)=>{if(e<65534&&t.subarray&&yF)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var tye=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let l=t[n++];if(l<128){a[i++]=l;continue}let c=D0[l];if(c>4){a[i++]=65533,n+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&n<r;)l=l<<6|t[n++]&63,c--;if(c>1){a[i++]=65533;continue}l<65536?a[i++]=l:(l-=65536,a[i++]=55296|l>>10&1023,a[i++]=56320|l&1023)}return eye(a,i)},rye=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+D0[t[r]]>e?r:e},QN={string2buf:J0e,buf2string:tye,utf8border:rye};function nye(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var iye=nye;const Dx=16209,aye=16191;var sye=function(e,r){let n,i,a,l,c,d,h,f,p,x,g,w,v,_,j,E,C,z,P,X,U,M,D,G;const L=e.state;n=e.next_in,D=e.input,i=n+(e.avail_in-5),a=e.next_out,G=e.output,l=a-(r-e.avail_out),c=a+(e.avail_out-257),d=L.dmax,h=L.wsize,f=L.whave,p=L.wnext,x=L.window,g=L.hold,w=L.bits,v=L.lencode,_=L.distcode,j=(1<<L.lenbits)-1,E=(1<<L.distbits)-1;e:do{w<15&&(g+=D[n++]<<w,w+=8,g+=D[n++]<<w,w+=8),C=v[g&j];t:for(;;){if(z=C>>>24,g>>>=z,w-=z,z=C>>>16&255,z===0)G[a++]=C&65535;else if(z&16){P=C&65535,z&=15,z&&(w<z&&(g+=D[n++]<<w,w+=8),P+=g&(1<<z)-1,g>>>=z,w-=z),w<15&&(g+=D[n++]<<w,w+=8,g+=D[n++]<<w,w+=8),C=_[g&E];r:for(;;){if(z=C>>>24,g>>>=z,w-=z,z=C>>>16&255,z&16){if(X=C&65535,z&=15,w<z&&(g+=D[n++]<<w,w+=8,w<z&&(g+=D[n++]<<w,w+=8)),X+=g&(1<<z)-1,X>d){e.msg="invalid distance too far back",L.mode=Dx;break e}if(g>>>=z,w-=z,z=a-l,X>z){if(z=X-z,z>f&&L.sane){e.msg="invalid distance too far back",L.mode=Dx;break e}if(U=0,M=x,p===0){if(U+=h-z,z<P){P-=z;do G[a++]=x[U++];while(--z);U=a-X,M=G}}else if(p<z){if(U+=h+p-z,z-=p,z<P){P-=z;do G[a++]=x[U++];while(--z);if(U=0,p<P){z=p,P-=z;do G[a++]=x[U++];while(--z);U=a-X,M=G}}}else if(U+=p-z,z<P){P-=z;do G[a++]=x[U++];while(--z);U=a-X,M=G}for(;P>2;)G[a++]=M[U++],G[a++]=M[U++],G[a++]=M[U++],P-=3;P&&(G[a++]=M[U++],P>1&&(G[a++]=M[U++]))}else{U=a-X;do G[a++]=G[U++],G[a++]=G[U++],G[a++]=G[U++],P-=3;while(P>2);P&&(G[a++]=G[U++],P>1&&(G[a++]=G[U++]))}}else if((z&64)===0){C=_[(C&65535)+(g&(1<<z)-1)];continue r}else{e.msg="invalid distance code",L.mode=Dx;break e}break}}else if((z&64)===0){C=v[(C&65535)+(g&(1<<z)-1)];continue t}else if(z&32){L.mode=aye;break e}else{e.msg="invalid literal/length code",L.mode=Dx;break e}break}}while(n<i&&a<c);P=w>>3,n-=P,w-=P<<3,g&=(1<<w)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<c?257+(c-a):257-(a-c),L.hold=g,L.bits=w};const km=15,EP=852,TP=592,CP=0,n_=1,kP=2,oye=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lye=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),cye=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),uye=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),dye=(t,e,r,n,i,a,l,c)=>{const d=c.bits;let h=0,f=0,p=0,x=0,g=0,w=0,v=0,_=0,j=0,E=0,C,z,P,X,U,M=null,D;const G=new Uint16Array(km+1),L=new Uint16Array(km+1);let I=null,B,k,re;for(h=0;h<=km;h++)G[h]=0;for(f=0;f<n;f++)G[e[r+f]]++;for(g=d,x=km;x>=1&&G[x]===0;x--);if(g>x&&(g=x),x===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,c.bits=1,0;for(p=1;p<x&&G[p]===0;p++);for(g<p&&(g=p),_=1,h=1;h<=km;h++)if(_<<=1,_-=G[h],_<0)return-1;if(_>0&&(t===CP||x!==1))return-1;for(L[1]=0,h=1;h<km;h++)L[h+1]=L[h]+G[h];for(f=0;f<n;f++)e[r+f]!==0&&(l[L[e[r+f]]++]=f);if(t===CP?(M=I=l,D=20):t===n_?(M=oye,I=lye,D=257):(M=cye,I=uye,D=0),E=0,f=0,h=p,U=a,w=g,v=0,P=-1,j=1<<g,X=j-1,t===n_&&j>EP||t===kP&&j>TP)return 1;for(;;){B=h-v,l[f]+1<D?(k=0,re=l[f]):l[f]>=D?(k=I[l[f]-D],re=M[l[f]-D]):(k=96,re=0),C=1<<h-v,z=1<<w,p=z;do z-=C,i[U+(E>>v)+z]=B<<24|k<<16|re|0;while(z!==0);for(C=1<<h-1;E&C;)C>>=1;if(C!==0?(E&=C-1,E+=C):E=0,f++,--G[h]===0){if(h===x)break;h=e[r+l[f]]}if(h>g&&(E&X)!==P){for(v===0&&(v=g),U+=p,w=h-v,_=1<<w;w+v<x&&(_-=G[w+v],!(_<=0));)w++,_<<=1;if(j+=1<<w,t===n_&&j>EP||t===kP&&j>TP)return 1;P=E&X,i[P]=g<<24|w<<16|U-a|0}}return E!==0&&(i[U+E]=h-v<<24|64<<16|0),c.bits=g,0};var l0=dye;const hye=0,xF=1,vF=2,{Z_FINISH:IP,Z_BLOCK:fye,Z_TREES:Lx,Z_OK:Of,Z_STREAM_END:mye,Z_NEED_DICT:pye,Z_STREAM_ERROR:Al,Z_DATA_ERROR:bF,Z_MEM_ERROR:wF,Z_BUF_ERROR:gye,Z_DEFLATED:PP}=pF,Ob=16180,RP=16181,OP=16182,DP=16183,LP=16184,MP=16185,zP=16186,FP=16187,UP=16188,BP=16189,b1=16190,Pu=16191,i_=16192,VP=16193,a_=16194,qP=16195,$P=16196,HP=16197,WP=16198,Mx=16199,zx=16200,GP=16201,YP=16202,KP=16203,XP=16204,ZP=16205,s_=16206,QP=16207,JP=16208,qn=16209,_F=16210,NF=16211,yye=852,xye=592,vye=15,bye=vye,e8=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function wye(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Hf=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Ob||e.mode>NF?1:0},jF=t=>{if(Hf(t))return Al;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Ob,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(yye),e.distcode=e.distdyn=new Int32Array(xye),e.sane=1,e.back=-1,Of},SF=t=>{if(Hf(t))return Al;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,jF(t)},AF=(t,e)=>{let r;if(Hf(t))return Al;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Al:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,SF(t))},EF=(t,e)=>{if(!t)return Al;const r=new wye;t.state=r,r.strm=t,r.window=null,r.mode=Ob;const n=AF(t,e);return n!==Of&&(t.state=null),n},_ye=t=>EF(t,bye);let t8=!0,o_,l_;const Nye=t=>{if(t8){o_=new Int32Array(512),l_=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(l0(xF,t.lens,0,288,o_,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;l0(vF,t.lens,0,32,l_,0,t.work,{bits:5}),t8=!1}t.lencode=o_,t.lenbits=9,t.distcode=l_,t.distbits=5},TF=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},jye=(t,e)=>{let r,n,i,a,l,c,d,h,f,p,x,g,w,v,_=0,j,E,C,z,P,X,U,M;const D=new Uint8Array(4);let G,L;const I=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Hf(t)||!t.output||!t.input&&t.avail_in!==0)return Al;r=t.state,r.mode===Pu&&(r.mode=i_),l=t.next_out,i=t.output,d=t.avail_out,a=t.next_in,n=t.input,c=t.avail_in,h=r.hold,f=r.bits,p=c,x=d,M=Of;e:for(;;)switch(r.mode){case Ob:if(r.wrap===0){r.mode=i_;break}for(;f<16;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,D[0]=h&255,D[1]=h>>>8&255,r.check=Mc(r.check,D,2,0),h=0,f=0,r.mode=RP;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){t.msg="incorrect header check",r.mode=qn;break}if((h&15)!==PP){t.msg="unknown compression method",r.mode=qn;break}if(h>>>=4,f-=4,U=(h&15)+8,r.wbits===0&&(r.wbits=U),U>15||U>r.wbits){t.msg="invalid window size",r.mode=qn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=h&512?BP:Pu,h=0,f=0;break;case RP:for(;f<16;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if(r.flags=h,(r.flags&255)!==PP){t.msg="unknown compression method",r.mode=qn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=qn;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,r.check=Mc(r.check,D,2,0)),h=0,f=0,r.mode=OP;case OP:for(;f<32;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,D[2]=h>>>16&255,D[3]=h>>>24&255,r.check=Mc(r.check,D,4,0)),h=0,f=0,r.mode=DP;case DP:for(;f<16;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,r.check=Mc(r.check,D,2,0)),h=0,f=0,r.mode=LP;case LP:if(r.flags&1024){for(;f<16;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(D[0]=h&255,D[1]=h>>>8&255,r.check=Mc(r.check,D,2,0)),h=0,f=0}else r.head&&(r.head.extra=null);r.mode=MP;case MP:if(r.flags&1024&&(g=r.length,g>c&&(g=c),g&&(r.head&&(U=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+g),U)),r.flags&512&&r.wrap&4&&(r.check=Mc(r.check,n,g,a)),c-=g,a+=g,r.length-=g),r.length))break e;r.length=0,r.mode=zP;case zP:if(r.flags&2048){if(c===0)break e;g=0;do U=n[a+g++],r.head&&U&&r.length<65536&&(r.head.name+=String.fromCharCode(U));while(U&&g<c);if(r.flags&512&&r.wrap&4&&(r.check=Mc(r.check,n,g,a)),c-=g,a+=g,U)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=FP;case FP:if(r.flags&4096){if(c===0)break e;g=0;do U=n[a+g++],r.head&&U&&r.length<65536&&(r.head.comment+=String.fromCharCode(U));while(U&&g<c);if(r.flags&512&&r.wrap&4&&(r.check=Mc(r.check,n,g,a)),c-=g,a+=g,U)break e}else r.head&&(r.head.comment=null);r.mode=UP;case UP:if(r.flags&512){for(;f<16;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if(r.wrap&4&&h!==(r.check&65535)){t.msg="header crc mismatch",r.mode=qn;break}h=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Pu;break;case BP:for(;f<32;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}t.adler=r.check=e8(h),h=0,f=0,r.mode=b1;case b1:if(r.havedict===0)return t.next_out=l,t.avail_out=d,t.next_in=a,t.avail_in=c,r.hold=h,r.bits=f,pye;t.adler=r.check=1,r.mode=Pu;case Pu:if(e===fye||e===Lx)break e;case i_:if(r.last){h>>>=f&7,f-=f&7,r.mode=s_;break}for(;f<3;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}switch(r.last=h&1,h>>>=1,f-=1,h&3){case 0:r.mode=VP;break;case 1:if(Nye(r),r.mode=Mx,e===Lx){h>>>=2,f-=2;break e}break;case 2:r.mode=$P;break;case 3:t.msg="invalid block type",r.mode=qn}h>>>=2,f-=2;break;case VP:for(h>>>=f&7,f-=f&7;f<32;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if((h&65535)!==(h>>>16^65535)){t.msg="invalid stored block lengths",r.mode=qn;break}if(r.length=h&65535,h=0,f=0,r.mode=a_,e===Lx)break e;case a_:r.mode=qP;case qP:if(g=r.length,g){if(g>c&&(g=c),g>d&&(g=d),g===0)break e;i.set(n.subarray(a,a+g),l),c-=g,a+=g,d-=g,l+=g,r.length-=g;break}r.mode=Pu;break;case $P:for(;f<14;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if(r.nlen=(h&31)+257,h>>>=5,f-=5,r.ndist=(h&31)+1,h>>>=5,f-=5,r.ncode=(h&15)+4,h>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=qn;break}r.have=0,r.mode=HP;case HP:for(;r.have<r.ncode;){for(;f<3;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}r.lens[I[r.have++]]=h&7,h>>>=3,f-=3}for(;r.have<19;)r.lens[I[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},M=l0(hye,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,M){t.msg="invalid code lengths set",r.mode=qn;break}r.have=0,r.mode=WP;case WP:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[h&(1<<r.lenbits)-1],j=_>>>24,E=_>>>16&255,C=_&65535,!(j<=f);){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if(C<16)h>>>=j,f-=j,r.lens[r.have++]=C;else{if(C===16){for(L=j+2;f<L;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if(h>>>=j,f-=j,r.have===0){t.msg="invalid bit length repeat",r.mode=qn;break}U=r.lens[r.have-1],g=3+(h&3),h>>>=2,f-=2}else if(C===17){for(L=j+3;f<L;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}h>>>=j,f-=j,U=0,g=3+(h&7),h>>>=3,f-=3}else{for(L=j+7;f<L;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}h>>>=j,f-=j,U=0,g=11+(h&127),h>>>=7,f-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=qn;break}for(;g--;)r.lens[r.have++]=U}}if(r.mode===qn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=qn;break}if(r.lenbits=9,G={bits:r.lenbits},M=l0(xF,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,M){t.msg="invalid literal/lengths set",r.mode=qn;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},M=l0(vF,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,M){t.msg="invalid distances set",r.mode=qn;break}if(r.mode=Mx,e===Lx)break e;case Mx:r.mode=zx;case zx:if(c>=6&&d>=258){t.next_out=l,t.avail_out=d,t.next_in=a,t.avail_in=c,r.hold=h,r.bits=f,sye(t,x),l=t.next_out,i=t.output,d=t.avail_out,a=t.next_in,n=t.input,c=t.avail_in,h=r.hold,f=r.bits,r.mode===Pu&&(r.back=-1);break}for(r.back=0;_=r.lencode[h&(1<<r.lenbits)-1],j=_>>>24,E=_>>>16&255,C=_&65535,!(j<=f);){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if(E&&(E&240)===0){for(z=j,P=E,X=C;_=r.lencode[X+((h&(1<<z+P)-1)>>z)],j=_>>>24,E=_>>>16&255,C=_&65535,!(z+j<=f);){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}h>>>=z,f-=z,r.back+=z}if(h>>>=j,f-=j,r.back+=j,r.length=C,E===0){r.mode=ZP;break}if(E&32){r.back=-1,r.mode=Pu;break}if(E&64){t.msg="invalid literal/length code",r.mode=qn;break}r.extra=E&15,r.mode=GP;case GP:if(r.extra){for(L=r.extra;f<L;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=YP;case YP:for(;_=r.distcode[h&(1<<r.distbits)-1],j=_>>>24,E=_>>>16&255,C=_&65535,!(j<=f);){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if((E&240)===0){for(z=j,P=E,X=C;_=r.distcode[X+((h&(1<<z+P)-1)>>z)],j=_>>>24,E=_>>>16&255,C=_&65535,!(z+j<=f);){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}h>>>=z,f-=z,r.back+=z}if(h>>>=j,f-=j,r.back+=j,E&64){t.msg="invalid distance code",r.mode=qn;break}r.offset=C,r.extra=E&15,r.mode=KP;case KP:if(r.extra){for(L=r.extra;f<L;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=qn;break}r.mode=XP;case XP:if(d===0)break e;if(g=x-d,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=qn;break}g>r.wnext?(g-=r.wnext,w=r.wsize-g):w=r.wnext-g,g>r.length&&(g=r.length),v=r.window}else v=i,w=l-r.offset,g=r.length;g>d&&(g=d),d-=g,r.length-=g;do i[l++]=v[w++];while(--g);r.length===0&&(r.mode=zx);break;case ZP:if(d===0)break e;i[l++]=r.length,d--,r.mode=zx;break;case s_:if(r.wrap){for(;f<32;){if(c===0)break e;c--,h|=n[a++]<<f,f+=8}if(x-=d,t.total_out+=x,r.total+=x,r.wrap&4&&x&&(t.adler=r.check=r.flags?Mc(r.check,i,x,l-x):XN(r.check,i,x,l-x)),x=d,r.wrap&4&&(r.flags?h:e8(h))!==r.check){t.msg="incorrect data check",r.mode=qn;break}h=0,f=0}r.mode=QP;case QP:if(r.wrap&&r.flags){for(;f<32;){if(c===0)break e;c--,h+=n[a++]<<f,f+=8}if(r.wrap&4&&h!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=qn;break}h=0,f=0}r.mode=JP;case JP:M=mye;break e;case qn:M=bF;break e;case _F:return wF;case NF:default:return Al}return t.next_out=l,t.avail_out=d,t.next_in=a,t.avail_in=c,r.hold=h,r.bits=f,(r.wsize||x!==t.avail_out&&r.mode<qn&&(r.mode<s_||e!==IP))&&TF(t,t.output,t.next_out,x-t.avail_out),p-=t.avail_in,x-=t.avail_out,t.total_in+=p,t.total_out+=x,r.total+=x,r.wrap&4&&x&&(t.adler=r.check=r.flags?Mc(r.check,i,x,t.next_out-x):XN(r.check,i,x,t.next_out-x)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Pu?128:0)+(r.mode===Mx||r.mode===a_?256:0),(p===0&&x===0||e===IP)&&M===Of&&(M=gye),M},Sye=t=>{if(Hf(t))return Al;let e=t.state;return e.window&&(e.window=null),t.state=null,Of},Aye=(t,e)=>{if(Hf(t))return Al;const r=t.state;return(r.wrap&2)===0?Al:(r.head=e,e.done=!1,Of)},Eye=(t,e)=>{const r=e.length;let n,i,a;return Hf(t)||(n=t.state,n.wrap!==0&&n.mode!==b1)?Al:n.mode===b1&&(i=1,i=XN(i,e,r,0),i!==n.check)?bF:(a=TF(t,e,r,r),a?(n.mode=_F,wF):(n.havedict=1,Of))};var Tye=SF,Cye=AF,kye=jF,Iye=_ye,Pye=EF,Rye=jye,Oye=Sye,Dye=Aye,Lye=Eye,Mye="pako inflate (from Nodeca project)",Ou={inflateReset:Tye,inflateReset2:Cye,inflateResetKeep:kye,inflateInit:Iye,inflateInit2:Pye,inflate:Rye,inflateEnd:Oye,inflateGetHeader:Dye,inflateSetDictionary:Lye,inflateInfo:Mye};function zye(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Fye=zye;const CF=Object.prototype.toString,{Z_NO_FLUSH:Uye,Z_FINISH:Bye,Z_OK:L0,Z_STREAM_END:c_,Z_NEED_DICT:u_,Z_STREAM_ERROR:Vye,Z_DATA_ERROR:r8,Z_MEM_ERROR:qye}=pF;function my(t){this.options=gF.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new iye,this.strm.avail_out=0;let r=Ou.inflateInit2(this.strm,e.windowBits);if(r!==L0)throw new Error(ZN[r]);if(this.header=new Fye,Ou.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=QN.string2buf(e.dictionary):CF.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ou.inflateSetDictionary(this.strm,e.dictionary),r!==L0)))throw new Error(ZN[r])}my.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?Bye:Uye,CF.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Ou.inflate(r,l),a===u_&&i&&(a=Ou.inflateSetDictionary(r,i),a===L0?a=Ou.inflate(r,l):a===r8&&(a=u_));r.avail_in>0&&a===c_&&r.state.wrap>0&&t[r.next_in]!==0;)Ou.inflateReset(r),a=Ou.inflate(r,l);switch(a){case Vye:case r8:case u_:case qye:return this.onEnd(a),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||a===c_))if(this.options.to==="string"){let d=QN.utf8border(r.output,r.next_out),h=r.next_out-d,f=QN.buf2string(r.output,d);r.next_out=h,r.avail_out=n-h,h&&r.output.set(r.output.subarray(d,d+h),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===L0&&c===0)){if(a===c_)return a=Ou.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};my.prototype.onData=function(t){this.chunks.push(t)};my.prototype.onEnd=function(t){t===L0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=gF.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function $ye(t,e){const r=new my(e);if(r.push(t),r.err)throw r.msg||ZN[r.err];return r.result}var Hye=my,Wye=$ye,Gye={Inflate:Hye,inflate:Wye};const{Inflate:Yye,inflate:Kye}=Gye;var n8=Yye,Xye=Kye;const kF=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;kF[t]=e}const i8=4294967295;function Zye(t,e,r){let n=t;for(let i=0;i<r;i++)n=kF[(n^e[i])&255]^n>>>8;return n}function Qye(t,e){return(Zye(i8,t,e)^i8)>>>0}function a8(t,e,r){const n=t.readUint32(),i=Qye(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function IF(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function PF(t,e,r,n){let i=0;for(;i<n;i++)e[i]=t[i];for(;i<r;i++)e[i]=t[i]+e[i-n]&255}function RF(t,e,r,n){let i=0;if(r.length===0)for(;i<n;i++)e[i]=t[i];else for(;i<n;i++)e[i]=t[i]+r[i]&255}function OF(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+(e[a-i]>>1)&255}else{for(;a<i;a++)e[a]=t[a]+(r[a]>>1)&255;for(;a<n;a++)e[a]=t[a]+(e[a-i]+r[a]>>1)&255}}function DF(t,e,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)e[a]=t[a];for(;a<n;a++)e[a]=t[a]+e[a-i]&255}else{for(;a<i;a++)e[a]=t[a]+r[a]&255;for(;a<n;a++)e[a]=t[a]+Jye(e[a-i],r[a],r[a-i])&255}}function Jye(t,e,r){const n=t+e-r,i=Math.abs(n-t),a=Math.abs(n-e),l=Math.abs(n-r);return i<=a&&i<=l?t:a<=l?e:r}function exe(t,e,r,n,i,a){switch(t){case 0:IF(e,r,i);break;case 1:PF(e,r,i,a);break;case 2:RF(e,r,n,i);break;case 3:OF(e,r,n,i,a);break;case 4:DF(e,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const txe=new Uint16Array([255]),rxe=new Uint8Array(txe.buffer),nxe=rxe[0]===255;function ixe(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(a/8)*i,d=new Uint8Array(n*r*c);let h=0;for(let f=0;f<7;f++){const p=l[f],x=Math.ceil((r-p.x)/p.xStep),g=Math.ceil((n-p.y)/p.yStep);if(x<=0||g<=0)continue;const w=x*c,v=new Uint8Array(w);for(let _=0;_<g;_++){const j=e[h++],E=e.subarray(h,h+w);h+=w;const C=new Uint8Array(w);exe(j,E,C,v,w,c),v.set(C);for(let z=0;z<x;z++){const P=p.x+z*p.xStep,X=p.y+_*p.yStep;if(!(P>=r||X>=n))for(let U=0;U<c;U++)d[(X*r+P)*c+U]=C[z*c+U]}}}if(a===16){const f=new Uint16Array(d.buffer);if(nxe)for(let p=0;p<f.length;p++)f[p]=axe(f[p]);return f}else return d}function axe(t){return(t&255)<<8|t>>8&255}const sxe=new Uint16Array([255]),oxe=new Uint8Array(sxe.buffer),lxe=oxe[0]===255,cxe=new Uint8Array(0);function s8(t){const{data:e,width:r,height:n,channels:i,depth:a}=t,l=Math.ceil(a/8)*i,c=Math.ceil(a/8*i*r),d=new Uint8Array(n*c);let h=cxe,f=0,p,x;for(let g=0;g<n;g++){switch(p=e.subarray(f+1,f+1+c),x=d.subarray(g*c,(g+1)*c),e[f]){case 0:IF(p,x,c);break;case 1:PF(p,x,c,l);break;case 2:RF(p,x,h,c);break;case 3:OF(p,x,h,c,l);break;case 4:DF(p,x,h,c,l);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}h=x,f+=c+1}if(a===16){const g=new Uint16Array(d.buffer);if(lxe)for(let w=0;w<g.length;w++)g[w]=uxe(g[w]);return g}else return d}function uxe(t){return(t&255)<<8|t>>8&255}const iv=Uint8Array.of(137,80,78,71,13,10,26,10);function o8(t){if(!dxe(t.readBytes(iv.length)))throw new Error("wrong PNG signature")}function dxe(t){if(t.length<iv.length)return!1;for(let e=0;e<iv.length;e++)if(t[e]!==iv[e])return!1;return!0}const hxe="tEXt",fxe=0,LF=new TextDecoder("latin1");function mxe(t){if(gxe(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const pxe=/^[\u0000-\u00FF]*$/;function gxe(t){if(!pxe.test(t))throw new Error("invalid latin1 text")}function yxe(t,e,r){const n=MF(e);t[n]=xxe(e,r-n.length-1)}function MF(t){for(t.mark();t.readByte()!==fxe;);const e=t.offset;t.reset();const r=LF.decode(t.readBytes(e-t.offset-1));return t.skip(1),mxe(r),r}function xxe(t,e){return LF.decode(t.readBytes(e))}const Po={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},d_={UNKNOWN:-1,DEFLATE:0},l8={UNKNOWN:-1,ADAPTIVE:0},h_={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Fx={NONE:0,BACKGROUND:1,PREVIOUS:2},f_={SOURCE:0,OVER:1};class vxe extends s4{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,r={}){super(e);const{checkCrc:n=!1}=r;this._checkCrc=n,this._inflator=new n8,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=d_.UNKNOWN,this._filterMethod=l8.UNKNOWN,this._interlaceMethod=h_.UNKNOWN,this._colorType=Po.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(o8(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeChunk(e,r)}return this.decodeImage(),this._png}decodeApng(){for(o8(this);!this._end;){const e=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(e,r)}return this.decodeApngImage(),this._apng}decodeChunk(e,r){const n=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case hxe:yxe(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?a8(this,e+4,r):this.skip(4)}decodeApngChunk(e,r){const n=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,r),this.offset=n+e;break}if(this.offset-n!==e)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?a8(this,e+4,r):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=bxe(this.readUint8());const r=this.readUint8();this._colorType=r;let n;switch(r){case Po.GREYSCALE:n=1;break;case Po.TRUECOLOUR:n=3;break;case Po.INDEXED_COLOUR:n=1;break;case Po.GREYSCALE_ALPHA:n=2;break;case Po.TRUECOLOUR_ALPHA:n=4;break;case Po.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=n,this._compressionMethod=this.readUint8(),this._compressionMethod!==d_.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const r=e/3;this._hasPalette=!0;const n=[];this._palette=n;for(let i=0;i<r;i++)n.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const r=e,n=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let r=e,n=this.offset+this.byteOffset;if(n+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,n,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case Po.GREYSCALE:case Po.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let r=0;r<e/2;r++)this._transparency[r]=this.readUint16();break}case Po.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let r=0;for(;r<e;r++){const n=this.readByte();this._palette[r].push(n)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Po.UNKNOWN:case Po.GREYSCALE_ALPHA:case Po.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const r=MF(this),n=this.readUint8();if(n!==d_.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${n}`);const i=this.readBytes(e-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:Xye(i)}}decodepHYs(){const e=this.readUint32(),r=this.readUint32(),n=this.readByte();this._png.resolution={x:e,y:r,unit:n}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const r={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},n=this._frames.at(e);if(n){if(n.data=s8({data:n.data,width:n.width,height:n.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||n.xOffset===0&&n.yOffset===0&&n.width===this._png.width&&n.height===this._png.height)r.data=n.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(n,i,r),this.addFrameDataToCanvas(r,n)}this._apng.frames.push(r)}}return this._apng}disposeFrame(e,r,n){switch(e.disposeOp){case Fx.NONE:break;case Fx.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let a=0;a<this._png.width;a++){const l=(i*e.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)n.data[l+c]=0}break;case Fx.PREVIOUS:n.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,r){const n=1<<this._png.depth,i=(a,l)=>{const c=((a+r.yOffset)*this._png.width+r.xOffset+l)*this._png.channels,d=(a*r.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(r.blendOp){case f_.SOURCE:for(let a=0;a<r.height;a++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:d}=i(a,l);for(let h=0;h<this._png.channels;h++)e.data[c+h]=r.data[d+h]}break;case f_.OVER:for(let a=0;a<r.height;a++)for(let l=0;l<r.width;l++){const{index:c,frameIndex:d}=i(a,l);for(let h=0;h<this._png.channels;h++){const f=r.data[d+this._png.channels-1]/n,p=h%(this._png.channels-1)===0?1:r.data[d+h],x=Math.floor(f*p+(1-f)*e.data[c+h]);e.data[c+h]+=x}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==l8.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===h_.NO_INTERLACE)this._png.data=s8({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===h_.ADAM7)this._png.data=ixe({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,r=this._frames.at(-1);r?r.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Fx.NONE,blendOp:f_.SOURCE,data:e}),this._inflator=new n8,this._writingDataChunks=!1}}function bxe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var c8;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(c8||(c8={}));function wxe(t,e){return new vxe(t,e).decode()}var lr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function m_(){lr.console&&typeof lr.console.log=="function"&&lr.console.log.apply(lr.console,arguments)}var Nn={log:m_,warn:function(t){lr.console&&(typeof lr.console.warn=="function"?lr.console.warn.apply(lr.console,arguments):m_.call(null,arguments))},error:function(t){lr.console&&(typeof lr.console.error=="function"?lr.console.error.apply(lr.console,arguments):m_(t))}};function p_(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Qh(n.response,e,r)},n.onerror=function(){Nn.error("could not download file")},n.send()}function u8(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ux(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Qh=lr.saveAs||((typeof window>"u"?"undefined":dn(window))!=="object"||window!==lr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=lr.URL||lr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?u8(i.href)?p_(t,e,r):Ux(i,i.target="_blank"):Ux(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ux(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(u8(t))p_(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Ux(n)})}else navigator.msSaveOrOpenBlob((function(i,a){return a===void 0?a={autoBom:!1}:dn(a)!=="object"&&(Nn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return p_(t,e,r);var i=t.type==="application/octet-stream",a=/constructor/i.test(lr.HTMLElement)||lr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&a)&&(typeof FileReader>"u"?"undefined":dn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var f=c.result;f=l?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},c.readAsDataURL(t)}else{var d=lr.URL||lr.webkitURL,h=d.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zF(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,l=i.exec(t);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+c+d+h}}var av=lr.atob.bind(lr),d8=lr.btoa.bind(lr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function g_(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];r=is(r,n,i,a,e[0],7,-680876936),a=is(a,r,n,i,e[1],12,-389564586),i=is(i,a,r,n,e[2],17,606105819),n=is(n,i,a,r,e[3],22,-1044525330),r=is(r,n,i,a,e[4],7,-176418897),a=is(a,r,n,i,e[5],12,1200080426),i=is(i,a,r,n,e[6],17,-1473231341),n=is(n,i,a,r,e[7],22,-45705983),r=is(r,n,i,a,e[8],7,1770035416),a=is(a,r,n,i,e[9],12,-1958414417),i=is(i,a,r,n,e[10],17,-42063),n=is(n,i,a,r,e[11],22,-1990404162),r=is(r,n,i,a,e[12],7,1804603682),a=is(a,r,n,i,e[13],12,-40341101),i=is(i,a,r,n,e[14],17,-1502002290),r=as(r,n=is(n,i,a,r,e[15],22,1236535329),i,a,e[1],5,-165796510),a=as(a,r,n,i,e[6],9,-1069501632),i=as(i,a,r,n,e[11],14,643717713),n=as(n,i,a,r,e[0],20,-373897302),r=as(r,n,i,a,e[5],5,-701558691),a=as(a,r,n,i,e[10],9,38016083),i=as(i,a,r,n,e[15],14,-660478335),n=as(n,i,a,r,e[4],20,-405537848),r=as(r,n,i,a,e[9],5,568446438),a=as(a,r,n,i,e[14],9,-1019803690),i=as(i,a,r,n,e[3],14,-187363961),n=as(n,i,a,r,e[8],20,1163531501),r=as(r,n,i,a,e[13],5,-1444681467),a=as(a,r,n,i,e[2],9,-51403784),i=as(i,a,r,n,e[7],14,1735328473),r=ss(r,n=as(n,i,a,r,e[12],20,-1926607734),i,a,e[5],4,-378558),a=ss(a,r,n,i,e[8],11,-2022574463),i=ss(i,a,r,n,e[11],16,1839030562),n=ss(n,i,a,r,e[14],23,-35309556),r=ss(r,n,i,a,e[1],4,-1530992060),a=ss(a,r,n,i,e[4],11,1272893353),i=ss(i,a,r,n,e[7],16,-155497632),n=ss(n,i,a,r,e[10],23,-1094730640),r=ss(r,n,i,a,e[13],4,681279174),a=ss(a,r,n,i,e[0],11,-358537222),i=ss(i,a,r,n,e[3],16,-722521979),n=ss(n,i,a,r,e[6],23,76029189),r=ss(r,n,i,a,e[9],4,-640364487),a=ss(a,r,n,i,e[12],11,-421815835),i=ss(i,a,r,n,e[15],16,530742520),r=os(r,n=ss(n,i,a,r,e[2],23,-995338651),i,a,e[0],6,-198630844),a=os(a,r,n,i,e[7],10,1126891415),i=os(i,a,r,n,e[14],15,-1416354905),n=os(n,i,a,r,e[5],21,-57434055),r=os(r,n,i,a,e[12],6,1700485571),a=os(a,r,n,i,e[3],10,-1894986606),i=os(i,a,r,n,e[10],15,-1051523),n=os(n,i,a,r,e[1],21,-2054922799),r=os(r,n,i,a,e[8],6,1873313359),a=os(a,r,n,i,e[15],10,-30611744),i=os(i,a,r,n,e[6],15,-1560198380),n=os(n,i,a,r,e[13],21,1309151649),r=os(r,n,i,a,e[4],6,-145523070),a=os(a,r,n,i,e[11],10,-1120210379),i=os(i,a,r,n,e[2],15,718787259),n=os(n,i,a,r,e[9],21,-343485551),t[0]=ah(r,t[0]),t[1]=ah(n,t[1]),t[2]=ah(i,t[2]),t[3]=ah(a,t[3])}function Db(t,e,r,n,i,a){return e=ah(ah(e,t),ah(n,a)),ah(e<<i|e>>>32-i,r)}function is(t,e,r,n,i,a,l){return Db(e&r|~e&n,t,e,i,a,l)}function as(t,e,r,n,i,a,l){return Db(e&n|r&~n,t,e,i,a,l)}function ss(t,e,r,n,i,a,l){return Db(e^r^n,t,e,i,a,l)}function os(t,e,r,n,i,a,l){return Db(r^(e|~n),t,e,i,a,l)}function FF(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)g_(n,_xe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(g_(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,g_(n,i),n}function _xe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var h8="0123456789abcdef".split("");function Nxe(t){for(var e="",r=0;r<4;r++)e+=h8[t>>8*r+4&15]+h8[t>>8*r&15];return e}function jxe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function JN(t){return FF(t).map(jxe).join("")}var Sxe=(function(t){for(var e=0;e<t.length;e++)t[e]=Nxe(t[e]);return t.join("")})(FF("hello"))!="5d41402abc4b2a76b9719d911017c592";function ah(t,e){if(Sxe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ej(t,e){var r,n,i,a;if(t!==r){for(var l=(i=t,a=1+(256/t.length|0),new Array(a+1).join(i)),c=[],d=0;d<256;d++)c[d]=d;var h=0;for(d=0;d<256;d++){var f=c[d];h=(h+f+l.charCodeAt(d))%256,c[d]=c[h],c[h]=f}r=t,n=c}else c=n;var p=e.length,x=0,g=0,w="";for(d=0;d<p;d++)g=(g+(f=c[x=(x+1)%256]))%256,c[x]=c[g],c[g]=f,l=c[(c[x]+c[g])%256],w+=String.fromCharCode(e.charCodeAt(d)^l);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var f8={print:4,modify:8,copy:16,"annot-forms":32};function zm(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(c){if(f8.perm!==void 0)throw new Error("Invalid permission: "+c);i+=f8[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^i)),this.encryptionKey=JN(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ej(this.encryptionKey,this.padding)}function Fm(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):t[n]}return e}function m8(t){if(dn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var a=Math.random().toString(35);return e[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[r]){var l=e[r][a];try{l[0].apply(t,n)}catch(c){lr.console&&Nn.error("jsPDF PubSub Error",c.message,c)}l[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function w1(t){if(!(this instanceof w1))return new w1(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function UF(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Jh(t,e,r,n,i){if(!(this instanceof Jh))return new Jh(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,UF.call(this,n,i)}function Bm(t,e,r,n,i){if(!(this instanceof Bm))return new Bm(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,UF.call(this,n,i)}function Gt(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],l=[],c=1,d=16,h="S",f=null;dn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,a=t.compress||t.compressPdf||a,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),c=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(d=t.floatPrecision),h=t.defaultPathOperation||"S"),l=t.filters||(a===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,x={},g={internal:{},__private__:{}};g.__private__.PubSub=m8;var w="1.3",v=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(O){w=O};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return _};var j=g.__private__.getPageFormat=function(O){return _[O]};i=i||"a4";var E="compat",C="advanced",z=E;function P(){this.saveGraphicsState(),ie(new Wt(Le,0,0,-Le,0,js()*Le).toString()+" cm"),this.setFontSize(this.getFontSize()/Le),h="n",z=C}function X(){this.restoreGraphicsState(),h="S",z=E}var U=g.__private__.combineFontStyleAndFontWeight=function(O,te){if(O=="bold"&&te=="normal"||O=="bold"&&te==400||O=="normal"&&te=="italic"||O=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(O=te==400||te==="normal"?O==="italic"?"italic":"normal":te!=700&&te!=="bold"||O!=="normal"?(te==700?"bold":te)+""+O:"bold"),O};g.advancedAPI=function(O){var te=z===E;return te&&P.call(this),typeof O!="function"||(O(this),te&&X.call(this)),this},g.compatAPI=function(O){var te=z===C;return te&&X.call(this),typeof O!="function"||(O(this),te&&P.call(this)),this},g.isAdvancedAPI=function(){return z===C};var M,D=function(O){if(z!==C)throw new Error(O+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=g.roundToPrecision=g.__private__.roundToPrecision=function(O,te){var _e=e||te;if(isNaN(O)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return O.toFixed(_e).replace(/0+$/,"")};M=g.hpf=g.__private__.hpf=typeof d=="number"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return G(O,d)}:d==="smart"?function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return G(O,O>-1&&O<1?16:5)}:function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.hpf");return G(O,16)};var L=g.f2=g.__private__.f2=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f2");return G(O,2)},I=g.__private__.f3=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.f3");return G(O,3)},B=g.scale=g.__private__.scale=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.scale");return z===E?O*Le:z===C?O:void 0},k=function(O){return B((function(te){return z===E?js()-te:z===C?te:void 0})(O))};g.__private__.setPrecision=g.setPrecision=function(O){typeof parseInt(O,10)=="number"&&(e=parseInt(O,10))};var re,Y="00000000000000000000000000000000",Q=g.__private__.getFileId=function(){return Y},se=g.__private__.setFileId=function(O){return Y=O!==void 0&&/^[a-fA-F0-9]{32}$/.test(O)?O.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(nn=new zm(f.userPermissions,f.userPassword,f.ownerPassword,Y)),Y};g.setFileId=function(O){return se(O),this},g.getFileId=function(){return Q()};var oe=g.__private__.convertDateToPDFDate=function(O){var te=O.getTimezoneOffset(),_e=te<0?"+":"-",Ee=Math.floor(Math.abs(te/60)),Me=Math.abs(te%60),nt=[_e,ee(Ee),"'",ee(Me),"'"].join("");return["D:",O.getFullYear(),ee(O.getMonth()+1),ee(O.getDate()),ee(O.getHours()),ee(O.getMinutes()),ee(O.getSeconds()),nt].join("")},pe=g.__private__.convertPDFDateToDate=function(O){var te=parseInt(O.substr(2,4),10),_e=parseInt(O.substr(6,2),10)-1,Ee=parseInt(O.substr(8,2),10),Me=parseInt(O.substr(10,2),10),nt=parseInt(O.substr(12,2),10),gt=parseInt(O.substr(14,2),10);return new Date(te,_e,Ee,Me,nt,gt,0)},H=g.__private__.setCreationDate=function(O){var te;if(O===void 0&&(O=new Date),O instanceof Date)te=oe(O);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(O))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=O}return re=te},R=g.__private__.getCreationDate=function(O){var te=re;return O==="jsDate"&&(te=pe(re)),te};g.setCreationDate=function(O){return H(O),this},g.getCreationDate=function(O){return R(O)};var J,ee=g.__private__.padd2=function(O){return("0"+parseInt(O)).slice(-2)},ae=g.__private__.padd2Hex=function(O){return("00"+(O=O.toString())).substr(O.length)},be=0,je=[],de=[],ge=0,Ie=[],Ve=[],Re=!1,mt=de;g.__private__.setCustomOutputDestination=function(O){Re=!0,mt=O};var $=function(O){Re||(mt=O)};g.__private__.resetCustomOutputDestination=function(){Re=!1,mt=de};var ie=g.__private__.out=function(O){return O=O.toString(),ge+=O.length+1,mt.push(O),mt},Pe=g.__private__.write=function(O){return ie(arguments.length===1?O.toString():Array.prototype.join.call(arguments," "))},xe=g.__private__.getArrayBuffer=function(O){for(var te=O.length,_e=new ArrayBuffer(te),Ee=new Uint8Array(_e);te--;)Ee[te]=O.charCodeAt(te);return _e},he=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return he};var ve=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(O){return ve=z===C?O/Le:O,this};var ze,De=g.__private__.getFontSize=g.getFontSize=function(){return z===E?ve:ve*Le},Ce=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(O){return Ce=O,this},g.__private__.getR2L=g.getR2L=function(){return Ce};var Ye,ot=g.__private__.setZoomMode=function(O){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(O))ze=O;else if(isNaN(O)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(O)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+O+'" is not recognized.');ze=O}else ze=parseInt(O,10)};g.__private__.getZoomMode=function(){return ze};var Qe,ct=g.__private__.setPageMode=function(O){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(O)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+O+'" is not recognized.');Ye=O};g.__private__.getPageMode=function(){return Ye};var Tt=g.__private__.setLayoutMode=function(O){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(O)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+O+'" is not recognized.');Qe=O};g.__private__.getLayoutMode=function(){return Qe},g.__private__.setDisplayMode=g.setDisplayMode=function(O,te,_e){return ot(O),Tt(te),ct(_e),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(O){if(Object.keys(bt).indexOf(O)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[O]},g.__private__.getDocumentProperties=function(){return bt},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(O){for(var te in bt)bt.hasOwnProperty(te)&&O[te]&&(bt[te]=O[te]);return this},g.__private__.setDocumentProperty=function(O,te){if(Object.keys(bt).indexOf(O)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[O]=te};var Se,Le,Xe,xt,ht,ft={},Ct={},Bt=[],$t={},ur={},er={},Je={},vt=null,At=0,Nt=[],sr=new m8(g),yi=t.hotfixes||[],Wn={},na={},Gn=[],Wt=function O(te,_e,Ee,Me,nt,gt){if(!(this instanceof O))return new O(te,_e,Ee,Me,nt,gt);isNaN(te)&&(te=1),isNaN(_e)&&(_e=0),isNaN(Ee)&&(Ee=0),isNaN(Me)&&(Me=1),isNaN(nt)&&(nt=0),isNaN(gt)&&(gt=0),this._matrix=[te,_e,Ee,Me,nt,gt]};Object.defineProperty(Wt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Wt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Wt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Wt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Wt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Wt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Wt.prototype,"a",{get:function(){return this._matrix[0]},set:function(O){this._matrix[0]=O}}),Object.defineProperty(Wt.prototype,"b",{get:function(){return this._matrix[1]},set:function(O){this._matrix[1]=O}}),Object.defineProperty(Wt.prototype,"c",{get:function(){return this._matrix[2]},set:function(O){this._matrix[2]=O}}),Object.defineProperty(Wt.prototype,"d",{get:function(){return this._matrix[3]},set:function(O){this._matrix[3]=O}}),Object.defineProperty(Wt.prototype,"e",{get:function(){return this._matrix[4]},set:function(O){this._matrix[4]=O}}),Object.defineProperty(Wt.prototype,"f",{get:function(){return this._matrix[5]},set:function(O){this._matrix[5]=O}}),Object.defineProperty(Wt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Wt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Wt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Wt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Wt.prototype.join=function(O){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(M).join(O)},Wt.prototype.multiply=function(O){var te=O.sx*this.sx+O.shy*this.shx,_e=O.sx*this.shy+O.shy*this.sy,Ee=O.shx*this.sx+O.sy*this.shx,Me=O.shx*this.shy+O.sy*this.sy,nt=O.tx*this.sx+O.ty*this.shx+this.tx,gt=O.tx*this.shy+O.ty*this.sy+this.ty;return new Wt(te,_e,Ee,Me,nt,gt)},Wt.prototype.decompose=function(){var O=this.sx,te=this.shy,_e=this.shx,Ee=this.sy,Me=this.tx,nt=this.ty,gt=Math.sqrt(O*O+te*te),Rt=(O/=gt)*_e+(te/=gt)*Ee;_e-=O*Rt,Ee-=te*Rt;var zt=Math.sqrt(_e*_e+Ee*Ee);return Rt/=zt,O*(Ee/=zt)<te*(_e/=zt)&&(O=-O,te=-te,Rt=-Rt,gt=-gt),{scale:new Wt(gt,0,0,zt,0,0),translate:new Wt(1,0,0,1,Me,nt),rotate:new Wt(O,te,-te,O,0,0),skew:new Wt(1,0,Rt,1,0,0)}},Wt.prototype.toString=function(O){return this.join(" ")},Wt.prototype.inversed=function(){var O=this.sx,te=this.shy,_e=this.shx,Ee=this.sy,Me=this.tx,nt=this.ty,gt=1/(O*Ee-te*_e),Rt=Ee*gt,zt=-te*gt,Kt=-_e*gt,Ht=O*gt;return new Wt(Rt,zt,Kt,Ht,-Rt*Me-Kt*nt,-zt*Me-Ht*nt)},Wt.prototype.applyToPoint=function(O){var te=O.x*this.sx+O.y*this.shx+this.tx,_e=O.x*this.shy+O.y*this.sy+this.ty;return new da(te,_e)},Wt.prototype.applyToRectangle=function(O){var te=this.applyToPoint(O),_e=this.applyToPoint(new da(O.x+O.w,O.y+O.h));return new Vs(te.x,te.y,_e.x-te.x,_e.y-te.y)},Wt.prototype.clone=function(){var O=this.sx,te=this.shy,_e=this.shx,Ee=this.sy,Me=this.tx,nt=this.ty;return new Wt(O,te,_e,Ee,Me,nt)},g.Matrix=Wt;var xo=g.matrixMult=function(O,te){return te.multiply(O)},Ea=new Wt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Ea;var ia=function(O,te){if(!ur[O]){var _e=(te instanceof Jh?"Sh":"P")+(Object.keys($t).length+1).toString(10);te.id=_e,ur[O]=_e,$t[_e]=te,sr.publish("addPattern",te)}};g.ShadingPattern=Jh,g.TilingPattern=Bm,g.addShadingPattern=function(O,te){return D("addShadingPattern()"),ia(O,te),this},g.beginTilingPattern=function(O){D("beginTilingPattern()"),qs(O.boundingBox[0],O.boundingBox[1],O.boundingBox[2]-O.boundingBox[0],O.boundingBox[3]-O.boundingBox[1],O.matrix)},g.endTilingPattern=function(O,te){D("endTilingPattern()"),te.stream=Ve[J].join(`
`),ia(O,te),sr.publish("endTilingPattern",te),Gn.pop().restore()};var aa,Zr=g.__private__.newObject=function(){var O=hn();return ai(O,!0),O},hn=g.__private__.newObjectDeferred=function(){return be++,je[be]=function(){return ge},be},ai=function(O,te){return te=typeof te=="boolean"&&te,je[O]=ge,te&&ie(O+" 0 obj"),O},Fi=g.__private__.newAdditionalObject=function(){var O={objId:hn(),content:""};return Ie.push(O),O},Ei=hn(),Vr=hn(),rn=g.__private__.decodeColorString=function(O){var te=O.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length!==5||te[4]!=="k"&&te[4]!=="K"||(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var _e=parseFloat(te[0]);te=[_e,_e,_e,"r"]}for(var Ee="#",Me=0;Me<3;Me++)Ee+=("0"+Math.floor(255*parseFloat(te[Me])).toString(16)).slice(-2);return Ee},si=g.__private__.encodeColorString=function(O){var te;typeof O=="string"&&(O={ch1:O});var _e=O.ch1,Ee=O.ch2,Me=O.ch3,nt=O.ch4,gt=O.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var Rt=new zF(_e);if(Rt.ok)_e=Rt.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var zt=parseInt(_e.substr(1),16);_e=zt>>16&255,Ee=zt>>8&255,Me=255&zt}if(Ee===void 0||nt===void 0&&_e===Ee&&Ee===Me)te=typeof _e=="string"?_e+" "+gt[0]:O.precision===2?L(_e/255)+" "+gt[0]:I(_e/255)+" "+gt[0];else if(nt===void 0||dn(nt)==="object"){if(nt&&!isNaN(nt.a)&&nt.a===0)return["1.","1.","1.",gt[1]].join(" ");te=typeof _e=="string"?[_e,Ee,Me,gt[1]].join(" "):O.precision===2?[L(_e/255),L(Ee/255),L(Me/255),gt[1]].join(" "):[I(_e/255),I(Ee/255),I(Me/255),gt[1]].join(" ")}else te=typeof _e=="string"?[_e,Ee,Me,nt,gt[2]].join(" "):O.precision===2?[L(_e),L(Ee),L(Me),L(nt),gt[2]].join(" "):[I(_e),I(Ee),I(Me),I(nt),gt[2]].join(" ");return te},sa=g.__private__.getFilters=function(){return l},Xa=g.__private__.putStream=function(O){var te=(O=O||{}).data||"",_e=O.filters||sa(),Ee=O.alreadyAppliedFilters||[],Me=O.addLength1||!1,nt=te.length,gt=O.objectId,Rt=function(q){return q};if(f!==null&&gt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Rt=nn.encryptor(gt,0));var zt={};_e===!0&&(_e=["FlateEncode"]);var Kt=O.additionalKeyValues||[],Ht=(zt=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(te,_e):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(zt.data.length!==0&&(Kt.push({key:"Length",value:zt.data.length}),Me===!0&&Kt.push({key:"Length1",value:nt})),Ht.length!=0)if(Ht.split("/").length-1==1)Kt.push({key:"Filter",value:Ht});else{Kt.push({key:"Filter",value:"["+Ht+"]"});for(var Er=0;Er<Kt.length;Er+=1)if(Kt[Er].key==="DecodeParms"){for(var fn=[],Qr=0;Qr<zt.reverseChain.split("/").length-1;Qr+=1)fn.push("null");fn.push(Kt[Er].value),Kt[Er].value="["+fn.join(" ")+"]"}}ie("<<");for(var N=0;N<Kt.length;N++)ie("/"+Kt[N].key+" "+Kt[N].value);ie(">>"),zt.data.length!==0&&(ie("stream"),ie(Rt(zt.data)),ie("endstream"))},Yo=g.__private__.putPage=function(O){var te=O.number,_e=O.data,Ee=O.objId,Me=O.contentsObjId;ai(Ee,!0),ie("<</Type /Page"),ie("/Parent "+O.rootDictionaryObjId+" 0 R"),ie("/Resources "+O.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(M(O.mediaBox.bottomLeftX))+" "+parseFloat(M(O.mediaBox.bottomLeftY))+" "+M(O.mediaBox.topRightX)+" "+M(O.mediaBox.topRightY)+"]"),O.cropBox!==null&&ie("/CropBox ["+M(O.cropBox.bottomLeftX)+" "+M(O.cropBox.bottomLeftY)+" "+M(O.cropBox.topRightX)+" "+M(O.cropBox.topRightY)+"]"),O.bleedBox!==null&&ie("/BleedBox ["+M(O.bleedBox.bottomLeftX)+" "+M(O.bleedBox.bottomLeftY)+" "+M(O.bleedBox.topRightX)+" "+M(O.bleedBox.topRightY)+"]"),O.trimBox!==null&&ie("/TrimBox ["+M(O.trimBox.bottomLeftX)+" "+M(O.trimBox.bottomLeftY)+" "+M(O.trimBox.topRightX)+" "+M(O.trimBox.topRightY)+"]"),O.artBox!==null&&ie("/ArtBox ["+M(O.artBox.bottomLeftX)+" "+M(O.artBox.bottomLeftY)+" "+M(O.artBox.topRightX)+" "+M(O.artBox.topRightY)+"]"),typeof O.userUnit=="number"&&O.userUnit!==1&&ie("/UserUnit "+O.userUnit),sr.publish("putPage",{objId:Ee,pageContext:Nt[te],pageNumber:te,page:_e}),ie("/Contents "+Me+" 0 R"),ie(">>"),ie("endobj");var nt=_e.join(`
`);return z===C&&(nt+=`
Q`),ai(Me,!0),Xa({data:nt,filters:sa(),objectId:Me}),ie("endobj"),Ee},gs=g.__private__.putPages=function(){var O,te,_e=[];for(O=1;O<=At;O++)Nt[O].objId=hn(),Nt[O].contentsObjId=hn();for(O=1;O<=At;O++)_e.push(Yo({number:O,data:Ve[O],objId:Nt[O].objId,contentsObjId:Nt[O].contentsObjId,mediaBox:Nt[O].mediaBox,cropBox:Nt[O].cropBox,bleedBox:Nt[O].bleedBox,trimBox:Nt[O].trimBox,artBox:Nt[O].artBox,userUnit:Nt[O].userUnit,rootDictionaryObjId:Ei,resourceDictionaryObjId:Vr}));ai(Ei,!0),ie("<</Type /Pages");var Ee="/Kids [";for(te=0;te<At;te++)Ee+=_e[te]+" 0 R ";ie(Ee+"]"),ie("/Count "+At),ie(">>"),ie("endobj"),sr.publish("postPutPages")},oa=function(O){sr.publish("putFont",{font:O,out:ie,newObject:Zr,putStream:Xa}),O.isAlreadyPutted!==!0&&(O.objectNumber=Zr(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+Fm(O.postScriptName)),ie("/Subtype /Type1"),typeof O.encoding=="string"&&ie("/Encoding /"+O.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},vo=function(O){O.objectNumber=Zr();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[M(O.x),M(O.y),M(O.x+O.width),M(O.y+O.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+O.matrix.toString()+"]"});var _e=O.pages[1].join(`
`);Xa({data:_e,additionalKeyValues:te,objectId:O.objectNumber}),ie("endobj")},Ta=function(O,te){te||(te=21);var _e=Zr(),Ee=(function(gt,Rt){var zt,Kt=[],Ht=1/(Rt-1);for(zt=0;zt<1;zt+=Ht)Kt.push(zt);if(Kt.push(1),gt[0].offset!=0){var Er={offset:0,color:gt[0].color};gt.unshift(Er)}if(gt[gt.length-1].offset!=1){var fn={offset:1,color:gt[gt.length-1].color};gt.push(fn)}for(var Qr="",N=0,q=0;q<Kt.length;q++){for(zt=Kt[q];zt>gt[N+1].offset;)N++;var Z=gt[N].offset,me=(zt-Z)/(gt[N+1].offset-Z),Ue=gt[N].color,We=gt[N+1].color;Qr+=ae(Math.round((1-me)*Ue[0]+me*We[0]).toString(16))+ae(Math.round((1-me)*Ue[1]+me*We[1]).toString(16))+ae(Math.round((1-me)*Ue[2]+me*We[2]).toString(16))}return Qr.trim()})(O.colors,te),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+te+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Xa({data:Ee,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),ie("endobj"),O.objectNumber=Zr(),ie("<< /ShadingType "+O.type),ie("/ColorSpace /DeviceRGB");var nt="/Coords ["+M(parseFloat(O.coords[0]))+" "+M(parseFloat(O.coords[1]))+" ";O.type===2?nt+=M(parseFloat(O.coords[2]))+" "+M(parseFloat(O.coords[3])):nt+=M(parseFloat(O.coords[2]))+" "+M(parseFloat(O.coords[3]))+" "+M(parseFloat(O.coords[4]))+" "+M(parseFloat(O.coords[5])),ie(nt+="]"),O.matrix&&ie("/Matrix ["+O.matrix.toString()+"]"),ie("/Function "+_e+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},Ui=function(O,te){var _e=hn(),Ee=Zr();te.push({resourcesOid:_e,objectOid:Ee}),O.objectNumber=Ee;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+O.boundingBox.map(M).join(" ")+"]"}),Me.push({key:"XStep",value:M(O.xStep)}),Me.push({key:"YStep",value:M(O.yStep)}),Me.push({key:"Resources",value:_e+" 0 R"}),O.matrix&&Me.push({key:"Matrix",value:"["+O.matrix.toString()+"]"}),Xa({data:O.stream,additionalKeyValues:Me,objectId:O.objectNumber}),ie("endobj")},Ca=function(O){for(var te in O.objectNumber=Zr(),ie("<<"),O)switch(te){case"opacity":ie("/ca "+L(O[te]));break;case"stroke-opacity":ie("/CA "+L(O[te]))}ie(">>"),ie("endobj")},Za=function(O){ai(O.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var te in ie("/Font <<"),ft)ft.hasOwnProperty(te)&&(p===!1||p===!0&&x.hasOwnProperty(te))&&ie("/"+te+" "+ft[te].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys($t).length>0){for(var te in ie("/Shading <<"),$t)$t.hasOwnProperty(te)&&$t[te]instanceof Jh&&$t[te].objectNumber>=0&&ie("/"+te+" "+$t[te].objectNumber+" 0 R");sr.publish("putShadingPatternDict"),ie(">>")}})(),(function(te){if(Object.keys($t).length>0){for(var _e in ie("/Pattern <<"),$t)$t.hasOwnProperty(_e)&&$t[_e]instanceof g.TilingPattern&&$t[_e].objectNumber>=0&&$t[_e].objectNumber<te&&ie("/"+_e+" "+$t[_e].objectNumber+" 0 R");sr.publish("putTilingPatternDict"),ie(">>")}})(O.objectOid),(function(){if(Object.keys(er).length>0){var te;for(te in ie("/ExtGState <<"),er)er.hasOwnProperty(te)&&er[te].objectNumber>=0&&ie("/"+te+" "+er[te].objectNumber+" 0 R");sr.publish("putGStateDict"),ie(">>")}})(),(function(){for(var te in ie("/XObject <<"),Wn)Wn.hasOwnProperty(te)&&Wn[te].objectNumber>=0&&ie("/"+te+" "+Wn[te].objectNumber+" 0 R");sr.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},En=function(O){Ct[O.fontName]=Ct[O.fontName]||{},Ct[O.fontName][O.fontStyle]=O.id},mc=function(O,te,_e,Ee,Me){var nt={id:"F"+(Object.keys(ft).length+1).toString(10),postScriptName:O,fontName:te,fontStyle:_e,encoding:Ee,isStandardFont:Me||!1,metadata:{}};return sr.publish("addFont",{font:nt,instance:this}),ft[nt.id]=nt,En(nt),nt.id},la=g.__private__.pdfEscape=g.pdfEscape=function(O,te){return(function(_e,Ee){var Me,nt,gt,Rt,zt,Kt,Ht,Er,fn;if(gt=(Ee=Ee||{}).sourceEncoding||"Unicode",zt=Ee.outputEncoding,(Ee.autoencode||zt)&&ft[Se].metadata&&ft[Se].metadata[gt]&&ft[Se].metadata[gt].encoding&&(Rt=ft[Se].metadata[gt].encoding,!zt&&ft[Se].encoding&&(zt=ft[Se].encoding),!zt&&Rt.codePages&&(zt=Rt.codePages[0]),typeof zt=="string"&&(zt=Rt[zt]),zt)){for(Ht=!1,Kt=[],Me=0,nt=_e.length;Me<nt;Me++)(Er=zt[_e.charCodeAt(Me)])?Kt.push(String.fromCharCode(Er)):Kt.push(_e[Me]),Kt[Me].charCodeAt(0)>>8&&(Ht=!0);_e=Kt.join("")}for(Me=_e.length;Ht===void 0&&Me!==0;)_e.charCodeAt(Me-1)>>8&&(Ht=!0),Me--;if(!Ht)return _e;for(Kt=Ee.noBOM?[]:[254,255],Me=0,nt=_e.length;Me<nt;Me++){if((fn=(Er=_e.charCodeAt(Me))>>8)>>8)throw new Error("Character at position "+Me+" of string '"+_e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(fn),Kt.push(Er-(fn<<8))}return String.fromCharCode.apply(void 0,Kt)})(O,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Qa=g.__private__.beginPage=function(O){Ve[++At]=[],Nt[At]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(O[0]),topRightY:Number(O[1])}},pc(At),$(Ve[J])},ys=function(O,te){var _e,Ee,Me;switch(r=te||r,typeof O=="string"&&(_e=j(O.toLowerCase()),Array.isArray(_e)&&(Ee=_e[0],Me=_e[1])),Array.isArray(O)&&(Ee=O[0]*Le,Me=O[1]*Le),isNaN(Ee)&&(Ee=i[0],Me=i[1]),(Ee>14400||Me>14400)&&(Nn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Me=Math.min(14400,Me)),i=[Ee,Me],r.substr(0,1)){case"l":Me>Ee&&(i=[Me,Ee]);break;case"p":Ee>Me&&(i=[Me,Ee])}Qa(i),Us(ua),ie(Ia),Pa!==0&&ie(Pa+" J"),Xn!==0&&ie(Xn+" j"),sr.publish("addPage",{pageNumber:At})},kl=function(O){O>0&&O<=At&&(Ve.splice(O,1),Nt.splice(O,1),At--,J>At&&(J=At),this.setPage(J))},pc=function(O){O>0&&O<=At&&(J=O)},gc=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ve.length-1},au=function(O,te,_e){var Ee,Me=void 0;return _e=_e||{},O=O!==void 0?O:ft[Se].fontName,te=te!==void 0?te:ft[Se].fontStyle,Ee=O.toLowerCase(),Ct[Ee]!==void 0&&Ct[Ee][te]!==void 0?Me=Ct[Ee][te]:Ct[O]!==void 0&&Ct[O][te]!==void 0?Me=Ct[O][te]:_e.disableWarning===!1&&Nn.warn("Unable to look up font label for font '"+O+"', '"+te+"'. Refer to getFontList() for available fonts."),Me||_e.noFallback||(Me=Ct.times[te])==null&&(Me=Ct.times.normal),Me},bo=g.__private__.putInfo=function(){var O=Zr(),te=function(Ee){return Ee};for(var _e in f!==null&&(te=nn.encryptor(O,0)),ie("<<"),ie("/Producer ("+la(te("jsPDF "+Gt.version))+")"),bt)bt.hasOwnProperty(_e)&&bt[_e]&&ie("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+la(te(bt[_e]))+")");ie("/CreationDate ("+la(te(re))+")"),ie(">>"),ie("endobj")},ka=g.__private__.putCatalog=function(O){var te=(O=O||{}).rootDictionaryObjId||Ei;switch(Zr(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+te+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+ze;_e.substr(_e.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+L(ze)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Ye&&ie("/PageMode /"+Ye),sr.publish("putCatalog"),ie(">>"),ie("endobj")},yr=g.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(be+1)),ie("/Root "+be+" 0 R"),ie("/Info "+(be-1)+" 0 R"),f!==null&&ie("/Encrypt "+nn.oid+" 0 R"),ie("/ID [ <"+Y+"> <"+Y+"> ]"),ie(">>")},Yn=g.__private__.putHeader=function(){ie("%PDF-"+w),ie("%")},wo=g.__private__.putXRef=function(){var O="0000000000";ie("xref"),ie("0 "+(be+1)),ie("0000000000 65535 f ");for(var te=1;te<=be;te++)typeof je[te]=="function"?ie((O+je[te]()).slice(-10)+" 00000 n "):je[te]!==void 0?ie((O+je[te]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},xs=g.__private__.buildDocument=function(){var O;be=0,ge=0,de=[],je=[],Ie=[],Ei=hn(),Vr=hn(),$(de),sr.publish("buildDocument"),Yn(),gs(),(function(){sr.publish("putAdditionalObjects");for(var _e=0;_e<Ie.length;_e++){var Ee=Ie[_e];ai(Ee.objId,!0),ie(Ee.content),ie("endobj")}sr.publish("postPutAdditionalObjects")})(),O=[],(function(){for(var _e in ft)ft.hasOwnProperty(_e)&&(p===!1||p===!0&&x.hasOwnProperty(_e))&&oa(ft[_e])})(),(function(){var _e;for(_e in er)er.hasOwnProperty(_e)&&Ca(er[_e])})(),(function(){for(var _e in Wn)Wn.hasOwnProperty(_e)&&vo(Wn[_e])})(),(function(_e){var Ee;for(Ee in $t)$t.hasOwnProperty(Ee)&&($t[Ee]instanceof Jh?Ta($t[Ee]):$t[Ee]instanceof Bm&&Ui($t[Ee],_e))})(O),sr.publish("putResources"),O.forEach(Za),Za({resourcesOid:Vr,objectOid:Number.MAX_SAFE_INTEGER}),sr.publish("postPutResources"),f!==null&&(nn.oid=Zr(),ie("<<"),ie("/Filter /Standard"),ie("/V "+nn.v),ie("/R "+nn.r),ie("/U <"+nn.toHexString(nn.U)+">"),ie("/O <"+nn.toHexString(nn.O)+">"),ie("/P "+nn.P),ie(">>"),ie("endobj")),bo(),ka();var te=ge;return wo(),yr(),ie("startxref"),ie(""+te),ie("%%EOF"),$(Ve[J]),de.join(`
`)},Nr=g.__private__.getBlob=function(O){return new Blob([xe(O)],{type:"application/pdf"})},Bi=g.output=g.__private__.output=(aa=function(O,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",O){case void 0:return xs();case"save":g.save(te.filename);break;case"arraybuffer":return xe(xs());case"blob":return Nr(xs());case"bloburi":case"bloburl":if(lr.URL!==void 0&&typeof lr.URL.createObjectURL=="function")return lr.URL&&lr.URL.createObjectURL(Nr(xs()))||void 0;Nn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Ee=xs();try{_e=d8(Ee)}catch{_e=d8(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+te.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(Me=te.pdfObjectUrl,nt="");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",Rt=lr.open();return Rt!==null&&Rt.document.write(gt),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lr)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',Kt=lr.open();if(Kt!==null){Kt.document.write(zt);var Ht=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=te.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ht.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Er='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',fn=lr.open();if(fn!==null&&(fn.document.write(Er),fn.document.title=te.filename),fn||typeof safari>"u")return fn;break;case"datauri":case"dataurl":return lr.document.location.href=this.output("datauristring",te);default:return null}},aa.foo=function(){try{return aa.apply(this,arguments)}catch(_e){var O=_e.stack||"";~O.indexOf(" at ")&&(O=O.split(" at ")[1]);var te="Error in function "+O.split(`
`)[0].split("<")[0]+": "+_e.message;if(!lr.console)throw new Error(te);lr.console.error(te,_e),lr.alert&&alert(te)}},aa.foo.bar=aa,aa.foo),ca=function(O){return Array.isArray(yi)===!0&&yi.indexOf(O)>-1};switch(n){case"pt":Le=1;break;case"mm":Le=72/25.4;break;case"cm":Le=72/2.54;break;case"in":Le=72;break;case"px":Le=ca("px_scaling")==1?.75:96/72;break;case"pc":case"em":Le=12;break;case"ex":Le=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Le=n}var nn=null;H(),se();var Ti=g.__private__.getPageInfo=g.getPageInfo=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[O].objId,pageNumber:O,pageContext:Nt[O]}},yc=g.__private__.getPageInfoByObjId=function(O){if(isNaN(O)||O%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in Nt)if(Nt[te].objId===O)break;return Ti(te)},gd=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Nt[J].objId,pageNumber:J,pageContext:Nt[J]}};g.addPage=function(){return ys.apply(this,arguments),this},g.setPage=function(){return pc.apply(this,arguments),$.call(this,Ve[J]),this},g.insertPage=function(O){return this.addPage(),this.movePage(J,O),this},g.movePage=function(O,te){var _e,Ee;if(O>te){_e=Ve[O],Ee=Nt[O];for(var Me=O;Me>te;Me--)Ve[Me]=Ve[Me-1],Nt[Me]=Nt[Me-1];Ve[te]=_e,Nt[te]=Ee,this.setPage(te)}else if(O<te){_e=Ve[O],Ee=Nt[O];for(var nt=O;nt<te;nt++)Ve[nt]=Ve[nt+1],Nt[nt]=Nt[nt+1];Ve[te]=_e,Nt[te]=Ee,this.setPage(te)}return this},g.deletePage=function(){return kl.apply(this,arguments),this},g.__private__.text=g.text=function(O,te,_e,Ee,Me){var nt,gt,Rt,zt,Kt,Ht,Er,fn,Qr,N=(Ee=Ee||{}).scope||this;if(typeof O=="number"&&typeof te=="number"&&(typeof _e=="string"||Array.isArray(_e))){var q=_e;_e=te,te=O,O=q}if(arguments[3]instanceof Wt==0?(Rt=arguments[4],zt=arguments[5],dn(Er=arguments[3])==="object"&&Er!==null||(typeof Rt=="string"&&(zt=Rt,Rt=null),typeof Er=="string"&&(zt=Er,Er=null),typeof Er=="number"&&(Rt=Er,Er=null),Ee={flags:Er,angle:Rt,align:zt})):(D("The transform parameter of text() with a Matrix value"),Qr=Me),isNaN(te)||isNaN(_e)||O==null)throw new Error("Invalid arguments passed to jsPDF.text");if(O.length===0)return N;var Z,me="",Ue=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:No,We=N.internal.scaleFactor;function wt(Ur){return Ur=Ur.split("	").join(Array(Ee.TabLen||9).join(" ")),la(Ur,Er)}function ir(Ur){for(var Rr,pn=Ur.concat(),Qn=[],al=pn.length;al--;)typeof(Rr=pn.shift())=="string"?Qn.push(Rr):Array.isArray(Ur)&&(Rr.length===1||Rr[1]===void 0&&Rr[2]===void 0)?Qn.push(Rr[0]):Qn.push([Rr[0],Rr[1],Rr[2]]);return Qn}function an(Ur,Rr){var pn;if(typeof Ur=="string")pn=Rr(Ur)[0];else if(Array.isArray(Ur)){for(var Qn,al,Eo=Ur.concat(),fu=[],Ih=Eo.length;Ih--;)typeof(Qn=Eo.shift())=="string"?fu.push(Rr(Qn)[0]):Array.isArray(Qn)&&typeof Qn[0]=="string"&&(al=Rr(Qn[0],Qn[1],Qn[2]),fu.push([al[0],al[1],al[2]]));pn=fu}return pn}var vr=!1,$r=!0;if(typeof O=="string")vr=!0;else if(Array.isArray(O)){var Ci=O.concat();gt=[];for(var ha,mn=Ci.length;mn--;)(typeof(ha=Ci.shift())!="string"||Array.isArray(ha)&&typeof ha[0]!="string")&&($r=!1);vr=$r}if(vr===!1)throw new Error('Type of text must be string or Array. "'+O+'" is not recognized.');typeof O=="string"&&(O=O.match(/[\r?\n]/)?O.split(/\r\n|\r|\n/g):[O]);var qi=ve/N.internal.scaleFactor,Ss=qi*(Ue-1);switch(Ee.baseline){case"bottom":_e-=Ss;break;case"top":_e+=qi-Ss;break;case"hanging":_e+=qi-2*Ss;break;case"middle":_e+=qi/2-Ss}if((Ht=Ee.maxWidth||0)>0&&(typeof O=="string"?O=N.splitTextToSize(O,Ht):Object.prototype.toString.call(O)==="[object Array]"&&(O=O.reduce(function(Ur,Rr){return Ur.concat(N.splitTextToSize(Rr,Ht))},[]))),nt={text:O,x:te,y:_e,options:Ee,mutex:{pdfEscape:la,activeFontKey:Se,fonts:ft,activeFontSize:ve}},sr.publish("preProcessText",nt),O=nt.text,Rt=(Ee=nt.options).angle,Qr instanceof Wt==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ee.rotationDirection===0&&(Rt=-Rt),z===C&&(Rt=-Rt);var Qo=Math.cos(Rt),Jo=Math.sin(Rt);Qr=new Wt(Qo,Jo,-Jo,Qo,0,0)}else Rt&&Rt instanceof Wt&&(Qr=Rt);z!==C||Qr||(Qr=Ea),(Kt=Ee.charSpace||Bs)!==void 0&&(me+=M(B(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(fn=Ee.horizontalScale)!==void 0&&(me+=M(100*fn)+` Tz
`),Ee.lang;var zn=-1,Dl=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,yd=N.internal.getCurrentPageInfo().pageContext;switch(Dl){case 0:case!1:case"fill":zn=0;break;case 1:case!0:case"stroke":zn=1;break;case 2:case"fillThenStroke":zn=2;break;case 3:case"invisible":zn=3;break;case 4:case"fillAndAddForClipping":zn=4;break;case 5:case"strokeAndAddPathForClipping":zn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zn=6;break;case 7:case"addToPathForClipping":zn=7}var Ch=yd.usedRenderingMode!==void 0?yd.usedRenderingMode:-1;zn!==-1?me+=zn+` Tr
`:Ch!==-1&&(me+=`0 Tr
`),zn!==-1&&(yd.usedRenderingMode=zn),zt=Ee.align||"left";var As,So=ve*Ue,Ll=N.internal.pageSize.getWidth(),kh=ft[Se];Kt=Ee.charSpace||Bs,Ht=Ee.maxWidth||0,Er=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var Ao=[],Nc=function(Ur){return N.getStringUnitWidth(Ur,{font:kh,charSpace:Kt,fontSize:ve,doKerning:!1})*ve/We};if(Object.prototype.toString.call(O)==="[object Array]"){var es;gt=ir(O),zt!=="left"&&(As=gt.map(Nc));var Da,el=0;if(zt==="right"){te-=As[0],O=[],mn=gt.length;for(var tl=0;tl<mn;tl++)tl===0?(Da=xi(te),es=oi(_e)):(Da=B(el-As[tl]),es=-So),O.push([gt[tl],Da,es]),el=As[tl]}else if(zt==="center"){te-=As[0]/2,O=[],mn=gt.length;for(var Ml=0;Ml<mn;Ml++)Ml===0?(Da=xi(te),es=oi(_e)):(Da=B((el-As[Ml])/2),es=-So),O.push([gt[Ml],Da,es]),el=As[Ml]}else if(zt==="left"){O=[],mn=gt.length;for(var xd=0;xd<mn;xd++)O.push(gt[xd])}else if(zt==="justify"&&kh.encoding==="Identity-H"){O=[],mn=gt.length,Ht=Ht!==0?Ht:Ll;for(var vd=0,Zn=0;Zn<mn;Zn++)if(es=Zn===0?oi(_e):-So,Da=Zn===0?xi(te):vd,Zn<mn-1){var Gf=B((Ht-As[Zn])/(gt[Zn].split(" ").length-1)),rl=gt[Zn].split(" ");O.push([rl[0]+" ",Da,es]),vd=0;for(var nl=1;nl<rl.length;nl++){var $i=(Nc(rl[nl-1]+" "+rl[nl])-Nc(rl[nl]))*We+Gf;nl==rl.length-1?O.push([rl[nl],$i,0]):O.push([rl[nl]+" ",$i,0]),vd-=$i}}else O.push([gt[Zn],Da,es]);O.push(["",vd,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(O=[],mn=gt.length,Ht=Ht!==0?Ht:Ll,Zn=0;Zn<mn;Zn++){es=Zn===0?oi(_e):-So,Da=Zn===0?xi(te):0;var zl=gt[Zn].split(" ").length-1,bd=zl>0?(Ht-As[Zn])/zl:0;Zn<mn-1?Ao.push(M(B(bd))):Ao.push(0),O.push([gt[Zn],Da,es])}}}(typeof Ee.R2L=="boolean"?Ee.R2L:Ce)===!0&&(O=an(O,function(Ur,Rr,pn){return[Ur.split("").reverse().join(""),Rr,pn]})),nt={text:O,x:te,y:_e,options:Ee,mutex:{pdfEscape:la,activeFontKey:Se,fonts:ft,activeFontSize:ve}},sr.publish("postProcessText",nt),O=nt.text,Z=nt.mutex.isHex||!1;var wd=ft[Se].encoding;wd!=="WinAnsiEncoding"&&wd!=="StandardEncoding"||(O=an(O,function(Ur,Rr,pn){return[wt(Ur),Rr,pn]})),gt=ir(O),O=[];for(var Fl,Ul,il,hu=Array.isArray(gt[0])?1:0,Es="",Bl=function(Ur,Rr,pn){var Qn="";return pn instanceof Wt?(pn=typeof Ee.angle=="number"?xo(pn,new Wt(1,0,0,1,Ur,Rr)):xo(new Wt(1,0,0,1,Ur,Rr),pn),z===C&&(pn=xo(new Wt(1,0,0,-1,0,0),pn)),Qn=pn.join(" ")+` Tm
`):Qn=M(Ur)+" "+M(Rr)+` Td
`,Qn},fa=0;fa<gt.length;fa++){switch(Es="",hu){case 1:il=(Z?"<":"(")+gt[fa][0]+(Z?">":")"),Fl=parseFloat(gt[fa][1]),Ul=parseFloat(gt[fa][2]);break;case 0:il=(Z?"<":"(")+gt[fa]+(Z?">":")"),Fl=xi(te),Ul=oi(_e)}Ao!==void 0&&Ao[fa]!==void 0&&(Es=Ao[fa]+` Tw
`),fa===0?O.push(Es+Bl(Fl,Ul,Qr)+il):hu===0?O.push(Es+il):hu===1&&O.push(Es+Bl(Fl,Ul,Qr)+il)}O=hu===0?O.join(` Tj
T* `):O.join(` Tj
`),O+=` Tj
`;var Hs=`BT
/`;return Hs+=Se+" "+ve+` Tf
`,Hs+=M(ve*Ue)+` TL
`,Hs+=ws+`
`,Hs+=me,Hs+=O,ie(Hs+="ET"),x[Se]=!0,N};var su=g.__private__.clip=g.clip=function(O){return ie(O==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return su("evenodd")},g.__private__.discardPath=g.discardPath=function(){return ie("n"),this};var Vi=g.__private__.isValidStyle=function(O){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(O)!==-1&&(te=!0),te};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(O){return Vi(O)&&(h=O),this};var ou=g.__private__.getStyle=g.getStyle=function(O){var te=h;switch(O){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=O}return te},_o=g.close=function(){return ie("h"),this};g.stroke=function(){return ie("S"),this},g.fill=function(O){return Kn("f",O),this},g.fillEvenOdd=function(O){return Kn("f*",O),this},g.fillStroke=function(O){return Kn("B",O),this},g.fillStrokeEvenOdd=function(O){return Kn("B*",O),this};var Kn=function(O,te){dn(te)==="object"?cu(te,O):ie(O)},xc=function(O){O===null||z===C&&O===void 0||(O=ou(O),ie(O))};function lu(O,te,_e,Ee,Me){var nt=new Bm(te||this.boundingBox,_e||this.xStep,Ee||this.yStep,this.gState,Me||this.matrix);nt.stream=this.stream;var gt=O+"$$"+this.cloneIndex+++"$$";return ia(gt,nt),nt}var cu=function(O,te){var _e=ur[O.key],Ee=$t[_e];if(Ee instanceof Jh)ie("q"),ie(vc(te)),Ee.gState&&g.setGState(Ee.gState),ie(O.matrix.toString()+" cm"),ie("/"+_e+" sh"),ie("Q");else if(Ee instanceof Bm){var Me=new Wt(1,0,0,-1,0,js());O.matrix&&(Me=Me.multiply(O.matrix||Ea),_e=lu.call(Ee,O.key,O.boundingBox,O.xStep,O.yStep,Me).id),ie("q"),ie("/Pattern cs"),ie("/"+_e+" scn"),Ee.gState&&g.setGState(Ee.gState),ie(te),ie("Q")}},vc=function(O){switch(O){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},bc=g.moveTo=function(O,te){return ie(M(B(O))+" "+M(k(te))+" m"),this},Ja=g.lineTo=function(O,te){return ie(M(B(O))+" "+M(k(te))+" l"),this},vs=g.curveTo=function(O,te,_e,Ee,Me,nt){return ie([M(B(O)),M(k(te)),M(B(_e)),M(k(Ee)),M(B(Me)),M(k(nt)),"c"].join(" ")),this};g.__private__.line=g.line=function(O,te,_e,Ee,Me){if(isNaN(O)||isNaN(te)||isNaN(_e)||isNaN(Ee)||!Vi(Me))throw new Error("Invalid arguments passed to jsPDF.line");return z===E?this.lines([[_e-O,Ee-te]],O,te,[1,1],Me||"S"):this.lines([[_e-O,Ee-te]],O,te,[1,1]).stroke()},g.__private__.lines=g.lines=function(O,te,_e,Ee,Me,nt){var gt,Rt,zt,Kt,Ht,Er,fn,Qr,N,q,Z,me;if(typeof O=="number"&&(me=_e,_e=te,te=O,O=me),Ee=Ee||[1,1],nt=nt||!1,isNaN(te)||isNaN(_e)||!Array.isArray(O)||!Array.isArray(Ee)||!Vi(Me)||typeof nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(bc(te,_e),gt=Ee[0],Rt=Ee[1],Kt=O.length,q=te,Z=_e,zt=0;zt<Kt;zt++)(Ht=O[zt]).length===2?(q=Ht[0]*gt+q,Z=Ht[1]*Rt+Z,Ja(q,Z)):(Er=Ht[0]*gt+q,fn=Ht[1]*Rt+Z,Qr=Ht[2]*gt+q,N=Ht[3]*Rt+Z,q=Ht[4]*gt+q,Z=Ht[5]*Rt+Z,vs(Er,fn,Qr,N,q,Z));return nt&&_o(),xc(Me),this},g.path=function(O){for(var te=0;te<O.length;te++){var _e=O[te],Ee=_e.c;switch(_e.op){case"m":bc(Ee[0],Ee[1]);break;case"l":Ja(Ee[0],Ee[1]);break;case"c":vs.apply(this,Ee);break;case"h":_o()}}return this},g.__private__.rect=g.rect=function(O,te,_e,Ee,Me){if(isNaN(O)||isNaN(te)||isNaN(_e)||isNaN(Ee)||!Vi(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return z===E&&(Ee=-Ee),ie([M(B(O)),M(k(te)),M(B(_e)),M(B(Ee)),"re"].join(" ")),xc(Me),this},g.__private__.triangle=g.triangle=function(O,te,_e,Ee,Me,nt,gt){if(isNaN(O)||isNaN(te)||isNaN(_e)||isNaN(Ee)||isNaN(Me)||isNaN(nt)||!Vi(gt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-O,Ee-te],[Me-_e,nt-Ee],[O-Me,te-nt]],O,te,[1,1],gt,!0),this},g.__private__.roundedRect=g.roundedRect=function(O,te,_e,Ee,Me,nt,gt){if(isNaN(O)||isNaN(te)||isNaN(_e)||isNaN(Ee)||isNaN(Me)||isNaN(nt)||!Vi(gt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*_e),nt=Math.min(nt,.5*Ee),this.lines([[_e-2*Me,0],[Me*Rt,0,Me,nt-nt*Rt,Me,nt],[0,Ee-2*nt],[0,nt*Rt,-Me*Rt,nt,-Me,nt],[2*Me-_e,0],[-Me*Rt,0,-Me,-nt*Rt,-Me,-nt],[0,2*nt-Ee],[0,-nt*Rt,Me*Rt,-nt,Me,-nt]],O+Me,te,[1,1],gt,!0),this},g.__private__.ellipse=g.ellipse=function(O,te,_e,Ee,Me){if(isNaN(O)||isNaN(te)||isNaN(_e)||isNaN(Ee)||!Vi(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var nt=4/3*(Math.SQRT2-1)*_e,gt=4/3*(Math.SQRT2-1)*Ee;return bc(O+_e,te),vs(O+_e,te-gt,O+nt,te-Ee,O,te-Ee),vs(O-nt,te-Ee,O-_e,te-gt,O-_e,te),vs(O-_e,te+gt,O-nt,te+Ee,O,te+Ee),vs(O+nt,te+Ee,O+_e,te+gt,O+_e,te),xc(Me),this},g.__private__.circle=g.circle=function(O,te,_e,Ee){if(isNaN(O)||isNaN(te)||isNaN(_e)||!Vi(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(O,te,_e,_e,Ee)},g.setFont=function(O,te,_e){return _e&&(te=U(te,_e)),Se=au(O,te,{disableWarning:!1}),this};var bs=g.__private__.getFont=g.getFont=function(){return ft[au.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var O,te,_e={};for(O in Ct)if(Ct.hasOwnProperty(O))for(te in _e[O]=[],Ct[O])Ct[O].hasOwnProperty(te)&&_e[O].push(te);return _e},g.addFont=function(O,te,_e,Ee,Me){var nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&nt.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&nt.indexOf(arguments[3])==-1&&(_e=U(_e,Ee)),mc.call(this,O,te,_e,Me=Me||"Identity-H")};var No,ua=t.lineWidth||.200025,Jt=g.__private__.getLineWidth=g.getLineWidth=function(){return ua},Us=g.__private__.setLineWidth=g.setLineWidth=function(O){return ua=O,ie(M(B(O))+" w"),this};g.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(O,te){if(O=O||[],te=te||0,isNaN(te)||!Array.isArray(O))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return O=O.map(function(_e){return M(B(_e))}).join(" "),te=M(B(te)),ie("["+O+"] "+te+" d"),this};var Il=g.__private__.getLineHeight=g.getLineHeight=function(){return ve*No};g.__private__.getLineHeight=g.getLineHeight=function(){return ve*No};var wc=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(O){return typeof(O=O||1.15)=="number"&&(No=O),this},Ko=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return No};wc(t.lineHeight);var xi=g.__private__.getHorizontalCoordinate=function(O){return B(O)},oi=g.__private__.getVerticalCoordinate=function(O){return z===C?O:Nt[J].mediaBox.topRightY-Nt[J].mediaBox.bottomLeftY-B(O)},Pl=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(O){return M(xi(O))},qr=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(O){return M(oi(O))},Ia=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return rn(Ia)},g.__private__.setStrokeColor=g.setDrawColor=function(O,te,_e,Ee){return Ia=si({ch1:O,ch2:te,ch3:_e,ch4:Ee,pdfColorType:"draw",precision:2}),ie(Ia),this};var Rl=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return rn(Rl)},g.__private__.setFillColor=g.setFillColor=function(O,te,_e,Ee){return Rl=si({ch1:O,ch2:te,ch3:_e,ch4:Ee,pdfColorType:"fill",precision:2}),ie(Rl),this};var ws=t.textColor||"0 g",Xo=g.__private__.getTextColor=g.getTextColor=function(){return rn(ws)};g.__private__.setTextColor=g.setTextColor=function(O,te,_e,Ee){return ws=si({ch1:O,ch2:te,ch3:_e,ch4:Ee,pdfColorType:"text",precision:3}),this};var Bs=t.charSpace,jo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Bs||0)};g.__private__.setCharSpace=g.setCharSpace=function(O){if(isNaN(O))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Bs=O,this};var Pa=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(O){var te=g.CapJoinStyles[O];if(te===void 0)throw new Error("Line cap style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pa=te,ie(te+" J"),this};var Xn=0;g.__private__.setLineJoin=g.setLineJoin=function(O){var te=g.CapJoinStyles[O];if(te===void 0)throw new Error("Line join style of '"+O+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xn=te,ie(te+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(O){if(O=O||0,isNaN(O))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(M(B(O))+" M"),this},g.GState=w1,g.setGState=function(O){(O=typeof O=="string"?er[Je[O]]:Ra(null,O)).equals(vt)||(ie("/"+O.id+" gs"),vt=O)};var Ra=function(O,te){if(!O||!Je[O]){var _e=!1;for(var Ee in er)if(er.hasOwnProperty(Ee)&&er[Ee].equals(te)){_e=!0;break}if(_e)te=er[Ee];else{var Me="GS"+(Object.keys(er).length+1).toString(10);er[Me]=te,te.id=Me}return O&&(Je[O]=te.id),sr.publish("addGState",te),te}};g.addGState=function(O,te){return Ra(O,te),this},g.saveGraphicsState=function(){return ie("q"),Bt.push({key:Se,size:ve,color:ws}),this},g.restoreGraphicsState=function(){ie("Q");var O=Bt.pop();return Se=O.key,ve=O.size,ws=O.color,vt=null,this},g.setCurrentTransformationMatrix=function(O){return ie(O.toString()+" cm"),this},g.comment=function(O){return ie("#"+O),this};var da=function(O,te){var _e=O||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(nt){isNaN(nt)||(_e=parseFloat(nt))}});var Ee=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(nt){isNaN(nt)||(Ee=parseFloat(nt))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(nt){Me=nt.toString()}}),this},Vs=function(O,te,_e,Ee){da.call(this,O,te),this.type="rect";var Me=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(gt){isNaN(gt)||(Me=parseFloat(gt))}});var nt=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return nt},set:function(gt){isNaN(gt)||(nt=parseFloat(gt))}}),this},Zo=function(){this.page=At,this.currentPage=J,this.pages=Ve.slice(0),this.pagesContext=Nt.slice(0),this.x=Xe,this.y=xt,this.matrix=ht,this.width=_s(J),this.height=Ns(J),this.outputDestination=mt,this.id="",this.objectNumber=-1};Zo.prototype.restore=function(){At=this.page,J=this.currentPage,Nt=this.pagesContext,Ve=this.pages,Xe=this.x,xt=this.y,ht=this.matrix,Ol(J,this.width),Oa(J,this.height),mt=this.outputDestination};var qs=function(O,te,_e,Ee,Me){Gn.push(new Zo),At=J=0,Ve=[],Xe=O,xt=te,ht=Me,Qa([_e,Ee])};for(var $s in g.beginFormObject=function(O,te,_e,Ee,Me){return qs(O,te,_e,Ee,Me),this},g.endFormObject=function(O){return(function(te){if(na[te])Gn.pop().restore();else{var _e=new Zo,Ee="Xo"+(Object.keys(Wn).length+1).toString(10);_e.id=Ee,na[te]=Ee,Wn[Ee]=_e,sr.publish("addFormObject",_e),Gn.pop().restore()}})(O),this},g.doFormObject=function(O,te){var _e=Wn[na[O]];return ie("q"),ie(te.toString()+" cm"),ie("/"+_e.id+" Do"),ie("Q"),this},g.getFormObject=function(O){var te=Wn[na[O]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},g.save=function(O,te){return O=O||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(Qh(Nr(xs()),O),typeof Qh.unload=="function"&&lr.setTimeout&&setTimeout(Qh.unload,911),this):new Promise(function(_e,Ee){try{var Me=Qh(Nr(xs()),O);typeof Qh.unload=="function"&&lr.setTimeout&&setTimeout(Qh.unload,911),_e(Me)}catch(nt){Ee(nt.message)}})},Gt.API)Gt.API.hasOwnProperty($s)&&($s==="events"&&Gt.API.events.length?(function(O,te){var _e,Ee,Me;for(Me=te.length-1;Me!==-1;Me--)_e=te[Me][0],Ee=te[Me][1],O.subscribe.apply(O,[_e].concat(typeof Ee=="function"?[Ee]:Ee))})(sr,Gt.API.events):g[$s]=Gt.API[$s]);function _s(O){return Nt[O].mediaBox.topRightX-Nt[O].mediaBox.bottomLeftX}function Ol(O,te){Nt[O].mediaBox.topRightX=te+Nt[O].mediaBox.bottomLeftX}function Ns(O){return Nt[O].mediaBox.topRightY-Nt[O].mediaBox.bottomLeftY}function Oa(O,te){Nt[O].mediaBox.topRightY=te+Nt[O].mediaBox.bottomLeftY}var uu=g.getPageWidth=function(O){return _s(O=O||J)/Le},du=g.setPageWidth=function(O,te){Ol(O,te*Le)},js=g.getPageHeight=function(O){return Ns(O=O||J)/Le},_c=g.setPageHeight=function(O,te){Oa(O,te*Le)};return g.internal={pdfEscape:la,getStyle:ou,getFont:bs,getFontSize:De,getCharSpace:jo,getTextColor:Xo,getLineHeight:Il,getLineHeightFactor:Ko,getLineWidth:Jt,write:Pe,getHorizontalCoordinate:xi,getVerticalCoordinate:oi,getCoordinateString:Pl,getVerticalCoordinateString:qr,collections:{},newObject:Zr,newAdditionalObject:Fi,newObjectDeferred:hn,newObjectDeferredBegin:ai,getFilters:sa,putStream:Xa,events:sr,scaleFactor:Le,pageSize:{getWidth:function(){return uu(J)},setWidth:function(O){du(J,O)},getHeight:function(){return js(J)},setHeight:function(O){_c(J,O)}},encryptionOptions:f,encryption:nn,getEncryptor:function(O){return f!==null?nn.encryptor(O,0):function(te){return te}},output:Bi,getNumberOfPages:gc,pages:Ve,out:ie,f2:L,f3:I,getPageInfo:Ti,getPageInfoByObjId:yc,getCurrentPageInfo:gd,getPDFVersion:v,Point:da,Rectangle:Vs,Matrix:Wt,hasHotfix:ca},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return uu(J)},set:function(O){du(J,O)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return js(J)},set:function(O){_c(J,O)},enumerable:!0,configurable:!0}),(function(O){for(var te=0,_e=he.length;te<_e;te++){var Ee=mc.call(this,O[te][0],O[te][1],O[te][2],he[te][3],!0);p===!1&&(x[Ee]=!0);var Me=O[te][0].split("-");En({id:Ee,fontName:Me[0],fontStyle:Me[1]||""})}sr.publish("addFonts",{fonts:ft,dictionary:Ct})}).call(g,he),Se="F1",ys(i,r),sr.publish("initialized"),g}zm.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},zm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},zm.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},zm.prototype.processOwnerPassword=function(t,e){return ej(JN(e).substr(0,5),t)},zm.prototype.encryptor=function(t,e){var r=JN(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return ej(r,n)}},w1.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||dn(t)!==dn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Gt.API={events:[]},Gt.version="3.0.3";var pi=Gt.API,o4=1,Wf=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Im=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mr=function(t){return t.toFixed(2)},Yd=function(t){return t.toFixed(5)};pi.__acroform__={};var yo=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},p8=function(t){return t*o4},zc=function(t){var e=new VF,r=Ut.internal.getHeight(t)||0,n=Ut.internal.getWidth(t)||0;return e.BBox=[0,0,Number(mr(n)),Number(mr(r))],e},Axe=pi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Exe=pi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Txe=pi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ni=pi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Txe(t,e-1)},ji=pi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Axe(t,e-1)},Si=pi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Exe(t,e-1)},Cxe=pi.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],a=t[1],l=t[2],c=t[3],d={};return d.lowerLeft_X=r(i)||0,d.lowerLeft_Y=n(a+c)||0,d.upperRight_X=r(i+l)||0,d.upperRight_Y=n(a)||0,[Number(mr(d.lowerLeft_X)),Number(mr(d.lowerLeft_Y)),Number(mr(d.upperRight_X)),Number(mr(d.upperRight_Y))]},kxe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=tj(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+mr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=zc(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},tj=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(L){return L.split(`
`)}):i.map(function(L){return[L]});var a=r,l=Ut.internal.getHeight(t)||0;l=l<0?-l:l;var c=Ut.internal.getWidth(t)||0;c=c<0?-c:c;var d=function(L,I,B){if(L+1<i.length){var k=I+" "+i[L+1][0];return Bx(k,t,B).width<=c-4}return!1};a++;e:for(;a>0;){e="",a--;var h,f,p=Bx("3",t,a).height,x=t.multiline?l-a:(l-p)/2,g=x+=2,w=0,v=0,_=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Bx(e,t,a=12).width+", FieldWidth:"+c+`
`;break}for(var j="",E=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var z=!1;if(i[C].length!==1&&_!==i[C].length-1){if((p+2)*(E+2)+2>l)continue e;j+=i[C][_],z=!0,v=C,C--}else{j=(j+=i[C][_]+" ").substr(j.length-1)==" "?j.substr(0,j.length-1):j;var P=parseInt(C),X=d(P,j,a),U=C>=i.length-1;if(X&&!U){j+=" ",_=0;continue}if(X||U){if(U)v=P;else if(t.multiline&&(p+2)*(E+2)+2>l)continue e}else{if(!t.multiline||(p+2)*(E+2)+2>l)continue e;v=P}}for(var M="",D=w;D<=v;D++){var G=i[D];if(t.multiline){if(D===v){M+=G[_]+" ",_=(_+1)%G.length;continue}if(D===w){M+=G[G.length-1]+" ";continue}}M+=G[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,f=Bx(M,t,a).width,t.textAlign){case"right":h=c-f-2;break;case"center":h=(c-f)/2;break;default:h=2}e+=mr(h)+" "+mr(g)+` Td
`,e+="("+Wf(M)+`) Tj
`,e+=-mr(h)+` 0 Td
`,g=-(a+2),f=0,w=z?v:v+1,E++,j=""}break}return n.text=e,n.fontSize=a,n},Bx=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},Ixe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Pxe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},Rxe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(hc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(Ixe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");o4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new qF,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&Pxe(a,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var l in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var c=n[l],d=[],h=c.Rect;if(c.Rect&&(c.Rect=Cxe(c.Rect,i)),i.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Ut.createDefaultAppearanceStream(c),dn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var f=kxe(c);d.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(c.appearanceStreamContent){var p="";for(var x in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(x)){var g=c.appearanceStreamContent[x];if(p+="/"+x+" ",p+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var w=g[l];typeof w=="function"&&(w=w.call(i,c)),p+="/"+l+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(i,c)),p+="/"+l+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);p+=">>"}d.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:c.objId}),i.internal.out("endobj")}a&&(function(v,_){for(var j in v)if(v.hasOwnProperty(j)){var E=j,C=v[j];_.internal.newObjectDeferredBegin(C.objId,!0),dn(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete v[E]}})(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},BF=pi.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(l){return l};if(Array.isArray(t)){for(var i="[",a=0;a<t.length;a++)switch(a!==0&&(i+=" "),dn(t[a])){case"boolean":case"number":case"object":i+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Wf(n(t[a].toString()))+")"):i+=t[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},y_=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Wf(n(t))+")"},qc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qc.prototype.toString=function(){return this.objId+" 0 R"},qc.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},qc.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:BF(i,this.objId,this.scope)}):i instanceof qc?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var VF=function(){qc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};yo(VF,qc);var qF=function(){qc.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Wf(r(t))+")"}},set:function(r){t=r}})};yo(qF,qc);var hc=function t(){qc.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute F supplied.');e=j}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ni(e,3)},set:function(j){j?this.F=ji(e,3):this.F=Si(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(j){if(isNaN(j))throw new Error('Invalid value "'+j+'" for attribute Ff supplied.');r=j}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(j){n=j!==void 0?j:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(j){n[0]=j}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(j){n[1]=j}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(j){n[2]=j}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(j){n[3]=j}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(j){switch(j){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=j;break;default:throw new Error('Invalid value "'+j+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof _1)return;a="FieldObject"+t.FieldNum++}var j=function(E){return E};return this.scope&&(j=this.scope.internal.getEncryptor(this.objId)),"("+Wf(j(a))+")"},set:function(j){a=j.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(j){a=j}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(j){l=j}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(j){c=j}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(j){d=j}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/o4:h},set:function(j){h=j}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(j){f=j}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof _1||this instanceof vf))return y_(p,this.objId,this.scope)},set:function(j){j=j.toString(),p=j}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof wa==0?y_(x,this.objId,this.scope):x},set:function(j){j=j.toString(),x=this instanceof wa==0?j.substr(0,1)==="("?Im(j.substr(1,j.length-2)):Im(j):j}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wa==1?Im(x.substr(1,x.length-1)):x},set:function(j){j=j.toString(),x=this instanceof wa==1?"/"+j:j}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(j){this.V=j}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof wa==0?y_(g,this.objId,this.scope):g},set:function(j){j=j.toString(),g=this instanceof wa==0?j.substr(0,1)==="("?Im(j.substr(1,j.length-2)):Im(j):j}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wa==1?Im(g.substr(1,g.length-1)):g},set:function(j){j=j.toString(),g=this instanceof wa==1?"/"+j:j}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(j){j=!!j,v=j}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(j){w=j}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,1)},set:function(j){j?this.Ff=ji(this.Ff,1):this.Ff=Si(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,2)},set:function(j){j?this.Ff=ji(this.Ff,2):this.Ff=Si(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,3)},set:function(j){j?this.Ff=ji(this.Ff,3):this.Ff=Si(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(j){if([0,1,2].indexOf(j)===-1)throw new Error('Invalid value "'+j+'" for attribute Q supplied.');_=j}}),Object.defineProperty(this,"textAlign",{get:function(){var j;switch(_){case 0:default:j="left";break;case 1:j="center";break;case 2:j="right"}return j},configurable:!0,enumerable:!0,set:function(j){switch(j){case"right":case 2:_=2;break;case"center":case 1:_=1;break;default:_=0}}})};yo(hc,qc);var Qm=function(){hc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BF(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=(function(a,l,c){c||(c=1);for(var d,h=[];d=l.exec(a);)h.push(d[c]);return h})(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,18)},set:function(r){r?this.Ff=ji(this.Ff,18):this.Ff=Si(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ji(this.Ff,19):this.Ff=Si(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,20)},set:function(r){r?(this.Ff=ji(this.Ff,20),e.sort()):this.Ff=Si(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,22)},set:function(r){r?this.Ff=ji(this.Ff,22):this.Ff=Si(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(r){r?this.Ff=ji(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,27)},set:function(r){r?this.Ff=ji(this.Ff,27):this.Ff=Si(this.Ff,27)}}),this.hasAppearanceStream=!1};yo(Qm,hc);var Jm=function(){Qm.call(this),this.fontName="helvetica",this.combo=!1};yo(Jm,Qm);var ep=function(){Jm.call(this),this.combo=!0};yo(ep,Jm);var sv=function(){ep.call(this),this.edit=!0};yo(sv,ep);var wa=function(){hc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,15)},set:function(r){r?this.Ff=ji(this.Ff,15):this.Ff=Si(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,16)},set:function(r){r?this.Ff=ji(this.Ff,16):this.Ff=Si(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,17)},set:function(r){r?this.Ff=ji(this.Ff,17):this.Ff=Si(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(r){r?this.Ff=ji(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Wf(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){dn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};yo(wa,hc);var ov=function(){wa.call(this),this.pushButton=!0};yo(ov,wa);var tp=function(){wa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};yo(tp,wa);var _1=function(){var t,e;hc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(c){return c};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),n)l.push("/"+a+" ("+Wf(i(n[a]))+")");return l.push(">>"),l.join(`
`)},set:function(i){dn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};yo(_1,hc),tp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},tp.prototype.createOption=function(t){var e=new _1;return e.Parent=this,e.optionName=t,this.Kids.push(e),Oxe.call(this.scope,e),e};var lv=function(){wa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ut.CheckBox.createAppearanceStream()};yo(lv,wa);var vf=function(){hc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,13)},set:function(e){e?this.Ff=ji(this.Ff,13):this.Ff=Si(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,21)},set:function(e){e?this.Ff=ji(this.Ff,21):this.Ff=Si(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,23)},set:function(e){e?this.Ff=ji(this.Ff,23):this.Ff=Si(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,24)},set:function(e){e?this.Ff=ji(this.Ff,24):this.Ff=Si(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,25)},set:function(e){e?this.Ff=ji(this.Ff,25):this.Ff=Si(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,26)},set:function(e){e?this.Ff=ji(this.Ff,26):this.Ff=Si(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};yo(vf,hc);var cv=function(){vf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ni(this.Ff,14)},set:function(t){t?this.Ff=ji(this.Ff,14):this.Ff=Si(this.Ff,14)}}),this.password=!0};yo(cv,vf);var Ut={CheckBox:{createAppearanceStream:function(){return{N:{On:Ut.CheckBox.YesNormal},D:{On:Ut.CheckBox.YesPushDown,Off:Ut.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=zc(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),a=tj(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+mr(Ut.internal.getWidth(t))+" "+mr(Ut.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+mr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=zc(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],a=Ut.internal.getHeight(t),l=Ut.internal.getWidth(t),c=tj(t,t.caption);return i.push("1 g"),i.push("0 0 "+mr(l)+" "+mr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+mr(l-1)+" "+mr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+mr(c.fontSize)+" Tf "+n),i.push(c.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=zc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mr(Ut.internal.getWidth(t))+" "+mr(Ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Circle.YesNormal,e.D[t]=Ut.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=zc(t);e.scope=t.scope;var r=[],n=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Ut.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Yd(Ut.internal.getWidth(t)/2)+" "+Yd(Ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=zc(t);e.scope=t.scope;var r=[],n=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ut.internal.Bezier_C).toFixed(5)),l=Number((n*Ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yd(Ut.internal.getWidth(t)/2)+" "+Yd(Ut.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Yd(Ut.internal.getWidth(t)/2)+" "+Yd(Ut.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=zc(t);e.scope=t.scope;var r=[],n=Ut.internal.getWidth(t)<=Ut.internal.getHeight(t)?Ut.internal.getWidth(t)/4:Ut.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Yd(Ut.internal.getWidth(t)/2)+" "+Yd(Ut.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ut.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ut.RadioButton.Cross.YesNormal,e.D[t]=Ut.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=zc(t);e.scope=t.scope;var r=[],n=Ut.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+mr(Ut.internal.getWidth(t)-2)+" "+mr(Ut.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(mr(n.x1.x)+" "+mr(n.x1.y)+" m"),r.push(mr(n.x2.x)+" "+mr(n.x2.y)+" l"),r.push(mr(n.x4.x)+" "+mr(n.x4.y)+" m"),r.push(mr(n.x3.x)+" "+mr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=zc(t);e.scope=t.scope;var r=Ut.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+mr(Ut.internal.getWidth(t))+" "+mr(Ut.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+mr(Ut.internal.getWidth(t)-2)+" "+mr(Ut.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(mr(r.x1.x)+" "+mr(r.x1.y)+" m"),n.push(mr(r.x2.x)+" "+mr(r.x2.y)+" l"),n.push(mr(r.x4.x)+" "+mr(r.x4.y)+" m"),n.push(mr(r.x3.x)+" "+mr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=zc(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mr(Ut.internal.getWidth(t))+" "+mr(Ut.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Ut.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ut.internal.getWidth(t),r=Ut.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Ut.internal.getWidth=function(t){var e=0;return dn(t)==="object"&&(e=p8(t.Rect[2])),e},Ut.internal.getHeight=function(t){var e=0;return dn(t)==="object"&&(e=p8(t.Rect[3])),e};var Oxe=pi.addField=function(t){if(Rxe(this,t),!(t instanceof hc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};pi.AcroFormChoiceField=Qm,pi.AcroFormListBox=Jm,pi.AcroFormComboBox=ep,pi.AcroFormEditBox=sv,pi.AcroFormButton=wa,pi.AcroFormPushButton=ov,pi.AcroFormRadioButton=tp,pi.AcroFormCheckBox=lv,pi.AcroFormTextField=vf,pi.AcroFormPasswordField=cv,pi.AcroFormAppearance=Ut,pi.AcroForm={ChoiceField:Qm,ListBox:Jm,ComboBox:ep,EditBox:sv,Button:wa,PushButton:ov,RadioButton:tp,CheckBox:lv,TextField:vf,PasswordField:cv,Appearance:Ut},Gt.AcroForm={ChoiceField:Qm,ListBox:Jm,ComboBox:ep,EditBox:sv,Button:wa,PushButton:ov,RadioButton:tp,CheckBox:lv,TextField:vf,PasswordField:cv,Appearance:Ut};Gt.AcroForm;function $F(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=t.__addimage__.getImageFileTypeByImageData=function(L,I){var B,k,re,Y,Q,se=r;if((I=I||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(X(L))for(Q in n)for(re=n[Q],B=0;B<re.length;B+=1){for(Y=!0,k=0;k<re[B].length;k+=1)if(re[B][k]!==void 0&&re[B][k]!==L[k]){Y=!1;break}if(Y===!0){se=Q;break}}else for(Q in n)for(re=n[Q],B=0;B<re.length;B+=1){for(Y=!0,k=0;k<re[B].length;k+=1)if(re[B][k]!==void 0&&re[B][k]!==L.charCodeAt(k)){Y=!1;break}if(Y===!0){se=Q;break}}return se===r&&I!==r&&(se=I),se},a=function L(I){for(var B=this.internal.write,k=this.internal.putStream,re=(0,this.internal.getFilters)();re.indexOf("FlateEncode")!==-1;)re.splice(re.indexOf("FlateEncode"),1);I.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:I.width}),Y.push({key:"Height",value:I.height}),I.colorSpace===j.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(I.palette.length/3-1)+" "+("sMask"in I&&I.sMask!==void 0?I.objectId+2:I.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+I.colorSpace}),I.colorSpace===j.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:I.bitsPerComponent}),"decodeParameters"in I&&I.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+I.decodeParameters+">>"}),"transparency"in I&&Array.isArray(I.transparency)&&I.transparency.length>0){for(var Q="",se=0,oe=I.transparency.length;se<oe;se++)Q+=I.transparency[se]+" "+I.transparency[se]+" ";Y.push({key:"Mask",value:"["+Q+"]"})}I.sMask!==void 0&&Y.push({key:"SMask",value:I.objectId+1+" 0 R"});var pe=I.filter!==void 0?["/"+I.filter]:void 0;if(k({data:I.data,additionalKeyValues:Y,alreadyAppliedFilters:pe,objectId:I.objectId}),B("endobj"),"sMask"in I&&I.sMask!==void 0){var H,R=(H=I.sMaskBitsPerComponent)!==null&&H!==void 0?H:I.bitsPerComponent,J={width:I.width,height:I.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:I.sMask};"filter"in I&&(J.decodeParameters="/Predictor ".concat(I.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(I.width),J.filter=I.filter),L.call(this,J)}if(I.colorSpace===j.INDEXED){var ee=this.internal.newObject();k({data:M(new Uint8Array(I.palette)),objectId:ee}),B("endobj")}},l=function(){var L=this.internal.collections[e+"images"];for(var I in L)a.call(this,L[I])},c=function(){var L,I=this.internal.collections[e+"images"],B=this.internal.write;for(var k in I)B("/I"+(L=I[k]).index,L.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var L=this.internal.collections[e+"images"];return d.call(this),L},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(L){return typeof t["process"+L.toUpperCase()]=="function"},x=function(L){return dn(L)==="object"&&L.nodeType===1},g=function(L,I){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var B=""+L.getAttribute("src");if(B.indexOf("data:image/")===0)return av(unescape(B).split("base64,").pop());var k=t.loadFile(B,!0);if(k!==void 0)return k}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var re;switch(I){case"PNG":re="image/png";break;case"WEBP":re="image/webp";break;default:re="image/jpeg"}return av(L.toDataURL(re,1).split("base64,").pop())}},w=function(L){var I=this.internal.collections[e+"images"];if(I){for(var B in I)if(L===I[B].alias)return I[B]}},v=function(L,I,B){return L||I||(L=-96,I=-96),L<0&&(L=-1*B.width*72/L/this.internal.scaleFactor),I<0&&(I=-1*B.height*72/I/this.internal.scaleFactor),L===0&&(L=I*B.width/B.height),I===0&&(I=L*B.height/B.width),[L,I]},_=function(L,I,B,k,re,Y){var Q=v.call(this,B,k,re),se=this.internal.getCoordinateString,oe=this.internal.getVerticalCoordinateString,pe=h.call(this);if(B=Q[0],k=Q[1],pe[re.index]=re,Y){Y*=Math.PI/180;var H=Math.cos(Y),R=Math.sin(Y),J=function(ae){return ae.toFixed(4)},ee=[J(H),J(R),J(-1*R),J(H),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,se(L),oe(I+k),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([se(B),"0","0",se(k),"0","0","cm"].join(" "))):this.internal.write([se(B),"0","0",se(k),se(L),oe(I+k),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+re.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=t.__addimage__.sHashCode=function(L){var I,B,k=0;if(typeof L=="string")for(B=L.length,I=0;I<B;I++)k=(k<<5)-k+L.charCodeAt(I),k|=0;else if(X(L))for(B=L.byteLength/2,I=0;I<B;I++)k=(k<<5)-k+L[I],k|=0;return k},z=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var I=!0;return L.length===0&&(I=!1),L.length%4!=0&&(I=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(I=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(I=!1),I},P=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var I=L.indexOf(",");return I<0?null:L.substring(0,I).trim().endsWith("base64")?L.substring(I+1):null};t.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var X=t.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},U=t.__addimage__.binaryStringToUint8Array=function(L){for(var I=L.length,B=new Uint8Array(I),k=0;k<I;k++)B[k]=L.charCodeAt(k);return B},M=t.__addimage__.arrayBufferToBinaryString=function(L){for(var I="",B=X(L)?L:new Uint8Array(L),k=0;k<B.length;k+=8192)I+=String.fromCharCode.apply(null,B.subarray(k,k+8192));return I};t.addImage=function(){var L,I,B,k,re,Y,Q,se,oe;if(typeof arguments[1]=="number"?(I=r,B=arguments[1],k=arguments[2],re=arguments[3],Y=arguments[4],Q=arguments[5],se=arguments[6],oe=arguments[7]):(I=arguments[1],B=arguments[2],k=arguments[3],re=arguments[4],Y=arguments[5],Q=arguments[6],se=arguments[7],oe=arguments[8]),dn(L=arguments[0])==="object"&&!x(L)&&"imageData"in L){var pe=L;L=pe.imageData,I=pe.format||I||r,B=pe.x||B||0,k=pe.y||k||0,re=pe.w||pe.width||re,Y=pe.h||pe.height||Y,Q=pe.alias||Q,se=pe.compression||se,oe=pe.rotation||pe.angle||oe}var H=this.internal.getFilters();if(se===void 0&&H.indexOf("FlateEncode")!==-1&&(se="SLOW"),isNaN(B)||isNaN(k))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var R=D.call(this,L,I,Q,se);return _.call(this,B,k,re,Y,R,oe),this};var D=function(L,I,B,k){var re,Y,Q;if(typeof L=="string"&&i(L)===r){L=unescape(L);var se=G(L,!1);(se!==""||(se=t.loadFile(L,!0))!==void 0)&&(L=se)}if(x(L)&&(L=g(L,I)),I=i(L,I),!p(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(((Q=B)==null||Q.length===0)&&(B=(function(oe){return typeof oe=="string"||X(oe)?C(oe):X(oe.data)?C(oe.data):null})(L)),(re=w.call(this,B))||(L instanceof Uint8Array||I==="RGBA"||(Y=L,L=U(L)),re=this["process"+I.toUpperCase()](L,f.call(this),B,(function(oe){return oe&&typeof oe=="string"&&(oe=oe.toUpperCase()),oe in t.image_compression?oe:E.NONE})(k),Y)),!re)throw new Error("An unknown error occurred whilst processing the image.");return re},G=t.__addimage__.convertBase64ToBinaryString=function(L,I){I=typeof I!="boolean"||I;var B,k="";if(typeof L=="string"){var re;B=(re=P(L))!==null&&re!==void 0?re:L;try{k=av(B)}catch(Y){if(I)throw z(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};t.getImageProperties=function(L){var I,B,k="";if(x(L)&&(L=g(L)),typeof L=="string"&&i(L)===r&&((k=G(L,!1))===""&&(k=t.loadFile(L)||""),L=k),B=i(L),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(L instanceof Uint8Array||(L=U(L)),!(I=this["process"+B.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return I.fileType=B,I}})(Gt.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,a,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,f=!1,p=0;p<h.length&&!f;p++)switch((n=h[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var x=0;x<h.length;x++){n=h[x];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),j=this.internal.getEncryptor(v.objId),E=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+g(j(n.contents))+")",a+=" /Popup "+_.objId+" 0 R",a+=" /P "+d.objId+" 0 R",a+=" /T ("+g(j(E))+") >>",v.content=a;var C=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+C,n.open&&(a+=" /Open true"),a+=" >>",_.content=a,this.internal.write(v.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var z=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(w(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var X=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+X+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,a,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(r),y:h(n),w:d(r+i),h:h(n+a)},options:l,type:"link"})},t.textWithLink=function(r,n,i,a){var l,c,d=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){c=a.maxWidth;var f=this.splitTextToSize(r,c).length;l=Math.ceil(h*f)}else c=d,l=h;return this.text(r,n,i,a),i+=.2*h,a.align==="center"&&(n-=d/2),a.align==="right"&&(n-=d),this.link(n,i-h,c,l,a),d},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Gt.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},l=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},c=t.__arabicParser__.isArabicEndLetter=function(v){return l(v)&&a(v)&&e[v.charCodeAt(0)].length<=2},d=t.__arabicParser__.isArabicAlfLetter=function(v){return l(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return l(v)&&a(v)&&e[v.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return l(v)&&a(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return l(v)&&a(v)&&e[v.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return l(v)&&a(v)&&e[v.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(v){var _=0,j=r,E="",C=0;for(_=0;_<v.length;_+=1)j[v.charCodeAt(_)]!==void 0?(C++,typeof(j=j[v.charCodeAt(_)])=="number"&&(E+=String.fromCharCode(j),j=r,C=0),_===v.length-1&&(j=r,E+=v.charAt(_-(C-1)),_-=C-1,C=0)):(j=r,E+=v.charAt(_-C),_-=C,C=0);return E};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var x=t.__arabicParser__.getCorrectForm=function(v,_,j){return l(v)?a(v)===!1?-1:!h(v)||!l(_)&&!l(j)||!l(j)&&c(_)||c(v)&&!l(_)||c(v)&&d(_)||c(v)&&c(_)?0:f(v)&&l(_)&&!c(_)&&l(j)&&h(j)?3:c(v)||!l(j)?1:2:-1},g=function(v){var _=0,j=0,E=0,C="",z="",P="",X=(v=v||"").split("\\s+"),U=[];for(_=0;_<X.length;_+=1){for(U.push(""),j=0;j<X[_].length;j+=1)C=X[_][j],z=X[_][j-1],P=X[_][j+1],l(C)?(E=x(C,z,P),U[_]+=E!==-1?String.fromCharCode(e[C.charCodeAt(0)][E]):C):U[_]+=C;U[_]=p(U[_])}return U.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var v,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,j=[];if(Array.isArray(_)){var E=0;for(j=[],E=0;E<_.length;E+=1)Array.isArray(_[E])?j.push([g(_[E][0]),_[E][1],_[E][2]]):j.push([g(_[E])]);v=j}else v=g(_);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",w])})(Gt.API),Gt.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(c){i=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(c){a=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Gt.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(v){x=v}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(v){w=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},t.getTextDimensions=function(d,h){n.call(this);var f=(h=h||{}).fontSize||this.getFontSize(),p=h.font||this.getFont(),x=h.scaleFactor||this.internal.scaleFactor,g=0,w=0,v=0,_=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var j=h.maxWidth;j>0?typeof d=="string"?d=this.splitTextToSize(d,j):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(C,z){return C.concat(_.splitTextToSize(z,j))},[])):d=Array.isArray(d)?d:[d];for(var E=0;E<d.length;E++)g<(v=this.getStringUnitWidth(d[E],{font:p})*f)&&(g=v);return g!==0&&(w=d.length),{w:g/=x,h:Math.max((w*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/x,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=t.cell=function(){var d;d=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=p.top,g&&x&&(this.printHeaderRow(d.lineNumber,!0),d.y+=x[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-f,d.y+f,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+f,{align:"center",baseline:"top",maxWidth:d.width-f-f}):this.text(d.text,d.x+f,d.y+f,{align:"left",baseline:"top",maxWidth:d.width-f-f})),this.internal.__cell__.lastCell=d,this};t.table=function(d,h,f,p,x){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,w,v,_,j=[],E=[],C=[],z={},P={},X=[],U=[],M=(x=x||{}).autoSize||!1,D=x.printHeaders!==!1,G=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,L=x.margins||Object.assign({width:this.getPageWidth()},e),I=typeof x.padding=="number"?x.padding:3,B=x.headerBackgroundColor||"#c8c8c8",k=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=I,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=k,this.setFontSize(G),p==null)E=j=Object.keys(f[0]),C=j.map(function(){return"left"});else if(Array.isArray(p)&&dn(p[0])==="object")for(j=p.map(function(pe){return pe.name}),E=p.map(function(pe){return pe.prompt||pe.name||""}),C=p.map(function(pe){return pe.align||"left"}),g=0;g<p.length;g+=1)P[p[g].name]=.7499990551181103*p[g].width;else Array.isArray(p)&&typeof p[0]=="string"&&(E=j=p,C=j.map(function(){return"left"}));if(M||Array.isArray(p)&&typeof p[0]=="string")for(g=0;g<j.length;g+=1){for(z[_=j[g]]=f.map(function(pe){return pe[_]}),this.setFont(void 0,"bold"),X.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=z[_],this.setFont(void 0,"normal"),v=0;v<w.length;v+=1)X.push(this.getTextDimensions(w[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[_]=Math.max.apply(null,X)+I+I,X=[]}if(D){var re={};for(g=0;g<j.length;g+=1)re[j[g]]={},re[j[g]].text=E[g],re[j[g]].align=C[g];var Y=c.call(this,re,P);U=j.map(function(pe){return new a(d,h,P[pe],Y,re[pe].text,void 0,re[pe].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var Q=p.reduce(function(pe,H){return pe[H.name]=H.align,pe},{});for(g=0;g<f.length;g+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:g,data:f[g]},this);var se=c.call(this,f[g],P);for(v=0;v<j.length;v+=1){var oe=f[g][j[v]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:g,col:v,data:oe},this),l.call(this,new a(d,h,P[j[v]],se,oe,g+2,Q[j[v]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var c=function(d,h){var f=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(d).map(function(g){var w=d[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,h[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*p/x+f+f},this).reduce(function(g,w){return Math.max(g,w)},0)};t.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},t.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(f.y=this.internal.__cell__.margins.top||0,x.push(f)),f.lineNumber=d;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,f),this.setTextColor(w)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),r=!1}})(Gt.API);var HF={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WF=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],rj=$F(WF),GF=[100,200,300,400,500,600,700,800,900],Dxe=$F(GF);function x_(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(a){return HF[a=a||"normal"]?a:"normal"})(t.style),n=(function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400})(t.weight),i=(function(a){return typeof rj[a=a||"normal"]=="number"?a:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function g8(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var Lxe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},y8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function x8(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function v8(t){return t.trimLeft()}function Mxe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function zxe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Vx,b8,w8,Pm,qx,_8,N8,j8,v_=["times"];function S8(t,e,r,n,i){var a=4,l=E8;switch(i){case Gt.API.image_compression.FAST:a=1,l=A8;break;case Gt.API.image_compression.MEDIUM:a=6,l=T8;break;case Gt.API.image_compression.SLOW:a=9,l=C8}t=(function(d,h,f,p){for(var x,g=d.length/h,w=new Uint8Array(d.length+g),v=[Fxe,A8,E8,T8,C8],_=0;_<g;_+=1){var j=_*h,E=d.subarray(j,j+h);if(p)w.set(p(E,f,x),j+_);else{for(var C=v.length,z=[],P=0;P<C;P+=1)z[P]=v[P](E,f,x);var X=Bxe(z.concat());w.set(z[X],j+_)}x=E}return w})(t,e,Math.ceil(r*n/8),l);var c=KN(t,{level:a});return Gt.API.__addimage__.arrayBufferToBinaryString(c)}function Fxe(t){var e=Array.apply([],t);return e.unshift(0),e}function A8(t,e){var r=t.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=t[i-e]||0;n[i+1]=t[i]-a+256&255}return n}function E8(t,e,r){var n=t.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var l=r&&r[a]||0;i[a+1]=t[a]-l+256&255}return i}function T8(t,e,r){var n=t.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var l=t[a-e]||0,c=r&&r[a]||0;i[a+1]=t[a]+256-(l+c>>>1)&255}return i}function C8(t,e,r){var n=t.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var l=Uxe(t[a-e]||0,r&&r[a]||0,r&&r[a-e]||0);i[a+1]=t[a]-l+256&255}return i}function Uxe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),i=Math.abs(t-r),a=Math.abs(t+e-r-r);return n<=i&&n<=a?t:i<=a?e:r}function Bxe(t){var e=t.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function b_(t,e,r){var n=e*r,i=Math.floor(n/8),a=16-(n-8*i+r),l=(1<<r)-1;return YF(t,i)>>a&l}function k8(t,e,r,n){var i=r*n,a=Math.floor(i/8),l=16-(i-8*a+n),c=(1<<n)-1,d=(e&c)<<l;(function(h,f,p){if(f+1<h.byteLength)h.setUint16(f,p,!1);else{var x=p>>8&255;h.setUint8(f,x)}})(t,a,YF(t,a)&~(c<<l)&65535|d)}function YF(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Vxe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],a=i>>7,l=1<<1+(7&i);t[e++],t[e++];var c=null,d=null;a&&(c=e,d=l,e+=3*l);var h=!0,f=[],p=0,x=null,g=0,w=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];p=t[e++]|t[e++]<<8,x=t[e++],1&v||(x=null),g=v>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,C=t[e++]|t[e++]<<8,z=t[e++],P=z>>6&1,X=1<<1+(7&z),U=c,M=d,D=!1;z>>7&&(D=!0,U=e,M=X,e+=3*X);var G=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}f.push({x:_,y:j,width:E,height:C,has_local_palette:D,palette_offset:U,palette_size:M,data_offset:G,data_length:e-G,transparent_index:x,interlaced:!!P,delay:p,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return w},this.frameInfo=function(I){if(I<0||I>=f.length)throw new Error("Frame index out of range.");return f[I]},this.decodeAndBlitFrameBGRA=function(I,B){var k=this.frameInfo(I),re=k.width*k.height,Y=new Uint8Array(re);I8(t,k.data_offset,Y,re);var Q=k.palette_offset,se=k.transparent_index;se===null&&(se=256);var oe=k.width,pe=r-oe,H=oe,R=4*(k.y*r+k.x),J=4*((k.y+k.height)*r+k.x),ee=R,ae=4*pe;k.interlaced===!0&&(ae+=4*r*7);for(var be=8,je=0,de=Y.length;je<de;++je){var ge=Y[je];if(H===0&&(H=oe,(ee+=ae)>=J&&(ae=4*pe+4*r*(be-1),ee=R+(oe+pe)*(be<<1),be>>=1)),ge===se)ee+=4;else{var Ie=t[Q+3*ge],Ve=t[Q+3*ge+1],Re=t[Q+3*ge+2];B[ee++]=Re,B[ee++]=Ve,B[ee++]=Ie,B[ee++]=255}--H}},this.decodeAndBlitFrameRGBA=function(I,B){var k=this.frameInfo(I),re=k.width*k.height,Y=new Uint8Array(re);I8(t,k.data_offset,Y,re);var Q=k.palette_offset,se=k.transparent_index;se===null&&(se=256);var oe=k.width,pe=r-oe,H=oe,R=4*(k.y*r+k.x),J=4*((k.y+k.height)*r+k.x),ee=R,ae=4*pe;k.interlaced===!0&&(ae+=4*r*7);for(var be=8,je=0,de=Y.length;je<de;++je){var ge=Y[je];if(H===0&&(H=oe,(ee+=ae)>=J&&(ae=4*pe+4*r*(be-1),ee=R+(oe+pe)*(be<<1),be>>=1)),ge===se)ee+=4;else{var Ie=t[Q+3*ge],Ve=t[Q+3*ge+1],Re=t[Q+3*ge+2];B[ee++]=Ie,B[ee++]=Ve,B[ee++]=Re,B[ee++]=255}--H}}}function I8(t,e,r,n){for(var i=t[e++],a=1<<i,l=a+1,c=l+1,d=i+1,h=(1<<d)-1,f=0,p=0,x=0,g=t[e++],w=new Int32Array(4096),v=null;;){for(;f<16&&g!==0;)p|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<d)break;var _=p&h;if(p>>=d,f-=d,_!==a){if(_===l)break;for(var j=_<c?_:v,E=0,C=j;C>a;)C=w[C]>>8,++E;var z=C;if(x+E+(j!==_?1:0)>n)return void Nn.log("Warning, gif stream longer than expected.");r[x++]=z;var P=x+=E;for(j!==_&&(r[x++]=z),C=j;E--;)C=w[C],r[--P]=255&C,C>>=8;v!==null&&c<4096&&(w[c++]=v<<8|z,c>=h+1&&d<12&&(++d,h=h<<1|1)),v=_}else c=l+1,h=(1<<(d=i+1))-1,v=null}return x!==n&&Nn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function w_(t){var e,r,n,i,a,l=Math.floor,c=new Array(64),d=new Array(64),h=new Array(64),f=new Array(64),p=new Array(65535),x=new Array(65535),g=new Array(64),w=new Array(64),v=[],_=0,j=7,E=new Array(64),C=new Array(64),z=new Array(64),P=new Array(256),X=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],k=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],re=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(R,J){for(var ee=0,ae=0,be=new Array,je=1;je<=16;je++){for(var de=1;de<=R[je];de++)be[J[ae]]=[],be[J[ae]][0]=ee,be[J[ae]][1]=je,ae++,ee++;ee*=2}return be}function Q(R){for(var J=R[0],ee=R[1]-1;ee>=0;)J&1<<ee&&(_|=1<<j),ee--,--j<0&&(_==255?(se(255),se(0)):se(_),j=7,_=0)}function se(R){v.push(R)}function oe(R){se(R>>8&255),se(255&R)}function pe(R,J,ee,ae,be){for(var je,de=be[0],ge=be[240],Ie=(function(ve,ze){var De,Ce,Ye,ot,Qe,ct,Tt,bt,Se,Le,Xe=0;for(Se=0;Se<8;++Se){De=ve[Xe],Ce=ve[Xe+1],Ye=ve[Xe+2],ot=ve[Xe+3],Qe=ve[Xe+4],ct=ve[Xe+5],Tt=ve[Xe+6];var xt=De+(bt=ve[Xe+7]),ht=De-bt,ft=Ce+Tt,Ct=Ce-Tt,Bt=Ye+ct,$t=Ye-ct,ur=ot+Qe,er=ot-Qe,Je=xt+ur,vt=xt-ur,At=ft+Bt,Nt=ft-Bt;ve[Xe]=Je+At,ve[Xe+4]=Je-At;var sr=.707106781*(Nt+vt);ve[Xe+2]=vt+sr,ve[Xe+6]=vt-sr;var yi=.382683433*((Je=er+$t)-(Nt=Ct+ht)),Wn=.5411961*Je+yi,na=1.306562965*Nt+yi,Gn=.707106781*(At=$t+Ct),Wt=ht+Gn,xo=ht-Gn;ve[Xe+5]=xo+Wn,ve[Xe+3]=xo-Wn,ve[Xe+1]=Wt+na,ve[Xe+7]=Wt-na,Xe+=8}for(Xe=0,Se=0;Se<8;++Se){De=ve[Xe],Ce=ve[Xe+8],Ye=ve[Xe+16],ot=ve[Xe+24],Qe=ve[Xe+32],ct=ve[Xe+40],Tt=ve[Xe+48];var Ea=De+(bt=ve[Xe+56]),ia=De-bt,aa=Ce+Tt,Zr=Ce-Tt,hn=Ye+ct,ai=Ye-ct,Fi=ot+Qe,Ei=ot-Qe,Vr=Ea+Fi,rn=Ea-Fi,si=aa+hn,sa=aa-hn;ve[Xe]=Vr+si,ve[Xe+32]=Vr-si;var Xa=.707106781*(sa+rn);ve[Xe+16]=rn+Xa,ve[Xe+48]=rn-Xa;var Yo=.382683433*((Vr=Ei+ai)-(sa=Zr+ia)),gs=.5411961*Vr+Yo,oa=1.306562965*sa+Yo,vo=.707106781*(si=ai+Zr),Ta=ia+vo,Ui=ia-vo;ve[Xe+40]=Ui+gs,ve[Xe+24]=Ui-gs,ve[Xe+8]=Ta+oa,ve[Xe+56]=Ta-oa,Xe++}for(Se=0;Se<64;++Se)Le=ve[Se]*ze[Se],g[Se]=Le>0?Le+.5|0:Le-.5|0;return g})(R,J),Ve=0;Ve<64;++Ve)w[U[Ve]]=Ie[Ve];var Re=w[0]-ee;ee=w[0],Re==0?Q(ae[0]):(Q(ae[x[je=32767+Re]]),Q(p[je]));for(var mt=63;mt>0&&w[mt]==0;)mt--;if(mt==0)return Q(de),ee;for(var $,ie=1;ie<=mt;){for(var Pe=ie;w[ie]==0&&ie<=mt;)++ie;var xe=ie-Pe;if(xe>=16){$=xe>>4;for(var he=1;he<=$;++he)Q(ge);xe&=15}je=32767+w[ie],Q(be[(xe<<4)+x[je]]),Q(p[je]),ie++}return mt!=63&&Q(de),ee}function H(R){R=Math.min(Math.max(R,1),100),a!=R&&((function(J){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var be=l((ee[ae]*J+50)/100);be=Math.min(Math.max(be,1),255),c[U[ae]]=be}for(var je=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var ge=l((je[de]*J+50)/100);ge=Math.min(Math.max(ge,1),255),d[U[de]]=ge}for(var Ie=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ve=0,Re=0;Re<8;Re++)for(var mt=0;mt<8;mt++)h[Ve]=1/(c[U[Ve]]*Ie[Re]*Ie[mt]*8),f[Ve]=1/(d[U[Ve]]*Ie[Re]*Ie[mt]*8),Ve++})(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),a=R)}this.encode=function(R,J){J&&H(J),v=new Array,_=0,j=7,oe(65496),oe(65504),oe(16),se(74),se(70),se(73),se(70),se(0),se(1),se(1),se(0),oe(1),oe(1),se(0),se(0),(function(){oe(65499),oe(132),se(0);for(var Ce=0;Ce<64;Ce++)se(c[Ce]);se(1);for(var Ye=0;Ye<64;Ye++)se(d[Ye])})(),(function(Ce,Ye){oe(65472),oe(17),se(8),oe(Ye),oe(Ce),se(3),se(1),se(17),se(0),se(2),se(17),se(1),se(3),se(17),se(1)})(R.width,R.height),(function(){oe(65476),oe(418),se(0);for(var Ce=0;Ce<16;Ce++)se(M[Ce+1]);for(var Ye=0;Ye<=11;Ye++)se(D[Ye]);se(16);for(var ot=0;ot<16;ot++)se(G[ot+1]);for(var Qe=0;Qe<=161;Qe++)se(L[Qe]);se(1);for(var ct=0;ct<16;ct++)se(I[ct+1]);for(var Tt=0;Tt<=11;Tt++)se(B[Tt]);se(17);for(var bt=0;bt<16;bt++)se(k[bt+1]);for(var Se=0;Se<=161;Se++)se(re[Se])})(),oe(65498),oe(12),se(3),se(1),se(0),se(2),se(17),se(3),se(17),se(0),se(63),se(0);var ee=0,ae=0,be=0;_=0,j=7,this.encode.displayName="_encode_";for(var je,de,ge,Ie,Ve,Re,mt,$,ie,Pe=R.data,xe=R.width,he=R.height,ve=4*xe,ze=0;ze<he;){for(je=0;je<ve;){for(Ve=ve*ze+je,mt=-1,$=0,ie=0;ie<64;ie++)Re=Ve+($=ie>>3)*ve+(mt=4*(7&ie)),ze+$>=he&&(Re-=ve*(ze+1+$-he)),je+mt>=ve&&(Re-=je+mt-ve+4),de=Pe[Re++],ge=Pe[Re++],Ie=Pe[Re++],E[ie]=(X[de]+X[ge+256|0]+X[Ie+512|0]>>16)-128,C[ie]=(X[de+768|0]+X[ge+1024|0]+X[Ie+1280|0]>>16)-128,z[ie]=(X[de+1280|0]+X[ge+1536|0]+X[Ie+1792|0]>>16)-128;ee=pe(E,h,ee,e,n),ae=pe(C,f,ae,r,i),be=pe(z,f,be,r,i),je+=32}ze+=8}if(j>=0){var De=[];De[1]=j+1,De[0]=(1<<j+1)-1,Q(De)}return oe(65497),new Uint8Array(v)},t=t||50,(function(){for(var R=String.fromCharCode,J=0;J<256;J++)P[J]=R(J)})(),e=Y(M,D),r=Y(I,B),n=Y(G,L),i=Y(k,re),(function(){for(var R=1,J=2,ee=1;ee<=15;ee++){for(var ae=R;ae<J;ae++)x[32767+ae]=ee,p[32767+ae]=[],p[32767+ae][1]=ee,p[32767+ae][0]=ae;for(var be=-(J-1);be<=-R;be++)x[32767+be]=ee,p[32767+be]=[],p[32767+be][1]=ee,p[32767+be][0]=J-1+be;R<<=1,J<<=1}})(),(function(){for(var R=0;R<256;R++)X[R]=19595*R,X[R+256|0]=38470*R,X[R+512|0]=7471*R+32768,X[R+768|0]=-11059*R,X[R+1024|0]=-21709*R,X[R+1280|0]=32768*R+8421375,X[R+1536|0]=-27439*R,X[R+1792|0]=-5329*R})(),H(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Xl(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function P8(t){function e(D){if(!D)throw Error("assert :P")}function r(D,G,L){for(var I=0;4>I;I++)if(D[G+I]!=L.charCodeAt(I))return!0;return!1}function n(D,G,L,I,B){for(var k=0;k<B;k++)D[G+k]=L[I+k]}function i(D,G,L,I){for(var B=0;B<I;B++)D[G+B]=L}function a(D){return new Int32Array(D)}function l(D,G){for(var L=[],I=0;I<D;I++)L.push(new G);return L}function c(D,G){var L=[];return(function I(B,k,re){for(var Y=re[k],Q=0;Q<Y&&(B.push(re.length>k+1?[]:new G),!(re.length<k+1));Q++)I(B[Q],k+1,re)})(L,0,D),L}var d=function(){var D=this;function G(b,A){for(var F=1<<A-1>>>0;b&F;)F>>>=1;return F?(b&F-1)+F:b}function L(b,A,F,W,ne){e(!(W%F));do b[A+(W-=F)]=ne;while(0<W)}function I(b,A,F,W,ne){if(e(2328>=ne),512>=ne)var le=a(512);else if((le=a(ne))==null)return 0;return(function(ce,fe,ye,Ne,Te,$e){var we,Oe,Be=fe,tt=1<<ye,qe=a(16),et=a(16);for(e(Te!=0),e(Ne!=null),e(ce!=null),e(0<ye),Oe=0;Oe<Te;++Oe){if(15<Ne[Oe])return 0;++qe[Ne[Oe]]}if(qe[0]==Te)return 0;for(et[1]=0,we=1;15>we;++we){if(qe[we]>1<<we)return 0;et[we+1]=et[we]+qe[we]}for(Oe=0;Oe<Te;++Oe)we=Ne[Oe],0<Ne[Oe]&&($e[et[we]++]=Oe);if(et[15]==1)return(Ne=new B).g=0,Ne.value=$e[0],L(ce,Be,1,tt,Ne),tt;var at,yt=-1,dt=tt-1,Ft=0,kt=1,or=1,Dt=1<<ye;for(Oe=0,we=1,Te=2;we<=ye;++we,Te<<=1){if(kt+=or<<=1,0>(or-=qe[we]))return 0;for(;0<qe[we];--qe[we])(Ne=new B).g=we,Ne.value=$e[Oe++],L(ce,Be+Ft,Te,Dt,Ne),Ft=G(Ft,we)}for(we=ye+1,Te=2;15>=we;++we,Te<<=1){if(kt+=or<<=1,0>(or-=qe[we]))return 0;for(;0<qe[we];--qe[we]){if(Ne=new B,(Ft&dt)!=yt){for(Be+=Dt,at=1<<(yt=we)-ye;15>yt&&!(0>=(at-=qe[yt]));)++yt,at<<=1;tt+=Dt=1<<(at=yt-ye),ce[fe+(yt=Ft&dt)].g=at+ye,ce[fe+yt].value=Be-fe-yt}Ne.g=we-ye,Ne.value=$e[Oe++],L(ce,Be+(Ft>>ye),Te,Dt,Ne),Ft=G(Ft,we)}}return kt!=2*et[15]-1?0:tt})(b,A,F,W,ne,le)}function B(){this.value=this.g=0}function k(){this.value=this.g=0}function re(){this.G=l(5,B),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Nc,k)}function Y(b,A,F,W){e(b!=null),e(A!=null),e(2147483648>W),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=A,b.pa=F,b.Jd=A,b.Yc=F+W,b.Zc=4<=W?F+W-4+1:F,de(b)}function Q(b,A){for(var F=0;0<A--;)F|=Ie(b,128)<<A;return F}function se(b,A){var F=Q(b,A);return ge(b)?-F:F}function oe(b,A,F,W){var ne,le=0;for(e(b!=null),e(A!=null),e(4294967288>W),b.Sb=W,b.Ra=0,b.u=0,b.h=0,4<W&&(W=4),ne=0;ne<W;++ne)le+=A[F+ne]<<8*ne;b.Ra=le,b.bb=W,b.oa=A,b.pa=F}function pe(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<el-8>>>0,++b.bb,b.u-=8;ae(b)&&(b.h=1,b.u=0)}function H(b,A){if(e(0<=A),!b.h&&A<=Da){var F=ee(b)&es[A];return b.u+=A,pe(b),F}return b.h=1,b.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ee(b){return b.Ra>>>(b.u&el-1)>>>0}function ae(b){return e(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>el}function be(b,A){b.u=A,b.h=ae(b)}function je(b){b.u>=tl&&(e(b.u>=tl),pe(b))}function de(b){e(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(e(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ge(b){return Q(b,1)}function Ie(b,A){var F=b.Ca;0>b.b&&de(b);var W=b.b,ne=F*A>>>8,le=(b.I>>>W>ne)+0;for(le?(F-=ne,b.I-=ne+1<<W>>>0):F=ne+1,W=F,ne=0;256<=W;)ne+=8,W>>=8;return W=7^ne+Ml[W],b.b-=W,b.Ca=(F<<W)-1,le}function Ve(b,A,F){b[A+0]=F>>24&255,b[A+1]=F>>16&255,b[A+2]=F>>8&255,b[A+3]=255&F}function Re(b,A){return b[A+0]|b[A+1]<<8}function mt(b,A){return Re(b,A)|b[A+2]<<16}function $(b,A){return Re(b,A)|Re(b,A+2)<<16}function ie(b,A){var F=1<<A;return e(b!=null),e(0<A),b.X=a(F),b.X==null?0:(b.Mb=32-A,b.Xa=A,1)}function Pe(b,A){e(b!=null),e(A!=null),e(b.Xa==A.Xa),n(A.X,0,b.X,0,1<<A.Xa)}function xe(){this.X=[],this.Xa=this.Mb=0}function he(b,A,F,W){e(F!=null),e(W!=null);var ne=F[0],le=W[0];return ne==0&&(ne=(b*le+A/2)/A),le==0&&(le=(A*ne+b/2)/b),0>=ne||0>=le?0:(F[0]=ne,W[0]=le,1)}function ve(b,A){return b+(1<<A)-1>>>A}function ze(b,A){return((4278255360&b)+(4278255360&A)>>>0&4278255360)+((16711935&b)+(16711935&A)>>>0&16711935)>>>0}function De(b,A){D[A]=function(F,W,ne,le,ce,fe,ye){var Ne;for(Ne=0;Ne<ce;++Ne){var Te=D[b](fe[ye+Ne-1],ne,le+Ne);fe[ye+Ne]=ze(F[W+Ne],Te)}}}function Ce(){this.ud=this.hd=this.jd=0}function Ye(b,A){return((4278124286&(b^A))>>>1)+(b&A)>>>0}function ot(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function Qe(b,A){return ot(b+(b-A+.5>>1))}function ct(b,A,F){return Math.abs(A-F)-Math.abs(b-F)}function Tt(b,A,F,W,ne,le,ce){for(W=le[ce-1],F=0;F<ne;++F)le[ce+F]=W=ze(b[A+F],W)}function bt(b,A,F,W,ne){var le;for(le=0;le<F;++le){var ce=b[A+le],fe=ce>>8&255,ye=16711935&(ye=(ye=16711935&ce)+((fe<<16)+fe));W[ne+le]=(4278255360&ce)+ye>>>0}}function Se(b,A){A.jd=255&b,A.hd=b>>8&255,A.ud=b>>16&255}function Le(b,A,F,W,ne,le){var ce;for(ce=0;ce<W;++ce){var fe=A[F+ce],ye=fe>>>8,Ne=fe,Te=255&(Te=(Te=fe>>>16)+((b.jd<<24>>24)*(ye<<24>>24)>>>5));Ne=255&(Ne=(Ne+=(b.hd<<24>>24)*(ye<<24>>24)>>>5)+((b.ud<<24>>24)*(Te<<24>>24)>>>5)),ne[le+ce]=(4278255360&fe)+(Te<<16)+Ne}}function Xe(b,A,F,W,ne){D[A]=function(le,ce,fe,ye,Ne,Te,$e,we,Oe){for(ye=$e;ye<we;++ye)for($e=0;$e<Oe;++$e)Ne[Te++]=ne(fe[W(le[ce++])])},D[b]=function(le,ce,fe,ye,Ne,Te,$e){var we=8>>le.b,Oe=le.Ea,Be=le.K[0],tt=le.w;if(8>we)for(le=(1<<le.b)-1,tt=(1<<we)-1;ce<fe;++ce){var qe,et=0;for(qe=0;qe<Oe;++qe)qe&le||(et=W(ye[Ne++])),Te[$e++]=ne(Be[et&tt]),et>>=we}else D["VP8LMapColor"+F](ye,Ne,Be,tt,Te,$e,ce,fe,Oe)}}function xt(b,A,F,W,ne){for(F=A+F;A<F;){var le=b[A++];W[ne++]=le>>16&255,W[ne++]=le>>8&255,W[ne++]=255&le}}function ht(b,A,F,W,ne){for(F=A+F;A<F;){var le=b[A++];W[ne++]=le>>16&255,W[ne++]=le>>8&255,W[ne++]=255&le,W[ne++]=le>>24&255}}function ft(b,A,F,W,ne){for(F=A+F;A<F;){var le=(ce=b[A++])>>16&240|ce>>12&15,ce=240&ce|ce>>28&15;W[ne++]=le,W[ne++]=ce}}function Ct(b,A,F,W,ne){for(F=A+F;A<F;){var le=(ce=b[A++])>>16&248|ce>>13&7,ce=ce>>5&224|ce>>3&31;W[ne++]=le,W[ne++]=ce}}function Bt(b,A,F,W,ne){for(F=A+F;A<F;){var le=b[A++];W[ne++]=255&le,W[ne++]=le>>8&255,W[ne++]=le>>16&255}}function $t(b,A,F,W,ne,le){if(le==0)for(F=A+F;A<F;)Ve(W,((le=b[A++])[0]>>24|le[1]>>8&65280|le[2]<<8&16711680|le[3]<<24)>>>0),ne+=32;else n(W,ne,b,A,F)}function ur(b,A){D[A][0]=D[b+"0"],D[A][1]=D[b+"1"],D[A][2]=D[b+"2"],D[A][3]=D[b+"3"],D[A][4]=D[b+"4"],D[A][5]=D[b+"5"],D[A][6]=D[b+"6"],D[A][7]=D[b+"7"],D[A][8]=D[b+"8"],D[A][9]=D[b+"9"],D[A][10]=D[b+"10"],D[A][11]=D[b+"11"],D[A][12]=D[b+"12"],D[A][13]=D[b+"13"],D[A][14]=D[b+"0"],D[A][15]=D[b+"0"]}function er(b){return b==Mh||b==Qf||b==Nd||b==Jf}function Je(){this.eb=[],this.size=this.A=this.fb=0}function vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function At(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new vt,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function sr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yi(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Wn(b,A){var F=b.T,W=A.ba.f.RGBA,ne=W.eb,le=W.fb+b.ka*W.A,ce=Gi[A.ba.S],fe=b.y,ye=b.O,Ne=b.f,Te=b.N,$e=b.ea,we=b.W,Oe=A.cc,Be=A.dc,tt=A.Mc,qe=A.Nc,et=b.ka,at=b.ka+b.T,yt=b.U,dt=yt+1>>1;for(et==0?ce(fe,ye,null,null,Ne,Te,$e,we,Ne,Te,$e,we,ne,le,null,null,yt):(ce(A.ec,A.fc,fe,ye,Oe,Be,tt,qe,Ne,Te,$e,we,ne,le-W.A,ne,le,yt),++F);et+2<at;et+=2)Oe=Ne,Be=Te,tt=$e,qe=we,Te+=b.Rc,we+=b.Rc,le+=2*W.A,ce(fe,(ye+=2*b.fa)-b.fa,fe,ye,Oe,Be,tt,qe,Ne,Te,$e,we,ne,le-W.A,ne,le,yt);return ye+=b.fa,b.j+at<b.o?(n(A.ec,A.fc,fe,ye,yt),n(A.cc,A.dc,Ne,Te,dt),n(A.Mc,A.Nc,$e,we,dt),F--):1&at||ce(fe,ye,null,null,Ne,Te,$e,we,Ne,Te,$e,we,ne,le+W.A,null,null,yt),F}function na(b,A,F){var W=b.F,ne=[b.J];if(W!=null){var le=b.U,ce=A.ba.S,fe=ce==Lh||ce==Nd;A=A.ba.f.RGBA;var ye=[0],Ne=b.ka;ye[0]=b.T,b.Kb&&(Ne==0?--ye[0]:(--Ne,ne[0]-=b.width),b.j+b.ka+b.T==b.o&&(ye[0]=b.o-b.j-Ne));var Te=A.eb;Ne=A.fb+Ne*A.A,b=Ph(W,ne[0],b.width,le,ye,Te,Ne+(fe?0:3),A.A),e(F==ye),b&&er(ce)&&mu(Te,Ne,fe,le,ye,A.A)}return 0}function Gn(b){var A=b.ma,F=A.ba.S,W=11>F,ne=F==pa||F==Gs||F==Lh||F==_d||F==12||er(F);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Ll(A.Oa,b,ne?11:12))return 0;if(ne&&er(F)&&wt(),b.da)alert("todo:use_scaling");else{if(W){if(A.Ib=yi,b.Kb){if(F=b.U+1>>1,A.memory=a(b.U+2*F),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+b.U,A.Mc=A.cc,A.Nc=A.dc+F,A.Ib=Wn,wt()}}else alert("todo:EmitYUV");ne&&(A.Jb=na,W&&Ue())}if(W&&!kc){for(b=0;256>b;++b)Yi[b]=89858*(b-128)+Ad>>Js,Mb[b]=-22014*(b-128)+Ad,by[b]=-45773*(b-128),im[b]=113618*(b-128)+Ad>>Js;for(b=xu;b<Cc;++b)A=76283*(b-16)+Ad>>Js,zb[b-xu]=zn(A,255),Fb[b-xu]=zn(A+8>>4,15);kc=1}return 1}function Wt(b){var A=b.ma,F=b.U,W=b.T;return e(!(1&b.ka)),0>=F||0>=W?0:(F=A.Ib(b,A),A.Jb!=null&&A.Jb(b,A,F),A.Dc+=F,1)}function xo(b){b.ma.memory=null}function Ea(b,A,F,W){return H(b,8)!=47?0:(A[0]=H(b,14)+1,F[0]=H(b,14)+1,W[0]=H(b,1),H(b,3)!=0?0:!b.h)}function ia(b,A){if(4>b)return b+1;var F=b-2>>1;return(2+(1&b)<<F)+H(A,F)+1}function aa(b,A){return 120<A?A-120:1<=(F=((F=Ks[A-1])>>4)*b+(8-(15&F)))?F:1;var F}function Zr(b,A,F){var W=ee(F),ne=b[A+=255&W].g-8;return 0<ne&&(be(F,F.u+8),W=ee(F),A+=b[A].value,A+=W&(1<<ne)-1),be(F,F.u+b[A].g),b[A].value}function hn(b,A,F){return F.g+=b.g,F.value+=b.value<<A>>>0,e(8>=F.g),b.g}function ai(b,A,F){var W=b.xc;return e((A=W==0?0:b.vc[b.md*(F>>W)+(A>>W)])<b.Wb),b.Ya[A]}function Fi(b,A,F,W){var ne=b.ab,le=b.c*A,ce=b.C;A=ce+A;var fe=F,ye=W;for(W=b.Ta,F=b.Ua;0<ne--;){var Ne=b.gc[ne],Te=ce,$e=A,we=fe,Oe=ye,Be=(ye=W,fe=F,Ne.Ea);switch(e(Te<$e),e($e<=Ne.nc),Ne.hc){case 2:Zn(we,Oe,($e-Te)*Be,ye,fe);break;case 0:var tt=Te,qe=$e,et=ye,at=fe,yt=(Dt=Ne).Ea;tt==0&&(xd(we,Oe,null,null,1,et,at),Tt(we,Oe+1,0,0,yt-1,et,at+1),Oe+=yt,at+=yt,++tt);for(var dt=1<<Dt.b,Ft=dt-1,kt=ve(yt,Dt.b),or=Dt.K,Dt=Dt.w+(tt>>Dt.b)*kt;tt<qe;){var _r=or,wn=Dt,hr=1;for(vd(we,Oe,et,at-yt,1,et,at);hr<yt;){var It=(hr&~Ft)+dt;It>yt&&(It=yt),(0,zl[_r[wn++]>>8&15])(we,Oe+ +hr,et,at+hr-yt,It-hr,et,at+hr),hr=It}Oe+=yt,at+=yt,++tt&Ft||(Dt+=kt)}$e!=Ne.nc&&n(ye,fe-Be,ye,fe+($e-Te-1)*Be,Be);break;case 1:for(Be=we,qe=Oe,yt=(we=Ne.Ea)-(at=we&~(et=(Oe=1<<Ne.b)-1)),tt=ve(we,Ne.b),dt=Ne.K,Ne=Ne.w+(Te>>Ne.b)*tt;Te<$e;){for(Ft=dt,kt=Ne,or=new Ce,Dt=qe+at,_r=qe+we;qe<Dt;)Se(Ft[kt++],or),bd(or,Be,qe,Oe,ye,fe),qe+=Oe,fe+=Oe;qe<_r&&(Se(Ft[kt++],or),bd(or,Be,qe,yt,ye,fe),qe+=yt,fe+=yt),++Te&et||(Ne+=tt)}break;case 3:if(we==ye&&Oe==fe&&0<Ne.b){for(qe=ye,we=Be=fe+($e-Te)*Be-(at=($e-Te)*ve(Ne.Ea,Ne.b)),Oe=ye,et=fe,tt=[],at=(yt=at)-1;0<=at;--at)tt[at]=Oe[et+at];for(at=yt-1;0<=at;--at)qe[we+at]=tt[at];Gf(Ne,Te,$e,ye,Be,ye,fe)}else Gf(Ne,Te,$e,we,Oe,ye,fe)}fe=W,ye=F}ye!=F&&n(W,F,fe,ye,le)}function Ei(b,A){var F=b.V,W=b.Ba+b.c*b.C,ne=A-b.C;if(e(A<=b.l.o),e(16>=ne),0<ne){var le=b.l,ce=b.Ta,fe=b.Ua,ye=le.width;if(Fi(b,ne,F,W),ne=fe=[fe],e((F=b.C)<(W=A)),e(le.v<le.va),W>le.o&&(W=le.o),F<le.j){var Ne=le.j-F;F=le.j,ne[0]+=Ne*ye}if(F>=W?F=0:(ne[0]+=4*le.v,le.ka=F-le.j,le.U=le.va-le.v,le.T=W-F,F=1),F){if(fe=fe[0],11>(F=b.ca).S){var Te=F.f.RGBA,$e=(W=F.S,ne=le.U,le=le.T,Ne=Te.eb,Te.A),we=le;for(Te=Te.fb+b.Ma*Te.A;0<we--;){var Oe=ce,Be=fe,tt=ne,qe=Ne,et=Te;switch(W){case Xf:wd(Oe,Be,tt,qe,et);break;case pa:Fl(Oe,Be,tt,qe,et);break;case Mh:Fl(Oe,Be,tt,qe,et),mu(qe,et,0,tt,1,0);break;case Zf:hu(Oe,Be,tt,qe,et);break;case Gs:$t(Oe,Be,tt,qe,et,1);break;case Qf:$t(Oe,Be,tt,qe,et,1),mu(qe,et,0,tt,1,0);break;case Lh:$t(Oe,Be,tt,qe,et,0);break;case Nd:$t(Oe,Be,tt,qe,et,0),mu(qe,et,1,tt,1,0);break;case _d:Ul(Oe,Be,tt,qe,et);break;case Jf:Ul(Oe,Be,tt,qe,et),Ws(qe,et,tt,1,0);break;case jc:il(Oe,Be,tt,qe,et);break;default:e(0)}fe+=ye,Te+=$e}b.Ma+=le}else alert("todo:EmitRescaledRowsYUVA");e(b.Ma<=F.height)}}b.C=A,e(b.C<=b.i)}function Vr(b){var A;if(0<b.ua)return 0;for(A=0;A<b.Wb;++A){var F=b.Ya[A].G,W=b.Ya[A].H;if(0<F[1][W[1]+0].g||0<F[2][W[2]+0].g||0<F[3][W[3]+0].g)return 0}return 1}function rn(b,A,F,W,ne,le){if(b.Z!=0){var ce=b.qd,fe=b.rd;for(e(ql[b.Z]!=null);A<F;++A)ql[b.Z](ce,fe,W,ne,W,ne,le),ce=W,fe=ne,ne+=le;b.qd=ce,b.rd=fe}}function si(b,A){var F=b.l.ma,W=F.Z==0||F.Z==1?b.l.j:b.C;if(W=b.C<W?W:b.C,e(A<=b.l.o),A>W){var ne=b.l.width,le=F.ca,ce=F.tb+ne*W,fe=b.V,ye=b.Ba+b.c*W,Ne=b.gc;e(b.ab==1),e(Ne[0].hc==3),nl(Ne[0],W,A,fe,ye,le,ce),rn(F,W,A,le,ce,ne)}b.C=b.Ma=A}function sa(b,A,F,W,ne,le,ce){var fe=b.$/W,ye=b.$%W,Ne=b.m,Te=b.s,$e=F+b.$,we=$e;ne=F+W*ne;var Oe=F+W*le,Be=280+Te.ua,tt=b.Pb?fe:16777216,qe=0<Te.ua?Te.Wa:null,et=Te.wc,at=$e<Oe?ai(Te,ye,fe):null;e(b.C<le),e(Oe<=ne);var yt=!1;e:for(;;){for(;yt||$e<Oe;){var dt=0;if(fe>=tt){var Ft=$e-F;e((tt=b).Pb),tt.wd=tt.m,tt.xd=Ft,0<tt.s.ua&&Pe(tt.s.Wa,tt.s.vb),tt=fe+Sc}if(ye&et||(at=ai(Te,ye,fe)),e(at!=null),at.Qb&&(A[$e]=at.qb,yt=!0),!yt)if(je(Ne),at.jc){dt=Ne,Ft=A;var kt=$e,or=at.pd[ee(dt)&Nc-1];e(at.jc),256>or.g?(be(dt,dt.u+or.g),Ft[kt]=or.value,dt=0):(be(dt,dt.u+or.g-256),e(256<=or.value),dt=or.value),dt==0&&(yt=!0)}else dt=Zr(at.G[0],at.H[0],Ne);if(Ne.h)break;if(yt||256>dt){if(!yt)if(at.nd)A[$e]=(at.qb|dt<<8)>>>0;else{if(je(Ne),yt=Zr(at.G[1],at.H[1],Ne),je(Ne),Ft=Zr(at.G[2],at.H[2],Ne),kt=Zr(at.G[3],at.H[3],Ne),Ne.h)break;A[$e]=(kt<<24|yt<<16|dt<<8|Ft)>>>0}if(yt=!1,++$e,++ye>=W&&(ye=0,++fe,ce!=null&&fe<=le&&!(fe%16)&&ce(b,fe),qe!=null))for(;we<$e;)dt=A[we++],qe.X[(506832829*dt&4294967295)>>>qe.Mb]=dt}else if(280>dt){if(dt=ia(dt-256,Ne),Ft=Zr(at.G[4],at.H[4],Ne),je(Ne),Ft=aa(W,Ft=ia(Ft,Ne)),Ne.h)break;if($e-F<Ft||ne-$e<dt)break e;for(kt=0;kt<dt;++kt)A[$e+kt]=A[$e+kt-Ft];for($e+=dt,ye+=dt;ye>=W;)ye-=W,++fe,ce!=null&&fe<=le&&!(fe%16)&&ce(b,fe);if(e($e<=ne),ye&et&&(at=ai(Te,ye,fe)),qe!=null)for(;we<$e;)dt=A[we++],qe.X[(506832829*dt&4294967295)>>>qe.Mb]=dt}else{if(!(dt<Be))break e;for(yt=dt-280,e(qe!=null);we<$e;)dt=A[we++],qe.X[(506832829*dt&4294967295)>>>qe.Mb]=dt;dt=$e,e(!(yt>>>(Ft=qe).Xa)),A[dt]=Ft.X[yt],yt=!0}yt||e(Ne.h==ae(Ne))}if(b.Pb&&Ne.h&&$e<ne)e(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&Pe(b.s.vb,b.s.Wa);else{if(Ne.h)break e;ce?.(b,fe>le?le:fe),b.a=0,b.$=$e-F}return 1}return b.a=3,0}function Xa(b){e(b!=null),b.vc=null,b.yc=null,b.Ya=null;var A=b.Wa;A!=null&&(A.X=null),b.vb=null,e(b!=null)}function Yo(){var b=new zt;return b==null?null:(b.a=0,b.xb=Gp,ur("Predictor","VP8LPredictors"),ur("Predictor","VP8LPredictors_C"),ur("PredictorAdd","VP8LPredictorsAdd"),ur("PredictorAdd","VP8LPredictorsAdd_C"),Zn=bt,bd=Le,wd=xt,Fl=ht,Ul=ft,il=Ct,hu=Bt,D.VP8LMapColor32b=rl,D.VP8LMapColor8b=$i,b)}function gs(b,A,F,W,ne){var le=1,ce=[b],fe=[A],ye=W.m,Ne=W.s,Te=null,$e=0;e:for(;;){if(F)for(;le&&H(ye,1);){var we=ce,Oe=fe,Be=W,tt=1,qe=Be.m,et=Be.gc[Be.ab],at=H(qe,2);if(Be.Oc&1<<at)le=0;else{switch(Be.Oc|=1<<at,et.hc=at,et.Ea=we[0],et.nc=Oe[0],et.K=[null],++Be.ab,e(4>=Be.ab),at){case 0:case 1:et.b=H(qe,3)+2,tt=gs(ve(et.Ea,et.b),ve(et.nc,et.b),0,Be,et.K),et.K=et.K[0];break;case 3:var yt,dt=H(qe,8)+1,Ft=16<dt?0:4<dt?1:2<dt?2:3;if(we[0]=ve(et.Ea,Ft),et.b=Ft,yt=tt=gs(dt,1,0,Be,et.K)){var kt,or=dt,Dt=et,_r=1<<(8>>Dt.b),wn=a(_r);if(wn==null)yt=0;else{var hr=Dt.K[0],It=Dt.w;for(wn[0]=Dt.K[0][0],kt=1;kt<1*or;++kt)wn[kt]=ze(hr[It+kt],wn[kt-1]);for(;kt<4*_r;++kt)wn[kt]=0;Dt.K[0]=null,Dt.K[0]=wn,yt=1}}tt=yt;break;case 2:break;default:e(0)}le=tt}}if(ce=ce[0],fe=fe[0],le&&H(ye,1)&&!(le=1<=($e=H(ye,4))&&11>=$e)){W.a=3;break e}var _t;if(_t=le)t:{var Tn,tr,gr,Yr=W,vi=ce,Ki=fe,gn=$e,li=F,ga=Yr.m,ci=Yr.s,br=[null],Dr=1,Cn=0,Br=Xs[gn];r:for(;;){if(li&&H(ga,1)){var bi=H(ga,3)+2,kn=ve(vi,bi),Lr=ve(Ki,bi),ei=kn*Lr;if(!gs(kn,Lr,0,Yr,br))break r;for(br=br[0],ci.xc=bi,Tn=0;Tn<ei;++Tn){var Kr=br[Tn]>>8&65535;br[Tn]=Kr,Kr>=Dr&&(Dr=Kr+1)}}if(ga.h)break r;for(tr=0;5>tr;++tr){var ui=gu[tr];!tr&&0<gn&&(ui+=1<<gn),Cn<ui&&(Cn=ui)}var di=l(Dr*Br,B),sn=Dr,Or=l(sn,re);if(Or==null)var ya=null;else e(65536>=sn),ya=Or;var Un=a(Cn);if(ya==null||Un==null||di==null){Yr.a=1;break r}var Yt=di;for(Tn=gr=0;Tn<Dr;++Tn){var Xt=ya[Tn],Mr=Xt.G,ts=Xt.H,eo=0,Ma=1,hi=0;for(tr=0;5>tr;++tr){ui=gu[tr],Mr[tr]=Yt,ts[tr]=gr,!tr&&0<gn&&(ui+=1<<gn);i:{var Ic,Pc=ui,sm=Yr,yn=Un,Kp=Yt,Xp=gr,om=0,$l=sm.m,Ub=H($l,1);if(i(yn,0,0,Pc),Ub){var Zp=H($l,1)+1,Qp=H($l,1),lm=H($l,Qp==0?1:8);yn[lm]=1,Zp==2&&(yn[lm=H($l,8)]=1);var ki=1}else{var Bn=a(19),Bh=H($l,4)+4;if(19<Bh){sm.a=3;var Rc=0;break i}for(Ic=0;Ic<Bh;++Ic)Bn[zh[Ic]]=H($l,3);var Td=void 0,vu=void 0,ol=sm,cm=Bn,Cd=Pc,um=yn,dm=0,Hl=ol.m,Jp=8,eg=l(128,B);n:for(;I(eg,0,7,cm,19);){if(H(Hl,1)){var wy=2+2*H(Hl,3);if((Td=2+H(Hl,wy))>Cd)break n}else Td=Cd;for(vu=0;vu<Cd&&Td--;){je(Hl);var tg=eg[0+(127&ee(Hl))];be(Hl,Hl.u+tg.g);var Oc=tg.value;if(16>Oc)um[vu++]=Oc,Oc!=0&&(Jp=Oc);else{var _y=Oc==16,Ny=Oc-16,jy=jd[Ny],rg=H(Hl,Ys[Ny])+jy;if(vu+rg>Cd)break n;for(var Sy=_y?Jp:0;0<rg--;)um[vu++]=Sy}}dm=1;break n}dm||(ol.a=3),ki=dm}(ki=ki&&!$l.h)&&(om=I(Kp,Xp,8,yn,Pc)),ki&&om!=0?Rc=om:(sm.a=3,Rc=0)}if(Rc==0)break r;if(Ma&&em[tr]==1&&(Ma=Yt[gr].g==0),eo+=Yt[gr].g,gr+=Rc,3>=tr){var bu,hm=Un[0];for(bu=1;bu<ui;++bu)Un[bu]>hm&&(hm=Un[bu]);hi+=hm}}if(Xt.nd=Ma,Xt.Qb=0,Ma&&(Xt.qb=(Mr[3][ts[3]+0].value<<24|Mr[1][ts[1]+0].value<<16|Mr[2][ts[2]+0].value)>>>0,eo==0&&256>Mr[0][ts[0]+0].value&&(Xt.Qb=1,Xt.qb+=Mr[0][ts[0]+0].value<<8)),Xt.jc=!Xt.Qb&&6>hi,Xt.jc){var Vh,ll=Xt;for(Vh=0;Vh<Nc;++Vh){var Wl=Vh,Gl=ll.pd[Wl],fm=ll.G[0][ll.H[0]+Wl];256<=fm.value?(Gl.g=fm.g+256,Gl.value=fm.value):(Gl.g=0,Gl.value=0,Wl>>=hn(fm,8,Gl),Wl>>=hn(ll.G[1][ll.H[1]+Wl],16,Gl),Wl>>=hn(ll.G[2][ll.H[2]+Wl],0,Gl),hn(ll.G[3][ll.H[3]+Wl],24,Gl))}}}ci.vc=br,ci.Wb=Dr,ci.Ya=ya,ci.yc=di,_t=1;break t}_t=0}if(!(le=_t)){W.a=3;break e}if(0<$e){if(Ne.ua=1<<$e,!ie(Ne.Wa,$e)){W.a=1,le=0;break e}}else Ne.ua=0;var mm=W,wu=ce,Ay=fe,kd=mm.s,Id=kd.xc;if(mm.c=wu,mm.i=Ay,kd.md=ve(wu,Id),kd.wc=Id==0?-1:(1<<Id)-1,F){W.xb=Ac;break e}if((Te=a(ce*fe))==null){W.a=1,le=0;break e}le=(le=sa(W,Te,0,ce,fe,fe,null))&&!ye.h;break e}return le?(ne!=null?ne[0]=Te:(e(Te==null),e(F)),W.$=0,F||Xa(Ne)):Xa(Ne),le}function oa(b,A){var F=b.c*b.i,W=F+A+16*A;return e(b.c<=A),b.V=a(W),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+F+A,1)}function vo(b,A){var F=b.C,W=A-F,ne=b.V,le=b.Ba+b.c*F;for(e(A<=b.l.o);0<W;){var ce=16<W?16:W,fe=b.l.ma,ye=b.l.width,Ne=ye*ce,Te=fe.ca,$e=fe.tb+ye*F,we=b.Ta,Oe=b.Ua;Fi(b,ce,ne,le),Ts(we,Oe,Te,$e,Ne),rn(fe,F,F+ce,Te,$e,ye),W-=ce,ne+=ce*b.c,F+=ce}e(F==A),b.C=b.Ma=A}function Ta(){this.ub=this.yd=this.td=this.Rb=0}function Ui(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ca(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Za(){this.Yb=(function(){var b=[];return(function A(F,W,ne){for(var le=ne[W],ce=0;ce<le&&(F.push(ne.length>W+1?[]:0),!(ne.length<W+1));ce++)A(F[ce],W+1,ne)})(b,0,[3,11]),b})()}function En(){this.jb=a(3),this.Wc=c([4,8],Za),this.Xc=c([4,17],Za)}function mc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function la(){this.ld=this.La=this.dd=this.tc=0}function Qa(){this.Na=this.la=0}function ys(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function kl(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function pc(){this.uc=this.M=this.Nb=0,this.wa=Array(new la),this.Y=0,this.ya=Array(new kl),this.aa=0,this.l=new bo}function gc(){this.y=a(16),this.f=a(8),this.ea=a(8)}function au(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new Ta,this.Kc=new Ui,this.ed=new mc,this.Qa=new Ca,this.Ic=this.$c=this.Aa=0,this.D=new pc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,R),this.ia=0,this.pb=l(4,ys),this.Pa=new En,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gc),this.Hd=0,this.rb=Array(new Qa),this.sb=0,this.wa=Array(new la),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new kl),this.L=this.aa=0,this.gd=c([4,2],la),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ka(){var b=new au;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,Cs||(Cs=xs)),b}function yr(b,A,F){return b.a==0&&(b.a=A,b.sc=F,b.cb=0),0}function Yn(b,A,F){return 3<=F&&b[A+0]==157&&b[A+1]==1&&b[A+2]==42}function wo(b,A){if(b==null)return 0;if(b.a=0,b.sc="OK",A==null)return yr(b,2,"null VP8Io passed to VP8GetHeaders()");var F=A.data,W=A.w,ne=A.ha;if(4>ne)return yr(b,7,"Truncated header.");var le=F[W+0]|F[W+1]<<8|F[W+2]<<16,ce=b.Od;if(ce.Rb=!(1&le),ce.td=le>>1&7,ce.yd=le>>4&1,ce.ub=le>>5,3<ce.td)return yr(b,3,"Incorrect keyframe parameters.");if(!ce.yd)return yr(b,4,"Frame not displayable.");W+=3,ne-=3;var fe=b.Kc;if(ce.Rb){if(7>ne)return yr(b,7,"cannot parse picture header");if(!Yn(F,W,ne))return yr(b,3,"Bad code word");fe.c=16383&(F[W+4]<<8|F[W+3]),fe.Td=F[W+4]>>6,fe.i=16383&(F[W+6]<<8|F[W+5]),fe.Ud=F[W+6]>>6,W+=7,ne-=7,b.za=fe.c+15>>4,b.Ub=fe.i+15>>4,A.width=fe.c,A.height=fe.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((le=b.Pa).jb,0,255,le.jb.length),e((le=b.Qa)!=null),le.Cb=0,le.Bb=0,le.Fb=1,i(le.Zb,0,0,le.Zb.length),i(le.Lb,0,0,le.Lb)}if(ce.ub>ne)return yr(b,7,"bad partition length");Y(le=b.m,F,W,ce.ub),W+=ce.ub,ne-=ce.ub,ce.Rb&&(fe.Ld=ge(le),fe.Kd=ge(le)),fe=b.Qa;var ye,Ne=b.Pa;if(e(le!=null),e(fe!=null),fe.Cb=ge(le),fe.Cb){if(fe.Bb=ge(le),ge(le)){for(fe.Fb=ge(le),ye=0;4>ye;++ye)fe.Zb[ye]=ge(le)?se(le,7):0;for(ye=0;4>ye;++ye)fe.Lb[ye]=ge(le)?se(le,6):0}if(fe.Bb)for(ye=0;3>ye;++ye)Ne.jb[ye]=ge(le)?Q(le,8):255}else fe.Bb=0;if(le.Ka)return yr(b,3,"cannot parse segment header");if((fe=b.ed).zd=ge(le),fe.Tb=Q(le,6),fe.wb=Q(le,3),fe.Pc=ge(le),fe.Pc&&ge(le)){for(Ne=0;4>Ne;++Ne)ge(le)&&(fe.vd[Ne]=se(le,6));for(Ne=0;4>Ne;++Ne)ge(le)&&(fe.od[Ne]=se(le,6))}if(b.L=fe.Tb==0?0:fe.zd?1:2,le.Ka)return yr(b,3,"cannot parse filter header");var Te=ne;if(ne=ye=W,W=ye+Te,fe=Te,b.Xb=(1<<Q(b.m,2))-1,Te<3*(Ne=b.Xb))F=7;else{for(ye+=3*Ne,fe-=3*Ne,Te=0;Te<Ne;++Te){var $e=F[ne+0]|F[ne+1]<<8|F[ne+2]<<16;$e>fe&&($e=fe),Y(b.Jc[+Te],F,ye,$e),ye+=$e,fe-=$e,ne+=3}Y(b.Jc[+Ne],F,ye,fe),F=ye<W?0:5}if(F!=0)return yr(b,F,"cannot parse partitions");for(F=Q(ye=b.m,7),ne=ge(ye)?se(ye,4):0,W=ge(ye)?se(ye,4):0,fe=ge(ye)?se(ye,4):0,Ne=ge(ye)?se(ye,4):0,ye=ge(ye)?se(ye,4):0,Te=b.Qa,$e=0;4>$e;++$e){if(Te.Cb){var we=Te.Zb[$e];Te.Fb||(we+=F)}else{if(0<$e){b.pb[$e]=b.pb[0];continue}we=F}var Oe=b.pb[$e];Oe.Sc[0]=Zs[zn(we+ne,127)],Oe.Sc[1]=Qs[zn(we+0,127)],Oe.Eb[0]=2*Zs[zn(we+W,127)],Oe.Eb[1]=101581*Qs[zn(we+fe,127)]>>16,8>Oe.Eb[1]&&(Oe.Eb[1]=8),Oe.Qc[0]=Zs[zn(we+Ne,117)],Oe.Qc[1]=Qs[zn(we+ye,127)],Oe.lc=we+ye}if(!ce.Rb)return yr(b,4,"Not a key frame.");for(ge(le),ce=b.Pa,F=0;4>F;++F){for(ne=0;8>ne;++ne)for(W=0;3>W;++W)for(fe=0;11>fe;++fe)Ne=Ie(le,bn[F][ne][W][fe])?Q(le,8):vy[F][ne][W][fe],ce.Wc[F][ne].Yb[W][fe]=Ne;for(ne=0;17>ne;++ne)ce.Xc[F][ne]=ce.Wc[F][jr[ne]]}return b.kc=ge(le),b.kc&&(b.Bd=Q(le,8)),b.cb=1}function xs(b,A,F,W,ne,le,ce){var fe=A[ne].Yb[F];for(F=0;16>ne;++ne){if(!Ie(b,fe[F+0]))return ne;for(;!Ie(b,fe[F+1]);)if(fe=A[++ne].Yb[0],F=0,ne==16)return 16;var ye=A[ne+1].Yb;if(Ie(b,fe[F+2])){var Ne=b,Te=0;if(Ie(Ne,(we=fe)[($e=F)+3]))if(Ie(Ne,we[$e+6])){for(fe=0,$e=2*(Te=Ie(Ne,we[$e+8]))+(we=Ie(Ne,we[$e+9+Te])),Te=0,we=xy[$e];we[fe];++fe)Te+=Te+Ie(Ne,we[fe]);Te+=3+(8<<$e)}else Ie(Ne,we[$e+7])?(Te=7+2*Ie(Ne,165),Te+=Ie(Ne,145)):Te=5+Ie(Ne,159);else Te=Ie(Ne,we[$e+4])?3+Ie(Ne,we[$e+5]):2;fe=ye[2]}else Te=1,fe=ye[1];ye=ce+Wp[ne],0>(Ne=b).b&&de(Ne);var $e,we=Ne.b,Oe=($e=Ne.Ca>>1)-(Ne.I>>we)>>31;--Ne.b,Ne.Ca+=Oe,Ne.Ca|=1,Ne.I-=($e+1&Oe)<<we,le[ye]=((Te^Oe)-Oe)*W[(0<ne)+0]}return 16}function Nr(b){var A=b.rb[b.sb-1];A.la=0,A.Na=0,i(b.zc,0,0,b.zc.length),b.ja=0}function Bi(b,A,F,W,ne){ne=b[A+F+32*W]+(ne>>3),b[A+F+32*W]=-256&ne?0>ne?0:255:ne}function ca(b,A,F,W,ne,le){Bi(b,A,0,F,W+ne),Bi(b,A,1,F,W+le),Bi(b,A,2,F,W-le),Bi(b,A,3,F,W-ne)}function nn(b){return(20091*b>>16)+b}function Ti(b,A,F,W){var ne,le=0,ce=a(16);for(ne=0;4>ne;++ne){var fe=b[A+0]+b[A+8],ye=b[A+0]-b[A+8],Ne=(35468*b[A+4]>>16)-nn(b[A+12]),Te=nn(b[A+4])+(35468*b[A+12]>>16);ce[le+0]=fe+Te,ce[le+1]=ye+Ne,ce[le+2]=ye-Ne,ce[le+3]=fe-Te,le+=4,A++}for(ne=le=0;4>ne;++ne)fe=(b=ce[le+0]+4)+ce[le+8],ye=b-ce[le+8],Ne=(35468*ce[le+4]>>16)-nn(ce[le+12]),Bi(F,W,0,0,fe+(Te=nn(ce[le+4])+(35468*ce[le+12]>>16))),Bi(F,W,1,0,ye+Ne),Bi(F,W,2,0,ye-Ne),Bi(F,W,3,0,fe-Te),le++,W+=32}function yc(b,A,F,W){var ne=b[A+0]+4,le=35468*b[A+4]>>16,ce=nn(b[A+4]),fe=35468*b[A+1]>>16;ca(F,W,0,ne+ce,b=nn(b[A+1]),fe),ca(F,W,1,ne+le,b,fe),ca(F,W,2,ne-le,b,fe),ca(F,W,3,ne-ce,b,fe)}function gd(b,A,F,W,ne){Ti(b,A,F,W),ne&&Ti(b,A+16,F,W+4)}function su(b,A,F,W){Bl(b,A+0,F,W,1),Bl(b,A+32,F,W+128,1)}function Vi(b,A,F,W){var ne;for(b=b[A+0]+4,ne=0;4>ne;++ne)for(A=0;4>A;++A)Bi(F,W,A,ne,b)}function ou(b,A,F,W){b[A+0]&&Ur(b,A+0,F,W),b[A+16]&&Ur(b,A+16,F,W+4),b[A+32]&&Ur(b,A+32,F,W+128),b[A+48]&&Ur(b,A+48,F,W+128+4)}function _o(b,A,F,W){var ne,le=a(16);for(ne=0;4>ne;++ne){var ce=b[A+0+ne]+b[A+12+ne],fe=b[A+4+ne]+b[A+8+ne],ye=b[A+4+ne]-b[A+8+ne],Ne=b[A+0+ne]-b[A+12+ne];le[0+ne]=ce+fe,le[8+ne]=ce-fe,le[4+ne]=Ne+ye,le[12+ne]=Ne-ye}for(ne=0;4>ne;++ne)ce=(b=le[0+4*ne]+3)+le[3+4*ne],fe=le[1+4*ne]+le[2+4*ne],ye=le[1+4*ne]-le[2+4*ne],Ne=b-le[3+4*ne],F[W+0]=ce+fe>>3,F[W+16]=Ne+ye>>3,F[W+32]=ce-fe>>3,F[W+48]=Ne-ye>>3,W+=64}function Kn(b,A,F){var W,ne=A-32,le=ma,ce=255-b[ne-1];for(W=0;W<F;++W){var fe,ye=le,Ne=ce+b[A-1];for(fe=0;fe<F;++fe)b[A+fe]=ye[Ne+b[ne+fe]];A+=32}}function xc(b,A){Kn(b,A,4)}function lu(b,A){Kn(b,A,8)}function cu(b,A){Kn(b,A,16)}function vc(b,A){var F;for(F=0;16>F;++F)n(b,A+32*F,b,A-32,16)}function bc(b,A){var F;for(F=16;0<F;--F)i(b,A,b[A-1],16),A+=32}function Ja(b,A,F){var W;for(W=0;16>W;++W)i(A,F+32*W,b,16)}function vs(b,A){var F,W=16;for(F=0;16>F;++F)W+=b[A-1+32*F]+b[A+F-32];Ja(W>>5,b,A)}function bs(b,A){var F,W=8;for(F=0;16>F;++F)W+=b[A-1+32*F];Ja(W>>4,b,A)}function No(b,A){var F,W=8;for(F=0;16>F;++F)W+=b[A+F-32];Ja(W>>4,b,A)}function ua(b,A){Ja(128,b,A)}function Jt(b,A,F){return b+2*A+F+2>>2}function Us(b,A){var F,W=A-32;for(W=new Uint8Array([Jt(b[W-1],b[W+0],b[W+1]),Jt(b[W+0],b[W+1],b[W+2]),Jt(b[W+1],b[W+2],b[W+3]),Jt(b[W+2],b[W+3],b[W+4])]),F=0;4>F;++F)n(b,A+32*F,W,0,W.length)}function Il(b,A){var F=b[A-1],W=b[A-1+32],ne=b[A-1+64],le=b[A-1+96];Ve(b,A+0,16843009*Jt(b[A-1-32],F,W)),Ve(b,A+32,16843009*Jt(F,W,ne)),Ve(b,A+64,16843009*Jt(W,ne,le)),Ve(b,A+96,16843009*Jt(ne,le,le))}function wc(b,A){var F,W=4;for(F=0;4>F;++F)W+=b[A+F-32]+b[A-1+32*F];for(W>>=3,F=0;4>F;++F)i(b,A+32*F,W,4)}function Ko(b,A){var F=b[A-1+0],W=b[A-1+32],ne=b[A-1+64],le=b[A-1-32],ce=b[A+0-32],fe=b[A+1-32],ye=b[A+2-32],Ne=b[A+3-32];b[A+0+96]=Jt(W,ne,b[A-1+96]),b[A+1+96]=b[A+0+64]=Jt(F,W,ne),b[A+2+96]=b[A+1+64]=b[A+0+32]=Jt(le,F,W),b[A+3+96]=b[A+2+64]=b[A+1+32]=b[A+0+0]=Jt(ce,le,F),b[A+3+64]=b[A+2+32]=b[A+1+0]=Jt(fe,ce,le),b[A+3+32]=b[A+2+0]=Jt(ye,fe,ce),b[A+3+0]=Jt(Ne,ye,fe)}function xi(b,A){var F=b[A+1-32],W=b[A+2-32],ne=b[A+3-32],le=b[A+4-32],ce=b[A+5-32],fe=b[A+6-32],ye=b[A+7-32];b[A+0+0]=Jt(b[A+0-32],F,W),b[A+1+0]=b[A+0+32]=Jt(F,W,ne),b[A+2+0]=b[A+1+32]=b[A+0+64]=Jt(W,ne,le),b[A+3+0]=b[A+2+32]=b[A+1+64]=b[A+0+96]=Jt(ne,le,ce),b[A+3+32]=b[A+2+64]=b[A+1+96]=Jt(le,ce,fe),b[A+3+64]=b[A+2+96]=Jt(ce,fe,ye),b[A+3+96]=Jt(fe,ye,ye)}function oi(b,A){var F=b[A-1+0],W=b[A-1+32],ne=b[A-1+64],le=b[A-1-32],ce=b[A+0-32],fe=b[A+1-32],ye=b[A+2-32],Ne=b[A+3-32];b[A+0+0]=b[A+1+64]=le+ce+1>>1,b[A+1+0]=b[A+2+64]=ce+fe+1>>1,b[A+2+0]=b[A+3+64]=fe+ye+1>>1,b[A+3+0]=ye+Ne+1>>1,b[A+0+96]=Jt(ne,W,F),b[A+0+64]=Jt(W,F,le),b[A+0+32]=b[A+1+96]=Jt(F,le,ce),b[A+1+32]=b[A+2+96]=Jt(le,ce,fe),b[A+2+32]=b[A+3+96]=Jt(ce,fe,ye),b[A+3+32]=Jt(fe,ye,Ne)}function Pl(b,A){var F=b[A+0-32],W=b[A+1-32],ne=b[A+2-32],le=b[A+3-32],ce=b[A+4-32],fe=b[A+5-32],ye=b[A+6-32],Ne=b[A+7-32];b[A+0+0]=F+W+1>>1,b[A+1+0]=b[A+0+64]=W+ne+1>>1,b[A+2+0]=b[A+1+64]=ne+le+1>>1,b[A+3+0]=b[A+2+64]=le+ce+1>>1,b[A+0+32]=Jt(F,W,ne),b[A+1+32]=b[A+0+96]=Jt(W,ne,le),b[A+2+32]=b[A+1+96]=Jt(ne,le,ce),b[A+3+32]=b[A+2+96]=Jt(le,ce,fe),b[A+3+64]=Jt(ce,fe,ye),b[A+3+96]=Jt(fe,ye,Ne)}function qr(b,A){var F=b[A-1+0],W=b[A-1+32],ne=b[A-1+64],le=b[A-1+96];b[A+0+0]=F+W+1>>1,b[A+2+0]=b[A+0+32]=W+ne+1>>1,b[A+2+32]=b[A+0+64]=ne+le+1>>1,b[A+1+0]=Jt(F,W,ne),b[A+3+0]=b[A+1+32]=Jt(W,ne,le),b[A+3+32]=b[A+1+64]=Jt(ne,le,le),b[A+3+64]=b[A+2+64]=b[A+0+96]=b[A+1+96]=b[A+2+96]=b[A+3+96]=le}function Ia(b,A){var F=b[A-1+0],W=b[A-1+32],ne=b[A-1+64],le=b[A-1+96],ce=b[A-1-32],fe=b[A+0-32],ye=b[A+1-32],Ne=b[A+2-32];b[A+0+0]=b[A+2+32]=F+ce+1>>1,b[A+0+32]=b[A+2+64]=W+F+1>>1,b[A+0+64]=b[A+2+96]=ne+W+1>>1,b[A+0+96]=le+ne+1>>1,b[A+3+0]=Jt(fe,ye,Ne),b[A+2+0]=Jt(ce,fe,ye),b[A+1+0]=b[A+3+32]=Jt(F,ce,fe),b[A+1+32]=b[A+3+64]=Jt(W,F,ce),b[A+1+64]=b[A+3+96]=Jt(ne,W,F),b[A+1+96]=Jt(le,ne,W)}function Rl(b,A){var F;for(F=0;8>F;++F)n(b,A+32*F,b,A-32,8)}function ws(b,A){var F;for(F=0;8>F;++F)i(b,A,b[A-1],8),A+=32}function Xo(b,A,F){var W;for(W=0;8>W;++W)i(A,F+32*W,b,8)}function Bs(b,A){var F,W=8;for(F=0;8>F;++F)W+=b[A+F-32]+b[A-1+32*F];Xo(W>>4,b,A)}function jo(b,A){var F,W=4;for(F=0;8>F;++F)W+=b[A+F-32];Xo(W>>3,b,A)}function Pa(b,A){var F,W=4;for(F=0;8>F;++F)W+=b[A-1+32*F];Xo(W>>3,b,A)}function Xn(b,A){Xo(128,b,A)}function Ra(b,A,F){var W=b[A-F],ne=b[A+0],le=3*(ne-W)+Vl[1020+b[A-2*F]-b[A+F]],ce=Dh[112+(le+4>>3)];b[A-F]=ma[255+W+Dh[112+(le+3>>3)]],b[A+0]=ma[255+ne-ce]}function da(b,A,F,W){var ne=b[A+0],le=b[A+F];return Hi[255+b[A-2*F]-b[A-F]]>W||Hi[255+le-ne]>W}function Vs(b,A,F,W){return 4*Hi[255+b[A-F]-b[A+0]]+Hi[255+b[A-2*F]-b[A+F]]<=W}function Zo(b,A,F,W,ne){var le=b[A-3*F],ce=b[A-2*F],fe=b[A-F],ye=b[A+0],Ne=b[A+F],Te=b[A+2*F],$e=b[A+3*F];return 4*Hi[255+fe-ye]+Hi[255+ce-Ne]>W?0:Hi[255+b[A-4*F]-le]<=ne&&Hi[255+le-ce]<=ne&&Hi[255+ce-fe]<=ne&&Hi[255+$e-Te]<=ne&&Hi[255+Te-Ne]<=ne&&Hi[255+Ne-ye]<=ne}function qs(b,A,F,W){var ne=2*W+1;for(W=0;16>W;++W)Vs(b,A+W,F,ne)&&Ra(b,A+W,F)}function $s(b,A,F,W){var ne=2*W+1;for(W=0;16>W;++W)Vs(b,A+W*F,1,ne)&&Ra(b,A+W*F,1)}function _s(b,A,F,W){var ne;for(ne=3;0<ne;--ne)qs(b,A+=4*F,F,W)}function Ol(b,A,F,W){var ne;for(ne=3;0<ne;--ne)$s(b,A+=4,F,W)}function Ns(b,A,F,W,ne,le,ce,fe){for(le=2*le+1;0<ne--;){if(Zo(b,A,F,le,ce))if(da(b,A,F,fe))Ra(b,A,F);else{var ye=b,Ne=A,Te=F,$e=ye[Ne-2*Te],we=ye[Ne-Te],Oe=ye[Ne+0],Be=ye[Ne+Te],tt=ye[Ne+2*Te],qe=27*(at=Vl[1020+3*(Oe-we)+Vl[1020+$e-Be]])+63>>7,et=18*at+63>>7,at=9*at+63>>7;ye[Ne-3*Te]=ma[255+ye[Ne-3*Te]+at],ye[Ne-2*Te]=ma[255+$e+et],ye[Ne-Te]=ma[255+we+qe],ye[Ne+0]=ma[255+Oe-qe],ye[Ne+Te]=ma[255+Be-et],ye[Ne+2*Te]=ma[255+tt-at]}A+=W}}function Oa(b,A,F,W,ne,le,ce,fe){for(le=2*le+1;0<ne--;){if(Zo(b,A,F,le,ce))if(da(b,A,F,fe))Ra(b,A,F);else{var ye=b,Ne=A,Te=F,$e=ye[Ne-Te],we=ye[Ne+0],Oe=ye[Ne+Te],Be=Dh[112+(4+(tt=3*(we-$e))>>3)],tt=Dh[112+(tt+3>>3)],qe=Be+1>>1;ye[Ne-2*Te]=ma[255+ye[Ne-2*Te]+qe],ye[Ne-Te]=ma[255+$e+tt],ye[Ne+0]=ma[255+we-Be],ye[Ne+Te]=ma[255+Oe-qe]}A+=W}}function uu(b,A,F,W,ne,le){Ns(b,A,F,1,16,W,ne,le)}function du(b,A,F,W,ne,le){Ns(b,A,1,F,16,W,ne,le)}function js(b,A,F,W,ne,le){var ce;for(ce=3;0<ce;--ce)Oa(b,A+=4*F,F,1,16,W,ne,le)}function _c(b,A,F,W,ne,le){var ce;for(ce=3;0<ce;--ce)Oa(b,A+=4,1,F,16,W,ne,le)}function O(b,A,F,W,ne,le,ce,fe){Ns(b,A,ne,1,8,le,ce,fe),Ns(F,W,ne,1,8,le,ce,fe)}function te(b,A,F,W,ne,le,ce,fe){Ns(b,A,1,ne,8,le,ce,fe),Ns(F,W,1,ne,8,le,ce,fe)}function _e(b,A,F,W,ne,le,ce,fe){Oa(b,A+4*ne,ne,1,8,le,ce,fe),Oa(F,W+4*ne,ne,1,8,le,ce,fe)}function Ee(b,A,F,W,ne,le,ce,fe){Oa(b,A+4,1,ne,8,le,ce,fe),Oa(F,W+4,1,ne,8,le,ce,fe)}function Me(){this.ba=new At,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new sr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function gt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Rt(){this.ua=0,this.Wa=new xe,this.vb=new xe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new re,this.yc=new B}function zt(){this.xb=this.a=0,this.l=new bo,this.ca=new At,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Rt,this.ab=0,this.gc=l(4,gt),this.Oc=0}function Kt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ht(b,A,F,W,ne,le,ce){for(b=b==null?0:b[A+0],A=0;A<ce;++A)ne[le+A]=b+F[W+A]&255,b=ne[le+A]}function Er(b,A,F,W,ne,le,ce){var fe;if(b==null)Ht(null,null,F,W,ne,le,ce);else for(fe=0;fe<ce;++fe)ne[le+fe]=b[A+fe]+F[W+fe]&255}function fn(b,A,F,W,ne,le,ce){if(b==null)Ht(null,null,F,W,ne,le,ce);else{var fe,ye=b[A+0],Ne=ye,Te=ye;for(fe=0;fe<ce;++fe)Ne=Te+(ye=b[A+fe])-Ne,Te=F[W+fe]+(-256&Ne?0>Ne?0:255:Ne)&255,Ne=ye,ne[le+fe]=Te}}function Qr(b,A,F,W){var ne=A.width,le=A.o;if(e(b!=null&&A!=null),0>F||0>=W||F+W>le)return null;if(!b.Cc){if(b.ga==null){var ce;if(b.ga=new Kt,(ce=b.ga==null)||(ce=A.width*A.o,e(b.Gb.length==0),b.Gb=a(ce),b.Uc=0,b.Gb==null?ce=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ce=1),ce=!ce),!ce){ce=b.ga;var fe=b.Fa,ye=b.P,Ne=b.qc,Te=b.mb,$e=b.nb,we=ye+1,Oe=Ne-1,Be=ce.l;if(e(fe!=null&&Te!=null&&A!=null),ql[0]=null,ql[1]=Ht,ql[2]=Er,ql[3]=fn,ce.ca=Te,ce.tb=$e,ce.c=A.width,ce.i=A.height,e(0<ce.c&&0<ce.i),1>=Ne)A=0;else if(ce.$a=3&fe[ye+0],ce.Z=fe[ye+0]>>2&3,ce.Lc=fe[ye+0]>>4&3,ye=fe[ye+0]>>6&3,0>ce.$a||1<ce.$a||4<=ce.Z||1<ce.Lc||ye)A=0;else if(Be.put=Wt,Be.ac=Gn,Be.bc=xo,Be.ma=ce,Be.width=A.width,Be.height=A.height,Be.Da=A.Da,Be.v=A.v,Be.va=A.va,Be.j=A.j,Be.o=A.o,ce.$a)e:{e(ce.$a==1),A=Yo();t:for(;;){if(A==null){A=0;break e}if(e(ce!=null),ce.mc=A,A.c=ce.c,A.i=ce.i,A.l=ce.l,A.l.ma=ce,A.l.width=ce.c,A.l.height=ce.i,A.a=0,oe(A.m,fe,we,Oe),!gs(ce.c,ce.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&Vr(A.s)?(ce.ic=1,fe=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(fe),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(ce.ic=0,A=oa(A,ce.c)),!A))break t;A=1;break e}ce.mc=null,A=0}else A=Oe>=ce.c*ce.i;ce=!A}if(ce)return null;b.ga.Lc!=1?b.Ga=0:W=le-F}e(b.ga!=null),e(F+W<=le);e:{if(A=(fe=b.ga).c,le=fe.l.o,fe.$a==0){if(we=b.rc,Oe=b.Vc,Be=b.Fa,ye=b.P+1+F*A,Ne=b.mb,Te=b.nb+F*A,e(ye<=b.P+b.qc),fe.Z!=0)for(e(ql[fe.Z]!=null),ce=0;ce<W;++ce)ql[fe.Z](we,Oe,Be,ye,Ne,Te,A),we=Ne,Oe=Te,Te+=A,ye+=A;else for(ce=0;ce<W;++ce)n(Ne,Te,Be,ye,A),we=Ne,Oe=Te,Te+=A,ye+=A;b.rc=we,b.Vc=Oe}else{if(e(fe.mc!=null),A=F+W,e((ce=fe.mc)!=null),e(A<=ce.i),ce.C>=A)A=1;else if(fe.ic||Ue(),fe.ic){fe=ce.V,we=ce.Ba,Oe=ce.c;var tt=ce.i,qe=(Be=1,ye=ce.$/Oe,Ne=ce.$%Oe,Te=ce.m,$e=ce.s,ce.$),et=Oe*tt,at=Oe*A,yt=$e.wc,dt=qe<at?ai($e,Ne,ye):null;e(qe<=et),e(A<=tt),e(Vr($e));t:for(;;){for(;!Te.h&&qe<at;){if(Ne&yt||(dt=ai($e,Ne,ye)),e(dt!=null),je(Te),256>(tt=Zr(dt.G[0],dt.H[0],Te)))fe[we+qe]=tt,++qe,++Ne>=Oe&&(Ne=0,++ye<=A&&!(ye%16)&&si(ce,ye));else{if(!(280>tt)){Be=0;break t}tt=ia(tt-256,Te);var Ft,kt=Zr(dt.G[4],dt.H[4],Te);if(je(Te),!(qe>=(kt=aa(Oe,kt=ia(kt,Te)))&&et-qe>=tt)){Be=0;break t}for(Ft=0;Ft<tt;++Ft)fe[we+qe+Ft]=fe[we+qe+Ft-kt];for(qe+=tt,Ne+=tt;Ne>=Oe;)Ne-=Oe,++ye<=A&&!(ye%16)&&si(ce,ye);qe<at&&Ne&yt&&(dt=ai($e,Ne,ye))}e(Te.h==ae(Te))}si(ce,ye>A?A:ye);break t}!Be||Te.h&&qe<et?(Be=0,ce.a=Te.h?5:3):ce.$=qe,A=Be}else A=sa(ce,ce.V,ce.Ba,ce.c,ce.i,A,vo);if(!A){W=0;break e}}F+W>=le&&(b.Cc=1),W=1}if(!W)return null;if(b.Cc&&((W=b.ga)!=null&&(W.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+F*ne}function N(b,A,F,W,ne,le){for(;0<ne--;){var ce,fe=b,ye=A+(F?1:0),Ne=b,Te=A+(F?0:3);for(ce=0;ce<W;++ce){var $e=Ne[Te+4*ce];$e!=255&&($e*=32897,fe[ye+4*ce+0]=fe[ye+4*ce+0]*$e>>23,fe[ye+4*ce+1]=fe[ye+4*ce+1]*$e>>23,fe[ye+4*ce+2]=fe[ye+4*ce+2]*$e>>23)}A+=le}}function q(b,A,F,W,ne){for(;0<W--;){var le;for(le=0;le<F;++le){var ce=b[A+2*le+0],fe=15&(Ne=b[A+2*le+1]),ye=4369*fe,Ne=(240&Ne|Ne>>4)*ye>>16;b[A+2*le+0]=(240&ce|ce>>4)*ye>>16&240|(15&ce|ce<<4)*ye>>16>>4&15,b[A+2*le+1]=240&Ne|fe}A+=ne}}function Z(b,A,F,W,ne,le,ce,fe){var ye,Ne,Te=255;for(Ne=0;Ne<ne;++Ne){for(ye=0;ye<W;++ye){var $e=b[A+ye];le[ce+4*ye]=$e,Te&=$e}A+=F,ce+=fe}return Te!=255}function me(b,A,F,W,ne){var le;for(le=0;le<ne;++le)F[W+le]=b[A+le]>>8}function Ue(){mu=N,Ws=q,Ph=Z,Ts=me}function We(b,A,F){D[b]=function(W,ne,le,ce,fe,ye,Ne,Te,$e,we,Oe,Be,tt,qe,et,at,yt){var dt,Ft=yt-1>>1,kt=fe[ye+0]|Ne[Te+0]<<16,or=$e[we+0]|Oe[Be+0]<<16;e(W!=null);var Dt=3*kt+or+131074>>2;for(A(W[ne+0],255&Dt,Dt>>16,tt,qe),le!=null&&(Dt=3*or+kt+131074>>2,A(le[ce+0],255&Dt,Dt>>16,et,at)),dt=1;dt<=Ft;++dt){var _r=fe[ye+dt]|Ne[Te+dt]<<16,wn=$e[we+dt]|Oe[Be+dt]<<16,hr=kt+_r+or+wn+524296,It=hr+2*(_r+or)>>3;Dt=It+kt>>1,kt=(hr=hr+2*(kt+wn)>>3)+_r>>1,A(W[ne+2*dt-1],255&Dt,Dt>>16,tt,qe+(2*dt-1)*F),A(W[ne+2*dt-0],255&kt,kt>>16,tt,qe+(2*dt-0)*F),le!=null&&(Dt=hr+or>>1,kt=It+wn>>1,A(le[ce+2*dt-1],255&Dt,Dt>>16,et,at+(2*dt-1)*F),A(le[ce+2*dt+0],255&kt,kt>>16,et,at+(2*dt+0)*F)),kt=_r,or=wn}1&yt||(Dt=3*kt+or+131074>>2,A(W[ne+yt-1],255&Dt,Dt>>16,tt,qe+(yt-1)*F),le!=null&&(Dt=3*or+kt+131074>>2,A(le[ce+yt-1],255&Dt,Dt>>16,et,at+(yt-1)*F)))}}function wt(){Gi[Xf]=yu,Gi[pa]=Sd,Gi[Zf]=Yp,Gi[Gs]=rm,Gi[Lh]=Ec,Gi[_d]=sl,Gi[jc]=Tc,Gi[Mh]=Sd,Gi[Qf]=rm,Gi[Nd]=Ec,Gi[Jf]=sl}function ir(b){return b&-16384?0>b?0:255:b>>nm}function an(b,A){return ir((19077*b>>8)+(26149*A>>8)-14234)}function vr(b,A,F){return ir((19077*b>>8)-(6419*A>>8)-(13320*F>>8)+8708)}function $r(b,A){return ir((19077*b>>8)+(33050*A>>8)-17685)}function Ci(b,A,F,W,ne){W[ne+0]=an(b,F),W[ne+1]=vr(b,A,F),W[ne+2]=$r(b,A)}function ha(b,A,F,W,ne){W[ne+0]=$r(b,A),W[ne+1]=vr(b,A,F),W[ne+2]=an(b,F)}function mn(b,A,F,W,ne){var le=vr(b,A,F);A=le<<3&224|$r(b,A)>>3,W[ne+0]=248&an(b,F)|le>>5,W[ne+1]=A}function qi(b,A,F,W,ne){var le=240&$r(b,A)|15;W[ne+0]=240&an(b,F)|vr(b,A,F)>>4,W[ne+1]=le}function Ss(b,A,F,W,ne){W[ne+0]=255,Ci(b,A,F,W,ne+1)}function Qo(b,A,F,W,ne){ha(b,A,F,W,ne),W[ne+3]=255}function Jo(b,A,F,W,ne){Ci(b,A,F,W,ne),W[ne+3]=255}function zn(b,A){return 0>b?0:b>A?A:b}function Dl(b,A,F){D[b]=function(W,ne,le,ce,fe,ye,Ne,Te,$e){for(var we=Te+(-2&$e)*F;Te!=we;)A(W[ne+0],le[ce+0],fe[ye+0],Ne,Te),A(W[ne+1],le[ce+0],fe[ye+0],Ne,Te+F),ne+=2,++ce,++ye,Te+=2*F;1&$e&&A(W[ne+0],le[ce+0],fe[ye+0],Ne,Te)}}function yd(b,A,F){return F==0?b==0?A==0?6:5:A==0?4:0:F}function Ch(b,A,F,W,ne){switch(b>>>30){case 3:Bl(A,F,W,ne,0);break;case 2:fa(A,F,W,ne);break;case 1:Ur(A,F,W,ne)}}function As(b,A){var F,W,ne=A.M,le=A.Nb,ce=b.oc,fe=b.pc+40,ye=b.oc,Ne=b.pc+584,Te=b.oc,$e=b.pc+600;for(F=0;16>F;++F)ce[fe+32*F-1]=129;for(F=0;8>F;++F)ye[Ne+32*F-1]=129,Te[$e+32*F-1]=129;for(0<ne?ce[fe-1-32]=ye[Ne-1-32]=Te[$e-1-32]=129:(i(ce,fe-32-1,127,21),i(ye,Ne-32-1,127,9),i(Te,$e-32-1,127,9)),W=0;W<b.za;++W){var we=A.ya[A.aa+W];if(0<W){for(F=-1;16>F;++F)n(ce,fe+32*F-4,ce,fe+32*F+12,4);for(F=-1;8>F;++F)n(ye,Ne+32*F-4,ye,Ne+32*F+4,4),n(Te,$e+32*F-4,Te,$e+32*F+4,4)}var Oe=b.Gd,Be=b.Hd+W,tt=we.ad,qe=we.Hc;if(0<ne&&(n(ce,fe-32,Oe[Be].y,0,16),n(ye,Ne-32,Oe[Be].f,0,8),n(Te,$e-32,Oe[Be].ea,0,8)),we.Za){var et=ce,at=fe-32+16;for(0<ne&&(W>=b.za-1?i(et,at,Oe[Be].y[15],4):n(et,at,Oe[Be+1].y,0,4)),F=0;4>F;F++)et[at+128+F]=et[at+256+F]=et[at+384+F]=et[at+0+F];for(F=0;16>F;++F,qe<<=2)et=ce,at=fe+Jn[F],Fn[we.Ob[F]](et,at),Ch(qe,tt,16*+F,et,at)}else if(et=yd(W,ne,we.Ob[0]),La[et](ce,fe),qe!=0)for(F=0;16>F;++F,qe<<=2)Ch(qe,tt,16*+F,ce,fe+Jn[F]);for(F=we.Gc,et=yd(W,ne,we.Dd),To[et](ye,Ne),To[et](Te,$e),qe=tt,et=ye,at=Ne,255&(we=0|F)&&(170&we?Hs(qe,256,et,at):Rr(qe,256,et,at)),we=Te,qe=$e,255&(F>>=8)&&(170&F?Hs(tt,320,we,qe):Rr(tt,320,we,qe)),ne<b.Ub-1&&(n(Oe[Be].y,0,ce,fe+480,16),n(Oe[Be].f,0,ye,Ne+224,8),n(Oe[Be].ea,0,Te,$e+224,8)),F=8*le*b.B,Oe=b.sa,Be=b.ta+16*W+16*le*b.R,tt=b.qa,we=b.ra+8*W+F,qe=b.Ha,et=b.Ia+8*W+F,F=0;16>F;++F)n(Oe,Be+F*b.R,ce,fe+32*F,16);for(F=0;8>F;++F)n(tt,we+F*b.B,ye,Ne+32*F,8),n(qe,et+F*b.B,Te,$e+32*F,8)}}function So(b,A,F,W,ne,le,ce,fe,ye){var Ne=[0],Te=[0],$e=0,we=ye!=null?ye.kd:0,Oe=ye??new nt;if(b==null||12>F)return 7;Oe.data=b,Oe.w=A,Oe.ha=F,A=[A],F=[F],Oe.gb=[Oe.gb];e:{var Be=A,tt=F,qe=Oe.gb;if(e(b!=null),e(tt!=null),e(qe!=null),qe[0]=0,12<=tt[0]&&!r(b,Be[0],"RIFF")){if(r(b,Be[0]+8,"WEBP")){qe=3;break e}var et=$(b,Be[0]+4);if(12>et||4294967286<et){qe=3;break e}if(we&&et>tt[0]-8){qe=7;break e}qe[0]=et,Be[0]+=12,tt[0]-=12}qe=0}if(qe!=0)return qe;for(et=0<Oe.gb[0],F=F[0];;){e:{var at=b;tt=A,qe=F;var yt=Ne,dt=Te,Ft=Be=[0];if((Dt=$e=[$e])[0]=0,8>qe[0])qe=7;else{if(!r(at,tt[0],"VP8X")){if($(at,tt[0]+4)!=10){qe=3;break e}if(18>qe[0]){qe=7;break e}var kt=$(at,tt[0]+8),or=1+mt(at,tt[0]+12);if(2147483648<=or*(at=1+mt(at,tt[0]+15))){qe=3;break e}Ft!=null&&(Ft[0]=kt),yt!=null&&(yt[0]=or),dt!=null&&(dt[0]=at),tt[0]+=18,qe[0]-=18,Dt[0]=1}qe=0}}if($e=$e[0],Be=Be[0],qe!=0)return qe;if(tt=!!(2&Be),!et&&$e)return 3;if(le!=null&&(le[0]=!!(16&Be)),ce!=null&&(ce[0]=tt),fe!=null&&(fe[0]=0),ce=Ne[0],Be=Te[0],$e&&tt&&ye==null){qe=0;break}if(4>F){qe=7;break}if(et&&$e||!et&&!$e&&!r(b,A[0],"ALPH")){F=[F],Oe.na=[Oe.na],Oe.P=[Oe.P],Oe.Sa=[Oe.Sa];e:{kt=b,qe=A,et=F;var Dt=Oe.gb;yt=Oe.na,dt=Oe.P,Ft=Oe.Sa,or=22,e(kt!=null),e(et!=null),at=qe[0];var _r=et[0];for(e(yt!=null),e(Ft!=null),yt[0]=null,dt[0]=null,Ft[0]=0;;){if(qe[0]=at,et[0]=_r,8>_r){qe=7;break e}var wn=$(kt,at+4);if(4294967286<wn){qe=3;break e}var hr=8+wn+1&-2;if(or+=hr,0<Dt&&or>Dt){qe=3;break e}if(!r(kt,at,"VP8 ")||!r(kt,at,"VP8L")){qe=0;break e}if(_r[0]<hr){qe=7;break e}r(kt,at,"ALPH")||(yt[0]=kt,dt[0]=at+8,Ft[0]=wn),at+=hr,_r-=hr}}if(F=F[0],Oe.na=Oe.na[0],Oe.P=Oe.P[0],Oe.Sa=Oe.Sa[0],qe!=0)break}F=[F],Oe.Ja=[Oe.Ja],Oe.xa=[Oe.xa];e:if(Dt=b,qe=A,et=F,yt=Oe.gb[0],dt=Oe.Ja,Ft=Oe.xa,kt=qe[0],at=!r(Dt,kt,"VP8 "),or=!r(Dt,kt,"VP8L"),e(Dt!=null),e(et!=null),e(dt!=null),e(Ft!=null),8>et[0])qe=7;else{if(at||or){if(Dt=$(Dt,kt+4),12<=yt&&Dt>yt-12){qe=3;break e}if(we&&Dt>et[0]-8){qe=7;break e}dt[0]=Dt,qe[0]+=8,et[0]-=8,Ft[0]=or}else Ft[0]=5<=et[0]&&Dt[kt+0]==47&&!(Dt[kt+4]>>5),dt[0]=et[0];qe=0}if(F=F[0],Oe.Ja=Oe.Ja[0],Oe.xa=Oe.xa[0],A=A[0],qe!=0)break;if(4294967286<Oe.Ja)return 3;if(fe==null||tt||(fe[0]=Oe.xa?2:1),ce=[ce],Be=[Be],Oe.xa){if(5>F){qe=7;break}fe=ce,we=Be,tt=le,b==null||5>F?b=0:5<=F&&b[A+0]==47&&!(b[A+4]>>5)?(et=[0],Dt=[0],yt=[0],oe(dt=new J,b,A,F),Ea(dt,et,Dt,yt)?(fe!=null&&(fe[0]=et[0]),we!=null&&(we[0]=Dt[0]),tt!=null&&(tt[0]=yt[0]),b=1):b=0):b=0}else{if(10>F){qe=7;break}fe=Be,b==null||10>F||!Yn(b,A+3,F-3)?b=0:(we=b[A+0]|b[A+1]<<8|b[A+2]<<16,tt=16383&(b[A+7]<<8|b[A+6]),b=16383&(b[A+9]<<8|b[A+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Oe.Ja||!tt||!b?b=0:(ce&&(ce[0]=tt),fe&&(fe[0]=b),b=1))}if(!b||(ce=ce[0],Be=Be[0],$e&&(Ne[0]!=ce||Te[0]!=Be)))return 3;ye!=null&&(ye[0]=Oe,ye.offset=A-ye.w,e(4294967286>A-ye.w),e(ye.offset==ye.ha-F));break}return qe==0||qe==7&&$e&&ye==null?(le!=null&&(le[0]|=Oe.na!=null&&0<Oe.na.length),W!=null&&(W[0]=ce),ne!=null&&(ne[0]=Be),0):qe}function Ll(b,A,F){var W=A.width,ne=A.height,le=0,ce=0,fe=W,ye=ne;if(A.Da=b!=null&&0<b.Da,A.Da&&(fe=b.cd,ye=b.bd,le=b.v,ce=b.j,11>F||(le&=-2,ce&=-2),0>le||0>ce||0>=fe||0>=ye||le+fe>W||ce+ye>ne))return 0;if(A.v=le,A.j=ce,A.va=le+fe,A.o=ce+ye,A.U=fe,A.T=ye,A.da=b!=null&&0<b.da,A.da){if(!he(fe,ye,F=[b.ib],le=[b.hb]))return 0;A.ib=F[0],A.hb=le[0]}return A.ob=b!=null&&b.ob,A.Kb=b==null||!b.Sd,A.da&&(A.ob=A.ib<3*W/4&&A.hb<3*ne/4,A.Kb=0),1}function kh(b){if(b==null)return 2;if(11>b.S){var A=b.f.RGBA;A.fb+=(b.height-1)*A.A,A.A=-A.A}else A=b.f.kb,b=b.height,A.O+=(b-1)*A.fa,A.fa=-A.fa,A.N+=(b-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(b-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(b-1)*A.lb,A.lb=-A.lb);return 0}function Ao(b,A,F,W){if(W==null||0>=b||0>=A)return 2;if(F!=null){if(F.Da){var ne=F.cd,le=F.bd,ce=-2&F.v,fe=-2&F.j;if(0>ce||0>fe||0>=ne||0>=le||ce+ne>b||fe+le>A)return 2;b=ne,A=le}if(F.da){if(!he(b,A,ne=[F.ib],le=[F.hb]))return 2;b=ne[0],A=le[0]}}W.width=b,W.height=A;e:{var ye=W.width,Ne=W.height;if(b=W.S,0>=ye||0>=Ne||!(b>=Xf&&13>b))b=2;else{if(0>=W.Rd&&W.sd==null){ce=le=ne=A=0;var Te=(fe=ye*am[b])*Ne;if(11>b||(le=(Ne+1)/2*(A=(ye+1)/2),b==12&&(ce=(ne=ye)*Ne)),(Ne=a(Te+2*le+ce))==null){b=1;break e}W.sd=Ne,11>b?((ye=W.f.RGBA).eb=Ne,ye.fb=0,ye.A=fe,ye.size=Te):((ye=W.f.kb).y=Ne,ye.O=0,ye.fa=fe,ye.Fd=Te,ye.f=Ne,ye.N=0+Te,ye.Ab=A,ye.Cd=le,ye.ea=Ne,ye.W=0+Te+le,ye.Db=A,ye.Ed=le,b==12&&(ye.F=Ne,ye.J=0+Te+2*le),ye.Tc=ce,ye.lb=ne)}if(A=1,ne=W.S,le=W.width,ce=W.height,ne>=Xf&&13>ne)if(11>ne)b=W.f.RGBA,A&=(fe=Math.abs(b.A))*(ce-1)+le<=b.size,A&=fe>=le*am[ne],A&=b.eb!=null;else{b=W.f.kb,fe=(le+1)/2,Te=(ce+1)/2,ye=Math.abs(b.fa),Ne=Math.abs(b.Ab);var $e=Math.abs(b.Db),we=Math.abs(b.lb),Oe=we*(ce-1)+le;A&=ye*(ce-1)+le<=b.Fd,A&=Ne*(Te-1)+fe<=b.Cd,A=(A&=$e*(Te-1)+fe<=b.Ed)&ye>=le&Ne>=fe&$e>=fe,A&=b.y!=null,A&=b.f!=null,A&=b.ea!=null,ne==12&&(A&=we>=le,A&=Oe<=b.Tc,A&=b.F!=null)}else A=0;b=A?0:2}}return b!=0||F!=null&&F.fd&&(b=kh(W)),b}var Nc=64,es=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Da=24,el=32,tl=8,Ml=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];De("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(b){return b},D.Predictor2=function(b,A,F){return A[F+0]},D.Predictor3=function(b,A,F){return A[F+1]},D.Predictor4=function(b,A,F){return A[F-1]},D.Predictor5=function(b,A,F){return Ye(Ye(b,A[F+1]),A[F+0])},D.Predictor6=function(b,A,F){return Ye(b,A[F-1])},D.Predictor7=function(b,A,F){return Ye(b,A[F+0])},D.Predictor8=function(b,A,F){return Ye(A[F-1],A[F+0])},D.Predictor9=function(b,A,F){return Ye(A[F+0],A[F+1])},D.Predictor10=function(b,A,F){return Ye(Ye(b,A[F-1]),Ye(A[F+0],A[F+1]))},D.Predictor11=function(b,A,F){var W=A[F+0];return 0>=ct(W>>24&255,b>>24&255,(A=A[F-1])>>24&255)+ct(W>>16&255,b>>16&255,A>>16&255)+ct(W>>8&255,b>>8&255,A>>8&255)+ct(255&W,255&b,255&A)?W:b},D.Predictor12=function(b,A,F){var W=A[F+0];return(ot((b>>24&255)+(W>>24&255)-((A=A[F-1])>>24&255))<<24|ot((b>>16&255)+(W>>16&255)-(A>>16&255))<<16|ot((b>>8&255)+(W>>8&255)-(A>>8&255))<<8|ot((255&b)+(255&W)-(255&A)))>>>0},D.Predictor13=function(b,A,F){var W=A[F-1];return(Qe((b=Ye(b,A[F+0]))>>24&255,W>>24&255)<<24|Qe(b>>16&255,W>>16&255)<<16|Qe(b>>8&255,W>>8&255)<<8|Qe(255&b,255&W))>>>0};var xd=D.PredictorAdd0;D.PredictorAdd1=Tt,De("Predictor2","PredictorAdd2"),De("Predictor3","PredictorAdd3"),De("Predictor4","PredictorAdd4"),De("Predictor5","PredictorAdd5"),De("Predictor6","PredictorAdd6"),De("Predictor7","PredictorAdd7"),De("Predictor8","PredictorAdd8"),De("Predictor9","PredictorAdd9"),De("Predictor10","PredictorAdd10"),De("Predictor11","PredictorAdd11"),De("Predictor12","PredictorAdd12"),De("Predictor13","PredictorAdd13");var vd=D.PredictorAdd2;Xe("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),Xe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Zn,Gf=D.ColorIndexInverseTransform,rl=D.MapARGB,nl=D.VP8LColorIndexInverseTransformAlpha,$i=D.MapAlpha,zl=D.VP8LPredictorsAdd=[];zl.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var bd,wd,Fl,Ul,il,hu,Es,Bl,fa,Hs,Ur,Rr,pn,Qn,al,Eo,fu,Ih,qp,py,gy,yy,$p,Hp,mu,Ws,Ph,Ts,pu=a(511),Yf=a(2041),Rh=a(225),Oh=a(767),Kf=0,Vl=Yf,Dh=Rh,ma=Oh,Hi=pu,Xf=0,pa=1,Zf=2,Gs=3,Lh=4,_d=5,jc=6,Mh=7,Qf=8,Nd=9,Jf=10,Ys=[2,3,7],jd=[3,3,11],gu=[280,256,256,256,40],em=[0,1,1,1,0],zh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ks=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Xs=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sc=8,Zs=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qs=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Cs=null,xy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Wp=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],tm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],vy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Wi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],bn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],jr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],La=[],Fn=[],To=[],Ac=1,Gp=2,ql=[],Gi=[];We("UpsampleRgbLinePair",Ci,3),We("UpsampleBgrLinePair",ha,3),We("UpsampleRgbaLinePair",Jo,4),We("UpsampleBgraLinePair",Qo,4),We("UpsampleArgbLinePair",Ss,4),We("UpsampleRgba4444LinePair",qi,2),We("UpsampleRgb565LinePair",mn,2);var yu=D.UpsampleRgbLinePair,Yp=D.UpsampleBgrLinePair,Sd=D.UpsampleRgbaLinePair,rm=D.UpsampleBgraLinePair,Ec=D.UpsampleArgbLinePair,sl=D.UpsampleRgba4444LinePair,Tc=D.UpsampleRgb565LinePair,Js=16,Ad=1<<Js-1,xu=-227,Cc=482,nm=6,kc=0,Yi=a(256),im=a(256),by=a(256),Mb=a(256),zb=a(Cc-xu),Fb=a(Cc-xu);Dl("YuvToRgbRow",Ci,3),Dl("YuvToBgrRow",ha,3),Dl("YuvToRgbaRow",Jo,4),Dl("YuvToBgraRow",Qo,4),Dl("YuvToArgbRow",Ss,4),Dl("YuvToRgba4444Row",qi,2),Dl("YuvToRgb565Row",mn,2);var Jn=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ed=[0,2,8],Fh=[8,7,6,4,4,2,2,2,1,1,1,1],Uh=1;this.WebPDecodeRGBA=function(b,A,F,W,ne){var le=pa,ce=new Me,fe=new At;ce.ba=fe,fe.S=le,fe.width=[fe.width],fe.height=[fe.height];var ye=fe.width,Ne=fe.height,Te=new Nt;if(Te==null||b==null)var $e=2;else e(Te!=null),$e=So(b,A,F,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if($e!=0?ye=0:(ye!=null&&(ye[0]=Te.width[0]),Ne!=null&&(Ne[0]=Te.height[0]),ye=1),ye){fe.width=fe.width[0],fe.height=fe.height[0],W!=null&&(W[0]=fe.width),ne!=null&&(ne[0]=fe.height);e:{if(W=new bo,(ne=new nt).data=b,ne.w=A,ne.ha=F,ne.kd=1,A=[0],e(ne!=null),((b=So(ne.data,ne.w,ne.ha,null,null,null,A,null,ne))==0||b==7)&&A[0]&&(b=4),(A=b)==0){if(e(ce!=null),W.data=ne.data,W.w=ne.w+ne.offset,W.ha=ne.ha-ne.offset,W.put=Wt,W.ac=Gn,W.bc=xo,W.ma=ce,ne.xa){if((b=Yo())==null){ce=1;break e}if((function(we,Oe){var Be=[0],tt=[0],qe=[0];t:for(;;){if(we==null)return 0;if(Oe==null)return we.a=2,0;if(we.l=Oe,we.a=0,oe(we.m,Oe.data,Oe.w,Oe.ha),!Ea(we.m,Be,tt,qe)){we.a=3;break t}if(we.xb=Gp,Oe.width=Be[0],Oe.height=tt[0],!gs(Be[0],tt[0],1,we,null))break t;return 1}return e(we.a!=0),0})(b,W)){if(W=(A=Ao(W.width,W.height,ce.Oa,ce.ba))==0){t:{W=b;r:for(;;){if(W==null){W=0;break t}if(e(W.s.yc!=null),e(W.s.Ya!=null),e(0<W.s.Wb),e((F=W.l)!=null),e((ne=F.ma)!=null),W.xb!=0){if(W.ca=ne.ba,W.tb=ne.tb,e(W.ca!=null),!Ll(ne.Oa,F,Gs)){W.a=2;break r}if(!oa(W,F.width)||F.da)break r;if((F.da||er(W.ca.S))&&Ue(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Ue()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!ie(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!sa(W,W.V,W.Ba,W.c,W.i,F.o,Ei))break r;ne.Dc=W.Ma,W=1;break t}e(W.a!=0),W=0}W=!W}W&&(A=b.a)}else A=b.a}else{if((b=new ka)==null){ce=1;break e}if(b.Fa=ne.na,b.P=ne.P,b.qc=ne.Sa,wo(b,W)){if((A=Ao(W.width,W.height,ce.Oa,ce.ba))==0){if(b.Aa=0,F=ce.Oa,e((ne=b)!=null),F!=null){if(0<(ye=0>(ye=F.Md)?0:100<ye?255:255*ye/100)){for(Ne=Te=0;4>Ne;++Ne)12>($e=ne.pb[Ne]).lc&&($e.ia=ye*Fh[0>$e.lc?0:$e.lc]>>3),Te|=$e.ia;Te&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=F.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}(function(we,Oe){if(we==null)return 0;if(Oe==null)return yr(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!wo(we,Oe))return 0;if(e(we.cb),Oe.ac==null||Oe.ac(Oe)){Oe.ob&&(we.L=0);var Be=Ed[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Oe.v-Be>>4,we.zb=Oe.j-Be>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Oe.o+15+Be>>4,we.Hb=Oe.va+15+Be>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var tt=we.ed;for(Be=0;4>Be;++Be){var qe;if(we.Qa.Cb){var et=we.Qa.Lb[Be];we.Qa.Fb||(et+=tt.Tb)}else et=tt.Tb;for(qe=0;1>=qe;++qe){var at=we.gd[Be][qe],yt=et;if(tt.Pc&&(yt+=tt.vd[0],qe&&(yt+=tt.od[0])),0<(yt=0>yt?0:63<yt?63:yt)){var dt=yt;0<tt.wb&&(dt=4<tt.wb?dt>>2:dt>>1)>9-tt.wb&&(dt=9-tt.wb),1>dt&&(dt=1),at.dd=dt,at.tc=2*yt+dt,at.ld=40<=yt?2:15<=yt?1:0}else at.tc=0;at.La=qe}}}Be=0}else yr(we,6,"Frame setup failed"),Be=we.a;if(Be=Be==0){if(Be){we.$c=0,0<we.Aa||(we.Ic=Uh);t:{Be=we.Ic,tt=4*(dt=we.za);var Ft=32*dt,kt=dt+1,or=0<we.L?dt*(0<we.Aa?2:1):0,Dt=(we.Aa==2?2:1)*dt;if((at=tt+832+(qe=3*(16*Be+Ed[we.L])/2*Ft)+(et=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=at)Be=0;else{if(at>we.Vb){if(we.Vb=0,we.Ec=a(at),we.Fc=0,we.Ec==null){Be=yr(we,1,"no memory during frame initialization.");break t}we.Vb=at}at=we.Ec,yt=we.Fc,we.Ac=at,we.Bc=yt,yt+=tt,we.Gd=l(Ft,gc),we.Hd=0,we.rb=l(kt+1,Qa),we.sb=1,we.wa=or?l(or,la):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=dt),e(!0),we.oc=at,we.pc=yt,yt+=832,we.ya=l(Dt,kl),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=dt),we.R=16*dt,we.B=8*dt,dt=(Ft=Ed[we.L])*we.R,Ft=Ft/2*we.B,we.sa=at,we.ta=yt+dt,we.qa=we.sa,we.ra=we.ta+16*Be*we.R+Ft,we.Ha=we.qa,we.Ia=we.ra+8*Be*we.B+Ft,we.$c=0,yt+=qe,we.mb=et?at:null,we.nb=et?yt:null,e(yt+et<=we.Fc+we.Vb),Nr(we),i(we.Ac,we.Bc,0,tt),Be=1}}if(Be){if(Oe.ka=0,Oe.y=we.sa,Oe.O=we.ta,Oe.f=we.qa,Oe.N=we.ra,Oe.ea=we.Ha,Oe.Vd=we.Ia,Oe.fa=we.R,Oe.Rc=we.B,Oe.F=null,Oe.J=0,!Kf){for(Be=-255;255>=Be;++Be)pu[255+Be]=0>Be?-Be:Be;for(Be=-1020;1020>=Be;++Be)Yf[1020+Be]=-128>Be?-128:127<Be?127:Be;for(Be=-112;112>=Be;++Be)Rh[112+Be]=-16>Be?-16:15<Be?15:Be;for(Be=-255;510>=Be;++Be)Oh[255+Be]=0>Be?0:255<Be?255:Be;Kf=1}Es=_o,Bl=gd,Hs=su,Ur=Vi,Rr=ou,fa=yc,pn=uu,Qn=du,al=O,Eo=te,fu=js,Ih=_c,qp=_e,py=Ee,gy=qs,yy=$s,$p=_s,Hp=Ol,Fn[0]=wc,Fn[1]=xc,Fn[2]=Us,Fn[3]=Il,Fn[4]=Ko,Fn[5]=oi,Fn[6]=xi,Fn[7]=Pl,Fn[8]=Ia,Fn[9]=qr,La[0]=vs,La[1]=cu,La[2]=vc,La[3]=bc,La[4]=bs,La[5]=No,La[6]=ua,To[0]=Bs,To[1]=lu,To[2]=Rl,To[3]=ws,To[4]=Pa,To[5]=jo,To[6]=Xn,Be=1}else Be=0}Be&&(Be=(function(_r,wn){for(_r.M=0;_r.M<_r.Va;++_r.M){var hr,It=_r.Jc[_r.M&_r.Xb],_t=_r.m,Tn=_r;for(hr=0;hr<Tn.za;++hr){var tr=_t,gr=Tn,Yr=gr.Ac,vi=gr.Bc+4*hr,Ki=gr.zc,gn=gr.ya[gr.aa+hr];if(gr.Qa.Bb?gn.$b=Ie(tr,gr.Pa.jb[0])?2+Ie(tr,gr.Pa.jb[2]):Ie(tr,gr.Pa.jb[1]):gn.$b=0,gr.kc&&(gn.Ad=Ie(tr,gr.Bd)),gn.Za=!Ie(tr,145)+0,gn.Za){var li=gn.Ob,ga=0;for(gr=0;4>gr;++gr){var ci,br=Ki[0+gr];for(ci=0;4>ci;++ci){br=Wi[Yr[vi+ci]][br];for(var Dr=tm[Ie(tr,br[0])];0<Dr;)Dr=tm[2*Dr+Ie(tr,br[Dr])];br=-Dr,Yr[vi+ci]=br}n(li,ga,Yr,vi,4),ga+=4,Ki[0+gr]=br}}else br=Ie(tr,156)?Ie(tr,128)?1:3:Ie(tr,163)?2:0,gn.Ob[0]=br,i(Yr,vi,br,4),i(Ki,0,br,4);gn.Dd=Ie(tr,142)?Ie(tr,114)?Ie(tr,183)?1:3:2:0}if(Tn.m.Ka)return yr(_r,7,"Premature end-of-partition0 encountered.");for(;_r.ja<_r.za;++_r.ja){if(Tn=It,tr=(_t=_r).rb[_t.sb-1],Yr=_t.rb[_t.sb+_t.ja],hr=_t.ya[_t.aa+_t.ja],vi=_t.kc?hr.Ad:0)tr.la=Yr.la=0,hr.Za||(tr.Na=Yr.Na=0),hr.Hc=0,hr.Gc=0,hr.ia=0;else{var Cn,Br;if(tr=Yr,Yr=Tn,vi=_t.Pa.Xc,Ki=_t.ya[_t.aa+_t.ja],gn=_t.pb[Ki.$b],gr=Ki.ad,li=0,ga=_t.rb[_t.sb-1],br=ci=0,i(gr,li,0,384),Ki.Za)var bi=0,kn=vi[3];else{Dr=a(16);var Lr=tr.Na+ga.Na;if(Lr=Cs(Yr,vi[1],Lr,gn.Eb,0,Dr,0),tr.Na=ga.Na=(0<Lr)+0,1<Lr)Es(Dr,0,gr,li);else{var ei=Dr[0]+3>>3;for(Dr=0;256>Dr;Dr+=16)gr[li+Dr]=ei}bi=1,kn=vi[0]}var Kr=15&tr.la,ui=15&ga.la;for(Dr=0;4>Dr;++Dr){var di=1&ui;for(ei=Br=0;4>ei;++ei)Kr=Kr>>1|(di=(Lr=Cs(Yr,kn,Lr=di+(1&Kr),gn.Sc,bi,gr,li))>bi)<<7,Br=Br<<2|(3<Lr?3:1<Lr?2:gr[li+0]!=0),li+=16;Kr>>=4,ui=ui>>1|di<<7,ci=(ci<<8|Br)>>>0}for(kn=Kr,bi=ui>>4,Cn=0;4>Cn;Cn+=2){for(Br=0,Kr=tr.la>>4+Cn,ui=ga.la>>4+Cn,Dr=0;2>Dr;++Dr){for(di=1&ui,ei=0;2>ei;++ei)Lr=di+(1&Kr),Kr=Kr>>1|(di=0<(Lr=Cs(Yr,vi[2],Lr,gn.Qc,0,gr,li)))<<3,Br=Br<<2|(3<Lr?3:1<Lr?2:gr[li+0]!=0),li+=16;Kr>>=2,ui=ui>>1|di<<5}br|=Br<<4*Cn,kn|=Kr<<4<<Cn,bi|=(240&ui)<<Cn}tr.la=kn,ga.la=bi,Ki.Hc=ci,Ki.Gc=br,Ki.ia=43690&br?0:gn.ia,vi=!(ci|br)}if(0<_t.L&&(_t.wa[_t.Y+_t.ja]=_t.gd[hr.$b][hr.Za],_t.wa[_t.Y+_t.ja].La|=!vi),Tn.Ka)return yr(_r,7,"Premature end-of-file encountered.")}if(Nr(_r),_t=wn,Tn=1,hr=(It=_r).D,tr=0<It.L&&It.M>=It.zb&&It.M<=It.Va,It.Aa==0)t:{if(hr.M=It.M,hr.uc=tr,As(It,hr),Tn=1,hr=(Br=It.D).Nb,tr=(br=Ed[It.L])*It.R,Yr=br/2*It.B,Dr=16*hr*It.R,ei=8*hr*It.B,vi=It.sa,Ki=It.ta-tr+Dr,gn=It.qa,gr=It.ra-Yr+ei,li=It.Ha,ga=It.Ia-Yr+ei,ui=(Kr=Br.M)==0,ci=Kr>=It.Va-1,It.Aa==2&&As(It,Br),Br.uc)for(di=(Lr=It).D.M,e(Lr.D.uc),Br=Lr.yb;Br<Lr.Hb;++Br){bi=Br,kn=di;var sn=(Or=(hi=Lr).D).Nb;Cn=hi.R;var Or=Or.wa[Or.Y+bi],ya=hi.sa,Un=hi.ta+16*sn*Cn+16*bi,Yt=Or.dd,Xt=Or.tc;if(Xt!=0)if(e(3<=Xt),hi.L==1)0<bi&&yy(ya,Un,Cn,Xt+4),Or.La&&Hp(ya,Un,Cn,Xt),0<kn&&gy(ya,Un,Cn,Xt+4),Or.La&&$p(ya,Un,Cn,Xt);else{var Mr=hi.B,ts=hi.qa,eo=hi.ra+8*sn*Mr+8*bi,Ma=hi.Ha,hi=hi.Ia+8*sn*Mr+8*bi;sn=Or.ld,0<bi&&(Qn(ya,Un,Cn,Xt+4,Yt,sn),Eo(ts,eo,Ma,hi,Mr,Xt+4,Yt,sn)),Or.La&&(Ih(ya,Un,Cn,Xt,Yt,sn),py(ts,eo,Ma,hi,Mr,Xt,Yt,sn)),0<kn&&(pn(ya,Un,Cn,Xt+4,Yt,sn),al(ts,eo,Ma,hi,Mr,Xt+4,Yt,sn)),Or.La&&(fu(ya,Un,Cn,Xt,Yt,sn),qp(ts,eo,Ma,hi,Mr,Xt,Yt,sn))}}if(It.ia&&alert("todo:DitherRow"),_t.put!=null){if(Br=16*Kr,Kr=16*(Kr+1),ui?(_t.y=It.sa,_t.O=It.ta+Dr,_t.f=It.qa,_t.N=It.ra+ei,_t.ea=It.Ha,_t.W=It.Ia+ei):(Br-=br,_t.y=vi,_t.O=Ki,_t.f=gn,_t.N=gr,_t.ea=li,_t.W=ga),ci||(Kr-=br),Kr>_t.o&&(Kr=_t.o),_t.F=null,_t.J=null,It.Fa!=null&&0<It.Fa.length&&Br<Kr&&(_t.J=Qr(It,_t,Br,Kr-Br),_t.F=It.mb,_t.F==null&&_t.F.length==0)){Tn=yr(It,3,"Could not decode alpha data.");break t}Br<_t.j&&(br=_t.j-Br,Br=_t.j,e(!(1&br)),_t.O+=It.R*br,_t.N+=It.B*(br>>1),_t.W+=It.B*(br>>1),_t.F!=null&&(_t.J+=_t.width*br)),Br<Kr&&(_t.O+=_t.v,_t.N+=_t.v>>1,_t.W+=_t.v>>1,_t.F!=null&&(_t.J+=_t.v),_t.ka=Br-_t.j,_t.U=_t.va-_t.v,_t.T=Kr-Br,Tn=_t.put(_t))}hr+1!=It.Ic||ci||(n(It.sa,It.ta-tr,vi,Ki+16*It.R,tr),n(It.qa,It.ra-Yr,gn,gr+8*It.B,Yr),n(It.Ha,It.Ia-Yr,li,ga+8*It.B,Yr))}if(!Tn)return yr(_r,6,"Output aborted.")}return 1})(we,Oe)),Oe.bc!=null&&Oe.bc(Oe),Be&=1}return Be?(we.cb=0,Be):0})(b,W)||(A=b.a)}}else A=b.a}A==0&&ce.Oa!=null&&ce.Oa.fd&&(A=kh(ce.ba))}ce=A}le=ce!=0?null:11>le?fe.f.RGBA.eb:fe.f.kb.y}else le=null;return le};var am=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(D,G){for(var L="",I=0;I<4;I++)L+=String.fromCharCode(D[G++]);return L}function f(D,G){return D[G+0]|D[G+1]<<8}function p(D,G){return(D[G+0]|D[G+1]<<8|D[G+2]<<16)>>>0}function x(D,G){return(D[G+0]|D[G+1]<<8|D[G+2]<<16|D[G+3]<<24)>>>0}new d;var g=[0],w=[0],v=[],_=new d,j=t,E=(function(D,G){var L={},I=0,B=!1,k=0,re=0;if(L.frames=[],!(function(R,J){for(var ee=0;ee<4;ee++)if(R[J+ee]!="RIFF".charCodeAt(ee))return!0;return!1})(D,G)){for(x(D,G+=4),G+=8;G<D.length;){var Y=h(D,G),Q=x(D,G+=4);G+=4;var se=Q+(1&Q);switch(Y){case"VP8 ":case"VP8L":L.frames[I]===void 0&&(L.frames[I]={}),(H=L.frames[I]).src_off=B?re:G-8,H.src_size=k+Q+8,I++,B&&(B=!1,k=0,re=0);break;case"VP8X":(H=L.header={}).feature_flags=D[G];var oe=G+4;H.canvas_width=1+p(D,oe),oe+=3,H.canvas_height=1+p(D,oe),oe+=3;break;case"ALPH":B=!0,k=se+8,re=G-8;break;case"ANIM":(H=L.header).bgcolor=x(D,G),oe=G+4,H.loop_count=f(D,oe),oe+=2;break;case"ANMF":var pe,H;(H=L.frames[I]={}).offset_x=2*p(D,G),G+=3,H.offset_y=2*p(D,G),G+=3,H.width=1+p(D,G),G+=3,H.height=1+p(D,G),G+=3,H.duration=p(D,G),G+=3,pe=D[G++],H.dispose=1&pe,H.blend=pe>>1&1}Y!="ANMF"&&(G+=se)}return L}})(j,0);E.response=j,E.rgbaoutput=!0,E.dataurl=!1;var C=E.header?E.header:null,z=E.frames?E.frames:null;if(C){C.loop_counter=C.loop_count,g=[C.canvas_height],w=[C.canvas_width];for(var P=0;P<z.length&&z[P].blend!=0;P++);}var X=z[0],U=_.WebPDecodeRGBA(j,X.src_off,X.src_size,w,g);X.rgba=U,X.imgwidth=w[0],X.imgheight=g[0];for(var M=0;M<w[0]*g[0]*4;M++)v[M]=U[M];return this.width=w,this.height=g,this.data=v,this}(function(t){var e,r,n,i,a,l,c,d,h,f=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new d,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new l,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new l,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,h=new f}]);var p=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=R;Object.defineProperty(this,"pdf",{get:function(){return J}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function($){ee=!!$}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function($){ae=!!$}});var be=0;Object.defineProperty(this,"posX",{get:function(){return be},set:function($){isNaN($)||(be=$)}});var je=0;Object.defineProperty(this,"posY",{get:function(){return je},set:function($){isNaN($)||(je=$)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function($){var ie;typeof $=="number"?ie=[$,$,$,$]:((ie=new Array(4))[0]=$[0],ie[1]=$.length>=2?$[1]:ie[0],ie[2]=$.length>=3?$[2]:ie[0],ie[3]=$.length>=4?$[3]:ie[1]),h.margin=ie}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function($){de=$}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function($){ge=$}});var Ie=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ie},set:function($){Ie=$}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function($){$ instanceof f&&(h=$)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function($){h.path=$}});var Ve=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ve},set:function($){Ve=$}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function($){var ie;ie=x($),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function($){var ie=x($);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function($){["butt","round","square"].indexOf($)!==-1&&(this.ctx.lineCap=$,this.pdf.setLineCap($))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function($){isNaN($)||(this.ctx.lineWidth=$,this.pdf.setLineWidth($))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function($){["bevel","round","miter"].indexOf($)!==-1&&(this.ctx.lineJoin=$,this.pdf.setLineJoin($))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function($){isNaN($)||(this.ctx.miterLimit=$,this.pdf.setMiterLimit($))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function($){this.ctx.textBaseline=$}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function($){["right","end","center","left","start"].indexOf($)!==-1&&(this.ctx.textAlign=$)}});var Re=null,mt=null;Object.defineProperty(this,"fontFaces",{get:function(){return mt},set:function($){Re=null,mt=$}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function($){var ie;if(this.ctx.font=$,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec($))!==null){var Pe=ie[1];ie[2];var xe=ie[3],he=ie[4];ie[5];var ve=ie[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(he)[2];he=Math.floor(ze==="px"?parseFloat(he)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(he)*this.pdf.getFontSize():parseFloat(he)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(he);var De=(function(Le){var Xe,xt,ht=[],ft=Le.trim();if(ft==="")return v_;if(ft in y8)return[y8[ft]];for(;ft!=="";){switch(xt=null,Xe=(ft=v8(ft)).charAt(0)){case'"':case"'":xt=Mxe(ft.substring(1),Xe);break;default:xt=zxe(ft)}if(xt===null||(ht.push(xt[0]),(ft=v8(xt[1]))!==""&&ft.charAt(0)!==","))return v_;ft=ft.replace(/^,/,"")}return ht})(ve);if(this.fontFaces){var Ce=(function(Le,Xe){if(Re===null){var xt=(function(ht){var ft=[];return Object.keys(ht).forEach(function(Ct){ht[Ct].forEach(function(Bt){var $t=null;switch(Bt){case"bold":$t={family:Ct,weight:"bold"};break;case"italic":$t={family:Ct,style:"italic"};break;case"bolditalic":$t={family:Ct,weight:"bold",style:"italic"};break;case"":case"normal":$t={family:Ct}}$t!==null&&($t.ref={name:Ct,style:Bt},ft.push($t))})}),ft})(Le.getFontList());Re=(function(ht){for(var ft={},Ct=0;Ct<ht.length;++Ct){var Bt=x_(ht[Ct]),$t=Bt.family,ur=Bt.stretch,er=Bt.style,Je=Bt.weight;ft[$t]=ft[$t]||{},ft[$t][ur]=ft[$t][ur]||{},ft[$t][ur][er]=ft[$t][ur][er]||{},ft[$t][ur][er][Je]=Bt}return ft})(xt.concat(Xe))}return Re})(this.pdf,this.fontFaces),Ye=De.map(function(Le){return{family:Le,stretch:"normal",weight:xe,style:Pe}}),ot=(function(Le,Xe,xt){for(var ht=(xt=xt||{}).defaultFontFamily||"times",ft=Object.assign({},Lxe,xt.genericFontFamilies||{}),Ct=null,Bt=null,$t=0;$t<Xe.length;++$t)if(ft[(Ct=x_(Xe[$t])).family]&&(Ct.family=ft[Ct.family]),Le.hasOwnProperty(Ct.family)){Bt=Le[Ct.family];break}if(!(Bt=Bt||Le[ht]))throw new Error("Could not find a font-family for the rule '"+x8(Ct)+"' and default family '"+ht+"'.");if(Bt=(function(ur,er){if(er[ur])return er[ur];var Je=rj[ur],vt=Je<=rj.normal?-1:1,At=g8(er,WF,Je,vt);if(!At)throw new Error("Could not find a matching font-stretch value for "+ur);return At})(Ct.stretch,Bt),Bt=(function(ur,er){if(er[ur])return er[ur];for(var Je=HF[ur],vt=0;vt<Je.length;++vt)if(er[Je[vt]])return er[Je[vt]];throw new Error("Could not find a matching font-style for "+ur)})(Ct.style,Bt),!(Bt=(function(ur,er){if(er[ur])return er[ur];if(ur===400&&er[500])return er[500];if(ur===500&&er[400])return er[400];var Je=Dxe[ur],vt=g8(er,GF,Je,ur<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+ur);return vt})(Ct.weight,Bt)))throw new Error("Failed to resolve a font for the rule '"+x8(Ct)+"'.");return Bt})(Ce,Ye);this.pdf.setFont(ot.ref.name,ot.ref.style)}else{var Qe="";(xe==="bold"||parseInt(xe,10)>=700||Pe==="bold")&&(Qe="bold"),Pe==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var ct="",Tt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<De.length;bt++){if(this.pdf.internal.getFont(De[bt],Qe,{noFallback:!0,disableWarning:!0})!==void 0){ct=De[bt];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(De[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=De[bt],Qe="bold";else if(this.pdf.internal.getFont(De[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=De[bt],Qe="normal";break}}if(ct===""){for(var Se=0;Se<De.length;Se++)if(Tt[De[Se]]){ct=Tt[De[Se]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function($){this.ctx.globalCompositeOperation=$}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function($){this.ctx.globalAlpha=$}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function($){this.ctx.lineDashOffset=$,H.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function($){this.ctx.lineDash=$,H.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function($){this.ctx.ignoreClearRect=!!$}})};p.prototype.setLineDash=function(R){this.lineDash=R},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){z.call(this,"fill",!1)},p.prototype.stroke=function(){z.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(R,J){if(isNaN(R)||isNaN(J))throw Nn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new l(R,J));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new l(R,J)},p.prototype.closePath=function(){var R=new l(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&dn(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){R=new l(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(R.x,R.y)},p.prototype.lineTo=function(R,J){if(isNaN(R)||isNaN(J))throw Nn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new l(R,J));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new l(ee.x,ee.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},p.prototype.quadraticCurveTo=function(R,J,ee,ae){if(isNaN(ee)||isNaN(ae)||isNaN(R)||isNaN(J))throw Nn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var be=this.ctx.transform.applyToPoint(new l(ee,ae)),je=this.ctx.transform.applyToPoint(new l(R,J));this.path.push({type:"qct",x1:je.x,y1:je.y,x:be.x,y:be.y}),this.ctx.lastPoint=new l(be.x,be.y)},p.prototype.bezierCurveTo=function(R,J,ee,ae,be,je){if(isNaN(be)||isNaN(je)||isNaN(R)||isNaN(J)||isNaN(ee)||isNaN(ae))throw Nn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new l(be,je)),ge=this.ctx.transform.applyToPoint(new l(R,J)),Ie=this.ctx.transform.applyToPoint(new l(ee,ae));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Ie.x,y2:Ie.y,x:de.x,y:de.y}),this.ctx.lastPoint=new l(de.x,de.y)},p.prototype.arc=function(R,J,ee,ae,be,je){if(isNaN(R)||isNaN(J)||isNaN(ee)||isNaN(ae)||isNaN(be))throw Nn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(je=!!je,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new l(R,J));R=de.x,J=de.y;var ge=this.ctx.transform.applyToPoint(new l(0,ee)),Ie=this.ctx.transform.applyToPoint(new l(0,0));ee=Math.sqrt(Math.pow(ge.x-Ie.x,2)+Math.pow(ge.y-Ie.y,2))}Math.abs(be-ae)>=2*Math.PI&&(ae=0,be=2*Math.PI),this.path.push({type:"arc",x:R,y:J,radius:ee,startAngle:ae,endAngle:be,counterclockwise:je})},p.prototype.arcTo=function(R,J,ee,ae,be){throw new Error("arcTo not implemented.")},p.prototype.rect=function(R,J,ee,ae){if(isNaN(R)||isNaN(J)||isNaN(ee)||isNaN(ae))throw Nn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,J),this.lineTo(R+ee,J),this.lineTo(R+ee,J+ae),this.lineTo(R,J+ae),this.lineTo(R,J),this.lineTo(R+ee,J),this.lineTo(R,J)},p.prototype.fillRect=function(R,J,ee,ae){if(isNaN(R)||isNaN(J)||isNaN(ee)||isNaN(ae))throw Nn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var be={};this.lineCap!=="butt"&&(be.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(be.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,J,ee,ae),this.fill(),be.hasOwnProperty("lineCap")&&(this.lineCap=be.lineCap),be.hasOwnProperty("lineJoin")&&(this.lineJoin=be.lineJoin)}},p.prototype.strokeRect=function(R,J,ee,ae){if(isNaN(R)||isNaN(J)||isNaN(ee)||isNaN(ae))throw Nn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(R,J,ee,ae),this.stroke())},p.prototype.clearRect=function(R,J,ee,ae){if(isNaN(R)||isNaN(J)||isNaN(ee)||isNaN(ae))throw Nn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,J,ee,ae))},p.prototype.save=function(R){R=typeof R!="boolean"||R;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},p.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(J),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(R){var J,ee,ae,be;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))J=0,ee=0,ae=0,be=0;else{var je=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(je!==null)J=parseInt(je[1]),ee=parseInt(je[2]),ae=parseInt(je[3]),be=1;else if((je=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)J=parseInt(je[1]),ee=parseInt(je[2]),ae=parseInt(je[3]),be=parseFloat(je[4]);else{if(be=1,typeof R=="string"&&R.charAt(0)!=="#"){var de=new zF(R);R=de.ok?de.toHex():"#000000"}R.length===4?(J=R.substring(1,2),J+=J,ee=R.substring(2,3),ee+=ee,ae=R.substring(3,4),ae+=ae):(J=R.substring(1,3),ee=R.substring(3,5),ae=R.substring(5,7)),J=parseInt(J,16),ee=parseInt(ee,16),ae=parseInt(ae,16)}}return{r:J,g:ee,b:ae,a:be,style:R}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(R,J,ee,ae){if(isNaN(J)||isNaN(ee)||typeof R!="string")throw Nn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!g.call(this)){var be=se(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;I.call(this,{text:R,x:J,y:ee,scale:je,angle:be,align:this.textAlign,maxWidth:ae})}},p.prototype.strokeText=function(R,J,ee,ae){if(isNaN(J)||isNaN(ee)||typeof R!="string")throw Nn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){ae=isNaN(ae)?void 0:ae;var be=se(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;I.call(this,{text:R,x:J,y:ee,scale:je,renderingMode:"stroke",angle:be,align:this.textAlign,maxWidth:ae})}},p.prototype.measureText=function(R){if(typeof R!="string")throw Nn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,ee=this.pdf.internal.scaleFactor,ae=J.internal.getFontSize(),be=J.getStringUnitWidth(R)*ae/J.internal.scaleFactor;return new function(je){var de=(je=je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return de}}),this}({width:be*=Math.round(96*ee/72*1e4)/1e4})},p.prototype.scale=function(R,J){if(isNaN(R)||isNaN(J))throw Nn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new d(R,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},p.prototype.rotate=function(R){if(isNaN(R))throw Nn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new d(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},p.prototype.translate=function(R,J){if(isNaN(R)||isNaN(J))throw Nn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new d(1,0,0,1,R,J);this.ctx.transform=this.ctx.transform.multiply(ee)},p.prototype.transform=function(R,J,ee,ae,be,je){if(isNaN(R)||isNaN(J)||isNaN(ee)||isNaN(ae)||isNaN(be)||isNaN(je))throw Nn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new d(R,J,ee,ae,be,je);this.ctx.transform=this.ctx.transform.multiply(de)},p.prototype.setTransform=function(R,J,ee,ae,be,je){R=isNaN(R)?1:R,J=isNaN(J)?0:J,ee=isNaN(ee)?0:ee,ae=isNaN(ae)?1:ae,be=isNaN(be)?0:be,je=isNaN(je)?0:je,this.ctx.transform=new d(R,J,ee,ae,be,je)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(R,J,ee,ae,be,je,de,ge,Ie){var Ve=this.pdf.getImageProperties(R),Re=1,mt=1,$=1,ie=1;ae!==void 0&&ge!==void 0&&($=ge/ae,ie=Ie/be,Re=Ve.width/ae*ge/ae,mt=Ve.height/be*Ie/be),je===void 0&&(je=J,de=ee,J=0,ee=0),ae!==void 0&&ge===void 0&&(ge=ae,Ie=be),ae===void 0&&ge===void 0&&(ge=Ve.width,Ie=Ve.height);for(var Pe,xe=this.ctx.transform.decompose(),he=se(xe.rotate.shx),ve=new d,ze=(ve=(ve=(ve=ve.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale)).applyToRectangle(new c(je-J*$,de-ee*ie,ae*Re,be*mt)),De=_.call(this,ze),Ce=[],Ye=0;Ye<De.length;Ye+=1)Ce.indexOf(De[Ye])===-1&&Ce.push(De[Ye]);if(C(Ce),this.autoPaging)for(var ot=Ce[0],Qe=Ce[Ce.length-1],ct=ot;ct<Qe+1;ct++){this.pdf.setPage(ct);var Tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=ct===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=ct===1?0:Se+(ct-2)*Le;if(this.ctx.clip_path.length!==0){var xt=this.path;Pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Pe,this.posX+this.margin[3],-Xe+bt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=xt}var ht=JSON.parse(JSON.stringify(ze));ht=E([ht],this.posX+this.margin[3],-Xe+bt+this.ctx.prevPageLastElemOffset)[0];var ft=(ct>ot||ct<Qe)&&v.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tt,Le,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",ht.x,ht.y,ht.w,ht.h,null,null,he),ft&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",ze.x,ze.y,ze.w,ze.h,null,null,he)};var _=function(R,J,ee){var ae=[];J=J||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var be=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ae.push(Math.floor((R.y+be)/ee)+1);break;case"arc":ae.push(Math.floor((R.y+be-R.radius)/ee)+1),ae.push(Math.floor((R.y+be+R.radius)/ee)+1);break;case"qct":var je=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ae.push(Math.floor((je.y+be)/ee)+1),ae.push(Math.floor((je.y+je.h+be)/ee)+1);break;case"bct":var de=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ae.push(Math.floor((de.y+be)/ee)+1),ae.push(Math.floor((de.y+de.h+be)/ee)+1);break;case"rect":ae.push(Math.floor((R.y+be)/ee)+1),ae.push(Math.floor((R.y+R.h+be)/ee)+1)}for(var ge=0;ge<ae.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ge];)j.call(this);return ae},j=function(){var R=this.fillStyle,J=this.strokeStyle,ee=this.font,ae=this.lineCap,be=this.lineWidth,je=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=J,this.font=ee,this.lineCap=ae,this.lineWidth=be,this.lineJoin=je},E=function(R,J,ee){for(var ae=0;ae<R.length;ae++)switch(R[ae].type){case"bct":R[ae].x2+=J,R[ae].y2+=ee;case"qct":R[ae].x1+=J,R[ae].y1+=ee;default:R[ae].x+=J,R[ae].y+=ee}return R},C=function(R){return R.sort(function(J,ee){return J-ee})},z=function(R,J){for(var ee,ae,be=this.fillStyle,je=this.strokeStyle,de=this.lineCap,ge=this.lineWidth,Ie=Math.abs(ge*this.ctx.transform.scaleX),Ve=this.lineJoin,Re=JSON.parse(JSON.stringify(this.path)),mt=JSON.parse(JSON.stringify(this.path)),$=[],ie=0;ie<mt.length;ie++)if(mt[ie].x!==void 0)for(var Pe=_.call(this,mt[ie]),xe=0;xe<Pe.length;xe+=1)$.indexOf(Pe[xe])===-1&&$.push(Pe[xe]);for(var he=0;he<$.length;he++)for(;this.pdf.internal.getNumberOfPages()<$[he];)j.call(this);if(C($),this.autoPaging)for(var ve=$[0],ze=$[$.length-1],De=ve;De<ze+1;De++){this.pdf.setPage(De),this.fillStyle=be,this.strokeStyle=je,this.lineCap=de,this.lineWidth=Ie,this.lineJoin=Ve;var Ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=De===1?this.posY+this.margin[0]:this.margin[0],ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=De===1?0:ot+(De-2)*Qe;if(this.ctx.clip_path.length!==0){var Tt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(ee,this.posX+this.margin[3],-ct+Ye+this.ctx.prevPageLastElemOffset),P.call(this,R,!0),this.path=Tt}if(ae=JSON.parse(JSON.stringify(Re)),this.path=E(ae,this.posX+this.margin[3],-ct+Ye+this.ctx.prevPageLastElemOffset),J===!1||De===0){var bt=(De>ve||De<ze)&&v.call(this);bt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ce,Qe,null).clip().discardPath()),P.call(this,R,J),bt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Ie,P.call(this,R,J),this.lineWidth=ge;this.path=Re},P=function(R,J){if((R!=="stroke"||J||!w.call(this))&&(R==="stroke"||J||!g.call(this))){for(var ee,ae,be=[],je=this.path,de=0;de<je.length;de++){var ge=je[de];switch(ge.type){case"begin":be.push({begin:!0});break;case"close":be.push({close:!0});break;case"mt":be.push({start:ge,deltas:[],abs:[]});break;case"lt":var Ie=be.length;if(je[de-1]&&!isNaN(je[de-1].x)&&(ee=[ge.x-je[de-1].x,ge.y-je[de-1].y],Ie>0)){for(;Ie>=0;Ie--)if(be[Ie-1].close!==!0&&be[Ie-1].begin!==!0){be[Ie-1].deltas.push(ee),be[Ie-1].abs.push(ge);break}}break;case"bct":ee=[ge.x1-je[de-1].x,ge.y1-je[de-1].y,ge.x2-je[de-1].x,ge.y2-je[de-1].y,ge.x-je[de-1].x,ge.y-je[de-1].y],be[be.length-1].deltas.push(ee);break;case"qct":var Ve=je[de-1].x+2/3*(ge.x1-je[de-1].x),Re=je[de-1].y+2/3*(ge.y1-je[de-1].y),mt=ge.x+2/3*(ge.x1-ge.x),$=ge.y+2/3*(ge.y1-ge.y),ie=ge.x,Pe=ge.y;ee=[Ve-je[de-1].x,Re-je[de-1].y,mt-je[de-1].x,$-je[de-1].y,ie-je[de-1].x,Pe-je[de-1].y],be[be.length-1].deltas.push(ee);break;case"arc":be.push({deltas:[],abs:[],arc:!0}),Array.isArray(be[be.length-1].abs)&&be[be.length-1].abs.push(ge)}}ae=J?null:R==="stroke"?"stroke":"fill";for(var xe=!1,he=0;he<be.length;he++)if(be[he].arc)for(var ve=be[he].abs,ze=0;ze<ve.length;ze++){var De=ve[ze];De.type==="arc"?M.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,J,!xe):B.call(this,De.x,De.y),xe=!0}else if(be[he].close===!0)this.pdf.internal.out("h"),xe=!1;else if(be[he].begin!==!0){var Ce=be[he].start.x,Ye=be[he].start.y;k.call(this,be[he].deltas,Ce,Ye),xe=!0}ae&&D.call(this,ae),J&&G.call(this)}},X=function(R){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-ee;case"top":return R+J-ee;case"hanging":return R+J-2*ee;case"middle":return R+J/2-ee;default:return R}},U=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(J,ee){this.colorStops.push([J,ee])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(R,J,ee,ae,be,je,de,ge,Ie){for(var Ve=Y.call(this,ee,ae,be,je),Re=0;Re<Ve.length;Re++){var mt=Ve[Re];Re===0&&(Ie?L.call(this,mt.x1+R,mt.y1+J):B.call(this,mt.x1+R,mt.y1+J)),re.call(this,R,J,mt.x2,mt.y2,mt.x3,mt.y3,mt.x4,mt.y4)}ge?G.call(this):D.call(this,de)},D=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(R,J){this.pdf.internal.out(r(R)+" "+n(J)+" m")},I=function(R){var J;switch(R.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var ee=this.pdf.getTextDimensions(R.text),ae=X.call(this,R.y),be=U.call(this,ae)-ee.h,je=this.ctx.transform.applyToPoint(new l(R.x,ae)),de=this.ctx.transform.decompose(),ge=new d;ge=(ge=(ge=ge.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Ie,Ve,Re,mt=this.ctx.transform.applyToRectangle(new c(R.x,ae,ee.w,ee.h)),$=ge.applyToRectangle(new c(R.x,be,ee.w,ee.h)),ie=_.call(this,$),Pe=[],xe=0;xe<ie.length;xe+=1)Pe.indexOf(ie[xe])===-1&&Pe.push(ie[xe]);if(C(Pe),this.autoPaging)for(var he=Pe[0],ve=Pe[Pe.length-1],ze=he;ze<ve+1;ze++){this.pdf.setPage(ze);var De=ze===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],ot=Ye-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],ct=Qe-this.margin[3],Tt=ze===1?0:Ce+(ze-2)*ot;if(this.ctx.clip_path.length!==0){var bt=this.path;Ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Ie,this.posX+this.margin[3],-1*Tt+De),P.call(this,"fill",!0),this.path=bt}var Se=E([JSON.parse(JSON.stringify($))],this.posX+this.margin[3],-Tt+De+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*R.scale),Re=this.lineWidth,this.lineWidth=Re*R.scale);var Le=this.autoPaging!=="text";if(Le||Se.y+Se.h<=Ye){if(Le||Se.y>=De&&Se.x<=Qe){var Xe=Le?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Qe-Se.x)[0],xt=E([JSON.parse(JSON.stringify(mt))],this.posX+this.margin[3],-Tt+De+this.ctx.prevPageLastElemOffset)[0],ht=Le&&(ze>he||ze<ve)&&v.call(this);ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,ot,null).clip().discardPath()),this.pdf.text(Xe,xt.x,xt.y,{angle:R.angle,align:J,renderingMode:R.renderingMode}),ht&&this.pdf.restoreGraphicsState()}}else Se.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-Se.y);R.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Re)}else R.scale>=.01&&(Ve=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ve*R.scale),Re=this.lineWidth,this.lineWidth=Re*R.scale),this.pdf.text(R.text,je.x+this.posX,je.y+this.posY,{angle:R.angle,align:J,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Ve),this.lineWidth=Re)},B=function(R,J,ee,ae){ee=ee||0,ae=ae||0,this.pdf.internal.out(r(R+ee)+" "+n(J+ae)+" l")},k=function(R,J,ee){return this.pdf.lines(R,J,ee,null,null)},re=function(R,J,ee,ae,be,je,de,ge){this.pdf.internal.out([e(i(ee+R)),e(a(ae+J)),e(i(be+R)),e(a(je+J)),e(i(de+R)),e(a(ge+J)),"c"].join(" "))},Y=function(R,J,ee,ae){for(var be=2*Math.PI,je=Math.PI/2;J>ee;)J-=be;var de=Math.abs(ee-J);de<be&&ae&&(de=be-de);for(var ge=[],Ie=ae?-1:1,Ve=J;de>1e-5;){var Re=Ve+Ie*Math.min(de,je);ge.push(Q.call(this,R,Ve,Re)),de-=Math.abs(Re-Ve),Ve=Re}return ge},Q=function(R,J,ee){var ae=(ee-J)/2,be=R*Math.cos(ae),je=R*Math.sin(ae),de=be,ge=-je,Ie=de*de+ge*ge,Ve=Ie+de*be+ge*je,Re=4/3*(Math.sqrt(2*Ie*Ve)-Ve)/(de*je-ge*be),mt=de-Re*ge,$=ge+Re*de,ie=mt,Pe=-$,xe=ae+J,he=Math.cos(xe),ve=Math.sin(xe);return{x1:R*Math.cos(J),y1:R*Math.sin(J),x2:mt*he-$*ve,y2:mt*ve+$*he,x3:ie*he-Pe*ve,y3:ie*ve+Pe*he,x4:R*Math.cos(ee),y4:R*Math.sin(ee)}},se=function(R){return 180*R/Math.PI},oe=function(R,J,ee,ae,be,je){var de=R+.5*(ee-R),ge=J+.5*(ae-J),Ie=be+.5*(ee-be),Ve=je+.5*(ae-je),Re=Math.min(R,be,de,Ie),mt=Math.max(R,be,de,Ie),$=Math.min(J,je,ge,Ve),ie=Math.max(J,je,ge,Ve);return new c(Re,$,mt-Re,ie-$)},pe=function(R,J,ee,ae,be,je,de,ge){var Ie,Ve,Re,mt,$,ie,Pe,xe,he,ve,ze,De,Ce,Ye,ot=ee-R,Qe=ae-J,ct=be-ee,Tt=je-ae,bt=de-be,Se=ge-je;for(Ve=0;Ve<41;Ve++)he=(Pe=(Re=R+(Ie=Ve/40)*ot)+Ie*(($=ee+Ie*ct)-Re))+Ie*($+Ie*(be+Ie*bt-$)-Pe),ve=(xe=(mt=J+Ie*Qe)+Ie*((ie=ae+Ie*Tt)-mt))+Ie*(ie+Ie*(je+Ie*Se-ie)-xe),Ve==0?(ze=he,De=ve,Ce=he,Ye=ve):(ze=Math.min(ze,he),De=Math.min(De,ve),Ce=Math.max(Ce,he),Ye=Math.max(Ye,ve));return new c(Math.round(ze),Math.round(De),Math.round(Ce-ze),Math.round(Ye-De))},H=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,J,ee=(R=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:J}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Gt.API),(function(t){var e=function(l){var c,d,h,f,p,x,g,w,v,_;for(d=[],h=0,f=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;f>h;h+=4)(p=(l.charCodeAt(h)<<24)+(l.charCodeAt(h+1)<<16)+(l.charCodeAt(h+2)<<8)+l.charCodeAt(h+3))!==0?(x=(p=((p=((p=((p=(p-(_=p%85))/85)-(v=p%85))/85)-(w=p%85))/85)-(g=p%85))/85)%85,d.push(x+33,g+33,w+33,v+33,_+33)):d.push(122);return(function(j,E){for(var C=E;C>0;C--)j.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},r=function(l){var c,d,h,f,p,x=String,g="length",w=255,v="charCodeAt",_="slice",j="replace";for(l[_](-2),l=l[_](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),h=[],f=0,p=(l+=c="uuuuu"[_](l[g]%5||5))[g];p>f;f+=5)d=52200625*(l[v](f)-33)+614125*(l[v](f+1)-33)+7225*(l[v](f+2)-33)+85*(l[v](f+3)-33)+(l[v](f+4)-33),h.push(w&d>>24,w&d>>16,w&d>>8,w&d);return(function(E,C){for(var z=C;z>0;z--)E.pop()})(h,c[g]),x.fromCharCode.apply(x,h)},n=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",h=0;h<l.length;h+=2)d+=String.fromCharCode("0x"+(l[h]+l[h+1]));return d},a=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=KN(c)).reduce(function(h,f){return h+String.fromCharCode(f)},"")};t.processDataByFilters=function(l,c){var d=0,h=l||"",f=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=i(h),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=a(h),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:h,reverseChain:f.reverse().join(" ")}}})(Gt.API),(function(t){t.loadFile=function(e,r,n){return(function(i,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(d,h,f){var p=new XMLHttpRequest,x=0,g=function(w){var v=w.length,_=[],j=String.fromCharCode;for(x=0;x<v;x+=1)_.push(j(255&w.charCodeAt(x)));return _.join("")};if(p.open("GET",d,!h),p.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(p.onload=function(){p.status===200?f(g(this.responseText)):f(void 0)}),p.send(null),h&&p.status===200)return g(p.responseText)})(i,a,l)}catch{}return c})(e,r,n)},t.loadImageFile=t.loadFile})(Gt.API),(function(t){function e(){return(lr.html2canvas?Promise.resolve(lr.html2canvas):e_(()=>import("./html2canvas.esm-B0tyYwQk.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(lr.DOMPurify?Promise.resolve(lr.DOMPurify):e_(()=>import("./purify.es-B6FQ9oRL.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=dn(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},i=function(c,d){var h=document.createElement(c);for(var f in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[f]=d.style[f];return h},a=function c(d,h){for(var f=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),p=d.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(c(p,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(f.width=d.width,f.height=d.height,f.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(f.value=d.value),f.addEventListener("load",function(){f.scrollTop=d.scrollTop,f.scrollLeft=d.scrollLeft},!0)),f},l=function c(d){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),f=c.convert(Promise.resolve(),h);return(f=f.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(r).then(function(h){return this.set({src:i("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var h=this.opt.jsPDF,f=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var w=f[g],v=w.src.find(function(_){return _.format==="truetype"});v&&h.addFont(v.url,w.ref.name,w.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,h.context2d.save(!0),d(this.prop.container,x)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(n(c)!=="object")return this;var d=Object.keys(c||{}).map(function(h){if(h in l.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var h=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(h):h})},l.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(h,f){return Math.floor(h*f/72*96)}return this.then(function(){(c=c||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,h,f){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,h,f){return this.setProgress(c?this.progress.val+c:null,d||null,h?this.progress.n+h:null,f?this.progress.stack.concat(f):null)},l.prototype.then=function(c,d){var h=this;return this.thenCore(c,d,function(f,p){return h.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return h.updateProgress(null,f),x}).then(f,p).then(function(x){return h.updateProgress(1),x})})},l.prototype.thenCore=function(c,d,h){h=h||Promise.prototype.then;var f=this;c&&(c=c.bind(f)),d&&(d=d.bind(f));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:l.convert(Object.assign({},f),Promise.prototype),x=h.call(p,c,d);return l.convert(x,f.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(h){d=d.thenCore(h)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Gt.getPageSize=function(c,d,h){if(dn(c)==="object"){var f=c;c=f.orientation,d=f.unit||d,h=f.format||h}d=d||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var p,x=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+d}var w,v=0,_=0;if(g.hasOwnProperty(x))v=g[x][1]/p,_=g[x][0]/p;else try{v=h[1],_=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",_>v&&(w=_,_=v,v=w);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",v>_&&(w=_,_=v,v=w)}return{width:_,height:v,unit:d,k:p,orientation:c}},t.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(x_):null;var h=new l(d);return d.worker?h:h.from(c).doCallback()}})(Gt.API),Gt.API.addJS=function(t){return w8=t,this.internal.events.subscribe("postPutResources",function(){Vx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Vx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),b8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Vx!==void 0&&b8!==void 0&&this.internal.out("/Names <</JavaScript "+Vx+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var l=i[a],c=n.exec(l);if(c!=null){var d=c[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,f=[];for(a=0;a<h;a++){var p=r.internal.newObject();f.push(p);var x=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<f.length;a++)r.internal.write("(page_"+(a+1)+")"+f[a]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var l={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var l=n.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])})(Gt.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,a,l,c){var d,h=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=(function(p){for(var x,g=256*p.charCodeAt(4)+p.charCodeAt(5),w=p.length,v={width:0,height:0,numcomponents:1},_=4;_<w;_+=2){if(_+=g,e.indexOf(p.charCodeAt(_+1))!==-1){x=256*p.charCodeAt(_+5)+p.charCodeAt(_+6),v={width:256*p.charCodeAt(_+7)+p.charCodeAt(_+8),height:x,numcomponents:p.charCodeAt(_+9)};break}g=256*p.charCodeAt(_+2)+p.charCodeAt(_+3)}return v})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}f={data:r,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:h,index:n,alias:i}}return f}})(Gt.API),Gt.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var i,a=wxe(t,{checkCrc:!0}),l=a.width,c=a.height,d=a.channels,h=a.palette,f=a.depth;i=h&&d===1?(function(M){for(var D=M.width,G=M.height,L=M.data,I=M.palette,B=M.depth,k=!1,re=[],Y=[],Q=void 0,se=!1,oe=0,pe=0;pe<I.length;pe++){var H=SP(I[pe],4),R=H[0],J=H[1],ee=H[2],ae=H[3];re.push(R,J,ee),ae!=null&&(ae===0?(oe++,Y.length<1&&Y.push(pe)):ae<255&&(se=!0))}if(se||oe>1){k=!0,Y=void 0;var be=D*G;Q=new Uint8Array(be);for(var je=new DataView(L.buffer),de=0;de<be;de++){var ge=b_(je,de,B),Ie=SP(I[ge],4)[3];Q[de]=Ie}}else oe===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:k?8:void 0,colorBytes:L,alphaBytes:Q,needSMask:k,palette:re,mask:Y}})(a):d===2||d===4?(function(M){for(var D=M.data,G=M.width,L=M.height,I=M.channels,B=M.depth,k=I===2?"DeviceGray":"DeviceRGB",re=I-1,Y=G*L,Q=re,se=Y*Q,oe=1*Y,pe=Math.ceil(se*B/8),H=Math.ceil(oe*B/8),R=new Uint8Array(pe),J=new Uint8Array(H),ee=new DataView(D.buffer),ae=new DataView(R.buffer),be=new DataView(J.buffer),je=!1,de=0;de<Y;de++){for(var ge=de*I,Ie=0;Ie<Q;Ie++)k8(ae,b_(ee,ge+Ie,B),de*Q+Ie,B);var Ve=b_(ee,ge+Q,B);Ve<(1<<B)-1&&(je=!0),k8(be,Ve,1*de,B)}return{colorSpace:k,colorsPerPixel:re,sMaskBitsPerComponent:je?B:void 0,colorBytes:R,alphaBytes:J,needSMask:je}})(a):(function(M){var D=M.data,G=M.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:D instanceof Uint16Array?(function(L){for(var I=L.length,B=new Uint8Array(2*I),k=new DataView(B.buffer,B.byteOffset,B.byteLength),re=0;re<I;re++)k.setUint16(2*re,L[re],!1);return B})(D):D,needSMask:!1}})(a);var p,x,g,w=i,v=w.colorSpace,_=w.colorsPerPixel,j=w.sMaskBitsPerComponent,E=w.colorBytes,C=w.alphaBytes,z=w.needSMask,P=w.palette,X=w.mask,U=null;return n!==Gt.API.image_compression.NONE&&typeof KN=="function"?(U=(function(M){var D;switch(M){case Gt.API.image_compression.FAST:D=11;break;case Gt.API.image_compression.MEDIUM:D=13;break;case Gt.API.image_compression.SLOW:D=14;break;default:D=12}return D})(n),p=this.decode.FLATE_DECODE,x="/Predictor ".concat(U," /Colors ").concat(_," /BitsPerComponent ").concat(f," /Columns ").concat(l),t=S8(E,Math.ceil(l*_*f/8),_,f,n),z&&(g=S8(C,Math.ceil(l*j/8),1,j,n))):(p=void 0,x=void 0,t=E,z&&(g=C)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:t,index:e,filter:p,decodeParameters:x,transparency:X,palette:P,sMask:g,predictor:U,width:l,height:c,bitsPerComponent:f,sMaskBitsPerComponent:j,colorSpace:v}}},(function(t){t.processGIF89A=function(e,r,n,i){var a=new Vxe(e),l=a.width,c=a.height,d=[];a.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:l,height:c},f=new w_(100).encode(h,100);return t.processJPEG.call(this,f,r,n,i)},t.processGIF87A=t.processGIF89A})(Gt.API),Xl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Xl.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Nn.log("bit decode error:"+r)}},Xl.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*i*4,c=0;c<8&&8*i+c<this.width;c++){var d=this.palette[a>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}r!==0&&(this.pos+=4-r)}},Xl.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var a=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*i*4,c=a>>4,d=15&a,h=this.palette[c];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*i+1>=this.width)break;h=this.palette[d],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Xl.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var l=this.palette[i];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},Xl.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,c=(a>>5&e)/e*255|0,d=(a>>10&e)/e*255|0,h=a>>15?255:0,f=n*this.width*4+4*i;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=h}this.pos+=t}},Xl.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&r)/r*255|0,h=(l>>11)/e*255|0,f=i*this.width*4+4*a;this.data[f]=h,this.data[f+1]=d,this.data[f+2]=c,this.data[f+3]=255}this.pos+=t}},Xl.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},Xl.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=a,this.data[c+1]=i,this.data[c+2]=n,this.data[c+3]=l}},Xl.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,i){var a=new Xl(e,!1),l=a.width,c=a.height,d={data:a.getData(),width:l,height:c},h=new w_(100).encode(d,100);return t.processJPEG.call(this,h,r,n,i)}})(Gt.API),P8.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,i){var a=new P8(e),l=a.width,c=a.height,d={data:a.getData(),width:l,height:c},h=new w_(100).encode(d,100);return t.processJPEG.call(this,h,r,n,i)}})(Gt.API),Gt.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,a=new Uint8Array(i/4*3),l=new Uint8Array(i/4),c=0,d=0,h=0;h<i;h+=4){var f=n[h],p=n[h+1],x=n[h+2],g=n[h+3];a[c++]=f,a[c++]=p,a[c++]=x,l[d++]=g}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Gt.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Pm=Gt.API,qx=Pm.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:i.metadata.Unicode.widths,d=c.fof?c.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=h.fof?h.fof:1,p=e.doKerning!==!1,x=0,g=t.length,w=0,v=c[0]||d,_=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+l*(1e3/a)||0)/1e3):(x=p&&dn(h[n])==="object"&&!isNaN(parseInt(h[n][w],10))?h[n][w]/f:0,_.push((c[n]||v)/d+x)),w=n;return _},_8=Pm.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Pm.processArabic&&(t=Pm.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:qx.apply(this,arguments).reduce(function(a,l){return a+l},0)},N8=function(t,e,r,n){for(var i=[],a=0,l=t.length,c=0;a!==l&&c+e[a]<r;)c+=e[a],a++;i.push(t.slice(0,a));var d=a;for(c=0;a!==l;)c+e[a]>n&&(i.push(t.slice(d,a)),c=0,d=a),c+=e[a],a++;return d!==a&&i.push(t.slice(d,a)),i},j8=function(t,e,r){r||(r={});var n,i,a,l,c,d,h,f=[],p=[f],x=r.textIndent||0,g=0,w=0,v=t.split(" "),_=qx.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var j=Array(d).join(" "),E=[];v.map(function(z){(z=z.split(/\s*\n/)).length>1?E=E.concat(z.map(function(P,X){return(X&&P.length?`
`:"")+P})):E.push(z[0])}),v=E,d=_8.apply(this,[j,r])}for(a=0,l=v.length;a<l;a++){var C=0;if(n=v[a],d&&n[0]==`
`&&(n=n.substr(1),C=1),x+g+(w=(i=qx.apply(this,[n,r])).reduce(function(z,P){return z+P},0))>e||C){if(w>e){for(c=N8.apply(this,[n,i,e-(x+g),e]),f.push(c.shift()),f=[c.pop()];c.length;)p.push([c.shift()]);w=i.slice(n.length-(f[0]?f[0].length:0)).reduce(function(z,P){return z+P},0)}else f=[n];p.push(f),x=w+d,g=_}else f.push(n),x+=g+w,g=_}return h=d?function(z,P){return(P?j:"")+z.join(" ")}:function(z){return z.join(" ")},p.map(h)},Pm.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var p=this.internal.getFont(f.fontName,f.fontStyle),x="Unicode";return p.metadata[x]?{widths:p.metadata[x].widths||{0:1},kerning:p.metadata[x].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var c,d,h=[];for(c=0,d=n.length;c<d;c++)h=h.concat(j8.apply(this,[n[c],l,a]));return h},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=e[a],i[e[a]]=r[a];var l=function(x){return"0x"+parseInt(x,10).toString(16)},c=t.__fontmetrics__.compress=function(x){var g,w,v,_,j=["{"];for(var E in x){if(g=x[E],isNaN(parseInt(E,10))?w="'"+E+"'":(E=parseInt(E,10),w=(w=l(E).slice(2)).slice(0,-1)+i[w.slice(-1)]),typeof g=="number")g<0?(v=l(g).slice(3),_="-"):(v=l(g).slice(2),_=""),v=_+v.slice(0,-1)+i[v.slice(-1)];else{if(dn(g)!=="object")throw new Error("Don't know what to do with value type "+dn(g)+".");v=c(g)}j.push(w+v)}return j.push("}"),j.join("")},d=t.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,w,v,_,j={},E=1,C=j,z=[],P="",X="",U=x.length-1,M=1;M<U;M+=1)(_=x[M])=="'"?g?(v=g.join(""),g=void 0):g=[]:g?g.push(_):_=="{"?(z.push([C,v]),C={},v=void 0):_=="}"?((w=z.pop())[0][w[1]]=C,v=void 0,C=w[0]):_=="-"?E=-1:v===void 0?n.hasOwnProperty(_)?(P+=n[_],v=parseInt(P,16)*E,E=1,P=""):P+=_:n.hasOwnProperty(_)?(X+=n[_],C[v]=parseInt(X,16)*E,E=1,v=void 0,X=""):X+=_;return j},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},p={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(x){var g=x.font,w=p.Unicode[g.postScriptName];w&&(g.metadata.Unicode={},g.metadata.Unicode.widths=w.widths,g.metadata.Unicode.kerning=w.kerning);var v=f.Unicode[g.postScriptName];v&&(g.metadata.Unicode.encoding=v,g.encoding=v.codePages[0])}])})(Gt.API),(function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(av(c)),l.metadata=t.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,n)}}])})(Gt),Gt.API.addSvgAsImage=function(t,e,r,n,i,a,l,c){if(isNaN(e)||isNaN(r))throw Nn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw Nn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=i;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(lr.canvg?Promise.resolve(lr.canvg):e_(()=>import("./index.es-D7_ylReQ.js"),[])).catch(function(x){return Promise.reject(new Error("Could not load canvg: "+x))}).then(function(x){return x.default?x.default:x}).then(function(x){return x.fromString(h,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(f)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),e,r,n,i,l,c)})},Gt.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Gt.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],h=0,f=0,p=0;function x(w,v){var _,j=!1;for(_=0;_<w.length;_+=1)w[_]===v&&(j=!0);return j}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=c.length;for(p=0;p<g;p+=1)r[c[p]].value=r[c[p]].defaultValue,r[c[p]].explicitSet=!1}if(dn(t)==="object"){for(i in t)if(a=t[i],x(c,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&x(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(h=0;h<a.length;h+=1)if(n=!0,a[h].length===1&&typeof a[h][0]=="number")d.push(String(a[h]-1));else if(a[h].length>1){for(f=0;f<a[h].length;f+=1)typeof a[h][f]!="number"&&(n=!1);n===!0&&d.push([a[h][0]-1,a[h][1]-1].join(" "))}r[i].value="["+d.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,v=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?v.push("/"+w+" /"+r[w].value):v.push("/"+w+" "+r[w].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=a.length+l.length+c.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+a+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Gt.API),(function(t){var e=t.API,r=e.pdfEscape16=function(a,l){for(var c,d=l.metadata.Unicode.widths,h=["","0","00","000","0000"],f=[""],p=0,x=a.length;p<x;++p){if(c=l.metadata.characterToGlyph(a.charCodeAt(p)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=a.charCodeAt(p),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return f.join("");c=c.toString(16),f.push(h[4-c.length],c)}return f.join("")},n=function(a){var l,c,d,h,f,p,x;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],p=0,x=(c=Object.keys(a).sort(function(g,w){return g-w})).length;p<x;p++)l=c[p],d.length>=100&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(h=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+h+">"));return d.length&&(f+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var c=l.font,d=l.out,h=l.newObject,f=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="Identity-H"){for(var p=c.metadata.Unicode.widths,x=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",w=0;w<x.length;w++)g+=String.fromCharCode(x[w]);var v=h();f({data:g,addLength1:!0,objectId:v}),d("endobj");var _=h();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:_}),d("endobj");var j=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Fm(c.fontName)),d("/FontFile2 "+v+" 0 R"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var E=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+Fm(c.fontName)),d("/FontDescriptor "+j+" 0 R"),d("/W "+t.API.PDFObject.convert(p)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+_+" 0 R"),d("/BaseFont /"+Fm(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+E+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var c=l.font,d=l.out,h=l.newObject,f=l.putStream;if(c.metadata instanceof t.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var p=c.metadata.rawData,x="",g=0;g<p.length;g++)x+=String.fromCharCode(p[g]);var w=h();f({data:x,addLength1:!0,objectId:w}),d("endobj");var v=h();f({data:n(c.metadata.toUnicode),addLength1:!0,objectId:v}),d("endobj");var _=h();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+w+" 0 R"),d("/Flags 96"),d("/FontBBox "+t.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+Fm(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=h();for(var j=0;j<c.metadata.hmtx.widths.length;j++)c.metadata.hmtx.widths[j]=parseInt(c.metadata.hmtx.widths[j]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Fm(c.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(a)}]);var i=function(a){var l,c=a.text||"",d=a.x,h=a.y,f=a.options||{},p=a.mutex||{},x=p.pdfEscape,g=p.activeFontKey,w=p.fonts,v=g,_="",j=0,E="",C=w[v].encoding;if(w[v].encoding!=="Identity-H")return{text:c,x:d,y:h,options:f,mutex:p};for(E=c,v=g,Array.isArray(c)&&(E=c[0]),j=0;j<E.length;j+=1)w[v].metadata.hasOwnProperty("cmap")&&(l=w[v].metadata.cmap.unicode.codeMap[E[j].charCodeAt(0)]),l||E[j].charCodeAt(0)<256&&w[v].metadata.hasOwnProperty("Unicode")?_+=E[j]:_+="";var z="";return parseInt(v.slice(1))<14||C==="WinAnsiEncoding"?z=x(_,v).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(z=r(_,w[v])),p.isHex=!0,{text:z,x:d,y:h,options:f,mutex:p}};e.events.push(["postProcessText",function(a){var l=a.text||"",c=[],d={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?c.push([i(Object.assign({},d,{text:l[h][0]})).text,l[h][1],l[h][2]]):c.push(i(Object.assign({},d,{text:l[h]})).text);a.text=c}else a.text=i(Object.assign({},d,{text:l})).text}])})(Gt),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Gt.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,a,l,c,d,h,f,p=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],j=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,C=0;this.__bidiEngine__={};var z=function(L){var I=L.charCodeAt(),B=I>>8,k=v[B];return k!==void 0?p[256*k+(255&I)]:B===252||B===253?"AL":j.test(B)?"L":B===8?"R":"N"},P=function(L){for(var I,B=0;B<L.length;B++){if((I=z(L.charAt(B)))==="L")return!1;if(I==="R")return!0}return!1},X=function(L,I,B,k){var re,Y,Q,se,oe=I[k];switch(oe){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"N":case"AN":break;case"EN":E&&(oe="AN");break;case"AL":E=!0,oe="R";break;case"WS":case"BN":oe="N";break;case"CS":k<1||k+1>=I.length||(re=B[k-1])!=="EN"&&re!=="AN"||(Y=I[k+1])!=="EN"&&Y!=="AN"?oe="N":E&&(Y="AN"),oe=Y===re?Y:"N";break;case"ES":oe=(re=k>0?B[k-1]:"B")==="EN"&&k+1<I.length&&I[k+1]==="EN"?"EN":"N";break;case"ET":if(k>0&&B[k-1]==="EN"){oe="EN";break}if(E){oe="N";break}for(Q=k+1,se=I.length;Q<se&&I[Q]==="ET";)Q++;oe=Q<se&&I[Q]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(se=I.length,Q=k+1;Q<se&&I[Q]==="NSM";)Q++;if(Q<se){var pe=L[k],H=pe>=1425&&pe<=2303||pe===64286;if(re=I[Q],H&&(re==="R"||re==="AL")){oe="R";break}}}oe=k<1||(re=I[k-1])==="B"?"N":B[k-1];break;case"B":E=!1,i=!0,oe=C;break;case"S":a=!0,oe="N"}return oe},U=function(L,I,B){var k=L.split("");return B&&M(k,B,{hiLevel:C}),k.reverse(),I&&I.reverse(),k.join("")},M=function(L,I,B){var k,re,Y,Q,se,oe=-1,pe=L.length,H=0,R=[],J=C?g:x,ee=[];for(E=!1,i=!1,a=!1,re=0;re<pe;re++)ee[re]=z(L[re]);for(Y=0;Y<pe;Y++){if(se=H,R[Y]=X(L,ee,R,Y),k=240&(H=J[se][w[R[Y]]]),H&=15,I[Y]=Q=J[H][5],k>0)if(k===16){for(re=oe;re<Y;re++)I[re]=1;oe=-1}else oe=-1;if(J[H][6])oe===-1&&(oe=Y);else if(oe>-1){for(re=oe;re<Y;re++)I[re]=Q;oe=-1}ee[Y]==="B"&&(I[Y]=0),B.hiLevel|=Q}a&&(function(ae,be,je){for(var de=0;de<je;de++)if(ae[de]==="S"){be[de]=C;for(var ge=de-1;ge>=0&&ae[ge]==="WS";ge--)be[ge]=C}})(ee,I,pe)},D=function(L,I,B,k,re){if(!(re.hiLevel<L)){if(L===1&&C===1&&!i)return I.reverse(),void(B&&B.reverse());for(var Y,Q,se,oe,pe=I.length,H=0;H<pe;){if(k[H]>=L){for(se=H+1;se<pe&&k[se]>=L;)se++;for(oe=H,Q=se-1;oe<Q;oe++,Q--)Y=I[oe],I[oe]=I[Q],I[Q]=Y,B&&(Y=B[oe],B[oe]=B[Q],B[Q]=Y);H=se}H++}}},G=function(L,I,B){var k=L.split(""),re={hiLevel:C};return B||(B=[]),M(k,B,re),(function(Y,Q,se){if(se.hiLevel!==0&&f)for(var oe,pe=0;pe<Y.length;pe++)Q[pe]===1&&(oe=_.indexOf(Y[pe]))>=0&&(Y[pe]=_[oe+1])})(k,B,re),D(2,k,I,B,re),D(1,k,I,B,re),k.join("")};return this.__bidiEngine__.doBidiReorder=function(L,I,B){if((function(re,Y){if(Y)for(var Q=0;Q<re.length;Q++)Y[Q]=Q;c===void 0&&(c=P(re)),h===void 0&&(h=P(re))})(L,I),l||!d||h)if(l&&d&&c^h)C=c?1:0,L=U(L,I,B);else if(!l&&d&&h)C=c?1:0,L=G(L,I,B),L=U(L,I);else if(!l||c||d||h){if(l&&!d&&c^h)L=U(L,I),c?(C=0,L=G(L,I,B)):(C=1,L=G(L,I,B),L=U(L,I));else if(l&&c&&!d&&h)C=1,L=G(L,I,B),L=U(L,I);else if(!l&&!d&&c^h){var k=f;c?(C=1,L=G(L,I,B),C=0,f=!1,L=G(L,I,B),f=k):(C=0,L=G(L,I,B),L=U(L,I),C=1,f=!1,L=G(L,I,B),f=k,L=U(L,I))}}else C=0,L=G(L,I,B);else C=c?1:0,L=G(L,I,B);return L},this.__bidiEngine__.setOptions=function(L){L&&(l=L.isInputVisual,d=L.isOutputVisual,c=L.isInputRtl,h=L.isOutputRtl,f=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var l=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var c=0;for(l=[],c=0;c<i.length;c+=1)Object.prototype.toString.call(i[c])==="[object Array]"?l.push([r.doBidiReorder(i[c][0]),i[c][1],i[c][2]]):l.push([r.doBidiReorder(i[c])]);n.text=l}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])})(Gt),Gt.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new bh(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new nve(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new qxe(this.contents),this.head=new Hxe(this),this.name=new Xxe(this),this.cmap=new KF(this),this.toUnicode={},this.hhea=new Wxe(this),this.maxp=new Zxe(this),this.hmtx=new Qxe(this),this.post=new Yxe(this),this.os2=new Gxe(this),this.loca=new rve(this),this.glyf=new Jxe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,h;for(h=[],l=0,c=(d=this.bbox).length;l<c;l++)e=d[l],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,a,l,c;for(l=0,a=0,c=(e=""+e).length;0<=c?a<c:a>c;a=0<=c?++a:--a)i=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return l*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var fc,bh=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,a,l,c,d;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*l+256*c+d},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,a;for(a=[],n=0,i=e.length;n<i;n++)r=e[n],a.push(this.writeByte(r));return a},t})(),qxe=(function(){var t;function e(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,a,l,c,d,h,f,p,x,g,w,v;for(v in g=Object.keys(r).length,d=Math.log(2),p=16*Math.floor(Math.log(g)/d),l=Math.floor(p/d),f=16*g-p,(i=new bh).writeInt(this.scalarType),i.writeShort(g),i.writeShort(p),i.writeShort(l),i.writeShort(f),a=16*g,h=i.pos+a,c=null,w=[],r)for(x=r[v],i.writeString(v),i.writeInt(t(x)),i.writeInt(h),i.writeInt(x.length),w=w.concat(x),v==="head"&&(c=h),h+=x.length;h%4;)w.push(0),h++;return i.write(w),n=2981146554-t(i.data),i.pos=c+8,i.writeUInt32(n),i.data},t=function(r){var n,i,a,l;for(r=XF.call(r);r.length%4;)r.push(0);for(a=new bh(r),i=0,n=0,l=r.length;n<l;n=n+=4)i+=a.readUInt32();return 4294967295&i},e})(),$xe={}.hasOwnProperty,iu=function(t,e){for(var r in e)$xe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};fc=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var Hxe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new bh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),R8=(function(){function t(e,r){var n,i,a,l,c,d,h,f,p,x,g,w,v,_,j,E,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(g=e.readUInt16(),x=g/2,e.pos+=6,a=(function(){var z,P;for(P=[],d=z=0;0<=x?z<x:z>x;d=0<=x?++z:--z)P.push(e.readUInt16());return P})(),e.pos+=2,v=(function(){var z,P;for(P=[],d=z=0;0<=x?z<x:z>x;d=0<=x?++z:--z)P.push(e.readUInt16());return P})(),h=(function(){var z,P;for(P=[],d=z=0;0<=x?z<x:z>x;d=0<=x?++z:--z)P.push(e.readUInt16());return P})(),f=(function(){var z,P;for(P=[],d=z=0;0<=x?z<x:z>x;d=0<=x?++z:--z)P.push(e.readUInt16());return P})(),i=(this.length-e.pos+this.offset)/2,c=(function(){var z,P;for(P=[],d=z=0;0<=i?z<i:z>i;d=0<=i?++z:--z)P.push(e.readUInt16());return P})(),d=j=0,C=a.length;j<C;d=++j)for(_=a[d],n=E=w=v[d];w<=_?E<=_:E>=_;n=w<=_?++E:--E)f[d]===0?l=n+h[d]:(l=c[f[d]/2+(n-w)-(x-d)]||0)!==0&&(l+=h[d]),this.codeMap[n]=65535&l}e.pos=p}return t.encode=function(e,r){var n,i,a,l,c,d,h,f,p,x,g,w,v,_,j,E,C,z,P,X,U,M,D,G,L,I,B,k,re,Y,Q,se,oe,pe,H,R,J,ee,ae,be,je,de,ge,Ie,Ve,Re;switch(k=new bh,l=Object.keys(e).sort(function(mt,$){return mt-$}),r){case"macroman":for(v=0,_=(function(){var mt=[];for(w=0;w<256;++w)mt.push(0);return mt})(),E={0:0},a={},re=0,oe=l.length;re<oe;re++)E[ge=e[i=l[re]]]==null&&(E[ge]=++v),a[i]={old:e[i],new:E[e[i]]},_[i]=E[e[i]];return k.writeUInt16(1),k.writeUInt16(0),k.writeUInt32(12),k.writeUInt16(0),k.writeUInt16(262),k.writeUInt16(0),k.write(_),{charMap:a,subtable:k.data,maxGlyphID:v+1};case"unicode":for(I=[],p=[],C=0,E={},n={},j=h=null,Y=0,pe=l.length;Y<pe;Y++)E[P=e[i=l[Y]]]==null&&(E[P]=++C),n[i]={old:P,new:E[P]},c=E[P]-i,j!=null&&c===h||(j&&p.push(j),I.push(i),h=c),j=i;for(j&&p.push(j),p.push(65535),I.push(65535),G=2*(D=I.length),M=2*Math.pow(Math.log(D)/Math.LN2,2),x=Math.log(M/2)/Math.LN2,U=2*D-M,d=[],X=[],g=[],w=Q=0,H=I.length;Q<H;w=++Q){if(L=I[w],f=p[w],L===65535){d.push(0),X.push(0);break}if(L-(B=n[L].new)>=32768)for(d.push(0),X.push(2*(g.length+D-w)),i=se=L;L<=f?se<=f:se>=f;i=L<=f?++se:--se)g.push(n[i].new);else d.push(B-L),X.push(0)}for(k.writeUInt16(3),k.writeUInt16(1),k.writeUInt32(12),k.writeUInt16(4),k.writeUInt16(16+8*D+2*g.length),k.writeUInt16(0),k.writeUInt16(G),k.writeUInt16(M),k.writeUInt16(x),k.writeUInt16(U),je=0,R=p.length;je<R;je++)i=p[je],k.writeUInt16(i);for(k.writeUInt16(0),de=0,J=I.length;de<J;de++)i=I[de],k.writeUInt16(i);for(Ie=0,ee=d.length;Ie<ee;Ie++)c=d[Ie],k.writeUInt16(c);for(Ve=0,ae=X.length;Ve<ae;Ve++)z=X[Ve],k.writeUInt16(z);for(Re=0,be=g.length;Re<be;Re++)v=g[Re],k.writeUInt16(v);return{charMap:n,subtable:k.data,maxGlyphID:C+1}}},t})(),KF=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new R8(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,i;return r==null&&(r="macroman"),n=R8.encode(e,r),(i=new bh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},t})(),Wxe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Gxe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Yxe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)r=e.readByte(),i.push(this.names.push(e.readString(r)));return i;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var l,c,d;for(d=[],a=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;a=0<=c?++l:--l)d.push(e.readUInt32());return d}).call(this)}},t})(),Kxe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Xxe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,i,a,l,c,d,h,f,p,x;for(e.pos=this.offset,e.readShort(),r=e.readShort(),c=e.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(d={},a=f=0,p=n.length;f<p;a=++f)i=n[a],e.pos=i.offset,h=e.readString(i.length),l=new Kxe(h,i),d[x=i.nameID]==null&&(d[x]=[]),d[i.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},t})(),Zxe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Qxe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,i,a,l,c,d;for(e.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,f;for(f=[],r=h=0;0<=i?h<i:h>i;r=0<=i?++h:--h)f.push(e.readInt16());return f})(),this.widths=(function(){var h,f,p,x;for(x=[],h=0,f=(p=this.metrics).length;h<f;h++)a=p[h],x.push(a.advance);return x}).call(this),n=this.widths[this.widths.length-1],d=[],r=l=0;0<=i?l<i:l>i;r=0<=i?++l:--l)d.push(this.widths.push(n));return d},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),XF=[].slice,Jxe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,i,a,l,c,d,h,f,p;return e in this.cache?this.cache[e]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(e),(i=a.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,l=(c=new bh(r.read(i))).readShort(),h=c.readShort(),p=c.readShort(),d=c.readShort(),f=c.readShort(),this.cache[e]=l===-1?new tve(c,h,p,d,f):new eve(c,l,h,p,d,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var i,a,l,c,d;for(l=[],a=[],c=0,d=r.length;c<d;c++)i=e[r[c]],a.push(l.length),i&&(l=l.concat(i.encode(n)));return a.push(l.length),{table:l,offsets:a}},t})(),eve=(function(){function t(e,r,n,i,a,l){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=l,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),tve=(function(){function t(e,r,n,i,a){var l,c;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new bh(XF.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),rve=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return iu(t,fc),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,l=0;l<n.length;++l)if(n[l]=i,a<r.length&&r[a]==l){++a,n[l]=i;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(i+=d)}for(var h=new Array(4*n.length),f=0;f<n.length;++f)h[4*f+3]=255&n[f],h[4*f+2]=(65280&n[f])>>8,h[4*f+1]=(16711680&n[f])>>16,h[4*f]=(4278190080&n[f])>>24;return h},t})(),nve=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)n=a[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,a,l,c,d;for(i={},l=0,c=e.length;l<c;l++)i[a=e[l]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in d=this.glyphsFor(r))n=d[a],i[a]=n;return i},t.prototype.encode=function(e,r){var n,i,a,l,c,d,h,f,p,x,g,w,v,_,j;for(i in n=KF.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),g={0:0},j=n.charMap)g[(d=j[i]).old]=d.new;for(w in x=n.maxGlyphID,l)w in g||(g[w]=x++);return f=(function(E){var C,z;for(C in z={},E)z[E[C]]=C;return z})(g),p=Object.keys(f).sort(function(E,C){return E-C}),v=(function(){var E,C,z;for(z=[],E=0,C=p.length;E<C;E++)c=p[E],z.push(f[c]);return z})(),a=this.font.glyf.encode(l,v,g),h=this.font.loca.encode(a.offsets,v),_={cmap:this.font.cmap.raw(),glyf:a.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t})();Gt.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,a,l;if(Array.isArray(r))return"["+(function(){var c,d,h;for(h=[],c=0,d=r.length;c<d;c++)n=r[c],h.push(e.convert(n));return h})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r?.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)l=r[i],a.push("/"+i+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+r},e})();function ZF(t,e,r,n,i){n=n||{};var a=1.15,l=i.internal.scaleFactor,c=i.internal.getFontSize()/l,d=i.getLineHeightFactor?i.getLineHeightFactor():a,h=c*d,f=/\r\n|\r|\n/g,p="",x=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(p=typeof t=="string"?t.split(f):t,x=p.length||1),r+=c*(2-a),n.valign==="middle"?r-=x/2*h:n.valign==="bottom"&&(r-=x*h),n.halign==="center"||n.halign==="right"){var g=c;if(n.halign==="center"&&(g*=.5),p&&x>=1){for(var w=0;w<p.length;w++)i.text(p[w],e-i.getStringUnitWidth(p[w])*g,r),r+=h;return i}e-=i.getStringUnitWidth(t)*g}return n.halign==="justify"?i.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(t,e,r),i}var O8={},rp=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:O8=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,i,a;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,d=l.fontName;if(e.font&&(d=e.font),e.fontStyle){c=e.fontStyle;var h=this.getFontList()[d];h&&h.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),c=h[0])}if(this.jsPDFDocument.setFont(d,c),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(i=this.jsPDFDocument).setTextColor.apply(i,f),f=t.unifyColor(e.lineColor),f&&(a=this.jsPDFDocument).setDrawColor.apply(a,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,i,a){return this.jsPDFDocument.rect(e,r,n,i,a)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return O8||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),nj=function(t,e){return nj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},nj(t,e)};function QF(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");nj(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var JF=(function(t){QF(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function ive(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function ave(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function N1(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,l){return Math.max(a,l)},0);return i}function eU(t,e,r,n){var i=e.settings.tableLineWidth,a=e.settings.tableLineColor;t.applyStyles({lineWidth:i,lineColor:a});var l=tU(i,!1);l&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,l)}function tU(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function Lb(t,e){var r,n,i,a;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(i=t.right)!==null&&i!==void 0?i:e,bottom:(a=t.bottom)!==null&&a!==void 0?a:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function rU(t,e){var r=Lb(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function sve(t,e,r,n,i){var a={},l=1.3333333333333333,c=__(e,function(C){return i.getComputedStyle(C).backgroundColor});c!=null&&(a.fillColor=c);var d=__(e,function(C){return i.getComputedStyle(C).color});d!=null&&(a.textColor=d);var h=lve(n,r);h&&(a.cellPadding=h);var f="borderTopColor",p=l*r,x=n.borderTopWidth;if(n.borderBottomWidth===x&&n.borderRightWidth===x&&n.borderLeftWidth===x){var g=(parseFloat(x)||0)/p;g&&(a.lineWidth=g)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/p,right:(parseFloat(n.borderRightWidth)||0)/p,bottom:(parseFloat(n.borderBottomWidth)||0)/p,left:(parseFloat(n.borderLeftWidth)||0)/p},a.lineWidth.top||(a.lineWidth.right?f="borderRightColor":a.lineWidth.bottom?f="borderBottomColor":a.lineWidth.left&&(f="borderLeftColor"));var w=__(e,function(C){return i.getComputedStyle(C)[f]});w!=null&&(a.lineColor=w);var v=["left","right","center","justify"];v.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),v=["middle","bottom","top"],v.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var _=parseInt(n.fontSize||"");isNaN(_)||(a.fontSize=_/l);var j=ove(n);j&&(a.fontStyle=j);var E=(n.fontFamily||"").toLowerCase();return t.indexOf(E)!==-1&&(a.font=E),a}function ove(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function __(t,e){var r=nU(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function nU(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:nU(t.parentElement,e):r}function lve(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),i=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,a=r.map(function(c){return parseInt(c||"0")/n}),l=Lb(a,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function iU(t,e,r,n,i){var a,l;n===void 0&&(n=!1),i===void 0&&(i=!1);var c;typeof e=="string"?c=r.document.querySelector(e):c=e;var d=Object.keys(t.getFontList()),h=t.scaleFactor(),f=[],p=[],x=[];if(!c)return console.error("Html table could not be found with input: ",e),{head:f,body:p,foot:x};for(var g=0;g<c.rows.length;g++){var w=c.rows[g],v=(l=(a=w?.parentElement)===null||a===void 0?void 0:a.tagName)===null||l===void 0?void 0:l.toLowerCase(),_=cve(d,h,r,w,n,i);_&&(v==="thead"?f.push(_):v==="tfoot"?x.push(_):p.push(_))}return{head:f,body:p,foot:x}}function cve(t,e,r,n,i,a){for(var l=new JF(n),c=0;c<n.cells.length;c++){var d=n.cells[c],h=r.getComputedStyle(d);if(i||h.display!=="none"){var f=void 0;a&&(f=sve(t,d,e,h,r)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:f,_element:d,content:uve(d)})}}var p=r.getComputedStyle(n);if(l.length>0&&(i||p.display!=="none"))return l}function uve(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function dve(t,e,r){for(var n=0,i=[t,e,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Vu(t,e,r,n,i){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(t),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}function aU(t,e){var r=new rp(t),n=r.getDocumentOptions(),i=r.getGlobalOptions();dve(i,n,e);var a=Vu({},i,n,e),l;typeof window<"u"&&(l=window);var c=hve(i,n,e),d=fve(i,n,e),h=mve(r,a),f=gve(r,a,l);return{id:e.tableId,content:f,hooks:d,styles:c,settings:h}}function hve(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(d){if(d==="columnStyles"){var h=t[d],f=e[d],p=r[d];n.columnStyles=Vu({},h,f,p)}else{var x=[t,e,r],g=x.map(function(w){return w[d]||{}});n[d]=Vu({},g[0],g[1],g[2])}},a=0,l=Object.keys(n);a<l.length;a++){var c=l[a];i(c)}return n}function fve(t,e,r){for(var n=[t,e,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,l=n;a<l.length;a++){var c=l[a];c.didParseCell&&i.didParseCell.push(c.didParseCell),c.willDrawCell&&i.willDrawCell.push(c.willDrawCell),c.didDrawCell&&i.didDrawCell.push(c.didDrawCell),c.willDrawPage&&i.willDrawPage.push(c.willDrawPage),c.didDrawPage&&i.didDrawPage.push(c.didDrawPage)}return i}function mve(t,e){var r,n,i,a,l,c,d,h,f,p,x,g,w=Lb(e.margin,40/t.scaleFactor()),v=(r=pve(t,e.startY))!==null&&r!==void 0?r:w.top,_;e.showFoot===!0?_="everyPage":e.showFoot===!1?_="never":_=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var j;e.showHead===!0?j="everyPage":e.showHead===!1?j="never":j=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var E=(a=e.useCss)!==null&&a!==void 0?a:!1,C=e.theme||(E?"plain":"striped"),z=!!e.horizontalPageBreak,P=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=e.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:E,theme:C,startY:v,margin:w,pageBreak:(d=e.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(h=e.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:j,showFoot:_,tableLineWidth:(p=e.tableLineWidth)!==null&&p!==void 0?p:0,tableLineColor:(x=e.tableLineColor)!==null&&x!==void 0?x:200,horizontalPageBreak:z,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function pve(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),i=t.pageNumber(),a=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;a=l===i}return typeof e=="number"?e:(e==null||e===!1)&&a&&r?.finalY!=null?r.finalY+20/n:null}function gve(t,e,r){var n=e.head||[],i=e.body||[],a=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(r){var c=iU(t,e.html,r,l,e.useCss)||{};n=c.head||n,i=c.body||n,a=c.foot||n}else console.error("Cannot parse html in non browser environment")}var d=e.columns||yve(n,i,a);return{columns:d,head:n,body:i,foot:a}}function yve(t,e,r){var n=t[0]||e[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var l=1,c;Array.isArray(n)?c=n[parseInt(a)]:c=n[a],typeof c=="object"&&!Array.isArray(c)&&(l=c?.colSpan||1);for(var d=0;d<l;d++){var h=void 0;Array.isArray(n)?h=i.length:h=a+(d>0?"_".concat(d):"");var f={dataKey:h};i.push(f)}}),i}var ij=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),xve=(function(t){QF(e,t);function e(r,n,i,a,l,c){var d=t.call(this,r,n,c)||this;return d.cell=i,d.row=a,d.column=l,d.section=a.section,d}return e})(ij),vve=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,i,a,l){for(var c=0,d=r;c<d.length;c++){var h=d[c],f=new xve(e,this,n,i,a,l),p=h(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],p)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new ij(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new ij(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),sU=(function(){function t(e,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=e,e instanceof JF&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(i,a){var l=n.cells[a.index];if(!l)return 0;var c=r.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),h=d+c;return h>i?h:i},0)},t})(),oU=(function(){function t(e,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var a=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=a!=null?""+a:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=Lb(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),bve=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,i=e.allRows();n<i.length;n++){var a=i[n],l=a.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},t})();function wve(t,e){_ve(t,e);var r=[],n=0;e.columns.forEach(function(a){var l=a.getMaxCustomCellWidth(e);l?a.width=l:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=e.getWidth(t.pageSize().width)-n;i&&(i=aj(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=aj(r,i,function(a){return a.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/t.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),jve(e),Sve(e,t),Nve(e)}function _ve(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,i=rU(t,e);e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var d=c[l],h=a.cells[d.index];if(h){var f=e.hooks.didParseCell;e.callCellHooks(t,f,h,a,d,null);var p=h.padding("horizontal");h.contentWidth=N1(h.text,h.styles,t)+p;var x=N1(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,t);if(h.minReadableWidth=x+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>i?(h.minWidth=i,h.wrappedWidth=i):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/r;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),e.allRows().forEach(function(a){for(var l=0,c=e.columns;l<c.length;l++){var d=c[l],h=a.cells[d.index];if(h&&h.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,h.wrappedWidth),d.minWidth=Math.max(d.minWidth,h.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,h.minReadableWidth);else{var f=e.styles.columnStyles[d.dataKey]||e.styles.columnStyles[d.index]||{},p=f.cellWidth||f.minCellWidth;p&&typeof p=="number"&&(d.minWidth=p,d.wrappedWidth=p)}h&&(h.colSpan>1&&!d.minWidth&&(d.minWidth=h.minWidth),h.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=h.minWidth))}})}function aj(t,e,r){for(var n=e,i=t.reduce(function(g,w){return g+w.wrappedWidth},0),a=0;a<t.length;a++){var l=t[a],c=l.wrappedWidth/i,d=n*c,h=l.width+d,f=r(l),p=h<f?f:h;e-=p-l.width,l.width=p}if(e=Math.round(e*1e10)/1e10,e){var x=t.filter(function(g){return e<0?g.width>r(g):!0});x.length&&(e=aj(x,e,r))}return e}function Nve(t){for(var e={},r=1,n=t.allRows(),i=0;i<n.length;i++)for(var a=n[i],l=0,c=t.columns;l<c.length;l++){var d=c[l],h=e[d.index];if(r>1)r--,delete a.cells[d.index];else if(h)h.cell.height+=a.height,r=h.cell.colSpan,delete a.cells[d.index],h.left--,h.left<=1&&delete e[d.index];else{var f=a.cells[d.index];if(!f)continue;if(f.height=a.height,f.rowSpan>1){var p=n.length-i,x=f.rowSpan>p?p:f.rowSpan;e[d.index]={cell:f,left:x,row:a}}}}}function jve(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],i=null,a=0,l=0,c=0;c<t.columns.length;c++){var d=t.columns[c];if(l-=1,l>1&&t.columns[c+1])a+=d.width,delete n.cells[d.index];else if(i){var h=i;delete n.cells[d.index],i=null,h.width=d.width+a}else{var h=n.cells[d.index];if(!h)continue;if(l=h.colSpan,a=0,h.colSpan>1){i=h,a+=d.width;continue}h.width=d.width+a}}}function Sve(t,e){for(var r={count:0,height:0},n=0,i=t.allRows();n<i.length;n++){for(var a=i[n],l=0,c=t.columns;l<c.length;l++){var d=c[l],h=a.cells[d.index];if(h){e.applyStyles(h.styles,!0);var f=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=e.splitTextToSize(h.text,f+1/e.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=D8(h.text,f,h.styles,e,"...");else if(h.styles.overflow==="hidden")h.text=D8(h.text,f,h.styles,e,"");else if(typeof h.styles.overflow=="function"){var p=h.styles.overflow(h.text,f);typeof p=="string"?h.text=[p]:h.text=p}h.contentHeight=h.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var x=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<x*h.rowSpan?r={height:x,count:h.rowSpan}:r&&r.count>0&&r.height>x&&(x=r.height),x>a.height&&(a.height=x)}}r.count--}}function D8(t,e,r,n,i){return t.map(function(a){return Ave(a,e,r,n,i)})}function Ave(t,e,r,n,i){var a=1e4*n.scaleFactor();if(e=Math.ceil(e*a)/a,e>=N1(t,r,n))return t;for(;e<N1(t+i,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+i}function lU(t,e){var r=new rp(t),n=Eve(e,r.scaleFactor()),i=new vve(e,n);return wve(r,i),r.applyStyles(r.userStyles),i}function Eve(t,e){var r=t.content,n=Cve(r.columns);if(r.head.length===0){var i=L8(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=L8(n,"foot");i&&r.foot.push(i)}var a=t.settings.theme,l=t.styles;return{columns:n,head:N_("head",r.head,n,l,a,e),body:N_("body",r.body,n,l,a,e),foot:N_("foot",r.foot,n,l,a,e)}}function N_(t,e,r,n,i,a){var l={},c=e.map(function(d,h){for(var f=0,p={},x=0,g=0,w=0,v=r;w<v.length;w++){var _=v[w];if(l[_.index]==null||l[_.index].left===0)if(g===0){var j=void 0;Array.isArray(d)?j=d[_.index-x-f]:j=d[_.dataKey];var E={};typeof j=="object"&&!Array.isArray(j)&&(E=j?.styles||{});var C=kve(t,_,h,i,n,a,E),z=new oU(j,C,t);p[_.dataKey]=z,p[_.index]=z,g=z.colSpan-1,l[_.index]={left:z.rowSpan-1,times:g}}else g--,x++;else l[_.index].left--,g=l[_.index].times,f++}return new sU(d,h,t,p)});return c}function L8(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var i=Tve(e,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function Tve(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Cve(t){return t.map(function(e,r){var n,i;return typeof e=="object"?i=(n=e.dataKey)!==null&&n!==void 0?n:r:i=r,new bve(i,e,r)})}function kve(t,e,r,n,i,a,l){var c=ave(n),d;t==="head"?d=i.headStyles:t==="body"?d=i.bodyStyles:t==="foot"&&(d=i.footStyles);var h=Vu({},c.table,c[t],i.styles,d),f=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},p=t==="body"?f:{},x=t==="body"&&r%2===0?Vu({},c.alternateRow,i.alternateRowStyles):{},g=ive(a),w=Vu({},g,h,x,p);return Vu(w,l)}function Ive(t,e,r){var n;r===void 0&&(r={});var i=rU(t,e),a=new Map,l=[],c=[],d=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?d=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(d=[e.settings.horizontalPageBreakRepeat]),d.forEach(function(x){var g=e.columns.find(function(w){return w.dataKey===x||w.index===x});g&&!a.has(g.index)&&(a.set(g.index,!0),l.push(g.index),c.push(e.columns[g.index]),i-=g.wrappedWidth)});for(var h=!0,f=(n=r?.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(a.has(f)){f++;continue}var p=e.columns[f].wrappedWidth;if(h||i>=p)h=!1,l.push(f),c.push(e.columns[f]),i-=p;else break;f++}return{colIndexes:l,columns:c,lastIndex:f-1}}function Pve(t,e){for(var r=[],n=0;n<e.columns.length;n++){var i=Ive(t,e,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function cU(t,e){var r=e.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),c=n+i.bottom+l;if(r.pageBreak==="avoid"){var d=e.body,h=d.reduce(function(x,g){return x+g.height},0);c+=h}var f=new rp(t);(r.pageBreak==="always"||r.startY!=null&&c>f.pageSize().height)&&(dU(f),a.y=i.top),e.callWillDrawPageHooks(f,a);var p=Vu({},a);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?Rve(f,e,p,a):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(x){return sd(f,e,x,a,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(x,g){var w=g===e.body.length-1;j1(f,e,x,w,p,a,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(x){return sd(f,e,x,a,e.columns)})),eU(f,e,p,a),e.callEndPageHooks(f,a),e.finalY=a.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function Rve(t,e,r,n){var i=Pve(t,e),a=e.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(h,f){t.applyStyles(t.userStyles),f>0?c0(t,e,r,n,h.columns,!0):M8(t,e,n,h.columns),Ove(t,e,r,n,h.columns),j_(t,e,n,h.columns)});else for(var l=-1,c=i[0],d=function(){var h=l;if(c){t.applyStyles(t.userStyles);var f=c.columns;l>=0?c0(t,e,r,n,f,!0):M8(t,e,n,f),h=z8(t,e,l+1,n,f),j_(t,e,n,f)}var p=h-l;i.slice(1).forEach(function(x){t.applyStyles(t.userStyles),c0(t,e,r,n,x.columns,!0),z8(t,e,l+1,n,x.columns,p),j_(t,e,n,x.columns)}),l=h};l<e.body.length-1;)d()}function M8(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(a){return sd(t,e,a,r,n)})}function Ove(t,e,r,n,i){t.applyStyles(t.userStyles),e.body.forEach(function(a,l){var c=l===e.body.length-1;j1(t,e,a,c,r,n,i)})}function z8(t,e,r,n,i,a){t.applyStyles(t.userStyles),a=a??e.body.length;var l=Math.min(r+a,e.body.length),c=-1;return e.body.slice(r,l).forEach(function(d,h){var f=r+h===e.body.length-1,p=uU(t,e,f,n);d.canEntireRowFit(p,i)&&(sd(t,e,d,n,i),c=r+h)}),c}function j_(t,e,r,n){var i=e.settings;t.applyStyles(t.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(a){return sd(t,e,a,r,n)})}function Dve(t,e,r){var n=r.getLineHeight(t.styles.fontSize),i=t.padding("vertical"),a=Math.floor((e-i)/n);return Math.max(0,a)}function Lve(t,e,r,n){var i={};t.spansMultiplePages=!0,t.height=0;for(var a=0,l=0,c=r.columns;l<c.length;l++){var d=c[l],h=t.cells[d.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var f=new oU(h.raw,h.styles,h.section);f=Vu(f,h),f.text=[];var p=Dve(h,e,n);h.text.length>p&&(f.text=h.text.splice(p,h.text.length));var x=n.scaleFactor(),g=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(x,g),h.contentHeight>=e&&(h.contentHeight=e,f.styles.minCellHeight-=e),h.contentHeight>t.height&&(t.height=h.contentHeight),f.contentHeight=f.getContentHeight(x,g),f.contentHeight>a&&(a=f.contentHeight),i[d.index]=f}}var w=new sU(t.raw,-1,t.section,i,!0);w.height=a;for(var v=0,_=r.columns;v<_.length;v++){var d=_[v],f=w.cells[d.index];f&&(f.height=w.height);var h=t.cells[d.index];h&&(h.height=t.height)}return w}function Mve(t,e,r,n){var i=t.pageSize().height,a=n.settings.margin,l=a.top+a.bottom,c=i-l;e.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=e.getMinimumRowHeight(n.columns,t),h=d<r;if(d>c)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var f=e.hasRowSpan(n.columns),p=e.getMaxCellHeight(n.columns)>c;return p?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function j1(t,e,r,n,i,a,l){var c=uU(t,e,n,a);if(r.canEntireRowFit(c,l))sd(t,e,r,a,l);else if(Mve(t,r,c,e)){var d=Lve(r,c,e,t);sd(t,e,r,a,l),c0(t,e,i,a,l),j1(t,e,d,n,i,a,l)}else c0(t,e,i,a,l),j1(t,e,r,n,i,a,l)}function sd(t,e,r,n,i){n.x=e.settings.margin.left;for(var a=0,l=i;a<l.length;a++){var c=l[a],d=r.cells[c.index];if(!d){n.x+=c.width;continue}t.applyStyles(d.styles),d.x=n.x,d.y=n.y;var h=e.callCellHooks(t,e.hooks.willDrawCell,d,r,c,n);if(h===!1){n.x+=c.width;continue}zve(t,d,n);var f=d.getTextPos();ZF(d.text,f.x,f.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,d,r,c,n),n.x+=c.width}n.y+=r.height}function zve(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=tU(n.lineWidth,n.fillColor);i&&t.rect(e.x,r.y,e.width,e.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),Fve(t,e,r,n.lineWidth))}function Fve(t,e,r,n){var i,a,l,c;n.top&&(i=r.x,a=r.y,l=r.x+e.width,c=r.y,n.right&&(l+=.5*n.right),n.left&&(i-=.5*n.left),d(n.top,i,a,l,c)),n.bottom&&(i=r.x,a=r.y+e.height,l=r.x+e.width,c=r.y+e.height,n.right&&(l+=.5*n.right),n.left&&(i-=.5*n.left),d(n.bottom,i,a,l,c)),n.left&&(i=r.x,a=r.y,l=r.x,c=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.left,i,a,l,c)),n.right&&(i=r.x+e.width,a=r.y,l=r.x+e.width,c=r.y+e.height,n.top&&(a-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.right,i,a,l,c));function d(h,f,p,x,g){t.getDocument().setLineWidth(h),t.getDocument().line(f,p,x,g,"S")}}function uU(t,e,r,n){var i=e.settings.margin.bottom,a=e.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-i}function c0(t,e,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!a&&e.foot.forEach(function(c){return sd(t,e,c,n,i)}),e.callEndPageHooks(t,n);var l=e.settings.margin;eU(t,e,r,n),dU(t),e.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(c){return sd(t,e,c,n,i)}),t.applyStyles(t.userStyles))}function dU(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function Uve(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],i=aU(this,n),a=lU(this,i);return cU(this,a),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,i){ZF(e,r,n,i,this)},t.API.autoTableSetDefaults=function(e){return rp.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){rp.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new rp(this),a=iU(i,e,window,r,!1),l=a.head,c=a.body,d=((n=l[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:d,rows:c,data:c}}}var S_;function Bve(t,e){var r=aU(t,e),n=lU(t,r);cU(t,n)}try{if(typeof window<"u"&&window){var F8=window,U8=F8.jsPDF||((S_=F8.jspdf)===null||S_===void 0?void 0:S_.jsPDF);U8&&Uve(U8)}}catch(t){console.error("Could not apply autoTable plugin",t)}function Vve(){const{currentUser:t}=gi(),e=ni(),[r,n]=V.useState(!0),[i,a]=V.useState(!1),[l,c]=V.useState(null),[d,h]=V.useState(null),[f,p]=V.useState(null),[x,g]=V.useState({});V.useEffect(()=>{w()},[]);const w=async()=>{try{n(!0),c(null);const X=await wr(ff,"getSubMasterUsage")();X.data.success?h(X.data):c(X.data.message||"Failed to load usage data")}catch(P){console.error("Error loading usage data:",P),c(P.message||"Failed to load usage data")}finally{n(!1)}},v=async()=>{a(!0),await w(),a(!1)},_=async P=>{try{const U=await wr(ff,"getSubMasterDetailedUsage")({subMasterId:P,monthsBack:6});U.data.success&&g(M=>({...M,[P]:U.data.monthlyData}))}catch(X){console.error("Error loading detailed usage:",X)}},j=P=>{f===P?p(null):(p(P),x[P]||_(P))},E=()=>{if(!d||!d.subMasters)return;const P=["Email","Display Name","CV Uploads","Chatbot Messages","API Calls","SMS Sent","Team Members","Job Specs","Estimated Cost (ZAR)","Created Date"],X=d.subMasters.map(L=>[L.email,L.displayName,L.currentMonth.cvUploads,L.currentMonth.chatbotMessages,L.currentMonth.apiCalls,L.currentMonth.smsVerifications,L.teamInfo.memberCount,L.teamInfo.jobSpecCount,`R${L.currentMonth.estimatedCost.toFixed(2)}`,new Date(L.createdAt?.seconds*1e3||L.createdAt).toLocaleDateString()]),U=[P.join(","),...X.map(L=>L.join(","))].join(`
`),M=new Blob([U],{type:"text/csv"}),D=window.URL.createObjectURL(M),G=document.createElement("a");G.href=D,G.download=`sub-master-usage-${d.month.name}-${d.month.year}.csv`,G.click()},C=P=>`R${P.toFixed(2)}`,z=P=>{const X=d.month.name,U=d.month.year,M=new Date().toLocaleDateString(),D=new Date(new Date().setDate(new Date().getDate()+30)).toLocaleDateString(),G=`INV-${U}${String(d.month.month).padStart(2,"0")}-${P.subMasterId.substring(0,8).toUpperCase()}`,L=1.2,I=.35,B=.1,k=.5,re=P.currentMonth.cvUploads*L,Y=P.currentMonth.chatbotMessages*I,Q=P.currentMonth.apiCalls*B,se=(P.currentMonth.smsVerifications||0)*k,oe=P.currentMonth.estimatedCost,pe=new Gt,H=[249,115,22],R=[234,88,12],J=[31,41,55],ee=[243,244,246];pe.setFillColor(...H),pe.rect(0,0,210,40,"F"),pe.setTextColor(255,255,255),pe.setFontSize(28),pe.setFont("helvetica","bold"),pe.text("CVSift",15,20),pe.setFontSize(10),pe.setFont("helvetica","normal"),pe.text("CV Parsing & Job Matching Platform",15,28),pe.text("by Automore",15,34),pe.setFontSize(16),pe.setFont("helvetica","bold"),pe.text("INVOICE",155,20),pe.setFontSize(10),pe.setFont("helvetica","normal"),pe.text(G,155,28),pe.setTextColor(...J),pe.setFontSize(10),pe.setFont("helvetica","bold"),pe.text("From:",15,55),pe.setFont("helvetica","normal"),pe.text("Automore (Pty) Ltd",15,62),pe.text("www.automore.co.za",15,68),pe.text("emma@automore.co.za",15,74),pe.setFont("helvetica","bold"),pe.text("Bill To:",110,55),pe.setFont("helvetica","normal"),pe.text(P.displayName,110,62),pe.text(P.email,110,68),pe.setDrawColor(200,200,200),pe.setLineWidth(.5),pe.line(15,85,195,85),pe.setFont("helvetica","bold"),pe.text("Invoice Date:",15,93),pe.text("Due Date:",15,100),pe.text("Period:",15,107),pe.setFont("helvetica","normal"),pe.text(M,60,93),pe.text(D,60,100),pe.text(`${X} ${U}`,60,107),Bve(pe,{startY:120,head:[["Description","Quantity","Rate (ZAR)","Amount (ZAR)"]],body:[["CV Processing",P.currentMonth.cvUploads.toString(),`R ${L.toFixed(2)}`,C(re)],["AI Chatbot Messages",P.currentMonth.chatbotMessages.toString(),`R ${I.toFixed(2)}`,C(Y)],["API Calls",P.currentMonth.apiCalls.toString(),`R ${B.toFixed(2)}`,C(Q)],["SMS Verifications",(P.currentMonth.smsVerifications||0).toString(),`R ${k.toFixed(2)}`,C(se)]],theme:"striped",headStyles:{fillColor:H,textColor:255,fontSize:10,fontStyle:"bold"},bodyStyles:{fontSize:9},columnStyles:{0:{cellWidth:80},1:{halign:"center",cellWidth:30},2:{halign:"right",cellWidth:35},3:{halign:"right",cellWidth:40}},margin:{left:15,right:15}});const ae=pe.lastAutoTable.finalY+10;pe.setFillColor(...ee),pe.rect(130,ae,65,15,"F"),pe.setFont("helvetica","bold"),pe.setFontSize(12),pe.setTextColor(...R),pe.text("TOTAL DUE:",135,ae+10),pe.text(C(oe),180,ae+10,{align:"right"}),pe.setTextColor(...J),pe.setFontSize(10),pe.setFont("helvetica","bold"),pe.text("Account Details",15,ae+35),pe.setFont("helvetica","normal"),pe.setFontSize(9),pe.text("Plan: Enterprise (Usage-Based Billing)",15,ae+42),pe.text(`Team Members: ${P.teamInfo.memberCount}`,15,ae+48),pe.text(`Job Specifications: ${P.teamInfo.jobSpecCount}`,15,ae+54),pe.text(`Account Created: ${new Date(P.createdAt?.seconds*1e3||P.createdAt).toLocaleDateString()}`,15,ae+60),pe.setFont("helvetica","bold"),pe.setFontSize(10),pe.text("Payment Terms",15,ae+75),pe.setFont("helvetica","normal"),pe.setFontSize(9),pe.text("Payment is due within 30 days of invoice date.",15,ae+82),pe.text("All amounts in South African Rand (ZAR).",15,ae+88),pe.text("For billing inquiries, contact: emma@automore.co.za",15,ae+94),pe.setDrawColor(...H),pe.setLineWidth(1),pe.line(15,280,195,280),pe.setTextColor(...H),pe.setFontSize(9),pe.setFont("helvetica","italic"),pe.text("Thank you for using CVSift!",105,287,{align:"center"}),pe.setFont("helvetica","normal"),pe.text("Powered by Automore - www.automore.co.za",105,292,{align:"center"}),pe.save(`CVSift-Invoice-${G}-${P.email.replace("@","-")}.pdf`)};return r?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Ha,{size:48,className:"mx-auto mb-4 text-orange-500 animate-spin"}),s.jsx("p",{className:"text-gray-600",children:"Loading usage data..."})]})}):l?s.jsx("div",{className:"flex items-center justify-center min-h-screen p-6 bg-gray-50",children:s.jsxs("div",{className:"w-full max-w-md p-8 bg-white border border-red-200 shadow-lg rounded-xl",children:[s.jsx(en,{size:48,className:"mx-auto mb-4 text-red-500"}),s.jsx("h2",{className:"mb-2 text-2xl font-bold text-center text-gray-900",children:"Error"}),s.jsx("p",{className:"mb-6 text-center text-gray-600",children:l}),s.jsx("button",{onClick:()=>e("/dashboard"),className:"w-full px-6 py-3 font-semibold text-white transition-all bg-orange-500 rounded-lg hover:bg-orange-600",children:"Back to Dashboard"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:s.jsxs("div",{className:"px-6 py-4 mx-auto max-w-7xl",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>e("/dashboard"),className:"flex items-center space-x-2 text-gray-600 transition-colors hover:text-orange-500",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-medium",children:"Back"})]}),s.jsx("div",{className:"w-px h-6 bg-gray-300"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Master Account Dashboard"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("button",{onClick:v,disabled:i,className:"flex items-center px-4 py-2 space-x-2 text-gray-700 transition-colors bg-gray-100 rounded-lg hover:bg-gray-200 disabled:opacity-50",children:[s.jsx(N0,{size:18,className:i?"animate-spin":""}),s.jsx("span",{className:"text-sm font-medium",children:"Refresh"})]}),s.jsxs("button",{onClick:E,className:"flex items-center px-4 py-2 space-x-2 text-white transition-all bg-orange-500 rounded-lg hover:bg-orange-600",children:[s.jsx(Ef,{size:18}),s.jsx("span",{className:"text-sm font-medium",children:"Export CSV"})]})]})]}),s.jsxs("div",{className:"flex items-center mt-4 space-x-2 text-sm text-gray-600",children:[s.jsx(Uf,{size:16}),s.jsxs("span",{children:["Showing data for: ",s.jsxs("span",{className:"font-semibold text-gray-900",children:[d?.month?.name," ",d?.month?.year]})]})]})]})}),s.jsxs("div",{className:"px-6 py-8 mx-auto max-w-7xl",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-6 mb-8 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"p-6 bg-white border border-gray-200 shadow-sm rounded-xl",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-blue-100 rounded-lg",children:s.jsx(Ds,{size:24,className:"text-blue-600"})})}),s.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:d?.totals?.totalSubMasters||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Sub-Master Accounts"})]}),s.jsxs("div",{className:"p-6 bg-white border border-gray-200 shadow-sm rounded-xl",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-green-100 rounded-lg",children:s.jsx(fs,{size:24,className:"text-green-600"})})}),s.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:d?.totals?.totalCvUploads?.toLocaleString()||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"CV Uploads This Month"})]}),s.jsxs("div",{className:"p-6 bg-white border border-gray-200 shadow-sm rounded-xl",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-purple-100 rounded-lg",children:s.jsx(FT,{size:24,className:"text-purple-600"})})}),s.jsx("div",{className:"mb-1 text-3xl font-bold text-gray-900",children:d?.totals?.totalChatbotMessages?.toLocaleString()||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Chatbot Messages"})]}),s.jsxs("div",{className:"p-6 bg-white border border-orange-200 shadow-sm rounded-xl ring-2 ring-orange-500 ring-opacity-20",children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsx("div",{className:"flex items-center justify-center w-12 h-12 bg-orange-100 rounded-lg",children:s.jsx(Aee,{size:24,className:"text-orange-600"})})}),s.jsx("div",{className:"mb-1 text-3xl font-bold text-orange-600",children:C(d?.totals?.totalEstimatedRevenue||0)}),s.jsx("div",{className:"text-sm text-gray-600",children:"Estimated Revenue"})]})]}),s.jsxs("div",{className:"overflow-hidden bg-white border border-gray-200 shadow-sm rounded-xl",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:s.jsxs("h2",{className:"flex items-center space-x-2 text-xl font-bold text-gray-900",children:[s.jsx(Ql,{size:20}),s.jsx("span",{children:"Sub-Master Account Usage"})]})}),d?.subMasters&&d.subMasters.length>0?s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"border-b border-gray-200 bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-left text-gray-600 uppercase",children:"Sub-Master"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"CV Uploads"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"Chatbot"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"API Calls"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"SMS Sent"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"Team"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-right text-gray-600 uppercase",children:"Est. Cost"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"Actions"}),s.jsx("th",{className:"px-6 py-3 text-xs font-semibold tracking-wider text-center text-gray-600 uppercase",children:"Details"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:d.subMasters.map(P=>s.jsxs(M0.Fragment,{children:[s.jsxs("tr",{className:"transition-colors hover:bg-gray-50",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:P.displayName}),s.jsx("div",{className:"text-sm text-gray-500",children:P.email})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(fs,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:P.currentMonth.cvUploads})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(FT,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:P.currentMonth.chatbotMessages})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(Ql,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:P.currentMonth.apiCalls})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"flex items-center justify-center space-x-1",children:[s.jsx(i0,{size:16,className:"text-gray-400"}),s.jsx("span",{className:"font-semibold text-gray-900",children:P.currentMonth.smsVerifications||0})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"font-medium text-gray-900",children:[P.teamInfo.memberCount," ",P.teamInfo.memberCount===1?"user":"users"]}),s.jsxs("div",{className:"text-gray-500",children:[P.teamInfo.jobSpecCount," jobspecs"]})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("span",{className:"text-lg font-bold text-orange-600",children:C(P.currentMonth.estimatedCost)})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsxs("button",{onClick:()=>z(P),className:"inline-flex items-center space-x-1 px-3 py-1.5 bg-blue-500 hover:bg-blue-600 text-white text-sm rounded-lg transition-colors",title:"Export Invoice",children:[s.jsx(Ef,{size:14}),s.jsx("span",{children:"Invoice"})]})}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("button",{onClick:()=>j(P.subMasterId),className:"p-2 transition-colors rounded-lg hover:bg-gray-100",children:f===P.subMasterId?s.jsx(ih,{size:18,className:"text-gray-600"}):s.jsx(nc,{size:18,className:"text-gray-600"})})})]}),f===P.subMasterId&&s.jsx("tr",{children:s.jsx("td",{colSpan:"8",className:"px-6 py-4 bg-gray-50",children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[s.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:"Account Info"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Plan:"}),s.jsx("span",{className:"font-medium text-gray-900 capitalize",children:P.plan})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Created:"}),s.jsx("span",{className:"font-medium text-gray-900",children:new Date(P.createdAt?.seconds*1e3||P.createdAt).toLocaleDateString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"All-Time CVs:"}),s.jsx("span",{className:"font-medium text-gray-900",children:P.allTime.totalCvs})]})]})]}),s.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[s.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:"Cost Breakdown"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"CVs (R1.20 ):"}),s.jsx("span",{className:"font-medium text-gray-900",children:C(P.currentMonth.cvUploads*1.2)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Messages (R0.35 ):"}),s.jsx("span",{className:"font-medium text-gray-900",children:C(P.currentMonth.chatbotMessages*.35)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"API (R0.10 ):"}),s.jsx("span",{className:"font-medium text-gray-900",children:C(P.currentMonth.apiCalls*.1)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"SMS (R0.50 ):"}),s.jsx("span",{className:"font-medium text-gray-900",children:C((P.currentMonth.smsVerifications||0)*.5)})]}),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),s.jsx("span",{className:"font-bold text-orange-600",children:C(P.currentMonth.estimatedCost)})]})]})]}),P.currentMonth.apiCalls>0&&P.currentMonth.apiBreakdown&&s.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[s.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:"API Call Breakdown"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[Object.entries(P.currentMonth.apiBreakdown).map(([X,U])=>s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("span",{className:"text-gray-600 text-xs",children:[X==="calculateMatchScore"&&" CV Match",X==="batchCalculateMatches"&&" Batch Match",X==="getAdvancedAnalytics"&&" Analytics",X==="generateCustomReport"&&" Custom Report",X==="unknown"&&" Other",!["calculateMatchScore","batchCalculateMatches","getAdvancedAnalytics","generateCustomReport","unknown"].includes(X)&&` ${X}`]}),s.jsx("span",{className:"font-medium text-gray-900",children:U})]},X)),s.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[s.jsx("span",{className:"font-semibold text-gray-900 text-xs",children:"Total API Calls:"}),s.jsx("span",{className:"font-bold text-blue-600",children:P.currentMonth.apiCalls})]})]})]}),s.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg",children:[s.jsx("h4",{className:"mb-3 text-sm font-semibold text-gray-900",children:"6-Month History"}),x[P.subMasterId]?s.jsx("div",{className:"space-y-1",children:x[P.subMasterId].slice(-6).map((X,U)=>s.jsxs("div",{className:"flex justify-between text-xs",children:[s.jsxs("span",{className:"text-gray-600",children:[X.monthName.substring(0,3)," '",X.year.toString().substring(2),":"]}),s.jsx("span",{className:"font-medium text-gray-900",children:C(X.totalCost)})]},U))}):s.jsx("div",{className:"flex items-center justify-center py-4",children:s.jsx(Ha,{size:20,className:"text-gray-400 animate-spin"})})]})]})})})})]},P.subMasterId))})]})}):s.jsxs("div",{className:"px-6 py-12 text-center",children:[s.jsx(Ds,{size:48,className:"mx-auto mb-4 text-gray-300"}),s.jsx("p",{className:"text-gray-600",children:"No sub-master accounts found"})]})]}),s.jsx("div",{className:"p-6 mt-8 border border-blue-200 bg-blue-50 rounded-xl",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(nh,{size:24,className:"text-blue-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"mb-2 font-semibold text-blue-900",children:"Pricing Structure"}),s.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[s.jsx("p",{children:" CV Upload: R1.20 per CV processed"}),s.jsx("p",{children:" Chatbot Message: R0.35 per message sent"}),s.jsx("p",{children:" API Call: R0.10 per API request"}),s.jsx("p",{children:" SMS Verification: R0.50 per SMS sent"}),s.jsx("p",{className:"pt-2 text-xs text-blue-600",children:"* Costs are calculated automatically based on actual usage. Adjust rates in the cloud function as needed."})]})]})]})})]})]})}const qve=()=>{const t=ni();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 transition-colors mb-4",children:[s.jsx(po,{size:20}),"Back to Home"]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"CV"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Terms of Service"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Last updated: October 2025"})]})]})]})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 lg:p-12",children:[s.jsx("section",{className:"mb-8",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to CVSift. These Terms of Service ("Terms") govern your use of our CV parsing and job matching platform. By accessing or using CVSift, you agree to be bound by these Terms. If you disagree with any part of these terms, you may not access the service.'})}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Service Description"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"CVSift is an AI-powered CV parsing and job matching platform provided by Automore (Pty) Ltd. Our service includes:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Automated CV parsing and data extraction"}),s.jsx("li",{children:"Job specification creation and management"}),s.jsx("li",{children:"AI-powered candidate-to-job matching"}),s.jsx("li",{children:"Team collaboration features"}),s.jsx("li",{children:"Advanced analytics and reporting"}),s.jsx("li",{children:"API access (Enterprise plans)"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. Account Registration"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"To use CVSift, you must:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Provide accurate, current, and complete information during registration"}),s.jsx("li",{children:"Maintain and promptly update your account information"}),s.jsx("li",{children:"Maintain the security of your password and account"}),s.jsx("li",{children:"Be at least 18 years old or have parental/guardian consent"}),s.jsx("li",{children:"Not share your account credentials with others"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"You are responsible for all activities that occur under your account."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. Subscription Plans and Billing"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Free Plan:"})," Includes limited features with no payment required."]}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Paid Plans:"})," Subscription fees are billed monthly or annually in South African Rand (ZAR). Payment is processed through our secure payment provider, PayFast."]}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Enterprise Plans:"})," Usage-based billing for CV uploads (R1.20 each), chatbot messages (R0.35 each), and API calls (R0.10 each). Invoices are issued monthly."]}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Cancellation:"})," You may cancel your subscription at any time. No refunds are provided for partial months."]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. Data Usage and Privacy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Your use of CVSift is also governed by our Privacy Policy. Key points:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"You retain ownership of all CVs and data you upload"}),s.jsx("li",{children:"We use AI processing to extract information from CVs"}),s.jsx("li",{children:"We do not sell or share your data with third parties"}),s.jsx("li",{children:"Enterprise accounts have full control over their sub-master accounts"}),s.jsx("li",{children:"You are responsible for obtaining necessary consent to process candidate data"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Acceptable Use"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"You agree NOT to:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Violate any laws or regulations"}),s.jsx("li",{children:"Upload malicious code or attempt to compromise the platform"}),s.jsx("li",{children:"Abuse, harass, or discriminate against any individual"}),s.jsx("li",{children:"Reverse engineer or attempt to extract source code"}),s.jsx("li",{children:"Use the service for unauthorized commercial purposes"}),s.jsx("li",{children:"Share or resell access to the platform without authorization"}),s.jsx("li",{children:"Scrape or data mine the platform"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Intellectual Property"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"The CVSift platform, including all software, designs, text, graphics, and other content, is owned by Automore (Pty) Ltd and protected by copyright, trademark, and other intellectual property laws."}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You are granted a limited, non-exclusive, non-transferable license to use CVSift for your internal business purposes."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Limitation of Liability"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:'CVSift is provided "as is" without warranties of any kind. To the fullest extent permitted by law:'}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"We do not guarantee uninterrupted or error-free service"}),s.jsx("li",{children:"We are not responsible for hiring decisions made using our platform"}),s.jsx("li",{children:"AI parsing results may contain errors or inaccuracies"}),s.jsx("li",{children:"Our total liability shall not exceed the amount you paid in the last 12 months"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Termination"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We reserve the right to suspend or terminate your account if you:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Violate these Terms of Service"}),s.jsx("li",{children:"Fail to pay applicable fees"}),s.jsx("li",{children:"Engage in fraudulent or illegal activity"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"Upon termination, your right to use CVSift will immediately cease. You may download your data before termination."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Changes to Terms"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We may modify these Terms at any time. We will notify you of significant changes via email or platform notification. Continued use of CVSift after changes constitutes acceptance of the new Terms."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Governing Law"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"These Terms are governed by the laws of South Africa. Any disputes shall be resolved in the courts of South Africa."})]}),s.jsxs("section",{className:"mt-12 pt-8 border-t border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"If you have questions about these Terms, please contact us:"}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("p",{children:s.jsx("strong",{children:"Automore (Pty) Ltd"})}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:emma@automore.co.za",className:"text-orange-500 hover:text-orange-600",children:"emma@automore.co.za"})]}),s.jsxs("p",{children:["Website: ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600",children:"www.automore.co.za"})]})]})]})]})}),s.jsx("footer",{className:"bg-gray-900 text-gray-400 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsx("p",{className:"text-sm",children:" 2025 CVSift by Automore. All rights reserved."})})})]})},$ve=()=>{const t=ni();return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-orange-500 transition-colors mb-4",children:[s.jsx(po,{size:20}),"Back to Home"]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-lg",children:"CV"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Privacy Policy"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Last updated: October 2025"})]})]})]})}),s.jsx("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 lg:p-12",children:[s.jsx("section",{className:"mb-8",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"At CVSift, operated by Automore (Pty) Ltd, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our CV parsing and job matching platform."})}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"1. Information We Collect"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"1.1 Information You Provide"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Account Information:"})," Name, email address, company name, phone number"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"CV Data:"})," CVs and resumes you upload (PDF, DOCX, Pages formats)"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Job Specifications:"})," Job titles, requirements, skills, and other hiring criteria"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Payment Information:"})," Billing details processed securely through PayFast"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Custom Fields:"})," Any additional candidate information you choose to track"]})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"1.2 Automatically Collected Information"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Usage Data:"})," Pages viewed, features used, time spent on platform"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Device Information:"})," IP address, browser type, operating system"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Cookies:"})," Authentication tokens and session management"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Log Data:"})," Access times, error logs, performance metrics"]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"2. How We Use Your Information"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We use the collected information to:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"Provide and maintain the CVSift service"}),s.jsx("li",{children:"Parse CVs using AI to extract candidate information"}),s.jsx("li",{children:"Match candidates to job specifications"}),s.jsx("li",{children:"Process payments and manage subscriptions"}),s.jsx("li",{children:"Send service updates, security alerts, and administrative messages"}),s.jsx("li",{children:"Improve our platform based on usage patterns"}),s.jsx("li",{children:"Provide customer support"}),s.jsx("li",{children:"Detect and prevent fraud or security issues"}),s.jsx("li",{children:"Comply with legal obligations"})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"3. AI Processing and Data Extraction"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"Claude AI Integration:"})," We use Anthropic's Claude AI to parse CVs and extract structured information. When you upload a CV:"]}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mb-4",children:[s.jsx("li",{children:"The CV is sent to Anthropic's API for processing"}),s.jsx("li",{children:"AI extracts candidate details (name, email, skills, experience, education)"}),s.jsx("li",{children:"Extracted data is stored in our secure Firebase database"}),s.jsx("li",{children:"Original CV files are stored in Firebase Storage"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Anthropic's data processing is governed by their privacy policy. They do not use customer data to train models."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"4. Data Sharing and Disclosure"}),s.jsxs("p",{className:"text-gray-700 leading-relaxed mb-3",children:[s.jsx("strong",{children:"We do NOT sell your data."})," We may share information with:"]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Service Providers"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Google Firebase:"})," Database, authentication, and file storage"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Anthropic:"})," AI-powered CV parsing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"PayFast:"})," Payment processing"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Google AdSense:"})," Advertising for free plan users (POPIA compliant)"]})]}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Team Collaboration"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"If you invite team members, they will have access to CVs and data within your account based on their assigned permissions."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Enterprise/Master Accounts"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-4",children:"Master accounts have administrative access to their sub-master accounts and usage data for billing purposes."}),s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Legal Requirements"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We may disclose information if required by law, court order, or government regulation."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"5. Data Security"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We implement industry-standard security measures:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsx("li",{children:"HTTPS encryption for all data transmission"}),s.jsx("li",{children:"Firebase Authentication with secure password hashing"}),s.jsx("li",{children:"Role-based access control"}),s.jsx("li",{children:"Regular security audits and updates"}),s.jsx("li",{children:"Firestore security rules to prevent unauthorized access"}),s.jsx("li",{children:"Cloud Function authentication checks"})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"However, no method of transmission over the internet is 100% secure. We cannot guarantee absolute security."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"6. Data Retention"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We retain your data as follows:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Active Accounts:"})," Data retained as long as your account is active"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deleted Accounts:"})," Data deleted within 30 days of account deletion"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Legal Requirements:"})," Some data may be retained longer for compliance purposes"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Backups:"})," Backup data retained for up to 90 days"]})]})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"7. Your Rights (POPIA Compliance)"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"Under South Africa's Protection of Personal Information Act (POPIA), you have the right to:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Access:"})," Request a copy of your personal information"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Correction:"})," Request correction of inaccurate data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Deletion:"})," Request deletion of your data"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Portability:"})," Export your data in a machine-readable format"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Objection:"})," Object to certain processing activities"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Withdraw Consent:"})," Withdraw consent for data processing"]})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed mt-3",children:"To exercise these rights, contact us at emma@automore.co.za"})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"8. Cookies and Tracking"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-3",children:"We use cookies and similar technologies for:"}),s.jsxs("ul",{className:"list-disc list-inside text-gray-700 space-y-2 ml-4 mb-4",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Authentication:"})," Keep you logged in securely"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Preferences:"})," Remember your settings"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Analytics:"})," Understand how you use our platform"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Advertising:"})," Show relevant ads to free plan users (with consent)"]})]}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"You can control cookies through your browser settings. Disabling cookies may affect platform functionality."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"9. Third-Party Links"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Our platform may contain links to third-party websites (e.g., Automore, payment providers). We are not responsible for the privacy practices of these external sites. Please review their privacy policies."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"10. Children's Privacy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"CVSift is not intended for individuals under 18 years of age. We do not knowingly collect personal information from children. If we discover we have collected data from a child, we will delete it immediately."})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"11. Changes to Privacy Policy"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'We may update this Privacy Policy from time to time. We will notify you of significant changes via email or platform notification. The "Last Updated" date at the top will reflect the most recent revision.'})]}),s.jsxs("section",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"12. International Data Transfers"}),s.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your data may be transferred to and stored on servers located outside South Africa (e.g., Google Cloud, Firebase). We ensure these transfers comply with POPIA and include appropriate safeguards."})]}),s.jsxs("section",{className:"mt-12 pt-8 border-t border-gray-200",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Contact Us"}),s.jsx("p",{className:"text-gray-700 leading-relaxed mb-2",children:"If you have questions about this Privacy Policy or wish to exercise your rights:"}),s.jsxs("div",{className:"text-gray-700",children:[s.jsx("p",{children:s.jsx("strong",{children:"Data Protection Officer"})}),s.jsx("p",{children:s.jsx("strong",{children:"Automore (Pty) Ltd"})}),s.jsxs("p",{children:["Email: ",s.jsx("a",{href:"mailto:emma@automore.co.za",className:"text-orange-500 hover:text-orange-600",children:"emma@automore.co.za"})]}),s.jsxs("p",{children:["Website: ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-500 hover:text-orange-600",children:"www.automore.co.za"})]})]})]})]})}),s.jsx("footer",{className:"bg-gray-900 text-gray-400 py-8",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:s.jsx("p",{className:"text-sm",children:" 2025 CVSift by Automore. All rights reserved."})})})]})};function Hve(){const[t,e]=V.useState(!1),r=ni();V.useEffect(()=>{e(!0)},[]);const n=[{value:"10,000+",label:"CVs Processed Daily"},{value:"500+",label:"Companies Trust Us"},{value:"70%",label:"Faster Hiring"},{value:"98%",label:"Accuracy Rate"}];return s.jsxs("div",{className:"min-h-screen bg-white text-gray-900",children:[s.jsx("nav",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("button",{onClick:()=>r("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-orange-600 transition-colors",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-medium",children:"Back to Home"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"CV"})}),s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Sift"})]})]})})}),s.jsx("section",{className:"pt-24 lg:pt-32 pb-16 lg:pb-24 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-orange-50/30 via-white to-white",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:s.jsxs("div",{className:`text-center max-w-4xl mx-auto transition-all duration-1000 ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-orange-100 to-orange-50 text-orange-700 px-4 py-2 rounded-full mb-6 lg:mb-8 border border-orange-200/50",children:[s.jsx($a,{size:16,className:"animate-pulse"}),s.jsx("span",{className:"text-xs lg:text-sm font-semibold",children:"Powered by Claude AI"})]}),s.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold mb-4 lg:mb-6 leading-tight",children:["Screen ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Thousands"})," of CVs",s.jsx("br",{className:"hidden sm:block"})," in"," ",s.jsxs("span",{className:"relative inline-block",children:[s.jsx("span",{className:"relative z-10",children:"Minutes"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-400 to-pink-400 -rotate-1 rounded-xl opacity-20 blur-sm"})]})]}),s.jsx("p",{className:"text-lg sm:text-xl lg:text-2xl text-gray-600 mb-8 lg:mb-12 leading-relaxed px-4",children:"AI-powered CV screening that saves you 20+ hours per week. Upload, filter, and hire the best candidates faster."}),s.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 mb-12 lg:mb-16",children:s.jsxs("button",{onClick:()=>r("/signup"),className:"w-full sm:w-auto bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white px-8 py-4 rounded-xl font-semibold text-base lg:text-lg transition-all hover:scale-105 flex items-center justify-center space-x-2 shadow-xl shadow-orange-500/30",children:[s.jsx("span",{children:"Get Started Free"}),s.jsx(kL,{size:20})]})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-8 mb-12 lg:mb-16",children:n.map((i,a)=>s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl lg:text-3xl font-bold text-gray-900 mb-1",children:i.value}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-600",children:i.label})]},a))}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-2xl lg:rounded-3xl p-4 lg:p-8 shadow-2xl border border-gray-200/50",children:s.jsxs("div",{className:"bg-white rounded-xl lg:rounded-2xl p-4 lg:p-6 shadow-inner",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-red-400 rounded-full"}),s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-yellow-400 rounded-full"}),s.jsx("div",{className:"w-2.5 h-2.5 lg:w-3 lg:h-3 bg-green-400 rounded-full"})]}),s.jsx("div",{className:"text-xs lg:text-sm text-gray-400 font-medium",children:"CVSift Dashboard"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-gray-200 to-gray-100 rounded-full w-3/4 animate-pulse"}),s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-orange-200 to-orange-100 rounded-full w-1/2 animate-pulse",style:{animationDelay:"150ms"}}),s.jsx("div",{className:"h-3 lg:h-4 bg-gradient-to-r from-purple-200 to-purple-100 rounded-full w-2/3 animate-pulse",style:{animationDelay:"300ms"}}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 lg:gap-4 mt-6",children:[s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl shadow-sm"}),s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl shadow-sm"}),s.jsx("div",{className:"h-20 lg:h-24 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl shadow-sm"})]})]})]})}),s.jsx("div",{className:"absolute -top-4 -right-4 w-24 h-24 bg-orange-400 rounded-full blur-3xl opacity-40 animate-pulse"}),s.jsx("div",{className:"absolute -bottom-4 -left-4 w-24 h-24 bg-purple-400 rounded-full blur-3xl opacity-40 animate-pulse",style:{animationDelay:"1s"}})]})]})})}),s.jsx("section",{className:"py-16 lg:py-24 bg-gray-50",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-6 text-center",children:"About CVSift"}),s.jsxs("div",{className:"prose prose-lg max-w-none text-gray-600 space-y-4",children:[s.jsx("p",{children:"CVSift is an AI-powered CV screening platform that helps recruitment teams process and filter thousands of CVs in minutes. Built with cutting-edge artificial intelligence technology, we make hiring faster, smarter, and more efficient."}),s.jsx("p",{children:"Our mission is to transform the recruitment process by eliminating the tedious manual work of CV screening, allowing HR professionals to focus on what truly matters: connecting with the right candidates and building exceptional teams."}),s.jsxs("p",{children:["Powered by Claude AI and developed by ",s.jsx("a",{href:"https://www.automore.co.za",target:"_blank",rel:"noopener noreferrer",className:"text-orange-600 hover:text-orange-700 font-semibold",children:"Automore"}),", CVSift combines advanced natural language processing with an intuitive interface to deliver unmatched accuracy and speed in CV processing."]})]})]})})]})}function Wve(){const t=ni(),{showToast:e}=cd(),[r,n]=V.useState({name:"",email:"",subject:"",message:""}),[i,a]=V.useState(!1),[l,c]=V.useState(!1),d=f=>{n({...r,[f.target.name]:f.target.value})},h=async f=>{f.preventDefault(),a(!0);try{if((await fetch("https://hook.us2.make.com/7ntnvcdc8h6x1mtoo4ttjerp82lj2fyy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).ok)c(!0),e("Message sent successfully! We'll get back to you soon.","success"),n({name:"",email:"",subject:"",message:""});else throw new Error("Failed to send message")}catch(p){console.error("Error submitting form:",p),e("Failed to send message. Please try again or email us directly.","error")}finally{a(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[s.jsx("nav",{className:"bg-white shadow-sm",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("button",{onClick:()=>t("/"),className:"flex items-center space-x-2 text-gray-600 hover:text-orange-600 transition-colors",children:[s.jsx(po,{size:20}),s.jsx("span",{className:"font-medium",children:"Back to Home"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"CV"})}),s.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Sift"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl lg:text-5xl font-bold mb-4",children:["Get in ",s.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-orange-500",children:"Touch"})]}),s.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Have a question or need help? We're here to assist you. Send us a message and we'll respond as soon as possible."})]}),s.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center mb-4",children:s.jsx(ac,{className:"text-orange-600",size:24})}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Email Us"}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Our team is here to help"}),s.jsx("a",{href:"mailto:emma@automore.co.za",className:"text-orange-600 hover:text-orange-700 font-semibold",children:"emma@automore.co.za"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center mb-4",children:s.jsx(ib,{className:"text-blue-600",size:24})}),s.jsx("h3",{className:"text-lg font-bold mb-2",children:"Visit Us"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Pretoria, South Africa"})]})]}),s.jsx("div",{className:"lg:col-span-2",children:s.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm border border-gray-100",children:l?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Ps,{className:"text-green-600",size:32})}),s.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Message Sent!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Thank you for contacting us. We'll get back to you within 24 hours."}),s.jsx("button",{onClick:()=>c(!1),className:"bg-orange-600 hover:bg-orange-700 text-white px-6 py-3 rounded-lg font-semibold transition-colors",children:"Send Another Message"})]}):s.jsxs("form",{onSubmit:h,className:"space-y-6",children:[s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Full Name *"}),s.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:r.name,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email Address *"}),s.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:r.email,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"john@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"subject",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Subject *"}),s.jsx("input",{type:"text",id:"subject",name:"subject",required:!0,value:r.subject,onChange:d,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all",placeholder:"How can we help you?"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Message *"}),s.jsx("textarea",{id:"message",name:"message",required:!0,value:r.message,onChange:d,rows:6,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all resize-none",placeholder:"Tell us more about your inquiry..."})]}),s.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-700 hover:to-orange-600 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 flex items-center justify-center space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Sending..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(RL,{size:20}),s.jsx("span",{children:"Send Message"})]})})]})})})]})]})]})}function dl({children:t}){const{currentUser:e}=gi();return e?t:s.jsx(dj,{to:"/signin",replace:!0})}function A_({children:t}){const{currentUser:e}=gi();return e?s.jsx(dj,{to:"/dashboard",replace:!0}):t}function Gve(){return s.jsxs(wV,{children:[s.jsx(ti,{path:"/",element:s.jsx(zte,{})}),s.jsx(ti,{path:"/signup",element:s.jsx(A_,{children:s.jsx(Fte,{})})}),s.jsx(ti,{path:"/signin",element:s.jsx(A_,{children:s.jsx(Ute,{})})}),s.jsx(ti,{path:"/reset-password",element:s.jsx(A_,{children:s.jsx(Bte,{})})}),s.jsx(ti,{path:"/accept-invite",element:s.jsx(f0e,{})}),s.jsx(ti,{path:"/terms-of-service",element:s.jsx(qve,{})}),s.jsx(ti,{path:"/privacy-policy",element:s.jsx($ve,{})}),s.jsx(ti,{path:"/about",element:s.jsx(Hve,{})}),s.jsx(ti,{path:"/contact",element:s.jsx(Wve,{})}),s.jsx(ti,{path:"/dashboard",element:s.jsx(dl,{children:s.jsx(Wte,{})})}),s.jsx(ti,{path:"/upload",element:s.jsx(dl,{children:s.jsx(Xte,{})})}),s.jsx(ti,{path:"/cvs",element:s.jsx(dl,{children:s.jsx(Jte,{})})}),s.jsx(ti,{path:"/cv/:id",element:s.jsx(dl,{children:s.jsx(ere,{})})}),s.jsx(ti,{path:"/pricing",element:s.jsx(dl,{children:s.jsx(tre,{})})}),s.jsx(ti,{path:"/payment/success",element:s.jsx(dl,{children:s.jsx(rre,{})})}),s.jsx(ti,{path:"/payment/cancel",element:s.jsx(dl,{children:s.jsx(nre,{})})}),s.jsx(ti,{path:"/analytics",element:s.jsx(dl,{children:s.jsx(a0e,{})})}),s.jsx(ti,{path:"/settings",element:s.jsx(dl,{children:s.jsx(u0e,{})})}),s.jsx(ti,{path:"/job-specs",element:s.jsx(dl,{children:s.jsx(d0e,{})})}),s.jsx(ti,{path:"/chatbot",element:s.jsx(dl,{children:s.jsx(h0e,{})})}),s.jsx(ti,{path:"/master-dashboard",element:s.jsx(dl,{children:s.jsx(Vve,{})})}),s.jsx(ti,{path:"*",element:s.jsx(dj,{to:"/",replace:!0})})]})}function Yve(){return s.jsx(HV,{children:s.jsx(HJ,{children:s.jsx(Dte,{children:s.jsx(Gve,{})})})})}class Kve extends M0.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Application Error:",e,r)}render(){return this.state.hasError?s.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100vh",fontFamily:"system-ui, -apple-system, sans-serif",padding:"2rem"},children:s.jsxs("div",{style:{textAlign:"center",maxWidth:"500px"},children:[s.jsx("h1",{style:{color:"#ff6d38",marginBottom:"1rem"},children:"Oops!"}),s.jsx("p",{style:{color:"#666",marginBottom:"1.5rem"},children:"Something went wrong. Please refresh the page to try again."}),s.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#ff6d38",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"0.5rem",cursor:"pointer",fontWeight:"600"},children:"Refresh Page"})]})}):this.props.children}}kB.createRoot(document.getElementById("root")).render(s.jsx(M0.StrictMode,{children:s.jsx(Kve,{children:s.jsx(Yve,{})})}));export{dn as _,ox as c,ru as g};
